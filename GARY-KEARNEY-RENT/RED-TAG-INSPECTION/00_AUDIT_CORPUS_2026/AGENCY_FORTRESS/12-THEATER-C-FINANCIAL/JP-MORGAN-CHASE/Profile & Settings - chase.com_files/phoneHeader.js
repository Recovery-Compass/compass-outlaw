define(["require","blue-ui/utilities/common","blue/$","common/lib/jsBridge","common/lib/ada/setFocus","blue/root","profileArea/sharedLib/genericServiceErrorEvent","profileArea/personalDetails/phone/webspec/phoneHeader","profileArea/personalDetails/phone/template/phoneHeader","profileArea/sharedLib/sharedView/template/genericErrorMessage","profileArea/sharedLib/sharedView/template/genericSuccessMessage","blue-ui/view/elements/alert","blue-ui/view/elements/accessible","blue-ui/view/elements/iconwrap","blue-ui/view/modules/dropdown","blue-ui/view/modules/styledselect","profileArea/sharedLib/sharedView/dropdownMenu/view","profileArea/sharedLib/sharedView/label","common/view/common/backNavHeader","profileArea/sharedLib/sharedView/transition/utils","profileArea/sharedLib/sharedView/transition/scrollToTop","profileArea/sharedLib/sharedView/transition/attributeInjector"],(function(e){"use strict";var r,i=e("blue-ui/utilities/common").getBreakpoint,o=e("blue/$"),a=e("common/lib/jsBridge"),s=e("common/lib/ada/setFocus");return function(){var n=this;n.init=function(){r=e("blue/root").hybrid;var i=e("profileArea/sharedLib/genericServiceErrorEvent");n.bridge=e("profileArea/personalDetails/phone/webspec/phoneHeader"),i.viewListenGeneric(n),n.bridge.on("trigger/updatePhoneHeader",(function(e){n.model.messageInfo=e.messageInfo})),n.bridge.on("trigger/setDropdownSelected",(function(e){var r=n.rtemplate.findComponent("blueStyledSelect").get("options");r.forEach((function(r,i){i===e.selectedIndex?(r.selected=!0,n.model.groupId=r.id):r.selected=!1})),n.rtemplate.findComponent("blueStyledSelect").set("options",r)})),n.bridge.on("state/focusOnPhoneHeader",n.focusOnPhoneHeader),n.bridge.on("state/setHybridPhoneHeader",n.setHybridPhoneHeader)},n.onReady=function(){r&&n.setHybridPhoneHeader(),n.onData("isContentLoading",n.focusOnCaasErrorHeader)},n.template=e("profileArea/personalDetails/phone/template/phoneHeader"),n.setHybridPhoneHeader=function(){r&&a.changeScreenTitle(n.model.phoneNumberHeader,n.context)},n.focusOnPhoneHeader=function(){var e=n.context.$(".jpui.success").find("h2");e.length?e.focus():"xs"!==i()?o("#profile-subtitle").focus():o("#back-nav-header-title").focus()},n.focusOnCaasErrorHeader=function(){!n.model.isContentLoading&&n.model.authenticationResultErrorHeader&&s.call(n,{selector:"#caasRedRiskStatusError"})},n.partials={genericErrorMessage:e("profileArea/sharedLib/sharedView/template/genericErrorMessage"),genericSuccessMessage:e("profileArea/sharedLib/sharedView/template/genericSuccessMessage")},n.views={blueAlert:e("blue-ui/view/elements/alert"),blueAccessible:e("blue-ui/view/elements/accessible"),blueIconwrap:e("blue-ui/view/elements/iconwrap"),blueDropdown:e("blue-ui/view/modules/dropdown"),blueStyledSelect:e("blue-ui/view/modules/styledselect"),dropdownMenu:e("profileArea/sharedLib/sharedView/dropdownMenu/view"),dashboardLabel:e("profileArea/sharedLib/sharedView/label"),backNavHeader:e("common/view/common/backNavHeader")};var t=e("profileArea/sharedLib/sharedView/transition/utils");n.transitions={scrollToTop:e("profileArea/sharedLib/sharedView/transition/scrollToTop"),focusAndScrollToTopOnRender:t.focusAndScrollToTopOnRender,injectAttributes:e("profileArea/sharedLib/sharedView/transition/attributeInjector")}}}));