(function(){this.Blue=this.Blue||{},this.Blue.version=this.Blue.version||{},this.Blue.buildDate=this.Blue.buildDate||{},this.Blue.buildHash=this.Blue.buildHash||{},this.Blue.version["profileArea/area"]="1.24.38",this.Blue.buildDate["profileArea/area"]="2025-11-12T17:43:13.304Z",this.Blue.buildHash["profileArea/area"]="164cd7be"}).call(this),define("profileArea/core/lib/constants.menu",[],(function(){"use strict";var e={NEGATE:function(e){return!e},NOOP:function(e){return e}};return{API_CONTEXT:{context:"dashboard_profile_menu"},FEATURE_FLAG_COMPARISON:{ANY:function(){return Array.prototype.slice.apply(arguments).reduce((function(e,t){return e||t}),!1)},ALL:function(){return Array.prototype.slice.apply(arguments).reduce((function(e,t){return e&&t}),!0)},NEGATE:function(e){return!e},NOOP:function(e){return e}},SPLITIO_FLAG_COMPARISON:e,navEntries:[{variation:"PERSONAL_DETAILS",action:"requestMyProfilePersonalDetails",items:[{privilege:"profile.personal.legalname",title:"legalNameLabel",route:{controller:"legalNameChange",action:"requestLegalNameChange"},splitIOFlag:"cxoweb_profile_legal_name_change_microapp"},{privilege:"profile.personal.customername",title:"customerNameLabel",route:{controller:"customerName",action:"requestCustomerName"}},{privilege:"profile.personal.mailingaddress",title:"myAddressDetailsLabel",route:{controller:"mailingAddressDetails",action:"selectMyMailingAddressDetails"},isDefaultItem:!0,isReadOnlyEnabled:!1,isECDDisabled:!0},{privilege:"profile.personal.phone",title:"myPhoneDetailsLabel",route:{controller:"phone",action:"selectMyPhoneDetails"},isReadOnlyEnabled:!1,isECDDisabled:!0},{privilege:"profile.personal.email",title:"myEmailDetailsLabel",route:{controller:"email",action:"selectMyEmailDetails"},isReadOnlyEnabled:!1,isECDDisabled:!0},{privilege:"profile.personal.incomecapture",title:"updateMyIncomeLabel",route:{controller:"incomeCaptureContainer",action:"updateMyIncome"}},{tileVariation:"PRIVACY",privilege:"profile.personal.privacypreferences",title:"myPrivacyPreferencesLabel",route:{controller:"privacyPreferences",action:"requestPrivacyPreferences"}},{privilege:"profile.email.preferences",title:"emailMarketingPreferencesLabel",route:{controller:"emailMarketingPreferences",action:"requestEmailMarketingPreferences"}},{privilege:"profile.email.preferences",title:"phoneMarketingPreferencesLabel",route:{controller:"phoneMarketingPreferences",action:"requestPhoneMarketingPreferences"},splitIOFlag:"cxoweb_profile_marketing_phonePrefs_enrolled"},{privilege:"profile.email.preferences",title:"mailMarketingPreferencesLabel",route:{controller:"mailMarketingPreferences",action:"requestMailMarketingPreferences"},splitIOFlag:"cxoweb_profile_marketing_mailPrefs_enrolled"},{privilege:"profile.personal.preferredlanguage",title:"updateMyLanguagePreferencesLabel",route:{controller:"languagePreferences",action:"requestLanguagePreferences"},isECDDisabled:!0}]},{variation:"BUSINESS_DETAILS",action:"requestMyProfileBusinessDetails",items:[{privilege:"profile.business.revenue.capture",title:"businessRevenueLabel",route:{controller:"businessRevenueCapture",action:"updateMyBusinessRevenue"},splitIOFlag:"business_revenueCapture_enable",isDefaultItem:!0}]},{variation:"SIGN_IN_AND_SECURITY",action:"requestMyProfileSignInAndSecurity",items:[{privilege:"profile.personal.username",title:"resetUserIdLabel",route:{controller:"resetUserId",action:"resetUserId"},isDefaultItem:!0,isReadOnlyEnabled:!0},{privilege:"profile.personal.password",title:"resetPasswordLabel",route:{controller:"resetPassword",action:"resetPassword"},isReadOnlyEnabled:!0},{privilege:"profile.personal.securitycode",title:"updateSecurityCodeLabel",route:{controller:"securityCode",action:"updateSecurityCode"}}]},{variation:"ACCOUNTS",action:"requestMyProfileAccounts",items:[{tileVariation:"PAPERLESS",privilege:"profile.settings.paperless",title:"myPaperlessPreferencesLabel",route:{controller:"paperless",action:"updateMyPaperlessPreferences"},isDefaultItem:!0,isECDDisabled:!0},{name:"TRAVEL",privilege:"profile.settings.travel",title:"myTravelPreferencesLabel",route:{controller:"travelPreferences",action:"updateMyTravelPreferences"}},{privilege:"profile.accounts.showhideaccounts",title:"requestMyAccountsDisplayLabel",route:{controller:"hideAccounts",action:"requestHideAccounts"},isECDDisabled:!0},{privilege:"profile.accounts.overviewpreference",featureFlag:["enableUpdateOverviewPreference"],title:"updateOverviewPreferenceLabel",route:{controller:"overviewPreferences",action:"updateOverviewPreference"}},{privilege:"profile.accounts.setprimaryaccount",title:"updateMyPrimaryAccountLabel",route:{controller:"setPrimaryAccount",action:"requestPrimaryAccount"},isECDDisabled:!0,isReadOnlyEnabled:!1},{privilege:"profile.accounts.nicknameaccounts",title:"requestMyAccountNicknamesLabel",route:{controller:"nicknameAccounts",action:"requestMyAccountNicknames"},isECDDisabled:!0},{privilege:"profile.landingpage.manage",title:"requestUpdateHomePageLabel",route:{controller:"chooseHome",action:"requestUpdateHomePage"}},{privilege:"profile.accounts.defaultsortorder",title:"defaultSortOrderLabel",route:{controller:"defaultSortOrder",action:"requestDefaultSortOrder"}},{privilege:["profile.accounts.accountgroups","accounts.customgroup","investments.portfolio.customgroup"],title:"requestManageCustomGroupsLabel",route:{controller:"manageCustomGroups",action:"requestManageCustomGroups"}},{privilege:"profile.accounts.linking",title:"requestManageLinkedAccountsLabel",route:{controller:"accountLinking",action:"requestManageLinkedAccounts"},legacyKillSwitch:"isManageLinkedAccountsDisabled",splitIOFlag:"cxo_profileSettings_accountLinking_entryEnable"},{privilege:"profile.linkbusiness.accounts",title:"linkBusinessAccountsLabel",route:{controller:"linkBusinessAccounts",action:"requestLinkBusinessAccounts"}},{privilege:"profile.personal.service.plan",title:"updateServicePlanLabel",route:{controller:"servicePlan",action:"updateServicePlan"}},{privilege:"profile.accounts.chaseappswebsites",title:"requestChaseLinkeWebsitesLabel",route:{controller:"chaseLinkedWebsites",action:"requestChaseLinkedWebsites"},isDefaultItem:!0},{privilege:"profile.settings.atm",title:"myAtmPreferencesLabel",route:{controller:"atm",action:"requestUpdateMyAtmPreferences"},isECDDisabled:!0}]},{variation:"ALERTS",action:"requestMyProfileAlerts",items:[{privilege:"profile.alerts.choosealerts",title:"manageMyAlertsLabel",route:{controller:"chooseAlerts",action:"manageMyAlerts"},isDefaultItem:!0,isReadOnlyEnabled:!0},{privilege:"profile.alerts.alertsdelivery",title:"updateMyAlertsDeliverySettingsLabel",route:{controller:"alertsDelivery",action:"updateMyAlertsDeliverySettings"},isReadOnlyEnabled:!0,splitIOFlag:"cxo_alertsDelivery_area_move_enable",featureFlagConditional:e.NEGATE},{privilege:"profile.alerts.alertsdelivery",title:"updateMyAlertsDeliverySettingsLabel",route:{controller:"myAlertsDelivery",action:"updateMyAlertsDeliverySettings"},isReadOnlyEnabled:!0,splitIOFlag:"cxo_alertsDelivery_area_move_enable"},{privilege:"profile.alerts.alertshistory",title:"requestMyAlertsHistoryLabel",route:{controller:"alertsHistory",action:"requestMyAlertsHistory"},isReadOnlyEnabled:!0},{privilege:"profile.settings.textbanking",title:"myPhoneBankingPreferencesLabel",route:{controller:"textBanking",action:"updatePhoneBankingPreferences"},splitIOFlag:"cxo_textAlerts_area_move_enable",featureFlagConditional:e.NEGATE},{privilege:"profile.settings.textbanking",title:"myPhoneBankingPreferencesLabel",route:{controller:"textAlerts",action:"updatePhoneBankingPreferences"},splitIOFlag:"cxo_textAlerts_area_move_enable"}]},{variation:"ACCOUNT_SAFE",action:"requestMyProfileAccountSafe",items:[{privilege:"profile.accountsafe.challengeme",featureFlag:["enableTwoFactorAuthentication"],title:"requestTwoFactorAuthenticationLabel",route:{controller:"twoFactorAuthentication",action:"requestTwoFactorAuthentication"}},{privilege:"profile.accountsafe.devices",title:"requestEnrolledDevicesLabel",route:{controller:"myDevices",action:"requestEnrolledDevices"}},{privilege:"profile.accountsafe.device.history",title:"requestAccessHistoryLabel",route:{controller:"accessHistory",action:"requestAccessHistory"}}]},{variation:"INVESTMENTS",action:"requestMyProfileInvestments",items:[{privilege:"profile.investments.suitabilityoverview",title:"requestInvestmentProfileLabel",route:{controller:"suitability",action:"requestInvestmentProfile"},isDefaultItem:!0},{tileVariation:"BENEFICIARIES",privilege:"profile.investments.beneficiaries",title:"manageBeneficiariesLabel",route:{controller:"beneficiaries",action:"manageBeneficiaries"},splitIOFlag:"cxo_uswmserv_beneficiary_enabled"},{privilege:"profile.investments.estatebeneficiaries",title:"requestEstateBeneficiaryCenterLabel",route:{controller:"estateBeneficiary",action:"requestEstateBeneficiaryCenter"},splitIOFlag:"cxo_uswmserv_benecenter_enabled"},{tileVariation:"TRUSTED_CONTACT",privilege:"profile.investments.tcp",title:"requestTrustedContactLabel",route:{controller:"trustedContact",action:"requestTrustedContact"},splitIOFlag:"cxo_uswmserv_tcp_jpo_enabled"},{privilege:"profile.investments.employmentstatus",splitIOFlag:"cxoweb_profile_investments_empStatus_enrolled",title:"requestEmploymentInformationLabel",route:{controller:"employmentStatus",action:"requestEmploymentStatus"}},{privilege:"profile.investments.drip",title:"requestMyInvestmentDistributionSettingsLabel",route:{controller:"dividendsAndCapitalGains",action:"requestMyInvestmentDistributionSettings"}},{privilege:"profile.investments.intradaypricingpreference",title:"setReportingTimeframeLabel",route:{controller:"setDefaultReportingTimeFrame",action:"requestUpdateReportingTimeframe"}},{privilege:"profile.investments.optionsapplication",title:"requestOptionsApplicationLabel",route:{controller:"optionsApplication",action:"requestOptionsApplication"}},{privilege:"profile.investments.marginapplication",title:"requestMarginApplicationLabel",route:{controller:"marginApplication",action:"requestMarginApplication"}},{privilege:"profile.investments.fplapplication",title:"requestFullyPaidLendingLabel",route:{controller:"fullyPaidLending",action:"requestFullyPaidLending"},splitIOFlag:"cxo_profile_fullyPaidLending"}]},{variation:"PAYMENTS",action:"requestMyProfilePayments",items:[{tileVariation:"CHASE_PAY",privilege:"profile.chasepay",title:"myChasepayPreferencesLabel",requiresExactRouteMatch:!0,route:{controller:"accountPreferences",action:"updateMyChasepayPreferences"},isDefaultItem:!0},{privilege:"profile.settings.manage.limits",title:"manageTransactionLimitsLabel",route:{controller:"transactionLimits",action:"manageTransactionLimits"}},{privilege:"profile.settings.manage.billdotcom",title:"requestBillingPartnerServicesLabel",route:{controller:"subscriptions",action:"requestBillingPartnerServices"}},{privilege:"profile.settings.atmpinupdate",title:"requestUpdateAtmPinLabel",route:{controller:"pinChange",action:"requestUpdateAtmPin"},legacyKillSwitch:"isPinChangeDisabled"}]},{variation:"MERCHANT_SERVICES",action:"requestMerchantServicesLocationDetails",items:[{privilege:"profile.merchantservices.locationdetail",featureFlag:["msLocationDetailsEnabled"],title:"requestMerchantServicesLocationDetailsLabel",route:{controller:"locationDetails",action:"requestMerchantServicesLocationDetails"}}]},{variation:"ACCESS_IDENTITY_LINKING",action:"requestAccessIdentityLinking",items:[{privilege:"profile.access.identitylinking",title:"requestAccessIdentityLinkingLabel",featureFlag:["idLinkingEligibility"],enabled:!0,route:{controller:"accessIdentityLinking",action:"index",area:"cbCashPositions"}}]}]}})),define("profileArea/registry",{area:{imports:{communicationsHub:"communicationsHub",alertSubscriptions:"alertSubscriptions",oneTimePassword:"oneTimePassword",paperlessPreferences:"paperlessPreferences",incomeCapture:"incomeCapture",investmentDisclosures:"investmentDisclosures",emailMarketingPreferences:"emailMarketingPreferences"},controllers:{profileContainer:{viewPath:{prefix:"profileArea/core/views/"},module:"profileArea/core/controllers/container",immediate:!0,components:{container:{model:"container",spec:"bluespec/my_profile_container",module:"profileArea/core/components/container"},menu:{model:"menu",spec:"bluespec/my_profile_menu",module:"profileArea/core/components/menu"},updateConfirmation:{module:"profileArea/sharedLib/sharedComponent/updateConfirmation",spec:"bluespec/update_confirmation",model:"updateConfirmation"}}},overview:{viewPath:{prefix:"profileArea/overview/views/"},module:"profileArea/overview/controllers/overview",immediate:!0,components:{overview:{module:"profileArea/overview/components/overview",spec:"bluespec/my_profile_overview"}}},email:{viewPath:{prefix:"profileArea/personalDetails/email/views/"},immediate:!0,module:"profileArea/personalDetails/email/controllers/email",components:{email:{module:"profileArea/personalDetails/email/components/email",spec:"profileArea/personalDetails/email/spec/emailSpec",model:"emailComponent"},emailHeader:{module:"profileArea/personalDetails/email/components/emailHeader",spec:"profileArea/personalDetails/email/spec/emailHeaderSpec",model:"emailHeaderComponent"},addOnlineSecurityServiceConfirmation:{module:"profileArea/personalDetails/email/components/addOnlineSecurityServiceConfirmation",spec:"bluespec/add_online_security_confirmation",model:"addOnlineSecurityServiceConfirmationComponent"},removeServiceFromEmailAddressConfirmation:{module:"profileArea/personalDetails/email/components/removeServiceFromEmailAddressConfirmation",spec:"bluespec/remove_service_from_email_address_confirmation",model:"removeServiceFromEmailAddressConfirmationComponent"},emailUpdateConfirmation:{module:"profileArea/personalDetails/email/components/emailUpdateConfirmation",spec:"bluespec/update_email_address_confirmation",model:"emailUpdateConfirmationComponent"},emailDeleteConfirmation:{module:"profileArea/personalDetails/email/components/emailDeleteConfirmation",spec:"bluespec/delete_email_address_confirmation",model:"emailDeleteConfirmationComponent"},verifyQuickpayConfirmation:{module:"profileArea/personalDetails/email/components/verifyQuickpayConfirmationForEmail",spec:"bluespec/verify_quickpay_confirmation",model:"verifyQuickpayConfirmationComponent"},addQuickpayConfirmation:{module:"profileArea/personalDetails/email/components/addQuickpayConfirmation",spec:"bluespec/add_quickpay_confirmation",model:"addQuickpayConfirmationComponent"},phoneHeader:{module:"profileArea/personalDetails/phone/component/phoneHeader",spec:"profileArea/personalDetails/phone/spec/phoneHeader",model:"PhoneHeaderComponent"}}},oneTimePassword:{block:"oneTimePassword"},paperlessPreferences:{block:"paperlessPreferences"},incomeCapture:{block:"incomeCapture"},phone:{viewPath:{prefix:"profileArea/personalDetails/phone/view/"},immediate:!0,module:"profileArea/personalDetails/phone/controller/phone",components:{phone:{module:"profileArea/personalDetails/phone/component/phone",spec:"profileArea/personalDetails/phone/spec/phone"},PHONE_CAAS:{module:"profileArea/personalDetails/phone/component/phoneCaas",spec:"profileArea/personalDetails/phone/spec/phone"},PHONE_HEADER:{module:"profileArea/personalDetails/phone/component/phoneHeader",spec:"profileArea/personalDetails/phone/spec/phoneHeader"},DELETE_PHONE:{module:"profileArea/personalDetails/phone/component/deletePhone",spec:"bluespec/delete_phone_number_confirmation"},PHONE_TCPA:{module:"profileArea/personalDetails/phone/component/phoneTcpa",spec:"profileArea/personalDetails/phone/spec/phoneTcpa"},PHONE_TCPA_CONFIRMATION:{module:"profileArea/personalDetails/phone/component/phoneTcpaConfirmation",spec:"bluespec/update_phone_usage_preference_confirmation"},ENROLL_CONFIRMATION:{module:"profileArea/personalDetails/phone/component/phoneEnrollConfirmation",spec:"bluespec/enroll_confirmation"},ADD_ONLINE_SECURITY_CONFIRMATION:{module:"profileArea/personalDetails/phone/component/addOnlineSecurityServiceConfirmation",spec:"bluespec/add_online_security_confirmation"},REMOVE_SERVICE_FROM_PHONE:{module:"profileArea/personalDetails/phone/component/removeServiceFromPhone",spec:"bluespec/remove_service_from_phone_number_confirmation"},BROKERAGE_ACCOUNTS_PHONE_NUMBER:{module:"profileArea/personalDetails/phone/component/brokerageAccountsPhoneNumber",spec:"profileArea/personalDetails/phone/spec/brokerageAccountsPhoneNumber"},VERIFY_QUICKPAY_CONFIRMATION:{module:"profileArea/personalDetails/phone/component/verifyQuickpayConfirmationForPhone",spec:"bluespec/add_quickpay_confirmation"},ADD_QUICKPAY_CONFIRMATION:{module:"profileArea/personalDetails/phone/component/addQuickpayConfirmationForPhone",spec:"bluespec/add_quickpay_confirmation"}}},mailingAddressDetails:{viewPath:{prefix:"profileArea/personalDetails/mailingAddress/view/"},module:"profileArea/personalDetails/mailingAddress/controller/mailingAddress",components:{mailingAddress:{spec:"profileArea/personalDetails/mailingAddress/spec/mailingAddressSpec",module:"profileArea/personalDetails/mailingAddress/component/mailingAddress",model:"mailingAddressComponent",modelCleanup:!0},mailingAddressHeader:{spec:"profileArea/personalDetails/mailingAddress/spec/mailingAddressHeaderSpec",module:"profileArea/personalDetails/mailingAddress/component/mailingAddressHeader",model:"mailingAddressHeaderComponent"},mailingAddressDeleteConfirmation:{spec:"bluespec/my_profile_address_delete_confirmation",module:"profileArea/personalDetails/mailingAddress/component/mailingAddressDeleteConfirmation",model:"mailingAddressDeleteConfirmationComponent"},mailingAddressAdditionVerification:{spec:"bluespec/my_profile_address_addition_verification",module:"profileArea/personalDetails/mailingAddress/component/mailingAddressAdditionVerification",model:"mailingAddressAdditionVerificationComponent"},mailingAddressBrokerageAccountsView:{spec:"bluespec/my_profile_brokerage_accounts",module:"profileArea/personalDetails/mailingAddress/component/mailingAddressBrokerageAccounts",model:"mailingAddressBrokerageAccountsViewComponent"},mailingAddressUpdateView:{spec:"profileArea/personalDetails/mailingAddress/spec/mailingAddressUpdateSpec",module:"profileArea/personalDetails/mailingAddress/component/mailingAddressUpdate",model:"mailingAddressUpdateViewComponent"}}},privacyPreferences:{viewPath:{prefix:"profileArea/personalDetails/privacyPreferences/view/"},module:"profileArea/personalDetails/privacyPreferences/controller/privacyPreferences",components:{privacyPreferences:{module:"profileArea/personalDetails/privacyPreferences/component/privacyPreferences",spec:"bluespec/my_profile_privacy_preferences",model:"privacyPreferences"}}},languagePreferences:{viewPath:{prefix:"profileArea/personalDetails/languagePreferences/view/"},module:"profileArea/personalDetails/languagePreferences/controller/languagePreferences",components:{languagePreferences:{module:"profileArea/personalDetails/languagePreferences/component/languagePreferences",spec:"bluespec/update_my_language_preferences",model:"languagePreferences"}}},emailMarketingPreferences:{viewPath:{prefix:"profileArea/personalDetails/emailMarketingPreferences/views/"},module:"profileArea/personalDetails/emailMarketingPreferences/controllers/emailMarketingPreferences",components:{emailMarketingPreferences:{module:"profileArea/personalDetails/emailMarketingPreferences/components/emailMarketingPreferences",spec:"bluespec/email_marketing_preferences",model:"emailMarketingPreferences"}}},phoneMarketingPreferences:{viewPath:{prefix:"profileArea/personalDetails/phoneMarketingPreferences/view/"},module:"profileArea/personalDetails/phoneMarketingPreferences/controller/phoneMarketingPreferences",immediate:!0,components:{phoneMarketingPreferences:{module:"profileArea/personalDetails/phoneMarketingPreferences/component/phoneMarketingPreferences",spec:"profileArea/personalDetails/phoneMarketingPreferences/webspecs/phoneMarketingPreferences"}}},eDocsFrame:{viewPath:{prefix:"profileArea/personalDetails/customerName/view/"},module:"profileArea/personalDetails/customerName/controller/eDocsFrame",components:{eDocsFrame:{spec:"profileArea/personalDetails/customerName/spec/eDocsFrame",module:"profileArea/personalDetails/customerName/component/eDocsFrame"}},immediate:!0},legalNameChange:{viewPath:{prefix:"profileArea/personalDetails/legalNameChange/view/"},module:"profileArea/personalDetails/legalNameChange/controller/legalNameChange",components:{legalNameChange:{spec:"bluespec/legal_name_change",module:"profileArea/personalDetails/legalNameChange/component/legalNameChange",model:"legalNameChange"}}},customerName:{viewPath:{prefix:"profileArea/personalDetails/customerName/view/"},module:"profileArea/personalDetails/customerName/controller/customerName",components:{customerName:{spec:"bluespec/legal_name_change",module:"profileArea/personalDetails/customerName/component/customerName",model:"customerName"},legalNameChangeFileUpload:{spec:"bluespec/legal_name_change_file_upload",model:"legalNameChangeFileUpload",module:"profileArea/personalDetails/customerName/component/eDocs/legalNameChangeFileUpload"},legalNameChangeVerify:{spec:"bluespec/legal_name_change_verify",model:"legalNameChangeVerify",module:"profileArea/personalDetails/customerName/component/eDocs/legalNameChangeVerify"},legalNameChangeFormW9:{spec:"bluespec/legal_name_change_form_w_nine",model:"legalNameChangeFormW9",module:"profileArea/personalDetails/customerName/component/eDocs/legalNameChangeFormW9"},legalNameChangeTaxpayer:{spec:"bluespec/legal_name_change_taxpayer",model:"legalNameChangeTaxpayer",module:"profileArea/personalDetails/customerName/component/eDocs/legalNameChangeTaxpayer"},legalNameChangeReview:{spec:"bluespec/legal_name_change_review",model:"legalNameChangeReview",module:"profileArea/personalDetails/customerName/component/eDocs/legalNameChangeReview"},legalNameChangeSignW9:{spec:"bluespec/legal_name_change_review",model:"legalNameChangeSignW9",module:"profileArea/personalDetails/customerName/component/eDocs/legalNameChangeSignW9"},legalNameChangeConfirmation:{spec:"bluespec/legal_name_change_confirmation",model:"legalNameChangeConfirmation",module:"profileArea/personalDetails/customerName/component/eDocs/legalNameChangeConfirmation"}}},defaultSortOrder:{viewPath:{prefix:"profileArea/accountSettings/defaultSortOrder/views/"},module:"profileArea/accountSettings/defaultSortOrder/controllers/defaultSortOrder",components:{defaultSortOrder:{module:"profileArea/accountSettings/defaultSortOrder/components/defaultSortOrder",spec:"bluespec/default_sort_order",model:"defaultSortOrder"}}},hideAccounts:{viewPath:{prefix:"profileArea/accountSettings/hideAccounts/views/"},module:"profileArea/accountSettings/hideAccounts/controllers/hideAccounts",components:{hideAccounts:{module:"profileArea/accountSettings/hideAccounts/components/hideAccounts",spec:"profileArea/accountSettings/hideAccounts/spec/hideAccounts",model:"hideAccounts"},hideAllAccountsConfirmation:{module:"profileArea/accountSettings/hideAccounts/components/hideAllAccountsConfirmation",spec:"bluespec/hide_all_accounts_confirmation"}}},nicknameAccounts:{viewPath:{prefix:"profileArea/accountSettings/nicknameAccounts/views/"},module:"profileArea/accountSettings/nicknameAccounts/controllers/nicknameAccounts",components:{nicknameAccounts:{module:"profileArea/accountSettings/nicknameAccounts/components/nicknameAccounts",spec:"profileArea/accountSettings/nicknameAccounts/spec/nicknameAccounts",model:"nicknameAccounts"}}},accountLinking:{viewPath:{prefix:"profileArea/accountSettings/accountLinking/views/"},module:"profileArea/accountSettings/accountLinking/controllers/accountLinking",components:{accountLinkingComponent:{module:"profileArea/accountSettings/accountLinking/components/accountLinking",spec:"bluespec/manage_linked_accounts",model:"manageAccountLinking"},otpOverlayComponent:{module:"profileArea/accountSettings/accountLinking/components/otpOverlay",spec:"profileArea/accountSettings/accountLinking/spec/otpOverlaySpec",model:"otpOverlay"}}},linkBusinessAccounts:{viewPath:{prefix:"profileArea/accountSettings/linkBusinessAccounts/views/"},module:"profileArea/accountSettings/linkBusinessAccounts/controllers/linkBusinessAccounts",components:{linkBusinessAccounts:{module:"profileArea/accountSettings/linkBusinessAccounts/components/linkBusinessAccounts",spec:"bluespec/link_business_accounts",model:"linkBusinessAccounts"}}},setPrimaryAccount:{viewPath:{prefix:"profileArea/accountSettings/setPrimaryAccount/views/"},module:"profileArea/accountSettings/setPrimaryAccount/controllers/setPrimaryAccount",components:{setPrimaryAccount:{module:"profileArea/accountSettings/setPrimaryAccount/components/setPrimaryAccount",spec:"profileArea/accountSettings/setPrimaryAccount/specs/setPrimaryAccount",model:"setPrimaryAccount"}}},manageCustomGroups:{viewPath:{prefix:"profileArea/accountSettings/manageCustomGroups/views/"},module:"profileArea/accountSettings/manageCustomGroups/controllers/manageCustomGroups",components:{customGroupSelection:{module:"profileArea/accountSettings/manageCustomGroups/components/customGroupSelection",spec:"profileArea/accountSettings/manageCustomGroups/spec/selectCustomAccountsGroup"},manageCustomGroupAccounts:{module:"profileArea/accountSettings/manageCustomGroups/components/manageCustomGroupAccounts",spec:"profileArea/accountSettings/manageCustomGroups/spec/createCustomAccountsGroup"}}},alertsHistory:{viewPath:{prefix:"profileArea/alerts/alertsHistory/views/"},module:"profileArea/alerts/alertsHistory/controllers/alertsHistory",components:{alertsHistoryComponent:{module:"profileArea/alerts/alertsHistory/components/alertsHistoryComponent",spec:"bluespec/my_alerts_history_header",model:"alertGroups"}}},profileAlertsHistory:{module:"profileArea/alerts/profileAlertsHistory/controllers/alertsHistory",viewPath:{prefix:"profileArea/alerts/profileAlertsHistory/views/"},components:{alertsHistoryHeaderComponent:{module:"profileArea/alerts/profileAlertsHistory/components/alertsHistoryHeader",spec:"bluespec/my_alerts_history_header",model:"alertsHistoryHeaderComponent"},alertsHistoryComponent:{module:"profileArea/alerts/profileAlertsHistory/components/alertsHistory",spec:"bluespec/my_alerts_history",model:"alertsHistoryComponent"}}},chooseAlerts:{viewPath:{prefix:"profileArea/alerts/chooseAlerts/views/"},module:"profileArea/alerts/chooseAlerts/controllers/chooseAlerts",components:{chooseAlertsComponent:{module:"profileArea/alerts/chooseAlerts/components/chooseAlertsComponent",spec:"bluespec/manage_my_alerts_subscription",model:"alertGroups"}}},myAlertsDelivery:{viewPath:{prefix:"profileArea/alerts/myAlertsDelivery/views/"},module:"profileArea/alerts/myAlertsDelivery/controllers/myAlertsDelivery",components:{myAlertsDeliveryHeaderComponent:{module:"profileArea/alerts/myAlertsDelivery/components/myAlertsDeliveryHeader",spec:"profileArea/alerts/alertsDelivery/spec/alertsDeliveryHeaderSpec",model:"myAlertsDeliveryHeaderComponent"}}},textAlerts:{viewPath:{prefix:"profileArea/alerts/textAlerts/views/"},module:"profileArea/alerts/textAlerts/controllers/textAlerts",components:{textAlertsComponent:{module:"profileArea/alerts/textAlerts/components/textAlertsComponent",spec:"profileArea/alerts/textBanking/spec/textBanking",model:"textAlertsComponent"}}},alertsDelivery:{viewPath:{prefix:"profileArea/alerts/alertsDelivery/views/"},module:"profileArea/alerts/alertsDelivery/controllers/alertsDelivery",components:{alertsDeliveryContainerComponent:{module:"profileArea/alerts/alertsDelivery/components/alertsDeliveryContainer",spec:"@bluespec/cxo/dist/spec/layout",model:"alertsDeliveryContainerComponent"},alertsDeliveryHeaderComponent:{module:"profileArea/alerts/alertsDelivery/components/alertsDeliveryHeader",spec:"profileArea/alerts/alertsDelivery/spec/alertsDeliveryHeaderSpec",model:"alertsDeliveryHeaderComponent"},alertsDeliveryComponent:{module:"profileArea/alerts/alertsDelivery/components/alertsDelivery",spec:"bluespec/my_alerts_delivery",model:"alertsDeliveryComponent"},alertsDeliveryEditEmailComponent:{module:"profileArea/alerts/alertsDelivery/components/alertsDeliveryManageEmail",spec:"bluespec/manage_email_alerts_delivery",model:"alertsDeliveryEditEmailComponent"},alertsDeliveryManageEmailComponent:{module:"profileArea/alerts/alertsDelivery/components/alertsDeliveryManageEmail",spec:"bluespec/manage_email_alerts_delivery",model:"alertsDeliveryManageEmailComponent"},alertsDeliveryManagePushComponent:{module:"profileArea/alerts/alertsDelivery/components/alertsDeliveryManagePush",spec:"bluespec/update_push_alerts_delivery",model:"alertsDeliveryManagePushComponent"},alertsDeliveryManagePhoneComponent:{module:"profileArea/alerts/alertsDelivery/components/alertsDeliveryManagePhone",spec:"bluespec/update_phone_alerts_delivery",model:"alertsDeliveryManagePhoneComponent"},alertsDeliveryDeleteProfileComponent:{module:"profileArea/alerts/alertsDelivery/components/alertsDeliveryDeleteProfile",spec:"bluespec/delete_my_alerts_delivery_confirmation",model:"alertsDeliveryDeleteProfileComponent"},alertsDeliveryEditPrimaryEmailComponent:{module:"profileArea/alerts/alertsDelivery/components/updatePrimaryEmail",spec:"bluespec/update_primary_email_address_confirmation",model:"alertsDeliveryEditPrimaryEmailComponent"},communicationsMaintenance:{module:"profileArea/alerts/alertsDelivery/components/communicationsMaintenance",spec:"bluespec/communications_maintenance",model:"communicationsMaintenance"}}},customGroups:{viewPath:{prefix:"profileArea/accountSettings/customGroups/views/"},module:"profileArea/accountSettings/customGroups/controllers/customGroups",components:{customGroups:{module:"profileArea/accountSettings/customGroups/components/customGroups",spec:"bluespec/account_custom_groups",model:"customGroups"},customGroupDetails:{module:"profileArea/accountSettings/customGroups/components/customGroups",spec:"bluespec/account_custom_groups",model:"customGroupDetails"},defaultGroupSelection:{module:"profileArea/accountSettings/customGroups/components/customGroups",spec:"bluespec/account_custom_groups",model:"defaultGroupSelection"},addGroups:{module:"profileArea/accountSettings/customGroups/components/customGroups",spec:"bluespec/account_custom_groups",model:"addGroups"},orderGroups:{module:"profileArea/accountSettings/customGroups/components/customGroups",spec:"bluespec/account_custom_groups",model:"orderGroups"},confirmPage:{module:"profileArea/accountSettings/customGroups/components/customGroups",spec:"bluespec/account_custom_groups",model:"confirmPage"},editGroups:{module:"profileArea/accountSettings/customGroups/components/customGroups",spec:"bluespec/account_custom_groups",model:"editGroups"}}},textBanking:{viewPath:{prefix:"profileArea/alerts/textBanking/views/"},module:"profileArea/alerts/textBanking/controllers/textBanking",components:{textBanking:{module:"profileArea/alerts/textBanking/components/textBanking",spec:"profileArea/alerts/textBanking/spec/textBanking",model:"textBanking"},deleteConfirmation:{module:"profileArea/alerts/textBanking/components/manageDeleteOverlay",spec:"bluespec/delete_confirmation",model:"deleteConfirmation"}}},resetUserId:{viewPath:{prefix:"profileArea/signInSecurity/resetUserId/views/"},module:"profileArea/signInSecurity/resetUserId/controllers/resetUserId",components:{resetUserId:{module:"profileArea/signInSecurity/resetUserId/components/resetUserId",spec:"bluespec/update_my_user_id",model:"resetUserId"}}},resetPassword:{viewPath:{prefix:"profileArea/signInSecurity/resetPassword/views/"},module:"profileArea/signInSecurity/resetPassword/controllers/resetPassword",components:{resetPassword:{module:"profileArea/signInSecurity/resetPassword/components/resetPassword",spec:"bluespec/update_my_password",model:"resetPassword"}}},servicePlan:{viewPath:{prefix:"profileArea/accountSettings/servicePlan/views/"},module:"profileArea/accountSettings/servicePlan/controllers/servicePlan",components:{servicePlanComponent:{module:"profileArea/accountSettings/servicePlan/components/servicePlan",spec:"bluespec/update_service_plan",model:"servicePlanComponent"},servicePlanCTLOnlyComponent:{module:"profileArea/accountSettings/servicePlan/components/servicePlanCTLOnly",spec:"bluespec/update_service_plan",model:"servicePlanCTLOnlyComponent"},ctlServicePlanComponent:{module:"profileArea/accountSettings/servicePlan/components/ctlServicePlan",spec:"bluespec/enrollment_service_plan",model:"ctlServicePlanComponent"},upgradePlanComponent:{module:"profileArea/accountSettings/servicePlan/components/upgradePlan",spec:"bluespec/enrollment_service_plan",model:"upgradePlanComponent"}}},paperless:{viewPath:{prefix:"profileArea/accountSettings/paperless/views/"},module:"profileArea/accountSettings/paperless/controllers/paperless",components:{paperless:{module:"profileArea/accountSettings/paperless/components/paperless",spec:"bluespec/my_paperless_preferences",model:"paperless"}}},securityCode:{viewPath:{prefix:"profileArea/signInSecurity/securityCode/views/"},module:"profileArea/signInSecurity/securityCode/controllers/securityCode",components:{securityCode:{module:"profileArea/signInSecurity/securityCode/components/securityCode",spec:"bluespec/update_security_code",model:"securityCodeComponent"}}},transactionLimits:{viewPath:{prefix:"profileArea/paymentPreferences/manageTransactionLimits/views/"},module:"profileArea/paymentPreferences/manageTransactionLimits/controllers/transactionLimits"},subscriptions:{viewPath:{prefix:"profileArea/paymentPreferences/cashflowSettings/views/"},module:"profileArea/paymentPreferences/cashflowSettings/controllers/cashflowSettings",components:{cashflowSettingsContainerComponent:{spec:"profileArea/paymentPreferences/cashflowSettings/spec/cashflow_settings",module:"profileArea/paymentPreferences/cashflowSettings/components/cashflowSettingsContainer",model:"cashflowSettingsContainerComponent"},cashflowSettingsComponent:{spec:"profileArea/paymentPreferences/cashflowSettings/spec/cashflow_settings",module:"profileArea/paymentPreferences/cashflowSettings/components/cashflowSettings",model:"cashflowSettings"},cashflowPackageUpgradeVerificationOverlayComponent:{spec:"bluespec/request_confirmation",module:"profileArea/paymentPreferences/cashflowSettings/components/cashflowPackageUpgradeConfirmation",model:"cashflowPackageUpgradeVerificationOverlayComponent"},cashflowSettingsVerificationOverlayComponent:{spec:"profileArea/paymentPreferences/cashflowSettings/spec/cashflow_settings",module:"profileArea/paymentPreferences/cashflowSettings/components/cashflowSettingsVerification",model:"cashflowSettingsVerificationOverlayComponent"},cashflowPackageOverlayComponent:{spec:"bluespec/cashflow_enrollment_offers",module:"profileArea/paymentPreferences/cashflowSettings/components/cashflowPackageOverlay",model:"cashflowPackageOverlayComponent"},cashflowSettingsUnenrollProfileConfirmationOverlayComponent:{spec:"profileArea/paymentPreferences/cashflowSettings/spec/cashflow_settings",module:"profileArea/paymentPreferences/cashflowSettings/components/cashflowOffBoardProfile",model:"cashflowSettingsUnenrollProfileConfirmationOverlayComponent"},genericOverlay:{spec:"profileArea/paymentPreferences/cashflowSettings/spec/genericOverlay",module:"profileArea/paymentPreferences/cashflowSettings/components/genericOverlay",model:"genericOverlay"},cashflowSettingsUnenrollProfileResultsOverlayComponent:{spec:"profileArea/paymentPreferences/cashflowSettings/spec/cashflow_settings",module:"profileArea/paymentPreferences/cashflowSettings/components/cashflowOffBoardProfileResults",model:"cashflowSettingsUnenrollProfileResultsOverlayComponent"}}},atm:{viewPath:{prefix:"profileArea/paymentPreferences/atm/views/"},module:"profileArea/paymentPreferences/atm/controllers/atm",components:{atm:{module:"profileArea/paymentPreferences/atm/components/atm",spec:"profileArea/paymentPreferences/atm/spec/atm",model:"atm"}}},pinChange:{viewPath:{prefix:"profileArea/paymentPreferences/pinChange/views/"},module:"profileArea/paymentPreferences/pinChange/controllers/pinChange",components:{pinChange:{module:"profileArea/paymentPreferences/pinChange/components/pinChange",spec:"profileArea/paymentPreferences/pinChange/spec/pinChangeSpec",model:"pinChange"}}},businessRevenueCapture:{module:"profileArea/businessDetails/businessRevenueCapture/controllers/businessRevenueCapture",components:{businessRevenueCapture:{module:"profileArea/businessDetails/businessRevenueCapture/components/businessRevenueCapture",spec:"bluespec/business_revenue"}}},myIncomeCapture:{viewPath:{prefix:"profileArea/personalDetails/incomeCapture/views/"},module:"profileArea/personalDetails/incomeCapture/controllers/myIncomeCapture",components:{myIncomeCapture:{module:"profileArea/personalDetails/incomeCapture/components/myIncomeCapture",spec:"profileArea/personalDetails/incomeCapture/spec/myIncomeCapture",model:"myIncomeCapture"}}},incomeCaptureContainer:{viewPath:{prefix:"profileArea/personalDetails/incomeCapture/views/"},module:"profileArea/personalDetails/incomeCapture/controllers/incomeCaptureContainer",components:{incomeCapture:{module:"profileArea/personalDetails/incomeCapture/components/incomeCapture",spec:"blue-spec-shared/income_capture",model:"incomeCapture"}}},trustedContact:{viewPath:{prefix:"profileArea/investments/trustedContact/views/"},module:"profileArea/investments/trustedContact/controllers/trustedContact",components:{trustedContact:{module:"profileArea/investments/trustedContact/components/trustedContact",spec:"bluespec/trusted_contact"},mailingVerification:{module:"profileArea/investments/trustedContact/components/trustedMailingVerification",spec:"bluespec/my_profile_address_addition_verification"}}},investmentDisclosures:{block:"investmentDisclosures"},suitability:{viewPath:{prefix:"profileArea/investments/suitability/views/"},module:"profileArea/investments/suitability/controllers/areaContainer",components:{areaContainer:{module:"profileArea/investments/suitability/components/areaContainer",spec:"profileArea/investments/suitability/components/specs/areaContainerSpec",model:"areaContainer"},landingPage:{module:"profileArea/investments/suitability/components/landingPage",spec:"profileArea/investments/suitability/components/specs/landingPageSpec",model:"landingPage"}}},helpWithThis:{viewPath:{prefix:"profileArea/investments/suitability/views/"},module:"profileArea/investments/suitability/controllers/helpWithThis",components:{helpWithThis:{module:"profileArea/investments/suitability/components/helpWithThis",spec:"profileArea/investments/suitability/components/specs/areaContainerSpec",model:"helpWithThis"}},immediate:!0},workflow:{viewPath:{prefix:"profileArea/investments/suitability/views/"},module:"profileArea/investments/suitability/controllers/workflow",components:{suitabilityEditor:{module:"profileArea/investments/suitability/components/suitabilityEditor",spec:"profileArea/investments/suitability/components/specs/playbackSpec",modelCleanup:!0,model:"suitabilityEditor"},playback:{module:"profileArea/investments/suitability/components/playback",spec:"profileArea/investments/suitability/components/specs/playbackSpec",model:"playback"}},immediate:!0},dividendsAndCapitalGains:{viewPath:{prefix:"profileArea/investments/dividendsAndCapitalGains/views/"},module:"profileArea/investments/dividendsAndCapitalGains/controllers/dividendsAndCapitalGains",components:{accountDripDetails:{module:"profileArea/investments/dividendsAndCapitalGains/components/accountDripDetails",spec:"bluespec/my_investment_distribution_settings"},positionDripDetails:{module:"profileArea/investments/dividendsAndCapitalGains/components/positionDripDetails",spec:"bluespec/my_investment_distribution_settings"}}},fullyPaidLending:{viewPath:{prefix:"profileArea/investments/fullyPaidLending/views/"},module:"profileArea/investments/fullyPaidLending/controllers/fullyPaidLending",components:{fullyPaidLending:{module:"profileArea/investments/fullyPaidLending/components/fullyPaidLending",spec:"profileArea/investments/fullyPaidLending/spec/fullyPaidLending"}}},beneficiaries:{viewPath:{prefix:"profileArea/investments/beneficiaries/views/"},module:"profileArea/investments/beneficiaries/controllers/beneficiariesSummary",immediate:!0,components:{manageBeneficiaries:{module:"profileArea/investments/beneficiaries/components/beneficiariesSummary",spec:"profileArea/investments/beneficiaries/components/spec/investment_beneficiaries"},beneficiariesImportantInfo:{module:"profileArea/investments/beneficiaries/components/beneficiariesImportantInfo",spec:"profileArea/investments/beneficiaries/components/spec/investment_beneficiaries"},beneficiariesViewTable:{module:"profileArea/investments/beneficiaries/components/beneficiariesViewTable",spec:"profileArea/investments/beneficiaries/components/spec/investment_beneficiary_details"}}},employmentStatus:{viewPath:{prefix:"profileArea/investments/employmentStatus/views/"},module:"profileArea/investments/employmentStatus/controllers/employmentStatus",immediate:!0,components:{employmentStatus:{module:"profileArea/investments/employmentStatus/components/employmentStatus",spec:"profileArea/investments/employmentStatus/webspecs/employmentStatus"}}},estateBeneficiary:{viewPath:{prefix:"profileArea/investments/estateBeneficiary/views/"},module:"profileArea/investments/estateBeneficiary/controllers/estateBeneficiary",immediate:!0,components:{estateBeneficiary:{module:"profileArea/investments/estateBeneficiary/components/estateBeneficiary",spec:"profileArea/investments/estateBeneficiary/webspecs/estateBeneficiary"}}},profileBeneficiariesUpdate:{viewPath:{prefix:"profileArea/investments/beneficiaries/views/"},module:"profileArea/investments/beneficiaries/controllers/beneficiariesUpdate",immediate:!0,components:{beneficiariesUpdate:{module:"profileArea/investments/beneficiaries/components/beneficiariesUpdate",spec:"profileArea/investments/beneficiaries/components/spec/investment_beneficiaries"},beneficiariesUpdateFooter:{module:"profileArea/investments/beneficiaries/components/beneficiariesUpdateFooter",spec:"profileArea/investments/beneficiaries/components/spec/investment_beneficiaries"},beneficiariesAuthorize:{module:"profileArea/investments/beneficiaries/components/beneficiariesAuthorize",spec:"profileArea/investments/beneficiaries/components/spec/investment_beneficiaries"},beneficiariesImportantInfo:{module:"profileArea/investments/beneficiaries/components/beneficiariesImportantInfo",spec:"profileArea/investments/beneficiaries/components/spec/investment_beneficiaries"},beneficiariesUpdateTable:{module:"profileArea/investments/beneficiaries/components/beneficiariesUpdateTable",spec:"profileArea/investments/beneficiaries/components/spec/investment_beneficiary_details"},beneficiariesReview:{module:"profileArea/investments/beneficiaries/components/beneficiariesReview",spec:"profileArea/investments/beneficiaries/components/spec/investment_beneficiary_details"},beneficiariesConfirmation:{module:"profileArea/investments/beneficiaries/components/beneficiariesConfirmation",spec:"profileArea/investments/beneficiaries/components/spec/investment_beneficiary_details"},canadaAddressBlock:{block:"canadaAddress-cmpt"},domesticAddressBlock:{block:"address-cmpt"},militaryAddressBlock:{block:"militaryAddress-cmpt"},nameInformationBlock:{block:"nameInformation-cmpt"},internationalAddressBlock:{block:"internationalAddress-cmpt"},multiTypeAddressBlock:{block:"multiTypeAddress-cmpt"},addressVerificationOverlay:{block:"addressVerificationOverlay-cmpt"}}},optionsApplication:{viewPath:{prefix:"profileArea/investments/optionsApplication/views/"},module:"profileArea/investments/optionsApplication/controllers/optionsApplication",immediate:!0,components:{optionsApplication:{spec:"profileArea/investments/optionsApplication/spec/optionsApplication",module:"profileArea/investments/optionsApplication/components/optionsApplication",model:"optionsApplication",modelCleanup:!0}}},setDefaultReportingTimeFrame:{viewPath:{prefix:"profileArea/investments/reportingTimeframe/views/"},module:"profileArea/investments/reportingTimeframe/controllers/setDefaultReportingTimeFrame",components:{reportingTimeframe:{spec:"profileArea/investments/reportingTimeframe/components/specs/reporting_timeframe_enriched",module:"profileArea/investments/reportingTimeframe/components/reportingTimeframe"}}},travelPreferences:{viewPath:{prefix:"profileArea/accountSettings/travelPreferences/views/"},module:"profileArea/accountSettings/travelPreferences/controllers/travelPreferences",components:{travelPreferences:{module:"profileArea/accountSettings/travelPreferences/components/travelPreferences",spec:"bluespec/travel_notifications",model:"travelPreferences"}}},marginApplication:{viewPath:{prefix:"profileArea/investments/marginApplication/views/"},module:"profileArea/investments/marginApplication/controllers/marginApplication",immediate:!0,components:{marginApplicationContainer:{module:"profileArea/investments/marginApplication/components/marginApplicationContainer",spec:"profileArea/investments/marginApplication/spec/marginApplicationContainer",model:"marginApplicationContainer",modelCleanup:!0},marginApplicationAccountList:{module:"profileArea/investments/marginApplication/components/marginApplicationAccountList",spec:"profileArea/investments/marginApplication/spec/marginApplicationAccountList",model:"marginApplicationAccountList",modelCleanup:!0},marginApplicationForm:{module:"profileArea/investments/marginApplication/components/marginApplicationForm",spec:"profileArea/investments/marginApplication/spec/marginApplicationForm",model:"marginApplicationForm"},marginOptionsApplicationForm:{module:"profileArea/investments/marginApplication/components/marginOptionsApplicationForm",spec:"profileArea/investments/marginApplication/spec/marginApplicationForm",model:"marginOptionsApplicationForm"},marginApplicationPending:{module:"profileArea/investments/marginApplication/components/marginApplicationPending",spec:"bluespec/margin_application_form",model:"marginApplicationPending"},marginApplicationConfirmation:{module:"profileArea/investments/marginApplication/components/marginApplicationConfirmation",spec:"bluespec/margin_application_form",model:"marginApplicationConfirmation"},marginOptionsApplicationConfirmation:{module:"profileArea/investments/marginApplication/components/marginOptionsApplicationConfirmation",spec:"bluespec/margin_application_form",model:"marginOptionsApplicationConfirmation"},marginApplicationBlocker:{module:"profileArea/investments/marginApplication/components/marginApplicationBlocker",spec:"profileArea/investments/marginApplication/spec/marginApplicationForm",model:"marginApplicationBlocker",modelCleanup:!0},marginOptionsConfirmationFooter:{module:"profileArea/investments/marginApplication/components/marginOptionsConfirmationFooter",spec:"bluespec/margin_application_form",model:"marginOptionsConfirmationFooter",modelCleanup:!0}}},marginHelp:{viewPath:{prefix:"profileArea/investments/marginHelp/views/"},module:"profileArea/investments/marginHelp/controllers/marginHelp",immediate:!0,components:{marginHelp:{module:"profileArea/investments/marginHelp/components/marginHelp",spec:"profileArea/investments/marginHelp/spec/marginHelp",model:"marginHelp",modelCleanup:!0}}}},services:{menu:{module:"profileArea/core/services/menu"},hideAccounts:{module:"profileArea/accountSettings/hideAccounts/services/hideAccounts",interceptors:["common/interceptor/serverValidationStatusInterceptor","common/service/interceptor/loggedOffInterceptor","common/service/interceptor/spinner"]},defaultSortOrder:{module:"profileArea/accountSettings/defaultSortOrder/services/defaultSortOrder"},textBanking:{module:"profileArea/alerts/textBanking/services/textBanking"},nicknameAccounts:{module:"profileArea/accountSettings/nicknameAccounts/services/nicknameAccounts",interceptors:["common/interceptor/serverValidationStatusInterceptor","common/service/interceptor/loggedOffInterceptor","common/service/interceptor/spinner"]},accountLinking:{module:"profileArea/accountSettings/accountLinking/services/accountLinking",interceptors:["profileArea/sharedLib/interceptors/request","common/service/interceptor/spinner"]},linkBusinessAccounts:{module:"profileArea/accountSettings/linkBusinessAccounts/services/linkBusinessAccounts"},manageCustomGroups:{module:"profileArea/accountSettings/manageCustomGroups/services/manageCustomGroupsService",interceptors:["common/interceptor/serverValidationStatusInterceptor","common/service/interceptor/loggedOffInterceptor","common/service/interceptor/spinner"]},alertsDelivery:{module:"profileArea/alerts/alertsDelivery/services/alertsDelivery",interceptors:["common/service/interceptor/mspIntercept","blue-app/service/interceptor/status"]},alertsNotificationsHistory:{module:"profileArea/alerts/profileAlertsHistory/services/alertsNotificationsHistory",interceptors:["common/service/interceptor/mspIntercept","blue-app/service/interceptor/status"]},customGroups:{module:"profileArea/accountSettings/customGroups/services/customGroups"},privacyPreferences:{module:"profileArea/personalDetails/privacyPreferences/service/privacyPreferences",interceptors:["profileArea/sharedLib/interceptors/profileSpinnerInterceptor"]},languagePreferences:{module:"profileArea/personalDetails/languagePreferences/service/languagePreferences",interceptors:["profileArea/sharedLib/interceptors/profileSpinnerInterceptor"]},eDocsService:{module:"profileArea/personalDetails/customerName/service/eDocsService"},resetUserId:{module:"profileArea/signInSecurity/resetUserId/services/resetUserId"},resetPassword:{module:"profileArea/signInSecurity/resetPassword/services/resetPassword"},servicePlan:{module:"profileArea/accountSettings/servicePlan/services/servicePlan"},securityCode:{module:"profileArea/signInSecurity/securityCode/services/securityCode",interceptors:["profileArea/sharedLib/interceptors/request"]},phone:{module:"profileArea/personalDetails/phone/service/phone",interceptors:["profileArea/sharedLib/interceptors/profileSpinnerInterceptor","profileArea/sharedLib/interceptors/request","common/service/interceptor/loggedOffInterceptor"]},mailingAddressDetails:{module:"profileArea/personalDetails/mailingAddress/services/mailingAddress",interceptors:["profileArea/sharedLib/interceptors/request","profileArea/sharedLib/interceptors/profileSpinnerInterceptor"]},transactionLimits:{module:"profileArea/paymentPreferences/manageTransactionLimits/services/manageTransactionLimits",interceptors:["profileArea/sharedLib/interceptors/request"]},cashflowSettings:{module:"profileArea/paymentPreferences/cashflowSettings/services/cashflow",interceptors:["common/service/interceptor/loggedOffInterceptor","common/service/interceptor/spinner"]},accountService:{module:"profileArea/paymentPreferences/cashflowSettings/services/accounts",interceptors:["profileArea/sharedLib/interceptors/request","common/service/interceptor/loggedOffInterceptor","profileArea/sharedLib/interceptors/profileSpinnerInterceptor"]},activateCashflowService:{module:"profileArea/paymentPreferences/cashflowSettings/services/activateCashflow",interceptors:["profileArea/sharedLib/interceptors/request","common/service/interceptor/loggedOffInterceptor","profileArea/sharedLib/interceptors/profileSpinnerInterceptor"]},enrollmentService:{module:"profileArea/paymentPreferences/cashflowSettings/services/enrollment",interceptors:["profileArea/sharedLib/interceptors/request","common/service/interceptor/loggedOffInterceptor","profileArea/sharedLib/interceptors/profileSpinnerInterceptor"]},cashflowContent:{module:"profileArea/paymentPreferences/cashflowSettings/services/content",interceptors:["common/service/interceptor/loggedOffInterceptor"]},cashflowService:{module:"profileArea/paymentPreferences/cashflowSettings/services/cashflow",interceptors:["profileArea/sharedLib/interceptors/request","common/service/interceptor/loggedOffInterceptor","profileArea/sharedLib/interceptors/profileSpinnerInterceptor"]},getPackageEligibility:{module:"profileArea/paymentPreferences/cashflowSettings/services/packageEligibility",interceptors:["profileArea/sharedLib/interceptors/request","common/service/interceptor/loggedOffInterceptor"]},atm:{module:"profileArea/paymentPreferences/atm/service/atm",interceptors:["common/interceptor/urlInterceptor","profileArea/sharedLib/interceptors/request","common/service/interceptor/loggedOffInterceptor"]},pinChange:{module:"profileArea/paymentPreferences/pinChange/services/pinChange"},myIncomeCapture:{module:"profileArea/personalDetails/incomeCapture/services/myIncomeCapture",interceptors:["profileArea/sharedLib/interceptors/profileSpinnerInterceptor"]},email:{module:"profileArea/personalDetails/email/services/email",interceptors:["profileArea/sharedLib/interceptors/profileSpinnerInterceptor"]},emailMarketingPreferences:{module:"profileArea/personalDetails/emailMarketingPreferences/services/emailMarketingPreferences",interceptors:["profileArea/sharedLib/interceptors/profileSpinnerInterceptor"]},trustedContactPerson:{module:"profileArea/investments/trustedContact/services/trustedContact",interceptors:["common/service/interceptor/spinner","common/service/interceptor/loggedOffInterceptor","common/interceptor/request","blue-app/service/interceptor/status"]},dividendsAndCapitalGains:{module:"profileArea/investments/dividendsAndCapitalGains/services/dividendsAndCapitalGains",interceptors:["common/service/interceptor/spinner","common/service/interceptor/loggedOffInterceptor","common/interceptor/request","blue-app/service/interceptor/status"]},areaContainer:{module:"profileArea/investments/suitability/services/areaContainer",interceptors:["common/service/interceptor/spinner"]},workflow:{module:"profileArea/investments/suitability/services/workflow",interceptors:["common/service/interceptor/spinner"]},helpWithThis:{module:"profileArea/investments/suitability/services/helpWithThis",interceptors:["common/service/interceptor/spinner"]},beneficiaries:{module:"profileArea/investments/beneficiaries/services/beneficiaries",interceptors:["common/service/interceptor/spinner","common/service/interceptor/loggedOffInterceptor","common/interceptor/request","blue-app/service/interceptor/status"]},marginApplication:{module:"profileArea/investments/marginApplication/services/marginApplication",interceptors:["common/service/interceptor/spinner","common/service/interceptor/loggedOffInterceptor","common/interceptor/request","blue-app/service/interceptor/status","profileArea/sharedLib/interceptors/request"]},marginHelp:{module:"profileArea/investments/marginHelp/services/marginHelp"},optionsApplication:{module:"profileArea/investments/optionsApplication/services/optionsApplication",interceptors:["common/service/interceptor/spinner","common/service/interceptor/loggedOffInterceptor","common/interceptor/request","blue-app/service/interceptor/status","profileArea/sharedLib/interceptors/request"]},reportingTimeframe:{module:"profileArea/investments/reportingTimeframe/services/reportingTimeframe",interceptors:["common/service/interceptor/spinner","common/service/interceptor/loggedOffInterceptor","blue-app/service/interceptor/status","common/interceptor/request"]}}}}),define("profileArea/core/lib/constants.profileControllerMap",["profileArea/registry"],(e=>{"use strict";return Object.keys(e.area.controllers).map((e=>`profileArea/${e}`))})),define("profileArea/core/lib/constants",["profileArea/core/lib/constants.menu","profileArea/core/lib/constants.profileControllerMap"],(function(e,t){"use strict";return{common:{RENDER_TARGET:Object.freeze({target:"#my-profile-page-content"}),MODAL_RENDER_TARGET:{target:"#my-profile-modal-content"},EXIT_MY_PROFILE_ROUTE_STACK:"exitMyProfile",EXIT_MY_PROFILE_ROUTE_CLEAR:" ",ROUTE:{MY_PROFILE_OVERVIEW:"#/dashboard/profileArea/overview/requestMyProfileOverview",RESET_CONTAINER:"#/dashboard/profileArea/profileContainer/resetContainer",RENDER_CONTAINER:"#/dashboard/profileArea/profileContainer/index"},CONTAINER_GRAY_BACKGROUND:"my-profile-container-gray-background"},ENDPOINT:{MENU_LIST_ITEMS:"menu.listItems"},PAGE_TITLE_SELECTOR:".my-profile-title:visible :header",EVENT:{INITIALIZE_MY_PROFILE:"myProfile:core:initializeMyProfile",CONTAINER_RENDERING:"myProfile:core:containerRendering",CONTAINER_RENDERED:"myProfile:core:containerRendered",CONTAINER_DESTROYED:"myProfile:core:containerDestroyed",EXIT_MY_PROFILE:"myProfile:container:exitMyProfile"},ContainerState:{Ready:"READY",Destroyed:"DESTROYED",Inactive:"INACTIVE",Pending:"PENDING",Initializing:"INITIALIZING"},ComponentKey:{Container:"container",Menu:"menu",Loader:"loader",DropdownMenu:"dropdownMenu"},NON_NAVIGATING_ROUTES:["/dashboard/megaMenu/index","/dashboard/caas/challenge/index"],menu:e,newSpinnerWhitelist:["phone","phoneDetails","mailingAddressDetails","email","privacyPreferences","languagePreferences","emailMarketingPreferences","customerName","myIncomeCapture","incomeCaptureContainer","accountService","activateCashflowService","enrollmentService","cashflowService","legalNameChange"],profileControllerMap:t}})),define("profileArea/sharedLib/profileUrls",{"alertsDelivery.updateMyAlertsDeliverySettings":"dashboard/profileArea/alertsDelivery/updateMyAlertsDeliverySettings","alertsDelivery.addEmailaddressForAlerts":"dashboard/profileArea/alertsDelivery/addEmailaddressForAlerts","alertsDelivery.confirmAddEmailaddressForAlerts":"dashboard/profileArea/alertsDelivery/confirmAddEmailaddressForAlerts","alertsDelivery.updateAlertsEmailAddress":"dashboard/profileArea/alertsDelivery/updateAlertsEmailAddress","alertsDelivery.updateAlertsAppleNotifications":"dashboard/profileArea/alertsDelivery/updateAlertsAppleNotifications","alertsDelivery.updateAlertsAndroidNotifications":"dashboard/profileArea/alertsDelivery/updateAlertsAndroidNotifications","alertsDelivery.updateAlertsMobileNumber":"dashboard/profileArea/alertsDelivery/updateAlertsMobileNumber","alertsDelivery.confirmUpdateAlertsEmailAddress":"dashboard/profileArea/alertsDelivery/confirmUpdateAlertsEmailAddress","alertsDelivery.confirmUpdateAlertsMobileNumber":"dashboard/profileArea/alertsDelivery/confirmUpdateAlertsMobileNumber","alertsDelivery.confirmUpdateAlertsAppleNotifications":"dashboard/profileArea/alertsDelivery/confirmUpdateAlertsAppleNotifications","alertsDelivery.confirmUpdateAlertsAndroidNotifications":"dashboard/profileArea/alertsDelivery/confirmUpdateAlertsAndroidNotifications","alertsDelivery.deleteMyAlertsDeliveryInfo":"dashboard/profileArea/alertsDelivery/deleteMyAlertsDeliveryInfo","alertsDelivery.confirmDeleteMyAlertsDeliveryInfo":"dashboard/profileArea/alertsDelivery/confirmDeleteMyAlertsDeliveryInfo","pauseAlerts.suspendMyAlertsDelivery":"dashboard/profileArea/chooseAlerts/suspendMyAlertsDelivery","pauseAlerts.cancelAlertsSuspension":"dashboard/profileArea/pauseAlerts/cancelAlertsSuspension","pauseAlerts.suspendMyAlerts":"dashboard/profileArea/pauseAlerts/suspendMyAlerts","pauseAlerts.confirmSuspendMyAlerts":"dashboard/profileArea/pauseAlerts/confirmSuspendMyAlerts","choosealerts.alertSubscriptionArea":"dashboard/profileArea/chooseAlerts/manageMyAlerts","choosealerts.requestAlertsCategoryDetails":"dashboard/profileArea/chooseAlerts/requestAlertsCategoryDetails","choosealerts.confirmUpdateMyAlertsSubscription":"dashboard/profileArea/chooseAlerts/confirmUpdateMyAlertsSubscription","choosealerts.confirmUnsubscribeFromAllAlerts":"dashboard/profileArea/chooseAlerts/confirmUnsubscribeFromAllAlerts","manageAlerts.requestMyAlertsHistory":"dashboard/profileArea/alertsHistory/requestMyAlertsHistory","hideAccounts.requestMyAccountsDisplay":"dashboard/profileArea/hideAccounts/requestHideAccounts","hideAccounts.renderHideAccountsConfirmationModal":"dashboard/profileArea/hideAccounts/renderHideAccountsConfirmationModal","hideAccounts.confirmUpdateAccountDisplay":"dashboard/profileArea/hideAccounts/confirmUpdateAccountDisplay","hideAccounts.requestHideAccounts":"dashboard/profileArea/hideAccounts/requestHideAccounts","textBanking.updatePhoneBankingPreferences":"dashboard/profileArea/textBanking/updatePhoneBankingPreferences","textBanking.activatePhoneBanking":"dashboard/profileArea/textBanking/activatePhoneBanking","textBanking.managePhoneBanking":"dashboard/profileArea/textBanking/managePhoneBanking","textBanking.requestActivationCode":"dashboard/profileArea/textBanking/requestActivationCode","textBanking.confirmPhoneBanking":"dashboard/profileArea/textBanking/confirmPhoneBanking","textBanking.confirmUpdateAccountNicknames":"dashboard/profileArea/textBanking/confirmUpdateAccountNicknames","easyReload.updatePreferences":"dashboard/profileArea/easyReload/entry","languagePreferences.updateMyLanguagePreferences":"dashboard/profileArea/languagePreferences/requestLanguagePreferences","languagePreferences.updateGlobalLanguagePreferences":"dashboard/profileArea/languagePreferences/confirmUpdateGlobalLanguagePreferences","nicknameaccounts.requestMyAccountNicknames":"dashboard/profileArea/nicknameAccounts/requestMyAccountNicknames","nicknameaccounts.updateAccountNicknamesConfirm":"dashboard/profileArea/nicknameAccounts/confirmUpdateAccountNicknames","nicknameaccounts.renderNickNameAccounts":"/dashboard/profileArea/profileAccountNicknames/renderNickNameAccounts","paperless.index":"dashboard/profileArea/paperless/updateMyPaperlessPreferences","accountPaperlessPreferences.updateMyPaperlessPreferences":"dashboard/profileArea/paperless/updateMyPaperlessPreferences","accountPaperlessPreferences.confirmUpdatePaperlessPreferences":"dashboard/profileArea/paperless/confirmUpdatePaperlessPreferences","travelNotifications.index":"/dashboard/profileArea/travelNotifications/index","travelPreferences.updateMyTravelPreferences":"/dashboard/profileArea/travelNotifications/index","travelPreferences.index":"/dashboard/profileArea/travelNotifications/index","accountPreferences.updateMyChasepayPreferences":"dashboard/profileArea/accountPreferences/updateMyChasepayPreferences","accountPreferences.manageExternalAccess":"dashboard/profileArea/accountPreferences/manageExternalAccess","financialSoftwareAccess.activateFinancialSoftwareAccess":"/dashboard/profileArea/financialSoftwareAccess/activateFinancialSoftwareAccess","financialSoftwareAccess.confirmActivateFinancialSoftwareAccess":"dashboard/profileArea/financialSoftwareAccess/confirmActivateFinancialSoftwareAccess",requestUpdateMyAtmPreferences:"/dashboard/profileArea/atm/requestUpdateMyAtmPreferences",updateMyAtmPreferences:"/dashboard/profileArea/atm/updateMyAtmPreferences",confirmUpdateMyAtmPreferences:"/dashboard/profileArea/atm/confirmUpdateMyAtmPreferences","subscriptions.requestBillingPartnerServices":"/dashboard/profileArea/subscriptions/requestBillingPartnerServices","transactionLimits.manageTransactionLimits":"dashboard/profileArea/transactionLimits/manageTransactionLimits","transactionLimits.updateTransactionLimit":"dashboard/profileArea/transactionLimits/updateTransactionLimit","transactionLimits.refreshTransactionLimits":"dashboard/profileArea/transactionLimits/refreshTransactionLimits","linkBusinessAccounts.confirmLinkAccounts":"dashboard/profileArea/linkBusinessAccounts/confirmLinkAccounts","linkBusinessAccounts.linkBusinessAccounts":"dashboard/profileArea/linkBusinessAccounts/requestLinkBusinessAccounts","incomeDetails.updateMyIncome":"dashboard/profileArea/incomeDetails/updateMyIncome","securityCode.updateSecurityCode":"dashboard/profileArea/securityCode/updateSecurityCode","securityCode.requestIdentificationCode":"dashboard/profileArea/securityCode/handleRequestUrlEntered","securityCode.initiateUpdateSecurityCode":"dashboard/profileArea/securityCode/handleInitiateUrlEntered","securityCode.confirmUpdateSecurityCode":"dashboard/profileArea/securityCode/handleConfirmUrlEntered","securityCode.provideIdentificationCode":"dashboard/profileArea/securityCode/handleProvideUrlEntered","securityCode.resendIdentificationCode":"dashboard/profileArea/securityCode/handleResendUrlEntered","servicePlan.updateServicePlan":"dashboard/profileArea/servicePlan/updateServicePlan","servicePlan.updateServicePlanAfterProfileDetails":"dashboard/profileArea/servicePlan/updateServicePlanAfterProfileDetails","servicePlan.confirmUpdateServicePlan":"dashboard/profileArea/servicePlan/confirmUpdateServicePlan","servicePlan.initiateUpdateServicePlan":"dashboard/profileArea/servicePlan/initiateUpdateServicePlan","servicePlan.updateBillingInformation":"dashboard/profileArea/servicePlan/updateBillingInformation","dividendsAndCapitalGains.requestMyInvestmentDistributionSettings":"dashboard/profileArea/dividendsAndCapitalGains/requestMyInvestmentDistributionSettings","setDefaultReportingTimeFrame.requestUpdateReportingTimeframe":"dashboard/profileArea/reportingTimeframe/setReportingTimeframe","customGroups.requestManageCustomGroups":"dashboard/profileArea/customGroups/requestManageCustomGroups","trustedContact.requestTrustedContact":"/dashboard/profileArea/trustedContact/requestTrustedContact","trustedContact.addTrustedContact":"/dashboard/profileArea/trustedContact/addTrustedContact","trustedContact.deleteTrustedContact":"dashboard/profileArea/trustedContact/deleteTrustedContact","trustedContact.requestMailingAddressVerification":"dashboard/profileArea/trustedContact/requestMailingAddressVerification","trustedContact.updateTrustedContact":"/dashboard/profileArea/trustedContact/updateTrustedContact","trustedContact.confirmAddTrustedContact":"/dashboard/profileArea/trustedContact/confirmAddTrustedContact","trustedContact.confirmUpdateTrustedContact":"/dashboard/profileArea/trustedContact/confirmUpdateTrustedContact","optionsApplication.requestOptionsApplication":"/dashboard/profileArea/optionsApplication/requestOptionsApplication","marginApplication.requestMarginApplication":"/dashboard/profileArea/marginApplication/requestMarginApplication","marginApplication.requestMarginApplicationForm":"/dashboard/profileArea/marginApplication/requestMarginApplicationForm","marginApplication.requestMarginApplicationConfirmation":"/dashboard/profileArea/marginApplication/requestMarginApplicationConfirmation","dateRangeTransaction.requestTransactionDateRange":"/dashboard/profileArea/dateRangeTransaction/requestTransactionDateRange","defaultSortOrder.requestDefaultSortOrder":"/dashboard/profileArea/defaultSortOrder/requestDefaultSortOrder","chooseYourHomepage.requestUpdateHomePage":"/dashboard/profileArea/chooseYourHomepage/requestUpdateHomePage",dashboard:"#/dashboard",favoriteAccounts:"#/dashboard/profileArea/chooseFavorites/","accountPreferences.homeownerAssistanceUrl":"/dashboard/misc/classic/index","settings.paymentsDueDate":"dashboard/accountServicing/updatePaymentDueDate/begin","accountPreferences.amortizationEstimatorUrl":"dashboard/loanAccountServicing/amortizationEstimator/requestAmortizationEstimator","accountPreferences.mortgagePayoffQuoteRequest":"dashboard/loanAccountServicing/mortgagePayoffQuoteRequest/index",emailUrl:"/dashboard/profileArea/email/selectMyEmailDetails",phoneMarketingPreferencesUrl:"#/dashboard/pcr/privacy-consent/callConsent"}),define("profileArea/sharedLib/dashboardConstants",{PROFILE_TYPE:{PERSONAL:"PER",BUSINESS:"BUS",GEMINI:"GEM",MULTI_TIN:"MUL",MULTI_CHANNEL:"CHN",GEMINI_CHANNEL:"GNM",GEMINI_MULTI_TIN_CHANNEL:"GMC",MINOR_USER_GRAMMAR:"MUG"},CONTEXTUAL_ANNOUNCEMENTS_ANALYTICS:{categoryValue:"AB_SCREEN_TEST"},DISCLOSURES_IDENTIFIER:{investmentDisclosuresName:"investmentDisclosuresName",jpMorganSecuritiesInformationMessage:"jpMorganSecuritiesInformationMessage",accountDisclosuresMessage:"accountDisclosuresMessage",bankManagedProductsDisclosure:"bankManagedProductsDisclosure",investmentDisclosureGroupName:"investmentDisclosureGroupName",investmentDisclosuresMessageMobile:"investmentDisclosuresMessageMobile",ideasDisclosuresMessage:"ideasDisclosuresMessage"},DISCLOSURE_HEADER:{DISCLOSURES:"DISCLOSURES"},OVERVIEW_COMPONENT_NAMES:{filter:"INVESTMENT_OVERVIEW_FILTER",assetClass:"ASSET_CLASS",industry:"INDUSTRY",managerAllocation:"MANAGER_ALLOCATION"},OVERVIEW_ACCOUNTS_GROUP_BY_TYPE:{COMPANY:"COMPANY",ACCOUNT_TYPE:"ACCOUNT_TYPE"},ACCOUNT_BRAND_ID:{FINN:"GOLDFISH"},BRAND_ID:{JPMORGAN:"JPMORGAN",BUSINESS:"BUSINESS",COMMERCIAL:"COMMERCIAL",PERSONAL:"PERSONAL"},BRAND_ID_MAPPERS:{JPO:"JPO",JPMORGAN:"JPO",BUSINESS:"CBO",COMMERCIAL:"CBO",WEALTH:"CPO",PERSONAL:"CPO"},HIDE_ACCOUNT_INELIGIBLE_SEGMENTS:{PPP:"PPP",PHP:"PHP",PPL:"PPL",POH:"POH"},CREDIT_JOURNEY_ERROR_STATUS:{ERR_STATUS_504:504,ERR_STATUS_403:403,ERR_STATUS_NAME:"CREDIT_JOURNEY_NOT_AVAILABLE",SYSTEM_FAILURE:"SYSTEM_FAILURE"},ACCOUNT_TYPE:{SPENDING_SUMMARY:"SPENDING_SUMMARY",DEPOSIT:"DDA",CARD:"CARD",DDA:"DDA",BUSINESS_CREDIT_CARD:"BCC",CHASE_FLEX_CARD:"CHASE_FLEX_CARD",LOAN:"LOAN",MORTGAGE:"MORTGAGE",AUTOLOAN:"AUTOLOAN",AUTOLEASE:"AUTOLEASE",PREPAID:"PrePaid",CERTIFICATE_OF_DEPOSIT:"CDA",INVESTMENT:"INVESTMENT",ULTIMATE_REWARDS:"ULTIMATE_REWARDS",CREDIT_SCORE_INFORMATION:"CREDIT_SCORE_INFORMATION",SLA:"SLA",BLA:"BLA",LIABILITY:"LIABILITY",BANKING:"DEPOSIT",MERCHANT:"MERCHANT",COMMERCIALLOAN:"LOAN",COMMERCIAL_LOAN_FACILITY:"LOAN",COMMERCIAL_LOAN_OBLIGATION:"LOAN",COMMERCIAL_TERM_LOAN:"LOAN",CHARITABLE_FUND:"CHARITABLE_FUND",CHARITABLE_FUNDS:"CHARITABLE_FUNDS",CREDIT_CARD:"CREDIT_CARD",DAF:"DAF",NPT:"NPT",OTHER:"OTHER",OTHER_ASSETS:"OTHER_ASSETS"},COMMERCIAL_CARD:{COMMERCIAL_CARD:"commercialCard",COMMERCIAL_FLAG:"commercialCardFlag"},MORTGAGE_ASSISTANCE_TYPES:{HOME_OWNER:"homeowner",HELOC:"heloc"},SUMMARY_GROUP_TYPE:{DEPOSIT:"DEPOSIT",PREPAID:"PREPAID",CERTIFICATE_OF_DEPOSIT:"CDS",MERCHANT:"MERCHANT"},INFO_DENSITY_DDA_DETAIL_TYPES:["CHK","SAV","MMA","PPA","PPC"],TILE_GROUP_TYPE:{DEPOSIT:"DEPOSIT",MERCHANT:"MERCHANT",CREDITCARD:"CREDITCARD",INVESTMENT:"INVESTMENT",FAVORITE:"FAVORITE"},CAP_CONTEXT:{CHASE_AUTO_PREFERRED:"VAST"},TILE_GROUP_CONTAINERS:{FAVORITE:"tileGroupHeaderFavorite",DEPOSIT:"tileGroupHeaderDeposit",MERCHANT:"tileGroupHeaderDeposit",INVESTMENT:"investmentGroupHeading",CREDITCARD:"creditCardHeading",LOANLINE:"tileGroupHeaderLoan"},TILE_GROUPS_ADA_FLAGS:{FAVORITE:"removeFavouriteFocus",DEPOSIT:"removeDepositFocus",MERCHANT:"removeDepositFocus",INVESTMENT:"removeInvestmentFocus",CREDITCARD:"removeCardFocus",LOANLINE:"removeLoanFocus"},DETAIL_TYPE:{MERCHANT:"MSA",DDA:"DDA",CHECKING:"CHK",ASSET_MANAGEMENT:"AMA",SAVINGS:"SAV",MONEY_MARKET:"MMA",PREPAID:"PPA",LIQUID:"PPC",CERTIFICATE_OF_DEPOSIT:"CDA",INDIVIDUAL_RETIREMENT_ARRANGMENT:"IRA",HOME_MORTGAGE:"HMG",AUTO:"AUTO",AUTO_LEASE:"ALS",AUTO_LOAN:"ALA",HOME_EQUITY_LOAN:"HEO",HOME_EQUITY_LINE:"HEL",HOME_LOAN_MORTGAGE:"HLM",HOME_EQUITY_MORTGAGE:"HEM",REVOLVING_CREDIT:"RCA",REVOLVING_CREDIT_MORTGAGE:"RCM",INSTALLMENT_LOAN:"ILA",INSTALLMENT_LOAN_MORTGAGE:"ILM",BUSINESS_LOAN_ACCOUNT:"BLA",CREDIT_REVOLVING_FACILITY:"CRF",ABLE:"ABL",BUSINESS_REVOLVING_CREDIT:"BRC",PRIVATE_LABEL_CONSUMER:"PAC",CONSUMER_CREDIT_CARD:"BAC",OVERDRAFT_LINE_OF_CREDIT:"OLC",BUSINESS_CREDIT_CARD:"BCC",SPEND_FOCUS_CARD:"SCC",BROKERAGE:"BRK",JPMORGAN_FUND:"JPF",ANNUITY:"ANU",BROKERAGE2:"BR2",MANAGED:"WR2",STUDENT_LOAN:"SLA",CHASE_FLEX_CARD:"CSL",MERCHANT_SERVICE_ACCOUNT:"MSA",COMMERCIAL_LOAN_FACILITY:"CCF",COMMERCIAL_LOAN_OBLIGATION:"CCO",COMMERCIAL_TERM_LOAN:"CTL",LINE_OF_CREDIT:"CRF",INVESTMENT_MANAGEMENT:"MAN",MARGIN:"MAR",GRAMMAR:"GMR",MUTUAL:"MUT",OFF:"OFF",WPF:"WPF",WPY:"WPY"},DETAIL_TYPE_TO_GROUP_MAPPER:{ABL:"LOAN",ALA:"LOAN",ALS:"LOAN",AMA:"DDA",ANU:"INVESTMENT",BAC:"CARD",BCC:"CARD",BLA:"LOAN",BRC:"LOAN",BRK:"INVESTMENT",BR2:"INVESTMENT",CCF:"LOAN",CCO:"LOAN",CDA:"DDA",CHK:"DDA",CRF:"LOAN",CSL:"CARD",CTL:"LOAN",DAF:"DAF",GMR:"DDA",HEL:"LOAN",HLM:"LOAN",HEO:"LOAN",HEM:"LOAN",HMG:"LOAN",ILA:"LOAN",ILM:"LOAN",INV:"INVESTMENT",IRA:"DDA",JPF:"INVESTMENT",MAN:"INVESTMENT",MAR:"INVESTMENT",MMA:"DDA",MSA:"MSA",MUT:"INVESTMENT",NPT:"NPT",OFF:"INVESTMENT",OLC:"CARD",PAC:"CARD",PCC:"CARD",PLC:"CARD",PPA:"DDA",PPC:"DDA",RCA:"LOAN",RCM:"LOAN",SAC:"CARD",SAV:"DDA",SCC:"CARD",SLA:"LOAN",TRU:"INVESTMENT",WPY:"MSA",WRP:"INVESTMENT",WR2:"INVESTMENT"},ACCOUNT_DETAIL_TYPE_FOR_PAID_OFF:["HEM","HLM","HEO","HEL"],LOAN_TYPE:{FACILITY:"FACILITY"},DETAIL_ACCOUNT_MAP:{PAC:"CARD",BAC:"CARD",OLC:"CARD",CHK:"DDA",SAV:"DDA",MMA:"DDA",MSA:"DDA",PPA:"PrePaid",CDA:"CDA",IRA:"CDA"},PRODUCT_DESCRIPTION:{INDEX:"index",DDA:"dda",CHK:"dda",SAV:"dda",MMA:"dda",MSA:"msa",BLA:"bla",PPA:"prepaid",CDA:"cds",IRA:"ira",CARD:"creditCard",CSL:"creditCard",BAC:"creditCard",PAC:"creditCard",OLC:"creditCard",BCC:"businessCard",LOAN:"loan",ILA:"ila",ILM:"ilm",RCA:"rca",RCM:"rcm",HEO:"homeEquityLoan",HEM:"homeEquityLoan",HLM:"homeEquityLineOfCredit",HEL:"homeEquityLineOfCredit",MORTGAGE:"homeMortgage",HMG:"homeMortgage",INVESTMENT:"investment",ALS:"autoLease",ALA:"autoLoan",SLA:"studentLoan",BRC:"businessLoan",CCO:"loanObligation",CCF:"loanFacility",CTL:"commercialTermLoan",CRF:"creditFacility"},LOAN_ACCOUNT_LEVEL:{DEAL:"DEAL",FACILITY:"FACILITY",OBLIGATION:"OBLIGATION"},UI_FILE_GEN:["CCO","CCF","CTL"],UI_FILE_GEN_COLUMNS:{CCO:{header1:"Date",header2:"Description",header3:"Amount",header4:"Balance"},CCF:{header1:"Date",header2:"Description",header3:"Amount",header4:"Balance"},CTL:{header1:"Effective Date",header2:"Description",header3:"Amount",header4:"Balance"}},CARD_PARENT_TYPE:{WHITE_LABEL_CARDS:"WHITE_LABEL_CARDS",ULTIMATE_REWARDS_CARDS:"ULTIMATE_REWARDS_CARDS",EXTERNAL_CARDS:"EXTERNAL_CARDS"},CONVODECK_MESSAGE_CATEGORY:{MSA:"MERCHANT_SERVICE_CHARGEBACKS",PROFILE:"PROFILE",DSO:"DSO"},CONVODECK_MESSAGE_TYPE:{ANNOUNCEMENT:"ANNOUNCEMENT",ACCOUNT_UNBOXING:"ACCOUNT_UNBOXING"},REWARD_TYPE:{REWARDS:"REWARDS",CARD:"CARD",AARP:"AARP",RITZ_CARLTON:"RITZ_CARLTON",AMAZON:"AMAZON",DISNEY:"DISNEY",DISNEY_DREAM_REWARDS_DOLLARS:"DOLLAR",MARY_KAY:"MARY_KAY",MILITARY:"MILITARY",MILITARY_STAR:"MILITARY_STAR",ZAPPOS:"ZAPPOS",ULTIMATE:"ULTIMATE",LIVING_SOCIAL:"LIVING_SOCIAL",AIRFORCE_CLUB:"AIRFORCE_CLUB",FAIRMONT:"FAIRMONT",JPMORGAN:"JPMORGAN",JPMORGAN_PRIVATE_BANK:"JPMORGAN_PRIVATE_BANK",CHASE_SAPPHIRE:"CHASE_SAPPHIRE",CHASE_SAPPHIRE_PREFERRED:"CHASE_SAPPHIRE_PREFERRED",FREEDOM_PLATINUM:"FREEDOM_PLATINUM",FREEDOM_SIGNATURE:"FREEDOM_SIGNATURE",FREEDOM_UNLIMITED:"FREEDOM_UNLIMITED",MBAPPE_CARD:"MBAPPE_CARD",ARMY_MWR:"ARMY_MWR",INK_CASH_521:"INK_CASH_521",AMAZON_REWARDS_VISA:"AMAZON",AMAZON_PRIME:"AMAZON_PRIME",STARBUCKS:"STARBUCKS",JPM_MARSHALL:"JPM_MARSHALL",CHASE_MARSHALL:"CHASE_MARSHALL",FLEXIBLE_REWARDS_SELECT:"FLEXIBLE_REWARDS_SELECT",FREEDOM_UNLIMITED_POINTS:"FREEDOM_UNLIMITED_POINTS",BIZ_CARD_FLEXIBLE:"BIZ_CARD_FLEXIBLE",TRAVELPLUS_PREM_$29:"TRAVELPLUS_PREM_$29",CAPITAL_CARD:"CAPITAL_CARD",CORPORATE_FLEX_CARD:"CORPORATE_FLEX_CARD",CHASE_SLATE:"CHASE_SLATE",FREEDOM_CARD:"FREEDOM_CARD",INK_PLUS_521:"INK_PLUS_521",INK_PLUS_521_CORP:"INK_PLUS_521_CORP",INK_CAPITAL:"INK_CAPITAL",INK_521:"INK_521",INK_BOLD_521:"INK_BOLD_521",INK:"INK",INK_PLUS:"INK_PLUS",INK_BOLD:"INK_BOLD",INK_BOLD_EXCLUSIVES:"INK_BOLD_EXCLUSIVES",INK_EXCLUSIVES:"INK_EXCLUSIVES",INK_PLUS_CORPORATE:"INK_PLUS_CORPORATE",INK_BOLD_CORPORATE:"INK_BOLD_CORPORATE",CHASE_INK_BUSINESS_PREFERRED:"CHASE_INK_BUSINESS_PREFERRED",CHASE_INK_BUSINESS_PREFERRED_CORP:"CHASE_INK_BUSINESS_PREFERRED_CORP",INK_CASH:"INK_CASH",DEFAULT:"DEFAULT",CHASE_LOYALTY:"CHASE_LOYALTY"},CHASE_LOYALTY_CARDS:["AMAZON","AMAZON_PRIME","AMAZON_REWARDS_VISA","AARP","DISNEY"],CHASE_LOYALTY_CARD_BENEFITS_BY_REWARD_TYPE_ID:["VP-5058-0480","VW-5058-0480","ME-6388-0266","MW-6388-0266","MP-6388-0266","VN-5058-0481","MN-6388-0368","VW-6621-0478","ME-6621-0478","VN-6621-0479","VN-5058-0303","VE-5058-0437","VW-1868-0459","VP-1868-0459","VN-1868-0461","VB-1868-0461","VW-1868-0458","VP-1868-0458","VW-1868-0530","VP-1868-0530","VN-1868-0531","VW-1868-0457","VP-1868-0457","VW-1868-0470","VP-1868-0470","VP-1868-0471","VW-1868-0471","VN-1868-0460","VB-1868-0460","VW-1868-0506","VP-1868-0506","VP-1868-0507","MB-1185-0057","MB-1185-0314","MY-1185-0314","MP-1185-0450","MW-1185-0449","ME-1185-0449","MW-1185-0306","ME-1185-0529","VW-6236-0441","VW-6654-0510","VB-5056-0003","VW-5056-0004","VW-5056-0308","VN-5056-0504","VW-5056-0513","VW-5056-0532","VP-5056-0532","VE-6612-0476","ME-6664-0538","VP-6663-0500","VW-6659-0526","VW-286-0508","VP-286-0508","VP-6272-0044","VW-6272-0044","VP-6272-0474","VW-6272-0474","VW-6606-0455","VW-6606-0456","VW-6608-0455","VN-6608-0537","VW-6608-0456","VW-6660-0527","VP-6658-0520","VW-6658-0520","VW-5058-0278","VP-6388-0261","VW-6388-0261","MP-6388-0262","MW-6388-0262","MY-6602-0415","ME-6602-0341","VW-6602-0341","VW-5058-0438"],CARD_BENEFITS_URL:{AARP:"requestAARPCardBenefits",BRITISH_AIRWAYS:"requestBritishAirCardBenefits",DISNEY:"requestDisneyCardBenefits",STARBUCKS:"requestStarbucksCardBenefits",UNITED_TRAVEL_CASH:"unitedTravelCashCardBenefit",IBERIA_AVIOS:"iberiaAviosCardBenefits",AER_LINGUS_AVIOS:"aerLingusAviosCardBenefits",INTERCONTINENTAL_HOTELS_GROUP:"ihgCardBenefits",MARRIOTT:"marriottCardBenefits",MARRIOTT_BONSAI:"marriottBonsaiCardBenefits",SOUTHWEST_AIRLINES:"southWestAirlinesCardBenefits",SOUTHWEST_PREMIER:"southWestAirlinesCardBenefits",SOUTHWEST_PLUS:"southWestAirlinesCardBenefits",UNITED:"requestUnitedCardBenefits",SAPPHIRE_SENECA:"requestCardBenefits",JPM_SENECA:"requestCardBenefits",JPM_MARSHALL:"requestCardBenefits",CHASE_MARSHALL:"requestCardBenefits",RITZ_CARLTON:"requestRitzCarltonCardBenefits",CHASE_INK_BUSINESS_PREFERRED:"requestCardBenefits",CHASE_INK_BUSINESS_PREMIER:"requestCardBenefits",CHASE_INK_BUSINESS_PREFERRED_CORP:"requestCardBenefits",CHASE_SAPPHIRE:"requestCardBenefits",CHASE_SAPPHIRE_PREFERRED:"requestCardBenefits",FREEDOM_CARD:"requestCardBenefits",FREEDOM_PLATINUM:"requestCardBenefits",FREEDOM_STUDENT:"requestCardBenefits",FREEDOM_SIGNATURE:"requestCardBenefits",FREEDOM_UNLIMITED:"requestCardBenefits",MBAPPE_CARD:"requestCardBenefits",INK_CASH:"requestCardBenefits",INK_CASH_521:"requestCardBenefits",INK_PLUS_521:"requestCardBenefits",INK_PLUS_521_CORP:"requestCardBenefits"},CARDS_LOGO_ADA:{FREEDOM_SIGNATURE:"CHASE_FREEDOM",CHASE_SAPPHIRE:"SAPPHIRE",UNITED:"UNITED",UNITED_TRAVEL_CASH:"UNITED",CHASE_SLATE:"SLATE",CHASE_SAPPHIRE_PREFERRED:"SAPPHIRE_PREFERRED",AMAZON:"AMAZON",AMAZON_PRIME:"AMAZON_PRIME",DISNEY:"DISNEY_REWARDS",AARP:"AARP",ARMY_MWR:"MILITARY_FREE_CASH_REWARDS",MARINE_CORPS:"MILITARY_FREE_CASH_REWARDS",NAVY_MWR:"MILITARY_FREE_CASH_REWARDS",AIRFORCE_CLUB:"MILITARY_FREE_CASH_REWARDS",SOUTHWEST_AIRLINES:"SOUTHWEST",SOUTHWEST_PREMIER:"SOUTHWEST",SOUTHWEST_PLUS:"SOUTHWEST",BRITISH_AIRWAYS:"BRITISH_AIRWAYS_AVIOS_REWARDS",FAIRMONT_HOTELS_AND_RESORTS:"FAIRMONT_REWARDS",HYATT:"HYATT_REWARDS",HYATT_HOTELS:"HYATT_REWARDS",INTERCONTINENTAL_HOTELS_GROUP:"IHG_REWARDS",MARRIOTT:"MARRIOTT_REWARDS",MARRIOTT_BONSAI:"MARRIOTT_REWARDS",MARRIOTT_REWARDS_PREMIER:"MARRIOTT_REWARDS_PREMIER",MARY_KAY:"MARY_KAY_REWARDS",AAFES:"AAFES_MILITARY_STAR_REWARDS",RITZ_CARLTON:"RITZ_CARLTON_REWARDS",ZAPPOS:"ZAPPOS_REWARDS",JPMORGAN_PRIVATE_BANK:"JPMORGAN_PALLADIUM",JPMORGAN:"JPMORGAN_SELECT",FREEDOM_UNLIMITED:"CHASE_FREEDOM_UNLIMITED",ARMY_AND_AIR_FORCE_EXCHANGE_SERVICE:"ARMY_AND_AIR_FORCE_EXCHANGE_SERVICE_REWARDS",FREEDOM_PLATINUM:"CHASE_FREEDOM",FREEDOM_CARD:"CHASE_FREEDOM",MBAPPE_CARD:"MBAPPE_CARD",CHASE_FLEX_CARD:"FLEX_CREDIT_CARD_ACCOUNT",CHASE_FLEXIBLE:"FLEX_CREDIT_CARD_ACCOUNT",STARBUCKS:"STARBUCKS",IBERIA_AVIOS:"IBERIA_AVIOS",AER_LINGUS_AVIOS:"AER_LINGUS_AVIOS",GOLDFISH:"FINN",CHASE_INK_BUSINESS_PREFERRED:"INK_REWARDS",UNITED_MILEAGEPLUS_CLUB:"UNITED",UNITED_MILEAGEPLUS_EXPLORER:"UNITED",UNITED_MILEAGEPLUS_PRESIDENTIAL_PLUS:"UNITED",UNITED_MILEAGE_PLUS_UA:"UNITED",UNITED_MILEAGE_PLUS_FCB:"UNITED",UNITED_MILEAGE_PLUS_MIDDLE:"UNITED"},REWARD_POINTS_DISPLAY_ELIGIBLE_PARTNER_CARDS:{IHG_REWARDS_CLUB:"IHG",INTERCONTINENTAL_HOTELS_GROUP:"IHG",MARRIOTT_BONSAI:"MARRIOTT",MARRIOTT_REWARDS_PREMIER:"MARRIOTT",MARRIOTT:"MARRIOTT",RITZ_CARLTON:"RITZ_CARLTON",SOUTHWEST_AIRLINES:"SOUTHWEST",SOUTHWEST_PLUS:"SOUTHWEST",SOUTHWEST_PREMIER:"SOUTHWEST",UNITED:"UNITED",UNITED_MILEAGE_PLUS_FCB:"UNITED",UNITED_MILEAGE_PLUS_MIDDLE:"UNITED",UNITED_MILEAGE_PLUS_UA:"UNITED",UNITED_MILEAGEPLUS_CLUB:"UNITED",UNITED_MILEAGEPLUS_EXPLORER:"UNITED",UNITED_MILEAGEPLUS_PRESIDENTIAL_PLUS:"UNITED",UNITED_TRAVEL_CASH:"UNITED"},MARSHALL_CARD_TYPE:{CHASE_MARSHALL:"CHASE_MARSHALL",JPM_MARSHALL:"JPM_MARSHALL"},SENECA_CARD_TYPE:{SAPPHIRE_SENECA:"SAPPHIRE_SENECA",JPM_SENECA:"JPM_SENECA"},WHITELABEL_REWARD_TYPE:{AARP:"AARP",MARY_KAY:"MARY_KAY",AIRFORCE_CLUB:"AIRFORCE_CLUB",ARMY_MWR:"ARMY_MWR",MARINE_CORPS:"MARINE_CORPS",NAVY_MWR:"NAVY_MWR",AMAZON:"AMAZON",DISNEY:"DISNEY",FAIRMONT_HOTELS_AND_RESORTS:"FAIRMONT_HOTELS_AND_RESORTS",ZAPPOS:"ZAPPOS",LIVING_SOCIAL:"LIVING_SOCIAL",BRITISH_AIRWAYS:"BRITISH_AIRWAYS",INTERCONTINENTAL_HOTELS_GROUP:"INTERCONTINENTAL_HOTELS_GROUP",SOUTHWEST_AIRLINES:"SOUTHWEST_AIRLINES",MARRIOTT:"MARRIOTT",MARRIOTT_BONSAI:"MARRIOTT_BONSAI",UNITED:"UNITED",HYATT:"HYATT",HYATT_HOTELS:"HYATT_HOTELS",RITZ_CARLTON:"RITZ_CARLTON",ARMY_AND_AIR_FORCE_EXCHANGE_SERVICE:"ARMY_AND_AIR_FORCE_EXCHANGE_SERVICE",UNITED_MILEAGEPLUS_PRESIDENTIAL_PLUS:"UNITED_MILEAGEPLUS_PRESIDENTIAL_PLUS",UNITED_MILEAGE_PLUS_UA:"UNITED_MILEAGE_PLUS_UA",UNITED_MILEAGE_PLUS_FCB:"UNITED_MILEAGE_PLUS_FCB",UNITED_MILEAGE_PLUS_MIDDLE:"UNITED_MILEAGE_PLUS_MIDDLE",UNITED_MILEAGEPLUS_CLUB:"UNITED_MILEAGEPLUS_CLUB",UNITED_TRAVEL_CASH:"UNITED_TRAVEL_CASH",UNITED_MILEAGEPLUS_EXPLORER:"UNITED_MILEAGEPLUS_EXPLORER",SOUTHWEST_PREMIER:"SOUTHWEST_PREMIER",SOUTHWEST_PLUS:"SOUTHWEST_PLUS",MARRIOTT_REWARDS_PREMIER:"MARRIOTT_REWARDS_PREMIER",IHG_REWARDS_CLUB:"IHG_REWARDS_CLUB",BK1_BIZ_PREM_VALUE_MILES_$0:"BK1_BIZ_PREM_VALUE_MILES_$0",FUS_BIZ_PREM_VALUE_MILES_$0:"FUS_BIZ_PREM_VALUE_MILES_$0",FUS_BIZ_PREM_VALUE_MILES_$29:"FUS_BIZ_PREM_VALUE_MILES_$29",BK1_BIZ_PREM_VALUE_MILES_$29:"BK1_BIZ_PREM_VALUE_MILES_$29",FUSA_FLEXIBLE_SELECT_$59:"FUSA_FLEXIBLE_SELECT_$59",BK1_BIZ_PREM_VALUE_MILES_$29_FYF:"BK1_BIZ_PREM_VALUE_MILES_$29_FYF",FLEX_RWRDS_BIZ_NO_FEE_BK1:"FLEX_RWRDS_BIZ_NO_FEE_BK1",BK1_FLEX_BIZ_SELECT_$29:"BK1_FLEX_BIZ_SELECT_$29",BK1_FLEX_BIZ_SELECT_$59:"BK1_FLEX_BIZ_SELECT_$59",BIZ_FREE_CASH:"BIZ_FREE_CASH",BIZ_CARD_FLEX_SEL_$50:"BIZ_CARD_FLEX_SEL_$50",PERFECTCARD_REBATE:"PERFECTCARD_REBATE",FIRST_USA_FLEXIBLE:"FIRST_USA_FLEXIBLE",BELLSOUTH_BIZCARD:"BELLSOUTH_BIZCARD",GENERAL_MOTORS:"GENERAL_MOTORS",AMAZON_PRIME:"AMAZON_PRIME",AMAZON_REWARDS_VISA:"AMAZON_REWARDS_VISA",STARBUCKS:"STARBUCKS",CHASE_MARSHALL:"CHASE_MARSHALL",JPM_MARSHALL:"JPM_MARSHALL",SAPPHIRE_SENECA:"SAPPHIRE_SENECA",JPM_SENECA:"JPM_SENECA",IBERIA_AVIOS:"IBERIA_AVIOS",AER_LINGUS_AVIOS:"AER_LINGUS_AVIOS"},INVESTMENT_SVC_PROPS_NAMES:{OTHER_INV:"otherInvestments",FLAG_NAME:"showAccountValueChangePercent",OMNI_INV:"jpmorganChaseManaged"},CASHBACK_TYPE:{ELIGIBLE:"ELIGIBLE",ENROLLED:"ENROLLED"},ENROLLMENT_QUARTER:{FIRST_QUARTER:"FIRST_QUARTER",SECOND_QUARTER:"SECOND_QUARTER",THIRD_QUARTER:"THIRD_QUARTER",FOURTH_QUARTER:"FOURTH_QUARTER",FIRST_QUARTER_START:"12/15/",SECOND_QUARTER_START:"03/15/",THIRD_QUARTER_START:"06/15/",FOURTH_QUARTER_START:"09/15/",FIRST_QUARTER_END:"03/15/",SECOND_QUARTER_END:"06/15/",THIRD_QUARTER_END:"09/15/",FOURTH_QUARTER_END:"12/15/",QUARTER_END_TIME:" 07:59:59",QUARTER_START_TIME:" 08:00:00",QUARTER_DATE_FORMAT:"MM/DD/YYYY HH:mm:ss",MONTH:"MONTH",YEAR:"YEAR",ESATERN_TIME:"ESATERN_TIME"},ALL_FILE_TYPE_OPTIONS:[{name:"Spreadsheet (Excel, CSV)",value:"CSV"},{name:"Intuit Quicken Web Connect (QFX)",value:"QFX"},{name:"Quicken (QIF)",value:"QIF"},{name:"Quickbooks web connect (QBO)",value:"QBO"}],OTHER_FILE_TYPE_OPTIONS:[{name:"EXCEL_SPREADSHEET",value:"CSV"},{name:"INTUIT_QUICKEN",value:"QFX"},{name:"QUICKEN",value:"QIF"},{name:"QUICKBOOKS_WEBCONNECT",value:"QBO"}],DOWNLOAD_ACTIVTY_OPTIONS:[{name:"CURRENT_DISPLAY",value:"currentDisplayOption"},{name:"LAST_TWENTY_FOUR_MONTHS",value:"last24monthsOption"},{name:"SELECT_DATE_RANGE",value:"DATE_RANGE"}],DOWNLOAD_ACTIVTY_OPTIONS_VALUE:{currentDisplayOption:"currentDisplayOption",last24monthsOption:"last24monthsOption",DATE_RANGE:"DATE_RANGE",CSV:"CSV"},DOWNLOAD_ACTIVTY_OPTIONS_2:[{name:"LAST_TWENTY_FOUR_MONTHS",value:"last24monthsOption"},{name:"SELECT_DATE_RANGE",value:"DATE_RANGE"}],TIME_PERIOD_OPTIONS:{DDA:{CURRENT_DAY:"CURRENT_DAY",PREVIOUS_DAY:"PREVIOUS_DAY",LAST_SEVEN_DAYS:"LAST_7_DAYS",LAST_FOURTEEN_DAYS:"LAST_14_DAYS",LAST_MONTH:"LAST_1_MONTH",LAST_TWO_MONTHS:"LAST_2_MONTHS",LAST_THREE_MONTHS:"LAST_3_MONTHS",LAST_FOUR_MONTHS:"LAST_4_MONTHS",LAST_SIX_MONTHS:"LAST_6_MONTHS",LAST_TWELVE_MONTHS:"LAST_12_MONTHS",LAST_TWENTY_FOUR_MONTHS:"LAST_24_MONTHS"},MERCHANT:{LAST_SEVEN_DAYS:"LAST_SEVEN_DAYS",LAST_THIRTY_DAYS:"LAST_THIRTY_DAYS",MONTH_TO_DATE:"MONTH_TO_DATE",CUSTOM_DATE_RANGE:"DATE_RANGE"}},DATE_RANGE:{SELECT_TIME_FRAME:"SELECT_TIME_FRAME",CURRENT_DAY:"CURRENT_DAY",PREVIOUS_DAY:"PREVIOUS_DAY",LAST_6_DAYS:"LAST_6_DAYS",LAST_7_DAYS:"LAST_7_DAYS",LAST_14_DAYS:"LAST_14_DAYS",LAST_30_DAYS:"LAST_30_DAYS",LAST_1_MONTH:"LAST_1_MONTH",LAST_2_MONTHS:"LAST_2_MONTHS",LAST_3_MONTHS:"LAST_3_MONTHS",LAST_4_MONTHS:"LAST_4_MONTHS",LAST_5_MONTHS:"LAST_5_MONTHS",LAST_6_MONTHS:"LAST_6_MONTHS",LAST_12_MONTHS:"LAST_12_MONTHS",LAST_13_MONTHS:"LAST_13_MONTHS",LAST_24_MONTHS:"LAST_24_MONTHS"},LOAN_DATE_RANGE:{LAST_12_MONTHS:"12_MONTH_RANGE",LAST_24_MONTHS:"24_MONTH_RANGE",LAST_36_MONTHS:"36_MONTH_RANGE",LAST_48_MONTHS:"48_MONTH_RANGE"},TRANTYPE_CODES:{ALL:"ALL",CREDITS:"CREDITS",DEBITS:"DEBITS",ALL_DEBIT:"ALL_DEBIT",ACCT_TRANSFERS:"ACCT_XFERS",ACH_CREDITS:"ACH_CREDITS",ACH_DEBITS:"ACH_DEBITS",ADJUSTMENT_REVERSALS:"ADJUSTMT_REVERSALS",ATMS:"ATMS",BILL_PAYS:"BILLPAYS",QUICKPAY_CREDITS:"QUICKPAY_CREDITS",QUICKPAY_DEBITS:"QUICKPAY_DEBITS",CHECK_OLD:"CHECK_OLD",CHECK_WITHDRAWS:"CHECK_WITHDRAWS",DEBIT_CARDS:"DEBIT_CARDS",DEPOSITS:"DEPOSITS",FEE_TRANSACTION:"FEE_TRANSACTION",WIRE_INCOMINGS:"WIRE_INCOMINGS",LOAN_PMTS:"LOAN_PMTS",MISC_CREDITS:"MISC_CREDITS",MISC_DEBITS:"MISC_DEBITS",WIRE_OUTGOINGS:"WIRE_OUTGOINGS",OVERNIGHT_CHECKS:"OVERNIGHT_CHECKS",REFUND_TRANSACTION:"REFUND_TRANSACTION",DEPOSIT_RETURNS:"DEPOSIT_RETURNS",ALL_TRANSACTION:"ALL_TRANSACTION"},TRANS_GROUP_NAME:{COMMON:"COMMON",ADV_FILTER:"ADV_FILTER",CHECKING:"CHK",SAVING_AND_MONEY_MARKET:"SAV_MMA",PREPAID:"PPA",CHECK_OLD:"CHECK_OLD"},TRANTYPE:{COMMON:{ALL:"ALL",ALL_CREDIT:"CREDITS",ALL_DEBIT:"DEBITS"},MSA_COMMON:{ALL_CARD_TYPES:"ALL_CARD_TYPES"},CHK:{ACCOUNT_TRANSFER:"ACCT_XFERS",ACH_CREDIT:"ACH_CREDITS",ACH_DEBIT:"ACH_DEBITS",ADJUSTMENT:"ADJUSTMT_REVERSALS",ATM:"ATMS",BILL_PAYMENT:"BILLPAYS",QUICKPAY_CREDIT:"QUICKPAY_CREDITS",QUICKPAY_DEBIT:"QUICKPAY_DEBITS",DEBIT_CARD:"DEBIT_CARDS",CHECK:"CHECK_WITHDRAWS",DEPOSIT:"DEPOSITS",FEE:"FEE_TRANSACTION",INCOMING_WIRE_TRANSFER:"WIRE_INCOMINGS",LOAN_PAYMENT:"LOAN_PMTS",MISC_CREDIT:"MISC_CREDITS",MISC_DEBIT:"MISC_DEBITS",OUTGOING_WIRE_TRANSFER:"WIRE_OUTGOINGS",OVERNIGHT_CHECK:"OVERNIGHT_CHECKS",REFUND:"REFUND_TRANSACTION",RETURNED_DEPOSIT:"DEPOSIT_RETURNS"},SAV_MMA:{ACCOUNT_TRANSFER:"ACCT_XFERS",ACH_CREDIT:"ACH_CREDITS",ACH_DEBIT:"ACH_DEBITS",ADJUSTMENT:"ADJUSTMT_REVERSALS",ATM:"ATMS",CHECK:"CHECK_WITHDRAWS",DEPOSIT:"DEPOSITS",FEE:"FEE_TRANSACTION",INCOMING_WIRE_TRANSFER:"WIRE_INCOMINGS",MISC_CREDIT:"MISC_CREDITS",MISC_DEBIT:"MISC_DEBITS",OUTGOING_WIRE_TRANSFER:"WIRE_OUTGOINGS",REFUND:"REFUND_TRANSACTION",RETURNED_DEPOSIT:"DEPOSIT_RETURNS"},PPA:{ACCOUNT_TRANSFER:"ACCT_XFERS",ACH_CREDIT:"ACH_CREDITS",ACH_DEBIT:"ACH_DEBITS",ADJUSTMENT:"ADJUSTMT_REVERSALS",ATM:"ATMS",BILL_PAYMENT:"BILLPAYS",DEBIT_CARD:"DEBIT_CARDS",DEPOSIT:"DEPOSITS",FEE:"FEE_TRANSACTION",MISC_CREDIT:"MISC_CREDITS",MISC_DEBIT:"MISC_DEBITS",REFUND:"REFUND_TRANSACTION",RETURNED_DEPOSIT:"DEPOSIT_RETURNS"},CARD:{SINCE_LAST_STATEMENT:"SINCE_LAST_STATEMENT",LAST_STATEMENT:"LAST_STATEMENT",TWO_STATEMENTS_PRIOR:"TWO_STATEMENTS_PRIOR",THREE_STATEMENTS_PRIOR:"THREE_STATEMENTS_PRIOR",ALL:"ALL"},CBO_CHK:{ACCOUNT_TRANSFER:"ACCT_XFERS",ACH_CREDIT:"ACH_CREDITS",ACH_DEBIT:"ACH_DEBITS",ACH_PAYMENT:"ACH_PAYMENT",ADJUSTMENT:"ADJUSTMT_REVERSALS",ATM:"ATMS",BASIC_PAYROLL_PAYMENT:"BASIC_PAYROLL_PAYMENT",BILL_PAYMENT:"BILLPAYS",QUICKPAY_CREDIT:"QUICKPAY_CREDITS",QUICKPAY_DEBIT:"QUICKPAY_DEBITS",DEBIT_CARD:"DEBIT_CARDS",CHECK:"CHECK_WITHDRAWS",DEPOSIT:"DEPOSITS",FEE:"FEE_TRANSACTION",INCOMING_WIRE_TRANSFER:"WIRE_INCOMINGS",LOAN_PAYMENT:"LOAN_PMTS",MISC_CREDIT:"MISC_CREDITS",MISC_DEBIT:"MISC_DEBITS",OUTGOING_WIRE_TRANSFER:"WIRE_OUTGOINGS",OVERNIGHT_CHECK:"OVERNIGHT_CHECKS",REFUND:"REFUND_TRANSACTION",RETURNED_DEPOSIT:"DEPOSIT_RETURNS",TAX_PAYMENT:"TAX_PAYMENT"},CBO_SAV_MMA:{ACCOUNT_TRANSFER:"ACCT_XFERS",ACH_CREDIT:"ACH_CREDITS",ACH_DEBIT:"ACH_DEBITS",ACH_PAYMENT:"ACH_PAYMENT",ADJUSTMENT:"ADJUSTMT_REVERSALS",ATM:"ATMS",BASIC_PAYROLL_PAYMENT:"BASIC_PAYROLL_PAYMENT",CHECK:"CHECK_WITHDRAWS",DEPOSIT:"DEPOSITS",FEE:"FEE_TRANSACTION",INCOMING_WIRE_TRANSFER:"WIRE_INCOMINGS",MISC_CREDIT:"MISC_CREDITS",MISC_DEBIT:"MISC_DEBITS",OUTGOING_WIRE_TRANSFER:"WIRE_OUTGOINGS",REFUND:"REFUND_TRANSACTION",RETURNED_DEPOSIT:"DEPOSIT_RETURNS",TAX_PAYMENT:"TAX_PAYMENT"}},INITIATED_FROM:{DEFAULT:"DEFAULT",ONLOAD:"ONLOAD",FILTER:"FILTER",SORT:"SORT",SEE_MORE:"SEEMORE",WITHDRAWAL:"WITHDRAWAL",ACTIVITY:"ACTIVITY",DEPOSIT:"DEPOSIT",AGGREGATE:"AGGREGATE"},VALIDATION_ERRORS:{ABOVE_MAXIMUM:"ABOVE_MAXIMUM",AMOUNT:"Amount",AMT_LESS_THAN_TRILLION:"BELOW_MAXIMUM",AMT_MORE_THAN_TRILLION:"ABOVE_MAXIMUM",AUTO_INVALID_DATE_RANGE:"INVALID_DATE_RANGE",BELOW_MINIMUM:"BELOW_MINIMUM",CHECK:"Check",DATE_BLANK:"dateBlank",DATE:"Date",ENTER_NUMBERS_ONLY:"ENTER_NUMBERS_ONLY",INVALID_LENGTH:"INVALID_LENGTH",EXCEEDING_11_DIGITS:"INVALID_LENGTH",FUTURE_DATE_ERROR:"FUTURE_DATE_ERROR",FUTURE_DATE_FOUR_MONTHS:"FUTURE_DATE_FOUR_MONTHS",FUTURE_DATE_FIVE_MONTHS:"FUTURE_DATE_FIVE_MONTHS",FUTURE_DATE_SIX_MONTHS:"FUTURE_DATE_SIX_MONTHS",FUTURE_DATE_TWENTY_FOUR_MONTHS:"FUTURE_DATE_TWENTY_FOUR_MONTHS",FUTURE_DATE:"OLD_FILTER_DATE",INVALID_AMOUNT_RANGE:"FILTER_AMOUNT_ERROR",INVALID_AMOUNT:"INVALID_AMOUNT",INVALID_CARD_NUMBER:"INVALID_AMOUNT",INVALID_CHARACTER:"INVALID_CHARACTER",INVALID_CHECK_RANGE:"ABOVE_MAXIMUM",INVALID_CHECK:"INVALID_CHECK_NUMBER",INVALID_DATE_COMPARISON:"INVALID_DATE_COMPARISON",INVALID_DATE_FORMAT:"INVALID_DATE_FORMAT",INVALID_DATE_RANGE_2:"INVALID_DATE_RANGE",INVALID_DATE_RANGE:"FILTER_DATE_ERROR",INVALID_DATE:"INVALID_DATE",INVALID_FORMAT:"INVALID_FORMAT",INVALID_FROM_CURRENT_DATE_RANGE:"fromDateGreaterThanCurrentDate",INVALID_FROM_DATE_RANGE:"FILTER_DATE_ERROR",INVALID_TO_CURRENT_RANGE:"toDateGreaterThanCurrentDate",INVALID_TO_DATE_RANGE:"toDateLessThanFromDate",INVALID_CUSIP:"CUSIP",INVALID_TICKER_SYMBOL:"TICKER",LAST_TWENTY_FOUR_MONTHS:"LAST_TWENTY_FOUR_MONTHS",MISSING_MANDATORY_DATA:"MISSING_MANDATORY_DATA",NO_FROM_AMOUNT:"MISSING_MANDATORY_DATA",NO_FROM_CHECK:"MISSING_MANDATORY_DATA",NO_FROM_DATE:"MISSING_MANDATORY_DATA",NOT_AVAILABLE:"NOT_AVAILABLE",OLDER_THAN_24_MONTHS:"OLD_FILTER_DATE",OLDER_THAN_48_MONTHS:"dateOlderThan48Months",OLDER_THAN_5_MONTHS:"OLD_FILTER_DATE",PAST_DATE_FIVE_MONTHS:"PAST_DATE_FIVE_MONTHS",PAST_DATE_FOUR_MONTHS:"PAST_DATE_FOUR_MONTHS",PAST_DATE_TWENTY_FOUR_MONTHS:"PAST_DATE_TWENTY_FOUR_MONTHS",PAST_DATE_RANGE_TWENTY_FOUR_MONTHS:"PAST_DATE_RANGE_TWENTY_FOUR_MONTHS"},CBO_PRCINGSEGMENT_VALIDATION_ERRORS:{DATE:"DATE",INVALID_DATE_RANGE:"INVALID_DATE_RANGE",PAST_DATE_TWENTY_FOUR_MONTHS:"PAST_DATE_TWENTY_FOUR_MONTHS",PAST_DATE_FIVE_MONTHS:"PAST_DATE_FIVE_MONTHS",FUTURE_DATE_FIVE_MONTHS:"FUTURE_DATE_FIVE_MONTHS"},FILTER_CRITERIA:{FROM_DATE:"transactionPostedFromDate",TO_DATE:"transactionPostedToDate",FROM_AMOUNT:"transactionFromAmount",TO_AMOUNT:"transactionToAmount",FROM_CHECK:"checkNumberFrom",TO_CHECK:"checkNumberTo"},FILTER_FIELDS_ID:{FROM_DATE:"transactionPostedFromDate",TO_DATE:"transactionPostedToDate",FROM_AMOUNT:"transactionFromAmount",TO_AMOUNT:"transactionToAmount",MIN_AMOUNT:"minimumTransactionAmount",MAX_AMOUNT:"maximumTransactionAmount",FROM_CHECK:"checkNumberFrom",TO_CHECK:"checkNumberTo",DATE_RANGE:"transactionDateRangeOptionsLabel",AMOUNT_RANGE:"transactionAmountRangeLabel",CHECK_RANGE:"checkNumberRangeLabel",MERCHANT_NAME_LABEL:"merchantNameLabel",MERCHANT_NAME:"merchantName",CARD_NUM_FIRST_DIGITS:"cardNumberFirstSixDigits",CARD_NUM_LAST_DIGITS:"cardNumberLastFourDigits",CARD_MASK_NUMBER:"transactionCardNumberLabel",MS_FROM_DATE:"transactionFromDate",MS_TO_DATE:"transactionToDate",MS_TO_MONTH:"transactionToMonth",MS_FROM_MONTH:"transactionFromMonth"},SYMBOLS:{EMPTY_STRING:"",COMMA:",",SPACE:" ",CLASSIC_SPACE:"&#32;",HTML_SPACE:"&nbsp;",HTML_BREAK:"<br>",POUND:"#",PERIOD:".",SLASH:"/",PLUS:"+",HYPHEN:"-",DOUBLEHYPHEN:"--",PERCENT:"%",DOLLAR:"$",UNDERSCORE:"_",OPENPARENTHESES:"(",CLOSEPARENTHESES:")",ENDASH:"",MINUS_SIGN:"",COPYRIGHT:""},STATEMENT_TIME_PERIOD:{DATE_RANGE:"DATE_RANGE",ALL:"ALL",SEARCH:"ADV_FILTER",SINCE_LAST_STATEMENT:"SINCE_LAST_STATEMENT",ALL_TRANSACTION:"ALL_TRANSACTION",YEAR_TO_DATE:"YEAR_TO_DATE"},NUMBER_PREFIXES:{1:"ONE",2:"TWO",3:"THREE",4:"FOUR",5:"FIVE",6:"SIX",7:"SEVEN",8:"EIGHT",9:"NINE",10:"TEN",11:"ELEVEN",12:"TWELVE",13:"THIRTEEN",14:"FOURTEEN",15:"FIFTEEN",16:"SIXTEEN",17:"SEVENTEEN",18:"EIGHTEEN",19:"NINETEEN",20:"TWENTY",21:"TWENTYONE",22:"TWENTYTWO",23:"TWENTYTHREE",24:"TWENTYFOUR",25:"TWENTYFIVE",26:"TWENTYSIX",27:"TWENTYSEVEN",28:"TWENTYEIGHT",29:"TWENTYNINE",30:"THIRTY",31:"LAST"},TRANSACTION_ACTIVITY_TYPE:{ALL:"ALL",DEBIT_CARD:"DEBIT_CARD",PREPAID_CARD:"PREPAID_CARD",PENDING:"Pending",DEBIT:"Debit",PREPAID:"Prepaid",MISC_DEBIT:"MISC_DEBIT",DEPOST_RETURN:"DEPOSIT_RETURN",CHECK_PAID:"CHECK_PAID",ATM:"ATM",ATM_DEPOSIT:"ATM_DEPOSIT"},TRANSACTION_DETAILTYPE:{DETAIL_CHECK_PAID:"DETAIL_CHECK_PAID",DETAIL_WITHDRAWAL:"DETAIL_WITHDRAWAL",DETAIL_RECONSTRUCT_DEPOSIT:"DETAIL_RECONSTRUCT_DEPOSIT",DETAIL_DEPOSIT_RETURN:"DETAIL_DEPOSIT_RETURN",DETAIL_DDA_MONTHLY_FEE:"DETAIL_DDA_MONTHLY_FEE",DETAIL_DDA_MONTHLY_FEE_INFO:"DETAIL_DDA_MONTHLY_FEE_INFO"},TRANSACTION_ITEM_TYPE:{CHECK:"CHECK",DEPOSIT_SLIP:"DEPOSIT_SLIP",PAY_CHECK:"PAY_CHECK",RETURN:"RETURN",WITHDRAWAL:"WITHDRAWAL"},LOCKED_STATUS:["ACCOUNT_STATUS_101","ACCOUNT_STATUS_102","ACCOUNT_STATUS_103","ACCOUNT_STATUS_104","ACCOUNT_STATUS_106","ACCOUNT_STATUS_109","ACCOUNT_STATUS_108","PAST_DUE_MORE_THAN_90"],FICO_ERROR_ISSUE_CODE:["8001","8003"],ACCOUNT_SUMMARY_ISSUE_CODES:{NO_RESULT:"3981"},ERR_STATUS_CODE:{ACCOUNT_STATUS_101:"ACCOUNT_STATUS_101",ACCOUNT_STATUS_102:"ACCOUNT_STATUS_102",ACCOUNT_STATUS_103:"ACCOUNT_STATUS_103",ACCOUNT_STATUS_104:"ACCOUNT_STATUS_104",ACCOUNT_STATUS_105:"ACCOUNT_STATUS_105",ACCOUNT_STATUS_106:"ACCOUNT_STATUS_106",ACCOUNT_STATUS_107:"ACCOUNT_STATUS_107",ACCOUNT_STATUS_108:"ACCOUNT_STATUS_108",ACCOUNT_STATUS_109:"ACCOUNT_STATUS_109",PAST_DUE_LESS_THAN_90:"PAST_DUE_LESS_THAN_90",PAST_DUE_MORE_THAN_90:"PAST_DUE_MORE_THAN_90",PAYMENT_CHANGING_AFTER_ESCROW_ANALYSIS:"PAYMENT_CHANGING_AFTER_ESCROW_ANALYSIS",PAST_DUE_1_TO_19:"PAST_DUE_1_TO_19",PAST_DUE_20_TO_59:"PAST_DUE_20_TO_59",PAST_DUE_MORE_THAN_59:"PAST_DUE_MORE_THAN_59",NEARING_LEASE_END:"NEARING_LEASE_END",NEAR_LEASE_END_PAST_DUE_LESS_THAN_59:"NEAR_LEASE_END_PAST_DUE_LESS_THAN_59",NEARING_LEASE_END_LEASE_TERM_EXTENDED:"NEARING_LEASE_END_LEASE_TERM_EXTENDED",ACCOUNT_CLOSED:"ACCOUNT_CLOSED",SUB_USER_TRANSACTION_ONLY:"SUB_USER_TRANSACTION_ONLY",SUB_USER_NO_TRASACT_AND_VIEW_BALANCE:"SUB_USER_NO_TRASACT_AND_VIEW_BALANCE",MINIMUM_PAYMENT:"MINIMUM_PAYMENT",PAYMENT:"PAYMENT",LOAN_FORGIVENESS:"LOAN_FORGIVENESS",LOAN_SUBSIDY:"LOAN_SUBSIDY",PAST_DUE_1_TO_30_DAYS_OPEN:"PAST_DUE_1_TO_30_DAYS_OPEN",PAST_DUE_1_TO_30_DAYS_OPEN_PAYMENT_PLANS:"PAST_DUE_1_TO_30_DAYS_OPEN_PAYMENT_PLANS",PAST_DUE_31_TO_60_DAYS_OPEN_PAYMENT_PLANS:"PAST_DUE_31_TO_60_DAYS_OPEN_PAYMENT_PLANS",PAST_DUE_1_TO_60_DAYS_CLOSED_PAYMENT_PLANS:"PAST_DUE_1_TO_60_DAYS_CLOSED_PAYMENT_PLANS",PAST_DUE_61_TO_120_DAYS_CLOSED_PAYMENT_PLANS:"PAST_DUE_61_TO_120_DAYS_CLOSED_PAYMENT_PLANS",PAST_DUE_121_TO_210_DAYS_CLOSED_PAYMENT_PLANS:"PAST_DUE_121_TO_210_DAYS_CLOSED_PAYMENT_PLANS",AFTER_DUE_BEFORE_CYCLE_PAYMENT_PLANS:"AFTER_DUE_BEFORE_CYCLE_PAYMENT_PLANS",LAST_MONTH_PAYMENT_NOT_RECEIVED:"LAST_MONTH_PAYMENT_NOT_RECEIVED",PAST_DUE_PAYMENT_REQUIRED:"PAST_DUE_PAYMENT_REQUIRED",PAST_DUE_PAYMENT_SCHEDULED:"PAST_DUE_PAYMENT_SCHEDULED",NEXT_PAYMENT_SCHEDULED:"NEXT_PAYMENT_SCHEDULED",PAYMENT_PLAN_ENROLLED:"PAYMENT_PLAN_ENROLLED",PAYMENT_DUE_IN_DAYS:"PAYMENT_DUE_IN_DAYS",JOINT_LIABILITY:"JOINT_LIABILITY",FIRST_PAYMENT_PENDING_TO_COMPLETE_ENROLLMENT:"FIRST_PAYMENT_PENDING_TO_COMPLETE_ENROLLMENT",PROGRAM_PAYMENT_DUE:"PROGRAM_PAYMENT_DUE",AGENCY_SPECIALITY_LITIGATION:"AGENCY_SPECIALITY_LITIGATION",IRU_SPECIALITY_PRELITIGATION:"IRU_SPECIALITY_PRELITIGATION",IRU_SPECIALITY_OUT_OF_STATUTE:"IRU_SPECIALITY_OUT_OF_STATUTE",IRU_SETTLEMENT_PLAN_ENROLLED_SETTLEMENT_BALANCE_SCHEDULED:"IRU_SETTLEMENT_PLAN_ENROLLED_SETTLEMENT_BALANCE_SCHEDULED",IRU_SETTLEMENT_PLAN_ENROLLED_SETTLEMENT_BALANCE_NOT_SCHEDULED:"IRU_SETTLEMENT_PLAN_ENROLLED_SETTLEMENT_BALANCE_NOT_SCHEDULED",IRU_SETTLEMENT_PLAN_ENROLLED_PENDING_REASSIGNMENT_AGENCY:"IRU_SETTLEMENT_PLAN_ENROLLED_PENDING_REASSIGNMENT_AGENCY",IRU_SETTLEMENT_PLAN_NOT_ENROLLED_SETTLEMENT_BALANCE_SCHEDULED:"IRU_SETTLEMENT_PLAN_NOT_ENROLLED_SETTLEMENT_BALANCE_SCHEDULED",IRU_SETTLEMENT_PLAN_NOT_ENROLLED_SETTLEMENT_BALANCE_NOT_SCHEDULED:"IRU_SETTLEMENT_PLAN_NOT_ENROLLED_SETTLEMENT_BALANCE_NOT_SCHEDULED",IRU_SETTLEMENT_PLAN_NOT_ENROLLED_PENDING_REASSIGNMENT_AGENCY:"IRU_SETTLEMENT_PLAN_NOT_ENROLLED_PENDING_REASSIGNMENT_AGENCY",INTRADAY_DEFAULT:"INTRADAY_DEFAULT"},CDS_IRA_TERMTYPE:{D:"D",M:"M",Y:"Y",DAY:"DAY",DAYS:"DAYS",MONTH:"MONTH",MONTHS:"MONTHS",YEAR:"YEAR",YEARS:"YEARS"},CREDIT_DASHBOARD_STATUS:{ELIGIBLE:"ELIGIBLE",ENROLLED:"ENROLLED",ENROLLED_NOT_AVAILABLE:"ENROLLED_NOT_AVAILABLE",NOT_AVAILABLE:"NOT_AVAILABLE",NOT_ENROLLED:"NOT_ENROLLED"},FUNDING_ACCOUNT_TYPE:{SAV:"SAV",MMA:"MMA",CSBNK:"CSBNK",ODL:"ODL",OLC:"OLC",ODLOC:"ODLOC",CCARD:"CCARD",CC:"CC",BCCL:"BCCL",VLR:"VLR",ODR:"ODR",CSWEP:"CSWEP",SSWEP:"SSWEP"},MOUSE_EVENT_TYPE:{ONCLICK:"click"},KEYBOARD_EVENT_CODE:{ENTER:13,TAB:9},SORTING_PARAMETERS:{CHECK:"CHECK",DATE:"DATE",ASCENDING_ORDER:"ASC",DESCENDING_ORDER:"DESC",ASCENDING:"ASCENDING",DESCENDING:"DESCENDING",CHECK_DESCENDING:"CHECK_NUMBER_DESCENDING",CHECK_ASCENDING:"CHECK_NUMBER_ASCENDING",DATE_ASCENDING:"TRANSACTION_POSTED_DATE_DESCENDING",cardType:"CARD_TYPE",transactionCardNumber:"CARD_NUMBER",transactionAmount:"AMOUNT",transDate:"DATE_POSTED",depositedTransDate:"DATE_POSTED",authorizedSales:"AUTHORIZED_SALES",financialAdjustments:"FINANCIAL_ADJUSTMENTS",chargebacksAmount:"CHARGEBACKS",feeAmount:"FEES",depositedAmount:"DEPOSITED_AMOUNT",cardMaskNumber:"CARD_NUMBER",depositDate:"DEPOSIT_DATE"},FILTER_PARAMETERS:{variation1:"12_MONTH_RANGE",variation2:"24_MONTH_RANGE",variation3:"36_MONTH_RANGE",variation4:"48_MONTH_RANGE",customVariation:"CUSTOM_RANGE"},CLP_FILTER_PARAMETERS:{YEAR_FILTER_RANGE:"12_MONTH_RANGE",TWO_YEAR_FILTER_RANGE:"24_MONTH_RANGE",THREE_YEAR_FILTER_RANGE:"36_MONTH_RANGE",FOUR_YEAR_FILTER_RANGE:"48_MONTH_RANGE",CUSTOM_FILTER_RANGE:"CUSTOM_RANGE"},CC_TRANS_TYPE_OPTIONS:{A:"AUTHORIZATION",B:"ADJUSTMENT",C:"CHARGE",D:"CHARGE_OFF",E:"CASH_ADVANCE",F:"FEE",G:"REFUND",H:"REVERSAL",O:"OTHER_TRANSACTIONS",P:"PAYMENT",R:"RETURN",S:"SALE",ALL:"ALL_TRANSACTIONS"},CC_SPENDING_CATEGORY_OPTIONS:{ALL:"ALL_CATEGORIES",AUTOMOTIVE:"AUTOMOTIVE",BILLS_UTILITIES:"BILLS_AND_UTILITIES",EDUCATION:"EDUCATION",ENTERTAINMENT:"FUN_ENTERTAINMENT",FEES:"FEES_AND_ADJUSTMENTS",FOOD_DRINK:"FOOD_AND_DRINK",GAS:"GAS",GIFTS_DONATIONS:"GIFTS_DONATIONS",GROCERIES:"GROCERIES",HEALTH_FITNESS:"HEALTH_AND_WELLNESS",HOME:"HOME",MERCHANDISE_INVENTORY:"MERCHANDISE_AND_INVENTORY",MISCELLANEOUS:"MISCELLANEOUS",OFFICE_SHIPPING:"OFFICE_AND_SHIPPING",PERSONAL:"PERSONAL",PROFESSIONAL_SERVICES:"PROFESSIONAL_SERVICES",REPAIR_MAINTENANCE:"REPAIR_AND_MAINTENANCE",SHOPPING:"SHOPPING",TRAVEL:"TRAVEL"},ODS_NUCLEUS_CC_SPENDING_CATEGORY_OPTIONS:{ALL:"ALL_CATEGORIES",AUTO:"AUTOMOTIVE",BILL:"BILLS_AND_UTILITIES",EDUC:"EDUCATION",ENTT:"FUN_ENTERTAINMENT",FEES:"FEES_AND_ADJUSTMENTS",FOOD:"FOOD_AND_DRINK",GASS:"GAS",GIFT:"GIFTS_DONATIONS",GROC:"GROCERIES",HEAL:"HEALTH_AND_WELLNESS",HOME:"HOME",MRCH:"MERCHANDISE_AND_INVENTORY",MISC:"MISCELLANEOUS",OFFI:"OFFICE_AND_SHIPPING",PERS:"PERSONAL",PROF:"PROFESSIONAL_SERVICES",REPA:"REPAIR_AND_MAINTENANCE",SHOP:"SHOPPING",TRAV:"TRAVEL"},SPENDING_REPORT_CATEGORY_OPTIONS:{ALL:"ALL_CATEGORIES",AUTOMOTIVE:"AUTOMOTIVE",BILLS_UTILITIES:"BILLS_AND_UTILITIES",EDUCATION:"EDUCATION",ENTERTAINMENT:"FUN_ENTERTAINMENT",FEES:"FEES_AND_ADJUSTMENTS",FOOD_DRINK:"FOOD_AND_DRINK",GAS:"GAS",GIFTS_DONATIONS:"GIFTS_DONATIONS",GROCERIES:"GROCERIES",HEALTH_FITNESS:"HEALTH_AND_WELLNESS",HOME:"HOME",MERCHANDISE_INVENTORY:"MERCHANDISE_AND_INVENTORY",MISCELLANEOUS:"MISCELLANEOUS",OFFICE_SHIPPING:"OFFICE_AND_SHIPPING",PERSONAL:"PERSONAL",PROFESSIONAL_SERVICES:"PROFESSIONAL_SERVICES",REPAIR_MAINTENANCE:"REPAIRS_AND_MAINTENANCE",SHOPPING:"SHOPPING",TRAVEL:"TRAVEL"},SPENDING_REPORT_CATEGORY_OPTIONS_KEY:{ALL:"ALL_CATEGORIES",AUTOMOTIVE:"AUTOMOTIVE",BILLS_AND_UTILITIES:"BILLS_UTILITIES",EDUCATION:"EDUCATION",FUN_ENTERTAINMENT:"ENTERTAINMENT",FEES_AND_ADJUSTMENTS:"FEES",FOOD_AND_DRINK:"FOOD_DRINK",GAS:"GAS",GIFTS_DONATIONS:"GIFTS_DONATIONS",GROCERIES:"GROCERIES",HEALTH_AND_WELLNESS:"HEALTH_FITNESS",HOME:"HOME",MERCHANDISE_AND_INVENTORY:"MERCHANDISE_INVENTORY",MISCELLANEOUS:"MISCELLANEOUS",OFFICE_AND_SHIPPING:"OFFICE_SHIPPING",PERSONAL:"PERSONAL",PROFESSIONAL_SERVICES:"PROFESSIONAL_SERVICES",REPAIRS_AND_MAINTENANCE:"REPAIR_MAINTENANCE",SHOPPING:"SHOPPING",TRAVEL:"TRAVEL"},NUCLEUS_SPENDING_BY_CATEGORY_OPTIONS:{ALL_CATEGORIES:"ALL",AUTOMOTIVE:"AUTO",BILLS_UTILITIES:"BILL",EDUCATION:"EDUC",ENTERTAINMENT:"ENTT",FEES:"FEES",FOOD_DRINK:"FOOD",GAS:"GASS",GIFTS_DONATIONS:"GIFT",GROCERIES:"GROC",HEALTH_FITNESS:"HEAL",HOME:"HOME",MERCHANDISE_INVENTORY:"MRCH",MISCELLANEOUS:"MISC",OFFICE_SHIPPING:"OFFI",PERSONAL:"PERS",PROFESSIONAL_SERVICES:"PROF",REPAIR_MAINTENANCE:"REPA",SHOPPING:"SHOP",TRAVEL:"TRAV"},CC_TRANS_TYPE_MAPPER:{ADJUSTMENT:"B"},MONTHS:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],CC_TRANS_TIME_PERIOD_OPTIONS:{CURRENT_ACTIVITY:"CURRENT_ACTIVITY",LAST_STATEMENT:"LAST_STATEMENT",TWO_STATEMENTS_PRIOR:"TWO_STATEMENTS_PRIOR",THREE_STATEMENTS_PRIOR:"THREE_STATEMENTS_PRIOR",ALL_TRANSACTION:"ALL_TRANSACTION",DATE_RANGE:"DATE_RANGE"},INVESTMENT_TYCD_PRIVILEGES:{dashboard_investment_menu:"dashboard_investment_menu",INVESTMENTACCOUNT_PORTFOLIO_BALANCE:"INVESTMENTACCOUNT_PORTFOLIO_BALANCE",INVESTMENTACCOUNT_TRADE_CONFIRMATIONS:"INVESTMENTACCOUNT_TRADE_CONFIRMATIONS",INVESTMENTACCOUNT_VIEW_DOCUMENTS:"INVESTMENTACCOUNT_VIEW_DOCUMENTS",INVESTMENTACCOUNT_ORDERSTATUS:"INVESTMENTACCOUNT_ORDERSTATUS",INVESTMENTACCOUNT_STOCKETFS:"INVESTMENTACCOUNT_STOCKETFS",INVESTMENTACCOUNT_MUTUALFUNDS:"INVESTMENTACCOUNT_MUTUALFUNDS",INVESTMENTACCOUNT_TRADEOPTIONS:"INVESTMENTACCOUNT_TRADEOPTIONS",INVESTMENTACCOUNT_MANAGEPAPERLESSSETTINGS:"INVESTMENTACCOUNT_MANAGEPAPERLESSSETTINGS",PROFILE_SHOWFAVORITEACCOUNTS:"PROFILE_SHOWFAVORITEACCOUNTS",DOCUMENTS_TAXDOCUMENTS:"DOCUMENTS_TAXDOCUMENTS",DOCUMENTS_STATEMENTS:"DOCUMENTS_STATEMENTS",INVESTMENTACCOUNT_TAXDOCUMENTS:"INVESTMENTACCOUNT_TAXDOCUMENTS",INVESTMENTACCOUNT_STATEMENTS:"INVESTMENTACCOUNT_STATEMENTS",PROFILE_NICKNAMEACCOUNTS:"PROFILE_NICKNAMEACCOUNTS",PROFILE_SHOWHIDEACCOUNTS:"PROFILE_SHOWHIDEACCOUNTS",INVESTMENTACCOUNT_PORTFOLIO_POSITIONS:"INVESTMENTACCOUNT_PORTFOLIO_POSITIONS",INVESTMENTACCOUNT_PORTFOLIO_ASSET_CLASS:"INVESTMENTACCOUNT_PORTFOLIO_ASSET_CLASS",INVESTMENTACCOUNT_PORTFOLIO_OVERVIEW:"INVESTMENTACCOUNT_PORTFOLIO_OVERVIEW",INVESTMENTACCOUNT_PORTFOLIO_TRANSACTIONS:"INVESTMENTACCOUNT_PORTFOLIO_TRANSACTIONS",INVESTMENTACCOUNT_PORTFOLIO_GAINLOSS:"INVESTMENTACCOUNT_PORTFOLIO_GAINLOSS",INVESTMENTACCOUNT_PORTFOLIO_STUDYMARKETS:"INVESTMENTACCOUNT_PORTFOLIO_STUDYMARKETS",INVESTMENTACCOUNT_SHAREHOLDER_MATERIALS:"INVESTMENTACCOUNT_SHAREHOLDER_MATERIALS"},MONTH:{1:"Jan",2:"Feb",3:"Mar",4:"Apr",5:"May",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Oct",11:"Nov",12:"Dec","01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Aug","09":"Sep"},CARD_UPDATE_DUE_DATE_HELP:{AOC_6530:{CALL_US_ANYTIME:"1-800-493-3319",OUTSIDE_US:"1-614-776-7050",TTY_SUPPORT:"1-800-955-8060"},DEFAULT_ALL:{CALL_US_ANYTIME:"1-800-432-3117",OUTSIDE_US:"1-800-955-8060",TTY_SUPPORT:"1-800-955-8060"}},MAX_AMOUNT:999999999999.99,TRILLION:1e12,MINUS_TRILLION:-1e12,TIME_AM:"AM",TIME_PM:"PM",NUMBER_ZERO:"0",MASK_X:"x",X:"X",MASK_DOTS:"...",S:"S",TO:"to",CHECKS:"Checks",ENDING:"Ending",YOUR:"Your",STATEMENT:"Statement",ADVANCE_FILTER:"ADVANCED_FILTER",SORT_OPTIONS:"SORT_OPTIONS",CARD_QUICK_FILTER_STATEMENT:"statement",STATEMENT_DOCUMENTS:"statements",HOLDS:"HOLDS",CONTENT:"content-link",INTERNAL:"internal-link",EXTERNAL:"external-link",SEURAT:"seurat-link",VIDEO_LINK:"video-link",VIDEO_ICON:"video-play",CONTENT_TYPE:"content-type",DATA_ADA_TEXT:"data-accessibility-text",DATA_NAV_KEY:"data-navkey",BLUE_PARAM:"blue-param",ID:"id",ActivtyDownload:"ActivtyDownload",SEGMENT:{COMMERCIAL:{CML:"CML",CRE:"CRE"},BUSINESSBANKING:"BB",BB:{BPL:"BPL",BOH:"BOH",BMG:"BMG"}},PRICINGSEGMENT:{STANDARD:4,DEFAULT:5,PREMIUM:6,PREMIUMPLUS:24,NOPRICINGPACKAGE:12,CHECK_OLD:84},ACTIVITY_LENGTH_DEFAULTS:{DDA:{STANDARD:24,CHECK_OLD:84},CCO:{STANDARD:4,STATEMENTS_ONLY:4,PREMIUM:24,PREMIUM_PLUS:24,DEFAULT:4},CCF:{STANDARD:4,STATEMENTS_ONLY:4,PREMIUM:24,PREMIUM_PLUS:24,DEFAULT:4},CTL:{STANDARD:4,PREMIUM:24,PREMIUM_PLUS:24,DEFAULT:4}},DATERANGEHELPMESSAGE:{LAST_FOUR_MONTHS:"LAST_FOUR_MONTHS",LAST_SIX_MONTHS:"LAST_SIX_MONTHS",LAST_TWELVE_MONTHS:"LAST_TWELVE_MONTHS",LAST_TWENTY_FOUR_MONTHS:"LAST_TWENTY_FOUR_MONTHS",LAST_SEVEN_YEARS:"LAST_SEVEN_YEARS"},FAVORITE:"Fav",UNCOLLECTED:"UNCOLLECTED",NO_ACCOUNT_ACTIVITY:"NO_ACCOUNT_ACTIVITY",DUE_IN_DAYS:"DUE_IN_DAYS",DUE_TODAY:"DUE_TODAY",LATE:"LATE",PAST_DUE:"PAST_DUE",PAST_DUE_1_TO_30_DAYS_OPEN:"PAST_DUE_1_TO_30_DAYS_OPEN",PAST_DUE_31_TO_60_DAYS_OPEN:"PAST_DUE_31_TO_60_DAYS_OPEN",PAST_DUE_1_TO_60_DAYS_CLOSED:"PAST_DUE_1_TO_60_DAYS_CLOSED",PAST_DUE_61_TO_120_DAYS_CLOSED:"PAST_DUE_61_TO_120_DAYS_CLOSED",PAST_DUE_121_TO_210_DAYS_CLOSED:"PAST_DUE_121_TO_210_DAYS_CLOSED",AFTER_DUE_BEFORE_CYCLE:"AFTER_DUE_BEFORE_CYCLE",VIDEO:"video",REQ_VIDEO:"requestVideo",VIDEO_CBO_LIB:{en:"/content/videos/video-library/en/groups/business/cbo-",es:"/content/videos/video-library/es/groups/business/cbo-"},SITE_OVERVIEW_VIDEO:"site-overview",REQUEST_ACTIVITY_ERROR:{INVALID_TRANSACTION_TYPE:"INVALID_TRANSACTION_TYPE",NO_ACCOUNT_ACTIVITY:"NO_ACCOUNT_ACTIVITY",NO_ACCOUNT_ACTIVITY_TWENTY_FOUR_MONTHS:"NO_ACCOUNT_ACTIVITY_TWENTY_FOUR_MONTHS",MISSING_MANDATORY_DATA:"MISSING_MANDATORY_DATA",NO_EXACT_MATCH:"NO_EXACT_MATCH"},HEADER_CLASS:{LABEL_CLASS:"col-sm-3 col-xs-6"},DOWNLOAD_ACCOUNT_ACTIVITY:{ACTIVATED:"ACTIVATED",DEACTIVATED:"DEACTIVATED",LAST_NINETY_DAYS:"LAST_NINETY_DAYS",LAST_TWENTY_FOUR_MONTHS:"LAST_TWENTY_FOUR_MONTHS",PREPAID_ACCOUNT_FILE_TYPE:"PREPAID_ACCOUNT_FILE_TYPE",SELECT_ACTIVITY:"SELECT_ACTIVITY",DEPOSIT_ACCOUNT_FILE_TYPE:"DEPOSIT_ACCOUNT_FILE_TYPE",SELECT_FILE_TYPE_AND_ACTIVITY:"SELECT_FILE_TYPE_AND_ACTIVITY",GLOBAL:"GLOBAL",app:"app",checkmarkAda:"checkmarkAda",otherFileTypeOptions:"otherFileTypeOptions",CREDIT_CARD_ACCOUNT_FILE_TYPE:"CREDIT_CARD_ACCOUNT_FILE_TYPE",CURRENT_DISPLAY:"CURRENT_DISPLAY",STATEMENT:"STATEMENT",STATEMENTS:"STATEMENTS",YEAR_TO_DATE:"YEAR_TO_DATE",PREVIOUS_YEAR:"PREVIOUS_YEAR",ALL:"ALL",ALL_TRANSACTION:"ALL_TRANSACTION",YEARS:"YEARS",SINCE_LAST_STATEMENT:"SINCE_LAST_STATEMENT",currentDisplayOption:"currentDisplayOption",SELECT_DATE_RANGE:"SELECT_DATE_RANGE",systemException:"systemException",SYSTEM_FAILURE:"SYSTEM_FAILURE",cardSystemException:"cardSystemException",FIX_DATE_FIELD:"FIX_DATE_FIELD"},servicePromiseAborted:"servicePromiseAborted",USER_TYPE:{SUB_USER:"SU"},ROUTE:{AREA_NAME_PAYBILLS:"payBills",CONTROLLER_NAME_BLP:"setupAutomaticBusinessLoanPayments",ACTION_NAME_INIT:"initiate"},LANGUAGE:{ES:"es",EN:"en"},BUSINESS_CARD_TYPES:{OWNER:"OWNER",EMPLOYEE:"EMPLOYEE",CONTROL:"CONTROL",SUB_ACCOUNT:"SUBACCOUNT"},EXCLUDED_BUSINESS_CARD_TYPES:["OWNER","EMPLOYEE","SUBACCOUNT"],HTTP_CODES:{SUCCESS:200,REDIRECT:401},CREDIT_CARD_TYPES:{CHASE_SLATE:"CHASE_SLATE",INK_CAPITAL:"INK_CAPITAL",CAPITAL_CARD:"CAPITAL_CARD",DISNEY_REWARDS:"DISNEY_REWARDS"},ERROR_CODES:{SYSTEM_FAILURE:"SYSTEM_FAILURE",ADDITIONAL_ACCOUNT_ACTIVITY:"ADDITIONAL_ACCOUNT_ACTIVITY"},ASSET_TYPE_MAPPER:{STOCK:"STOCKS",ETF:"ETF",MUTUALFUND:"MF"},ASSET_SUB_CLASSIFICATION_MAPPER:{"Asset-Linked Notes":"STOCKS","Senior Note":"STOCKS",Debenture:"STOCKS","Exchange Traded Note":"ETF",Warrant:"STOCKS","Common Stock":"STOCKS","American Depositary Receipt":"STOCKS","Convertible Preference":"STOCKS","Depositary Receipt":"STOCKS",Preferred:"STOCKS",Rights:"STOCKS","Unit Trust Fund":"STOCKS","When Issued":"STOCKS",Index:"STOCKS","Exchange Traded Fund":"ETF","Closed-End Fund":"STOCKS","Mutual Fund":"MF","Open Fund":"MF","Money Market Fund":"MF"},ASSET_TYPES:{STOCK:"STOCK",ETF:"ETF",MF:"MUTUAL_FUND",EQ:"EQUITY",OTHER:"OTHER",OPTIONS:"OPTIONS"},IDC_SOURCES:{CHASE_FUNDS:"CHASE_FUNDS",MDGETF:"MDG,ETF",ETF:"ETF"},IDC_FILTERS:{EQUITY:"STO,C_STO,PREF_STO,ETF,WAR,RIGHT,768,8200,1536,3584,CBOND"},BLA_LOAN_OFFER:{NEWLOAN:"NEW",RENEWALLOAN:"RENEW"},ALA_MAILTYPES:{EXPEDITED:"EXPEDITED",REGULAR:"REGULAR"},VARIANCE_TYPE:{NOT_SAPPHIRE_PREFERRED:"NOT_CHASE_SAPPHIRE_PREFERRED_CARD",SAPPHIRE_PREFERRED:"CHASE_SAPPHIRE_PREFERRED_CARD",BUSINESS:"BUSINESS",CHASE_FLEX_CARD:"FLEX_CREDIT_ACCOUNT"},MAINTENANCE_MODES:{ECD_STAND_IN:"ECD_STAND_IN",BELLVILLE_READ_ONLY:"BELLVILLE_READ_ONLY",C3_READ_ONLY:"C3_READ_ONLY",SPLASH:"SPLASH",UNPLANNED_READ_ONLY:"UNPLANNED_READ_ONLY",SAFE_MODE:"SAFE_MODE",EMERGENCY:"EMERGENCY"},ACCOUNT_ACTIVITY_DATA_POINT:{MAXIMUM_ACTIVITY_THRESHOLD_REACHED:"MAXIMUM_ACTIVITY_THRESHOLD_REACHED",END_OF_ACTIVITY:"END_OF_ACTIVITY",MORE_ACTIVITY_AVAILABLE:"MORE_ACTIVITY_AVAILABLE"},REWARD_ACCOUNT_GROUPTYPE:{PERSONAL:"PERSONAL",BUSINESS:"BUSINESS"},REDEEM_COUPON_ERROR_CODES:{INVALID_ZIP_CODE:"INVALID_ZIP_CODE",CITIES_STATE_NOT_FOUND:"CITIES_STATE_NOT_FOUND"},detailTypeReplace:{HLM:"HEL",RCM:"RCA",HEM:"HEO",ILM:"ILA"},ACCOUNT_LABEL_CODE:{ACCOUNT_0:"ACCOUNT",SAVINGS_ACCOUNT_10:"SAVING",CHECKING_ACCOUNT_20:"CHECKING",SAVINGS_ACCOUNT_90:"SAVING",DEBIT_CARD_34:"DEBIT_CARD"},SINGLE_CARD:{SINGLE_CARD_CUSTOMER:"SINGLE_CARD_CUSTOMER"},GROUP_NAME:{DEPOSITS:"dda",MERCHANT:"merchant",INVESTMENTS:"investment",LIABILITIES:"credit"},SCORE_TYPE:{VANTAGE_SCORE:"VANTAGE_SCORE"},FILE_UPLOAD:{MAX_FILE_SIZE:5.25,ALLOWED_EXTENSIONS:".JPG, .JPEG, .PNG, .PDF"},OVD_ACTION:{multiCard:"multiCard",singleCard:"singleCard"},ADDRESS_VALIDATE_OPTIONS:{USED_RECOMMENDED:"USED_RECOMMENDED_ADDRESS",USED_ENTERED:"USED_ENTERED_ADDRESS",NO_ADDRESS_RECOMMENDATION:"NO_ADDRESS_RECOMMENDATION",USED_MERCHANTDIRECTORY:"USED_MERCHANT_DIRECTORY_ADDRESS"},QUERY_PARAMS:{COUPON_CODE:"couponCode",ACCT_TYPE:"accountType"},STOP_PAYMENT_DETAILS_TABLE:{TOGGLE_EXPANSION_ADA:"Row toggle"},SEGMENTS:{PAF:"paf",NONPAF:"non-paf",CML:"CML",CRE:"CRE"},ACCOUNT_BENEFITS:{ULTIMATE_REWARDS_ACCOUNT:"ultimateRewardsAccountTileIds",CARD_UR_ACCOUNT:"cardURTileId",DEPOSIT_UR_ACCOUNT:"depositURTileId",CREDIT_SCORE_ACCOUNT:"creditScoreAccountTileIds"},PROMOTION_INDICATOR:{T:"SPECIAL_FINANCE",F:"EQUAL_PAY_FINANCE"},SERVICE_PLAN:{STATEMENTS_ONLY:"STATEMENTS_ONLY"},TILE_ID:{CREDIT_SCORE_TILE:"creditScoreTile",MORTGAGE_APPLICATION:"mortgageApplication",INVESTMENT_APPLICATION:"investmentApplication"},MORTGAGE_APPLICATION_ERROR_CODES:{ENROLLMENT_REQUIRED:"ENROLLMENT_REQUIRED",FULFILLMENT_REQUIRED:"FULFILLMENT_REQUIRED",INELIGIBLE_ECI:"INELIGIBLE_ECI"},APPLICATION_CONTEXT:{MORTGAGE_APPLICATION_CONTEXT:"MOR",MORTGAGE_HOMEVALUE_CONTEXT:"MORCALC"},LANDING_PAGE:{MY_HOME:"BK_AMORTIZATION_CALCULATOR",MY_LOAN:"BK_LOAN",MY_NEIGHBORHOOD:"BK_NEIGHBORHOOD",DEFAULT:"BK_DASHBOARD"},AS_OF_DATE_FILTER:{INTRADAY:"INTRADAY",PRIOR_CLOSE:"PRIOR_CLOSE",MONTH_END:"MONTH_END",SPECIFIC_DATE:"SPECIFIC_DATE",MAKE_DEFAULT:"MAKE_DEFAULT"},REVIEWED_TRANS:{REVIEWED_TRANSACTION_SHOW_COUNT:25,REVIEWED_TRANSACTION_INTERVAL_FROM_SERVER:100,REQUEST_ADDITIONAL_ACCOUNT_ACTIVITY:"REQUEST_ADDITIONAL_ACCOUNT_ACTIVITY",STATUS_FILTER:"REVIEWED",TRANSACTION_COUNT:1,SINGLE:"SINGLE",MULTIPLE:"MULTIPLE"},AMAZON_CARDS:{cardType:{AMAZON:"AMAZON",AMAZON_PRIME:"AMAZON_PRIME"},paymentType:{STATEMENT_BALANCE:"STATEMENT_BALANCE"}},DISMISS_MESSAGE_TYPES:["PENDING_LEGAL_AGREEMENT","ANNOUNCEMENT","QPTOKEN_INACTIVE_REMINDER"],DECISION:{APPROVED:"APPROVED",DECLINED:"DECLINED"},MODEL_SPECIAL_ANNOUNCE:"specialAnnounceModel",ACCOUNT_ACTIVITY_PER_PAGE:32,ODS_BCC_MEMO_MAX_LENGTH:200,BCC_MEMO_MAX_LENGTH:50,DDA_ACCOUNT_ACTIVITY_ERROR_CODES:{CHECK_SEARCH_RESULTS_EXCEEDS_150:"SEARCH_RESULTS_EXCEEDED_ONE_HUNDRED_AND_FIFTY",CHECK_SEARCH_RESULTS_NO_MATCH:"NO_SEARCH_ACTIVITY"},CASH_SWEEP_FUNDS_POSITION_DESC:"Cash and Sweep Funds",FORMATTER_TYPE:{NEGOTIATION:"negotiation"},STATEMENT_BALANCE_TYPE:{STATEMENT_BALANCE:"STATEMENT_BALANCE",REMAINING_STATEMENT_BALANCE:"REMAINING_STATEMENT_BALANCE"},CURRENT_BALANCE:"CURRENT_BALANCE",CARD_CONTROLS:"cardControls",UPDATE_CARD_TYPE:{AMAZON_REWARDS_VISA:"AMAZON"},SLIDE_IN_TYPE:{DEBIT_CARD_ACTIVATION:"debitCardControls",CREDIT_CARD_ACTIVATION:"cardActivation",INCREASE_CREDIT_LIMIT:"increaseCreditLimitInitiate",MOVE_MONEY:"childDebitAccountMoveMoney"},SLIDE_IN_INVOKED_FROM:{ACCOUNT_SUMMARY:"accountSummary",MULTI_ACCOUNTS:"multiAccounts",SINGLE_ACCOUNT:"singleAccount"},ODS_SERVICE_FEATURE_FLAGS:{DDA:{ODS_ACTIVITY:{DEFAULT:"odsAccountActivityDDAFlag",FEATURE:"nucleusODSActivityDDAFlag"},RECENT_ACTIVITY:{DEFAULT:"odsRecentActivityDDAFlag",FEATURE:"nucleusODSRecentActivityDDAActivity"}},CARD:{ODS_ACTIVITY:{FEATURE:"updatedOdsActivityCardFlag"},RECENT_ACTIVITY:{FEATURE:"updatedOdsActivityCardFlag"}}},ODS_WIDGET_NAME:{DEFAULT:"odsWidget",FEATURE:"odsNucleusWidget"},ACCOUNTS_COMMON_FEATURE_FLAGS:["msaCardSummariesServiceUpdated"],REWARDS_SUMMARY_ROUTE:{REWARDS_SUMMARY:"rewardsSummary",REQUEST_REWARDS_SUMMARY:"requestRewardsSummary",REQUEST_REWARDS_SUMMARY_BLOCK:"requestRewardsSummaryBlock"},ACCOUNT_MORE_MENU_FEATURE_FLAGS:["mortgageAmortizationFlag","homeEquityBlackKnightServiceFlag","increaseCreditLimitFlag","increaseCreditLimitBusinessCardFlag","appointmentSchedulerFlag","appointmentSchedulerAccessFlag","businessesWithCardOnFileCredit","cardActivationDDAFlag","cardReplacementFeatureFlag","escrowAnalysisStatementsFlag","requestPayOffQuoteFlag","ovdBorrowingServicesFlag","redeemRewardsSamlNavigationEnable","myChasePlanFlag","myChaseLoanFlag","ableAdvancesEnable","garageCollectionFlag","autoLeaseExtensionMaturityDate","requestEdocsOverviewFlag"],CBO_LANDING_PAGE:"BUSINESS_OVERVIEW",PENDING_APPLICATION_FEATURE_FLAG:"pendingApplicationFeatureFlag",CARD_ON_FILE_FEATURE_FLAGS:["businessesWithCardOnFileCredit"],ACCOUNTS_FEATURE_FLAGS:["enableOVDForGeminiUsers","sbaLoanForgivenessFlag","sbaLoanSubsidyFlag"],MORTGAGE_SERVICE_REDIRECT_CONTEXT:"MORCALC",ODS_TRANSACTION_TYPES:["ALL","ADJUSTMENT","CASH_ADVANCE","FEE","OTHER_TRANSACTIONS","PAYMENT","REFUND","RETURN","REVERSAL","SALE"],ODS_NUCLEUS_TRANSACTION_TYPES:["ALL","B","E","F","O","P","G","R","H","S"],USER_PREFERENCE:{RESTORE_FLYOUT_ON_SAVE_CHECK:"restoreSlideInOnSaveCheck",RESTORE_URL:"restoreUrl",RESTORE_FLYOUT_ON_SPENDING_REPORT:"restoreSlideInOnSpendingReport"},MERCHANT_SERVICES_ROUTES:{MERCHANT_SERVICES_DEPOSIT_ACCOUNT_FLYOUT:["merchantServicesDepositAccount","linkedAccount"],FLYOUTS:{merchantServicesTransactionRefund:"merchantServicesTransactionRefund",merchantServicesTransactionTip:"merchantServicesTransactionTip",merchantServicesTransactionTipVerify:"merchantServicesTransactionTipVerify"},EXCLUDED_REFRESH_FLYOUTS:{merchantServicesTransactionTipConfirm:"merchantServicesTransactionTipConfirm",merchantServicesTransactionRefundConfirm:"merchantServicesTransactionRefundConfirm"},FLYOUT_ANALYTICS:{issueRefund:"issueRefund",verifyRefund:"verifyRefund",confirmRefund:"confirmRefund",addGratuity:"addGratuity",verifyGratuity:"verifyGratuity",confirmGratuity:"confirmGratuity"},VIEW_DISPUTES:"/dashboard/merchantServicesBlock/disputes/index",HYBRID_TRANSACTION_REFUND:"/dashboard/merchantServices/index",HYBRID_VERIFY_TRANSACTION_REFUND:"/dashboard/merchantServices/transactionRefund/verifyRefund",HYBRID_VERIFY_TRANSACTION_REFUND_VERIFY_NEXT:"/dashboard/merchantServices/transactionRefund/verifyNextStep",HYBRID_VERIFY_TRANSACTION_REFUND_VERIFY_PREVIOUS_NEW:"/dashboard/merchantServices/transactionRefund/issueRefund",HYBRID_VERIFY_TRANSACTION_REFUND_VERIFY_PREVIOUS:"/dashboard/merchantServices/transactionRefund/verifyPreviousStep",HYBRID_EXIT_TRANSACTION_REFUND:"/dashboard/merchantServices/transactionRefund/doneMerchantServicesTransactionRefund",EXIT_TRANSACTION_REFUND:"/dashboard/merchantServices/transactionRefund/exitMerchantServicesTransactionRefund",HYBRID_TRANSACTION_TIP:"/dashboard/merchantServices/transactionTip/index",HYBRID_VERIFY_TRANSACTION_TIP:"/dashboard/merchantServices/transactionTip/verifyGratuity",HYBRID_CONFIRM_TRANSACTION_REFUND:"/dashboard/merchantServices/transactionRefund/confirmRefund",HYBRID_CONFIRM_TRANSACTION_TIP:"/dashboard/merchantServices/transactionTip/confirmGratuity",HYBRID_CONFIRM_TRANSACTION_VERIFY_NEXT:"/dashboard/merchantServices/transactionTip/verifyNextStep",HYBRID_CONFIRM_TRANSACTION_VERIFY_PREVIOUS:"/dashboard/merchantServices/transactionTip/addGratuity",HYBRID_EXIT_TRANSACTION_TIP:"/dashboard/merchantServices/transactionTip/processMsTipAdjustmentComplete",MERCHANT_SERVICES_ACCOUNT_DETAILS:"/dashboard/merchantServicesBlock/accountDetails/index",HYBRID_REFUND_DONE:"/dashboard/merchantServices/transactionRefund/hybridExitMerchantServicesTransactionRefund",HYBRID_TIP_DONE:"/dashboard/merchantServices/transactionTip/hybridExitMerchantServicesTransactionTip",EXIT_TRANSACTION_TIP:"/dashboard/merchantServices/transactionTip/exitMerchantServicesTransactionTip"},MERCHANT_FUNDED_OFFERS_VALID_DETAIL_TYPES:["CHK","BAC","BCC"],JUMBO_ACCOUNT_DETAIL_TYPES_ORDER:["BAC","BCC","CHK"],DSOOFFERS_DISPLAYTYPES:{ANNOUNCEMENTS:2,ANNOUNCEMENTS_SLIDEIN:3},DATE_FORMAT:{yearMonthDateFormat:"YYYYMMDD",year_Month_DateFormat:"YYYY-MM-DD"},TIME_ZONES:{America_New_York:"America/New_York"},DATE_FORMATS:{YYYYMMDD:"YYYY-MM-DD",MMDDYYYY:"MM/DD/YYYY",yearMonthDateFormat:"YYYYMMDD"},ODS_CC_TRANS_TYPE_OPTIONS:{OTHER:"OTHER_TRANSACTIONS"},SPENDING_REPORT_TIME_FRAME:{YTD:"YTD",YES:"YES"},LOAN_OBLIGATIONS:{LOAN_COUNT:1,MAX_LOANS_TO_DISPLAY:5},REDEEM_REWARDS:{rewardsId:68,context:"WL1"},WHITE_LABEL_SAML:["DISNEY","MARY_KAY"],REDEEM_REWARDS_FEATURE_FLAGS:["redeemRewardsSamlNavigationEnable"],AUTO_SAVE:{REFERRER:{autoSaveEnrolled:"autoSaveEnrolled",showAutoSaveGraph:"showAutoSaveGraph",autoSaveNotEnrolled:"autoSaveNotEnrolled",singleAccountAutoSave:"singleAccountAutoSave"}},HMG_PAYMENT:{PAYMENT_CHANGING_AFTER_ESCROW_ANALYSIS:"PAYMENT_CHANGING_AFTER_ESCROW_ANALYSIS",SINGLE_PAYMENT_IN_PROCESS:"SINGLE_PAYMENT_IN_PROCESS",MULTIPLE_PAYMENT_IN_PROCESS:"MULTIPLE_PAYMENT_IN_PROCESS"},NON_DDA_DETAIL_TYPES:["BCC","BAC","OLC"],BUSINESSINFO_SERVICE_PARAMS:{ALL:"ALL",CREDIT:"CREDIT",DEBIT:"DEBIT"},DONOR_ADVISED_FUND_TYPE:"DAF",NPT_DETAIL_TYPE:"NPT",DONOR_ADVISED_GROUP_TYPE:"DONOR_ADVISED_FUND",INVESTMENT_TILE:"investmentTile",PAYMENT_HUB_MENU:{paymentHubRecipients:["payments.payees","payments.quickpayrecipients","payroll.payee","payments.wirerecipients"],paymentHubQuickPaySettings:["payments.quickpaysettings","payroll.demo"],paymentHubTertiaryContext:"cxo_nav_paymentsummary_sub_menu",customRecipientsPrivilege:"custom.paymentHub.showRecipient",customSettingsPrivilege:"custom.paymentHub.showSettings",transferFundsPrivilege:"payments.transferfunds",securityTransferPrivilege:"payments.transfersecurities",cardBalanceTransferPrivilege:"payments.cardbalancetransfer",customTransferFundsPrivilege:"custom.paymentHub.transferFunds",customTransferDropdownPrivilege:"custom.paymentHub.transferActivities"},COMMERCIAL_PAYMENT_HUB_MENU:{paymentHubRecipients:["payments.quickpayrecipients","payroll.payee","payments.wirerecipients","payments.payees"],paymentHubPayOptions:["payments.more.pmtpayroll","payments.loanadv","payments.more.billdotcom","custom.wiresandglobaltransfers","payments.paybills","payments.paychase.product"],paymentHubQuickPaySettings:["payments.quickpaysettings","payroll.demo"],commercialPaymentHubTertiaryContext:"cxo_nav_commercial_paymentsummary_sub_menu",customRecipientsPrivilege:"custom.paymentHub.showRecipient",customSettingsPrivilege:"custom.paymentHub.showSettings",transferFundsPrivilege:"payments.transferfunds",securityTransferPrivilege:"payments.transfersecurities",cardBalanceTransferPrivilege:"payments.cardbalancetransfer",customTransferFundsPrivilege:"custom.paymentHub.transferFunds",customTransferDropdownPrivilege:"custom.paymentHub.transferActivities",customPayMenuPrivilege:"custom.paymentHub.pay",wireTransferPrivileges:["payments.wiresandglobaltransfers","payments.wiretransfers.business"],customerWiresAndGlobalTransfers:"custom.wiresandglobaltransfers"},REVENUE_CENTER:{revenueCenterTertiaryContext:"cxo_nav_collect_and_deposit_sub_menu",customRevenuecenterActivity:"custom.revenuecenter.activity",customRevenuecenterCustomer:"custom.revenuecenter.customer",customRevenuecenterSettings:"custom.revenuecenter.settings",revenuecenterActivityPrivileges:["payment.quickaccept.activity","payments.quickpay.todolist","collectreceive.collections.activity","quickdeposit.activity"],revenuecenterCustomerPrivileges:["payments.quickpayrecipients","collectreceive.collections.managepayors"],revenuecenterSettingsPrivileges:["payments.quickpaysettings"]},CLOSE:"CLOSE",FEATURE_FAILURE:"FEATURE_FAILURE",AUTOPAY_STATUS:{IN_PROGRESS:"IN_PROGRESS",ENROLLED:"ENROLLED"},LINK_TYPES:{INTERNAL_LINK:"internal-link",FLYOUT_LINK:"flyout-link",SEURAT_LINK:"seurat-link",NAVIGATION_LINK:"navigation-key"},CLOSED_MORTGAGE_STATUS:{PAID_OFF:"PAID_OFF"},VALID_ENROLLMENT_STATUSES:["ELIGIBLE","FULFILLED","ENROLLED"],CAAS_FLOW_ID:{PHONE_PROFILE:{ADD:"PHONE_CHANGE_ADD",EDIT:"PHONE_CHANGE_EDIT"}},CREDIT_JOURNEY_STATUSES:{ENROLLED:"ENROLLED",FULFILLED:"FULFILLED",NOT_ENROLLED:"ELIGIBLE"},CREDIT_JOURNEY_VARIATIONS:{FULFILLED:"ENROLLMENT_FULLFILLED",ELIGIBLE:"ENROLLMENT_REQUIRED",ENROLLED:"ENROLLED"},DEFAULT:"default",PAID_OFF:"paidOff",POST_CHARGE_OFF_STATUS:"X",BRAND_TYPE:{BUSINESS:"business",COMMERICAL:"commercial"},LOAN_SUBTYPE:{COBALT:"COBALT"},FLYOUT_ACCOUNT_TYPES:["ALA","ALS"],FLYOUT_FASTPAY:";flyout=payLoan,",COMMA:",",THIRD_PARTY_CONTEXT:{WEPAY:"WEPAY",FFS:"FFS",WL1:"WL1"},BCC_CONTROL_CARD_NAME:"BUSINESS CARD",MSA_BBLX_FEATURE_FLAGS:[],WIRE_TRANSTYPE_CODES:{WIRE_INCOMING:"WIRE_INCOMING",WIRE_OUTGOING:"WIRE_OUTGOING"},PIF_OPEN_STATUS:{LATE:"BCC_PIF_LATE",PAST_DUE:"BCC_PIF_PAST_DUE",DUE_TODAY:"BCC_PIF_DUE_TODAY",DUE_IN_DAYS:"BCC_PIF_DUE_IN_DAYS"},PROFILE_TYPE_MAPPER:{PER:"PERSONAL",MUG:"PERSONAL",BUS:"BUSINESS"},DOWNLOAD_FILE_STATUS:{INQ:"INQ",INFO:"INFO"},GLOBAL_NAVIGATION:{maxL2MenuItemsPerColumn:10},SPENDING_CATEGORY_ENUMS_MAPPER:{FEES:"FEES_AND_ADJUSTMENTS",PERS:"PERSONAL",AUTO:"AUTOMOTIVE",TRAV:"TRAVEL",GASS:"GAS",BILL:"BILLS_AND_UTILITIES",PRFS:"PROFESSIONAL_SERVICES",SHOP:"SHOPPING",HEAL:"HEALTH_AND_WELLNESS",EDUC:"EDUCATION",FUNE:"FUN_ENTERTAINMENT",FOOD:"FOOD_AND_DRINK",GROC:"GROCERIES",GIFT:"GIFTS_DONATIONS",HOME:"HOME",CASH:"CASH",TRSF:"TRANSFER",UNCA:"UNCATEGORIZED"},DASHBOARD_URLS:{requestMyAccountsDisplay:"#/dashboard/profileArea/hideAccounts/requestMyAccountsDisplay",dashboardUrl:"/dashboard",payBillsUrl:"#/dashboard/payBills/index/index",faqOnlineUrl:"#/dashboard/transferMoney/transferMoney/initiateTransfer",qpUrl:"#/dashboard/quickPay/quickpay/index",paymentsActivityUrl:"#/dashboard/payBills/paymentsActivity/",merchantBillPaymentActivityAllUrl:"#/dashboard/payBills/paymentsActivity/index;params=billPay,all",quickPayEnrollmentUrl:"#/dashboard/qpSettings/qpSettings/index",managePayeesUrl:"#/dashboard/managePayee/managePayeeNav/index",profileUrl:"#/dashboard/profileArea/overview/updateMyOverviewDetails",chooseProfileAlertsUrl:"#/dashboard/profileArea/chooseAlerts/manageMyAlerts",managePaperlessSettingsUrl:"/dashboard/profileArea/paperless/updateMyPaperlessPreferences",accountNicknameUrl:"/dashboard/profileArea/accountNickname/requestMyAccountNicknames;params=",requestAccountAgreementsUrl:"/dashboard/misc/classic/index;params=legalagreements",applicationStatusUrl:"/dashboard/misc/classic/index;params=checkapplicationstatus",helpCenterUrl:"/dashboard/misc/helpCenter",repeatPaymentsUrl:"#/dashboard/payBills/singlePayment/repeatPayment",accountAlertsUrl:"/dashboard/profileArea/chooseAlerts/manageMyAlerts",profileMenuUrl:"#/dashboard/profileArea/menu/index",myDevicesUrl:"/dashboard/profileArea/myDevices/requestEnrolledDevices",accessHistoryUrl:"/dashboard/profileArea/accessHistory/requestAccessHistory"},healthcarePaymentIntroductionLibraryId:"000020631",actionRoutes:{recipientsList:"recipientsList",activity:"wireAllActivity",repeatingActivity:"repeatingActivity"},activityConfig:{single:{mode:"achPaymentsActivity",stateAction:"manageActivity",stringMap:"achPaymentsActivityUrl",modelId:"ach_payments"},repeating:{mode:"achPaymentsRepeatingActivity",stateAction:"manageRepeating",stringMap:"achPaymentsRepeatingActivityUrl",modelId:"ach_payments_repeating"},fileUpload:{mode:"achPaymentsUploadActivity",stateAction:"manageUpload",stringMap:"achPaymentsUploadActivityUrl",modelId:"ach_payments_upload"}},clearingHouseActivityConfig:{BPC:{single:{mode:"achPaymentsActivity",stateAction:"allActivity",stringMap:"achPaymentsClearingHouseAllActivityBPC",modelId:"ach_payments"},repeating:{mode:"achPaymentsRepeatingActivity",stateAction:"repeatingActivity",stringMap:"achPaymentsClearingHouseRepeatingActivityBPC",modelId:"ach_payments_repeating"},fileUpload:{mode:"achPaymentsUploadActivity",stateAction:"uploadActivity",stringMap:"achPaymentsClearingHouseUploadActivityBPC",modelId:"ach_payments_upload"}},OTHERS:{single:{mode:"achPaymentsActivity",stateAction:"allActivity",stringMap:"achPaymentsClearingHouseAllActivity",modelId:"ach_payments"},repeating:{mode:"achPaymentsRepeatingActivity",stateAction:"repeatingActivity",stringMap:"achPaymentsClearingHouseRepeatingActivity",modelId:"ach_payments_repeating"},fileUpload:{mode:"achPaymentsUploadActivity",stateAction:"uploadActivity",stringMap:"achPaymentsClearingHouseUploadActivity",modelId:"ach_payments_upload"}}}}),define("profileArea/sharedLib/profileConstants",{FINANCIAL_ADVISOR:"FinancialAdvisor",MY_PROFILE_PAGE_HEADER:"#my-profile-page-header",ACCOUNT_ADDRESS_CATEGORY_COMPS:{TAXABLE:{DOMESTIC:{component:"domesticAddressBlock",view:"addressFormView"},MILITARY:{component:"militaryAddressBlock",view:"militaryAddressView"},INTERNATIONAL:{component:"internationalAddressBlock",view:"internationalAddressView"},CANADA:{component:"canadaAddressBlock",view:"canadaAddressView"}},RETIREMENT:{DOMESTIC:{component:"domesticAddressBlock",view:"addressFormView"},INTERNATIONAL:{component:"internationalAddressBlock",view:"internationalAddressView"},CANADA:{component:"canadaAddressBlock",view:"canadaAddressView"},MILITARY:{component:"militaryAddressBlock",view:"militaryAddressView"}}},ACCOUNT_ADDRESS_CATEGORIES:{RETIREMENT:[{name:"United States",value:"DOMESTIC"},{name:"Military",value:"MILITARY"},{name:"International",value:"INTERNATIONAL"},{name:"Canada",value:"CANADA"}],TAXABLE:[{name:"United States",value:"DOMESTIC"},{name:"Military",value:"MILITARY"},{name:"International",value:"INTERNATIONAL"},{name:"Canada",value:"CANADA"}]},ADDRESS_CATEGORY_TYPES_LIST:["DOMESTIC","INTERNATIONAL","CANADA","MILITARY"],ADDRESS_CATEGORY_TYPES:{CANADA:"CANADA",DOMESTIC:"DOMESTIC",INTERNATIONAL:"INTERNATIONAL",MILITARY:"MILITARY",USA:"USA"},MAILING_ADDRESS_CATEGORY:{PERMANENT:"PERMANENT",TEMPORARY:"TEMPORARY",PRIMARY:"PRIMARY",SECONDARY:"SECONDARY",CORRESPONDENCE:"CORRESPONDENCE",RESIDENTIAL:"RESIDENTIAL",MAILINGADDRESS:"MAILINGADDRESS"},ADDRESS_LAYOUT_MODE:{ADD:"ADD",VIEW:"VIEW"},ADDRESS_SERVICE_DATA_MAP:{DOMESTIC:"USA",INTERNATIONAL:"INTERNATIONAL",CANADA:"CANADA",MILITARY:"MILITARY"},ADDRESS_VIEW_DATA_MAP:{USA:"DOMESTIC",INTERNATIONAL:"INTERNATIONAL",CANADA:"CANADA",MILITARY:"MILITARY"},IDENTIFICATION_TYPES:{SSN:{name:"Social Security Number",key:"SSN",variation:"SOCIAL_SECURITY_NUMBER",value:"socialSecurityNumber",mask:"XXX-XX-XXXX"},ITIN:{name:"ITIN",key:"ITIN",variation:"TAX_IDENTIFICATION_NUMBER",value:"individualTaxpayerIdentificationNumber",mask:"XXX-XX-XXXX"},TIN:{name:"EIN",key:"TIN",variation:"EMPLOYER_IDENTIFICATION_NUMBER",value:"employerIdentificationNumber",mask:"XX-XXXXXXX"}},BENEFICIARIES_TYPES:{INDIVIDUAL:"INDIVIDUAL",TRUST:"TRUST",ENTITY:"ENTITY"},BENEFICIARIES_CATEGORIES:{PRIMARY:"PRIMARY",CONTINGENT:"CONTINGENT"},PER_STIRPES_STATUSES:{NOT_APPLICABLE:"NOT_APPLICABLE",SELECTED:"SELECTED",NOT_SELECTED:"NOT_SELECTED"},BENEFICIARIES_INDIVIDUAL_RELATIONSHIP:{SPOUSE:"SPOUSE",BENEFICIARY_NOT_SPOUSE:"BENEFICIARY_NOT_SPOUSE"},SPOUSE_SERVICE_DATA_MAP:{SPOUSE:"SPOUSE",BENEFICIARY_NOT_SPOUSE:"OTHER"},SPOUSE_VIEW_DATA_MAP:{SPOUSE:"SPOUSE",OTHER:"BENEFICIARY_NOT_SPOUSE"},BENEFICIARY_TYPE_SERVICE_DATA_MAP:{INDIVIDUAL:"INDIVIDUAL",ENTITY:"ENTITY",TRUST:"TRUST_ESTATE"},BENEFICIARY_TYPE_VIEW_DATA_MAP:{INDIVIDUAL:"INDIVIDUAL",ENTITY:"ENTITY",TRUST_ESTATE:"TRUST"},BENEFICIARIES_UPDATE_STEPS:{UPDATE:"UPDATE",REVIEW:"REVIEW",AUTHORIZE:"AUTHORIZE",CONFIRMATION:"CONFIRMATION"},BENEFICIARIES_ENTITLEMENTS:{ALL:"ALL",VIEW_ONLY:"VIEW_ONLY",NO_ACCESS:"NO_ACCESS",NOT_APPLICABLE:"NOT_APPLICABLE"},BENEFICIARIES_UPDATE_STATUS:{INPROGRESS:"INPROGRESS",COMPLETED:"COMPLETED",UNDETERMINED:"UNDETERMINED"},BENEFICIARY_ATTESTATION_STATE:{ATTESTED:"ATTESTED",REQUIRED:"REQUIRED",PENDING:"PENDING",CONFIRMED:"CONFIRMED"},BENEFICIARY_TABLE_VIEW_OVERLAY_NAME:{INFORMATION:"viewBeneficiaryOverlay",ATTESTATION:"viewBeneficiaryAttestationOverlay",CONFIRMATION:"viewBeneficiaryAttestationConfirmationOverlay"},BENEFICIARIES_ATTESTATION_STEPS:{AUTHORIZE:"AUTHORIZE",DONE:"DONE"},NO_BENEFICIARIES_FOR_TAXABLE_ACCT_CONSENT_VERSION:{V1:"NoBeneficiaryForTaxableAcctV1"},PARTY_NORMALIZER_ERROR_CODES:{ES_CIS_CST_NORM_BUS_102:"ES_CIS_CST_NORM_BUS_102",ES_CIS_CST_NORM_BUS_103:"ES_CIS_CST_NORM_BUS_103"},ACCOUNT_TYPES:{RETIREMENT:"RETIREMENT",TAXABLE:"TAXABLE"},TOTAL_ALLOCATION_MAP:{PRIMARY:"primaryBeneficiariesTotalAllocation",CONTINGENT:"contingentBeneficiariesTotalAllocation",PRIMARY_VALIDATE:"primaryBeneficiariesTotalAllocationValidte",CONTINGENT_VALIDATE:"contingentBeneficiariesTotalAllocationValidate"},NO_VALUE:"--",ERROR_TYPE:{MISSING_MANDATORY_DATA:"MISSING_MANDATORY_DATA",INVALID_FORMAT:"INVALID_FORMAT",BELOW_MINIMUM:"BELOW_MINIMUM",ABOVE_MAXIMUM:"ABOVE_MAXIMUM",INVALID_DATA:"INVALID_DATA",ABOVE_RETIREMENT_MAXIMUM_PRIMARY_BENEFICIARIES:"ABOVE_RETIREMENT_MAXIMUM_PRIMARY_BENEFICIARIES",ABOVE_RETIREMENT_MAXIMUM_CONTINGENT_BENEFICIARIES:"ABOVE_RETIREMENT_MAXIMUM_CONTINGENT_BENEFICIARIES",ABOVE_TAXABLE_MAXIMUM_PRIMARY_BENEFICIARIES:"ABOVE_TAXABLE_MAXIMUM_PRIMARY_BENEFICIARIES",ABOVE_TAXABLE_MAXIMUM_CONTINGENT_BENEFICIARIES:"ABOVE_TAXABLE_MAXIMUM_CONTINGENT_BENEFICIARIES",SYSTEM_FAILURE:"SYSTEM_FAILURE",BENEFICIARY_DETAILS_INVALID:"BENEFICIARY_DETAILS_INVALID",RISK_STATUS_RED:"RISK_STATUS_RED"},TERMS_AND_CONDITIONS_LABEL_TYPES:{DEFAULT:"DEFAULT",NO_BENEFICIARIES:"NO_BENEFICIARIES"},MAXIMUM_BENEFICIARIES:{MAXIMUM_TOD_PRIAMRY:5,MAXIMUM_TOD_CONTINGENT:5,MAXIMUM_RETIREMENT_PRIMARY:15,MAXIMUM_RETIREMENT_CONTINGENT:15},MAX_INCOME:1e7,MAXIMUM_TRUSTEES:15,NOT_NUMERIC_REGEX:/[^0-9]+/gi,NUMBER_REX:/^\d+(\.\d{1,2})?$/,MAX_VALID_ALLOCATION:100,MIN_VALID_ALLOCATION:.01,BENEFICIARIES_ACTIONS:{MODIFY:"MODIFY",REMOVE:"REMOVE",ADD:"ADD",CONFIRM:"CONFIRM"},BENEFICARIES_DESIGNATIONS_STATUS:{PRIMARY:!0,CONTINGENT:!0},BENEFICIARY_TYPE_DISCLAIMERS:{SPOUSALADVISORIES:"SpousalConsent",TRUSTADVISORIES:"TrustBeneficiaryAgreement",TODADVISORIES:"TODBeneficiaries"},BENEFICIARY_MODEL_SERVICE_MAPPING:{beneficiaryId:"id",beneficiaryDesignation:"category",beneficiaryType:"type",identificationType:"taxIdType",beneficiaryAllocationPercentage:"allocation",mailingAddressLineOne:"addressLine1",mailingAddressLineTwo:"addressLine2",mailingAddressLineThree:"addressLine3",addressCategoryId:"addressType",dateOfBirth:"dob",trustEstablishedDate:"trustCreationDate",trusteeDetails:"trustees",trustName:"trustName",entityName:"entityName",firstName:"firstName",middleName:"middleName",lastName:"lastName",suffixName:"suffix",beneficiaryRelationship:"relationship",cityName:"city",stateName:"state",countryCode:"countryCode",zipCode:"zipCode",perStirpesIndicator:"perStirpesIndicator"},BENEFICIARY_MODEL_SERVICE_MAPPING_SDAI:{beneficiaryId:"alternateMerchantBenefitIdentifier",beneficiaryDesignation:"feeCategory",beneficiaryType:"beneficiaryRoleTypeCode",identificationType:"taxIdentifierTypeName",beneficiaryAllocationPercentage:"allocationPercent",mailingAddressLineOne:"addressLine1Text",mailingAddressLineTwo:"addressLine2Text",addressCategoryId:"addressTypeCode",dateOfBirth:"birthDate",trustEstablishedDate:"trustCreationDate",trusteeDetails:"trustees",trustName:"trustName",entityName:"entityName",firstName:"firstName",middleName:"middleName",lastName:"lastName",suffixName:"suffixName",beneficiaryRelationship:"relationshipIdentifier",cityName:"addressCityName",stateName:"stateName",countryCode:"countryCode",zipCode:"borrowerMailingAddressZipCode",perStirpesIndicator:"probateAvailableIndicator"},BENEFICIARY_MODEL_SERVICE_MAPPING_LEGACY_TO_SDAI:{action:"actionName",addressType:"addressTypeCode",addressLine1:"addressLine1Text",addressLine2:"addressLine2Text",allocation:"allocationPercent",category:"feeCategory",city:"addressCityName",countryCode:"countryCode",dob:"birthDate",entityName:"entityName",firstName:"firstName",id:"alternateMerchantBenefitIdentifier",middleName:"middleName",lastName:"lastName",relationship:"relationshipIdentifier",state:"stateName",suffix:"suffixName",taxId:"taxIdentifier",taxIdType:"taxIdentifierTypeName",trustCreationDate:"trustCreationDate",trustees:"trustees",trustName:"trustName",zipCode:"borrowerMailingAddressZipCode",perStirpesIndicator:"probateAvailableIndicator",type:"beneficiaryRoleTypeCode"},BENEFICIARY_TRUSTEE_MODEL_SERVICE_MAPPING:{firstName:"firstName",lastName:"lastName",middleName:"middleName",suffixName:"suffix"},BENEFICIARY_SUFFIX_MODEL_SERVICE_MAPPING:{Sr:"SENIOR",III:"THIRD",Jr:"JUNIOR",II:"SECOND",IV:"FOURTH"},BENEFICIARY_SUFFIX_SERVICE_MODEL_MAPPING:{SENIOR:"Sr",THIRD:"III",JUNIOR:"Jr",SECOND:"II",FOURTH:"IV"},BENEFICIARY_COUNTRY_CODE:{DOMESTIC:"USA",CANADA:"CAN"},DATE_PLACE_HOLDER:"mm/dd/yyyy",MILITARY_POST_OFFICE_TYPES:{APO_FPO:"APO/FPO",APO:"APO"},UPDATE_SERVICE_ERROR_TYPES:{SYSTEM_FAILURE:"SYSTEM_FAILURE",BENEFICIARY_DETAILS_NOT_AVAILABLE:"BENEFICIARY_DETAILS_NOT_AVAILABLE"},REPORTING_TIMEFRAME_START_URL:"/dashboard/profileArea/",REMOVE_ALL:"RemoveAll",ADDRESS_TRILIUM_ERRORS:{STREET_NAME_NOT_FOUND:"ADDRESS_NOT_VALID",INVALID_COUNTRY_ADDRESS:"INVALID_COUNTRY_ADDRESS",SYSTEM_FAILURE:"SYSTEM_FAILURE"},ADDRESS_TYPES:{ORIGINAL:"ORIGINAL",RECOMMENDED:"RECOMMENDED"},LIST_OPTIONS_STATUSCODES:{AGREEMENT_REQUIRED_SERVICE_STATUSCODE:"INVESTMENT_LA_ACCEPTANCE_REQUIRED",TRADE_EXCHANGE_AGR_SERVICE_STATUSCODE:"EXCHANGE_AGREEMENT_ACCEPTANCE_REQUIRED",TRADE_WINDOW_VIOLATION_STATUSCODE:"TRADE_WINDOW_VIOLATION",FIXED_INCOME_AGREEMENT_ACCEPTANCE_REQUIRED:"FIXED_INCOME_AGREEMENT_ACCEPTANCE_REQUIRED"},AGREEMENT_TYPE:{brokerageAgreement:"brokerage"},SORT_ORDER:{DESCEND:"DESCENDING",ASCEND:"ASCENDING",asc:"asc",des:"des",CAPTION_DESCENDING:"INVESTMENT_GROUP_NAME_DESCENDING",CAPTION_ASCENDING:"INVESTMENT_GROUP_NAME_ASCENDING"},ACCOUNT_GROUP:{BANK_ACCOUNT:"bankAccounts",INVESTMENT_ACCOUNT:"investmentAccounts"},INVESTMENT_ACCOUNT_TYPES:["WR2","BR2"],CASHFLOW_PACKAGES:["BASIC","ADVANCED","ENTERPRISE"],SELECTORS:{YES:"yes",NO:"no"},READ_ONLY_APPROVED_PROFILE_PAGES:{"profile-updateMyOverviewDetails-link":!0,"profile-selectMyPhoneDetails-link":!0,"profile-selectMyEmailDetails-link":!0,"profile-selectMyMailingAddressDetails-link":!0,"profile-updateMyLanguagePreferences-link":!0,"profile-suspendMyAlertsDelivery-link":!0,"profile-requestMyAlertsHistory-link":!0,"profile-updateMyAlertsDeliverySettings-link":!0,"profile-requestUpdateMyAtmPreferences-link":!0},CTL_BUNDLES:{CRE_CASH_MANAGEMENT:!0},SOA_BUNDLES:{CORE:!0,CORE_PLUS:!0,UNLIMITED:!0},CRE:{CRE_ONLY:!0},PACKAGES_IDS:{"core-bundle":"CORE","plus-bundle":"CORE_PLUS","unlimited-bundle":"UNLIMITED"},UPGRADE_BUNDLES_MAP:{"premium-plus":"PREMIUM_PLUS",premium:"PREMIUM",standard:"STANDARD",statements:"STATEMENTS_ONLY"},BUNDLES_MAPPINGS:{CORE:"Core",CORE_PLUS:"Plus",UNLIMITED:"Unlimited"},PLANS:{STATEMENT_ONLY:"Statements",STANDARD:"Standard",PREMIUM:"Premium",PREMIUM_PLUS:"Premium plus"},FILTER_ALERT_CHANNELS:{PAYMENTS_PROFILE:{"QPFailedPmt-Sndr":["EMAIL"],"QPDelivered-Sndr":["EMAIL"]}},HYBRID_FLOW:{questionnaire:{FLOW:"questionnaire",OPTIONS:{showHamburgerMenu:!1,showCancel:!0,showBackArrow:!1,showProfileSettings:!1,showClose:!1,showExitConfirmationOverlay:!1}},accountSummary:{FLOW:"accountSummary",OPTIONS:{showHamburgerMenu:!1,showCancel:!1,showBackArrow:!0,showProfileSettings:!1,showClose:!1,showExitConfirmationOverlay:!1}},TERMS:{FLOW:"TERMS",OPTIONS:{showHamburgerMenu:!1,showCancel:!1,showBackArrow:!1,showProfileSettings:!1,showClose:!0,showExitConfirmationOverlay:!1}},submission:{FLOW:"submission",OPTIONS:{showHamburgerMenu:!1,showCancel:!1,showBackArrow:!1,showProfileSettings:!1,showClose:!1,showExitConfirmationOverlay:!1}}},servicePlanMap:{COMPARE:"REVIEW",UPGRADE:"MODIFY"},servicePlanFlow:{billing:"billing",select:"select",verify:"verify",confirm:"confirm"},subFeatureIdentifier:"subFeature",UPGRADE_BUNDLES_VARIATIONS:{PREMIUM_PLUS:"premium-plus",PREMIUM:"premium",STANDARD:"standard",STATEMENTS_ONLY:"statements"},SERVICE_FAILURE:504,riskStatus:{RED:"7006",AMBER:"7007"},PRIMARY_BILLING_ACCOUNT_NOT_FOUND:"PRIMARY_BILLING_ACCOUNT_NOT_FOUND",LINK_ACCOUNT_RELATIONSHIP:"LINK_ACCOUNT_RELATIONSHIP",accountLinkingAuthErrorCodes:["7001","7002","7003","7004","7005","7006","7007","7008"],HTTP_CODES:{SUCCESS:200,CONFLICT:409},RELATIONSHIPS_TYPE:{BOTH:"BOTH",LINKED:"LINKED",UNLINKED:"UNLINKED"},MERCHANT_SERVICES:"MERCHANT_SERVICES",MERCHANT:"MERCHANT",HYBRID_EXTERNAL_PARAMETER:"#externalwindow",VALIDATION_PROPS:{defaultAddressType:"USA",USA:{whiteList:{mailingAddressLineOne:!0,mailingAddressLineTwo:!0,mailingAddressLineThree:!0,city:!0,stateId:!0,zipCode:!0,zipCodeExtension:!0},vObj:{mailingAddressLineOne:{isValid:!0,property:"mailingAddressLineOne",errorMessage:""},mailingAddressLineTwo:{isValid:!0,property:"mailingAddressLineTwo",errorMessage:""},mailingAddressLineThree:{isValid:!0,property:"mailingAddressLineThree",errorMessage:""},city:{isValid:!0,property:"city",errorMessage:""},stateId:{isValid:!0,property:"stateId",errorMessage:""},zipCode:{isValid:!0,property:"zipCode",errorMessage:""},zipCodeExtension:{isValid:!0,property:"zipCodeExtension",errorMessage:""}},requiredFields:["mailingAddressLineOne","city","stateId","zipCode"]},INTERNATIONAL:{whiteList:{mailingAddressLineOne:!0,mailingAddressLineTwo:!0,mailingAddressLineThree:!0,city:!0,countryId:!0,postalCode:!0},vObj:{mailingAddressLineOne:{isValid:!0,property:"mailingAddressLineOne",errorMessage:""},mailingAddressLineTwo:{isValid:!0,property:"mailingAddressLineTwo",errorMessage:""},mailingAddressLineThree:{isValid:!0,property:"mailingAddressLineThree",errorMessage:""},city:{isValid:!0,property:"city",errorMessage:""},countryId:{isValid:!0,property:"countryId",errorMessage:""},postalCode:{isValid:!0,property:"postalCode",errorMessage:""}},requiredFields:["mailingAddressLineOne","city","postalCode","countryId"]},CANADA:{whiteList:{mailingAddressLineOne:!0,mailingAddressLineTwo:!0,mailingAddressLineThree:!0,city:!0,provinceId:!0,postalCode:!0},vObj:{mailingAddressLineOne:{isValid:!0,property:"mailingAddressLineOne",errorMessage:""},mailingAddressLineTwo:{isValid:!0,property:"mailingAddressLineTwo",errorMessage:""},mailingAddressLineThree:{isValid:!0,property:"mailingAddressLineThree",errorMessage:""},city:{isValid:!0,property:"city",errorMessage:""},provinceId:{isValid:!0,property:"provinceId",errorMessage:""},postalCode:{isValid:!0,property:"postalCode",errorMessage:""}},requiredFields:["mailingAddressLineOne","city","postalCode","provinceId"]},MILITARY:{whiteList:{mailingAddressLineOne:!0,mailingAddressLineTwo:!0,mailingAddressLineThree:!0,militaryRegionId:!0,zipCode:!0,zipCodeExtension:!0},vObj:{mailingAddressLineOne:{isValid:!0,property:"mailingAddressLineOne",errorMessage:""},mailingAddressLineTwo:{isValid:!0,property:"mailingAddressLineTwo",errorMessage:""},mailingAddressLineThree:{isValid:!0,property:"mailingAddressLineThree",errorMessage:""},militaryRegionId:{isValid:!0,property:"militaryRegionId",errorMessage:""},zipCode:{isValid:!0,property:"zipCode",errorMessage:""},zipCodeExtension:{isValid:!0,property:"zipCodeExtension",errorMessage:""}},requiredFields:["mailingAddressLineOne","militaryRegionId","zipCode"]},TEMP_ADDRESS:{whiteList:{mailingAddressEffectiveDate:!0,mailingAddressEndDate:!0},vObj:{mailingAddressEffectiveDate:{isValid:!0,property:"mailingAddressEffectiveDate",errorMessage:""},mailingAddressEndDate:{isValid:!0,property:"mailingAddressEndDate",errorMessage:""}},requiredFields:["mailingAddressEffectiveDate","mailingAddressEndDate"]},OFACLIST:["CBA","IRN","BUR","SDN","SYR","KOD"]},BRAND_ID_MAPPERS:{JPO:"JPO",JPMORGAN:"JPO",BUSINESS:"CBO",COMMERCIAL:"CBO",WEALTH:"CPO",PERSONAL:"CPO"},CAAS_ROUTE_PARAMS:{PHONE_PROFILE:{ADD:{target:"#applicationOverlay",communicationCallBack:"dashboard/profileArea/phone/requestStepUpResult",showBrandBar:!0,clientId:"SSAM",eventId:"PHONE_CHANGE_ADD",pathParams:"{}",version:2},EDIT:{target:"#applicationOverlay",communicationCallBack:"dashboard/profileArea/phone/requestStepUpResult",showBrandBar:!0,clientId:"SSAM",eventId:"PHONE_CHANGE_EDIT",pathParams:"{}",version:2},ENA_ADD:{target:"#applicationOverlay",communicationCallBack:"dashboard/profileArea/phone/requestStepUpResult",showBrandBar:!0,clientId:"SSAM",eventId:"PHONE_CHANGE_ADD",pathParams:"{}",version:2},BROKERAGE_EDIT:{target:"#applicationOverlay",communicationCallBack:"dashboard/profileArea/phone/requestStepUpResultBrokerage",showBrandBar:!0,clientId:"SSAM",eventId:"PHONE_CHANGE_EDIT",pathParams:"{}",version:2}}},CAAS_SEVERITY_CODES:{AMBER:"A",RED:"R"},CAAS_BLOCK_RESPONSE_CODES:{SUCCESS:"SUCCESS",FAILURE:"FAILURE",CANCELLED:"CANCELLED",NAVIGATION:"NAVIGATION",LOGOUT:"LOGOUT",LOCKED:"LOCKED",SYS_FAILURE:"SYS_FAILURE",INVALID_CONFIG:"INVALID_CONFIG"},managePaperlessPath:"/dashboard/profileArea/paperless/updateMyPaperlessPreferences"}),define("profileArea/sharedLib/constants",["profileArea/sharedLib/profileUrls","profileArea/sharedLib/dashboardConstants","profileArea/sharedLib/profileConstants"],(function(e,t,i){"use strict";return{renderTarget:Object.freeze({target:"#my-profile-page-content"}),navKeys:{REQUEST_DASHBOARD:"requestDashboard",REQUEST_ACCOUNT_CONTACT_US:"requestAccountContactUs",REQUEST_SECURE_MESSAGES:"requestSecureMessages",REQUEST_PRIVACY_PREFERENCES:"requestPrivacyPreferences",REQUEST_JPMORGAN_PRIVACY:"requestJPMorganPrivacy",CONSUMER_PRIVACY_NOTICE:"consumerPrivacyNotice"},urls:{PRIVACY:"https://www.jpmorgan.com/country/US/en/privacy"},eDocs:{FILE_UPLOAD_CONFIG:{MAX_FILE_SIZE:5242880,ALLOWED_EXTENSIONS:[".pdf",".jpeg",".jpg",".png"],ALLOWED_NUMBER_OF_FILES:1,MAX_FILENAME_LENGTH:50},ATTACHMENT_SIZE_MAX:5242880,ALLOWED_MIME_TYPES:"image/jpeg, application/pdf, image/png",VIOLATION_MAPPER:{violatedFileSize:"EXCEEDS_MAXIMUM_FILE_SIZE",violatedMinimumFileSize:"MISSING_FILE_SIZE",violatedFileType:"INVALID_FORMAT",violatedNumberOfFiles:"EXCEEDS_MAXIMUM_FILES_ALLOWED",violatedSameFileName:"DUPLICATE_FILE_NAME",fileNotUploaded:"FILE_NOT_UPLOADED"},PAYEE_CODES:{codes:["1","2","3","4","5","6","7","8","9","10","11","12","13"]},REPORTING_CODES:{codes:["A","B","C","D","E","F","G","H","I","J","K","L","M"]},TAX_CLASSIFICATION:{INDIVIDUAL:{value:"Individual",contentLabel:"individualLabel"},US_PARTNERSHIP:{value:"US_Partnership",contentLabel:"usPartnershipLabel"},S_CORPORATION:{value:"S_Corporation",contentLabel:"scorporationLabel"},C_CORPORATION:{value:"C_Corporation",contentLabel:"ccorporationLabel"},TRUST:{value:"Trust",contentLabel:"trustLabel"},LLC_S_CORPORATION:{value:"LLC_S_Corp",contentLabel:"scorporationLabel"},LLC_C_CORPORATION:{value:"LLC_C_Corp",contentLabel:"ccorporationLabel"},LLC_PARTNERSHIP:{value:"LLC_Partnership",contentLabel:"limitedLiabilityCompanyPartnershipLabel"},OTHER:{value:"Other",contentLabel:"otherLabel"}},TAX_CERTIFICATION:{NO_WITHHOLDING:{value:!1,contentLabel:"notSubjectToWithholdingLabel"},WITHHOLDING:{value:!0,contentLabel:"subjectToWithholdingLabel"}},LANGUAGE_MAPPER:{en:{languageCode:"ENG",languageName:"English"},es:{languageCode:"SPA",languageName:"Spanish"}},HYBRID_EXTERNAL_PARAMETER:"#externalwindow",AGREEMENT_ID:{JPO:80,NON_JPO:140},ROUTE:{CUSTOMER_NAME:"#/dashboard/profileArea/customerName/requestCustomerName",LEGAL_NAME_CHANGE_FILE_UPLOAD:"#/dashboard/profileArea/customerName/legalNameChangeFileUpload",LEGAL_NAME_CHANGE_VERIFY:"#/dashboard/profileArea/customerName/legalNameChangeVerify",LEGAL_NAME_CHANGE_FORM_W9:"#/dashboard/profileArea/customerName/legalNameChangeFormW9",LEGAL_NAME_CHANGE_TAXPAYER:"#/dashboard/profileArea/customerName/legalNameChangeTaxpayer",LEGAL_NAME_CHANGE_REVIEW:"#/dashboard/profileArea/customerName/legalNameChangeReview",LEGAL_NAME_CHANGE_SIGN_W9:"#/dashboard/profileArea/customerName/legalNameChangeSignW9",LEGAL_NAME_CHANGE_CONFIRM:"#/dashboard/profileArea/customerName/legalNameChangeConfirmation",EDOCS_LNC_FLOW:"#/dashboard/eDocs/documentCenter/legalNameChange"},SIGNING_STATUS:{transactionCodeName:"Legal Name Change",fileCount:3}},globalContent:["orLabel","exitHelpMessageAda","beginHelpMessageAda","endHelpMessageAda","backLabel","editLabel","saveLabel","okLabel","doneLabel","warningAda","checkmarkAda","currentSelectionAda","opensMenuAda","opensDialogAda","hasExpandedAda","hasCollapsedAda","nextLabel","cancelLabel","closeLabel","opensPdfAda","updatesContentBelowAda","errorAnnouncementAda"],edslegalagreement:{path:"/Public/Misc/LAContent.aspx?agreementKey=eds_agreement",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"}},profileUrls:e,dashboard:t,profileConstants:i}})),define("profileArea/sharedLib/exitDialogUtil",["require","appkit-utilities/analytics/overlay"],(function(e){var t,i=e("appkit-utilities/analytics/overlay"),n=function(e){if("keydown"===e.type&&13!==e.keyCode)return!0;var n=e.target.getAttribute("exit"),a=this.context.Api.modal.getIsDirty(),o={action:function(){this.context.state("#dashboard")}.bind(this),data:{}};"hubnav"!==n&&"hubMenu"!==n||this.context.Api.modal.setTgtData({action:function(){this.context.state(this.context.settings.get("profileMenuUrl"))}.bind(this),data:{}});var s=this.context.Api.modal.getTgtData()||o,c=s.data&&s.data.noUrlChange;return!(n&&a&&!c)||(r(!0),i.showOverlay(t,"exitConfirmationOverlay"),this.context.Api.modal.showCancelConfirmation("exit_confirmation","payments/shared/",{cancelFunction:function(){"function"==typeof s.action?s.action():t[s.action](s.data),r(!1),this.context.Api.modal.resetCancelData(),this.manageFormDirty(!1)}.bind(this),doNotCancelFunction:function(){r(!1),i.hideOverlay(t,"exitConfirmationOverlay","doNotExit"),e.target.focus(),s.data.fromNavMenu&&(s.data.setPreviousMenuItem(s.data.previousActiveItem),s.data.menuComponent.context.emit("myProfileNavMenuSetActiveItem")),this.context.application.broadcast("hideMenuFromOOBE",{})}.bind(this),elemToFocusAfterModalClose:e.target},"#my-profile-page-content"),!1)},r=function(e){t.context.hybrid&&t.context.controller.broadcast("updateNativeHeaderButtons",{showOverlay:e})};return{manageFormDirty:function(e,t){this.context.Api.modal.setIsDirty({flag:e,id:t},!0)},setListeners:function(e){this.context=e.context,t=e,this.context.Api.modal.startListener({handlers:{"click keydown":n.bind(this)}}),this.context.sharedData.set("modalApi",this.context.Api.modal),this.context.sharedData.set("dirtyFormCheck",{dirtyCheck:this.globalNavDirtyCheck.bind(this)}),this.context.sharedData.set("controllerContext",this.context)},globalNavDirtyCheck:function(e,n,r,a){if(this.context.Api.modal.getIsDirty()){var o=this.context.Api.modal.getDirtyId();this.context.Api.modal.showCancelConfirmation("exit_confirmation","payments/shared/",{cancelFunction:function(){this.context.Api.modal.resetCancelData(),this.manageFormDirty(!1,o),n()}.bind(this),doNotCancelFunction:function(){i.hideOverlay(t,"exitConfirmationOverlay","doNotExit"),a()}},"#my-profile-page-content")}else this.context.sharedData.clean(),n()}}})),define("profileArea/sharedLib/dashboardSettings",[],(function(){"use strict";return{dirtyFormRouteBlacklist:["/dashboard/auth/signout;params=session","/dashboard/siteNavigation/globalNavigation/index","/dashboard/siteNavigation/globalNavigation/ignore","/dashboard/siteHeader/globalHeader/index","/dashboard/convoDeck/conversationDeckPrimarySearch/destroyComponents"],commercialLoansActivityUrl:"#/dashboard/commercialLoansArea/loanActivity/index",accountsSummaryUrl:"/dashboard/overviewAccounts/overview/index",panDisplayUrl:"/dashboard/panDisplay",merchantWalletProvisioningUrl:"/dashboard/merchantWalletProvisioning",dashboardAccountTileUrl:"/dashboard/overviewAccounts/overview/index;params=",accountsUrl:"/dashboard/overviewAccounts/overview/index",pendingActivity:"/dashboard/gallery/transactions/pendingActivity",onHoldTransactions:"/dashboard/gallery/transactions/onHoldTransactions",overviewDashboardUrl:"dashboard/overviewAccounts",logonError:"/logon/logon/error",aggregateTransactionsUrl:"/dashboard/overviewAccounts/transactions/gwmAccounts",requestOverviewDashboard:"/dashboard/overviewAccounts/overview/index",requestAccountSummaryDip:"/dashboard/overviewAccounts/overview/accountSummaryDetail",depositDetailsUrl:"/dashboard/depositAccountServicing/depositDetails/depositDetails",returnedDepositDetailsUrl:"/dashboard/depositAccountServicing/depositDetails/returnDepositDetails",withdrawalDetailsUrl:"/dashboard/depositAccountServicing/depositDetails/withdrawalDetails",emulationErrorPage:"dashboard/errorHandler/handleEmulationError",clientListUrl:"/web/auth/interestedparty#/interestedparty/dashboard/summary/index",merchantServicesVoCUrl:"https://survey.experience.chase.com/jfe/form/SV_88QSUJqNxVbhJe5",prospectVoCUrl:"https://survey.experience.chase.com/jfe/form/SV_6s2Pm6mmnrauGq2",cmlVoCUrl:"https://feedback.jpmorganchase.com/jfe/form/SV_5mBm1eZiSGF8fSC",BENEFICIARY_UPDATE_FORMS:{IRA_BENE_CHANGE_FORM:"https://www.chase.com/content/dam/chase-ux/documents/personal/investments/ira-beneficiary-change.pdf",TOD_FORM:"https://www.chase.com/content/dam/chase-ux/documents/personal/investments/transfer-on-death-agreement.pdf",BROKERAGE_FORMS_INSTRUCTIONS:"https://www.chase.com/personal/investments/brokerage-forms"},searchForOlderChecksUrl:"/dashboard/misc/classic/index;params=searchforchecks",addendumFeesUrl:"/dashboard/misc/classic/index;params=depositdisclosures",r2AndOmniDetail:"/dashboard/misc/classic/index;params=investmentsportfoliopositions",investmentDisclosuresContent:"/content/documents/digital-ui/en/categories/investment-disclosures/disclosures-for-investments-accounts.json",clickToSignUrl:"/dashboard/misc/classic/index;params=clicktosign",manageTags:"manage_tags_page.action?AI=",businessBankingUrl:"https://www.chase.com/business-banking",commercialBankingUrl:"https://commercial.jpmorganchase.com/pages/commercial-banking",jpmorganSecuritiesUrl:"https://www.jpmorgansecurities.com",privateBankingUrl:"https://privatebank.jpmorgan.com",actionCenterPendingApplicationsUrl:"/dashboard/gallery/actionCenter/pendingApplications",secureMessagesURL:"/dashboard/gallery/actionCenter/secureMessages",claimsAndDisputesUrl:"/dashboard/claimsAndDisputes/reportFraud/index",balanceSheetDisplayStatusUrl:"dashboard/cxoDashboardGallery/netWorth/updateBalanceSheetDisplayed",expressSignoutSegmentTypes:["PVB","PCB","WTH"],secureMessageCenter:"dashboard/secureMessages/secureMessages/info",businessBankingLogoffProfileTypes:["BUS","GNM","GNC","MUL","GEM"],commercialBankingLogoffSegments:["CML","CRE"],quickCapitalInitialTerms:"/content/legal-agreements/digital-ui/en/categories/quickcapital",quickCapitalFaq:"/content/faq/digital-ui/en/quick-capital/quick-capital/quick-capital-business",megaMenu:"/dashboard/megaMenu/index",investmentTransactionsUrl:"/dashboard/misc/classic/index;params=investmentsportfoliotransactions",investmentAssetClassUrl:"/dashboard/misc/classic/index;params=investmentsportfolioassetclass",investmentGainLossUrl:"/dashboard/misc/classic/index;params=investmentsportfoliorealizedgainloss",investmentOverviewUrl:"/dashboard/misc/classic/index;params=investmentsportfoliooverview",investmentBalancesUrl:"/dashboard/misc/classic/index;params=investmentsportfoliobalances",investmentAccountDisclosure:"/dashboard/investmentDisclosure/index",investmentStockQuoteUrl:"/dashboard/misc/classic/index;params=investmentsgetfullquote",investmentTradeMutualfundsUrl:"/dashboard/misc/classic/index;params=portfoliotrademutualfunds",investmentTradeEntitlementUrl:"/dashboard/misc/classic/index;params=tradestocketfs,CIG",investmentPortfolioUrl:"/dashboard/investments/portfolio/index;ai=",investmentPortfolioTradeUrl:"/dashboard/trade/equity/entry",investmentPositionsUrl:"/dashboard/investments/positions/index;ai=",investmentMarginCallDetailUrl:"/dashboard/investments/positions/index;ai={{accountId}};tabView=marginDetails",investmentTradeStockETFUrl:"/dashboard/investments/trade/tradestocketfs",investmentTradeMutualFundUrl:"/dashboard/investments/trade/trademutualfunds",investmentTradeOptionsUrl:"/dashboard/investments/trade/tradeoptions",investmentTradeOrderStatusUrl:"/dashboard/investments/trade/requestOrderStatus",investmentGrowthof10kChart:"#/dashboard/investments/growthof10kchart/growthChart",investmentMarketIndices:"/dashboard/investments/marketIndices/index",investmentMarketIndicesDestroyComponent:"/dashboard/investments/marketIndices/destroyComponent",destroyAllocationsAATComponent:"dashboard/investments/investmentDashboardAllocationsAAT/destroyAllocationsAATComponent",destroyLearningInsightsComponent:"dashboard/investments/investmentDashboardLearningInsights/destroyLearningInsightsComponent",investmentRenderSymbolLookupAndLogo:"/dashboard/investmentsContainer/renderSymbolLookupAndLogo",investmentDestroySymbolLookupAndLogo:"/dashboard/investmentsContainer/destroyInvestmentLogoAndSymbolLookup",investmentRenderLogo:"/dashboard/investmentsContainer/renderLogo",oiTradeEquityUrl:"/dashboard/oi-trade/equity/entry",oiTradeModifyEquityUrl:"/dashboard/oi-trade/equity/modifyOrder",tradeStockETFUrl:"/dashboard/trade/equity/entry;ai=",tradeStockETFWarningsUrl:"/dashboard/trade/equity/warnings",tradeStockETFPreviewUrl:"/dashboard/trade/equity/preview",tradeStockETFConfirmationUrl:"/dashboard/trade/equity/confirmation",tradeStockETFErrorUrl:"/dashboard/trade/equity/error",tradeEQOrderModifyUrl:"/dashboard/trade/equity/modifyEntry;ai=",tradeEQModifyWarningsUrl:"/dashboard/trade/equity/modifyWarnings",tradeEQModifyPreviewUrl:"/dashboard/trade/equity/modifyPreview",tradeEQModifyConfirmationUrl:"/dashboard/trade/equity/modifyConfirmation",tradeStockETFModifyErrorUrl:"/dashboard/trade/equity/modifyError",tradeStockETFAfterHoursUrl:"/dashboard/trade/equity/afterHours",tradeStockETFModifyAfterHoursUrl:"/dashboard/trade/equity/modifyAfterHours",tradeStockETFQuoteChartUrl:"/dashboard/trade/equity/quoteChartTable",tradeStockETFTaxLotsUrl:"/dashboard/trade/equity/taxLots",tradeEQValidateUrl:"/dashboard/trade/equity/validate;ai=",tradeEQCloseModifyWarningsUrl:"/dashboard/trade/equity/closeModifyWarnings",tradeEQCloseWarningsUrl:"/dashboard/trade/equity/closeWarnings",tradeMutualFundUrl:"/dashboard/trade/mutualfund/entry;ai=",tradeMutualFundPreviewUrl:"/dashboard/trade/mutualfund/preview",tradeMutualFundWarningsUrl:"/dashboard/trade/mutualfund/warnings",tradeMutualFundConfirmationUrl:"/dashboard/trade/mutualfund/confirmation",tradeMFErrorUrl:"/dashboard/trade/mutualfund/error",tradeMFOrderModifyUrl:"/dashboard/trade/mutualfund/modifyEntry;ai=",tradeMFModifyPreviewUrl:"/dashboard/trade/mutualfund/modifyPreview",tradeMFModifyWarningsUrl:"/dashboard/trade/mutualfund/modifyWarnings",tradeMFModifyConfirmationUrl:"/dashboard/trade/mutualfund/modifyConfirmation",tradeMFAfterHoursUrl:"/dashboard/trade/mutualfund/afterHours",tradeMFModifyAfterHoursUrl:"/dashboard/trade/mutualfund/modifyAfterHours",tradeFixedIncomeEntryUrl:"/dashboard/trade/fixedincome/entry;ai=",tradeFixedIncomeScreenerUrl:"/dashboard/trade/fixedincome/screener",tradeFixedIncomeResultsUrl:"/dashboard/trade/fixedincome/results",tradeFixedIncomePreviewUrl:"/dashboard/trade/fixedincome/preview",tradeFixedIncomeWarningsUrl:"/dashboard/trade/fixedincome/warnings",tradeFixedIncomeConfirmationUrl:"/dashboard/trade/fixedincome/confirmation",tradeFixedIncomeErrorUrl:"/dashboard/trade/fixedincome/error",tradeFixedIncomeAgreementUrl:"/dashboard/trade/fixedincomeagreement/index",cdDisclosureUrl:"/content/dam/structured-documents/investments/cddisclosure2014.pdf",tradeFixedIncomeAgreementContentUrl:"/content/legal-agreements/digital-ui/en/categories/j-p--morgan-fixed-income-investing-agreement-legal-agreement.json",tradeOptionsUrl:"/dashboard/trade/options/entry;ai=",tradeOptionsWarningsUrl:"/dashboard/trade/options/warnings",tradeOptionsPreviewUrl:"/dashboard/trade/options/preview",tradeOptionsConfirmationUrl:"/dashboard/trade/options/confirmation",tradeOptionsOrderModifyUrl:"/dashboard/trade/options/modifyEntry;ai=",tradeOptionsAfterHoursUrl:"/dashboard/trade/options/afterHours",tradeOptionsErrorUrl:"/dashboard/trade/options/error",tradeOptionsModifyEntryUrl:"/dashboard/trade/options/modifyEntry",tradeOptionsModifyWarningsUrl:"/dashboard/trade/options/modifyWarnings",tradeOptionsModifyPreviewUrl:"/dashboard/trade/options/modifyPreview",tradeOptionsModifyConfirmationUrl:"/dashboard/trade/options/modifyConfirmation",tradeOptionsModifyAfterHoursUrl:"/dashboard/trade/options/modifyAfterHours",tradeOptionsModifyErrorUrl:"/dashboard/trade/options/modifyError",tradeOrderDetailsUrl:"/dashboard/trade/order/details",tradeOrderCancelUrl:"/dashboard/trade/order/cancel",tradeOrderStatusUrl:"/dashboard/trade/order/status;ai=",tradeOrderAfterHoursUrl:"/dashboard/trade/order/afterHours",tradeRomeDownUrl:"/dashboard/trade/orderManagementSystemWarning/index",investmentDisclosuresUrl:"/dashboard/investments/portfolio/showDisclosures",investmentPortfolioTransactionsUrl:"/dashboard/investments/transactions/index;ai=",investmentRealizedGainLossUrl:"/dashboard/investments/realizedGainOrLoss/index;ai=",investmentAgreementUrl:"/dashboard/investments/agreement/index;type={{type}}",investmentBalancesGroupSummaryUrl:"/dashboard/investments/balances/groupSummary;ai=",investmentPortfolioAssetClassUrl:"/dashboard/investments/assetClass/index;ai=",investmentPortfolioPerformanceUrl:"/dashboard/investments/performance/index;ai=",qprDownloadUrl:"/web/auth/pdfviewer",assetSymbolLookupUrl:"/autocomplete.json.php",symbolMarketHistoryUrl:"/hist.json.php",ActivityStatements:"/dashboard/documents/myDocs/index;mode=accounts;documentType=STATEMENTS",investmentjpmlogoUrl:"/content/dam/cpo-static/images/jpm-logo_x2_180x38.png",youInvestjpmlogoUrl:"/content/dam/cpo-static/images/youinvest_logo.png",setMerchantFundedOffersFilteredAccounts:"/dashboard/offers/merchantFundedOffers/setMerchantFundedOffersFilteredAccounts",investmentMarginLearnMoreFlyoutUrl:"dashboard/investmentsBlock/marginCallBanner/renderLearnMoreFlyout",addCustomGroupUrl:"#/dashboard/profileArea/customGroups/add",editCustomGroupUrl:"#/dashboard/profileArea/customGroups/edit;groupId=",confirmCustomGroupUrl:"#/dashboard/profileArea/customGroups/confirm;groupName=",requestCustomGroupUrl:"#/dashboard/profileArea/customGroups/requestManageCustomGroups",orderCustomGroupUrl:"#/dashboard/profileArea/customGroups/order",requestCustomGroupDetailsUrl:"#/dashboard/profileArea/customGroups/details",requestdefaultGroupsUrl:"#/dashboard/profileArea/customGroups/defaultGroups",investmentMarketsOverviewUrl:"/dashboard/markets/indices/overview",investmentMarketsNewsUrl:"/dashboard/markets/indices/news",investmentMarketsWatchlistUrl:"/dashboard/markets/indices/watchlists",investmentMarketsScreenersUrl:"/dashboard/markets/indices/screeners",investmentStocksOverviewUrl:"/dashboard/markets/assets/overview",investmentStocksChartsUrl:"/dashboard/markets/assets/chart",investmentStocksNewsUrl:"/dashboard/markets/assets/news",investmentStocksOptionsUrl:"/dashboard/markets/assets/options",investmentStocksHistoricalUrl:"/dashboard/markets/assets/historical",ideasInsightsCategoryUrl:"/dashboard/ideas/category/index",ideasInsightsArticleUrl:"/dashboard/ideas/article/index",ideasInsightsBioUrl:"/dashboard/ideas/authorBio/index",ideasInsightsFilterUrl:"/dashboard/ideas/filter/index",learningInsightsCategoryUrl:"/dashboard/learningInsights/category/index",learningInsightsArticleUrl:"/dashboard/learningInsights/article/index",learningInsightsBioUrl:"/dashboard/learningInsights/authorBio/index",learningInsightsFilterUrl:"/dashboard/learningInsights/searchResults/index",aatPortfolioBuilderLandingPageUrl:"/dashboard/aat/createPortfolio/index",AddPayor:"/dashboard/collections/payors/addPayor",verifyAddPayor:"/dashboard/collections/payors/verifyAddPayor",confirmAddPayor:"/dashboard/collections/payors/confirmAddPayor",viewPayor:"/dashboard/collections/payors/viewPayor",collectionsActivity:"/dashboard/collections/activity/manageActivity",achPaymentsClearingHouseLandingPage:"/dashboard/clearingHouse/schedulePayments/redirect;feature=schedulePayments",achPaymentsClearingHouseFileUpload:"/dashboard/clearingHouse/paymentsFileUpload/redirect",achPaymentsClearingHouseScheduleFlyout:"/dashboard/paymentServicesHub/scheduleAchPayments/singleEnterFlyout",bpcAchAddRecipientClearingHouse:"#/dashboard/paymentServicesHub/manageClearingHouseRecipients/redirect;feature=chooseAddParty",achPaymentsClearingHouseAllActivityBPC:"/dashboard/paymentServicesHub/clearingHousePaymentsActivity/allActivity",achPaymentsClearingHouseRepeatingActivityBPC:"/dashboard/paymentServicesHub/clearingHousePaymentsActivity/repeatingActivity",achPaymentsClearingHouseUploadActivityBPC:"/dashboard/paymentServicesHub/clearingHousePaymentsActivity/uploadActivity",achPaymentsClearingHouseAllActivity:"/dashboard/payBills/clearingHousePaymentsActivity/allActivity",achPaymentsClearingHouseRepeatingActivity:"/dashboard/payBills/clearingHousePaymentsActivity/repeatingActivity",achPaymentsClearingHouseUploadActivity:"/dashboard/payBills/clearingHousePaymentsActivity/uploadActivity",AddPayee:"/dashboard/achPayments/payees/addPayee",chooseAction:"/dashboard/achPayments/payees/chooseAction",verifyAddPayee:"/dashboard/achPayments/payees/verifyAddPayee",confirmAddPayee:"/dashboard/achPayments/payees/confirmAddPayee",viewPayee:"/dashboard/achPayments/payees/viewPayee",editPayee:"/dashboard/achPayments/payees/editPayee",editPayeeHybrid:"/dashboard/achPayments/achPayees/editPayee",achPaymentsLandingPage:"/dashboard/achPayments/schedule/list",achPaymentsLandingPageHybrid:"/dashboard/achPayments/achPayees/list",achPaymentsDetailsPageHybrid:"/dashboard/achPayments/achPayees/details",achScheduleSingle:"/dashboard/achPayments/schedule/scheduleSingle",achManageUploadUrl:"/dashboard/achPayments/activity/manageUpload",achSchedulePayeesList:"/dashboard/achPayments/achPayees/list",achPaymentsActivityUrl:"#/dashboard/payBills/achPaymentsActivity/manageActivity",achPaymentsActivity:"/dashboard/achPayments/activity/manageActivity",achPaymentsRepeatingActivityUrl:"#/dashboard/payBills/achPaymentsActivity/manageRepeating",achPaymentsUploadActivityUrl:"#/dashboard/payBills/achPaymentsActivity/manageUpload",manageUploadApproval:"#/dashboard/achPayments/approvals/manageUploadApproval",achPayeesList:"/dashboard/achPayments/achPayees/list",achPaymentsCompanyActivation:"#/dashboard/achPayments/businessEnrollment/companyActivation",privateLegalAgreementContentHost:"https://static.chasecdn.com",downloadCSVUrl:"dashboard/achPayments/download/index",downloadBatchDetailsUrl:"dashboard/achPayments/manageActivity/downloadBatchDetails",managePaperlessSettingsUrl:"/dashboard/profileArea/paperless/updateMyPaperlessPreferences",eSignLegalAgreementJPMorganURL:"/content/dam/chaseonline/en/legalagreements/jpmol2017intercept_esign_la/pdf/jpmol2017intercept_esign_la.pdf",eSignLegalAgreementSpanish:"https://static.chasecdn.com/content/dam/legal-agreements/library/es/eds_agreement/versions/eds_agreement.pdf",samplePaperlessStatementUrl:"https://www.chase.com/content/dam/chase-ux/documents/digital/resources/paperless_statements_chase_sample.pdf",quickenUrl:"http://www.quicken.com",onlineLinkingAgreementUrl:"https://www.chase.com/content/dam/chaseonline/en/legacy/content/secure/sso/document/cco_account_linking_form.pdf",accountAlertsUrl:"/dashboard/profileArea/chooseAlerts/manageMyAlerts",updateServicePlanUrl:"/dashboard/profileArea/servicePlan/updateServicePlan",updateServicePlanShowFootnotesOverlay:"/dashboard/profileArea/profileServicePlan/showFootnotesOverlay",updateServicePlanDestroyFootnotesOverlay:"/dashboard/profileArea/profileServicePlan/destroyFootnotesOverlay",cardLogoJsonUrl:"/content/card/logo.json/",cardArtJsonUrl:"/content/services/structured-image/card-art.json/",defaultCardArtUrl:"/content/dam/cpo-static/images/default_cardart_small.png",complaintAndFeedbackImageUrl:"/content/dam/cpo-static/images/",contactUsUrl:"#/dashboard/misc/helpCenter/requestContactUs",requestHMGAssistanceUrl:"/dashboard/misc/classic/index;params=homeownersassistanceoptions",requestEscrowDetailsUrl:"/dashboard/misc/classic/index;params=mortgageescrowsummary",requestPayoffQuoteUrl:"/dashboard/autoServicing/autoLoanPayoffQuote/index;accountIndex=",requestMortgageCashBackUrl:"/dashboard/misc/classic/index;params=mortgagecashback",homeownerAssistanceUrl:"/dashboard/misc/classic/index;params=homeequityassistanceoptions",rateLockUrl:"/dashboard/loanAccountServicing/rateLock/learnMore",requestRateLockUrl:"/dashboard/loanAccountServicing/rateLock/entry",helpCenterUrl:"/dashboard/misc/helpCenter",helpAndSupportHubUrl:"/dashboard/reliefHub/helpAndSupport/index",chaseReliefHubUrl:"/dashboard/reliefHub/chaseRelief/index",advisoryTeamJPOGalleryUrl:"dashboard/jpoGallery/advisorContact/requestMyAdvisoryTeam",accountNicknameUrl:"/dashboard/profileArea/accountNickname/requestMyAccountNicknames;params=",accountPaperlessSettingUrl:"/dashboard/profileArea/accountPaperlessPreferences/updateMyPaperlessPreferences",setDefaultReportingTimeframeUrl:"/dashboard/profileArea/reportingTimeframe/setReportingTimeframe",OrderStatusUrl:"/dashboard/misc/classic/index;params=tradeorderstatus,CIG,investmentTile",trademutualfundsUrl:"/dashboard/misc/classic/index;params=trademutualfunds,CIG,investmentTile",tradeEquitiesUrl:"/dashboard/misc/classic/index;params=tradestocketfs,CIG,investmentTile",tradeoptionsUrl:"/dashboard/misc/classic/index;params=tradeoptions,CIG,InvestmentTile",tradeFixedIncomeUrl:"/dashboard/misc/classic/index;params=tradefixedincome,CIG,InvestmentTile",studyMarketsUrl:"/dashboard/misc/classic/index;params=investmenttab",partnerRewardsDetailsUrl:"#/dashboard/misc/classic/index;params=rewardsdetail",RewardsProgramDetail:"#/dashboard/misc/classic/index;params=rewardsprogramdetail",requestMortgageAssistanceUrl:"#/dashboard/misc/classic/index;params=borrowerportal",cardmemberAgreementUrl:"/dashboard/misc/classic/index;params=cardmemberagreement",addUserUrl:"/dashboard/cardAccountServicingArea/viewAuthorizedUsers/index",cardDesignChangeUrl:"/dashboard/misc/classic/index;params=changecarddesign",cardDesignChangeNew:"/dashboard/creditCardAccountServicing/cardDesign/changeCardDesign",profileUrl:"#/dashboard/profileArea/overview/updateMyOverviewDetails",profileMenuUrl:"#/dashboard/profileArea/menu/index",resetMenuTransition:"#/dashboard/menu/_resetMenuTransition",chooseProfileAlertsUrl:"#/dashboard/profileArea/chooseAlerts/manageMyAlerts",requestMyAccountsDisplay:"#/dashboard/profileArea/hideAccounts/requestMyAccountsDisplay",requestMyProfileOverviewUrl:"dashboard/myProfileOverview/overview/requestMyProfileOverview",updateMyAlertsDeliverySettingsUrl:"dashboard/profileArea/alertsDelivery/updateMyAlertsDeliverySettings",logonUrl:"logon",logoutUrl:"dashboard/auth/signout",dashboardUrl:"/dashboard",qpUrl:"#/dashboard/quickPay/quickpay/index",qpUrlManualPayee:"#/dashboard/quickPay/quickpay/index;params=manualPayee",multiplePaymentsUrl:"#/dashboard/payMultipleBills/payments/index",paymentsActivityUrl:"#/dashboard/payBills/paymentsActivity/",paymentsActivityRouteUrl:"#/dashboard/payBills/paymentsActivity/index",ebillActivityUrl:"#/dashboard/payBills/paymentsActivity/index;params=billPay,eBills",dashboardEbillsAdIndexUrl:"/dashboard/ebillsAd/index",dashboardEbillsShowSpeedBumpUrl:"dashboard/ebills/electronicBillsSpanishLanguageSpeedBump/showSpeedBump",singleDoorEbillsShowSpeedBumpUrl:"dashboard/ebills/electronicBillsSpanishLanguageSpeedBump/initSingleDoorEbills",requestWireAllActivity:"#/dashboard/wires/activity/allActivity",merchantBillPaymentActivityAllUrl:"#/dashboard/payBills/paymentsActivity/index;params=billPay,all",merchantBillPaymentActivityRecurringUrl:"#/dashboard/payBills/paymentsActivity/index;params=billPay,repeating",merchantAutoPaymentUpdateEntryUrl:"#/dashboard/merchantAutoPay/edit/index",merchantAutoPaymentUpdateExitUrl:"#/dashboard/payBills/editBillPayment/merchantAutoPaymentUpdateExit",discoverMerchantRecipientsUrl:"#/dashboard/discoverMerchantRecipients/discover/index",autoDuplicatePaymentUrl:"#/dashboard/payBills/paymentsActivity/autoDuplicatePayment",billpayenrollmentUrl:"/dashboard/mbpEnrollment/reviewAgreement",loadBillPayEnrollmentMicroapp:"/dashboard/singleDoor/singleDoorController/loadBillPayEnrollmentMicroapp",octagonBillPayEnrollmentUrl:"/dashboard/mbpEnrollment/reviewAgreement",requestBusinessBankingUrl:"https://www.chase.com/business-banking",requestAllProductsUrl:"https://www.chase.com/resources/sitemap",applicationStatusUrl:"/dashboard/misc/classic/index;params=checkapplicationstatus",requestCardReplacementUrl:"/dashboard/misc/classic/index;params=cardreplacement",verifyCardLink:"#/dashboard/creditCardAccountServicing/verifyCard/initiate",manageBeneficiariesUrl:"#/dashboard/profileArea/beneficiaries/manageBeneficiaries",requestBeneficiariesDetailsViewUrl:"#/dashboard/profileArea/beneficiaries/beneficiariesDetailsView",requestBeneficiariesDetailsUpdateUrl:"#/dashboard/profileArea/profileBeneficiariesUpdate/updateBeneficiaries",requestBeneficiariesDetailsReviewUrl:"#/dashboard/profileArea/profileBeneficiariesUpdate/reviewBeneficiaries",requestBeneficiariesDetailsAuthorizeUrl:"#/dashboard/profileArea/profileBeneficiariesUpdate/authorizeBeneficiaries",requestBeneficiariesDetailsConfirmUrl:"#/dashboard/profileArea/profileBeneficiariesUpdate/confirmBeneficiaries",requestAutomaticSavingsTransferEdit:"#dashboard/accountsAdmin/automaticSavings/edit",linkedApplications:"dashboard/securityCenter/detail/requestLinkedApplications",linkedApps:"dashboard/profileArea/linkedApps/requestLinkedApplications",linkedAppsDownload:"dashboard/profileArea/linkedApps/downloadLinkedApplications",linkedAppsDownloadConfirmation:"/dashboard/profileArea/linkedApps/downloadConfirmation",linkedAppsDeleteConfirmation:"dashboard/profileArea/linkedApps/showDeleteConfirmation",linkedAppsVanAddRemove:"dashboard/profileArea/linkedApps/showVanAddRemove",manageFinancialProfileUrl:"#/dashboard/profileArea/financialProfile/manageFinancialProfile",easyReloadEntryUrl:"/dashboard/profileArea/easyReload/entry",easyReloadConfirmUrl:"/dashboard/profileArea/easyReload/confirm",easyReloadTextBanking:"/dashboard/profileArea/easyReload/textBanking",easyReloadTextBankingConfirmation:"/dashboard/profileArea/easyReload/textBankingConfirmation",accountLinkingUrl:"/dashboard/profileArea/accountLinking/requestManageLinkedAccounts",requestLinkedAccountUrl:"/dashboard/profileArea/accountLinking/success",pinChangeUrl:"/dashboard/profileArea/pinChange/requestUpdateAtmPin",pinChangeConfirmUrl:"dashboard/profileArea/pinChange/confirmUpdateAtmPin",pmrUrl:"#/dashboard/pmr/singlePaymentContainer/index",upcomingPaymentsUrl:"#/dashboard/upcomingPayments/upcomingPaymentsController/index",redirectToDashboardUrl:"dashboard/overviewAccounts/overview/index",yodleeExternalFinancialAccountsUrl:"dashboard/securityCenter/detail/requestExternalFinancialAccounts",yodleeExternalFinancialAccountsLearnMoreUrl:"dashboard/myExternalFinancialAccounts/index/index",updateIncome:"/dashboard/profileArea/incomeDetails/updateMyIncome",updateIncomeConfirm:"#/dashboard/profileArea/incomeDetails/confirm",showReviewOverlay:"/dashboard/profileArea/subscriptions/showReviewOverlay",showGenericOverlay:"/dashboard/profileArea/subscriptions/showGenericOverlay",showAccountSwitchOptions:"/dashboard/profileArea/subscriptions/showAccountSwitchOptions",showPackageOverlay:"/dashboard/profileArea/subscriptions/showPackageOverlay",closeOverlay:"/dashboard/profileArea/subscriptions/closeOverlay",upgradePackage:"/dashboard/profileArea/subscriptions/upgradePackage",updateEnrollment:"/dashboard/profileArea/subscriptions/updateEnrollment",manageReviewRequest:"/dashboard/profileArea/subscriptions/manageReviewRequest",showOffBoardProfileReviewOverlay:"/dashboard/profileArea/subscriptions/showOffBoardProfileReviewOverlay",offBoardProfile:"/dashboard/profileArea/subscriptions/offBoardProfileSubscription",offBoardProfileSuccess:"/dashboard/profileArea/subscriptions/offBoardProfileSuccess",offBoardProfileFailure:"/dashboard/profileArea/subscriptions/offBoardProfileFailure",getAccountsConfiguration:"/dashboard/profileArea/subscriptions/getAccountsConfiguration",exitTransactionDetailFlyoutUrl:"/dashboard/gallery/transactions/exitTransactionDetailFlyout",closeDisputeUrl:"/dashboard/gallery/transactions/closeDispute",completeDisputeUrl:"/dashboard/gallery/transactions/completeDispute",disputeTrackerUrl:"/dashboard/claimsAndDisputes/disputeTracker/index",exitInterstitial:"dashboard/campaign/interstitial/exitInterstitial",interstitialLegalAgreementIndex:"dashboard/campaign/legalAgreement/index",interstitialELettersAutoEnrollIndex:"dashboard/campaign/eLettersAutoEnroll/index",interstitialBillPaySetupContactsInitiate:"dashboard/campaign/setupPayee/initiate",interstitialCampaign:"dashboard/campaign/adcampaign/index",interstitialUpdateEmailAddress:"/dashboard/campaign/updateEmailAddress/index",interstitialUpdateEmailAddressVerification:"/dashboard/campaign/updateEmailAddress/updateEmailAddress",interstitialLegalAgreementInitiate:"dashboard/campaign/legalAgreement/initiate",interstitialLegalAgreementReadAgreement:"dashboard/campaign/legalAgreement/readAgreement",interstitialLegalAgreementAcceptanceError:"dashboard/campaign/legalAgreement/submitError",interstitialLegalAgreementContentError:"dashboard/campaign/legalAgreement/initiateError",interstitialCashflowEnrollment:"dashboard/campaign/cashflowEnrollmentPromotionInterstitial/index",interstitialCashflowEnrollmentInitiate:"dashboard/campaign/cashflowEnrollmentPromotionInterstitial/initiate",interstitialCashflowEnrollmentPostpone:"dashboard/campaign/cashflowEnrollmentPromotionInterstitial/postpone",interstitialCashflowEnrollmentDecline:"dashboard/campaign/cashflowEnrollmentPromotionInterstitial/decline",interstitialCIPIndex:"dashboard/campaign/customerIdentityInformation/index",interstitialCIPConfirm:"dashboard/campaign/customerIdentityInformation/confirm",updatePhoneInformation:"/dashboard/profileArea/phone/selectMyPhoneDetails",updatePhoneNumerInitiate:"dashboard/campaign/updatePhoneNumber/initiate",autoLeasePayoffQuoteUrl:"/dashboard/loanAccountServicing/autoLease/autoLeasePayoffQuote",autoLeasePayoffQuoteConfirmationUrl:"/dashboard/loanAccountServicing/autoLease/confirmAutoLeasePayoffQuote",branchAtmLocationUrl:"https://locator.chase.com/?locale=en_US",requestProductEnrollmentCheckingUrl:"https://www.chase.com/checking",requestProductEnrollmentSavingsUrl:"https://www.chase.com/personal/savings/savings-account-existing-customers",requestProductEnrollmentLiquidUrl:"https://www.chase.com/debit-reloadable-cards/liquid-prepaid-card",requestProductEnrollmentCDsUrl:"https://www.chase.com/personal/savings/bank-cd",requestProductEnrollmentCreditCardUrl:"https://creditcards.chase.com/",requestProductEnrollmentHomeequityUrl:"https://www.chase.com/home-equity",requestHomeMortgageDisclosureActUrl:"https://www.chase.com/mortgage/hmda",branchAtmLocationSpanishUrl:"https://locator.chase.com/?locale=es_US",checkingSpanishUrl:"https://espanol.chase.com/checking",savingsSpanishUrl:"https://www.chase.com/es/personal/savings/savings-account-existing-customers",liquidSpanishUrl:"http://www.chase.com/online/prepaid-card/liquid-prepaid-card-esp.htm",homeEquitySpanishUrl:"https://www.chase.com/ccp/index.jsp?pg_name=ccpmapp/spanish/homeequity/page/homeequity",businessBankingSpanishUrl:"https://www.chase.com/ccp/index.jsp?pg_name=ccpmapp/spanish/businessbanking/page/business",cdSpanishUrl:"https://www.chase.com/es/personal/savings/bank-cd",smartAdminStyle1:"css/smartadmin-production_unminified.css",smartAdminStyle2:"css/smartadmin-skins.css",atmPrefUrl:"/dashboard/profileArea/accountPreferences/requestUpdateMyAtmPreferences",accountBalanceTransferHistoryUrl:"/dashboard/balanceTransfers/card/history",transferAccountBalanceUrl:"/dashboard/balanceTransfers/card/offers",creditCardQuarterlyReportUrl:"dashboard/misc/quarterly/requestReport",closeCreditCardAccountUrl:"dashboard/accountsAdmin/subAccounts/initiateClose",payBillsUrl:"#/dashboard/payBills/index/index",initiateAddCardUrl:"dashboard/accountsAdmin/subAccounts/initiateAddCard",initiateSetSpendingLimitUrl:"dashboard/accountsAdmin/subAccounts/initiateSetSpendingLimit",payBillsPayeeUrl:"/dashboard/payBills/payBill/payee",blueprintDetailsUrl:"/dashboard/misc/classic/index;params=blueprint",faqOnlineUrl:"#/dashboard/transferMoney/transferMoney/initiateTransfer",faqAtmUrl:"https://locator.chase.com/",faqBranchUrl:"https://locator.chase.com/",requestAccountAgreementsUrl:"/dashboard/misc/classic/index;params=legalagreements",requestLegalAgreementsUrl:"/dashboard/agreementsDisclosure/legalAgreements/index;type=OnlineBanking",pmb_Url_multiplePaymentsIndexUrl:"#/dashboard/payMultipleBills/payments/index",pmb_Url_singlePaymentUrl:"#/dashboard/payMultipleBills/payments/initiateSinglePayment",pmb_Url_multiplePaymentsAddRecipientUrl:"#/dashboard/managePayee/managePayeeNav/index;route=addPayee",manageFundingAccountsAddOnly:"#/dashboard/paymentsAdmin/manageFundingAccounts/addOnly",qpDeclineConfirmTodoUrl:"#/dashboard/quickPay/qpTodo/confirmDecline",addExternalAccountUrl:"#/dashboard/paymentsAdmin/externalAccount/addAccount;mode=index",manageExternalAccountUrl:"#/dashboard/paymentsAdmin/externalAccount/manage;mode=index",activateTransferMoneySpUrl:"/dashboard/paymentsAdmin/activateTransferMoney/index;params=sp",activateTransferMoneyEngUrl:"/dashboard/paymentsAdmin/activateTransferMoney/index;params=eng",entryPayeeUrl:"#/dashboard/managePayee/managePayees/index",addPayeeUrl:"#/dashboard/managePayee/managePayeeNav/index;route=addPayee",managePayeesUrl:"#/dashboard/managePayee/managePayeeNav/index",managePayeesListUrl:"#/dashboard/managePayee/managePayeeNav/managePayeesList;payeeId=",singleDoorUrl:"dashboard/singleDoor/singleDoorController/index",singleDoorAddPayeeUrl:"dashboard/singleDoor/singleDoorController/index;flyout=addPayee",singleDoorMerchantSearchEntryUrl:"dashboard/singleDoor/singleDoorController/index;flyout=addBillPayPayee",singleDoorEntryPayeeUrl:"dashboard/singleDoor/singleDoorController/index;flyout=addBillPayPayeeEntry",singleDoorVerifyPayeeUrl:"dashboard/singleDoor/singleDoorController/index;flyout=addBillPayPayeeVerify",singleDoorConfirmPayeeUrl:"dashboard/singleDoor/singleDoorController/index;flyout=addBillPayPayeeConfirm",singleDoorPayNow:"dashboard/singleDoor/singleDoorController/index;flyout=paymentDashboard,",singleDoorQpUrl:"dashboard/singleDoor/singleDoorController/index;flyout=qpLink",singleDoorQpEntry:"dashboard/singleDoor/singleDoorController/index;flyout=paymentDashboardQPSendEntry",commercialReportsUrl:"#/dashboard/commercialReports/search/index",brandIdMapper:{JPO:"JPO",JPMORGAN:"JPO",WEALTH:"CPO",PERSONAL:"CPO",BUSINESS:"CBO",COMMERCIAL:"CBO"},accountAdvertisementsImage:{CHASE_QUICK_TIPS:"/content/dam/ads/img_LEicons.png",CHASE_CREDIT_CARD_DETAILS:"/content/dam/ads/img_multicard.png",WEEKEND_GETAWAY:"/content/dam/ads/img_travel.png"},cashBackFaqsUrl:"https://creditcards.chase.com/freedom/faq",cashBackFaqsSpanishUrl:"https://creditcards.chase.com/freedom/faqspanish",convoDeckAdMessagesEnabled:!0,DisneyDebitPublicUrl:"https://www.disneydebit.com",personalLoanPaymentActivityPayeeUrl:"#/dashboard/payBills/personalLoanPaymentActivity/showActivity;payeeId={{payeeId}}",autoPaymentActivityLoanPayeeUrl:"#/dashboard/payBills/paymentsActivity/selectPayee;payeeType=AUTO_LOAN;payeeId={{payeeId}}",autoPaymentActivityLeasePayeeUrl:"#/dashboard/payBills/paymentsActivity/selectPayee;payeeType=AUTO_LEASE;payeeId={{payeeId}}",paymentActivityCommonUrl:"#/dashboard/payBills/paymentsActivity/selectPayee;payeeType={{payeeType}};payeeId={{payeeId}}",commercialLoansPaymentActivityPayeeUrl:"#/dashboard/payBills/loanActivity/index;filterVariation=LOAN_ACCOUNTS;payeeType=COMMERCIAL_LOANS;accountId={{payeeId}};name=applyFilter",initiateTransferActivityPayeeUrl:"#/dashboard/transferMoney/transferMoney;filterAcct={{payeeId}};mode=showPaymentActivity/initiateTransfer",transactionRequestInfoURL:"#/dashboard/payBills/transactionRequestInfo/index",returnToQPSentActivity:"#/dashboard/quickPay/paymentsActivity/index;params=qp,sentactivity",returnToQPEntrySingle:"#/dashboard/quickPay/qpSend/initiateSend;seriesType=single;",requestWithdrawSecuritiesBasedLoanUrl:"#/dashboard/transferMoney/transferMoney/initiateTransfer;filterAcct={{payeeId}};transferType=DRAW",requestPaySecuritiesBasedLoanUrl:"#/dashboard/payMultipleBills/payments/initiateSinglePayment;payeeId=-{{payeeId}};payeeType=CREDIT_FACILITY",creditCardUrl:"#/dashboard/payBills/paymentsActivity/selectPayee",autoPayCreditCardUrl:"#/dashboard/payBills/automaticPayments/selectPayee",homeMortgageServiceUrl:"dashboard/thirdpartyRedirect/requestMortgageHomeValue",setupLineOfCreditAutomaticPaymentUrl:"#/dashboard/payBills/setupAutomaticPayment/initiateTask;payeeId={{payeeId}}",requestLineOfCreditAutomaticPaymentDetailsUrl:"#/dashboard/payBills/automaticPayments/selectLineOfCredit;payeeType=CREDIT_FACILITY;payeeId={{payeeId}};expandSeeDetails={{expandSeeDetails}}",payBillsEntryUrlKeys:{CREDIT_CARD:"initiateCreditCardPayment",HOME_EQUITY_LOAN:"initiateHomeEquityLoanBillPayment",MORTGAGE:"initiateMortgagePayment",HELOC:"initiateHomeEquityLineOfCreditPayment",AUTO_LOAN:"initiateAutoLoanPayment",AUTO_LEASE:"initiateAutoLeasePayment",PERSONAL_LOAN:"initiatePersonalLoanPayment",MERCHANT:"initiateMerchantBillPayment"},payBillUrlKeys:{verify:{CREDIT_CARD:"verifyMakeCreditCardPayment",AUTO_LOAN:"verifyMakeAutoLoanPayment",AUTO_LEASE:"verifyMakeAutoLeasePayment"},confirm:{CREDIT_CARD:"confirmMakeCreditCardPayment",AUTO_LOAN:"confirmMakeAutoLoanPayment",AUTO_LEASE:"confirmMakeAutoLeasePayment"}},initiateRoot:"initiatePayment",portfolioPositionUrl:"/dashboard/misc/classic/index;params=investmentsportfoliopositions",establishFundsTransferUrl:"#/dashboard/misc/classic/index;params=establishfundstransfer",editSetupAutomaticPaymentsFromClassicUrl:"#/dashboard/payBills/paymentsActivity/setupAutomaticPayments;params=card",stopSetupAutomaticPaymentsFromClassicUrl:"#/dashboard/payBills/paymentsActivity/stopAutomaticPayments;params=card",setupAutomaticPaymentsUrl:"#/dashboard/payBills/automaticPayments/initiateSetup;payeeType=CREDIT_CARD;payeeId=-",manageFundingAccountsUrl:"#/dashboard/paymentsAdmin/manageFundingAccounts/index",cardPaymentsActivityUrl:"#/dashboard/payBills/automaticPayments/selectPayee;payeeType=CREDIT_CARD;payeeId=-",setReportingTimeframeUrl:"#/dashboard/misc/classic/index;params=setreportingtimeframe",customGroupsUrl:"#/dashboard/misc/classic/index;params=mycustomgroups",invFormsCiscUrl:"#/dashboard/misc/classic/index;params=invformscisc",invFormsSdaUrl:"#/dashboard/misc/classic/index;params=invformssda",investmentScreenerUrl:"#/dashboard/misc/classic/index;params=investmentscreener",setupMortgageCashBackUrl:"/dashboard/misc/classic/index;params=mortgagecashbackenroll",mortgageEscrowAnalysisUrl:"#/dashboard/misc/classic/index;params=mortgageescrowanalysis",mortgageEscrowSummaryUrl:"#/dashboard/misc/classic/index;params=mortgageescrowsummary",mortgageEscrowTaxUrl:"/dashboard/misc/classic/index;params=mortgageescrowtaxinsurance",rewardsdetailUrl:"/dashboard/misc/classic/index;params=rewardsdetail",legalAgreementsUrl:"#/dashboard/misc/classic/index;params=legalagreements",confirmTransferMoneyEnrollmentUrl:"/dashboard/paymentsAdmin/activateTransferMoney/confirmTransferMoneyEnrollment",requestTransferMoneyEnrollmentLegalAgreementUrl:"/dashboard/paymentsAdmin/activateTransferMoney/requestTransferMoneyEnrollmentLegalAgreement",autoPayByMailUrl:"#/dashboard/misc/classic/index;params=autopaybymail",quickPayEnrollmentUrl:"#/dashboard/qpSettings/qpSettings/index",quickPayEnrollmentCancelledUrl:"#/dashboard/paymentsAdmin/quickpaySettings/confirmUnenrollment",emailMarketingPreferencesUrl:"#/dashboard/profileArea/emailMarketingPreferences/requestEmailMarketingPreferences",disneyAccountOriginationCode:"6272",disneyPremierRpc:"0474",autoSaveAndExitUrl:"#/dashboard/misc/classic/index;params=saveandexitauto",portfolioUrl:"#/dashboard/misc/classic/index;params=investmentsportfoliopositions",marketsUrl:"#/dashboard/misc/classic/index;params=investmentscreener",investmentmarketsUrl:"#/dashboard/misc/classic/index;params=investmenttab",ourexpertiseUrl:"#/dashboard/misc/classic/index;params=investmentsourexpertise",planningretirementUrl:"#/dashboard/misc/classic/index;params=investmentsretirement",amuiAllUsersUrl:"#/dashboard/misc/classic/index;params=accessmanager",amuiAccessHistoryUrl:"#/dashboard/misc/classic/index;params=accessmanageraccesshistory",amuiTransactionHistoryUrl:"#/dashboard/misc/classic/index;params=accessmanagertransactionhistory",amuiDualControlUrl:"#/dashboard/misc/classic/index;params=accessmanagerdualcontrol",amuiAddAuthorizedUserUrl:"#/dashboard/misc/classic/index;params=accessmanageradduser",amuiDeleteUserUrl:"#/dashboard/misc/classic/index;params=accessmanagerdeleteuser",amuiEditUserUrl:"#/dashboard/misc/classic/index;params=accessmanageredituser",amuiActivateIPSecurityUrl:"#/dashboard/misc/classic/index;params=accessmanageractivateipsecurity",amuiAssignAccessUrl:"#/dashboard/misc/classic/index;params=accessmanagerassignaccess",amuiAddUserConfirmUrl:"#/dashboard/misc/classic/index;params=accessmanageradduserconfirm",amuiAddIPSecurityByUserUrl:"#/dashboard/misc/classic/index;params=accessmanageraddbyuser",amuiChangeIPSecurityByUserUrl:"#/dashboard/misc/classic/index;params=accessmanagerchangebyuser",amuiChangeIPSecurityByCompanyUrl:"#/dashboard/misc/classic/index;params=accessmanagerchangebycompany",amuiAddIPSecurityByCompanyUrl:"#/dashboard/misc/classic/index;params=accessmanageraddbycompany",amuiIPSecuritySeeSettingsUrl:"#/dashboard/misc/classic/index;params=accessmanagerseesettings",amuiManageIPSecurityUrl:"#/dashboard/misc/classic/index;params=accessmanagermanageipsecurity",amuiIPSecurityReportUrl:"#/dashboard/misc/classic/index;params=accessmanageripsecurityreport",amuiIPSecurityConfirmByCompanyUrl:"#/dashboard/misc/classic/index;params=accessmanageripsecurityconfirmbycompany",amuiIPSecurityConfirmByUserUrl:"#/dashboard/misc/classic/index;params=accessmanageripsecurityconfirmbyuser",amuiOrderTokenUrl:"#/dashboard/misc/classic/index;params=accessmanagerordertoken",qdManageLocations:"#/dashboard/quickDeposit/manage/locations",qdManageAccounts:"#/dashboard/quickDeposit/manage/accounts",qdDepositCheck:"#/dashboard/quickDeposit/deposit/entry",qdResumeDeposit:"#/dashboard/quickDeposit/deposit/resume",qdSupportSetup:"#/dashboard/quickDeposit/support/setup",qdDepositEnrollmentEntry:"#/dashboard/quickDeposit/enrollment/index",requestPdfUrl:"/dashboard/documents/myDocs/index;documentType=CHECK_DOWNLOAD;mode=documents",requestEscrowInformation:"/dashboard/misc/classic/index;params=mortgageescrowsummary",requestHomeequityAssistance:"/dashboard/misc/classic/index;params=homeequityassistanceoptions",requestHomeEquityAssistance:"/dashboard/misc/classic/index;params=homeequityassistanceoptions",requestHomeownerAssistance:"/dashboard/misc/classic/index;params=homeownersassistanceoptions",reportPaymentArrangement:"/dashboard/misc/classic/index;params=paymentarrangement",requestBorrowerPortal:"/dashboard/misc/classic/index;params=homeownersassistanceoptions",qpEntry:"#/dashboard/quickPay/qpSend/initiateSend",qpEntryFlyout:"#/dashboard/quickPay/qpSend/initiateSendFlyout",qpPayments:"#/dashboard/quickPay/qpSend/qpPayments/",qpRequestMoney:"#/dashboard/quickPay/request/index",chasePayEnrollEntry:"#/dashboard/chasePay/chasePay/initiateChasePayEnrollment",chasePayEnrollConfirm:"#/dashboard/chasePay/chasePay/confirmChasePayEnrollment",manageChasePay:"#/dashboard/profileArea/accountPreferences/updateMyChasepayPreferences",chasePaySettings:"#/dashboard/chasePay/chasePay/updateMyPrimaryAccount",chasePayAddresses:"#/dashboard/chasePay/chasePay/updateMailingAddress",chasePayFAQ:"#/dashboard/chasePay/chasePay/requestFrequentlyAskedQuestions",repeatPaymentsUrl:"#/dashboard/payBills/singlePayment/repeatPayment",addExternal:"#/dashboard/paymentsAdmin/externalAccount/addAccount",backToTransferActivityUrl:"#/dashboard/transferMoney/paymentsActivity;mode=transferActivity/index",helpAndSupportOverviewUrl:"#/dashboard/misc/helpCenter/requestHelpAndSupportOverview",searchFaqUrl:"#/dashboard/misc/helpCenter/requestFrequentlyAskedQuestions",browseDemosUrl:"#/dashboard/misc/helpCenter/requestDemosAndTutorials",contactusUrl:"#/dashboard/misc/helpCenter/requestContactUs",transferMoneyToAccount:"dashboard/transferMoney/transferMoney/initiateTransfer",exitConfirmationOverlay:";overlay=exitConfirmationOverlay",enrollConfirmationOverlay:";overlay=enrollConfirmationOverlay",mortgagePaymentActivity:"#/dashboard/payBills/paymentsActivity/index;params=home,{{payeeId}}",initiateAutomaticMortgagePayment:"#/dashboard/payBills/schMortgagePayment/initiateMake;payeeId={{payeeId}};payeeType=mortgage;seriesType=repeating",reOrderChecksSubmitUrl:"#/dashboard/misc/classic/index;params=reorderchecksconfirm",initiateHomeEquityLoanAutomaticPaymentUrl:"#/dashboard/payBills/scheduleHomeEquityPayment/initiateMake;payeeId={{payeeId}};payeeType={{payeeType}};seriesType=repeating",qpEnrollUrl:"#/dashboard/qpEnroll/quickpayEnrollment/index",qpEnrollLandingUrl:"#/dashboard/qpEnroll/quickpayEnrollment/qpEnrollLanding",qpEnrollVerifyUrl:"#/dashboard/qpEnroll/quickpayEnrollment/qpEnrollVerify",qpEnrollEditUrl:"#/dashboard/qpEnroll/quickpayEnrollment/qpEnrollEdit",qpEnrollConfirmUrl:"#/dashboard/qpEnroll/quickpayEnrollment/qpEnrollConfirm",qpEnrollMissingEmailUrl:"#/dashboard/qpEnroll/quickpayEnrollment/updatePrimaryEmail",qpEnrollReceivableAccountRequiredUrl:"#/dashboard/qpEnroll/quickpayEnrollment/receivableAccountRequired;flow=",qpAgreementUrl:"#/dashboard/qpEnroll/quickpayEnrollment/qpAgreement",verifyAddRecipientUrl:"#/dashboard/paymentsAdmin/manageRecipient/verifyCreateContact",confirmAddRecipientUrl:"#/dashboard/paymentsAdmin/manageRecipient/confirmCreateContact",viewRecipientDetailsUrl:"#/dashboard/paymentsAdmin/manageRecipient/selectContact",editRecipientDetailsUrl:"#/dashboard/paymentsAdmin/manageRecipient/updateContact",editRecipientDetailsVerfiyUrl:"#/dashboard/paymentsAdmin/manageRecipient/verifyUpdateContact",qpManageRecipientUrl:"#/dashboard/paymentsAdmin/manageRecipient/updateContacts",qpUniversalPayeeUrl:"#/dashboard/paymentsAdmin/manageRecipient/universalPayee;universalPayeeId=",zelleUniversalPayeeUrl:"#/dashboard/personToPersonTransfer/manageRecipients/universalPayee;universalPayeeId=",confirmRecipientDetailsUrl:"#/dashboard/paymentsAdmin/manageRecipient/confirmUpdateContact",confirmDeleteRecipientUrl:"#/dashboard/paymentsAdmin/manageRecipient/confirmDelete",editRecipientDetailsUrl_paymentServicesHub:"#/dashboard/paymentServicesHub/manageQuickPayRecipients/updateContact",qpAddRecipientUrl_paymentServicesHub:"#/dashboard/paymentServicesHub/manageQuickPayRecipients/initiateCreateContact",viewRecipientDetailsUrl_paymentServicesHub:"#/dashboard/paymentServicesHub/manageQuickPayRecipients/selectContact",qpManageRecipientUrl_paymentServicesHub:"#/dashboard/paymentServicesHub/manageQuickPayRecipients/updateContacts",editRecipientDetailsVerfiyUrl_paymentServicesHub:"#/dashboard/paymentServicesHub/manageQuickPayRecipients/verifyUpdateContact",confirmRecipientDetailsUrl_paymentServicesHub:"#/dashboard/paymentServicesHub/manageQuickPayRecipients/confirmUpdateContact",confirmDeleteRecipientUrl_paymentServicesHub:"#/dashboard/paymentServicesHub/manageQuickPayRecipients/confirmDelete",verifyAddRecipientUrl_paymentServicesHub:"#/dashboard/paymentServicesHub/manageQuickPayRecipients/verifyCreateContact",confirmAddRecipientUrl_paymentServicesHub:"#/dashboard/paymentServicesHub/manageQuickPayRecipients/confirmCreateContact",automaticCreditCardPaymentSetup:"/dashboard/payBills/automaticPayments/initiateSetup;payeeType=CREDIT_CARD;payeeId={{payeeId}}",automaticLoanPaymentSetup:"/dashboard/payBills/setupAutomaticBusinessLoanPayments/initiate;payeeType=BUSINESS_LOAN;payeeId={{payeeId}}",automaticMortgagePaymentSetup:"/dashboard/payBills/schMortgagePayment/initiateMake;payeeId={{payeeId}};payeeType=mortgage;seriesType=repeating",automaticPaymentsUrl:"#/dashboard/payBills/automaticPayments/index",beginAutoLoanAutomaticPaymentUrl:"/dashboard/payBills/automaticPayments/selectPayee",beginCreditCardAutomaticPaymentUrl:"/dashboard/payBills/automaticPayments/selectPayee",beginHomeLoanAutomaticPaymentUrl:"/dashboard/payBills/automaticPayments/selectPayee",beginPersonalLoanAutomaticPaymentUrl:"/dashboard/payBills/automaticPayments/selectPayee",beginBusinessLoanAutomaticPaymentUrl:"/dashboard/payBills/automaticPayments/selectPayee",personalLoanPaymentActivityUrl:"#/dashboard/payBills/personalLoanPaymentActivity/showActivity",businessLoanPaymentActivityUrl:"#/dashboard/payBills/businessLoanPaymentActivity/index",pendingApprovalsActivityUrl:"#/dashboard/landing/redirection;product=pendingApproval",approvalsPaymentActivityUrl:"#/dashboard/landing/redirection;product=pendingApproval",editWireTransferPendingApprovalUrl:"#/dashboard/misc/classic/index;params=accessmanagerwiretransfereditwiredetails",classicWireActivationUrl:"#/dashboard/misc/classic/index;params=wireactivation",collectionsEnrollmentUrl:"#dashboard/collections/enrollment/enrollmentEnter",collectionsBusinessEnrollmentUrl:"#dashboard/collections/businessEnrollment/enrollmentEnter",collectionsScheduleUrl:"/dashboard/collections/scheduleCollections/payorsList",collectionsNachaFileUpload:"#dashboard/collections/nachaFileUpload/index",collectionsBillingAccountUrl:"#/dashboard/collections/enrollment/billingAccount",collectionsLegalAgreementUrl:"#/dashboard/collections/enrollment/legalAgreement",collectionsLandingUrl:"#/dashboard/landing/redirection;product=collections",collectionsSubmissionScreen:"#/dashboard/collections/enrollment/submission",collectionsAllActivityUrl:"#/dashboard/landing/redirection;product=collections;feature=activity",collectionsProfileCreationUrl:"#/dashboard/collections/enrollment/profileCreation",collectionsScheduleRepeatingInitiate:"#/dashboard/collections/scheduleRepeating/initiateScheduleRepeating",collectionsScheduleRepeatingEnter:"#/dashboard/collections/scheduleRepeating/enter",collectionsScheduleRepeatingVerify:"#/dashboard/collections/scheduleRepeating/verify",collectionsScheduleRepeatingConfirm:"#/dashboard/collections/scheduleRepeating/confirm",collectionsScheduleSingleEnter:"#/dashboard/collections/scheduleCollections/scheduleSingle",collectionsScheduleSingleVerify:"#/dashboard/collections/scheduleCollections/scheduleSingleVerify",collectionsScheduleSingleConfirm:"#/dashboard/collections/scheduleCollections/scheduleSingleConfirm",achPaymentsScheduleRepeatingInitiate:"#/dashboard/achPayments/scheduleRepeating/initiateScheduleRepeating",achPaymentsScheduleRepeatingEntry:"#/dashboard/achPayments/scheduleRepeating/entry",achPaymentsScheduleRepeatingVerify:"#/dashboard/achPayments/scheduleRepeating/verify",achPaymentsScheduleRepeatingConfirm:"#/dashboard/achPayments/scheduleRepeating/confirm",exitAddGroupLite:"dashboard/achPayments/payees/exitAddGroupLite",orderChecks:"dashboard/misc/classic/index;params=reorderchecks",confirmDeletePhoneNumberUrl:"#/dashboard/paymentsAdmin/quickpaySettings/confirmDeletePhoneNumber",confirmDeleteEmailAddressUrl:"#/dashboard/paymentsAdmin/quickpaySettings/confirmDeleteEmailAddress",confirmEmailUpdateQpEnrollmentServiceUrl:"#/dashboard/paymentsAdmin/quickpaySettings/confirmAddEmailAddress",addPhoneQpEnrollmentServiceUrl:"#/dashboard/paymentsAdmin/quickpaySettings/initiateAddPhoneNumber",verifyPhoneQpEnrollmentServiceUrl:"#/dashboard/paymentsAdmin/quickpaySettings/verifyAddPhoneNumber",confirmPhoneQpEnrollmentServiceUrl:"#/dashboard/paymentsAdmin/quickpaySettings/confirmAddPhoneNumber",addEmailQpEnrollmentServiceUrl:"#/dashboard/paymentsAdmin/quickpaySettings/initiateAddEmailAddress",verifyEmailQpEnrollmentServiceUrl:"#/dashboard/paymentsAdmin/quickpaySettings/verifyAddEmailAddress",confirmPrimaryEmailUpdateQpEnrollmentServiceUrl:"#/dashboard/paymentsAdmin/quickpaySettings/confirmPrimaryEmailUpdate",confirmUpdateFundingAccountUrl:"#/dashboard/paymentsAdmin/quickpaySettings/confirmUpdateFundingAccount",documentsHeaderContactUs:"#/dashboard/misc/helpCenter/requestContactUs",qpRequestThirdPartyAccess:"#/dashboard/profileArea/accountPreferences/manageExternalAccess",qpAddRecipientUrl:"#/dashboard/paymentsAdmin/manageRecipient/initiateCreateContact",transferReviewAgreementUrl:"#/dashboard/paymentsAdmin/activateTransferMoney/index",confirmManagePayeeCancelMerchantBillPaymentUrl:"#/dashboard/managePayee/managePayeeNav/confirmCancelMerchantBillPayment",confirmManagePayeeCancelRepeatingMerchantBillPaymentUrl:"#/dashboard/managePayee/managePayeeNav/confirmCancelRepeatingMerchantBillPayment",orderPaperDocumentsAdditionalBankingServicesAndFees:"https://apply.chase.com/oao/ViewDisclosures.aspx?DisclosuresUserType",adchoicesimgUrl:"https://www.chase.com/content/dam/chasecom/en/homepage/images/ad-choices-logo-blue_lite.png",cashflowActivityUrl:"#/dashboard/cashflow/paymentsActivity/index",accessManagerUsersList:"/dashboard/accessManager/users/list",openRequestConfirmationOverlay:"/dashboard/accessManager/dualControl/openRequestConfirmation",downloadSystemAdministratorDesignationPdf:"https://www.chase.com/content/dam/chaseonline/en/legacy/content/secure/sso/document/cco_account_linking_form.pdf",downloadProxyAdminUserGuidePdf:"/content/dam/structured-documents/quick-reference/commercial/proxy-admin_dual-control-guide.pdf",downloadCompareServicePlanPdf:"/content/dam/cpo-static/pdf/CompareServicePlan.pdf",setUpDirectDepositUrl:"/dashboard/depositAccountServicing/setUpDirectDeposit/index",serviceFeeDetailsUrl:"/dashboard/depositAccountServicing/serviceFeeDetails/index",updateDebitCardCoverageURL:"dashboard/depositAccountServicing/debitCardCoverage/index",updateDebitCardCoverageConfirmURL:"dashboard/depositAccountServicing/debitCardCoverage/confirm",overdraftprotectionUrl:"/dashboard/depositAccountServicing/overdraftProtection/index",overdraftProtectionConfirmURL:"/dashboard/depositAccountServicing/overdraftProtection/confirm",stopPaymentsDetailsUrl:"/dashboard/depositAccountServicing/stopPaymentOnCheck/details",stopPaymentBegin:"/dashboard/depositAccountServicing/stopPaymentOnCheck/begin",stopPaymentInitiate:"/dashboard/depositAccountServicing/stopPaymentOnCheck/initiate",stopPaymentVerify:"/dashboard/depositAccountServicing/stopPaymentOnCheck/verify",stopPaymentConfirm:"/dashboard/depositAccountServicing/stopPaymentOnCheck/confirm",stopPaymentCancel:"/dashboard/depositAccountServicing/stopPaymentOnCheck/cancel",stopPaymentError:"/dashboard/depositAccountServicing/stopPaymentOnCheck/notAbleTo",initiateCreatePdfUrl:"/dashboard/depositAccountServicing/depositDetails/initiateCreatePdf",confirmCreatePdfUrl:"/dashboard/depositAccountServicing/depositDetails/confirmCreatePdf",cardBenefitUrl:"/dashboard/creditCardAccountServicing/cardBenefits/creditCard",creditLineIncreaseEntryUrl:"/dashboard/creditCardAccountServicing/creditLineIncrease/index;",creditLineIncreaseVerifyUrl:"/dashboard/creditCardAccountServicing/creditLineIncrease/verify;",creditLineIncreaseConfirmUrl:"/dashboard/creditCardAccountServicing/creditLineIncrease/confirm;",replaceLostOrStolenCardUrl:"/dashboard/cardAccountServicingArea/replaceCard/entry",flexCardHistoryUrl:"/dashboard/creditCardAccountServicing/flex/history",flexCardFinancialSummaryUrl:"/dashboard/creditCardAccountServicing/flex/financialSummary",cxoReplaceCard:{INDEX:"/dashboard/creditCardAccountServicing/replaceCard/select",LANDING:"/dashboard/creditCardAccountServicing/replaceCard/select",LANDING_LG:"/dashboard/creditCardAccountServicing/replaceCard/selectCard",CARDS:"/dashboard/creditCardAccountServicing/replaceCard/select;step=cards",REASONS:"/dashboard/creditCardAccountServicing/replaceCard/select;step=reasons",SHIPPING:"/dashboard/creditCardAccountServicing/replaceCard/select;step=shipping",TRANSACTIONS:"/dashboard/creditCardAccountServicing/replaceCard/select;step=transactions",AUTHEDUSERS:"/dashboard/creditCardAccountServicing/replaceCard/select;step=authedUsers",VERIFICATION:"/dashboard/creditCardAccountServicing/replaceCard/verification",CONFIRMATION:"/dashboard/creditCardAccountServicing/replaceCard/confirmation"},cardControlsUrl:"/dashboard/creditCardAccountServicing/activationStatus/controlFlyout",replaceBusinessCardUrl:"/dashboard/cardAccountServicingArea/replaceBusinessCard/index",amortizationEstimatorUrl:"dashboard/loanAccountServicing/amortizationEstimator/requestAmortizationEstimator",alaInterestPaidLetterUrl:"/dashboard/autoServicing/alaInterestPaidLetter/index",accountsDetailsUrl:"/dashboard/accountDetails/details/",initiateUpdatePaymentDueDateUrl:"/dashboard/accountServicing/updatePaymentDueDate/beginUpdatePaymentDueDate",beginUpdatePaymentDueDateUrl:"/dashboard/accountServicing/updatePaymentDueDate/begin",selectPaymentDueDateUrl:"/dashboard/accountServicing/updatePaymentDueDate/initiate",verifyPaymentDueDateUrl:"/dashboard/accountServicing/updatePaymentDueDate/verify",confirmPaymentDueDateUrl:"/dashboard/accountServicing/updatePaymentDueDate/confirm",updatePaymentDueDateErrorUrl:"/dashboard/accountServicing/updatePaymentDueDate/updatePaymentDueDateError",showDownloadModelUrl:"/dashboard/accountDetails/downloadAccountTransactions/index",updatePaymentDueDateHybridUrl:"/dashboard/accountServicing/updatePaymentDueDate/creditCardHybridIndex",blueprintAnnouncementOverlayUrl:"dashboard/creditCardAccountServicing/blueprintAnnouncement/index",updatePaymentModalKey:"updatePaymentDuedate",showDownloadModalKey:"showDownloadModel",accountAndRoutingNumberMsgBox:"/dashboard/accountDetails/accountAndRoutingNumber/index",requestMerchantServicesAccountDetails:"/dashboard/merchantServicesBlock/accountDetails/accountInformationModal",requestThirdPartyNavigationUrl:"dashboard/thirdPartyNavigation/index",requestNewVastNavigationUrl:"dashboard/thirdPartyNavigation/newNavigationToVast",requestDigitalSamlRedirectUrl:"dashboard/digitalSamlRedirect/navigateToThirdPartyUrl",batchReportUrl:"/dashboard/cboGallery/batchReport/index",debitCardLockUnlockModernUrl:"#/dashboard/cardAccountServicingArea/activationStatus/controlSlide",transactionsListUrl:"dashboard/gallery/transactions/index",odsTransactionsListUrl:"dashboard/gallery/transactions/odsActivity",routeTransactionActivityUrl:"dashboard/gallery/transactions/routeActivity",transactionsHideUrl:"dashboard/gallery/transactions/hide",printSummaryUrl:"dashboard/accountDetails/printSummary/printSummary",activitySpeedbump:"dashboard/gallery/transactions/showActivitySpeedbump",allTransactionsUrl:"dashboard/gallery/transactions/printAllActivities",activitiesReadyToPrintUrl:"/dashboard/spendingSummary/spendingReport/activitiesReadyToPrint",updateSpendReportPrintMenuUrl:"/dashboard/spendingSummary/spendingReport/updateSpendReportPrintMenu",downloadAccountActivityUrl:"dashboard/gallery/transactions/downloadAccountActivity",printAllActivityErrorUrl:"/dashboard/spendingSummary/spendingReport/printAllActivityError",spendingReportFilterDropdownChangedUrl:"#/dashboard/gallery/transactions/updateSpendingFilterDropDowns",refreshSpendingReportChartDataUrl:"#/dashboard/spendingSummary/spendingReport/refreshSpendingReportChartData",assetSymbolLookupPrivateStateUrl:"dashboard/gallery/assetSymbolLookup/index",commercialLoanAutoPayEnrollmentUrl:"/dashboard/commercialLoansArea/autoPay/checkEnrollment",paypalProvisioning:{addCard:"/dashboard/digitalWallets/paypalProvisioning/addCard",linkAnotherPaypal:"/dashboard/digitalWallets/paypalProvisioning/linkAnotherPaypal",linkNewPaypal:"/dashboard/digitalWallets/paypalProvisioning/linkNewPaypal",removeCard:"/dashboard/digitalWallets/paypalProvisioning/removeCard"},autoSaveUrl:"dashboard/gallery/autoSave/index",autoSaveSetupUrl:"/dashboard/financialHealth/goalBasedSavings/createGoal;page=goalSelection",autoSaveDashboardUrl:"/dashboard/financialHealth/goalBasedSavings/dashboard",goalBasedSavingsDashboardUrl:"/dashboard/financialHealth/goalBasedSavings/dashboard",createSavingsGoalUrl:"/dashboard/financialHealth/goalBasedSavings/createGoal;page=goalSelection",createInvestmentsGoalUrl:"/dashboard/financialHealth/goalBasedSavings/createGoal;page=generalInvesting",riskProfileDefinitionsUrl:"/dashboard/eda/riskProfileDefinitions/index",choiceOutcomesUrl:"/dashboard/savingsToInvest/youInvest/choiceOutcomes",manageRecipients:{updateRecipient:"#/dashboard/singleDoor/manageRecipients/index",addRecipient:"#/dashboard/singleDoor/manageRecipients/index;params=addrecipient"},managePayees:{updatePayee:"#/dashboard/singleDoor/managePayees/index;params=updatepayee",addPayee:"#/dashboard/singleDoor/managePayees/index;params=addpayee",updateGroup:"#/dashboard/singleDoor/managePayees/index;params=updategroup",addGroup:"#/dashboard/singleDoor/managePayees/index;params=addgroup"},singleDoor:{displayError:"#/dashboard/singleDoor/errorDisplayController/index",resetError:"#/dashboard/singleDoor/errorDisplayController/reset",displayFlyoutHeader:"#/dashboard/singleDoor/flyoutHdrDisplayController/index",resetFlyoutHeader:"#/dashboard/singleDoor/flyoutHdrDisplayController/reset"},manageAchPaymentHub:{editPayee:"/dashboard/paymentServicesHub/manageAchRecipients/editPayee",editPayeeClearingHouse:"/dashboard/paymentServicesHub/manageAchRecipients/editParty"},achfileuploadOTPUrl:"#/dashboard/achPayments/nachaFileUpload/index",paymentServicesHub:"#/dashboard/paymentServicesHub/summary/index",commercialPaymentsHub:"#/dashboard/commercialPaymentsHub/summary/index",commercialPaymentsHubCashFlowUrl:"#/dashboard/commercialPaymentsHub/cashFlow/index",revenueCenterHub:"#/dashboard/collectAndDeposit/collectAndDepositCenter/index",paymentServicesProductInformation:"/dashboard/paymentServicesHub/summary/showProductInfo",paymentServicesProductInformationExternal:"/dashboard/paymentServicesHub/summary/showProductInfoExternal",bpcAchAddRecipient:"#/dashboard/paymentServicesHub/manageAchRecipients/chooseAction",pendingApprovalsBPC:"#/dashboard/approvals/summary/list",manageBillPayPaymentHub:{updatePayee:"#/dashboard/paymentServicesHub/manageBillPayRecipients/index;params=updatepayee",addPayee:"#/dashboard/paymentServicesHub/manageBillPayRecipients/index;params=addpayee",addMerchantPayee:"#/dashboard/paymentServicesHub/manageBillPayRecipients/index;params=addmerchantpayee",updateGroup:"#/dashboard/paymentServicesHub/manageBillPayRecipients/index;params=updategroup",addGroup:"#/dashboard/paymentServicesHub/manageBillPayRecipients/index;params=addgroup"},manageQuickPayPaymentHub:{updateRecipient:"#/dashboard/paymentServicesHub/manageQuickPayRecipients/updateContacts",addRecipient:"#/dashboard/paymentServicesHub/manageQuickPayRecipients/initiateCreateContact"},erpPaymentListBills:"#/dashboard/erpPayments/bills/index",erpPaymentMatchedRecipient:"#/dashboard/erpPayments/bills/requestRecipients",erpPaymentMakePayment:"#/dashboard/erpPayments/paybills/makePayment",erpPaymentSetRecipientDetails:"#/dashboard/erpPayments/paybills/setRecipientDetails",paymentsActivityMenuURLs:{accounts:{auto:"#/dashboard/payBills/paymentsActivity/index;payeeType=AUTO_LOAN,AUTO_LEASE",creditcard:"#/dashboard/payBills/paymentsActivity/index;payeeType=CREDIT_CARD",homeloan:"#/dashboard/payBills/paymentsActivity/index;params=home",lineofcredit:"#/dashboard/payBills/paymentsActivity/index;payeeType=CREDIT_FACILITY"},billPay:{all:"#/dashboard/payBills/paymentsActivity/index;params=billPay,all",repeating:"#/dashboard/payBills/paymentsActivity/index;params=billPay,repeating"},qp:{todo:"#/dashboard/quickPay/paymentsActivity/index;params=qp,todo",receivedActivity:"#/dashboard/quickPay/paymentsActivity/index;params=qp,receivedactivity",sentActivity:"#/dashboard/quickPay/paymentsActivity/index;params=qp,sentactivity",requestActivity:"#/dashboard/quickPay/paymentsActivity/index;params=qp,requestactivity",requestGroupActivity:"#/dashboard/quickPay/requestActivity/index",recurring:"#/dashboard/quickPay/paymentsActivity/index;params=qp,sentactivity,repeatingpayments"},singleDoor:{creditCard:"#/dashboard/singleDoor/payments/activity;params=card,creditCard",autoPay:"#/dashboard/singleDoor/payments/activity;params=card,autoPay",billPay:"#/dashboard/singleDoor/payments/activity;params=billPay,all",eBills:"#/dashboard/singleDoor/payments/activity;params=billPay,eBills",repeating:"#/dashboard/singleDoor/payments/activity;params=billPay,repeating",todo:"#/dashboard/singleDoor/payments/activity;params=qp,todo",receivedactivity:"#/dashboard/singleDoor/payments/activity;params=qp,receivedactivity",sentactivity:"#/dashboard/singleDoor/payments/activity;params=qp,sentactivity",requestactivity:"#/dashboard/singleDoor/payments/activity;params=qp,requestactivity",repeatingpayments:"#/dashboard/singleDoor/payments/activity;params=qp,repeatingpayments",rfpBillHistory:"#/dashboard/singleDoor/payments/activity;params=requestPayment,billHistory",rfpPaymentActivity:"#/dashboard/singleDoor/payments/activity;params=requestPayment,paymentActivity"},transfer:{activity:"#/dashboard/transferMoney/paymentsActivity;mode=transferActivity/index",repeatingTransfer:"#/dashboard/transferMoney/paymentsActivity;mode=repeatingTransfers/index",brokerageActivity:"#/dashboard/transferMoney/paymentsActivity;mode=brokerageActivity/index",brokerageRepeatingActivity:"#/dashboard/transferMoney/paymentsActivity;mode=brokerageRepeatingActivity/index",securitiesActivity:"#/dashboard/transferMoney/paymentsActivity;mode=transferSecuritiesActivity/index",journalInternalTransfers:"#/dashboard/accountTransferActivity/internalSecurityTransfers/index",lineOfCreditActivity:"#/dashboard/transferMoney/paymentsActivity/drawActivity"},classic:{wire:"#/dashboard/misc/classic/index;params=wireactivity",wireMoney:"#/dashboard/misc/classic/index;params=schedulewire"},paymentServiceHub:{activity:"#dashboard/paymentServicesHub/requestActivity/index",activity_analytics:"#/dashboard/paymentServicesHub/paymentActivity/requestTrackerActivity"},requestPayment:{billActivity:"#/dashboard/requestPayment/billActivity/index",paymentActivity:"#/dashboard/requestPayment/paymentActivity/index"}},setupAutomaticCreditCard:{index:"#/dashboard/payBills/paymentsActivity/setupAutomaticCreditCardPayments",screen:{entry:"screen=initiateAutomaticCreditCardPayment",verify:"screen=verifyCreditCardPayment",confirm:"screen=confirmCreditCardPayment"}},paymentsActivitySettings:{spinnerExtraTopOffset:600},convoDeckQPAcceptMoneyInlineErrors:{INVALID_PAYMENT_STATUS:!0,PAYEE_MATCHED_OFFICE_OF_FOREIGN_ASSETS_CONTROL_FRAUD_LIST:!0,INVALID_TOKEN:!0,MEMO_FUNDING_FAILED:!0,TRANSACTION_EXCEEDS_SENDER_UNAUTHORIZED_DAILY_LIMIT:!0,RECEIVER_DOES_NOT_HAVE_RECEIVABLE_SETUP:!0,CLEAR_EXCHANGE_INVALID_RESPONSE:!0,INVALID_ACCOUNT_COMBINATION:!0},interstitialProperties:{mobilePhoneImageUrl:"/content/dam/cpo-static/images/mobile-illustration.png",imageContentUrl:"/content/dam/cpo-static/images/profile_illustration.png",updateQpMobileImageUrl:"/content/dam/cpo-static/images/mobile-illustration.png",legalAgreementAdvisorySegments:["PAF","PCB","PVB","WTH","OTHER"]},companyField:{companyURL:"false",companyName:"false",noCompany:"true"},CLASSIC_NAVIGATE_URL:{mortgageOneTimePayment:{url:"#/dashboard/payBills/payBill/payee",params:[{key:"payeeId",valueName:"accountindex",isNegative:!0}]},rewardsHistory:{url:"#/dashboard/misc/rewardsSummary/index",params:[{key:"accountId",valueName:"accountindex",isNegative:!1}]}},noFundingAccountVariationMap:{default:"MISSING_PAY_FROM_ACCOUNT",CREDIT_CARD:"MISSING_CARD_PAY_FROM_ACCOUNT",AUTO_LOAN:"MISSING_AUTO_ADD_EXTERNAL_ACCOUNT",AUTO_LEASE:"MISSING_AUTO_ADD_EXTERNAL_ACCOUNT",HOME_EQUITY_LOAN:"MISSING_HOME_PERSONAL_ADD_EXTERNAL_ACCOUNT",MORTGAGE:"MISSING_HOME_PERSONAL_ADD_EXTERNAL_ACCOUNT",HELOC:"MISSING_HOME_PERSONAL_ADD_EXTERNAL_ACCOUNT",PERSONAL_LOAN:"MISSING_HOME_PERSONAL_ADD_EXTERNAL_ACCOUNT"},CLASSIC_RESOURCE_URL:{viewformwithhomeloanfees:{path:"/content/ecpweb/chf/document/Mortgage_FeeSchedule.pdf",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"}},messagecenter:{path:"/smcPortal/web/user/session/SSOLogin.jsp",domain:{english:"CLASSIC_MESSAGE_CENTER_URI",spanish:"CLASSIC_MESSAGE_CENTER_URI_ES"}},messagecentercontactus:{path:"/smcPortal/web/user/mailbox/contactuslist.jsp",domain:{english:"CLASSIC_MESSAGE_CENTER_URI",spanish:"CLASSIC_MESSAGE_CENTER_URI_ES"}},messagecenteratmnewpin:{path:"/smcPortal/InquiryDirector.websafe?typelessCategory=Check&title=ATM%20Inquiry_tnewpin",domain:{english:"CLASSIC_MESSAGE_CENTER_URI",spanish:"CLASSIC_MESSAGE_CENTER_URI_ES"}},messagecenteratmreplacement:{path:"/smcPortal/InquiryDirector.websafe?typelessCategory=Check&title=ATM%20Inquiry_treplacement",domain:{english:"CLASSIC_MESSAGE_CENTER_URI",spanish:"CLASSIC_MESSAGE_CENTER_URI_ES"}},messagecenteratmnewpinprepaid:{path:"/smcPortal/InquiryDirector.websafe?typelessCategory=PP&title=Card%20Servicing%20Inquiry_tnewpin",domain:{english:"CLASSIC_MESSAGE_CENTER_URI",spanish:"CLASSIC_MESSAGE_CENTER_URI_ES"}},messagecenteratmreplacementprepaid:{path:"/smcPortal/InquiryDirector.websafe?typelessCategory=PP&title=Card%20Servicing%20Inquiry_treplacement",domain:{english:"CLASSIC_MESSAGE_CENTER_URI",spanish:"CLASSIC_MESSAGE_CENTER_URI_ES"}},messagecenterlostorstolenbankcard:{path:"/smcPortal/InquiryDirector.websafe?typelessCategory=Check&title=Lost%20or%20Stolen%20Bank%20Card",domain:{english:"CLASSIC_MESSAGE_CENTER_URI",spanish:"CLASSIC_MESSAGE_CENTER_URI_ES"}},messagecenterwerlistening:{path:"/smcPortal/WRLInquiryDirector.websafe?source=MA&title=WeRListening",domain:{english:"CLASSIC_MESSAGE_CENTER_URI",spanish:"CLASSIC_MESSAGE_CENTER_URI_ES"}},setupdirectdeposit:{path:"/secure/SetupDirectDeposit.aspx",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"}},rewardsprogramdetail:{path:"/RewardsProgramDetail.aspx",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},edslegalagreement:{path:"/Public/Misc/LAContent.aspx?agreementKey=eds_agreement",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"}},onlineserviceagreement:{path:"/Public/Misc/LAContent.aspx?agreementKey=COLSA1A_LA",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"}},sampleStatementPdf:{path:"/resources/paperless_statements_chase_sample.pdf",domain:{english:"CLASSIC_CHASEONLINE_URI"}},viewdisclosure:{path:"/OAO/ViewDisclosures.aspx?DisclosuresUserType=Consumer",domain:{english:"CLASSIC_APPLY_URI"},paramName:"DisclosuresZipCode"},viewdisclosureforchaseliquid:{path:"/OAO/ViewDisclosures.aspx?DisclosuresUserType=ChaseLiquid",paramName:"DisclosuresZipCode",domain:{english:"CLASSIC_APPLY_URI"}},smccontactfinancialadvisor:{path:"/smcPortal/InquiryDirector.websafe?typelessCategory=Invest&title=Contact Your Financial Advisor",paramName:"advName",addlParamName:"advEmailId",domain:{english:"CLASSIC_MESSAGE_CENTER_URI",spanish:"CLASSIC_MESSAGE_CENTER_URI_ES"}},smccontactfinancialteam:{path:"/smcPortal/MolDirector.websafe?typelessCategory=MOL&fromMOL=1&accountType=MOL&Advfirstname=&newstoken=false&fccReqId=MOLLogon",paramName:"emailAddresses",addlParamName:"Advlastname",domain:{english:"CLASSIC_MESSAGE_CENTER_URI",spanish:"CLASSIC_MESSAGE_CENTER_URI_ES"}},gotorewardssite:{path:"/Rewards/GotoRewardsSite.aspx?rewardsId=40&ca=Nickname",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},onlineandmobiletooltip:{path:"/content/ecpweb/sso/document/Chase_By_Phone_Menu_Guide.pdf",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"}},depositdisclosures:{path:"/secured/oao/disclosuresrouter.aspx",domain:{english:"CLASSIC_APPLY_URI",spanish:"CLASSIC_APPLY_URI_ES"}}},ACCOUNT_RELATED_DOCUMENTS_URL:{HEO:"https://www.chase.com/content/dam/chaseonline/en/legacy/content/secure/chf/document/mortgage_feeschedule.pdf",HMG:"https://www.chase.com/content/dam/chaseonline/en/legacy/content/secure/chf/document/mortgage_feeschedule.pdf",HEL:"https://www.chase.com/content/dam/chaseonline/en/legacy/content/secure/chf/document/mortgage_feeschedule.pdf"},IFRAME_URL:{atmpreferences:{iframeTitle:"Chase ATM QuickChoice Preferences",path:"/ATMPreference/RoutePage.aspx",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},homeorderchecks:{iframeTitle:"Order Checks",path:"/homefinance/OrderChecks/Request",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},changecarddesign:{iframeTitle:"Choose Card Design",path:"/CustService/ChangeCardDesign.aspx",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},cardmemberagreement:{iframeTitle:"Request Cardmember Agreement",path:"/CMA/CmaRequest.aspx",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},cardreplacement:{iframeTitle:"Card Replacement",path:"/CustService/OrderReplCard.aspx",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},borrowerportal:{iframeTitle:"Loan Modification Center",path:"/BorrowerPortal/MortgageModification/Home",domain:{english:"CLASSIC_APPLY_URI"}},paymentarrangement:{iframeTitle:"Payment Information",path:"/caf/secured/PaymentArrangement/PaymentArrangement.aspx",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},depositdisclosures:{iframeTitle:"Deposit Disclosures and Interest Rates",path:"/secured/oao/disclosuresrouter.aspx",domain:{english:"CLASSIC_APPLY_URI",spanish:"CLASSIC_APPLY_URI_ES"}},investments:{iframeTitle:"Portfolio",path:"/secure/Positions",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard"}},investmenttab:{iframeTitle:"Markets",path:"/ResearchAndMarketData/Index",domain:{english:"CLASSIC_INVESTMENTS_URI"},fullWidth:!0,pageExit:{url:"#/dashboard/misc/classic/index;params=investmentsportfoliopositions",urlType:"investments",altUrl:"#/dashboard"}},investmentsportfoliopositions:{iframeTitle:"Portfolio",path:"/secure/Positions",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard"}},investmentsportfolioassetclass:{iframeTitle:"Portfolio",path:"/secure/Positions?TabName=AssetTab",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard"}},investmentsportfoliooverview:{iframeTitle:"Portfolio",path:"/secure/Positions?TabName=Charts",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard"}},investmentsportfoliobalances:{iframeTitle:"Portfolio",path:"/secure/Balances",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard"}},investmentsportfoliotransactions:{iframeTitle:"Portfolio",path:"/secure/Transactions",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard"}},investmentsportfoliorealizedgainloss:{iframeTitle:"Portfolio",path:"/secure/RealizedGainLoss",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard"}},investmentsourexpertise:{iframeTitle:"Our Expertise",path:"/Investing/AboutInvesting",domain:{english:"CLASSIC_INVESTMENTS_URI"},fullWidth:!0,pageExit:{url:"#/dashboard"}},investmentsretirement:{iframeTitle:"Planning & Retirement",path:"/Investing/PlanningRetirement",domain:{english:"CLASSIC_INVESTMENTS_URI"},fullWidth:!0,pageExit:{url:"#/dashboard"}},invforms:{iframeTitle:"Investments",path:"/Static/FormsDisclosuresAccountSelect",domain:{english:"CLASSIC_INVESTMENTS_URI"},fullWidth:!0},invformscisc:{iframeTitle:"Investments",path:"/Static/FormsDisclosures?accountGroup=CISC",domain:{english:"CLASSIC_INVESTMENTS_URI"},fullWidth:!0},invformssda:{iframeTitle:"Investments",path:"/Static/FormsDisclosures?accountGroup=SDA",domain:{english:"CLASSIC_INVESTMENTS_URI"},fullWidth:!0},invformsjpms:{iframeTitle:"Investments",path:"/Static/FormsDisclosures?accountGroup=JPMS",domain:{english:"CLASSIC_INVESTMENTS_URI"},fullWidth:!0},mortgageescrowsummary:{iframeTitle:"Mortgage Escrow Information",path:"/homefinance/MortgageEscrowSummary/Information",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},mortgageescrowtaxinsurance:{iframeTitle:"Escrow, Property Tax and Insurance Details",path:"/homefinance/MortgageEscrowTaxInsurance/PropertyTaxIndex",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},mortgageescrowanalysis:{iframeTitle:"Escrow Analysis and Statement",path:"/homefinance/MortgageEscrowAnalysis/Summary",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},wireactivation:{iframeTitle:"Wire Transfers Activation",path:"/Secure/ServiceActivation/LOBServiceController.aspx?_context=wire",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"}},wireaddrecipient:{iframeTitle:"Add Wire Recipient",path:"/Wire/WireRecipientAddForm1.aspx",domain:{english:"CLASSIC_PAYMENTS_URI",spanish:"CLASSIC_PAYMENTS_URI_ES"}},wireactivity:{iframeTitle:"Wire Activity",path:"/Wire/WireActivity.aspx",domain:{english:"CLASSIC_PAYMENTS_URI",spanish:"CLASSIC_PAYMENTS_URI_ES"}},schedulewire:{iframeTitle:"Wire Money",path:"/Wire/WireAddForm1.aspx?IsOneTimePayment=true",domain:{english:"CLASSIC_PAYMENTS_URI",spanish:"CLASSIC_PAYMENTS_URI_ES"}},repeatingwire:{iframeTitle:"Wire Money",path:"/Wire/WireAddForm1.aspx?IsOneTimePayment=false",domain:{english:"CLASSIC_PAYMENTS_URI",spanish:"CLASSIC_PAYMENTS_URI_ES"}},addcreditcardauthorizeduser:{iframeTitle:"Add Authorized User",path:"/CustService/AddAuthorizedUser.aspx",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},blueprint:{iframeTitle:"Blueprint&reg;",path:"/cc/BluePrint/Home/Index",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},blueprintfinish:{iframeTitle:"Blueprint&reg;",path:"/cc/BluePrint/FinishIt/Index",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},blueprintfullpay:{iframeTitle:"Blueprint&reg;",path:"/cc/BluePrint/FullPay/Index",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},blueprintsplitit:{iframeTitle:"Blueprint&reg;",path:"/cc/BluePrint/SplitIt/Index",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},blueprinttrackit:{iframeTitle:"Blueprint&reg;",path:"/cc/BluePrint/TrackIt/Index",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},blueprintsetbudgets:{iframeTitle:"Blueprint&reg;",path:"/cc/BluePrint/TrackIt/SetBudgets",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},setreportingtimeframe:{iframeTitle:"Set Reporting Timeframe",path:"/secure/profile/ReportingTimeFrame/AddUpdate.aspx",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"},fullWidth:!0},costbasisinformation:{iframeTitle:"Update Cost Basis",path:"/UpdateCostBasis/CostBasisInformation",domain:{english:"CLASSIC_INVESTMENTS_URI"},fullWidth:!0},loanassumption:{iframeTitle:"Loan Assumption",path:"/homefinance/LoanAssumption/Information",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},mycustomgroups:{iframeTitle:"My Custom Groups",path:"/Secure/CustomGroups",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0},establishfundstransfer:{iframeTitle:"Establish Funds Transfer",path:"/EstablishFundsTransfer/AccountInformation",domain:{english:"CLASSIC_INVESTMENTS_URI"}},autopayoffquote:{iframeTitle:"Payoff Quotes",path:"/autofinance/PayoffQuote/PayoffQuotes",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},autopurchasequote:{iframeTitle:"Purchase Quotes",path:"/autofinance/PurchaseQuote/Registration",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},wirerecipientlist:{iframeTitle:"View Recipient List",path:"/Wire/WireRecipientList.aspx",domain:{english:"CLASSIC_PAYMENTS_URI",spanish:"CLASSIC_PAYMENTS_URI_ES"}},wirerecipientdetails:{iframeTitle:"See Recipient Details",path:"/Wire/WireRecipientView.aspx",domain:{english:"CLASSIC_PAYMENTS_URI",spanish:"CLASSIC_PAYMENTS_URI_ES"},paramName:"payeeid"},wirerecipientmodify:{iframeTitle:"Change Wire Recipient",path:"/Wire/WireRecipientModifyForm1.aspx",domain:{english:"CLASSIC_PAYMENTS_URI",spanish:"CLASSIC_PAYMENTS_URI_ES"},paramName:"payeeid"},wirerecipientdelete:{iframeTitle:"Delete Wire Recipient",path:"/Wire/WireRecipientDeleteVerify.aspx",domain:{english:"CLASSIC_PAYMENTS_URI",spanish:"CLASSIC_PAYMENTS_URI_ES"},paramName:"payeeid"},accessmanagerwiretransfereditwiredetails:{iframeTitle:"Edi Wire Transfer",path:"/Wire/WireModifyForm1.aspx?IsPendingApproval=true",domain:{english:"CLASSIC_PAYMENTS_URI",spanish:"CLASSIC_PAYMENTS_URI_ES"},paramName:"PmtId"},financialmanagementsoftware:{iframeTitle:"Select Download Method",path:"/AccountActivity/SelectDownloadMethod.aspx",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},requestratelock:{iframeTitle:"Lock My Home Equity Rate",path:"/homefinance/LockSetup/LockInfo",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},mortgagecashback:{iframeTitle:"Mortgage Cash Back Summary",path:"/homefinance/MortgageCashBackSummary/Summary",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},mortgagecashbackenroll:{iframeTitle:"Enroll in Mortgage Cash Back",path:"/homefinance/MCBEnroll/Information",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},balancetransfer:{iframeTitle:"Transfer a Balance",path:"/BalanceTransfer/BTOffer.aspx",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},balancetransferhistory:{iframeTitle:"Balance Transfer History",path:"/BalanceTransfer/BTHistory.aspx",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},homeownersassistanceoptions:{iframeTitle:"Mortgage Assistance Center",path:"/homefinance/HomeOwnersAssistance/MortgageAssistanceOptions",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},homeequityassistanceoptions:{iframeTitle:"Home Equity Homeowner Assistance Center",path:"/homefinance/HomeOwnersAssistance/HomeEquityAssistanceOptions",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},rewardsdetail:{iframeTitle:"Rewards Detail",path:"/Rewards/RewardsDetail.aspx",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"},pageExit:{url:"#/dashboard"}},learnmoreaboutratelocks:{iframeTitle:"Learn About Home Equity Rate Locks",path:"/homefinance/Static/LockInfo",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},interestpaidletter:{iframeTitle:"Auto Loan - Interest Paid Letter",path:"/caf/secured/InterestPaidLetter/InterestPaidLetter.aspx",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},directdepositforliquidaccount:{iframeTitle:"Set up Direct Deposit",path:"/SelfService/SetupDirectDepositAndAutoPay.aspx?FormType=DD",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},amortizationestimator:{iframeTitle:"Amortization Estimator",path:"/homefinance/AmortizationEstimator/Information",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},checkapplicationstatus:{iframeTitle:"My Applications",path:"/Secured/MyApplications.aspx",domain:{english:"CLASSIC_APPLY_URI"},pageExit:{lastRoute:"NON_CLASSIC_ROUTE"}},debitcardcoverage:{iframeTitle:"Chase Debit Card Coverage",path:"/secure/Profile/Odc/OdcEnroll.aspx",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"}},overdraftprotection:{iframeTitle:"Overdraft Protection",path:"/secure/Profile/Odp/OdpEnroll.aspx",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"}},autolienreleaserequest:{iframeTitle:"Lien Release Request",path:"/caf/secured/LienRelease/LienReleaseRequest.aspx",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},privacypreferences:{iframeTitle:"Privacy Preferences",path:"/secure/Profile/Privacy/SetUserPreferences.aspx",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"}},creditcardtravelnotification:{iframeTitle:"Travel Notification Form",path:"/CustService/TravelNotification.aspx",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},internationaltravelnotifications:{iframeTitle:"International Travel Notifications",path:"/Retail/TravelNotification/Details/Index",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},quickDepositChecks:{iframeTitle:"Enroll Now",path:"/QuickDeposit/Chase3DepositCheck.aspx",domain:{english:"CLASSIC_QUICKDEPOSIT_URI",spanish:"CLASSIC_QUICKDEPOSIT_URI_ES"}},quickdepositscanchecksfordeposit:{iframeTitle:"Scan Checks for Deposit",path:"/QuickDeposit/MSIRoute.aspx",domain:{english:"CLASSIC_QUICKDEPOSIT_URI",spanish:"CLASSIC_QUICKDEPOSIT_URI_ES"}},statementsandinserts:{iframeTitle:"Statements",path:"/stmtslist",domain:{english:"CLASSIC_STATEMENTS_URI",spanish:"CLASSIC_STATEMENTS_URI_ES"}},tradeconfirmations:{iframeTitle:"Confirms",path:"/secure/Confirms",domain:{english:"CLASSIC_JPMORGAN_URI"}},taxdocuments:{iframeTitle:"Tax Documents",path:"/secure/TaxForms",domain:{english:"CLASSIC_JPMORGAN_URI"}},shareholdermaterials:{iframeTitle:"Shareholder Materials",path:"/secure/ShareHolder",domain:{english:"CLASSIC_JPMORGAN_URI"}},investmentdocuments:{iframeTitle:"Investment Documents",path:"/secure/InvestmentDocuments",domain:{english:"CLASSIC_JPMORGAN_URI"}},investmentsgetfullquote:{iframeTitle:"Markets",path:"/ResearchandMarketData/GetFullQuote",domain:{english:"CLASSIC_INVESTMENTS_URI"},fullWidth:!0,pageExit:{url:"#/dashboard"},paramName:"symbol"},clicktosign:{iframeTitle:"Click To Sign",path:"/ClicktoSign/forms.jpmc",domain:{english:"CLASSIC_CWM_TRADING"},fullWidth:!0,pageExit:{url:"#/dashboard/misc/classic/index;params=investmentsportfoliopositions",urlType:"investments",altUrl:"#/dashboard"},investmentDisclosure:!0},trade:{iframeTitle:"Trade",path:"/Secure/CWMTrading?action=status",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard"},paramName:"src",addlParamName:"sym",overrideChildDomain:"CLASSIC_CWM_TRADING"},tradestocketfs:{iframeTitle:"Stocks and ETFs",path:"/Secure/CWMTrading?action=trade&secType=1",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard/misc/classic/index;params=investmentsportfoliopositions",urlType:"investments",altUrl:"#/dashboard"},paramName:"src",addlParamName:"sym",overrideChildDomain:"CLASSIC_CWM_TRADING"},trademutualfunds:{iframeTitle:"Mutual Funds",path:"/Secure/CWMTrading?action=trade&secType=F",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard/misc/classic/index;params=investmentsportfoliopositions",urlType:"investments",altUrl:"#/dashboard"},paramName:"src",addlParamName:"sym",overrideChildDomain:"CLASSIC_CWM_TRADING"},tradefixedincome:{iframeTitle:"Fixed Income",path:"/Secure/CWMTrading?action=trade&secType=FI",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard/misc/classic/index;params=investmentsportfoliopositions",urlType:"investments",altUrl:"#/dashboard"},paramName:"src",addlParamName:"sym",overrideChildDomain:"CLASSIC_CWM_TRADING"},tradeoptions:{iframeTitle:"Options",path:"/Secure/CWMTrading?action=trade&secType=6",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard/misc/classic/index;params=investmentsportfoliopositions",urlType:"investments",altUrl:"#/dashboard"},paramName:"src",addlParamName:"sym",overrideChildDomain:"CLASSIC_CWM_TRADING"},portfoliotrademutualfunds:{iframeTitle:"Mutual Funds",path:"/Secure/CWMTrading?action=trade&src=CIG",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard/misc/classic/index;params=investmentsportfoliopositions",urlType:"investments",altUrl:"#/dashboard"},paramName:"secType",addlParamName:"sym",add2ParamName:"side",add3ParamName:"acctType",add4ParamName:"qty",add5ParamName:"acctIndex",add6ParamName:"undsym",overrideChildDomain:"CLASSIC_CWM_TRADING"},tradeorderstatus:{iframeTitle:"Order Status",path:"/Secure/CWMTrading?action=status",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard/misc/classic/index;params=investmentsportfoliopositions",urlType:"investments",altUrl:"#/dashboard"},paramName:"src",addlParamName:"sym",overrideChildDomain:"CLASSIC_CWM_TRADING"},tradeorders:{iframeTitle:"Trade",path:"/Secure/CWMTrading?action=trade",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard/misc/classic/index;params=investmentsportfoliopositions",urlType:"investments",altUrl:"#/dashboard"},paramName:"src",addlParamName:"sym",overrideChildDomain:"CLASSIC_CWM_TRADING"},tradeaction:{iframeTitle:"Trade",path:"/Secure/CWMTrading?action=trade&src=IDC",domain:{english:"CLASSIC_JPMORGAN_URI"},fullWidth:!0,pageExit:{url:"#/dashboard/misc/classic/index;params=investmentsportfoliopositions",urlType:"investments",altUrl:"#/dashboard"},paramName:"sym",addlParamName:"secType",overrideChildDomain:"CLASSIC_CWM_TRADING"},searchforchecks:{iframeTitle:"Search For Checks",path:"/SelfService/SearchForChecks.aspx",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},rewardssummary:{iframeTitle:"Rewards Summary",path:"/Rewards/RewardsHistory.aspx?pageContext=rewardssummary",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},setchangecolumn:{iframeTitle:'Set My Accounts "Change" Column',path:"/secure/profile/SetChangeColumn/SetChangeColumn.aspx",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"},fullWidth:!0},activatemobile:{iframeTitle:"Mobile/SMS Management",path:"/secure/sms/mobilenumber.aspx?action=activate",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"},pageExit:{lastRoute:"NON_CLASSIC_ROUTE"}},changemobile:{iframeTitle:"Mobile/SMS Management",path:"/secure/sms/mobilenumber.aspx?action=change",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"},paramName:"indx",addlParamName:"actstat",pageExit:{url:"/dashboard/misc/classic/index;params=mobilebanking"}},deletemobile:{iframeTitle:"Mobile/SMS Management",path:"/secure/sms/delete.aspx",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"},paramName:"indx",pageExit:{url:"/dashboard/profileArea/accountPreferences/updatePhoneBankingPreferences"}},mobilebanking:{iframeTitle:"Mobile/SMS Management",path:"/secure/sms/management.aspx",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"},pageExit:{lastRoute:"NON_CLASSIC_ROUTE"}},investmentscreener:{iframeTitle:"Markets",path:"/ResearchAndMarketData/NTFFundScreener",domain:{english:"CLASSIC_INVESTMENTS_URI"},fullWidth:!0,pageExit:{url:"#/dashboard"}},legalagreements:{iframeTitle:"Legal Agreements and Disclosures",path:"/secure/Misc/LAListView.aspx",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"},pageExit:{lastRoute:"NON_CLASSIC_ROUTE"}},instantactionalerts:{iframeTitle:"Instant Action Alerts",path:"/secure/Profile/Odc/OdNotifications.aspx",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"}},reorderchecks:{iframeTitle:"Order Checks or Deposit Slips",path:"/SelfService/ReorderChecks.aspx",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},reorderchecksconfirm:{iframeTitle:"Order Checks or Deposit Slips",path:"/SelfService/ReOrderChecksSubmit.aspx",domain:{english:"CLASSIC_BANKING_URI"},cancelurl:"#/dashboard/misc/classic/index;params=reorderchecks"},verifycard:{iframeTitle:"Verify Card Receipt",path:"/cc/ReceiptVerification/ConfirmReceipt/Verify",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},saveandexitauto:{iframeTitle:"Save &amp; Exit Application",path:"/auto/SaveAndExit.aspx",domain:{english:"CLASSIC_APPLY_URI"}},saveandexitretail:{iframeTitle:"Save &amp; Exit Application",path:"/oao/Discontinue.aspx",domain:{english:"CLASSIC_APPLY_URI"}},retailapplication:{iframeTitle:"My Applications",path:"/oao/ZipCodeRouter.aspx",domain:{english:"CLASSIC_APPLY_URI"}},autoapplication:{iframeTitle:"My Applications",path:"/auto/LandingPage.aspx",domain:{english:"CLASSIC_APPLY_URI"}},autopaybymail:{iframeTitle:"Payoff by Mail",path:"/autofinance/PayoffQuote/PayoffAccountByMail",domain:{english:"CLASSIC_SERVICING_URI",spanish:"CLASSIC_SERVICING_URI_ES"}},chasepayenroll:{iframeTitle:"Chase Pay Enrollment",path:"/Enrollment/SelectCard",domain:{english:"CLASSIC_CHASEPAY_URI",spanish:"CLASSIC_CHASEPAY_URI_ES"},pageExit:{lastRoute:"NON_CLASSIC_ROUTE"}},chasepaymaintenance:{iframeTitle:"Chase Pay Maintenance",path:"/maintenance/home?tab=cards",domain:{english:"CLASSIC_CHASEPAY_URI",spanish:"CLASSIC_CHASEPAY_URI_ES"},pageExit:{lastRoute:"NON_CLASSIC_ROUTE"}},redeemcoupon:{iframeTitle:"Redeem Coupon Code",path:"/ECouponUtility/RedeemCouponCode.aspx",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"},addlParamName:"CouponCode"},creditlineincrease:{iframeTitle:"Credit Line Increase",path:"/cc/CreditLineIncrease/CLIOffer/Entry",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"},paramName:"ARN",addlParamName:"AI"},rewardsprogramdetail:{iframeTitle:"Rewards Program Detail",path:"/RewardsProgramDetail.aspx",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},travelbonusactivity:{iframeTitle:"Travel Bonus Activity",path:"/Rewards/RewardsPlus/RewardsPlusActivity.aspx?earnType=travel",domain:{english:"CLASSIC_CARDS_URI",spanish:"CLASSIC_CARDS_URI_ES"}},positiondetail:{iframeTitle:"Position Detail",path:"/MutualFunds/getPositionDetail",domain:{english:"CLASSIC_INVESTMENTS_URI"},fullWidth:!0,pageExit:{url:"#/dashboard"}},accessmanager:{iframeTitle:"Access Manager",path:"/secure/Profile/LegalAgreement/SecureLegalAgreement.aspx?AgreementType=AM",domain:{english:"CLASSIC_CHASEONLINE_URI",spanish:"CLASSIC_CHASEONLINE_URI_ES"}},accessmanageraccesshistory:{iframeTitle:"Access Manager Report History",path:"/AccessManager/Report/AccessHistory",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanagertransactionhistory:{iframeTitle:"Access Manager Transaction History",path:"/AccessManager/Report/TransactionHistory",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanagerdualcontrol:{iframeTitle:"Access Manager Dual Control",path:"/AccessManager/DualControl/Index",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanageradduser:{iframeTitle:"Access Manager Add User",path:"/AccessManager/User/Add",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanagerdeleteuser:{iframeTitle:"Access Manager Delete User",path:"/AccessManager/User",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanageradduserconfirm:{iframeTitle:"Access Manager Add User",path:"/AccessManager/User/Add",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanageredituser:{iframeTitle:"Access Manager Edit User",path:"/AccessManager/User/Edit",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanageractivateipsecurity:{iframeTitle:"Access Manager Activate IP",path:"/AccessManager/IPSecurity/Activate",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanageraddbyuser:{iframeTitle:"Access Manager Edit User",path:"/AccessManager/IPSecurity/addbyuser",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanagerchangebyuser:{iframeTitle:"Access Manager Edit User",path:"/AccessManager/IPSecurity/changebyuser",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanageraddbycompany:{iframeTitle:"Access Manager Edit User",path:"/AccessManager/IPSecurity/addbycompany",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanagerchangebycompany:{iframeTitle:"Access Manager Edit User",path:"/AccessManager/IPSecurity/changebycompany",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanagerseesettings:{iframeTitle:"Access Manager Edit User",path:"/AccessManager/IPSecurity/seesettings",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanagermanageipsecurity:{iframeTitle:"Access Manager Edit User",path:"/AccessManager/IPSecurity/manage",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanageripsecurityreport:{iframeTitle:"Access Manager Edit User",path:"/AccessManager/IPSecurity/history",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanageripsecurityconfirmbycompany:{iframeTitle:"Access Manager Edit User",path:"/AccessManager/IPSecurity/ConfirmByCompany",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanageripsecurityconfirmbyuser:{iframeTitle:"Access Manager Edit User",path:"/AccessManager/IPSecurity/ConfirmByUser",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanagerassignaccess:{iframeTitle:"Access Manager Assign Access",path:"/AccessManager/Permission/Index",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},accessmanagerordertoken:{iframeTitle:"Access Manager Order Replacement Token",path:"/AccessManager/RSAToken/OrderReplacementTokenForUser",domain:{english:"CLASSIC_BANKING_URI",spanish:"CLASSIC_BANKING_URI_ES"}},flexapp:{iframeTitle:"Your Offers",path:"/FlexAppWeb/Secured/renderApp.do",domain:{english:"CLASSIC_APPLYNOW_URI"},paramName:"SPID",addlParamName:"CELL",add2ParamName:"AFFID",add3ParamName:"MSC"},quickdepositactivity:{iframeTitle:"Deposit Activity",path:"/QuickDeposit20/DepositActivityWorkflow/DepositActivity",domain:{english:"CLASSIC_QUICKDEPOSIT_URI",spanish:"CLASSIC_QUICKDEPOSIT_URI_ES"}},quickdepositsetupscannersystemrequirement:{iframeTitle:"Set Up Scanner",path:"/QuickDeposit/SetUpScannerSystemRequirement.aspx",domain:{english:"CLASSIC_QUICKDEPOSIT_URI",spanish:"CLASSIC_QUICKDEPOSIT_URI_ES"}},depositcheckscancheck:{iframeTitle:"Deposit Checks",path:"/QuickDeposit/DepositCheckScanCheck.aspx",domain:{english:"CLASSIC_QUICKDEPOSIT_URI",spanish:"CLASSIC_QUICKDEPOSIT_URI_ES"}},depositcheckenterdeposittotal:{iframeTitle:"Deposit Checks",path:"/QuickDeposit/DepositCheckEnterDepositTotal.aspx",domain:{english:"CLASSIC_QUICKDEPOSIT_URI",spanish:"CLASSIC_QUICKDEPOSIT_URI_ES"}},setupscanneroptionalupgrade:{iframeTitle:"Set Up Scanner",path:"/QuickDeposit/SetUpScannerOptionalUpgrade.aspx",domain:{english:"CLASSIC_QUICKDEPOSIT_URI",spanish:"CLASSIC_QUICKDEPOSIT_URI_ES"}},quickdepositreturnsadjustment:{iframeTitle:"Returns & Adjustments",path:"/QuickDeposit20/ReturnsAdjustmentWorkFlow/ReturnsAdjustment",domain:{english:"CLASSIC_QUICKDEPOSIT_URI",spanish:"CLASSIC_QUICKDEPOSIT_URI_ES"}},searchfordeposits:{iframeTitle:"Search for Checks and Deposits",path:"/QuickDeposit20/SearchWorkflow/SearchDeposits",domain:{english:"CLASSIC_QUICKDEPOSIT_URI",spanish:"CLASSIC_QUICKDEPOSIT_URI_ES"}},quickdepositmanageaccounts:{iframeTitle:"Manage Accounts",path:"/QuickDeposit20/ActivationWorkFlow/ManageAccounts",domain:{english:"CLASSIC_QUICKDEPOSIT_URI",spanish:"CLASSIC_QUICKDEPOSIT_URI_ES"}},quickdepositorderscannerinfo:{iframeTitle:"Order Scanner",path:"/QuickDeposit20/OrderScannerWorkFlow/OrderScanner/OrderScannerInformation",domain:{english:"CLASSIC_QUICKDEPOSIT_URI",spanish:"CLASSIC_QUICKDEPOSIT_URI_ES"},paramName:"SRC"},quickdepositshowlocations:{iframeTitle:"Manage Locations",path:"/QuickDeposit20/ActivationWorkflow/ManageLocations/ShowLocations",domain:{english:"CLASSIC_QUICKDEPOSIT_URI",spanish:"CLASSIC_QUICKDEPOSIT_URI_ES"},paramName:"SRC"},scannerorderhistory:{iframeTitle:"Scanner Orders",path:"/QuickDeposit/ScannerOrderHistory.aspx",domain:{english:"CLASSIC_QUICKDEPOSIT_URI",spanish:"CLASSIC_QUICKDEPOSIT_URI_ES"}},achPaymentsEmployees:{iframeTitle:"ACH Payments Employees",path:"/Payroll/PayrollPayEmployeesList.aspx",domain:{english:"CLASSIC_PAYMENTS_URI",spanish:"CLASSIC_PAYMENTS_URI_ES"}},achPaymentsVendors:{iframeTitle:"ACH Payments Vendors",path:"/Vendor/VendorPaymentAddVendorList",domain:{english:"CLASSIC_PAYMENTS_URI",spanish:"CLASSIC_PAYMENTS_URI_ES"}},achCollections:{iframeTitle:"ACH Collections",path:"/Collection/CollectionAddPayorList.aspx",domain:{english:"CLASSIC_PAYMENTS_URI",spanish:"CLASSIC_PAYMENTS_URI_ES"}}},MULTIPLE_PAYMENTS_ROUTE_HISTORY_LABEL:"multiplePaymentsRouteHistoryLabel",MULTIPLE_PAYMENTS_INDEX_LABEL:"multiplePaymentsIndexLabel",ROUTE_FROM_CAMPAIGN:"routeFromMessagingCampaingLabel",TRANSFER_AGREEMENT_ROUTE_BACK:"transferAgreementRouteBack",SINGLE_DOOR_ROUTE_HISTORY_LABEL:"singleDoorRouteHistoryLabel",payBills:{urls:{payBillsPayeeUrl:"/dashboard/payBills/index/index",payCommercialLoanUrl:"/dashboard/commercialLoansArea/payLoans/entry"}},userLanguagePreferenceOptions:[{label:"ENGLISH",locale:"en-us"},{label:"SPANISH",locale:"es-us"}],chronicleAssociations:{AMOUNT_DUE:{id:"0900007280549a97",ver:"1.0"},BLUEPRINT_PAYMENT:{id:"0900007280548a87",ver:"1.3"},MINIMUM_PAYMENT_DUE:{id:"0900007280549a96",ver:"1.3"},STATEMENT_BALANCE:{id:"0900007280549a98",ver:"1.2"},FIXED_AMOUNT:{id:"0900007280f2a120",ver:"1.0"},INTEREST_SAVING_BALANCE:{id:"09000072810cd910",ver:"1.0"}},paymentActivityMenuHierarchy:{topLevel:{children:[{"payments.paymenthub":{children:[{name:"payments.paymenthub.paymenttracker"}]},"payments.approvals":{children:[{name:"payments.approvals.pendingapprovals"},{name:"payments.pendingapprovals.achfileupload"}]},"payments.billpay.account":{children:[{name:"payments.billpay.account.creditcard"},{name:"payments.billpay.account.homeloan"},{name:"payments.billpay.account.autoloanlease"},{name:"payments.billpay.account.personalloan"},{name:"payments.billpay.account.businessloan"},{name:"payments.billpay.creditfacility"},{name:"payments.billpay.account.automaticpayments"}]},"payments.requestpayment":{children:[{name:"payments.requestpayment.paymentactivity"},{name:"payments.requestpayment.billActivity"}]},"payments.activity":{children:[{name:"payments.activity.billpay"},{name:"payments.billpay.ebill.history"},{name:"payments.activity.autopayments"}]},"payments.quickpay":{children:[{name:"payments.quickpay.todolist"},{name:"payments.quickpay.moneyreceived"},{name:"payments.quickpay.moneysent"},{name:"payments.quickpay.repeatingpayments"},{name:"payments.quickpay.request"}]},"payments.transferfunds":{children:[{name:"payments.transferfunds.transfer"},{name:"payments.transferfunds.repeatingtransfer"},{name:"payments.balancetransfer.activity"}]},"payments.loanadv":{children:[{name:"payments.loanadvances.activity"},{name:"payments.loanadvances.automaticpayments"}]},"payments.payroll":{children:[{name:"payments.payroll.activity"},{name:"payments.payroll.repeatingactivity"},{name:"payments.payroll.uploadactivity"}]},"payments.brokerageActivity":{children:[{name:"payments.brokerage.transfer"},{name:"payments.brokerage.repeatingtransfer"},{name:"payments.brokeragetransfers.internal"},{name:"payments.brokerage.transfersecurities"},{name:"payments.brokerage.externaltransfers"}]},"payments.lineOfCreditActivity":{children:[{name:"payments.xfer.creditfacility"}]},"payments.wire":{children:[{name:"payments.wire.activity"},{name:"payments.wire.repeatingactivity"}]},"payments.cashflow":{children:[{name:"payments.billdotcom.activity"}]}}]}},paymentActivityMenuItemsInfo:{topLevel:{id:"hideThis",level:"topLevel",title:"",display:!0,collapsible:!1,clickable:!1,active:!1,defaultLink:"#",specName:"PAYMENT_ACTIVITY_MENU",defaultTrigger:"activate",defaultBottomSuffix:"label",defaultCategorySuffix:"header",adaselectedtext:"currentSelectionAda"},"payments.loanadv":{id:"requestLoanServicesLabel",level:"category",semanticTag:"requestLoanServicesLabel",display:!1,collapsible:!1,clickable:!1,all:!1},"payments.loanadvances.activity":{id:"commercial_loans",level:"bottom",semanticTag:"requestLoanActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestLoanActivity"},"payments.loanadvances.automaticpayments":{id:"commercial_loans_autopay",level:"bottom",semanticTag:"requestAutomaticPaymentsLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestAutomaticPayments"},"payments.payroll":{id:"achPaymentActivityMenuHeader",level:"category",semanticTag:"achPaymentActivityMenuHeader",display:!1,collapsible:!1,clickable:!1,all:!1},"payments.payroll.activity":{id:"ach_payments",level:"bottom",semanticTag:"requestAchPaymentActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestAchPaymentActivity"},"payments.payroll.repeatingactivity":{id:"ach_payments_repeating",level:"bottom",semanticTag:"requestAchPaymentRepeatingLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestAchPaymentRepeating"},"payments.payroll.uploadactivity":{id:"ach_payments_upload",level:"bottom",semanticTag:"requestAchFileUploadActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestAchFileUploadActivity"},"payments.approvals":{id:"approvalActivityHeader",level:"category",semanticTag:"approvalActivityHeader",display:!1,collapsible:!1,clickable:!1,all:!1,dataAttr:"PAYMENT_ACTIVITY_MENU.approvalActivityHeader"},"payments.approvals.pendingapprovals":{id:"pending_approvals",level:"bottom",semanticTag:"requestPendingTransactionApprovalsLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestPendingTransactionApprovals"},"payments.pendingapprovals.achfileupload":{id:"ach_pending_approvals",level:"bottom",semanticTag:"requestAchFileUploadPendingApprovalsLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestAchFileUploadPendingApprovals"},"payments.billpay.account":{id:"internalAccountBillPaymentActivityHeader",level:"category",semanticTag:"internalAccountBillPaymentActivityHeader",display:!1,collapsible:!1,clickable:!1,all:!1,dataAttr:"PAYMENT_ACTIVITY_MENU.internalAccountBillPaymentActivityHeader"},"payments.billpay.account.creditcard":{id:"credit_card_menu_item",level:"bottom",semanticTag:"requestCreditCardPaymentActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestCreditCardPaymentActivity"},"payments.billpay.creditfacility":{id:"line_of_credit_menu_item",level:"bottom",semanticTag:"lineOfCreditPaymentActivityHeader",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestLineOfCreditPaymentActivity"},"payments.billpay.account.homeloan":{id:"nav-homeLoansPayees",level:"bottom",semanticTag:"requestMortgagePaymentActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestMortgagePaymentActivity"},"payments.billpay.account.personalloan":{id:"personal_loan_menu_item",level:"bottom",semanticTag:"requestPersonalLoanPaymentActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestPersonalLoanPaymentActivity"},"payments.billpay.account.automaticpayments":{id:"automatic_payments",level:"bottom",semanticTag:"requestAutomaticPaymentActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestAutomaticPaymentActivity"},"payments.billpay.account.businessloan":{id:"business_loan",level:"bottom",semanticTag:"requestBusinessLoanPaymentActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestBusinessLoanPaymentActivity"},"payments.billpay.account.autoloanlease":{id:"auto_loan_menu_item",level:"bottom",semanticTag:"requestAutoLoanPaymentActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestAutoLoanPaymentActivity"},"payments.activity":{id:"merchantBillPaymentActivityHeader",level:"category",semanticTag:"merchantBillPaymentActivityHeader",display:!1,collapsible:!1,clickable:!1,active:!0,all:!1,dataAttr:"PAYMENT_ACTIVITY_MENU.merchantBillPaymentActivityHeader"},"payments.requestpayment":{id:"paymentRequestActivityHeader",level:"category",semanticTag:"paymentRequestActivityHeader",display:!1,collapsible:!1,clickable:!1,active:!0,all:!1,dataAttr:"PAYMENT_ACTIVITY_MENU.paymentRequestActivityHeader"},"payments.activity.billpay":{id:"bill_pay_payees_menu_item",level:"bottom",semanticTag:"requestAllMerchantBillPaymentActivityLabel",display:!1,collapsible:!0,clickable:!0,active:!1,rClick:"requestAllMerchantBillPaymentActivity"},"payments.billpay.ebill.history":{id:"bill_pay_ebills_history_menu_item",level:"bottom",semanticTag:"requestElectronicBillsHistoryLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestElectronicBillsHistory"},"payments.requestpayment.billActivity":{id:"request_payment_billactivity_menu_item",level:"bottom",semanticTag:"requestPaymentRequestActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestPaymentRequestActivity"},"payments.requestpayment.paymentactivity":{id:"request_payment_paymentactivity_menu_item",level:"bottom",semanticTag:"requestRealTimePaymentActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestRealTimePaymentActivity"},"payments.activity.autopayments":{id:"bill_pay_repeating_menu_item",level:"bottom",semanticTag:"requestRecurringMerchantBillPaymentActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestRecurringMerchantBillPaymentActivity"},"payments.quickpay.todolist":{id:"quickpay_pending_actions_menu_item",level:"bottom",semanticTag:"requestQuickpayPendingActionsActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestQuickpayPendingActionsActivity"},"payments.quickpay.moneyreceived":{id:"quickpay_money_received_menu_item",level:"bottom",semanticTag:"requestQuickpayMoneyReceivedActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestQuickpayReceivedMoneyActivity"},"payments.quickpay.moneysent":{id:"quickpay_money_sent_menu_item",level:"bottom",semanticTag:"requestQuickpayMoneySentActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestQuickpaySentMoneyActivity"},"payments.quickpay.repeatingpayments":{id:"quickpay_repeating_payments_menu_item",level:"bottom",semanticTag:"requestRecurringQuickpayPaymentActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestRecurringQuickpayPaymentActivity"},"payments.quickpay.request":{id:"quickpay_requests_activity_menu_item",level:"bottom",semanticTag:"requestQuickpayRequestsActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestQuickpayRequestsActivity"},"payments.quickpay":{id:"quickpayHeader",level:"category",semanticTag:"quickpayHeader",display:!1,collapsible:!1,clickable:!1,active:!0,all:!0,dataAttr:"PAYMENT_ACTIVITY_MENU.quickpayHeader"},"payments.paymenthub":{id:"paymentServicesPaymentActivityTrackerHeader",level:"category",semanticTag:"paymentServicesPaymentActivityTrackerHeader",display:!1,collapsible:!1,clickable:!1,active:!0,all:!0,dataAttr:"PAYMENT_ACTIVITY_MENU.paymentServicesPaymentActivityTrackerHeader"},"payments.paymenthub.paymenttracker":{id:"payment_services_activity_menu_item",level:"bottom",semanticTag:"requestPaymentActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestPaymentTrackerActivity"},"payments.transferfunds":{id:"transferFundsHeader",level:"category",semanticTag:"transferFundsActivityHeader",display:!1,collapsible:!1,clickable:!1,active:!0,all:!1,dataAttr:"PAYMENT_ACTIVITY_MENU.transferFundsActivityHeader"},"payments.transferfunds.transfer":{id:"transfer_funds_all_menu_item",level:"bottom",semanticTag:"requestAllTransferActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestAllTransferActivity"},"payments.transferfunds.repeatingtransfer":{id:"transfer_funds_recurring_menu_item",level:"bottom",semanticTag:"requestRecurringTransferActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestRecurringTransferActivity"},"payments.brokerageActivity":{id:"brokerageTransferFundsHeader",level:"category",semanticTag:"brokerageTransferActivityHeader",display:!1,collapsible:!1,clickable:!1,active:!0,all:!1,dataAttr:"PAYMENT_ACTIVITY_MENU.transferFundsActivityHeader"},"payments.brokerage.transfer":{id:"brokerage_activity_menu_item",level:"bottom",semanticTag:"requestBrokerageTransferActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestBrokerageTransferActivity"},"payments.brokerage.repeatingtransfer":{id:"brokerage_repeating_activity_menu_item",level:"bottom",semanticTag:"requestRecurringBrokerageTransferActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestRecurringBrokerageTransferActivity"},"payments.brokerage.transfersecurities":{id:"securities_activity_menu_item",level:"bottom",semanticTag:"requestBrokerageSecurityTransferActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestBrokerageSecurityTransferActivity"},"payments.brokeragetransfers.internal":{id:"internal_securities_menu_item",level:"bottom",semanticTag:"requestInternalSecuritiesTransfersLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestInternalSecuritiesTransfers"},"payments.brokerage.externaltransfers":{id:"securities_activity_menu_item",level:"bottom",semanticTag:"requestExternalSecuritiesTransfersLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestBrokerageSecurityTransferActivity"},"payments.lineOfCreditActivity":{id:"drawTransferFundsHeader",level:"category",semanticTag:"lineOfCreditTransferActivityHeader",display:!1,collapsible:!1,clickable:!1,active:!0,all:!1,dataAttr:"PAYMENT_ACTIVITY_MENU.transferFundsActivityHeader"},"payments.xfer.creditfacility":{id:"lineofcredit_activity_menu_item",level:"bottom",semanticTag:"requestTransferActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestLineOfCreditTransferActivity"},"payments.wire":{id:"wireHeader",level:"category",semanticTag:"wireActivityHeader",display:!1,collapsible:!1,clickable:!1,active:!0,all:!0,dataAttr:"PAYMENT_ACTIVITY_MENU.wireActivityHeader"},"payments.wire.activity":{id:"wire_funds_all_activity_menu_item",level:"bottom",semanticTag:"requestWireActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestWireActivity"},"payments.wire.repeatingactivity":{id:"wire_funds_repeating_activity_menu_item",level:"bottom",semanticTag:"requestRecurringWireActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestRecurringWireActivity"},"payments.cashflow":{id:"cashflow_activity_header",level:"category",semanticTag:"cashflowActivityHeader",display:!1,collapsible:!1,clickable:!1,active:!1},"payments.billdotcom.activity":{id:"cashflow_activity",level:"bottom",semanticTag:"requestCashflowActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestCashflowActivity"},"payments.balancetransfer.activity":{id:"balance_transfer_activity_menu_item",level:"bottom",semanticTag:"requestBalanceTransferActivityLabel",display:!1,collapsible:!1,clickable:!0,active:!1,rClick:"requestBalanceTransferActivity"}},paymentsAcitivityTypeActionMap:{PERSONALLOAN:"requestPersonalLoanPaymentActivity",HELOC:"requestMortgagePaymentActivity",HOME_EQUITY_LOAN:"requestMortgagePaymentActivity",MORTGAGE:"requestMortgagePaymentActivity",CARD:"requestCreditCardPaymentActivity",AUTO:"requestAutoLoanPaymentActivity",LOAN:"requestMortgagePaymentActivity"},summaryInstance:{summaryData:{}},detailsInstance:{detailsData:null},accountActivityInstance:{activityData:null},atmPreferences:{preferencesURL:""},MortgagePayoff:{mortgageUrl:""},searchInstance:{searchText:"This is more than just an ordinary search bar.",showOptions:!1},paybillsInstance:{enabled:!1,paybillCompleted:!1},sendMoneyInstance:{enabled:!1},transferMoneyInstance:{enabled:!1},searchActivity:{searchText:""},contentSubSection:{title:null},customerCenter:{preferencesUrl:null},messageCenter:{preferencesUrl:null},footerInstance:{title:""},primarySearch:{init:"1",featureClass:"P",style:"full",maxRows:"12",faq:"1",type:"json",api:"1",goBackLinkData:"Go Back",feedbackDTreeRequestType:2,subtype:"SEMANTICSUGGESTFAQCLICK",autoComplete:1,autoCompleteRequestType:2},personlizationData:{segment:"POH",pm:"ATM|CHK|MMA|BAC",AOC:"5286",apc:"141",RPC:"MP",pfid:"50718871"},quickPay:{ACTIVITIES_MEMO_WRAP:40,ACTIVITIES_NAME_WRAP:26,PENDING_ACTION_TYPE:{PAYMENT:"payment",REQUEST:"request"}},overview:{SITE_ID:"C30",DEVICE_COOKIE:"adtoken_qa2",CONTEXT_ID:"changepasswd",TYPE:"json",DEVICE_ADD:"true",OVERVIEW:"overview"},languagePreferences:{ENGLISH_VALUE_STRING:"ENG",SPANISH_VALUE_STRING:"SPA",DISCLAIMER_ENGLISH_VARIATION:"ENG",DISCLAIMER_SPANISH_VARIATION:"SPA",DISCLAIMER_GENERIC_VARIATION:"LANGUAGE_NOT_SELECTED"},alertsNotifications:{ASCENDING_ORDER:"up",DESCENDING_ORDER:"down",ASCENDING:"ascending",DESCENDING:"descending",ONLINE_SECURITY_FILTER:"CUSTOMER_ALERTS",ACCOUNTS_FILTER:"ACCOUNTS_ALERTS"},alertsDeliveryProfiles:{FORMAT_HTML:"HTML",FORMAT_TEXT:"TEXT",DEVICE_TYPE_TEXT:"SMS",SERVICE_FAILURE:"SERVICE_FAILURE",SUCCESS:"SUCCESS",ACCOUNTS_FILTER:"ACCOUNTS_ALERTS",EMAIL_DELIVERY_TYPE:"EMAIL",EMAIL_DELIVERY_LIMIT:5,INDICATOR_PRIMARY:"CIS_DEVICE",INDICATOR_SECONDARY:"CUSTOMER_OWNED_DEVICE",ADDED_MESSAGE_TYPE:"added",UPDATED_MESSAGE_TYPE:"updated",REMOVED_MESSAGE_TYPE:"removed",NICKNAME_LENGTH_LIMIT:8,TIMEZONE_ET:"EASTERN",PAUSED:"PAUSED",SUSPENDED:"SUSPENDED",ELLIPSIS:"",TIME_DURATIONS:["ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN","TWENTY","TWENTY_ONE","TWENTY_TWO","TWENTY_THREE","TWENTY_FOUR"],TIMEZONES:["EASTERN","CENTRAL","MOUNTAIN","PACIFIC"]},chooseAlerts:{MODAL_ID:"confirmation-modal",CSS_CLASS:"delete-confirmation",POSITION_TARGET:"#my-profile",DASHBOARD_PATH:"/dashboard/profileArea/"},customerConversationMessages:{action_urls:{SEND_MY_PAYMENT:"/dashboard/quickPay/quickpay/index;params=send,{{id}}",SHOW_MY_DEPOSIT:"/dashboard/overviewAccounts/overview/activity;accountType={{accountType}};accountDetailType={{accountDetailType}};accountId={{accountId}}",SHOW_MY_ACTIVITY:"/dashboard/overviewAccounts/overview/activity;accountType={{accountType}};accountDetailType={{accountDetailType}};accountId={{accountId}}",CONTACT_US:"/dashboard/documents",REQUEST_MORE_INFORMATION:"/dashboard/misc/helpCenter/requestFrequentlyAskedQuestions",DOCUMENT_EXCHANGE:"requestDocumentExchangeUrl",SHOW_TRANSACTION_DETAILS:"/dashboard/quickPay/paymentsActivity/index;params=qp,receivedactivity",PENDING_APPROVAL_MULTIPLE:"dashboard/landing/redirection;product=pendingApproval",PENDING_APPROVAL_SINGLE:"dashboard/landing/redirection;product=pendingApproval",SHOW_MY_TAX_STATEMENT:"dashboard/documents/myDocs/index;documentType=TAX_DOCUMENTS;mode=documents",SHOW_MY_TAX_DOCUMENTS:"dashboard/documents/myDocs/index;documentType=TAX_DOCUMENTS;mode=documents",REQUEST_QUICKPAY_MONEY_SENT:"#/dashboard/quickPay/paymentsActivity/index;params=qp,sentactivity",REQUEST_QUICKPAY_MONEY_RECEIVED:"#/dashboard/quickPay/paymentsActivity/index;params=qp,receivedactivity",NEW_ACCOUNT_OPENING_REQUEST:"requestNewAccountOpeningUrl",EXPLORE_PAYMENT_PLANS:"/dashboard/paymentPlans/card/index;AI={{accountId}}",PENDING_APPROVAL:"/dashboard/payBills/pendingApprovals/manageUploadApproval",REVIEW_CHARGES:"/dashboard/overviewAccounts/overview/activity;accountType={{accountType}};accountDetailType={{accountDetailType}};accountId={{accountId}}",REVIEW_CHARGE:"/dashboard/overviewAccounts/overview/activity;accountType={{accountType}};accountDetailType={{accountDetailType}};accountId={{accountId}}"},messageDataFormats:{percentageThreshold:{method:"number"},threshold:{method:"currency"},rewardsBalanceThreshold:{method:"number"},amount:{method:"currency"},averageAmount:{method:"currency"},balanceThreshold:{method:"currency"},accountMask:{method:"accountMask"},transactionTime:{method:"formatTime",format:"time"},transactionDate:{method:"formatTime",format:"monthDay"},receivedOnDate:{method:"formatDate",format:"monthDay"},monthDay:{method:"formatTime",format:"monthDay"},nextPaymentDate:{method:"formatTime",format:"monthDay"}},dataKeyMaps:{receivedOnDate:"transactionNotificationDate"},action_type_maps:{SALARY_DEPOSIT_CHANGE_INSIGHT:["SHOW_MY_DEPOSIT"],GOVERNMENT_DEPOSIT_CHANGE_INSIGHT:["SHOW_MY_DEPOSIT"],ACCOUNT_ACTIVITY:["SHOW_MY_DEPOSIT"],BELOW_STATEMENT_PERIOD_WITHDRAWAL_LIMIT:["REQUEST_MORE_INFORMATION"],REACHED_STATEMENT_PERIOD_WITHDRAWAL_LIMIT:["REQUEST_MORE_INFORMATION"],ABOVE_STATEMENT_PERIOD_WITHDRAWAL_LIMIT:["REQUEST_MORE_INFORMATION"],DOCUMENT_STATUS_CHANGE:["DOCUMENT_EXCHANGE"],NEW_ACCOUNT_OPENING:["NEW_ACCOUNT_OPENING_REQUEST"],NEW_ACCOUNT_OPENING_FIRST_REMINDER:["NEW_ACCOUNT_OPENING_REQUEST"],NEW_ACCOUNT_OPENING_SECOND_REMINDER:["NEW_ACCOUNT_OPENING_REQUEST"],NEW_ACCOUNT_OPENING_FINAL_REMINDER:["NEW_ACCOUNT_OPENING_REQUEST"],LOAN_INT_RATE_CHANGE:["SHOW_MY_LOAN"],LOC_INT_RATE_CHANGE:["SHOW_MY_LINE"],PAYMENT_INT_CHG_HOME:["SHOW_MY_LOAN"],PAY_FOR_CARD:["PAY_NOW"],CREDIT_CARD_ACTIVITY_INTL:["SHOW_MY_ACTIVITY"],CREDIT_CARD_PAYMENT_ACTIVITY:["SHOW_MY_ACTIVITY"],CREDIT_CARD_ACTIVITY_GAS:["SHOW_MY_ACTIVITY"],CREDIT_CARD_ACTIVITY_OVER_THRESHOLD:["SHOW_MY_ACTIVITY"],CARD_BALANCE_TRANSFER:["SHOW_MY_ACTIVITY"],CREDIT_CARD_PAYMENT_RECEIVED:["SHOW_MY_ACTIVITY"],LOAN_DUE_SOON:["PAY_MY_LOAN"],LOAN_LATE_AUTO:["PAY_MY_LOAN"],LOAN_LATE_EQUITY:["PAY_MY_LOAN"],LOC_DUE_SOON:["PAY_MY_LOAN"],BILLPAY_PAYMENT_SCHEDULED:["SHOW_MY_ACTIVITY"],LOC_LIMIT_PCT_BELOW:["SHOW_MY_ACTIVITY"],LOC_LIMIT_BELOW:["SHOW_MY_ACTIVITY"],MORTGAGE_PAYMENT_RETURNED:[],HE_PAYMENT_RECEIVED:["SHOW_MY_ACTIVITY"],AUTO_LOAN_PAYMENT_RECEIVED:["SHOW_MY_ACTIVITY"],MORTGAGE_PAYMENT_RECEIVED:["SHOW_MY_ACTIVITY"],LOC_PAYMENT_RECEIVED:["SHOW_MY_ACTIVITY"],CARD_PAYMENT_LATE:["PAY_MY_CARD"],CARD_PAST_DUE:["PAY_MY_CARD"],PAST_DUE_1_TO_30_DAYS_OPEN:["PAY_MY_CARD"],PAST_DUE_31_TO_60_DAYS_OPEN:["PAY_MY_CARD"],PAST_DUE_1_TO_60_DAYS_CLOSED:["PAY_MY_CARD"],PAST_DUE_61_TO_120_DAYS_CLOSED:["PAY_MY_CARD"],PAST_DUE_121_TO_210_DAYS_CLOSED:["PAY_MY_CARD"],AFTER_DUE_BEFORE_CYCLE:["PAY_MY_CARD"],PAST_DUE_1_TO_30_DAYS_OPEN_PAYMENT_PLANS:["EXPLORE_PAYMENT_PLANS","PAY_ACCOUNT"],PAST_DUE_31_TO_60_DAYS_OPEN_PAYMENT_PLANS:["EXPLORE_PAYMENT_PLANS","PAY_ACCOUNT"],PAST_DUE_1_TO_60_DAYS_CLOSED_PAYMENT_PLANS:["EXPLORE_PAYMENT_PLANS","PAY_ACCOUNT"],PAST_DUE_61_TO_120_DAYS_CLOSED_PAYMENT_PLANS:["EXPLORE_PAYMENT_PLANS","PAY_ACCOUNT"],PAST_DUE_121_TO_210_DAYS_CLOSED_PAYMENT_PLANS:["EXPLORE_PAYMENT_PLANS","PAY_ACCOUNT"],AFTER_DUE_BEFORE_CYCLE_PAYMENT_PLANS:["EXPLORE_PAYMENT_PLANS","PAY_ACCOUNT"],QUICKPAY_SENT_DELAYED:["REQUEST_QUICKPAY_MONEY_SENT"],QUICKPAY_RECEIVED_DELAYED:["REQUEST_QUICKPAY_MONEY_RECEIVED"],QUICKPAY_SENT_INSUFFICIENT_FUNDS:["REQUEST_QUICKPAY_MONEY_SENT"],QP_SENT:["SEND_MY_PAYMENT"],QP_SENT_TO_YOU:["ACCEPT_IT","MORE_OPTIONS"],QUICKPAY_AUTO_ACCEPT:["SHOW_TRANSACTION_DETAILS"],UNREAD_MESSAGE_CENTER_MESSAGES:["SHOW_MY_MESSAGES"],OUTAGE_ADVISORY:["SHOW_OUTAGE_DETAILS"],PENDING_APPROVAL:["APPROVAL"],THIRD_PARTY_APPLICATIONS:["ACCESS_SECURITY_HUB"],TAX_STATEMENT_PENDING:["REQUEST_MORE_INFORMATION"],TAX_STATEMENT_AVAILABLE:["SHOW_MY_TAX_STATEMENT"],MERCHANT_SERVICE_CHARGEBACKS:["SHOW_CHARGEBACK_DETAILS"],HOME_LOAN_FUNDED:["LEARN_MORE"],APPLICATION_STATUS:["LEARN_MORE"],HOME_LOAN_PAYMENT_TASKS:["REVIEW_APPLICATION"],HOME_LOAN_PRE_APPROVED:["LEARN_MORE"],CONTACT_HOME_LENDING_ADVISOR:["REVIEW_APPLICATION"],HOME_LOAN_CONDITIONALLY_APPROVED:["REVIEW_APPLICATION"],HOME_LOAN_FINAL_APPROVAL:["REVIEW_AGREEMENT"],HOME_LOAN_DUE_DATE_SCHEDULED:["REVIEW_DOCUMENT"],MULTIPLE_PENDING_APPROVAL:["PENDING_APPROVAL"],DUPLICATE_CHARGE_INSIGHT:["REVIEW_CHARGES"],NEW_RECURRING_CHARGE_INSIGHT:["REVIEW_CHARGE"],ATM_FEE_WAIVER_INSIGHT:["FIND_MY_ATM"],MONTHLY_SERVICE_FEE_INSIGHT:["LEARN_NOW"],PENDING_CONDITIONAL_APPROVAL:["IN_REVIEW"],DUPLICATE_CHARGE_BUSINESS_BANK_INSIGHT:["REVIEW_CHARGES"],NEW_RECURRING_CHARGE_BUSINESS_BANK_INSIGHT:["REVIEW_CHARGE"],PNET_PASSWORD_EXPIRATION:["ACCESS_PAYMENT_NET"],PNET_STALLED_TRANSACTIONS:["ACCESS_PAYMENT_NET"],PNET_FILE_DOWNLOAD:["ACCESS_PAYMENT_NET"],PNET_EMAIL_FAILURES:["ACCESS_PAYMENT_NET"],PNET_NEW_TRANSACTIONS:["ACCESS_PAYMENT_NET"],PNET_TRANSACTIONS_FOR_APPROVAL:["ACCESS_PAYMENT_NET"],PNET_APPLICATIONS_FOR_APPROVAL:["ACCESS_PAYMENT_NET"]},action_events:{ACCEPT_IT:"qpAcceptMoneyCDSend",SHOW_MY_LINE:"initAccounts",SHOW_MY_LOAN:"initAccounts",MORE_OPTIONS:"qpSeeDetailsCD",SHOW_OUTAGE_DETAILS:"showPlannedOutageAdvisory",FIND_MY_ATM:"showAdditonalInformation",LEARN_NOW:"showAdditonalInformation",ACCESS_PAYMENT_NET:"gotoPaymentNet"},importantIconEnabledList:["PAST_DUE_1_TO_30_DAYS_OPEN","PAST_DUE_31_TO_60_DAYS_OPEN","PAST_DUE_1_TO_60_DAYS_CLOSED","PAST_DUE_61_TO_120_DAYS_CLOSED","PAST_DUE_121_TO_210_DAYS_CLOSED","AFTER_DUE_BEFORE_CYCLE","CARD_PAYMENT_LATE","CARD_PAST_DUE","QUICKPAY_SENT_DELAYED","QUICKPAY_RECEIVED_DELAYED","QUICKPAY_SENT_INSUFFICIENT_FUNDS","THIRD_PARTY_APPLICATIONS"],softAlertEnabledList:["DUPLICATE_CHARGE_INSIGHT","NEW_RECURRING_CHARGE_INSIGHT","ATM_FEE_WAIVER_INSIGHT","DUPLICATE_CHARGE_BUSINESS_BANK_INSIGHT","NEW_RECURRING_CHARGE_BUSINESS_BANK_INSIGHT"]},cdUpdateMyDetailsMessageActionTaken:!1,addExternalAccountMapping:{mortgagePaymentActivity:"/dashboard/mortgagePaymentActivity/mortgagePaymentActivityReturnAddExtAcct",transferFunds:"/dashboard/transferMoney",index:"/dashboard/paymentsAdmin/externalAccount/index"},investmentsDetailsPortfolioTabUrl:"#/dashboard/misc/classic/index;params=investmentsportfoliopositions",investmentsDetailsMarketsTabUrl:"#/dashboard/misc/classic/index;params=investmenttab",logoffCookieName:"_logofftype",logoffURLsCookieName:"_logoffUrls",SITE_MODE_KEY:{ECD:"ecdStandIn",C3:"c3StandIn",READ_ONLY:"readOnly",READ_ONLY_UNPLANNED:"readOnlyUnplanned"},wealthCarouselCQ5URL:"/content/carousels/digital-ui/en/help-and-support.json",wealthCarouselCQ5URLSpanish:"/content/carousels/digital-ui/es/help-and-support.json",businessBankingWithBusinessCreditCardCarouselCQ5URL:"/content/carousels/digital-ui/en/help-and-support-bb-cc.json",businessBankingWithBusinessCreditCardCarouselCQ5URLSpanish:"/content/carousels/digital-ui/es/help-and-support-bb-cc.json",businessBankingWithBusinessCreditCardAOCarouselCQ5URL:"/content/carousels/digital-ui/en/help-and-support-bb-cc-ao.json",businessBankingWithBusinessCreditCardAOCarouselCQ5URLSpanish:"/content/carousels/digital-ui/es/help-and-support-bb-cc-ao.json",businessCarouselCQ5URL:"/content/carousels/digital-ui/en/help-and-support-business.json",businessCarouselCQ5URLSpanish:"/content/carousels/digital-ui/es/help-and-support-business.json",businessCreditCardCarouselCQ5URL:"/content/carousels/digital-ui/en/help-and-support-business-credit-card.json",businessCreditCardCarouselCQ5URLSpanish:"/content/carousels/digital-ui/es/help-and-support-business-credit-card.json",businessCreditCardAOCarouselCQ5URL:"/content/carousels/digital-ui/en/help-and-support-business-credit-card-ao.json",businessCreditCardAOCarouselCQ5URLSpanish:"/content/carousels/digital-ui/es/help-and-support-business-credit-card-ao.json",commercialCarouselCQ5URL:"/content/carousels/digital-ui/en/help-and-support-commercial.json",commercialWithAMCarouselCQ5URL:"/content/carousels/digital-ui/en/help-and-support-commercial-access-manager.json",personalCarouselCQ5URL:"/content/carousels/digital-ui/en/help-and-support.json",personalCarouselCQ5URLSpanish:"/content/carousels/digital-ui/es/help-and-support.json",businessAccessManagerCQ5URL:"/content/slideshows/digital-ui/en/categories/business/access-manager.json",businessAccessManagerCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/access-manager.json",businessAlertCQ5URL:"/content/slideshows/digital-ui/en/categories/business/alerts.json",businessAlertCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/alerts.json",businessBankingWithBusinessCreditCardAccessManagerCQ5URL:"/content/slideshows/digital-ui/en/categories/business-credit-card/access-manager.json",businessBankingWithBusinessCreditCardAccessManagerCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business-credit-card/access-manager.json",businessBankingWithBusinessCreditCardAlertCQ5URL:"/content/slideshows/digital-ui/en/categories/business/alerts.json",businessBankingWithBusinessCreditCardAlertCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/alerts.json",businessBankingWithBusinessCreditCardEmployeeCardCQ5URL:"/content/slideshows/digital-ui/en/categories/business-credit-card/employee-card.json",businessBankingWithBusinessCreditCardEmployeeCardCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business-credit-card/employee-card.json",businessBankingWithBusinessCreditCardMyProfileCQ5URL:"/content/slideshows/digital-ui/en/categories/business/my-profile.json",businessBankingWithBusinessCreditCardMyProfileCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/my-profile.json",businessBankingWithBusinessCreditCardSingleBillPayCQ5URL:"/content/slideshows/digital-ui/en/categories/business/pay-bills.json",businessBankingWithBusinessCreditCardSingleBillPayCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/pay-bills.json",businessBankingWithBusinessCreditCardQuickPayCQ5URL:"/content/slideshows/digital-ui/en/categories/business/quick-pay.json",businessBankingWithBusinessCreditCardQuickPayCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/quick-pay.json",businessBankingWithBusinessCreditCardAOAccessManagerCQ5URL:"/content/slideshows/digital-ui/en/categories/business/access-manager.json",businessBankingWithBusinessCreditCardAOAccessManagerCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/access-manager.json",businessBankingWithBusinessCreditCardAOAlertCQ5URL:"/content/slideshows/digital-ui/en/categories/business/alerts.json",businessBankingWithBusinessCreditCardAOAlertCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/alerts.json",businessBankingWithBusinessCreditCardAOEmployeeCardCQ5URL:"/content/slideshows/digital-ui/en/categories/business/employee-card.json",businessBankingWithBusinessCreditCardAOEmployeeCardCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/employee-card.json",businessBankingWithBusinessCreditCardAOMyProfileCQ5URL:"/content/slideshows/digital-ui/en/categories/business/my-profile.json",businessBankingWithBusinessCreditCardAOMyProfileCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/my-profile.json",businessBankingWithBusinessCreditCardAOSingleBillPayCQ5URL:"/content/slideshows/digital-ui/en/categories/business/pay-bills.json",businessBankingWithBusinessCreditCardAOSingleBillPayCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/pay-bills.json",businessBankingWithBusinessCreditCardAOQuickPayCQ5URL:"/content/slideshows/digital-ui/en/categories/business/quick-pay.json",businessBankingWithBusinessCreditCardAOQuickPayCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/quick-pay.json",businessCreditCardAccessManagerCQ5URL:"/content/slideshows/digital-ui/en/categories/business-credit-card/access-manager.json",businessCreditCardAccessManagerCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business-credit-card/access-manager.json",businessCreditCardAlertCQ5URL:"/content/slideshows/digital-ui/en/categories/business/alerts.json",businessCreditCardAlertCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/alerts.json",businessCreditCardEmployeeCardCQ5URL:"/content/slideshows/digital-ui/en/categories/business-credit-card/employee-card.json",businessCreditCardEmployeeCardCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business-credit-card/employee-card.json",businessCreditCardMyProfileCQ5URL:"/content/slideshows/digital-ui/en/categories/business/my-profile.json",businessCreditCardMyProfileCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/my-profile.json",businessCreditCardQuickPayCQ5URL:"/content/slideshows/digital-ui/en/categories/business-credit-card/quick-pay.json",businessCreditCardQuickPayCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business-credit-card/quick-pay.json",businessCreditCardSingleBillPayCQ5URL:"/content/slideshows/digital-ui/en/categories/business/pay-bills.json",businessCreditCardSingleBillPayCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/pay-bills.json",businessCreditCardAOAccessManagerCQ5URL:"/content/slideshows/digital-ui/en/categories/business/access-manager.json",businessCreditCardAOAccessManagerCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/access-manager.json",businessCreditCardAOAlertCQ5URL:"/content/slideshows/digital-ui/en/categories/business/alerts.json",businessCreditCardAOAlertCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/busines/alerts.json",businessCreditCardAOEmployeeCardCQ5URL:"/content/slideshows/digital-ui/en/categories/business/employee-card.json",businessCreditCardAOEmployeeCardCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/employee-card.json",businessCreditCardAOMyProfileCQ5URL:"/content/slideshows/digital-ui/en/categories/business/my-profile.json",businessCreditCardAOMyProfileCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/my-profile.json",businessCreditCardAOQuickPayCQ5URL:"/content/slideshows/digital-ui/en/categories/business/quick-pay.json",businessCreditCardAOQuickPayCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/quick-pay.json",businessCreditCardAOSingleBillPayCQ5URL:"/content/slideshows/digital-ui/en/categories/business/pay-bills.json",businessCreditCardAOSingleBillPayCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/pay-bills.json",businessMyProfileCQ5URL:"/content/slideshows/digital-ui/en/categories/business/my-profile.json",businessMyProfileCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/my-profile.json",businessQuickPayCQ5URL:"/content/slideshows/digital-ui/en/categories/business/quick-pay.json",businessQuickPayCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/quick-pay.json",businessSingleBillPayCQ5URL:"/content/slideshows/digital-ui/en/categories/business/pay-bills.json",businessSingleBillPayCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/business/pay-bills.json",commercialAlertCQ5URL:"/content/slideshows/digital-ui/en/categories/commercial/alerts.json",commercialMyProfileCQ5URL:"/content/slideshows/digital-ui/en/categories/commercial/my-profile.json",commercialSingleBillPayCQ5URL:"/content/slideshows/digital-ui/en/categories/commercial/pay-bills.json",commercialWithAMAlertCQ5URL:"/content/slideshows/digital-ui/en/categories/commercial/alerts.json",commercialWithAMMyProfileCQ5URL:"/content/slideshows/digital-ui/en/categories/commercial/my-profile.json",commercialWithAMSingleBillPayCQ5URL:"/content/slideshows/digital-ui/en/categories/commercial/pay-bills.json",commercialWithAMAccessManagerCQ5URL:"/content/slideshows/digital-ui/en/categories/commercial/access-manager.json",commercialAccessManagerCQ5URL:"/content/slideshows/digital-ui/en/categories/commercial/access-manager.json",personalAlertCQ5URL:"/content/slideshows/digital-ui/en/categories/alerts/alerts.json",personalAlertCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/alerts/alerts.json",personalMyProfileCQ5URL:"/content/slideshows/digital-ui/en/categories/my-profile/my-profile.json",personalMyProfileCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/my-profile/my-profile.json",personalQuickPayCQ5URL:"/content/slideshows/digital-ui/en/categories/payments/payments.json",personalQuickPayCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/payments/payments.json",personalSingleBillPayCQ5URL:"/content/slideshows/digital-ui/en/categories/pay-bills/pay-bills.json",personalSingleBillPayCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/pay-bills/pay-bills.json",disneyFeed:"/content/card-arts/disney/en/feed.json",commercialPdf:"/content/dam/legal-agreements/library/en/cml_la/versions/cml_la.pdf",quickReferenceCQ5Url:{CML:"/content/services/structured-document/list.json/quick-reference/commercial.json?",CRE:"/content/services/structured-document/list.json/quick-reference/commercial.json?",BUS:"/content/services/structured-document/list.json/quick-reference/commercial.json?"},videoOverviewCQ5Url:{en:"/content/videos/digital-ui/en/categories/features.json",es:"/content/videos/digital-ui/es/categories/features.json"},videoOverviewCQ5UrlBusiness:{en:"/content/videos/digital-ui/en/categories/business.json",es:"/content/videos/digital-ui/es/categories/business.json"},videoDemoCQ5Url:{en:"/content/videos/digital-ui/en/categories/cpo.json",es:"/content/videos/digital-ui/es/categories/cpo.json"},videoLanguageMap:"/content/dam/cpo-static/json/es.json",videoErrorCodes:{en:"/content/errors/digital-ui/en/video.json",es:"/content/errors/digital-ui/es/video.json"},slideShowCQ5Url:{en:"/content/slideshows/digital-ui/en/categories.json",es:"/content/slideshows/digital-ui/es/categories.json"},studentLoanSummaryUrl:{en:"/content/contact-us/digital-ui/en/student-loans.json/",es:"/content/contact-us/digital-ui/es/student-loans.json/"},businessDemoUrl:"https://www.chase.com/resources/banking-demos",investmentsFooterUrl:"/content/tooltips/digital-ui/en/quote-footnotes.json",marketDataUri:"/markets/usoverview?auth=:token&iv=:vector&cipDomain=:cipDomain",businessBankingDemoUrl:"http://www.chase.com/demobusiness",commercialDemoUrl:"http://www.chase.com/commercialdemo",businessCreditCardDemoUrl:"http://demo.chase.com/businesscard",paymaticsLegalAgreementUrl:"https://www.chase.com/content/dam/chase-ux/documents/personal/auto-loans/caf_form.pdf",InterConnect_App_ID_Cookie:{name:"d_app_id",value:"cxo"},twitterURL:"http://twitter.com/chasesupport",helpOverviewUrl:"#dashboard/misc/helpCenter/requestHelpAndSupportOverview",quickReferenceUrl:"/dashboard/misc/helpCenter/requestQuickReferenceGuides",videoGuidelUrl:"#/dashboard/misc/helpCenter/requestAllDemosAndTutorials",reportFraudToolTipUrl:"https://www.chase.com/resources/report-fraud",creditCardCQ5URL:"/content/slideshows/digital-ui/en/categories/credit-cards/credit-cards.json",creditCardCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/credit-cards/credit-cards.json",payBillsCQ5URL:"/content/slideshows/digital-ui/en/categories/multiple-bill-pay/multiple-bill-pay.json",payBillsCQ5URLSpanish:"/content/slideshows/digital-ui/es/categories/multiple-bill-pay/multiple-bill-pay.json",contentServiceContactUsUrl:"/content/contact-us/digital-ui/",contentServiceFaqsUrl:"/content/faq/digital-ui/",autoLoanPayoffQuoteUrl:"/dashboard/autoServicing/autoLoanPayoffQuote/index;accountIndex=",routingImageEN:"/content/dam/cpo-static/images/check_example.png",routingImageSP:"/content/dam/cpo-static/images/check_example_spanish.png",requestServicePlanPDF:"/content/dam/chaseonline/en/legacy/content/secure/sso/document/cco_pricing_guide_09202015.pdf",wireMenuURLs:{classicUrl:{recipientsList:"#/dashboard/misc/classic/index;params=wirerecipientlist",schedule:"#/dashboard/misc/classic/index;params=schedulewire",wireMoney:"#/dashboard/misc/classic/index;params=schedulewire",wireAllActivity:"#/dashboard/misc/classic/index;params=wireactivity",repeatingActivity:"#/dashboard/misc/classic/index;params=wireactivity"},wireMoneyUrl:{recipientsList:"#/dashboard/wires/recipients/view",schedule:"#/dashboard/wires/wireMoney/recipientsList",wireGlobalTransfer:"#/dashboard/wires/wireMoney/wireGlobalTransfer",wireAllActivity:"#/dashboard/wires/activity/allActivity",repeatingActivity:"#/dashboard/wires/activity/repeatingActivity",recipientsListXS:"#/dashboard/wires/manage/list"},globalTransferUrl:{schedule:"#/dashboard/wires/wireMoney/wireGlobalTransfer"}},redeemCouponOfferDetailsUrl:"#/dashboard/depositAccountServicing/redeemCouponCode/offerDetails",redeemCouponVerifyUrl:"#/dashboard/depositAccountServicing/redeemCouponCode/verify",redeemCouponConfirmUrl:"#/dashboard/depositAccountServicing/redeemCouponCode/confirm",redeemCouponBranchLocatorUrl:"https://locator.chase.com/",redeemCouponsUrl:"#/dashboard/depositAccountServicing/redeemCouponCode/entry",redeemCouponPrintReceiptView:"#/dashboard/depositAccountServicing/redeemCouponCode/printReceiptView",redeemCouponCodeLandingUrl:"#/dashboard/depositAccountServicing/redeemCouponCode/landing",schedulePaymentPlansEntryUrl:"#/dashboard/paymentPlans/cardPayment/entry",scheduleRecoveryPaymentPlansEntryUrl:"#/dashboard/paymentPlansRecovery/paymentPlansRecoveryController/setUpPayments",paymentsMessagingLandingEntryUrl:"#/dashboard/paymentsMessagingLandingBlock/paymentsMessagingLandingContainerController/index",depositCheckLoadEntryUrl:"#/dashboard/quickDeposit/enrollment/index",hybridBaseUrl:"#/dashboard/index/index",accessFinancialSoftwareAccessUrl:"/dashboard/profileArea/financialSoftwareAccess/requestFinancialSoftwareAccess",accessHistoryUrl:"/dashboard/profileArea/accessHistory/requestAccessHistory",myDevicesUrl:"/dashboard/profileArea/myDevices/requestEnrolledDevices",cashflowUrls:{initiateActivationCode:"/dashboard/cashflow/enrollmentOTP/initiateActivationCode",verifySecurityToken:"/dashboard/cashflow/enrollmentOTP/verifySecurityToken",verifyActivationCode:"/dashboard/cashflow/enrollmentOTP/verifyActivationCode",productInfo:"/dashboard/cashflow/enrollment/index",redirectFlow:"/dashboard/cashflow/enrollment/redirect",checkAccountEligibility:"/dashboard/cashflow/enrollment/checkAccountEligibility",addAccounts:"dashboard/cashflow/enrollment/addAccounts",activateCashflow:"dashboard/cashflow/enrollment/activateCashflow",cashflowAgreement:"dashboard/cashflow/enrollment/agreements",agreements:"/dashboard/cashflow/enrollment/agreements",accountSummary:"dashboard/cashflow/enrollment/accountSummary",requestFrequentlyAskedQuestions:"/dashboard/cashflow/enrollment/frequentlyAskedQuestions",siteExitWarning:"/dashboard/cashflow/enrollment/siteExitWarning",displayFootnote:"/dashboard/cashflow/enrollment/displayFootnote",displayPlanSelectionWarning:"/dashboard/cashflow/enrollment/displayPlanSelectionWarning",requestVideo:"/dashboard/cashflow/enrollment/requestVideo",openSiteExitWarningOverlay:"/dashboard/cashflow/enrollment/openSiteExitWarningOverlay",showPackageOverlay:"/dashboard/cashflow/enrollment/showPackageOverlay",destroyComponent:"/dashboard/cashflow/enrollment/destroyComponent",redirectToPreviousRoute:"/dashboard/cashflow/enrollment/redirectToPreviousRoute",confirmEnrollment:"/dashboard/cashflow/enrollment/confirmEnrollment",siteExitWarningOverlay:"/dashboard/cashflow/enrollment/siteExitWarningOverlay",showGenericOverlay:"/dashboard/cashflow/enrollment/showGenericOverlay",showMdsConfirmation:"/dashboard/cashflow/enrollment/showMdsConfirmation",showMdsUpdateConfirmation:"/dashboard/cashflow/enrollment/showMdsUpdateConfirmation",showPaymentActivityDetails:"dashboard/cashflow/paymentsActivity/showPaymentActivityDetails"},merchantServicesUrl:{exitMerchantServicesTransactionRefund:"/dashboard/merchantServices/transactionRefund/exitMerchantServicesTransactionRefund",processMsRefundAdjustmentComplete:"/dashboard/merchantServices/transactionRefund/processMsRefundAdjustmentComplete",processMsTipAdjustmentComplete:"/dashboard/merchantServices/transactionTip/processMsTipAdjustmentComplete"},quickCollectUrl:{closeVerificationBox:"dashboard/merchantServices/quickCollect/closeVerificationBox",destroyCardDetails:"dashboard/merchantServices/quickCollect/destroyCardDetails",loadCardDetails:"dashboard/merchantServices/quickCollect/index",closeErrorBox:"dashboard/merchantServices/quickCollect/closeErrorBox",processTransactionAmount:"dashboard/merchantServices/quickCollect/processTransactionAmount",tokenize:"dashboard/merchantServices/quickCollect/tokenize",tokenizedValidation:"dashboard/merchantServices/quickCollect/tokenizedValidation",verify:"dashboard/merchantServices/quickCollect/verify",errorBox:"dashboard/merchantServices/quickCollect/errorBox",organizeValidations:"dashboard/merchantServices/quickCollect/organizeValidations"},quickAcceptUrl:{closeVerificationBox:"dashboard/merchantServicesBlock/quickAccept/closeVerificationBox",destroyCardDetails:"dashboard/merchantServicesBlock/quickAccept/destroyCardDetails",loadCardDetails:"dashboard/merchantServicesBlock/quickAccept/index",closeErrorBox:"dashboard/merchantServicesBlock/quickAccept/closeErrorBox",processTransactionAmount:"dashboard/merchantServicesBlock/quickAccept/processTransactionAmount",tokenize:"dashboard/merchantServicesBlock/quickAccept/tokenize",tokenizedValidation:"dashboard/merchantServicesBlock/quickAccept/tokenizedValidation",verify:"dashboard/merchantServicesBlock/quickAccept/verify",errorBox:"dashboard/merchantServicesBlock/quickAccept/errorBox",organizeValidations:"dashboard/merchantServicesBlock/quickAccept/organizeValidations"},accountLogo:{chaseFlexCardImgUrl:"/content/dam/cpo-static/images/chaseflex_logos_Lockup03_100x40.png",finnLogoUrl:"/content/dam/cpo-static/images/finn_logo.gif"},earlyMonthOnBookMultiOffer:"#/dashboard/accountsOnboarding/emob/index",statements:"#/dashboard/documents/myDocs/index;documentType=ANALYSIS_STATEMENTS;mode=documents",requestMerchantFundedOffers:"dashboard/overviewAds/merchantFundedOffers/requestMerchantFundedOffers",requestManualTriggerMFO:"/dashboard/overviewAccounts/overview/triggerMFOManually",appointmentSchedulingUrl:"#/dashboard/appointmentsArea/meetWithUs/index",accessManagerDualControlUrl:"#/dashboard/accessManager/dualControl/index",fraudProtectionServiceActivationUrl:"/dashboard/accountsAdmin/fraudProtectionService/index",donorAdvisoryTilePath:"dashboard/gallery/donorAdvisoryAccount/index",oracleCoBrowseLauncherUrl:"https://sc17053517llms1.cobrowse.oraclecloud.com/launcher.js",oracleCoBrowseFieldBlockerUrl:"https://sc17053517llms1.cobrowse.oraclecloud.com/fmset.js",oracleCoBrowseLauncherUrlQA:"https://cut_cutsc70495647us1.qacobrowse.oraclecloud.com/launcher.js",oracleCoBrowseFieldBlockerUrlQA:"https://cut_cutsc70495647us1.qacobrowse.oraclecloud.com/fmset.js",wePayTransactionsUrl:"https://cdn.wepay.com/wepay.min.js",manageTransactionLimits:"/dashboard/profileArea/manageTransactionLimits/manageTransactionLimits",achDebitBlock:"/dashboard/accountsAdmin/achDebitBlock/index",achDebitBlockAllowedCompanies:"/dashboard/accountsAdmin/achDebitBlock/allowedCompanies",achDebitBlockActivity:"/dashboard/accountsAdmin/achDebitBlock/accountActivity",defaultCoBrowseCustomerSupportNumber:"1-877-226-0071",defaultCCICoBrowseCustomerSupportNumber:"1-800-242-7338",paymentHubWireEnrollmentUrl:"#dashboard/wires/enrollment/main",paymentHubAddWireRecipientUrl:"#/dashboard/paymentServicesHub/manageWiresRecipients/addRecipient",requestABLEReportsUrl:"/dashboard/commercialReports/ableReports/landing",checkFraudProtectionServicesEnrollmentUrl:"#/dashboard/fraudHub/checkFraudProtection/enrollmentEntry",checkFraudProtectionServicesEnrollmentNudgeUrl:"#/dashboard/fraudHub/checkFraudProtection/enrollmentEntry;nudge=true",checkFraudMonitoringEnrollmentUrl:"#/dashboard/fraudHub/checkFraudProtection/enrollmentEntry;rpp=true",checkFraudMonitoringEnrollmentNudgeUrl:"#/dashboard/fraudHub/checkFraudProtection/enrollmentEntry;rpp=true;nudge=true",achDebitFraudProtectionEnrollmentUrl:"#/dashboard/fraudHub/achDebitBlock/enrollmentEntry",achDebitFraudProtectionEnrollmentNudgeUrl:"#/dashboard/fraudHub/achDebitBlock/enrollmentEntry;nudge=true",fraudProtectionSettings:"#/dashboard/fraudHub/manageAccounts/index",fraudProtectionPendingReview:"#/dashboard/fraudHub/summary/pendingReview",fraudProtectionReports:"#/dashboard/fraudHub/summary/reports;",fraudProtectionUploadChecks:"#/dashboard/fraudHub/summary/pendingReview;flow=entry",wiresAndGlobalTransferHelpAndSupportGuideUrl:"/content/services/structured-document/list.json/wire-transfer.json",checkFraudLegalAgreement:"/dashboard/fraudHub/checkFraudProtection/legalAgreement",achLegalAgreement:"/dashboard/fraudHub/achDebitBlock/legalAgreement",achDebitTransactionsReview:"#/dashboard/fraudHub/summary/reports;flow=ach-transaction-review",accountsRefreshRequestsList:"dashboard/overviewAccounts/overview/refreshOverview",requestNoAccountsMessageURL:"dashboard/overviewAccounts/overview/requestNoAccountsMessage",paymentsHomeLendingHmgFlyoutUrl:"dashboard/paymentsHomeLendingArea/hmgPayments/index",paymentsPayInFourLendingFlyoutUrl:"dashboard/paymentsPayInFourLendingArea/payInFourPayments/index",dashboardMboxIds:["cxo-ovd-ptm"]}})),define("profileArea/personalDetails/customerName/service/helpers/eDocsServiceSettings",[],(function(){"use strict";return{originDomainParam:"origination-domain-name",serviceHostUrlPattern:"{{prefix}}",microServiceHostUrlPattern:"{{prefix}}{{microServiceBasePath}}{{microServicePath}}",dpsDocumentsSecureBasePath:"/svc/rr/documents/secure",dpsProfileSecureBasePath:"/svc/rr/profile/secure",dpsServicePaths:{getEDocsList:"/v1/edocuments/list",getDpsFileUpload:"/v1/edocuments/file/add",getDPSeDocs:"/customer/v1/edocs/management",getCustomerProfile:"/v1/edocuments/account/list",getMailingAddress:"/v1/address/profile/list"},microServiceBasePath:"/ccb/customer/customer-documents",microServicePaths:{autoSurrender:"/v1/auto-surrenders",legalNames:"/v1/legal-names",mortgageAssistanceService:"/v1/mortgage-assistances",uploadedDocuments:"/v1/uploaded-documents",cachedDocs:"/v1/cached-docs",disputesData:"/v1/disputes-data",signingStatus:"/v1/signing-statuses",cachedData:"/v1/cached-data",workflowStatus:"/v1/workflow-statuses",docUploadConfigs:"/v1/documentupload-configurations"}}})),define("profileArea/sharedLib/profileMixin",[],(function(){"use strict";return function(){var e=this;this.handleFormDirty=function(){!(!e.context.Api||!e.context.Api.modal)&&e.context.Api.modal.getIsDirty()?e.context.Api.modal.setTgtData({action:function(){e.context.state(e.context.settings.get("profileMenuUrl"))},data:{}}):e.context.state(e.context.settings.get("profileMenuUrl"))}}})),define("bluespec/update_primary_email_address_confirmation",[],(function(){return{name:"UPDATE_PRIMARY_EMAIL_ADDRESS_CONFIRMATION",actions:{confirmUpdatePrimaryEmailAddress:!0,doNotUpdatePrimaryEmailAddress:!0},settings:{confirmUpdatePrimaryEmailAddressLabel:!0,doNotUpdatePrimaryEmailAddressLabel:!0,updatePrimaryEmailAddressConfirmationHeader:!0,updatePrimaryEmailAddressConfirmationAdvisory:!0}}})),define("profileArea/sharedLib/navigation/obsoleteNavigationKeys",["require","profileArea/sharedLib/dashboardConstants"],(function(e){"use strict";var t=e("profileArea/sharedLib/dashboardConstants").DASHBOARD_URLS;function i(e,i){return t&&t[e]?t[e]:i}function n(e,t,n){var r={url:i(e,t),foreignLanguageUrls:{es:i(e,t)}};return void 0!==n&&(r.speedBump=n),r}return{hideAccounts:n("hideAccounts","#/dashboard/profileArea/hideAccounts/requestMyAccountsDisplay",!1),updateMyPaperlessPreferences:n("updateMyPaperlessPreferences","#/dashboard/profileArea/accountPaperlessPreferences/updateMyPaperlessPreferences",!1),requestContactUs:n("requestContactUs","#/dashboard/misc/helpCenter/requestContactUs",!1),requestMyAccountsDisplay:n("requestMyAccountsDisplay","#/dashboard/profileArea/hideAccounts/requestMyAccountsDisplay",!1),updateMyLanguagePreferencesDetails:n("updateMyLanguagePreferencesDetails","#/dashboard/profileArea/languagePreferences/updateMyLanguagePreferences",!1),suspendMyAlertsDelivery:n("suspendMyAlertsDelivery","#/dashboard/profileArea/pauseAlerts/suspendMyAlertsDelivery",!1),myProfileOverview:n("myProfileOverview","#/dashboard/profileArea/overview/updateMyOverviewDetails",!1),myProfileEmail:n("myProfileEmail","#/dashboard/profileArea/emailAddressDetails/selectMyEmailDetails",!1),hiddenAccountsMessage:n("hiddenAccountsMessage","#/dashboard/profileArea/hideAccounts/requestMyAccountsDisplay",!1),updateChasePayPreferencesUrl:n("updateChasePayPreferencesUrl","#/dashboard/misc/classic/index;params=chasepaymaintenance",!1),enrollChasePayPreferencesUrl:n("enrollChasePayPreferencesUrl","#/dashboard/misc/classic/index;params=chasepayenroll",!1),dashboardUrl:n("dashboardUrl","#/dashboard"),payBillsUrl:n("payBillsUrl","#/dashboard/payBills/index/index"),faqOnlineUrl:n("faqOnlineUrl","#/dashboard/transferMoney/index"),qpUrl:n("qpUrl","#/dashboard/quickPay/quickpay/index"),paymentsActivityUrl:n("paymentsActivityUrl","#/dashboard/payBills/paymentsActivity/"),merchantBillPaymentActivityAllUrl:n("merchantBillPaymentActivityAllUrl","#/dashboard/payBills/paymentsActivity/index;params=billPay,all"),QuickPayEnrollmentUrl:n("QuickPayEnrollmentUrl","#/dashboard/qp/enrollmentSetting"),ExternalAccountHomePageUrl:n("ExternalAccountHomePageUrl","#/dashboard/transferMoney/externalAccount/index"),managePayeesUrl:n("managePayeesUrl","#/dashboard/payeesAdmin/managePayee/index"),profileUrl:n("profileUrl","#/dashboard/profileArea/overview/updateMyOverviewDetails"),chooseProfileAlertsUrl:n("chooseProfileAlertsUrl","#/dashboard/profileArea/chooseAlerts/manageMyAlerts"),managePaperlessSettingsUrl:n("managePaperlessSettingsUrl","#/dashboard/profileArea/accountPaperlessPreferences/updateMyPaperlessPreferences"),accountNicknameUrl:n("accountNicknameUrl","#/dashboard/profileArea/accountNickname/requestMyAccountNicknames"),requestAccountAgreementsUrl:n("requestAccountAgreementsUrl","#/dashboard/misc/classic/index;params=legalagreements"),depositdisclosuresUrl:n("depositdisclosuresUrl","#/dashboard/misc/classic/index;params=depositdisclosures"),applicationStatusUrl:n("applicationStatusUrl","#/dashboard/misc/classic/index;params=checkapplicationstatus"),helpCenterUrl:n("helpCenterUrl","/dashboard/misc/helpCenter"),repeatPaymentsUrl:n("repeatPaymentsUrl","#/dashboard/payBills/singlePayment/repeatPayment"),requestDifferentOwnerExternalAccount:n("requestDifferentOwnerExternalAccount","https://www.chase.com/content/dam/chaseonline/en/legacy/content/secure/chf/document/MortACH_PaperForm_PDF2.pdf"),privacyPolicyUrl:n("privacyPolicyUrl","https://www.chase.com/resources/consumer-privacy"),manageMyPaperlessPreferences:n("manageMyPaperlessPreferences","#/dashboard/profileArea/accountPaperlessPreferences/updateMyPaperlessPreferences"),manageMyAlerts:n("manageMyAlerts","#/dashboard/profileArea/chooseAlerts/manageMyAlerts")}})),define("profileArea/sharedLib/navigation/navigation",["require","profileArea/sharedLib/navigation/obsoleteNavigationKeys"],(function(e){"use strict";var t=e("profileArea/sharedLib/navigation/obsoleteNavigationKeys");return{init:function(){},getUrl:{get:function(e){return t[e]}}}})),define("profileArea/sharedLib/sharedView/updatePrimaryEmail/component",["require","appkit-utilities/analytics/overlay","blue/root","common/lib/utility/hybridMixin","profileArea/sharedLib/navigation/navigation"],(function(e){"use strict";var t=e("appkit-utilities/analytics/overlay"),i=e("blue/root").hybrid,n=e("common/lib/utility/hybridMixin"),r=null;return{init:function(){(r=this).commonComponentsUtil=r.context.commonComponentsUtilWrapper(r),this.navigation=e("profileArea/sharedLib/navigation/navigation"),n.call(r)},confirmUpdatePrimaryEmailAddress:function(){var e=r.model.get("fromInterceptOrInterstitial");if(i||e){var t=r.context.profileUrls.emailUrl+";fromPaperless=true";r.commonComponentsUtil.showSpinner({target:"#paperlessInterstitialFormContainer"}),this.context.application.broadcast("exitPaperlessInterstitial",{type:"paperlessComponent",interstitialExitRoute:t})}else this.context.area.broadcast("setPrimaryEmailEdit",{state:"emailAddressDetails",request:{type:"editPrimaryForAlerts"}});this.destroyView()},doNotUpdatePrimaryEmailAddress:function(){var e="editPrimaryForPaperless"===r.model.get("type");t.hideOverlay(this,this.model.get("stateName"),"doNotUpdatePrimaryEmailAddress"),i&&(this.dispatchHybridEvent("updateNativeNavigationBarButtons",this.context,{showHamburgerMenu:!e,showCancel:!1,showBackArrow:!0}),r.context.application.broadcast("exitUpdatePrimaryEmailAddress")),this.destroyView()},focusOnEditPrimaryEmailLink:function(){this.output.emit("state",{value:"focusOnEditPrimaryEmailLink"})},focusOnEditPrimaryEmailModalHeader:function(){this.output.emit("state",{value:"focusOnEditPrimaryEmailModalHeader"})}}})),define("profileArea/sharedLib/profileUtil",["require","blue/$","common/lib/focusUtil","blue-ui/utilities/common","blue/root","profileArea/sharedLib/constants"],(function(e){"use strict";var t=e("blue/$"),i=e("common/lib/focusUtil"),n=e("blue-ui/utilities/common").getBreakpoint,r=e("blue/root").hybrid,a=e("profileArea/sharedLib/constants");return{focusOnMainHeader:function(e,a){r||("xs"!==n()?i.setFocus(t,e||"#simple-header"):i.setFocus(t,a||e||"#back-nav-header-title"))},setFlyoutHeader:function(e,i,n){var r=n||"";t(".flyout-header-content").html('<h1 id="'+e+'" class="H2 profile-flyout-header '+r+'" tabindex="-1">'+i+"</h1>"),t("#"+e).focus()},confirmationMessageDetails:function(e,t){t.context.isOpen?e.requestConfirmationMessageDetails():e.exitConfirmationMessageDetails()},errorMessageDetails:function(e,t){t.context.isOpen?e.requestErrorMessageDetails():e.exitErrorMessageDetails()},skipIfEnterSpaceOrClick:function(e,t,i){var n=t.domEvent.keyCode;32!==n&&13!==n&&"click"!==t.domEvent.type||e[i]()},isEnterSpaceOrClick:function(e){var t=e.domEvent.keyCode;return 32===t||13===t||"click"===e.domEvent.type},isEnterOrClick:function(e){return 13===e.domEvent.keyCode||"click"===e.domEvent.type},setAnalyticsUrlForAction:function(e,t){e.state(a.profileUrls.favoriteAccounts+t)},pageUsesAppkitDirtyForm:function(e){return!0==={"/dashboard/profileArea/trustedContact/updateTrustedContact":!0,"/dashboard/profileArea/trustedContact/addTrustedContact":!0,"/dashboard/profileArea/trustedContact/deleteTrustedContact":!0,"/dashboard/profileArea/hideAccounts/confirmUpdateAccountDisplay":!0,"/dashboard/profileArea/hideAccounts/requestMyAccountsDisplay":!0,"/dashboard/profileArea/nicknameAccounts/requestMyAccountNicknames":!0,"/dashboard/profileArea/nicknameAccounts/confirmUpdateAccountNicknames":!0,"/dashboard/profileArea/paperless/updateMyPaperlessPreferences":!0,"/dashboard/profileArea/paperless/confirmUpdatePaperlessPreferences":!0,"/dashboard/profileArea/alertsDelivery/updateAlertsEmailAddress":!0,"/dashboard/profileArea/alertsDelivery/addEmailaddressForAlerts":!0,"/dashboard/profileArea/alertsDelivery/updateAlertsMobileNumber":!0,"/dashboard/profileArea/manageCustomGroups/createGroup":!0,"/dashboard/profileArea/manageCustomGroups/editGroup":!0,"/dashboard/profileArea/manageCustomGroups/customGroupAccountsArrangement":!0,"/dashboard/profileArea/defaultSortOrder/requestDefaultSortOrder":!0,"/dashboard/profileArea/optionsApplication/requestOptionsApplication":!0,"/dashboard/profileArea/optionsApplication/selectAccount":!0,"/dashboard/profileArea/marginApplication/requestMarginApplication":!0,"/dashboard/profileArea/marginApplication/requestMarginApplicationForm":!0,"/dashboard/profileArea/chooseYourHomepage/requestUpdateHomePage":!0,"/dashboard/profileArea/dateRangeTransaction/requestTransactionDateRange":!0}[e]},showDirtyForm:function(e){e.parentComponent=this,e.parentComponentAnalyticsKey="exitConfirmationOverlay",this.context.application.broadcast("dirtyOverlayAPI/showConfirmationOverlay",{data:e})}}})),define("profileArea/sharedLib/spinnerManager",[],(function(){"use strict";var e=0;function t(e=!1){return e?document.querySelector("#profile-summary-loader-container"):document.querySelector("#profile-spinner-container")}function i(e,t){e&&(!function(e){e.classList.remove("screen-takeover-hide"),e.removeAttribute("aria-hidden")}(e),t?e.classList.remove("hideLoader"):e.classList.add("hideLoader"))}function n(){i(t(),!0)}function r(){i(t(),!1)}function a(){i(t(!0),!0)}function o(){i(t(!0),!1)}function s(){var e=document.querySelector("#page-load-indicator");if(e){var t=e.getAttribute("pageLoaded");if(t&&"loaded"===t)return!0}return!1}function c(e){var t=document.querySelector("#page-load-indicator");t&&(e?t.setAttribute("pageLoaded","loaded"):t.setAttribute("pageLoaded","unloaded"))}return{showSpinner:n,hideSpinner:r,showLoader:a,hideLoader:o,show:function(){e++,s()?n():a()},hide:function(){0===(e=Math.max(e-1,0))&&(s()?r():o(),c(!0))},resetLoadState:function(){c(!1),e=0}}})),define("profileArea/sharedLib/investmentsLib/constants",{API_ROUTES:{showInvestmentAccounts:"dashboard/investmentsContainer/showInvestmentAccounts",hideInvestmentAccounts:"dashboard/investmentsContainer/hideInvestmentAccounts",showInvestmentTYCD:"dashboard/investmentsContainer/showInvestmentTYCD",hideInvestmentTYCD:"dashboard/investmentsContainer/hideInvestmentTYCD",showAsOfMenu:"dashboard/investmentShared/showAsOfMenu",hideAsOfMenu:"dashboard/investmentShared/hideAsOfMenu",showAdvisor:"dashboard/investmentShared/showAdvisor",hideAdvisor:"dashboard/investmentShared/hideAdvisor",setCurrentAdvisor:"dashboard/investmentShared/setCurrentAdvisor",showAdHocMessage:"dashboard/investmentAdHocMessage/showAdHocMessage",hideAdHocMessage:"dashboard/investmentAdHocMessage/hideAdHocMessage",showMarginCallBanner:"dashboard/investmentsBlock/marginCallBanner/index",hideMarginCallBanner:"dashboard/investmentsBlock/marginCallBanner/destroy",updateAlternativeAssetPortal:"dashboard/investmentsContainer/updateAlternativeAssetPortal",updateHistoricalFiltersState:"dashboard/investmentsContainer/updateHistoricalFiltersState",jumboAccounts:"dashboard/investmentsBlock/jumboAccounts/index",showHideJumboExportAlertFromBlock:"dashboard/investmentsBlock/jumboExport/showHideJumboExportAlert",callUIExportFromBlock:"dashboard/investmentsBlock/jumboExport/callUIExport",exportInvestmentThingsYouCanDo:"dashboard/investmentsContainer/exportInvestmentThingsYouCanDo",updateExportsInThingsYouCanDo:"dashboard/investmentsContainer/updateExportsInThingsYouCanDo",setCurrencyFilterOptions:"dashboard/investments/currencyFilter/setCurrencyOptions",investmentAccountDataSummaryBlock:"dashboard/investmentsBlock/investmentAccountDataSummary/index",investmentAccountDataSummaryCashSweepsLinkBlock:"dashboard/investmentsBlock/investmentAccountDataSummary/toggleCashSweepsLink",destroyAccountDataSummaryBlock:"dashboard/investmentsBlock/investmentAccountDataSummary/destroyAccountDataSummary",setAccountDataFailureBlock:"dashboard/investmentsBlock/investmentAccountDataSummary/setAccountDataFailure",renderMarketValueBlock:"dashboard/investmentsBlock/investmentDashboardAccountValue/index",destroyMarketValueBlock:"dashboard/investmentsBlock/investmentDashboardAccountValue/destroy",renderAssetClassContainerBlock:"dashboard/investmentsBlock/assetClass/renderContainer",destroyAssetClassFilterBlock:"dashboard/investmentsBlock/assetClass/destroyFilter",marginDetails:"dashboard/investmentsBlock/marginDetails/index",getMarginDetails:"dashboard/investmentsBlock/marginDetails/getMarginDetails",renderWealthBenefits:"dashboard/investmentsBlock/wealthBenefits/index"},OCTAGON_URLS:{positions:"dashboard/oi-portfolio/positions/render"},OPTION_PRICE_QUALITY:{realtime:"REALTIME",delayed:"DELAYED"},ALTERNATIVES:"ALTERNATIVES",ASSET_CLASS2CODE:{LIABILITIES:"400",HEDGE_FUND:"150",PRIVATE_EQUITY:"151",fixedIncomes:"1",equities:"2",alternativeAssets:"3",otherAssets:"300",depositCash:"500",diversifiedStrategies:"800",specialtyAssets:"850"},FULL_NAME_TO_HEX_MAPPER:{Equity:"#125E77","Alternative Assets":"#9E457B","US Large Cap Equity":"#125E77","US Mid Cap":"#4F778E","US Small Cap":"#91A3B4","Global Equity":"#849FB0","Emerging Market Equity":"#C8D0DA","Fixed Income and Cash":"#648D3E","US Fixed Income":"#648D3E","Cash & Short Term":"#819E5B","Other Fixed Income - TIPS":"#9DB17E","Other Fixed Income - Emerging Market Debt":"#B7C49D","Other Fixed Income - High Yield":"#D5DCC5","Real Estate & Infrastructure":"#9E457B"},COLOR_MAPPER:{1:"#dbb424",4:"#45BCC9",5:"#648C2E",6:"#00567D",7:"#8E8279",8:"#99ADCA",310:"#007C87",700:"#4E4069",701:"#dbb424",710:"#7756B6",716:"#2C7CC0",720:"#9A643C",725:"#A1A920",729:"#753E3E",730:"#9E99CA",731:"#B99E8D",2:"#4282bd",50:"#dbb424",51:"#45BCC9",52:"#648C2E",53:"#00567D",54:"#8E8279",58:"#99ADCA",320:"#007C87",555:"#4E4069",600:"#7756B6",606:"#2C7CC0",612:"#9A643C",617:"#A1A920",632:"#753E3E",637:"#9E99CA",642:"#B99E8D",647:"#8CBDE6",652:"#D8CDA3",657:"#9B7575",662:"#87759B",680:"#BFD2DA",685:"#9BA790",690:"#72989B",3:"#00567D",150:"#007C87",151:"#4E4069",152:"#dbb424",153:"#45BCC9",325:"#648C2E",741:"#00567D",742:"#8E8279",743:"#99ADCA",300:"#82b441",301:"#007C87",302:"#4E4069",303:"#dbb424",400:"#99ADCA",330:"#45BCC9",401:"#648C2E",500:"#007C87",335:"#00567D",501:"#8E8279",800:"#4E4069",867:"#99ADCA",900:"#007C87",903:"#4E4069",906:"#dbb424",909:"#45BCC9",850:"#dbb424",851:"#648C2E",852:"#00567D",853:"#8E8279",854:"#99ADCA",855:"#007C87",874:"#4E4069"},NAME_TO_CODE_MAPPER:{LIABILITIES:400,CASH_AND_SHORT_TERM:4,CASH:700},COLOR_MAPPER_DASHBOARD_ALLOCATIONS:{1:"#557834",2:"#035D76",3:"#5D5EA1",300:"#883366",800:"#11768C",850:"#5E2651"},HOVER_COLOR_MAPPER_DASHBOARD_ALLOCATIONS:{1:"#E4EEC2",2:"#CCEBF3",3:"#DEDEEC",300:"#FDEEF5",800:"#DBF1F9",850:"#F7DFEC"},SECURITY_METHODS:{ALTERNATIVE:"alternativeAssetDetail",ALT_PRIVATE_EQUITY:"privateEquitiesAssetDetail",ALT_HEDGE_FUND:"hedgeFundsAssetDetail",CASH:"cashAssetDetail",EQUITY:"equityAssetDetail",FIXED_INCOME:"fixedIncomesAssetDetail",FX_FORWARD:"fxForwardsAssetDetail",FX_OPTION:"fxOptionsAssetDetail",LIABILITY:"liabilitiesAssetDetail",OTHER:"otherAssetDetail",SPECIALTY:"specialtyAssetDetail",DIVERSIFIED:"diversifiedStrategyAssetDetail"},SECURITY_GROUPS:{ALTERNATIVE:"ALTERNATIVE",ALT_PRIVATE_EQUITY:"ALT_PRIVATE_EQUITY",ALT_HEDGE_FUND:"ALT_HEDGE_FUND",CASH:"CASH",EQUITY:"EQUITY",FIXED_INCOME:"FIXED_INCOME",FX_FORWARD:"FX_FORWARD",FX_OPTION:"FX_OPTION",LIABILITY:"LIABILITY",OTHER:"OTHER",SPECIALTY:"SPECIALTY",DIVERSIFIED:"DIVERSIFIED"},INVESTMENT_PAGES:{summary:"summary",positions:"positions",trade:"trade",markets:"markets",transactions:"transactions",rgl:"realizedGainLoss",realizedGainOrLoss:"realizedGainOrLoss",balances:"balances",balancesBlock:"balancesBlock",overview:"overview",assetClass:"assetClass",ourExpertise:"ourExpertise",marketIndices:"indices",performance:"performance",advisor:"advisor"},MARKETS_PAGES:{usoverview:"usoverview",news:"news",watchlists:"watchlists",screeners:"screeners",asset:"assets"},SELECTOR_TYPE:{ACCOUNT:"ACCOUNT",ACCOUNT_GROUP:"ACCOUNT_GROUP"},TRADE_PAGES:{tradestocketfs:"tradestocketfs",trademutualfunds:"trademutualfunds",tradefixedincome:"tradefixedincome",tradeoptions:"tradeoptions",tradeorderstatus:"tradeorderstatus",equity:"equity",order:"order",mutualfund:"mutualfund",fixedincome:"fixedincome",options:"options"},INVESTMENT_POSITION_DETAIL_TABS:{position:"position",taxLots:"taxlots",quotes:"quotes",news:"news",corpActions:"corpactions",expiration:"expiration"},INVESTMENT_POSITION_TABS:{positions:0,assetClass:1,marginDetails:2},INVESTMENT_POSITION_TAB_NAMES:{0:"investmentPositionsComponent",1:"investmentAssetGridsContainer",2:"investmentMarginDetailsComponent"},INVESTMENT_CASH_SWEEP_FUNDS_TABS:{positions:"positions",settlement:"settlement",accounts:"accounts"},TOOLTIP_ID_NAME:"tooltip",ACTION_CENTER_ID:"actionCenter",SELECT_ACCOUNT:"select-account",DAYS_GAIN_LOSS:"DAYS_GAIN_LOSS",INVESTMENT_FILTER_CONSTANTS:{TRANSACTIONS_DEFAULT_FILTER:"TRID:1",CPO_TRANSACTIONS_DEFAULT_FREQUENCY:"LAST_30",CPO_REALIZED_GAIN_LOSS_DEFAULT_FREQUENCY:"YEAR_TO_DATE",JPO_TRANSACTIONS_DEFAULT_FREQUENCY:"LAST_7",JPO_REALIZED_GAIN_LOSS_DEFAULT_FREQUENCY:"LAST_30",TRANSACTIONS_CUSTOM_DATE_RANGE:"CUSTOM_DATE_RANGE",UPDATE_RGL_SELECTION_PRIVATE_STATE:"../rglTransactionsPeriodFilter/updatePeriodSelection",FILTER_OPTIONS:{PREVIOUS:{optionId:"PREVIOUS",optionVariation:"PRIOR_DAY"},LAST_7:{optionId:"LAST_7",optionVariation:"LAST_SEVEN_DAYS"},LAST_14:{optionId:"LAST_14",optionVariation:"LAST_FOURTEEN_DAYS"},LAST_30:{optionId:"LAST_30",optionVariation:"LAST_THIRTY_DAYS"},LAST_60:{optionId:"LAST_60",optionVariation:"LAST_SIXTY_DAYS"},LAST_90:{optionId:"LAST_90",optionVariation:"LAST_NINETY_DAYS"},YEAR_TO_DATE:{optionId:"YEAR_TO_DATE",optionVariation:"YEAR_TO_DATE"},PRIOR_YEAR:{optionId:"PRIOR_YEAR",optionVariation:"PRIOR_CALENDAR_YEAR"},CUSTOM_DATE_RANGE:{optionId:"CUSTOM_DATE_RANGE",optionVariation:"CUSTOM_DATE_RANGE"}}},INVESTMENT_SEARCH_CRITERIA:["investmentSymbol","cusip","isin","sedol","adp","assetLongDescription"],AGREEMENT_TYPE:{brokerageAgreement:"brokerage"},AUTO_INVEST:"AUTO_INVEST",TRADE_ACTIONS:{BUY_TO_OPEN:"BUY_TO_OPEN",SELL_TO_OPEN:"SELL_TO_OPEN",OPTIONS:"OPTIONS"},LIST_OPTIONS_STATUSCODES:{AGREEMENT_REQUIRED_SERVICE_STATUSCODE:"INVESTMENT_LA_ACCEPTANCE_REQUIRED",TRADE_EXCHANGE_AGR_SERVICE_STATUSCODE:"EXCHANGE_AGREEMENT_ACCEPTANCE_REQUIRED",TRADE_WINDOW_VIOLATION_STATUSCODE:"TRADE_WINDOW_VIOLATION",FIXED_INCOME_AGREEMENT_ACCEPTANCE_REQUIRED:"FIXED_INCOME_AGREEMENT_ACCEPTANCE_REQUIRED"},PAGE_URL_KEYMAP:{tradeExchangeAgreementPage:"tradeAgreementUrl",tradeFixedAgreementPage:"tradeFixedIncomeAgreementUrl",investmentsAccessAgreement:"investmentAgreementUrl",tradeRomeDownPage:"tradeRomeDownUrl",investmentLanding:"investmentUrl",summary:"investmentPortfolioUrl",positions:"investmentPositionsUrl",trade:"investmentTradeUrl",markets:"investmentMarketsUrl",assetClass:"investmentPortfolioAssetClassUrl",performance:"investmentPortfolioPerformanceUrl",transactions:"investmentPortfolioTransactionsUrl",transactionsCheckImages:"investmentTransactionsCheckImagesUrl",realizedGainLoss:"investmentRealizedGainLossUrl","balances.INVESTMENT_BALANCES_ACCOUNT_DETAILS":"investmentBalancesAccountDetailsUrl","balances.INVESTMENT_BALANCES_BALANCE_SHEET_DETAILS":"investmentBalancesAccountSummaryUrl","balances.INVESTMENT_BALANCES_GROUP_SUMMARY":"investmentBalancesGroupSummaryUrl",usoverview:"investmentMarketsOverviewUrl",news:"investmentMarketsNewsUrl",watchlists:"investmentMarketsWatchlistUrl",screeners:"investmentMarketsScreenersUrl","assets.overview":"investmentStocksOverviewUrl","assets.charts":"investmentStocksChartsUrl","assets.news":"investmentStocksNewsUrl","assets.options":"investmentStocksOptionsUrl","assets.historical":"investmentStocksHistoricalUrl",tradestocketfs:"investmentTradeStockETFUrl",trademutualfunds:"investmentTradeMutualFundUrl",tradefixedincome:"investmentTradeFixedIncomeUrl",tradeoptions:"investmentTradeOptionsUrl",tradeorderstatus:"investmentTradeOrderStatusUrl",orderError:"tradeAccountServiceErrorUrl",equity:"tradeStockETFUrl","equity.warnings":"tradeStockETFWarningsUrl","equity.preview":"tradeStockETFPreviewUrl","equity.confirmation":"tradeStockETFConfirmationUrl","equity.error":"tradeStockETFErrorUrl","equity.modifyEntry":"tradeEQOrderModifyUrl","equity.modifyWarnings":"tradeEQModifyWarningsUrl","equity.modifyPreview":"tradeEQModifyPreviewUrl","equity.modifyConfirmation":"tradeEQModifyConfirmationUrl","equity.modifyError":"tradeStockETFModifyErrorUrl","equity.afterHours":"tradeStockETFAfterHoursUrl","equity.modifyAfterHours":"tradeStockETFModifyAfterHoursUrl","equity.quoteChartTable":"tradeStockETFQuoteChartUrl","equity.taxLots":"tradeStockETFTaxLotsUrl","equity.validate":"tradeEQValidateUrl","equity.closeWarnings":"tradeEQCloseWarningsUrl","equity.closeModifyWarnings":"tradeEQCloseModifyWarningsUrl","order.details":"tradeOrderDetailsUrl","order.cancel":"tradeOrderCancelUrl","order.afterHours":"tradeOrderAfterHoursUrl",order:"tradeOrderStatusUrl",mutualfund:"tradeMutualFundUrl","mutualfund.preview":"tradeMutualFundPreviewUrl","mutualfund.warnings":"tradeMutualFundWarningsUrl","mutualfund.confirmation":"tradeMutualFundConfirmationUrl","mutualfund.error":"tradeMFErrorUrl","mutualfund.modifyEntry":"tradeMFOrderModifyUrl","mutualfund.modifyPreview":"tradeMFModifyPreviewUrl","mutualfund.modifyWarnings":"tradeMFModifyWarningsUrl","mutualfund.modifyConfirmation":"tradeMFModifyConfirmationUrl","mutualfund.modifyError":"tradeMFModifyErrorUrl","mutualfund.afterHours":"tradeMFAfterHoursUrl","mutualfund.modifyAfterHours":"tradeMFModifyAfterHoursUrl",fixedincomescreener:"tradeFixedIncomeScreenerUrl",fixedincomeresults:"tradeFixedIncomeResultsUrl","fixedincome.entry":"tradeFixedIncomeEntryUrl","fixedincome.preview":"tradeFixedIncomePreviewUrl","fixedincome.warnings":"tradeFixedIncomeWarningsUrl","fixedincome.confirmation":"tradeFixedIncomeConfirmationUrl","fixedincome.error":"tradeFixedIncomeErrorUrl",megaMenu:"megaMenu"},PAGE_URL:{tradeExchangeAgreementPage:"/dashboard/trade/tradeagreement/index",tradeFixedAgreementPage:"/dashboard/trade/fixedincomeagreement/index",investmentsAccessAgreement:"/dashboard/investments/agreement/index;type={{type}}",investmentsAccessAgreementFromAreaBlock:"/dashboard/investmentsBlock/investmentAgreement/index",tradeRomeDownPage:"/dashboard/trade/orderManagementSystemWarning/index",investmentLanding:"/dashboard/overviewAccounts/overview/index",summary:"/dashboard/investments/portfolio/index;ai=",positions:"/dashboard/investments/positions/index;ai=",trade:"/dashboard/investments/trade/index;ai=",markets:"/dashboard/investments/markets/index",assetClass:"/dashboard/investments/assetClass/index;ai=",performance:"/dashboard/investments/performance/index;ai=",transactions:"/dashboard/investments/transactions/index;ai=",transactionsCheckImages:"/dashboard/investments/transactions/checkImages",realizedGainOrLoss:"/dashboard/investments/realizedGainOrLoss/index;ai=","balances.INVESTMENT_BALANCES_ACCOUNT_DETAILS":"/dashboard/investments/balances/accountDetails;ai=","balances.INVESTMENT_BALANCES_BALANCE_SHEET_DETAILS":"/dashboard/investments/balances/accountSummary;ai=","balances.INVESTMENT_BALANCES_GROUP_SUMMARY":"/dashboard/investments/balances/groupSummary;ai=","balancesBlock.group":"/dashboard/investments/balancesBlock/accountGroupSummary","balancesBlock.details":"/dashboard/investments/balancesBlock/accountDetails",usoverview:"/dashboard/markets/indices/overview",globalOverview:"/dashboard/markets/indices/globalOverview",news:"/dashboard/markets/indices/news",analystResearch:"/dashboard/markets/indices/analystResearch",newsArticle:"/dashboard/markets/indices/newsArticle",watchlists:"/dashboard/markets/indices/watchlists",research:"/dashboard/markets/indices/research",currencies:"/dashboard/markets/indices/currencies",economicCalendar:"/dashboard/markets/indices/economicCalendar",alerts:"/dashboard/markets/indices/alerts",events:"/dashboard/markets/indices/events",screeners:"/dashboard/markets/indices/screeners","assets.overview":"/dashboard/markets/assets/overview","assets.charts":"/dashboard/markets/assets/chart","assets.news":"/dashboard/markets/assets/news","assets.options":"/dashboard/markets/assets/options","assets.historical":"/dashboard/markets/assets/historical",tradestocketfs:"/dashboard/investments/trade/tradestocketfs",trademutualfunds:"/dashboard/investments/trade/trademutualfunds",tradefixedincome:"/dashboard/investments/trade/tradefixedincome",tradeoptions:"/dashboard/investments/trade/tradeoptions",tradeorderstatus:"/dashboard/investments/trade/requestOrderStatus",orderError:"/dashboard/trade/order/accountsError",oiTradeEquity:"/dashboard/oi-trade/equity/entry",equity:"/dashboard/trade/equity/entry;ai=","equity.warnings":"/dashboard/trade/equity/warnings","equity.preview":"/dashboard/trade/equity/preview","equity.confirmation":"/dashboard/trade/equity/confirmation","equity.error":"/dashboard/trade/equity/error","equity.modifyEntry":"/dashboard/trade/equity/modifyEntry;ai=","equity.modifyWarnings":"/dashboard/trade/equity/modifyWarnings","equity.modifyPreview":"/dashboard/trade/equity/modifyPreview","equity.modifyConfirmation":"/dashboard/trade/equity/modifyConfirmation","equity.modifyError":"/dashboard/trade/equity/modifyError","equity.afterHours":"/dashboard/trade/equity/afterHours","equity.modifyAfterHours":"/dashboard/trade/equity/modifyAfterHours","equity.quoteChartTable":"/dashboard/trade/equity/quoteChartTable","equity.taxLots":"/dashboard/trade/equity/taxLots","equity.validate":"/dashboard/trade/equity/validate;ai=","equity.closeWarnings":"/dashboard/trade/equity/closeWarnings","equity.closeModifyWarnings":"/dashboard/trade/equity/closeModifyWarnings","order.details":"/dashboard/trade/order/details","order.cancel":"/dashboard/trade/order/cancel","order.afterHours":"/dashboard/trade/order/afterHours",order:"/dashboard/trade/order/status;ai=",mutualfund:"/dashboard/trade/mutualfund/entry;ai=","mutualfund.preview":"/dashboard/trade/mutualfund/preview","mutualfund.warnings":"/dashboard/trade/mutualfund/warnings","mutualfund.confirmation":"/dashboard/trade/mutualfund/confirmation","mutualfund.error":"/dashboard/trade/mutualfund/error","mutualfund.modifyEntry":"/dashboard/trade/mutualfund/modifyEntry;ai=","mutualfund.modifyPreview":"/dashboard/trade/mutualfund/modifyPreview","mutualfund.modifyWarnings":"/dashboard/trade/mutualfund/modifyWarnings","mutualfund.modifyConfirmation":"/dashboard/trade/mutualfund/modifyConfirmation","mutualfund.modifyError":"/dashboard/trade/mutualfund/modifyError","mutualfund.afterHours":"/dashboard/trade/mutualfund/afterHours","mutualfund.modifyAfterHours":"/dashboard/trade/mutualfund/modifyAfterHours",automaticInvestments:"/dashboard/trade/automaticInvestments/entry","automaticInvestments.entryUpdate":"/dashboard/trade/automaticInvestments/entryUpdate","automaticInvestments.reviewUpdate":"/dashboard/trade/automaticInvestments/reviewUpdate","automaticInvestments.confirmUpdate":"/dashboard/trade/automaticInvestments/confirmUpdate","automaticInvestments.confirm":"/dashboard/trade/automaticInvestments/confirm","automaticInvestments.selectHoldingAccount":"/dashboard/trade/automaticInvestments/selectHoldingAccount","automaticInvestments.review":"/dashboard/trade/automaticInvestments/review","automaticInvestments.selectMutualFund":"/dashboard/trade/automaticInvestments/selectMutualFund","automaticInvestments.selectFundingAccount":"/dashboard/trade/automaticInvestments/selectFundingAccount","automaticInvestments.enterFunding":"/dashboard/trade/automaticInvestments/enterFunding",fixedincomescreener:"/dashboard/trade/fixedincome/screener",fixedincomeresults:"/dashboard/trade/fixedincome/results","fixedincome.entry":"/dashboard/trade/fixedincome/entry;ai=","fixedincome.preview":"/dashboard/trade/fixedincome/preview","fixedincome.warnings":"/dashboard/trade/fixedincome/warnings","fixedincome.confirmation":"/dashboard/trade/fixedincome/confirmation","fixedincome.error":"/dashboard/trade/fixedincome/error",options:"/dashboard/trade/options/entry;ai=","options.warnings":"/dashboard/trade/options/warnings","options.preview":"/dashboard/trade/options/preview","options.afterHours":"/dashboard/trade/options/afterHours","options.confirmation":"/dashboard/trade/options/confirmation","options.error":"/dashboard/trade/options/error","options.modifyEntry":"/dashboard/trade/options/modifyEntry;ai=","options.modifyWarnings":"/dashboard/trade/options/modifyWarnings;ai=","options.modifyPreview":"/dashboard/trade/options/modifyPreview;ai=","options.modifyAfterHours":"/dashboard/trade/options/modifyAfterHours;ai=","options.modifyConfirmation":"/dashboard/trade/options/modifyConfirmation;ai=","options.modifyError":"/dashboard/trade/options/modifyError;ai=","options.chain":"/dashboard/trade/options/chain",targetallocation:"/dashboard/eda/targetAllocation/index",megaMenu:"/dashboard/megaMenu/index",dashboardUrl:"/dashboard",qprDownloadUrl:"/web/auth/pdfviewer",aatPortfolioBuilderLandingPageUrl:"/dashboard/aat/createPortfolio/index",accountTypesUrl:"/dashboard/aat/accountTypes/index;",findInvestmentsPortfolioBuilderPageUrl:"/dashboard/marketscreeners/createPortfolio/index",glidePathUrl:"/dashboard/investments/glidePath/index",costBasisInvestmentsUrl:"#/dashboard/investments/costBasis/index",marketDataUri:"/markets/usoverview?auth=:token&iv=:vector&cipDomain=:cipDomain",requestMyInvestmentDistributionSettingsUrl:"/dashboard/profileArea/dividendsAndCapitalGains/requestMyInvestmentDistributionSettings",setDefaultReportingTimeframeUrl:"/dashboard/profileArea/reportingTimeframe/setReportingTimeframe",investmentCWMTradeUrl:"/coltrading/chsonline/index?action=",investmentMarketIndices:"/dashboard/investments/marketIndices/index",investmentMarketIndicesDestroyComponent:"/dashboard/investments/marketIndices/destroyComponent",choiceOutcomesUrl:"/dashboard/savingsToInvest/youInvest/choiceOutcomes",riskProfileDefinitionsUrl:"/dashboard/eda/riskProfileDefinitions/index",investmentGrowthof10kChart:"#/dashboard/investments/growthof10kchart/growthChart",investmentAccountDisclosure:"/dashboard/investmentDisclosure/index",customGroupPageUrl:"/dashboard/profileArea/customGroups/requestManageCustomGroups",customGroupPageUrlCBO:"/dashboard/profileArea/manageCustomGroups/requestManageCustomGroups",setChangeColumnUrl:"#/dashboard/misc/classic/index;params=setchangecolumn",manageBeneficiariesUrl:"#/dashboard/profileArea/beneficiaries/manageBeneficiaries",renderAllocationsAAT:"dashboard/investments/investmentDashboardAllocationsAAT/renderAllocationsAAT",destroyAllocationsAATComponent:"dashboard/investments/investmentDashboardAllocationsAAT/destroyAllocationsAATComponent",clearIRAContributions:"dashboard/investments/investmentDashboardIRAContributions/clearIRAContributions",renderIRAContributions:"dashboard/investments/investmentDashboardIRAContributions/renderIRAContributions",destroyTopPositions:"dashboard/investments/investmentDashboardTopPositions/destroyTopPositions",destroyIRAContributions:"dashboard/investments/investmentDashboardIRAContributions/destroyIRAContributions",destroyTopAndBottomMovers:"dashboard/investments/investmentDashboardTopAndBottomMovers/destroyTopAndBottomMovers",destroyLearningInsightsComponent:"dashboard/investments/investmentDashboardLearningInsights/destroyLearningInsightsComponent",renderInvestmentFundYourAccount:"dashboard/investments/newAccountExperience/renderFundYourAccount",renderAssetAllocation:"dashboard/investments/newAccountExperience/renderAssetAllocations",renderPersonalAdvisorMeetingWidget:"dashboard/investmentsBlock/personalAdvisorMeeting/render"},PRIOR_DAY:"priorDayValue",INTRA_DAY:"intraDayValue",INTRADAY:"INTRADAY",PRIOR_CLOSE:"PRIOR_CLOSE",MONTH_END:"MONTH_END",SPECIFIC_DATE:"SPECIFIC_DATE",MAKE_DEFAULT:"MAKE_DEFAULT",defaultUserDatePreferences:{intraDay:!0,userInputDate:null,svcFormattedDate:null,type:"INTRADAY"},FIXED_INCOME_SECURITY_GROUP:"FIXED_INCOME",INCOME_EARNED:"INCOME",NO_VALUE:"--",BALANCES_COMPONENT_NAMES:{balancesAccountSummary:"INVESTMENT_BALANCES_BALANCE_SHEET_DETAILS",balancesAccountDetails:"INVESTMENT_BALANCES_ACCOUNT_DETAILS",balancesGroupSummary:"INVESTMENT_BALANCES_GROUP_SUMMARY",balancesSummaryContainer:"INVESTMENT_BALANCES_SUMMARY_CONTAINER"},HEADER_COMPONENT_NAMES:{investmentAsOfMenu:"investmentAsOfMenu",investmentAccounts:"investmentAccounts"},CUSTOM_GROUP:{ADD_EDIT_GROUP:"ADDEDITGROUP",CUSTOM:"custom",INV_PORTFOLIO_CUSTOM:"investments.portfolio.customgroup",CREATE:"CREATE",UPDATE:"UPDATE",DELETE:"DELETE",PROFILE_HAS_MAX_ACCOUNTGROUPS:"PROFILE_HAS_MAX_ACCOUNTGROUPS",ACCOUNTGROUP_HAS_MAX_ACCOUNTS:"ACCOUNTGROUP_HAS_MAX_ACCOUNTS",ACCOUNTGROUP_NAME_ALREADY_EXISTS:"ACCOUNTGROUP_NAME_ALREADY_EXISTS",DUPLICATE_GROUP:"DUPLICATE_GROUP",REACHED_MAXIMUM_LIMIT_OF_ACCOUNTS:"REACHED_MAXIMUM_LIMIT_OF_ACCOUNTS",REACHED_MAXIMUM_LIMIT_OF_GROUPS:"REACHED_MAXIMUM_LIMIT_OF_GROUPS",SYSTEM_FAILURE:"SYSTEM_FAILURE"},APPLICATION_FEATURE_FLAGS:["marginDetailsTabEnabled","agreementFromAreaBlockEnabled","cpoAltAssetPortalEnabled","octagonPositionsEnabled","octagonShowAllTaxLotsEnabled","webEquityRedesignEnabled","nativeEquityRedesignEnabled","newShowByAccountServiceEnabled"],FEATURE_FLAGS:["marginDetailsTabEnabled","agreementFromAreaBlockEnabled","cpoAltAssetPortalEnabled","octagonPositionsEnabled","octagonShowAllTaxLotsEnabled","webEquityRedesignEnabled","nativeEquityRedesignEnabled","newShowByAccountServiceEnabled"],PENDING_POSITION_INDICATOR:"P",COST_BASIS:{CONTENT_KEYS:["beginHelpMessageAda","exitHelpMessageAda","endHelpMessageAda","exitAda","navigateAda","hyphenSymbol","currencyDollarSymbol","printAda","currentSelectionAda","endOfSelectionAda","calendarAdvisoryAda","exitCalendarAda","mathematicalSymbolNumberSignLabel"],ERRORS:{originalPurchaseDate:"originalPurchaseDateError",selectedAccount:"selectAccountErrorHeader",securityDescription:"securityDescriptionCusipError",symbol:"securityDescriptionCusipError",totalPurchaseAmount:"totalPurchaseError"},INV_ADD_COSTINDICATOR:"investments.add.costindicator",INVALID_FORMAT:"INVALID_FORMAT",LIST:"list",MISSING_MANDATORY_DATA:"MISSING_MANDATORY_DATA",MODEL:"costBasis",MODEL_LENGTH:"modelLength",MODEL_OBJECT:{securityDescription:"",originalPurchaseDate:"",symbol:"",quantityPurchased:0,totalPurchaseAmount:null},MODEL_TYPES:{ACCOUNTS:"accounts",COST_BASIS_ADDED:"costBasisAdded",ACCOUNT_ID:"accountId",FORM_ID:"formId",PERSON_ID:"personId",IS_ADDED:"isAdded",MAX_LIMIT_REACHED:"maxCostBasisLimitReached",PROVIDE_ERROR_ADVISORY:"provideCostBasisErrorAdvisory",PROVIDE_ERROR_HEADER:"provideCostBasisErrorHeader",SELECTED_ACCOUNT:"selectedAccount",DISPLAY_SELECTED_ACCOUNT_ALERT:"displaySelectedAccountAlert"},REDIRECT_URL:"/dashboard/investments/portfolio/index",REDIRECT_URL_SKIP:"/dashboard/investmentDisclosure/index",REGEX_PATTERNS:{ALPHA_NUMERIC:/[^a-zA-Z0-9]+/g,SECURITY_DESCRIPTION_SMART_SINGLE_QUOTE:/[\u2018\u2019]+/g,SECURITY_DESCRIPTION_DISALLOWED_CHARS:/[^!$%.'()+,-./0-9:;?@A-Z_a-z]+/g,TOTAL_PURCHASE_AMOUNT:/(^\d{0,12}\.?)(\d{1,2})?/g},REQUESTS:{ADD:"add",LIST:"list",VALIDATE:"validate"},REQUIRED_FIELDS:{ORIGINAL_PURCHASE_DATE:"originalPurchaseDate",SELECTED_ACCOUNT:"selectedAccount",SECURITY_DESCRIPTION:"securityDescription",SYMBOL:"symbol",TOTAL_PURCHASE_AMOUNT:"totalPurchaseAmount"},SELECTED_ACCOUNT:{accountId:void 0,accountName:void 0},SHOULD_RESET:!1,STEP:"step",STEPS:{CONFIRM:"confirm",ERROR:"error",INFO:"info",VERIFY:"verify"},SYSTEM_FAILURE:"SYSTEM_FAILURE"},DISCLOSURES_IDENTIFIER:{investmentDisclosuresName:"investmentDisclosuresName",jpMorganSecuritiesInformationMessage:"jpMorganSecuritiesInformationMessage",accountDisclosuresMessage:"accountDisclosuresMessage",bankManagedProductsDisclosure:"bankManagedProductsDisclosure",investmentDisclosureGroupName:"investmentDisclosureGroupName",investmentDisclosuresMessageMobile:"investmentDisclosuresMessageMobile",ideasDisclosuresMessage:"ideasDisclosuresMessage",mutualFundsDisclosureMessage:"mutualFundsDisclosureMessage",mapsDisclosureMessage:"mapsDisclosureMessage",nudgeDetailsMapV2:"nudgeDetailsMapV2",viewalldiscMaps:"viewalldiscMaps",savingsToInvestyouInvestchooseYourFund:"s2i-choose-fund",savingsToInvestyouInvestfundMixSelection:"s2i-fund-mix"},BUSINESS_COMMERCIAL_CHECK:{BUSINESS:!0,COMMERCIAL:!0},MUTUAL_FUND_IDENTIFIERS:["trademutualfunds","trademutualfundentry","trademutualfundpreview","trademutualfundconfirmation","trademutualfundwarnings","trademutualfunderror","trademutualfundafterhours","trademutualfundmodifyEntry","trademutualfundmodifyPreview","trademutualfundmodifyConfirmation","trademutualfundmodifyWarnings","trademutualfundmodifyError","trademutualfundmodifyAfterHours","tradeorderstatus","requestOrderStatus","tradeorderdetails","screenersMF","assetsoverviewMF","savingsToInvestyouInvestproductSelection","savingsToInvestyouInvestproductDetails","savingsToInvestyouInvestmutualFundDetails","savingsToInvestyouInvestinvestingGlossary","savingsToInvestyouInvestchooseYourFund","savingsToInvestyouInvestfundMixSelection","mutualFundDetails"],MAPS_IDENTIFIERS:["nudgeDetailsMapV1","nudgeDetailsMapV2"],CHOOSE_YOUR_FUND_IDENTIFIERS:["savingsToInvestyouInvestchooseYourFund"],MUTUAL_FUND_MIX_IDENTIFIERS:["savingsToInvestyouInvestfundMixSelection"],OVERVIEW_COMPONENT_NAMES:{filter:"INVESTMENT_OVERVIEW_FILTER",assetClass:"ASSET_CLASS",managerAllocation:"MANAGER_ALLOCATION"},MANAGER_ALLOCATION_COLOR_MAPPER:{JPMORGAN_CASH_LIQUIDITY:"#B27916",JPMORGAN_MANAGED:"#58351E",JPMORGAN_SEPERATELY_MANAGED:"#8A6F5B",THIRD_PARTY_OTHER_MANAGED:"#838387",SIX_CIRCLES_FUND:"#58521E"},INVESTMANTS_DASHBOARD__TOTAL_WEIGHT:100,COST_INDICATORS:{W:"Wash Sale",A:"Average Cost",X:"Zero Cost",C:"Covered"},QUANTITY_INDICATOR:{M:"memo"},CUSTOM_DATE_RANGE_ERROR_MESSAGE:{TRANSACTIONS:"INVESTMENT_TRANSACTION_ACTIVITY_FILTER",RGL:"INVESTMENT_REALIZED_GAIN_OR_LOSS_TRANSACTION_ACTIVITY_FILTER"},ERROR_VARIATIONS:{noPositions:"noPositions",PARTIAL_ERROR:"PARTIAL_ERROR",SYSTEM_FAILURE:"SYSTEM_FAILURE"},ASSET_CLASSES:["equities","fixedIncomes","fxOptionsDetail","fxForwardsDetail","alternativeAssets","diversifiedStrategies","specialtyAssets","otherAssets","liabilities"],ASSET_ALLOCATIONS_SORTED_CODE:["2","1","3","800","850","300","400","500"],ASSET_SUB_CLASS_CODES:{HF:"150"},EXPORT_TYPE:{excel:"XLS",csv:"CSV",text:"TXT"},CURRENCIES:{USD:"USD",ALLCURRENCIES:"ALLCURRENCIES"},NUMBERS:{ZERO:0},STRUCTURED_CONTENT_NAMES:{positions:"investment-indicator",rgl:"investment-indicator",balances:"investments",disclosures:"disclosures",quantityIndicator:"investment-indicator"},STRUCTURED_CONTENT_URL_MAPPER:{balances:"/content/tooltips/digital-ui/en/investments.json",investmentIndicators:"/content/tooltips/digital-ui/en/investment-indicator.json",disclosures:"/content/legal-disclaimers/digital-ui/en/categories/box-disclaimers.json",tradeAdHocMessage:"/content/ad-hoc-messages/digital-ui/en/categories/trade.json/",portfolioAdHocMessage:"/content/ad-hoc-messages/digital-ui/en/categories/portfolio.json/"},PRICE_ALERT:{stale:"STALE",unpriced:"UNPRICED",stale_price:"STALE_PRICE"},PRICE_INDICATOR_MAPPING:{STALE:{variation:"STALE_PRICE",time:"positionsAsOf"},LBD:{variation:"LAST_BUSINESS_DAY",time:"positionsAsOf"},MIN20:{variation:"WITHIN_TWENTY_MINUTES",time:"positionsAsOf"},UNPRICED:{variation:"UNPRICED",time:{}},UNPR:{variation:"UNPRICED",time:{}}},SORT_ORDER:{DESCEND:"DESCENDING",ASCEND:"ASCENDING",asc:"asc",des:"des",CAPTION_DESCENDING:"INVESTMENT_GROUP_NAME_DESCENDING",CAPTION_ASCENDING:"INVESTMENT_GROUP_NAME_ASCENDING"},SYMBOL:{openParenthesesSymbol:"(",closeParenthesesSymbol:")",forwardSlashSymbol:"/",horizontalEllipsisSymbol:"&hellip;",spaceSymbol:" "},MATH:{plus:"+"},TRADE_SIDE_MAP:{BUY_MORE:"BuyMore",BUY_TO_CLOSE:"BuyToClose",BUY_TO_COVER:"BuyToCover",EXCHANGE:"Exchange",EXCHANGE_ALL:"ExchangeAll",SELL:"Sell",SELL_ALL:"SellAll",SELL_TO_CLOSE:"SellToClose"},SECURITY_TYPE_TRADE_URL_MAP:{1:{assetType:"Equities",skipFlag:!0,newTradeUrl:"tradeStockETFUrl"},7:{assetType:"Equities",skipFlag:!0,newTradeUrl:"tradeStockETFUrl"},5:{assetType:"Equities",skipFlag:!0,newTradeUrl:"tradeStockETFUrl"},K:{assetType:"Equities",skipFlag:!0,newTradeUrl:"tradeStockETFUrl"},P:{assetType:"Equities",skipFlag:!0,newTradeUrl:"tradeStockETFUrl"},R:{assetType:"Equities",skipFlag:!0,newTradeUrl:"tradeStockETFUrl"},U:{assetType:"Equities",skipFlag:!0,newTradeUrl:"tradeStockETFUrl"},W:{assetType:"Equities",skipFlag:!0,newTradeUrl:"tradeStockETFUrl"},F:{assetType:"MutualFunds",skipFlag:!0,newTradeUrl:"tradeMutualFundUrl"},N:{assetType:"MutualFunds",skipFlag:!0,newTradeUrl:"tradeMutualFundUrl"},6:{assetType:"Options",skipFlag:!0,newTradeUrl:"tradeOptionsUrl"},2:{assetType:"FixedIncome",skipFlag:!0,newTradeUrl:"tradeFixedIncomeEntryUrl"},3:{assetType:"FixedIncome",skipFlag:!0,newTradeUrl:"tradeFixedIncomeEntryUrl"},4:{assetType:"FixedIncome",skipFlag:!0,newTradeUrl:"tradeFixedIncomeEntryUrl"},D:{assetType:"FixedIncome",skipFlag:!0,newTradeUrl:"tradeFixedIncomeEntryUrl"}},FIXED_INCOME_SECURITY_IDS:["2","3","4","D"],OPTIONS_ID:"6",OPTIONS_TYPE:{P:"PUT",C:"CALL"},STATUS_CODE:{SUCCESS:"SUCCESS",SERVICE_ERROR:"SERVICE_ERROR",WARNING:"WARNING",NO_DATA:"NO_DATA"},INDICES:{defaultParams:{areaName:"investments",specName:"MARKET_INDEX"},serviceKeyMapper:{marketQuoteSymbols:{DJIA:"XX:324977",NASDAQ:"XX:324985",SP500:"XX:8941848",NYSE:"XX:8354115",AMEX:"XX:1324741"}}},MARKET_VALUE:{defaultParams:{range:"ONE_YEAR"},ACCOUNT_MARKET_VALUE_RANGES:{THREE_MONTHS:3,SIX_MONTHS:6,ONE_YEAR:12,THREE_YEARS:36,FIVE_YEARS:60,TEN_YEARS:120,SINCE_INCEPTION:null,YEAR_TO_DATE:null}},ASSET_TYPE_MAPPER:{STOCK:"STOCKS",ETF:"ETF",MUTUALFUND:"MF"},POSITION_DETAIL_CHART:"positionDetailsChart",TAXLOTS:{ACCOUNT:"ACCOUNT",SHORT_TERM:"Short term",LONG_TERM:"Long term",NULL:"0.00"},HEADER_FEATURES:{NAMES:["accounts","tycd","totals","asof","advisor","adHocMessage"],EVENTS:{accounts:{show:"loadInvestmentAccounts",hide:"hideInvestmentAccounts"},tycd:{show:"loadInvestmentTYCD",hide:"hideInvestmentTYCD"},asof:{show:"showAsOfMenu",hide:"hideAsOfMenu"},advisor:{show:"showAdvisor",hide:"hideAdvisor"},adHocMessage:{show:"showAdHocMessage",hide:"hideAdHocMessage"}}},chartFilters:[{label:"1 DAY",unit:"intraDay"},{label:"3 MONTHS",unit:"interMonth"},{label:"1 YEAR",unit:"interMonth",isDefault:!0}],ASSET_TYPES:{STOCK:"STOCK",ETF:"ETF",MF:"MF",EQ:"EQ"},SERVICE_RESPONSE:{CODE:{ERROR:"ERROR",SUCCESS:"SUCCESS"},STATUS_CODE:{NOT_MAPPED:"NOT_MAPPED",SYSTEM_FAILURE:"SYSTEM_FAILURE",INVESTMENT_REALIZED_GAIN_OR_LOSS_TRANSACTION_ACTIVITY:"INVESTMENT_REALIZED_GAIN_OR_LOSS_TRANSACTION_ACTIVITY",PENDING_JP_MORGAN_SECURITIES_BATCH:"PENDING_JPMORGAN_SECURITIES_BATCH"}},TYCD_DATA_RESPONSE:[{privilege:"investments.view.statements"},{privilege:"investments.view.performancereports"},{privilege:"investments.view.tradeconfirmations"},{privilege:"investments.view.taxdocuments"},{privilege:"investments.view.shareholder.materials"},{privilege:"investments.view.documents"},{privilege:"investments.add.costindicator"},{privilege:"investments.portfolio.customgroup"},{privilege:"investments.actions.accountvaluechange.update"},{privilege:"investments.formsanddisclosures.chaseinvestments.list"},{privilege:"investments.formsanddisclosures.jpmorgansecurities.list"},{privilege:"investments.beneficiaries"}],DISCLOSURE_MANAGE_LINKS:{FINRA:"FINRA",SIPC:"SIPC",CHARACTER_RISKS:"Characteristics and Risks of Standardized Options",JPMORGAN_SECURITIES_INFO:"Learn more",EMMA:"Municipal Securities Rulemaking Boards Electronic Municipal Market Access (EMMA) system",MODDYS:"www.moodys.com",STANDARD_AND_POORS:"www.standardandpoors.com",MUTUAL_FUND_PDF:"J.P.Morgan Mutual Funds Disclosures (PDF)",MAPSV1:"Learn more about thischart",READ_COMPLETE_DISCLOSURES:"Read complete disclosures",MAPSV2:"Learn more about this chart",IRA_DEDUCTION_LIMITS:"www.irs.gov/retirement-plans/ira-deduction-limits",INVESTMENT_ACCOUNTS:"Disclosures for Investment Accounts",GLOBAL_REGULATORY:"J.P. Morgan Global Regulatory Disclosures",FINANCIAL_CONDITION:"View Statement of Financial Condition",CHASE_SWEEP_RATES:"Chase Sweep Rates",JP_SWEEP_RATES:"J.P. Morgan Securities Sweep Rates",PB_SWEEP_RATES:"Private Bank Sweep Rates",FORM_CRS:"click here",JPMS:"JPMS",JPMIM:"JPMIM"},INVESTMENT_SYMBOL_LIST:[{id:"investmentSymbolAscendingOption",label:"investmentSymbolAscendingLabel",action:"sortByInvestmentSymbolAscending",order:"asc"},{id:"investmentSymbolDescendingOption",label:"investmentSymbolDescendingLabel",action:"sortByInvestmentSymbolDescending",order:"desc"},{id:"assetShortDescriptionAscendingOption",label:"assetShortDescriptionAscendingLabel",action:"sortByAssetShortDescriptionAscending",order:"asc"},{id:"assetShortDescriptionDescendingOption",label:"assetShortDescriptionDescendingLabel",action:"sortByAssetShortDescriptionDescending",order:"desc"}],INVESTMENT_PRICE_LIST:[{id:"positionPriceLargestOption",label:"positionPriceLargestLabel",action:"sortByPositionPriceLargest",order:"desc"},{id:"positionPriceSmallestOption",label:"positionPriceSmallestLabel",action:"sortByPositionPriceSmallest",order:"asc"},{id:"positionPriceChangeLargestOption",label:"positionPriceChangeLargestLabel",action:"sortByPositionPriceChangeLargest",order:"desc"},{id:"positionPriceChangeSmallestOption",label:"positionPriceChangeSmallestLabel",action:"sortByPositionPriceChangeSmallest",order:"asc"},{id:"positionPriceChangePercentLargestOption",label:"positionPriceChangePercentLargestLabel",action:"sortByPositionPriceChangePercentLargest",order:"desc"},{id:"positionPriceChangePercentSmallestOption",label:"positionPriceChangePercentSmallestLabel",action:"sortByPositionPriceChangePercentSmallest",order:"asc"}],INVESTMENT_MARKET_LIST:[{id:"positionMarketValueLargestOption",label:"positionMarketValueLargestLabel",action:"sortByPositionMarketValueLargest",order:"desc"},{id:"positionMarketValueSmallestOption",label:"positionMarketValueSmallestLabel",action:"sortByPositionMarketValueSmallest",order:"asc"},{id:"positionMarketValueChangeLargestOption",label:"positionMarketValueChangeLargestLabel",action:"sortByPositionMarketValueChangeLargest",order:"desc"},{id:"positionMarketValueChangeSmallestOption",label:"positionMarketValueChangeSmallestLabel",action:"sortByPositionMarketValueChangeSmallest",order:"asc"}],INVESTMENT_GAINORLOSSS_LIST:[{id:"positionUnrealizedGainOrLossLargestOption",label:"positionUnrealizedGainOrLossLargestLabel",action:"sortByPositionUnrealizedGainOrLossLargest",order:"desc"},{id:"positionUnrealizedGainOrLossSmallestOption",label:"positionUnrealizedGainOrLossSmallestLabel",action:"sortByPositionUnrealizedGainOrLossSmallest",order:"asc"},{id:"positionUnrealizedGainOrLossPercentLargestOption",label:"positionUnrealizedGainOrLossPercentLargestLabel",action:"sortByPositionUnrealizedGainOrLossPercentLargest",order:"desc"},{id:"positionUnrealizedGainOrLossPercentSmallestOption",label:"positionUnrealizedGainOrLossPercentSmallestLabel",action:"sortByPositionUnrealizedGainOrLossPercentSmallest",order:"asc"}],TAX_LOT_SYMBOL_LIST:[{id:"investmentSymbolAscendingOption",label:"investmentSymbolAscendingLabel",action:"sortByTaxLotInvestmentSymbolAscending",order:"asc"},{id:"investmentSymbolDescendingOption",label:"investmentSymbolDescendingLabel",action:"sortByTaxLotInvestmentSymbolDescending",order:"desc"},{id:"assetShortDescriptionAscendingOption",label:"assetShortDescriptionAscendingLabel",action:"sortByTaxLotShortDescriptionAscending",order:"asc"},{id:"assetShortDescriptionDescendingOption",label:"assetShortDescriptionDescendingLabel",action:"sortByTaxLotShortDescriptionDescending",order:"desc"}],TAX_LOT_MARKET_LIST:[{id:"taxlotMarketValueLargestOption",label:"positionMarketValueLargestLabel",action:"sortByTaxLotMarketValue",order:"desc"},{id:"taxlotMarketValueSmallestOption",label:"positionMarketValueSmallestLabel",action:"sortByTaxLotMarketValue",order:"asc"},{id:"taxlotMarketValueChangeLargestOption",label:"positionMarketValueChangeLargestLabel",action:"sortByTaxLotMarketValueChange",order:"desc"},{id:"taxlotMarketValueChangeSmallestOption",label:"positionMarketValueChangeSmallestLabel",action:"sortByTaxLotMarketValueChange",order:"asc"}],TAX_LOT_GAIN_LOSS_LIST:[{id:"taxlotUnrealizedGainOrLossLargestOption",label:"positionUnrealizedGainOrLossLargestLabel",action:"sortByTaxLotUnrealizedGainOrLoss",order:"desc"},{id:"taxlotUnrealizedGainOrLossSmallestOption",label:"positionUnrealizedGainOrLossSmallestLabel",action:"sortByTaxLotUnrealizedGainOrLoss",order:"asc"},{id:"taxlotUnrealizedGainOrLossPercentLargestOption",label:"positionUnrealizedGainOrLossPercentLargestLabel",action:"sortByTaxLotUnrealizedGainOrLossPercentage",order:"desc"},{id:"taxlotUnrealizedGainOrLossPercentSmallestOption",label:"positionUnrealizedGainOrLossPercentSmallestLabel",action:"sortByTaxLotUnrealizedGainOrLossPercentage",order:"asc"}],TAXLOTS_SORTING_ADA_KEYS:["sortByTaxLotAcquisitionDateOrderAda","sortByAccountMaskNumberOrderAda","sortByTaxLotQuantityOrderAda","sortByTaxLotUnitCostOrderAda","sortByTaxLotCostOrderAda","sortByTaxLotUnrealizedGainOrLossOrderAda","sortByTaxLotUnrealizedGainOrLossPercentageOrderAda","sortByTaxLotMarketValueOrderAda","sortByTaxLotMarketValueChangeOrderAda"],INVESTMENT_PAGE_TITLES:{INVESTMENTS:"Investments",INVESTMENTS_BALANCE_HEADER:"Balances",INVESTMENTS_ASSET_CLASSES_HEADER:"Asset Class",POSITION_DETAILS:"Position Details",POSITIONS:"Positions"},INVESTMENT_POSITION_ASSET_DETAILS:{COUNTRY:"US",IDENTIFIER:"identifier=US:",MUTUAL_FUND:"MUTUAL_FUND",STOCK:"STOCK",ETF:"ETF",MF:"MUTUALFUND"},DISCLOSURES_LINK_TYPE:{SEURAT:"seurat-link",INTERNAL:"internal-link"},IS_ZERO_COST_BASIS:{VALUE:"X"},TIMEFRAME_VARIATION:{monthToDateAmount:"MONTH_TO_DATE",quarterToDateAmount:"QUARTER_TO_DATE",yearToDateAmount:"YEAR_TO_DATE",lastYearAmount:"ONE_YEAR",lastThreeYearsAmount:"THREE_YEARS",lastFiveYearsAmount:"FIVE_YEARS",lastTenYearsAmount:"TEN_YEARS",inceptionToDateAmount:"SINCE_INCEPTION"},ACCOUNT_VALUE_CHART_TIME_PERIODS:{MONTHLY:"MONTHLY",DAILY:"DAILY"},TIME_ZONES:{ET:"America/New_York"},PARTIAL_DATA:"unsupportedAccountsInGroup",COOKIE_DOMAIN_NAME:".chase.com",CASH_SWEEP_FUNDS_UNIQUE_KEY:"CASH-SWEEP-FUNDS",CASH_SWEEP_FUNDS:"Cash and Sweep Funds",DATE_FORMATS:{fullDate:"YYYYMMDD",fullDateWithSlash:"MM/DD/YYYY",fullDateWithHyphen:"MM-DD-YYYY",fullDateWithTime:"h:mm A MM/DD/YYYY",fullDateWithMilitaryTime:"MM/DD/YYYY hh:mm:ss A",monthYearWithSlash:"MM/YYYY",yearMonthWithSlash:"YYYY/MM"},MARGIN_OLYMPIC_VALUES_SET:["MAR","MAN"],MARGIN_OLYMPIC_MAPPER:{MARGIN:"MAR",OLYMPIC:"MAN"},PB_AND_JPMS_SEGMENTS:{PCB:!0,PVB:!0,WTH:!0},OVERLAY_STATUS:{NOT_SUPPORTED:"NOT_SUPPORTED",ACCOUNT_NOT_ELIGIBLE:"ACCOUNT_NOT_ELIGIBLE",NOT_AUTHORIZED:"NOT_AUTHORIZED",SYSTEM_FAILURE:"SYSTEM_FAILURE",YOU_INVEST_PRODUCT_LAUNCH_IN_PROGRESS:"YOU_INVEST_PRODUCT_LAUNCH_IN_PROGRESS"},OVERLAY_STATES:{NOT_SUPPORTED:"unsupportedPageOverlay",ACCOUNT_NOT_ELIGIBLE:"ineligibleAccountOverlay",SYSTEM_FAILURE:"serviceErrorOverlay"},POSITIONS_PRIVATE_ROUTES:{renderPositionsGrid:"dashboard/investments/positions/renderPositionsGrid",renderViewTaxLotsToggle:"dashboard/investments/positions/renderViewTaxLotsToggleComponent",renderTaxLotDetailContent:"dashboard/investments/positionDetail/renderTaxLotDetailContent",renderInvestmentSeachBox:"dashboard/investments/positions/renderInvestmentSeachBoxComponent",renderInvestmentSearchPills:"dashboard/investments/positions/renderInvestmentSearchPills",viewCashSweepDetails:"dashboard/investments/positions/viewCashSweepDetails",renderPositionsContainer:"dashboard/investments/positions/renderPositionsContainer",updateMarginDetails:"dashboard/investments/positions/updateMarginDetails",renderDeAggregatedPositions:"dashboard/investments/positions/renderDeAggregatedPositions",renderMarginEducation:"dashboard/investmentsBlock/marginEducation/index"},OPTIONS_EXPIRATION:{ACCOUNT_CATEGORIES:{SDI:"SELF_DIRECTED_INVESTMENT",ADVISED:"ADVISED"},EXPIRATION_RULE:{MULTIPLE:"MULTIPLE_ACCOUNTS",YOU_INVEST:"YOU_INVEST",INVESTMENT:"INVESTMENT"}},CHART_UNITS:{interMonth:"interMonth",interYear:"interYear"},XS_SUFFIX:"_xs",BRAND_TYPES:{JPO:"JPO",CPO:"CPO"},DISCLOSURE_HEADER:{DISCLOSURES:"DISCLOSURES",FOOTNOTES:"FOOTNOTES_AND_DISCLOSURES"},FOOTNOTE_HEADER:{EXPAND:"EXPAND",COLLAPSE:"COLLAPSE"},SAVINGS_TO_INVEST:{SIMULATION_TYPE:"SAVINGS_TO_INVEST"},chromeDownloadRowLimit:1e3,NUMBER_ZERO:"0",SYMBOLS:{POUND:"#",PERIOD:".",SLASH:"/",PLUS:"+",HYPHEN:"-",DOUBLEHYPHEN:"--",PERCENT:"%",DOLLAR:"$",UNDERSCORE:"_",OPENPARENTHESES:"(",CLOSEPARENTHESES:")",ENDASH:"",MINUS_SIGN:"",COPYRIGHT:""},CASH_SWEEP_FUNDS_POSITION_DESC:"Cash and Sweep Funds",CASH_SWEEP_FUNDS_POSITION_SHORT_DESC:"Cash",RTQ_QUALITY:{REAL_TIME:"RLT",DELAYED:"DLD"},MONTHS:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],TRADE_OPTIONS:"tradeoptions",OPTIONS:"options",EQUITY:"equity",TRADE_STOCK_ETFS:"tradestocketfs",MUTUAL_FUND:"mutualfund",TRADE_MUTUAL_FUNDS:"trademutualfunds",TRADE_FIXED_INCOME_ENTRY_URL:"tradeFixedIncomeEntryUrl",FIXED_INCOME_AGREEMENT_INDEX:"fixedincomeagreement.index",FIXED_INCOME_ENTRY:"fixedincome.entry",VIEW_TAX_LOTS_TOGGLE:"viewTaxLotsToggle",INVESTMENTS_SEARCH_BOX:"investmentSearchBox",INVESTMENT_SEARCH_PILLS:"investmentSearchPills",REALIZED_GAIN_OR_LOSS:{SUMMARY:"SUMMARY",DETAILED:"DETAILED"},POSITION:"Position",TAXLOT:"TaxLot",SECURITY:"Security",RETIREMENT:"Retirement",EXIT_MY_PROFILE:"exitMyProfile",HTTPS:"https://",EDA:"EDA",KEY_CODE:{ENTER:13,ESC:27,UP_ARROW:38,DOWN_ARROW:40,TAB:9,SHIFT:16,BACKSPACE:8},FILE_FORMATS:{pdf:"PDF",xls:"EXCEL",csv:"CSV",txt:"TEXT"},ALL_ELIGIBLE_ACCOUNTS:"group-cwm-investment-",ALL_ELIGIBLE_ACCOUNTS_TRADE:"group-all-",APP_AREA:{trade:"trade",investments:"investments"},GOAL_TYPE_MAPPER:{RETIREMENT:"RETIREMENT",MAJOR_PURCHASE:"MAJOR_PURCHASE",BUILD_WEALTH:"BUILD_WEALTH",ANOTHER_PURPOSE:"ANOTHER_PURPOSE",NOT_AVAILABLE:"NOT_AVAILABLE"},RISK_PROFILE_MAPPER:{CONSERVATIVE:"CONSERVATIVE",MODERATE:"MODERATE",GROWTH:"GROWTH",AGGRESSIVE:"AGGRESSIVE",NOT_AVAILABLE:"NOT_AVAILABLE"},TOP_POSITIONS_COUNT:6,TOP_POSITIONS_CASH_CHANGE:0,TOP_POSITIONS_CASH_CHANGE_PERCENTAGE:0,SEARCH_ACCOUNTS_SIZE:10,PAGE_SPECIFIC_DISCLOSURES:{riskProfilesimulate:["nudgeDetailsMapV2","riskProfileDisclosuresMessage","assetAllocationInformation","systematicInvesting","informationPurposesOnly"],riskProfilepreview:["systematicInvesting"],riskProfileaction:["systematicInvesting"]},INVESTMENT_DISCLOSURES_PRIVATE_STATE:"dashboard/blueBlockInvestmentDisclosures/setupInvestmentDisclosures",ASSET_CLASS_TYPE:{ALL_ASSET:"ALL_ASSET",OPTION_ONLY:"OPTION_ONLY"},PORTFOLIO_TYPES:{GLIDE_PATH:"GLIDE_PATH",RISK_BASED:"RISK_BASED"},EXPIRATION_TYPES:{SOON:"EXPIRES_SOON",TOMORROW:"EXPIRES_TOMORROW",TODAY:"EXPIRES_TODAY",EXPIRED:"EXPIRED"},INVESTMENT_ACCOUNT_TYPES:{WR2:"WR2",BR2:"BR2"},BALANCES_FLYOUT:{NAME:"balances",SCREENS:{SUMMARY:"summary",DETAILS:"details"},MARGIN:"margin"}}),define("bluespec/investment_disclosures",[],(function(){return{name:"INVESTMENT_DISCLOSURES",data:{typeOfDisclosureDisplayed:{type:"Description"},investmentDisclosuresName:{type:"Description"},jpMorganSecuritiesInformationMessage:{type:"Description"},youInvestPortfoliosSecuritiesDisclosureHeader:{type:"Description"},youInvestPortfoliosSecuritiesDisclosureMessage:{type:"Description"},youInvestPortfoliosConflictOfInterestMessage:{type:"Description"},marginDetailsDisclosuresMessage:{type:"Description"},accountDisclosuresMessage:{type:"Description"},bankManagedProductsDisclosure:{type:"Description"},investmentDisclosureGroupName:{type:"Description"},investmentDisclosures:{type:"List",items:{investmentDisclosure:"Description",investmentDisclosureId:"Description"}},logoFormatInvestmentDisclosures:{type:"List",items:{investmentDisclosure:"Description",investmentDisclosureId:"Description"}},investmentFootnotes:{type:"List",items:{investmentFootnote:"Description",investmentFootnoteId:"Description"}},pageDisclosuresKey:{type:"Description"},hiddenPageDisclosures:{type:"Description"},investmentDisclosuresMessageMobile:{type:"Description"},mutualFundsDisclosureMessage:{type:"Description"},ideasAndInsightsDisclosure:{type:"Description"},mapsDisclosure:{type:"Description"},riskProfileDisclosure:{type:"Description"},mutualFundsSortOrderDisclosure:{type:"Description"},mutualFundMixDisclosure:{type:"Description"},assetAllocationInformationMessage:{type:"Description"},informationPurposesOnlyMessage:{type:"Description"},marketDataFactsetMessage:{type:"Description"},investmentRiskMessage:{type:"Description"},exchangeTradedFundsInternalFeesMessage:{type:"Description"},providedInformationAccuracyMessage:{type:"Description"},conflictOfInterestMessage:{type:"Description"},automaticInvestmentsConfirmationMessage:{type:"Description"},mobileInvestmentOnboardingMessage:{type:"Description"}},actions:{requestAccountDisclosures:!0,requestJPMorganSecuritiesInformation:!0,requestSecuritiesInvestorProtectionCorporationHomePage:!0,requestFinancialIndustryRegulatoryAuthorityHomePage:!0,requestCharacteristicsAndRisksOfStandardizedOptions:!0,requestAdditionalDisclosures:!0,requestInvestmentAccountInformation:!0,requestJPMorganGlobalRegulatoryDisclosures:!0,reqeustAdditionalArticleDisclosures:!0,exitAdditionalArticleDisclosures:!0,requestExternalNavigation:!0,requestMoodysHomePage:!0,requestStandardAndPoorsHomePage:!0,requestElectronicMunicipalMarketAccessHomePage:!0,requestJPMSMutualFundsDisclosuresPDF:!0,requestDisclosureBrochurePDF:!0,requestMapsChartCommunication:!0,requestInvestmentFootnotes:!0,requestIraInformation:!0,exitAdditionalDisclosures:!0,requestRegulationBestInterestDisclosure:!0,requestDigitalAdvisoryDisclosure:!0},states:{siteExitWarningOverlay:!0,additionalDisclosuresOverlay:!0},settings:{requestJPMSMutualFundsDisclosuresPDFAda:!0,requestInvestmentFootnotesLabel:!0,requestInvestmentFootnotesAda:!0,overlayAnnouncementAda:!0,requestAdditionalDisclosuresLabel:!0,reqeustAdditionalArticleDisclosuresLabel:!0,exitAdditionalArticleDisclosuresLabel:!0,investmentDisclosuresHeader:!0,requestDigitalAdvisoryDisclosureLabel:!0}}})),define("@arnaudnyc/mout/lang/kindOf",[],(function(){return function(e){return Object.prototype.toString.call(e).slice(8,-1)}})),define("@arnaudnyc/mout/lang/isKind",["./kindOf"],(function(e){return function(t,i){return e(t)===i}})),define("@arnaudnyc/mout/lang/isArray",["./isKind"],(function(e){return Array.isArray||function(t){return e(t,"Array")}})),define("@arnaudnyc/mout/lang/toNumber",["./isArray"],(function(e){return function(t){return"number"==typeof t?t:t?"string"==typeof t?parseFloat(t):e(t)?NaN:Number(t):0}})),define("@arnaudnyc/mout/number/currencyFormat",["../lang/toNumber"],(function(e){return function(t,i,n,r){i=null==i?2:i,n=null==n?".":n,r=null==r?",":r;var a=(t=e(t)).toFixed(i),o=new RegExp("^(-?\\d{1,3})((?:\\d{3})+)(\\.(\\d{"+i+"}))?$").exec(a);return o?o[1]+o[2].replace(/\d{3}/g,r+"$&")+(o[4]?n+o[4]:""):a.replace(".",n)}})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment/moment",t):e.moment=t()}(this,(function(){"use strict";var e,t;function i(){return e.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function s(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function u(e,t){for(var i in t)a(t,i)&&(e[i]=t[i]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,i,n){return St(e,t,i,n,!0).utc()}function m(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function f(e){if(null==e._isValid){var i=m(e),n=t.call(i.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&i.overflow<0&&!i.empty&&!i.invalidEra&&!i.invalidMonth&&!i.invalidWeekday&&!i.weekdayMismatch&&!i.nullInput&&!i.invalidFormat&&!i.userInvalidated&&(!i.meridiem||i.meridiem&&n);if(e._strict&&(r=r&&0===i.charsLeftOver&&0===i.unusedTokens.length&&void 0===i.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function A(e){var t=p(NaN);return null!=e?u(m(t),e):m(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){var t,i=Object(this),n=i.length>>>0;for(t=0;t<n;t++)if(t in i&&e.call(this,i[t],t,i))return!0;return!1};var g=i.momentProperties=[],E=!1;function y(e,t){var i,n,r;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=m(t)),s(t._locale)||(e._locale=t._locale),g.length>0)for(i=0;i<g.length;i++)s(r=t[n=g[i]])||(e[n]=r);return e}function h(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===E&&(E=!0,i.updateOffset(this),E=!1)}function v(e){return e instanceof h||null!=e&&null!=e._isAMomentObject}function C(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function _(e,t){var n=!0;return u((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){var r,o,s,c=[];for(o=0;o<arguments.length;o++){if(r="","object"==typeof arguments[o]){for(s in r+="\n["+o+"] ",arguments[0])a(arguments[0],s)&&(r+=s+": "+arguments[0][s]+", ");r=r.slice(0,-2)}else r=arguments[o];c.push(r)}C(e+"\nArguments: "+Array.prototype.slice.call(c).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var S,T={};function N(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),T[e]||(C(t),T[e]=!0)}function I(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function b(e,t){var i,n=u({},e);for(i in t)a(t,i)&&(r(e[i])&&r(t[i])?(n[i]={},u(n[i],e[i]),u(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(i in e)a(e,i)&&!a(t,i)&&r(e[i])&&(n[i]=u({},n[i]));return n}function D(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)a(e,t)&&i.push(t);return i};function O(e,t,i){var n=""+Math.abs(e),r=t-n.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var P=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,M={},R={};function U(e,t,i,n){var r=n;"string"==typeof n&&(r=function(){return this[n]()}),e&&(R[e]=r),t&&(R[t[0]]=function(){return O(r.apply(this,arguments),t[1],t[2])}),i&&(R[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function k(e,t){return e.isValid()?(t=F(t,e.localeData()),M[t]=M[t]||function(e){var t,i,n,r=e.match(P);for(t=0,i=r.length;t<i;t++)R[r[t]]?r[t]=R[r[t]]:r[t]=(n=r[t]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(t){var n,a="";for(n=0;n<i;n++)a+=I(r[n])?r[n].call(t,e):r[n];return a}}(t),M[t](e)):e.localeData().invalidDate()}function F(e,t){var i=5;function n(e){return t.longDateFormat(e)||e}for(L.lastIndex=0;i>=0&&L.test(e);)e=e.replace(L,n),L.lastIndex=0,i-=1;return e}var w={};function x(e,t){var i=e.toLowerCase();w[i]=w[i+"s"]=w[t]=e}function B(e){return"string"==typeof e?w[e]||w[e.toLowerCase()]:void 0}function H(e){var t,i,n={};for(i in e)a(e,i)&&(t=B(i))&&(n[t]=e[i]);return n}var V={};function G(e,t){V[e]=t}function q(e){return e%4==0&&e%100!=0||e%400==0}function Y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function W(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=Y(t)),i}function K(e,t){return function(n){return null!=n?(Q(this,e,n),i.updateOffset(this,t),this):j(this,e)}}function j(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Q(e,t,i){e.isValid()&&!isNaN(i)&&("FullYear"===t&&q(e.year())&&1===e.month()&&29===e.date()?(i=W(i),e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),ve(i,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](i))}var z,X=/\d/,$=/\d\d/,J=/\d{3}/,Z=/\d{4}/,ee=/[+-]?\d{6}/,te=/\d\d?/,ie=/\d\d\d\d?/,ne=/\d\d\d\d\d\d?/,re=/\d{1,3}/,ae=/\d{1,4}/,oe=/[+-]?\d{1,6}/,se=/\d+/,ce=/[+-]?\d+/,le=/Z|[+-]\d\d:?\d\d/gi,de=/Z|[+-]\d\d(?::?\d\d)?/gi,ue=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function pe(e,t,i){z[e]=I(t)?t:function(e,n){return e&&i?i:t}}function me(e,t){return a(z,e)?z[e](t._strict,t._locale):new RegExp(fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,i,n,r){return t||i||n||r}))))}function fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}z={};var Ae={};function ge(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),c(t)&&(n=function(e,i){i[t]=W(e)}),i=0;i<e.length;i++)Ae[e[i]]=n}function Ee(e,t){ge(e,(function(e,i,n,r){n._w=n._w||{},t(e,n._w,n,r)}))}function ye(e,t,i){null!=t&&a(Ae,e)&&Ae[e](t,i._a,i,e)}var he;function ve(e,t){if(isNaN(e)||isNaN(t))return NaN;var i,n=(t%(i=12)+i)%i;return e+=(t-n)/12,1===n?q(e)?29:28:31-n%7%2}he=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",(function(){return this.month()+1})),U("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),U("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),x("month","M"),G("month",8),pe("M",te),pe("MM",te,$),pe("MMM",(function(e,t){return t.monthsShortRegex(e)})),pe("MMMM",(function(e,t){return t.monthsRegex(e)})),ge(["M","MM"],(function(e,t){t[1]=W(e)-1})),ge(["MMM","MMMM"],(function(e,t,i,n){var r=i._locale.monthsParse(e,n,i._strict);null!=r?t[1]=r:m(i).invalidMonth=e}));var Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),_e="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Se=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Te=ue,Ne=ue;function Ie(e,t,i){var n,r,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=p([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(r=he.call(this._shortMonthsParse,o))?r:null:-1!==(r=he.call(this._longMonthsParse,o))?r:null:"MMM"===t?-1!==(r=he.call(this._shortMonthsParse,o))||-1!==(r=he.call(this._longMonthsParse,o))?r:null:-1!==(r=he.call(this._longMonthsParse,o))||-1!==(r=he.call(this._shortMonthsParse,o))?r:null}function be(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=W(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),ve(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function De(e){return null!=e?(be(this,e),i.updateOffset(this,!0),this):j(this,"Month")}function Oe(){function e(e,t){return t.length-e.length}var t,i,n=[],r=[],a=[];for(t=0;t<12;t++)i=p([2e3,t]),n.push(this.monthsShort(i,"")),r.push(this.months(i,"")),a.push(this.months(i,"")),a.push(this.monthsShort(i,""));for(n.sort(e),r.sort(e),a.sort(e),t=0;t<12;t++)n[t]=fe(n[t]),r[t]=fe(r[t]);for(t=0;t<24;t++)a[t]=fe(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Pe(e){return q(e)?366:365}U("Y",0,0,(function(){var e=this.year();return e<=9999?O(e,4):"+"+e})),U(0,["YY",2],0,(function(){return this.year()%100})),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),x("year","y"),G("year",1),pe("Y",ce),pe("YY",te,$),pe("YYYY",ae,Z),pe("YYYYY",oe,ee),pe("YYYYYY",oe,ee),ge(["YYYYY","YYYYYY"],0),ge("YYYY",(function(e,t){t[0]=2===e.length?i.parseTwoDigitYear(e):W(e)})),ge("YY",(function(e,t){t[0]=i.parseTwoDigitYear(e)})),ge("Y",(function(e,t){t[0]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return W(e)+(W(e)>68?1900:2e3)};var Le=K("FullYear",!0);function Me(e,t,i,n,r,a,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,i,n,r,a,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,i,n,r,a,o),s}function Re(e){var t,i;return e<100&&e>=0?((i=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ue(e,t,i){var n=7+t-i;return-((7+Re(e,0,n).getUTCDay()-t)%7)+n-1}function ke(e,t,i,n,r){var a,o,s=1+7*(t-1)+(7+i-n)%7+Ue(e,n,r);return s<=0?o=Pe(a=e-1)+s:s>Pe(e)?(a=e+1,o=s-Pe(e)):(a=e,o=s),{year:a,dayOfYear:o}}function Fe(e,t,i){var n,r,a=Ue(e.year(),t,i),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?n=o+we(r=e.year()-1,t,i):o>we(e.year(),t,i)?(n=o-we(e.year(),t,i),r=e.year()+1):(r=e.year(),n=o),{week:n,year:r}}function we(e,t,i){var n=Ue(e,t,i),r=Ue(e+1,t,i);return(Pe(e)-n+r)/7}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),x("week","w"),x("isoWeek","W"),G("week",5),G("isoWeek",5),pe("w",te),pe("ww",te,$),pe("W",te),pe("WW",te,$),Ee(["w","ww","W","WW"],(function(e,t,i,n){t[n.substr(0,1)]=W(e)}));function xe(e,t){return e.slice(t,7).concat(e.slice(0,t))}U("d",0,"do","day"),U("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),U("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),U("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),x("day","d"),x("weekday","e"),x("isoWeekday","E"),G("day",11),G("weekday",11),G("isoWeekday",11),pe("d",te),pe("e",te),pe("E",te),pe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),pe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),pe("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ee(["dd","ddd","dddd"],(function(e,t,i,n){var r=i._locale.weekdaysParse(e,n,i._strict);null!=r?t.d=r:m(i).invalidWeekday=e})),Ee(["d","e","E"],(function(e,t,i,n){t[n]=W(e)}));var Be="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),He="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ve="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ge=ue,qe=ue,Ye=ue;function We(e,t,i){var n,r,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=p([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(r=he.call(this._weekdaysParse,o))?r:null:"ddd"===t?-1!==(r=he.call(this._shortWeekdaysParse,o))?r:null:-1!==(r=he.call(this._minWeekdaysParse,o))?r:null:"dddd"===t?-1!==(r=he.call(this._weekdaysParse,o))||-1!==(r=he.call(this._shortWeekdaysParse,o))||-1!==(r=he.call(this._minWeekdaysParse,o))?r:null:"ddd"===t?-1!==(r=he.call(this._shortWeekdaysParse,o))||-1!==(r=he.call(this._weekdaysParse,o))||-1!==(r=he.call(this._minWeekdaysParse,o))?r:null:-1!==(r=he.call(this._minWeekdaysParse,o))||-1!==(r=he.call(this._weekdaysParse,o))||-1!==(r=he.call(this._shortWeekdaysParse,o))?r:null}function Ke(){function e(e,t){return t.length-e.length}var t,i,n,r,a,o=[],s=[],c=[],l=[];for(t=0;t<7;t++)i=p([2e3,1]).day(t),n=fe(this.weekdaysMin(i,"")),r=fe(this.weekdaysShort(i,"")),a=fe(this.weekdays(i,"")),o.push(n),s.push(r),c.push(a),l.push(n),l.push(r),l.push(a);o.sort(e),s.sort(e),c.sort(e),l.sort(e),this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function je(){return this.hours()%12||12}function Qe(e,t){U(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function ze(e,t){return t._meridiemParse}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,je),U("k",["kk",2],0,(function(){return this.hours()||24})),U("hmm",0,0,(function(){return""+je.apply(this)+O(this.minutes(),2)})),U("hmmss",0,0,(function(){return""+je.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),U("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),U("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),Qe("a",!0),Qe("A",!1),x("hour","h"),G("hour",13),pe("a",ze),pe("A",ze),pe("H",te),pe("h",te),pe("k",te),pe("HH",te,$),pe("hh",te,$),pe("kk",te,$),pe("hmm",ie),pe("hmmss",ne),pe("Hmm",ie),pe("Hmmss",ne),ge(["H","HH"],3),ge(["k","kk"],(function(e,t,i){var n=W(e);t[3]=24===n?0:n})),ge(["a","A"],(function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e})),ge(["h","hh"],(function(e,t,i){t[3]=W(e),m(i).bigHour=!0})),ge("hmm",(function(e,t,i){var n=e.length-2;t[3]=W(e.substr(0,n)),t[4]=W(e.substr(n)),m(i).bigHour=!0})),ge("hmmss",(function(e,t,i){var n=e.length-4,r=e.length-2;t[3]=W(e.substr(0,n)),t[4]=W(e.substr(n,2)),t[5]=W(e.substr(r)),m(i).bigHour=!0})),ge("Hmm",(function(e,t,i){var n=e.length-2;t[3]=W(e.substr(0,n)),t[4]=W(e.substr(n))})),ge("Hmmss",(function(e,t,i){var n=e.length-4,r=e.length-2;t[3]=W(e.substr(0,n)),t[4]=W(e.substr(n,2)),t[5]=W(e.substr(r))}));var Xe=K("Hours",!0);var $e,Je={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ce,monthsShort:_e,week:{dow:0,doy:6},weekdays:Be,weekdaysMin:Ve,weekdaysShort:He,meridiemParse:/[ap]\.?m?\.?/i},Ze={},et={};function tt(e,t){var i,n=Math.min(e.length,t.length);for(i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}function it(e){return e?e.toLowerCase().replace("_","-"):e}function nt(e){var t=null;if(void 0===Ze[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=$e._abbr,require("./locale/"+e),rt(t)}catch(t){Ze[e]=null}return Ze[e]}function rt(e,t){var i;return e&&((i=s(t)?ot(e):at(e,t))?$e=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),$e._abbr}function at(e,t){if(null!==t){var i,n=Je;if(t.abbr=e,null!=Ze[e])N("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Ze[e]._config;else if(null!=t.parentLocale)if(null!=Ze[t.parentLocale])n=Ze[t.parentLocale]._config;else{if(null==(i=nt(t.parentLocale)))return et[t.parentLocale]||(et[t.parentLocale]=[]),et[t.parentLocale].push({name:e,config:t}),null;n=i._config}return Ze[e]=new D(b(n,t)),et[e]&&et[e].forEach((function(e){at(e.name,e.config)})),rt(e),Ze[e]}return delete Ze[e],null}function ot(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return $e;if(!n(e)){if(t=nt(e))return t;e=[e]}return function(e){for(var t,i,n,r,a=0;a<e.length;){for(t=(r=it(e[a]).split("-")).length,i=(i=it(e[a+1]))?i.split("-"):null;t>0;){if(n=nt(r.slice(0,t).join("-")))return n;if(i&&i.length>=t&&tt(r,i)>=t-1)break;t--}a++}return $e}(e)}function st(e){var t,i=e._a;return i&&-2===m(e).overflow&&(t=i[1]<0||i[1]>11?1:i[2]<1||i[2]>ve(i[0],i[1])?2:i[3]<0||i[3]>24||24===i[3]&&(0!==i[4]||0!==i[5]||0!==i[6])?3:i[4]<0||i[4]>59?4:i[5]<0||i[5]>59?5:i[6]<0||i[6]>999?6:-1,m(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),m(e)._overflowWeeks&&-1===t&&(t=7),m(e)._overflowWeekday&&-1===t&&(t=8),m(e).overflow=t),e}var ct=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,lt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/Z|[+-]\d\d(?::?\d\d)?/,ut=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],pt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mt=/^\/?Date\((-?\d+)/i,ft=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,At={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function gt(e){var t,i,n,r,a,o,s=e._i,c=ct.exec(s)||lt.exec(s);if(c){for(m(e).iso=!0,t=0,i=ut.length;t<i;t++)if(ut[t][1].exec(c[1])){r=ut[t][0],n=!1!==ut[t][2];break}if(null==r)return void(e._isValid=!1);if(c[3]){for(t=0,i=pt.length;t<i;t++)if(pt[t][1].exec(c[3])){a=(c[2]||" ")+pt[t][0];break}if(null==a)return void(e._isValid=!1)}if(!n&&null!=a)return void(e._isValid=!1);if(c[4]){if(!dt.exec(c[4]))return void(e._isValid=!1);o="Z"}e._f=r+(a||"")+(o||""),Ct(e)}else e._isValid=!1}function Et(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function yt(e){var t,i,n,r,a,o,s,c,l=ft.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){if(i=l[4],n=l[3],r=l[2],a=l[5],o=l[6],s=l[7],c=[Et(i),_e.indexOf(n),parseInt(r,10),parseInt(a,10),parseInt(o,10)],s&&c.push(parseInt(s,10)),t=c,!function(e,t,i){return!e||He.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(i).weekdayMismatch=!0,i._isValid=!1,!1)}(l[1],t,e))return;e._a=t,e._tzm=function(e,t,i){if(e)return At[e];if(t)return 0;var n=parseInt(i,10),r=n%100;return(n-r)/100*60+r}(l[8],l[9],l[10]),e._d=Re.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function ht(e,t,i){return null!=e?e:null!=t?t:i}function vt(e){var t,n,r,a,o,s=[];if(!e._d){for(r=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,i,n,r,a,o,s,c,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,i=ht(t.GG,e._a[0],Fe(Tt(),1,4).year),n=ht(t.W,1),((r=ht(t.E,1))<1||r>7)&&(c=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,l=Fe(Tt(),a,o),i=ht(t.gg,e._a[0],l.year),n=ht(t.w,l.week),null!=t.d?((r=t.d)<0||r>6)&&(c=!0):null!=t.e?(r=t.e+a,(t.e<0||t.e>6)&&(c=!0)):r=a);n<1||n>we(i,a,o)?m(e)._overflowWeeks=!0:null!=c?m(e)._overflowWeekday=!0:(s=ke(i,n,r,a,o),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=ht(e._a[0],r[0]),(e._dayOfYear>Pe(o)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=Re(o,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Re:Me).apply(null,s),a=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==a&&(m(e).weekdayMismatch=!0)}}function Ct(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],m(e).empty=!0;var t,n,r,a,o,s,c=""+e._i,l=c.length,d=0;for(r=F(e._f,e._locale).match(P)||[],t=0;t<r.length;t++)a=r[t],(n=(c.match(me(a,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&m(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),d+=n.length),R[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),ye(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=l-d,c.length>0&&m(e).unusedInput.push(c),e._a[3]<=12&&!0===m(e).bigHour&&e._a[3]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[3]=function(e,t,i){var n;if(null==i)return t;return null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?((n=e.isPM(i))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),null!==(s=m(e).era)&&(e._a[0]=e._locale.erasConvertYear(s,e._a[0])),vt(e),st(e)}else yt(e);else gt(e)}function _t(e){var t=e._i,a=e._f;return e._locale=e._locale||ot(e._l),null===t||void 0===a&&""===t?A({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new h(st(t)):(l(t)?e._d=t:n(a)?function(e){var t,i,n,r,a,o,s=!1;if(0===e._f.length)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(r=0;r<e._f.length;r++)a=0,o=!1,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],Ct(t),f(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,s?a<n&&(n=a,i=t):(null==n||a<n||o)&&(n=a,i=t,o&&(s=!0));u(e,i||t)}(e):a?Ct(e):function(e){var t=e._i;s(t)?e._d=new Date(i.now()):l(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=mt.exec(e._i);null===t?(gt(e),!1===e._isValid&&(delete e._isValid,yt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):n(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),vt(e)):r(t)?function(e){if(!e._d){var t=H(e._i),i=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),vt(e)}}(e):c(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),f(e)||(e._d=null),e))}function St(e,t,i,a,s){var c,l={};return!0!==t&&!1!==t||(a=t,t=void 0),!0!==i&&!1!==i||(a=i,i=void 0),(r(e)&&o(e)||n(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=i,l._i=e,l._f=t,l._strict=a,(c=new h(st(_t(l))))._nextDay&&(c.add(1,"d"),c._nextDay=void 0),c}function Tt(e,t,i,n){return St(e,t,i,n,!1)}i.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Nt=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:A()})),It=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:A()}));function bt(e,t){var i,r;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Tt();for(i=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](i)||(i=t[r]);return i}var Dt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ot(e){var t=H(e),i=t.year||0,n=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,c=t.hour||0,l=t.minute||0,d=t.second||0,u=t.millisecond||0;this._isValid=function(e){var t,i,n=!1;for(t in e)if(a(e,t)&&(-1===he.call(Dt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(i=0;i<Dt.length;++i)if(e[Dt[i]]){if(n)return!1;parseFloat(e[Dt[i]])!==W(e[Dt[i]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*d+6e4*l+1e3*c*60*60,this._days=+s+7*o,this._months=+r+3*n+12*i,this._data={},this._locale=ot(),this._bubble()}function Pt(e){return e instanceof Ot}function Lt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Mt(e,t){U(e,0,0,(function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+O(~~(e/60),2)+t+O(~~e%60,2)}))}Mt("Z",":"),Mt("ZZ",""),pe("Z",de),pe("ZZ",de),ge(["Z","ZZ"],(function(e,t,i){i._useUTC=!0,i._tzm=Ut(de,e)}));var Rt=/([\+\-]|\d\d)/gi;function Ut(e,t){var i,n,r=(t||"").match(e);return null===r?null:0===(n=60*(i=((r[r.length-1]||[])+"").match(Rt)||["-",0,0])[1]+W(i[2]))?0:"+"===i[0]?n:-n}function kt(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(v(e)||l(e)?e.valueOf():Tt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Tt(e).local()}function Ft(e){return-Math.round(e._d.getTimezoneOffset())}function wt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}i.updateOffset=function(){};var xt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Bt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ht(e,t){var i,n,r,o=e,s=null;return Pt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(s=xt.exec(e))?(i="-"===s[1]?-1:1,o={y:0,d:W(s[2])*i,h:W(s[3])*i,m:W(s[4])*i,s:W(s[5])*i,ms:W(Lt(1e3*s[6]))*i}):(s=Bt.exec(e))?(i="-"===s[1]?-1:1,o={y:Vt(s[2],i),M:Vt(s[3],i),w:Vt(s[4],i),d:Vt(s[5],i),h:Vt(s[6],i),m:Vt(s[7],i),s:Vt(s[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=function(e,t){var i;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=kt(t,e),e.isBefore(t)?i=Gt(e,t):((i=Gt(t,e)).milliseconds=-i.milliseconds,i.months=-i.months);return i}(Tt(o.from),Tt(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),n=new Ot(o),Pt(e)&&a(e,"_locale")&&(n._locale=e._locale),Pt(e)&&a(e,"_isValid")&&(n._isValid=e._isValid),n}function Vt(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Gt(e,t){var i={};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function qt(e,t){return function(i,n){var r;return null===n||isNaN(+n)||(N(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),Yt(this,Ht(i,n),e),this}}function Yt(e,t,n,r){var a=t._milliseconds,o=Lt(t._days),s=Lt(t._months);e.isValid()&&(r=null==r||r,s&&be(e,j(e,"Month")+s*n),o&&Q(e,"Date",j(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),r&&i.updateOffset(e,o||s))}Ht.fn=Ot.prototype,Ht.invalid=function(){return Ht(NaN)};var Wt=qt(1,"add"),Kt=qt(-1,"subtract");function jt(e){return"string"==typeof e||e instanceof String}function Qt(e){return v(e)||l(e)||jt(e)||c(e)||function(e){var t=n(e),i=!1;t&&(i=0===e.filter((function(t){return!c(t)&&jt(e)})).length);return t&&i}(e)||function(e){var t,i,n=r(e)&&!o(e),s=!1,c=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<c.length;t+=1)i=c[t],s=s||a(e,i);return n&&s}(e)||null==e}function zt(e){var t,i=r(e)&&!o(e),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<s.length;t+=1)n=n||a(e,s[t]);return i&&n}function Xt(e,t){if(e.date()<t.date())return-Xt(t,e);var i=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(i,"months");return-(i+(t-n<0?(t-n)/(n-e.clone().add(i-1,"months")):(t-n)/(e.clone().add(i+1,"months")-n)))||0}function $t(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ot(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Jt=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Zt(){return this._locale}var ei=1e3,ti=6e4,ii=36e5,ni=126227808e5;function ri(e,t){return(e%t+t)%t}function ai(e,t,i){return e<100&&e>=0?new Date(e+400,t,i)-ni:new Date(e,t,i).valueOf()}function oi(e,t,i){return e<100&&e>=0?Date.UTC(e+400,t,i)-ni:Date.UTC(e,t,i)}function si(e,t){return t.erasAbbrRegex(e)}function ci(){var e,t,i=[],n=[],r=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)n.push(fe(o[e].name)),i.push(fe(o[e].abbr)),r.push(fe(o[e].narrow)),a.push(fe(o[e].name)),a.push(fe(o[e].abbr)),a.push(fe(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}function li(e,t){U(0,[e,e.length],0,t)}function di(e,t,i,n,r){var a;return null==e?Fe(this,n,r).year:(t>(a=we(e,n,r))&&(t=a),ui.call(this,e,t,i,n,r))}function ui(e,t,i,n,r){var a=ke(e,t,i,n,r),o=Re(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}U("N",0,0,"eraAbbr"),U("NN",0,0,"eraAbbr"),U("NNN",0,0,"eraAbbr"),U("NNNN",0,0,"eraName"),U("NNNNN",0,0,"eraNarrow"),U("y",["y",1],"yo","eraYear"),U("y",["yy",2],0,"eraYear"),U("y",["yyy",3],0,"eraYear"),U("y",["yyyy",4],0,"eraYear"),pe("N",si),pe("NN",si),pe("NNN",si),pe("NNNN",(function(e,t){return t.erasNameRegex(e)})),pe("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ge(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,i,n){var r=i._locale.erasParse(e,n,i._strict);r?m(i).era=r:m(i).invalidEra=e})),pe("y",se),pe("yy",se),pe("yyy",se),pe("yyyy",se),pe("yo",(function(e,t){return t._eraYearOrdinalRegex||se})),ge(["y","yy","yyy","yyyy"],0),ge(["yo"],(function(e,t,i,n){var r;i._locale._eraYearOrdinalRegex&&(r=e.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?t[0]=i._locale.eraYearOrdinalParse(e,r):t[0]=parseInt(e,10)})),U(0,["gg",2],0,(function(){return this.weekYear()%100})),U(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),li("gggg","weekYear"),li("ggggg","weekYear"),li("GGGG","isoWeekYear"),li("GGGGG","isoWeekYear"),x("weekYear","gg"),x("isoWeekYear","GG"),G("weekYear",1),G("isoWeekYear",1),pe("G",ce),pe("g",ce),pe("GG",te,$),pe("gg",te,$),pe("GGGG",ae,Z),pe("gggg",ae,Z),pe("GGGGG",oe,ee),pe("ggggg",oe,ee),Ee(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,i,n){t[n.substr(0,2)]=W(e)})),Ee(["gg","GG"],(function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)})),U("Q",0,"Qo","quarter"),x("quarter","Q"),G("quarter",7),pe("Q",X),ge("Q",(function(e,t){t[1]=3*(W(e)-1)})),U("D",["DD",2],"Do","date"),x("date","D"),G("date",9),pe("D",te),pe("DD",te,$),pe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ge(["D","DD"],2),ge("Do",(function(e,t){t[2]=W(e.match(te)[0])}));var pi=K("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),x("dayOfYear","DDD"),G("dayOfYear",4),pe("DDD",re),pe("DDDD",J),ge(["DDD","DDDD"],(function(e,t,i){i._dayOfYear=W(e)})),U("m",["mm",2],0,"minute"),x("minute","m"),G("minute",14),pe("m",te),pe("mm",te,$),ge(["m","mm"],4);var mi=K("Minutes",!1);U("s",["ss",2],0,"second"),x("second","s"),G("second",15),pe("s",te),pe("ss",te,$),ge(["s","ss"],5);var fi,Ai,gi=K("Seconds",!1);for(U("S",0,0,(function(){return~~(this.millisecond()/100)})),U(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),U(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),U(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),U(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),U(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),U(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),x("millisecond","ms"),G("millisecond",16),pe("S",re,X),pe("SS",re,$),pe("SSS",re,J),fi="SSSS";fi.length<=9;fi+="S")pe(fi,se);function Ei(e,t){t[6]=W(1e3*("0."+e))}for(fi="S";fi.length<=9;fi+="S")ge(fi,Ei);Ai=K("Milliseconds",!1),U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var yi=h.prototype;function hi(e){return e}yi.add=Wt,yi.calendar=function(e,t){1===arguments.length&&(arguments[0]?Qt(arguments[0])?(e=arguments[0],t=void 0):zt(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Tt(),r=kt(n,this).startOf("day"),a=i.calendarFormat(this,r)||"sameElse",o=t&&(I(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Tt(n)))},yi.clone=function(){return new h(this)},yi.diff=function(e,t,i){var n,r,a;if(!this.isValid())return NaN;if(!(n=kt(e,this)).isValid())return NaN;switch(r=6e4*(n.utcOffset()-this.utcOffset()),t=B(t)){case"year":a=Xt(this,n)/12;break;case"month":a=Xt(this,n);break;case"quarter":a=Xt(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-r)/864e5;break;case"week":a=(this-n-r)/6048e5;break;default:a=this-n}return i?a:Y(a)},yi.endOf=function(e){var t,n;if(void 0===(e=B(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?oi:ai,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ii-ri(t+(this._isUTC?0:this.utcOffset()*ti),ii)-1;break;case"minute":t=this._d.valueOf(),t+=ti-ri(t,ti)-1;break;case"second":t=this._d.valueOf(),t+=ei-ri(t,ei)-1}return this._d.setTime(t),i.updateOffset(this,!0),this},yi.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=k(this,e);return this.localeData().postformat(t)},yi.from=function(e,t){return this.isValid()&&(v(e)&&e.isValid()||Tt(e).isValid())?Ht({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},yi.fromNow=function(e){return this.from(Tt(),e)},yi.to=function(e,t){return this.isValid()&&(v(e)&&e.isValid()||Tt(e).isValid())?Ht({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},yi.toNow=function(e){return this.to(Tt(),e)},yi.get=function(e){return I(this[e=B(e)])?this[e]():this},yi.invalidAt=function(){return m(this).overflow},yi.isAfter=function(e,t){var i=v(e)?e:Tt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=B(t)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())},yi.isBefore=function(e,t){var i=v(e)?e:Tt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=B(t)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())},yi.isBetween=function(e,t,i,n){var r=v(e)?e:Tt(e),a=v(t)?t:Tt(t);return!!(this.isValid()&&r.isValid()&&a.isValid())&&(("("===(n=n||"()")[0]?this.isAfter(r,i):!this.isBefore(r,i))&&(")"===n[1]?this.isBefore(a,i):!this.isAfter(a,i)))},yi.isSame=function(e,t){var i,n=v(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=B(t)||"millisecond")?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))},yi.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},yi.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},yi.isValid=function(){return f(this)},yi.lang=Jt,yi.locale=$t,yi.localeData=Zt,yi.max=It,yi.min=Nt,yi.parsingFlags=function(){return u({},m(this))},yi.set=function(e,t){if("object"==typeof e){var i,n=function(e){var t,i=[];for(t in e)a(e,t)&&i.push({unit:t,priority:V[t]});return i.sort((function(e,t){return e.priority-t.priority})),i}(e=H(e));for(i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit])}else if(I(this[e=B(e)]))return this[e](t);return this},yi.startOf=function(e){var t,n;if(void 0===(e=B(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?oi:ai,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ri(t+(this._isUTC?0:this.utcOffset()*ti),ii);break;case"minute":t=this._d.valueOf(),t-=ri(t,ti);break;case"second":t=this._d.valueOf(),t-=ri(t,ei)}return this._d.setTime(t),i.updateOffset(this,!0),this},yi.subtract=Kt,yi.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},yi.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},yi.toDate=function(){return new Date(this.valueOf())},yi.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?k(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):I(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",k(i,"Z")):k(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},yi.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,i,n="moment",r="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",r="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",i=r+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+i)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(yi[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),yi.toJSON=function(){return this.isValid()?this.toISOString():null},yi.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},yi.unix=function(){return Math.floor(this.valueOf()/1e3)},yi.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},yi.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},yi.eraName=function(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].name;if(n[e].until<=i&&i<=n[e].since)return n[e].name}return""},yi.eraNarrow=function(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].narrow;if(n[e].until<=i&&i<=n[e].since)return n[e].narrow}return""},yi.eraAbbr=function(){var e,t,i,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),n[e].since<=i&&i<=n[e].until)return n[e].abbr;if(n[e].until<=i&&i<=n[e].since)return n[e].abbr}return""},yi.eraYear=function(){var e,t,n,r,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,r=this.clone().startOf("day").valueOf(),a[e].since<=r&&r<=a[e].until||a[e].until<=r&&r<=a[e].since)return(this.year()-i(a[e].since).year())*n+a[e].offset;return this.year()},yi.year=Le,yi.isLeapYear=function(){return q(this.year())},yi.weekYear=function(e){return di.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},yi.isoWeekYear=function(e){return di.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},yi.quarter=yi.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},yi.month=De,yi.daysInMonth=function(){return ve(this.year(),this.month())},yi.week=yi.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},yi.isoWeek=yi.isoWeeks=function(e){var t=Fe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},yi.weeksInYear=function(){var e=this.localeData()._week;return we(this.year(),e.dow,e.doy)},yi.weeksInWeekYear=function(){var e=this.localeData()._week;return we(this.weekYear(),e.dow,e.doy)},yi.isoWeeksInYear=function(){return we(this.year(),1,4)},yi.isoWeeksInISOWeekYear=function(){return we(this.isoWeekYear(),1,4)},yi.date=pi,yi.day=yi.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},yi.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},yi.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},yi.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},yi.hour=yi.hours=Xe,yi.minute=yi.minutes=mi,yi.second=yi.seconds=gi,yi.millisecond=yi.milliseconds=Ai,yi.utcOffset=function(e,t,n){var r,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Ut(de,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Ft(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==e&&(!t||this._changeInProgress?Yt(this,Ht(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Ft(this)},yi.utc=function(e){return this.utcOffset(0,e)},yi.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ft(this),"m")),this},yi.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ut(le,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},yi.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Tt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},yi.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},yi.isLocal=function(){return!!this.isValid()&&!this._isUTC},yi.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},yi.isUtc=wt,yi.isUTC=wt,yi.zoneAbbr=function(){return this._isUTC?"UTC":""},yi.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},yi.dates=_("dates accessor is deprecated. Use date instead.",pi),yi.months=_("months accessor is deprecated. Use month instead",De),yi.years=_("years accessor is deprecated. Use year instead",Le),yi.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),yi.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e,t={};return y(t,this),(t=_t(t))._a?(e=t._isUTC?p(t._a):Tt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,i){var n,r=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(n=0;n<r;n++)(i&&e[n]!==t[n]||!i&&W(e[n])!==W(t[n]))&&o++;return o+a}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var vi=D.prototype;function Ci(e,t,i,n){var r=ot(),a=p().set(n,t);return r[i](a,e)}function _i(e,t,i){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return Ci(e,t,i,"month");var n,r=[];for(n=0;n<12;n++)r[n]=Ci(e,n,i,"month");return r}function Si(e,t,i,n){"boolean"==typeof e?(c(t)&&(i=t,t=void 0),t=t||""):(i=t=e,e=!1,c(t)&&(i=t,t=void 0),t=t||"");var r,a=ot(),o=e?a._week.dow:0,s=[];if(null!=i)return Ci(t,(i+o)%7,n,"day");for(r=0;r<7;r++)s[r]=Ci(t,(r+o)%7,n,"day");return s}vi.calendar=function(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return I(n)?n.call(t,i):n},vi.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.match(P).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},vi.invalidDate=function(){return this._invalidDate},vi.ordinal=function(e){return this._ordinal.replace("%d",e)},vi.preparse=hi,vi.postformat=hi,vi.relativeTime=function(e,t,i,n){var r=this._relativeTime[i];return I(r)?r(e,t,i,n):r.replace(/%d/i,e)},vi.pastFuture=function(e,t){var i=this._relativeTime[e>0?"future":"past"];return I(i)?i(t):i.replace(/%s/i,t)},vi.set=function(e){var t,i;for(i in e)a(e,i)&&(I(t=e[i])?this[i]=t:this["_"+i]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},vi.eras=function(e,t){var n,r,a,o=this._eras||ot("en")._eras;for(n=0,r=o.length;n<r;++n){switch(typeof o[n].since){case"string":a=i(o[n].since).startOf("day"),o[n].since=a.valueOf()}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=i(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}}return o},vi.erasParse=function(e,t,i){var n,r,a,o,s,c=this.eras();for(e=e.toUpperCase(),n=0,r=c.length;n<r;++n)if(a=c[n].name.toUpperCase(),o=c[n].abbr.toUpperCase(),s=c[n].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(o===e)return c[n];break;case"NNNN":if(a===e)return c[n];break;case"NNNNN":if(s===e)return c[n]}else if([a,o,s].indexOf(e)>=0)return c[n]},vi.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?i(e.since).year():i(e.since).year()+(t-e.offset)*n},vi.erasAbbrRegex=function(e){return a(this,"_erasAbbrRegex")||ci.call(this),e?this._erasAbbrRegex:this._erasRegex},vi.erasNameRegex=function(e){return a(this,"_erasNameRegex")||ci.call(this),e?this._erasNameRegex:this._erasRegex},vi.erasNarrowRegex=function(e){return a(this,"_erasNarrowRegex")||ci.call(this),e?this._erasNarrowRegex:this._erasRegex},vi.months=function(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Se).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone},vi.monthsShort=function(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Se.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},vi.monthsParse=function(e,t,i){var n,r,a;if(this._monthsParseExact)return Ie.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=p([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(a="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}},vi.monthsRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||Oe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Ne),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},vi.monthsShortRegex=function(e){return this._monthsParseExact?(a(this,"_monthsRegex")||Oe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Te),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},vi.week=function(e){return Fe(e,this._week.dow,this._week.doy).week},vi.firstDayOfYear=function(){return this._week.doy},vi.firstDayOfWeek=function(){return this._week.dow},vi.weekdays=function(e,t){var i=n(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?xe(i,this._week.dow):e?i[e.day()]:i},vi.weekdaysMin=function(e){return!0===e?xe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},vi.weekdaysShort=function(e){return!0===e?xe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},vi.weekdaysParse=function(e,t,i){var n,r,a;if(this._weekdaysParseExact)return We.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=p([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}},vi.weekdaysRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Ge),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},vi.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},vi.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Ke.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ye),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},vi.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},vi.meridiem=function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},rt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===W(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=_("moment.lang is deprecated. Use moment.locale instead.",rt),i.langData=_("moment.langData is deprecated. Use moment.localeData instead.",ot);var Ti=Math.abs;function Ni(e,t,i,n){var r=Ht(t,i);return e._milliseconds+=n*r._milliseconds,e._days+=n*r._days,e._months+=n*r._months,e._bubble()}function Ii(e){return e<0?Math.floor(e):Math.ceil(e)}function bi(e){return 4800*e/146097}function Di(e){return 146097*e/4800}function Oi(e){return function(){return this.as(e)}}var Pi=Oi("ms"),Li=Oi("s"),Mi=Oi("m"),Ri=Oi("h"),Ui=Oi("d"),ki=Oi("w"),Fi=Oi("M"),wi=Oi("Q"),xi=Oi("y");function Bi(e){return function(){return this.isValid()?this._data[e]:NaN}}var Hi=Bi("milliseconds"),Vi=Bi("seconds"),Gi=Bi("minutes"),qi=Bi("hours"),Yi=Bi("days"),Wi=Bi("months"),Ki=Bi("years");var ji=Math.round,Qi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function zi(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}var Xi=Math.abs;function $i(e){return(e>0)-(e<0)||+e}function Ji(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i,n,r,a,o,s,c=Xi(this._milliseconds)/1e3,l=Xi(this._days),d=Xi(this._months),u=this.asSeconds();return u?(e=Y(c/60),t=Y(e/60),c%=60,e%=60,i=Y(d/12),d%=12,n=c?c.toFixed(3).replace(/\.?0+$/,""):"",r=u<0?"-":"",a=$i(this._months)!==$i(u)?"-":"",o=$i(this._days)!==$i(u)?"-":"",s=$i(this._milliseconds)!==$i(u)?"-":"",r+"P"+(i?a+i+"Y":"")+(d?a+d+"M":"")+(l?o+l+"D":"")+(t||e||c?"T":"")+(t?s+t+"H":"")+(e?s+e+"M":"")+(c?s+n+"S":"")):"P0D"}var Zi=Ot.prototype;return Zi.isValid=function(){return this._isValid},Zi.abs=function(){var e=this._data;return this._milliseconds=Ti(this._milliseconds),this._days=Ti(this._days),this._months=Ti(this._months),e.milliseconds=Ti(e.milliseconds),e.seconds=Ti(e.seconds),e.minutes=Ti(e.minutes),e.hours=Ti(e.hours),e.months=Ti(e.months),e.years=Ti(e.years),this},Zi.add=function(e,t){return Ni(this,e,t,1)},Zi.subtract=function(e,t){return Ni(this,e,t,-1)},Zi.as=function(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=B(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,i=this._months+bi(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(Di(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},Zi.asMilliseconds=Pi,Zi.asSeconds=Li,Zi.asMinutes=Mi,Zi.asHours=Ri,Zi.asDays=Ui,Zi.asWeeks=ki,Zi.asMonths=Fi,Zi.asQuarters=wi,Zi.asYears=xi,Zi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*W(this._months/12):NaN},Zi._bubble=function(){var e,t,i,n,r,a=this._milliseconds,o=this._days,s=this._months,c=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*Ii(Di(s)+o),o=0,s=0),c.milliseconds=a%1e3,e=Y(a/1e3),c.seconds=e%60,t=Y(e/60),c.minutes=t%60,i=Y(t/60),c.hours=i%24,o+=Y(i/24),s+=r=Y(bi(o)),o-=Ii(Di(r)),n=Y(s/12),s%=12,c.days=o,c.months=s,c.years=n,this},Zi.clone=function(){return Ht(this)},Zi.get=function(e){return e=B(e),this.isValid()?this[e+"s"]():NaN},Zi.milliseconds=Hi,Zi.seconds=Vi,Zi.minutes=Gi,Zi.hours=qi,Zi.days=Yi,Zi.weeks=function(){return Y(this.days()/7)},Zi.months=Wi,Zi.years=Ki,Zi.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var i,n,r=!1,a=Qi;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(r=e),"object"==typeof t&&(a=Object.assign({},Qi,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),n=function(e,t,i,n){var r=Ht(e).abs(),a=ji(r.as("s")),o=ji(r.as("m")),s=ji(r.as("h")),c=ji(r.as("d")),l=ji(r.as("M")),d=ji(r.as("w")),u=ji(r.as("y")),p=a<=i.ss&&["s",a]||a<i.s&&["ss",a]||o<=1&&["m"]||o<i.m&&["mm",o]||s<=1&&["h"]||s<i.h&&["hh",s]||c<=1&&["d"]||c<i.d&&["dd",c];return null!=i.w&&(p=p||d<=1&&["w"]||d<i.w&&["ww",d]),(p=p||l<=1&&["M"]||l<i.M&&["MM",l]||u<=1&&["y"]||["yy",u])[2]=t,p[3]=+e>0,p[4]=n,zi.apply(null,p)}(this,!r,a,i=this.localeData()),r&&(n=i.pastFuture(+this,n)),i.postformat(n)},Zi.toISOString=Ji,Zi.toString=Ji,Zi.toJSON=Ji,Zi.locale=$t,Zi.localeData=Zt,Zi.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ji),Zi.lang=Jt,U("X",0,0,"unix"),U("x",0,0,"valueOf"),pe("x",ce),pe("X",/[+-]?\d+(\.\d{1,3})?/),ge("X",(function(e,t,i){i._d=new Date(1e3*parseFloat(e))})),ge("x",(function(e,t,i){i._d=new Date(W(e))})),
//! moment.js
i.version="2.29.1",e=Tt,i.fn=yi,i.min=function(){var e=[].slice.call(arguments,0);return bt("isBefore",e)},i.max=function(){var e=[].slice.call(arguments,0);return bt("isAfter",e)},i.now=function(){return Date.now?Date.now():+new Date},i.utc=p,i.unix=function(e){return Tt(1e3*e)},i.months=function(e,t){return _i(e,t,"months")},i.isDate=l,i.locale=rt,i.invalid=A,i.duration=Ht,i.isMoment=v,i.weekdays=function(e,t,i){return Si(e,t,i,"weekdays")},i.parseZone=function(){return Tt.apply(null,arguments).parseZone()},i.localeData=ot,i.isDuration=Pt,i.monthsShort=function(e,t){return _i(e,t,"monthsShort")},i.weekdaysMin=function(e,t,i){return Si(e,t,i,"weekdaysMin")},i.defineLocale=at,i.updateLocale=function(e,t){if(null!=t){var i,n,r=Je;null!=Ze[e]&&null!=Ze[e].parentLocale?Ze[e].set(b(Ze[e]._config,t)):(null!=(n=nt(e))&&(r=n._config),t=b(r,t),null==n&&(t.abbr=e),(i=new D(t)).parentLocale=Ze[e],Ze[e]=i),rt(e)}else null!=Ze[e]&&(null!=Ze[e].parentLocale?(Ze[e]=Ze[e].parentLocale,e===rt()&&rt(e)):null!=Ze[e]&&delete Ze[e]);return Ze[e]},i.locales=function(){return S(Ze)},i.weekdaysShort=function(e,t,i){return Si(e,t,i,"weekdaysShort")},i.normalizeUnits=B,i.relativeTimeRounding=function(e){return void 0===e?ji:"function"==typeof e&&(ji=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Qi[e]&&(void 0===t?Qi[e]:(Qi[e]=t,"s"===e&&(Qi.ss=t-1),!0))},i.calendarFormat=function(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},i.prototype=yi,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i})),define("moment",["moment/moment"],(function(e){return e})),
//! moment-timezone.js
//! version : 0.5.32
//! Copyright (c) JS Foundation and other contributors
//! license : MIT
//! github.com/moment/moment-timezone
function(e,t){"use strict";"object"==typeof module&&module.exports?module.exports=t(require("moment")):"function"==typeof define&&define.amd?define("moment-timezone",["moment"],t):t(e.moment)}(this,(function(e){"use strict";void 0===e.version&&e.default&&(e=e.default);var t,i={},n={},r={},a={},o={};e&&"string"==typeof e.version||O("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/");var s=e.version.split("."),c=+s[0],l=+s[1];function d(e){return e>96?e-87:e>64?e-29:e-48}function u(e){var t=0,i=e.split("."),n=i[0],r=i[1]||"",a=1,o=0,s=1;for(45===e.charCodeAt(0)&&(t=1,s=-1);t<n.length;t++)o=60*o+d(n.charCodeAt(t));for(t=0;t<r.length;t++)a/=60,o+=d(r.charCodeAt(t))*a;return o*s}function p(e){for(var t=0;t<e.length;t++)e[t]=u(e[t])}function m(e,t){var i,n=[];for(i=0;i<t.length;i++)n[i]=e[t[i]];return n}function f(e){var t=e.split("|"),i=t[2].split(" "),n=t[3].split(""),r=t[4].split(" ");return p(i),p(n),p(r),function(e,t){for(var i=0;i<t;i++)e[i]=Math.round((e[i-1]||0)+6e4*e[i]);e[t-1]=1/0}(r,n.length),{name:t[0],abbrs:m(t[1].split(" "),n),offsets:m(i,n),untils:r,population:0|t[5]}}function A(e){e&&this._set(f(e))}function g(e,t){this.name=e,this.zones=t}function E(e){var t=e.toTimeString(),i=t.match(/\([a-z ]+\)/i);"GMT"===(i=i&&i[0]?(i=i[0].match(/[A-Z]/g))?i.join(""):void 0:(i=t.match(/[A-Z]{3,5}/g))?i[0]:void 0)&&(i=void 0),this.at=+e,this.abbr=i,this.offset=e.getTimezoneOffset()}function y(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function h(e,t){for(var i,n;n=6e4*((t.at-e.at)/12e4|0);)(i=new E(new Date(e.at+n))).offset===e.offset?e=i:t=i;return e}function v(e,t){return e.offsetScore!==t.offsetScore?e.offsetScore-t.offsetScore:e.abbrScore!==t.abbrScore?e.abbrScore-t.abbrScore:e.zone.population!==t.zone.population?t.zone.population-e.zone.population:t.zone.name.localeCompare(e.zone.name)}function C(e,t){var i,n;for(p(t),i=0;i<t.length;i++)n=t[i],o[n]=o[n]||{},o[n][e]=!0}function _(e){var t,i,n,r=e.length,s={},c=[];for(t=0;t<r;t++)for(i in n=o[e[t].offset]||{})n.hasOwnProperty(i)&&(s[i]=!0);for(t in s)s.hasOwnProperty(t)&&c.push(a[t]);return c}function S(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e&&e.length>3){var t=a[T(e)];if(t)return t;O("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch(e){}var i,n,r,o=function(){var e,t,i,n=(new Date).getFullYear()-2,r=new E(new Date(n,0,1)),a=[r];for(i=1;i<48;i++)(t=new E(new Date(n,i,1))).offset!==r.offset&&(e=h(r,t),a.push(e),a.push(new E(new Date(e.at+6e4)))),r=t;for(i=0;i<4;i++)a.push(new E(new Date(n+i,0,1))),a.push(new E(new Date(n+i,6,1)));return a}(),s=o.length,c=_(o),l=[];for(n=0;n<c.length;n++){for(i=new y(I(c[n]),s),r=0;r<s;r++)i.scoreOffsetAt(o[r]);l.push(i)}return l.sort(v),l.length>0?l[0].zone.name:void 0}function T(e){return(e||"").toLowerCase().replace(/\//g,"_")}function N(e){var t,n,r,o;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)o=T(n=(r=e[t].split("|"))[0]),i[o]=e[t],a[o]=n,C(o,r[2].split(" "))}function I(e,t){e=T(e);var r,o=i[e];return o instanceof A?o:"string"==typeof o?(o=new A(o),i[e]=o,o):n[e]&&t!==I&&(r=I(n[e],I))?((o=i[e]=new A)._set(r),o.name=a[e],o):null}function b(e){var t,i,r,o;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)r=T((i=e[t].split("|"))[0]),o=T(i[1]),n[r]=o,a[r]=i[0],n[o]=r,a[o]=i[1]}function D(e){var t="X"===e._f||"x"===e._f;return!(!e._a||void 0!==e._tzm||t)}function O(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function P(t){var i=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1],r=I(n),a=e.utc.apply(null,i);return r&&!e.isMoment(t)&&D(a)&&a.add(r.parse(a),"minutes"),a.tz(n),a}(c<2||2===c&&l<6)&&O("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),A.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){var t,i=+e,n=this.untils;for(t=0;t<n.length;t++)if(i<n[t])return t},countries:function(){var e=this.name;return Object.keys(r).filter((function(t){return-1!==r[t].zones.indexOf(e)}))},parse:function(e){var t,i,n,r,a=+e,o=this.offsets,s=this.untils,c=s.length-1;for(r=0;r<c;r++)if(t=o[r],i=o[r+1],n=o[r?r-1:r],t<i&&P.moveAmbiguousForward?t=i:t>n&&P.moveInvalidForward&&(t=n),a<s[r]-6e4*t)return o[r];return o[c]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return O("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(e)]},utcOffset:function(e){return this.offsets[this._index(e)]}},y.prototype.scoreOffsetAt=function(e){this.offsetScore+=Math.abs(this.zone.utcOffset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr&&this.abbrScore++},P.version="0.5.32",P.dataVersion="",P._zones=i,P._links=n,P._names=a,P._countries=r,P.add=N,P.link=b,P.load=function(e){N(e.zones),b(e.links),function(e){var t,i,n,a;if(e&&e.length)for(t=0;t<e.length;t++)i=(a=e[t].split("|"))[0].toUpperCase(),n=a[1].split(" "),r[i]=new g(i,n)}(e.countries),P.dataVersion=e.version},P.zone=I,P.zoneExists=function e(t){return e.didShowError||(e.didShowError=!0,O("moment.tz.zoneExists('"+t+"') has been deprecated in favor of !moment.tz.zone('"+t+"')")),!!I(t)},P.guess=function(e){return t&&!e||(t=S()),t},P.names=function(){var e,t=[];for(e in a)a.hasOwnProperty(e)&&(i[e]||i[n[e]])&&a[e]&&t.push(a[e]);return t.sort()},P.Zone=A,P.unpack=f,P.unpackBase60=u,P.needsOffset=D,P.moveInvalidForward=!0,P.moveAmbiguousForward=!1,P.countries=function(){return Object.keys(r)},P.zonesForCountry=function(e,t){var i;if(i=(i=e).toUpperCase(),!(e=r[i]||null))return null;var n=e.zones.sort();return t?n.map((function(e){return{name:e,offset:I(e).utcOffset(new Date)}})):n};var L,M=e.fn;function R(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function U(e){return function(){return this._z=null,e.apply(this,arguments)}}e.tz=P,e.defaultZone=null,e.updateOffset=function(t,i){var n,r=e.defaultZone;if(void 0===t._z&&(r&&D(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(r.parse(t),"minutes")),t._z=r),t._z)if(n=t._z.utcOffset(t),Math.abs(n)<16&&(n/=60),void 0!==t.utcOffset){var a=t._z;t.utcOffset(-n,i),t._z=a}else t.zone(n,i)},M.tz=function(t,i){if(t){if("string"!=typeof t)throw new Error("Time zone name must be a string, got "+t+" ["+typeof t+"]");return this._z=I(t),this._z?e.updateOffset(this,i):O("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},M.zoneName=R(M.zoneName),M.zoneAbbr=R(M.zoneAbbr),M.utc=U(M.utc),M.local=U(M.local),M.utcOffset=(L=M.utcOffset,function(){return arguments.length>0&&(this._z=null),L.apply(this,arguments)}),e.tz.setDefault=function(t){return(c<2||2===c&&l<9)&&O("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?I(t):null,e};var k=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(k)?(k.push("_z"),k.push("_a")):k&&(k._z=null),e})),define("profileArea/sharedLib/investmentsLib/investmentsUtility",["require","common/lib/accountsUtility","blue-ui/utilities/common","common/lib/flyout/flyoutUtility","profileArea/sharedLib/investmentsLib/constants","blue/siteMode","blue/is","mout/number/currencyFormat","appkit-utilities/formatters/number","appkit-utilities/dataSet/util","common/lib/variation","common/lib/ada/setFocus","appkit-utilities/accountInfo/accountInfo","appkit-utilities/formatters/number","appkit-utilities/content/dcu","blue-app/cache/sessionCache","blue/util","moment-timezone","common/lib/momentTimeZoneData"],(function(e){"use strict";var t=e("common/lib/accountsUtility"),i=e("blue-ui/utilities/common"),n=e("common/lib/flyout/flyoutUtility"),r=e("profileArea/sharedLib/investmentsLib/constants"),a=e("blue/siteMode"),o=e("blue/is"),s=e("mout/number/currencyFormat"),c=e("appkit-utilities/formatters/number"),l=e("appkit-utilities/dataSet/util"),d=e("common/lib/variation"),u=e("common/lib/ada/setFocus"),p=e("appkit-utilities/accountInfo/accountInfo"),m=e("appkit-utilities/formatters/number"),f=e("appkit-utilities/content/dcu").dynamicContent.getGlobal,A=e("blue-app/cache/sessionCache"),g=e("blue/util").object,E=window.hybrid,y=r.INVESTMENT_ACCOUNT_TYPES,h=e("moment-timezone");h.tz.add(e("common/lib/momentTimeZoneData")["America/New_York"]);var v=function(e){return e<0},C=function(e){return e>0},_=function(e,t,i){var n=e/t,r=n+"",a=r.indexOf(".");return r=a>0?parseInt(n)+r.substr(a,3)+i:parseInt(n)+i},S=function(e){return d("investments","GLOBAL_INVESTMENTS",e)},T=function(e){return o.number(parseInt(e))},N=function(e,t){var i=e.hybridHelper&&e.hybridHelper.webNativeMessenger,n=function(){return!1},r={BACK:n},a={isHybridBackButtonRequired:n};i&&(i.updateNativeNavigationBar(t),i.setShouldNativeHandleButtonPressedCallBack((function(e){return r[e]&&!r[e]()}),a))};const I=function(e){let t={showHamburgerMenu:!1,showCancel:!1,showBackArrow:!1,showClose:!1,showExitConfirmationOverlay:!1,showProfileSettings:!1};return e&&"object"==typeof e&&(t=Object.assign({},t,e)),t};return{getSiteMode:function(e){return a&&a.isModeEnabled(e)||!1},getColor:function(e){return isNaN(parseFloat(e))?"":v(e)?"valueNegative":C(e)?"valuePositive":"valueNoChange"},getGainOrLossAdaText:function(e){return isNaN(parseFloat(e))?"":v(e)?S("lossAda"):C(e)?S("gainAda"):""},getArrow:function(e){return v(e)?"angledown":C(e)?"angleup":""},getId:function(e){if(e)return e.replace(/[^a-zA-Z0-9]/g,"")},refreshHeader:function(){this.set&&this.set("refresh",!1),this.set&&this.set("refresh",!0)},currencyFormat:function(e,i){return isNaN(parseFloat(e))?r.NO_VALUE:(i=void 0===i||i)?t.currencyFormat(e).replace(r.SYMBOLS.ENDASH,r.SYMBOLS.HYPHEN):s(e).replace(/-/,r.SYMBOLS.HYPHEN)},currencyFormatter:function(e,t){return T(e)?(0===e&&t&&t.requireSign&&(t.requireSign=!1),c.currencyFormatter(e,t)):r.NO_VALUE},getDecimalLength:function(e,t,i){if(isNaN(parseFloat(e)))return r.NO_VALUE;!t&&(t=5),!i&&(i=2);var n=(""+e).split(".")[1],a=n?n.length:i;return a>t&&(a=t),a<i&&(a=i),a},blueInputCurrencyFormat:function(e,t,i){for(var n,r=e.context.value,a=e.domEvent.key,o=0,c=r.length-1;c>=0;c--)"."===r[c]&&(n||(n=c),o++);if("."===a&&i){if(o<=1)return;r=r.slice(0,n)+r.slice(n+1,r.length)}return e.context.maxLength&&(r=r.slice(0,e.context.maxLength+1)),r=r.trim().replace(/[^0-9.]/g,""),i&&(i=r.split(".").length>1?r.split(".")[1].length:0,i=Math.min(2,i)),function(e,t,i,n){var r;return""!==e&&(e=Math.abs(e),r=s(e,t||0)),void 0!==e&&"NaN"!==r&&"Not available"!==r||(r=null),n.model.set(i.context.name,r||""),r}(r,i,e,t)},marketDataFormat:function(e,t,i,n){var a={decimalPlaces:this.getDecimalLength(e,t,i),dollarSign:n,exceptionValue:r.NO_VALUE};return c.currencyFormatter(e,a)},percentileFormat:function(e){return isNaN(e)||null===e?r.NO_VALUE:t.percentileFormat(e)},gainLossAmount:function(e){return e>0?r.MATH.plus+this.currencyFormat(e,!1):this.currencyFormat(e,!1)},gainLossPercent:function(e){return e>0?r.MATH.plus+this.percentileFormat(e,!1):this.percentileFormat(e,!1)},dollarShortener:function(e){if(isNaN(parseFloat(e)))return r.NO_VALUE;var i=parseInt(e),n=(i+"").length,a="$";e<0&&(n--,a="-$",i=Math.abs(i));var o={4:function(e){return _(e,1e3,"K")},7:function(e){return _(e,1e6,"M")},10:function(e){return _(e,1e9,"B")},default:function(){return Math.abs(e)}};return o[6]=o[5]=o[4],o[9]=o[8]=o[7],o[12]=o[11]=o[10],'<span class="hide-lg">'+a+(o[n]||o.default).call(this,i)+'</span><span class="hide-xs-only hide-md-only hide-sm-only">'+t.currencyFormat(e).replace(r.SYMBOLS.ENDASH,r.SYMBOLS.HYPHEN)+"</span>"},setNullValueDash:function(e){return e||r.NO_VALUE},stringOrDoubleHyphen:function(e){return(e||"").trim()||r.SYMBOLS.DOUBLEHYPHEN},checkZeroValue:function(e){return!(0!==e&&!isNaN(parseFloat(e)))},setZeroValueDash:function(){return r.SYMBOLS.DOUBLEHYPHEN},instrumentIdShortener:function(e,t,i){if("string"!=typeof e)return e;var n=i||12;return e.length>n&&(e=t?'<span class="hide-md description-link">'+e.substr(0,n)+'&hellip;</span><span class="hide-xs-only hide-sm-only wrap">'+e+"</span>":'<span class="hide-lg">'+e.substr(0,n)+'&hellip;</span><span class="show-lg-only">'+e+"</span>"),e},instrumentIdValueShortener:function(e,t){return e&&e.length>t?e.substr(0,t):e},getLeftBorderColor:function(e,t,i){var n="";return n="ALL"===i?e:t,r.COLOR_MAPPER[n]},getSecurityName:function(e,t,i){return"ALL"===i?e:t},investmentsHeaderName:function(e){var t=e,i=t.indexOf("(");return-1===i?t:t.slice(0,i)},investmentsHeaderId:function(e){var t=e,i="",n=t.indexOf("(");return-1!==n&&(i=t.slice(n)),i},formatDate:function(e,t,i,n){return t=t||"YYYYMMDD",i=i||"L",n=n||"--",e?h(e,t).format(i):n},formatDateTime:function(e,t){return t=t||"MM/DD/YYYY h:mm:ss A [ET]",e?h(e).tz("America/New_York").format(t):r.NO_VALUE},costIndicatorName:function(e){return r.COST_INDICATORS[e]||""},setCostIndicators:function(e){var t,i=r.COST_INDICATORS;return!(!e||!e.length)&&(t=e.reduce((function(e,t){return e[t]=!0,e}),{}),Object.keys(i).filter((function(e){return t[e]})).map((function(e){return i[e]})).join(","))},isAnchorClicked:function(e){var t=e.domEvent.target.nodeName;return t&&"A"===t.toUpperCase()},showRow:function(e,t,i){return!e||!t.some((e=>isNaN(parseFloat(e[i]))))},getTableRowClass:function(e,t){return e&&e===t?"no bottom border":"solid top border"},getTableCellClass:function(e,t){var i="";return e===t&&(i="grouped top border"),i},quantityFormat:function(e){if(void 0===e||""===e)return r.NO_VALUE;var t=e.toString().split("."),i=t[0],n=t[1];return i.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$&,")+(n?"."+n:"")},addCommas:function(e){if(void 0===e||""===e)return r.NO_VALUE;var t=e.toString().split(".")[0],i=e.toString().split(".")[1],n=void 0===i?2:i.length;return i=parseFloat(e).toFixed(Math.max(n,2)).toString().split(".")[1],t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$&,")+"."+i},roundToXDecimalPlaces:function(e,t){if(isNaN(parseFloat(e)))return r.NO_VALUE;var i=e.toString().split(".")[1];return i&&i.length>=t?parseFloat(e).toFixed(t):e},convertToFourDecimals:function(e){return isNaN(parseFloat(e))?r.NO_VALUE:parseFloat(e).toFixed(4).replace(/\d(?=(\d{3})+\.)/g,"$&,")},numberFormatter:function(e){return isNaN(parseFloat(e))?e:Number(e).toLocaleString()},setFeatureData:function(e,t,i){this[e]=this[e]||{},this[e]=i.util.object.merge(this[e],t)},getFeatureData:function(e){return this[e]},sortModel:function(e,t,i){var n=this.context.util.object.deepClone(this[e]);return l.sort(n,t,"asc"===i)},setStoreData:function(e,t){return this.store||(this.store={}),this.store[e]=t,t},getStoreData:function(e){return this.store||(this.store={}),this.store[e]},isZeroCostBasis:function(e){return e===r.IS_ZERO_COST_BASIS.VALUE},isSpaceOrEnterKey:function(e){if(!e)return!1;var t=e.keyCode?e.keyCode:e.domEvent.keyCode;return 32===t||13===t},scrollToTopOfPage:function(){setTimeout((function(){window.scroll({top:0,behavior:"smooth"})}))},resetPositionTitle:function(e,t){if(E){var i=f("horizontalEllipsisSymbol"),n=r.SYMBOL.horizontalEllipsisSymbol;e&&e.indexOf(n)&&(e=e.replace(n,i));const a=I({showBackArrow:!0,pageTitle:e,showProfileSettings:!!t});N(this.context,a)}},createDCUObject:function(e,t,i){var n={key:e,variation:t};return i&&(n.props=i),n},isMarginOrOlympicAccount:function(e){return!(!e||!e.detailType)&&!!r.MARGIN_OLYMPIC_VALUES_SET.includes(e.detailType)},isMAR:function(e){return e&&e.detailType&&e.detailType===r.MARGIN_OLYMPIC_MAPPER.MARGIN},isSCPP:function(e){return e&&e.detailType&&(e.detailType===y.WR2||e.detailType===y.BR2)},isMobileOrXs:function(){var e="xs"===i.getBreakpoint();return i.isMobile()||e},isMobileAndXS:function(){var e="xs"===i.getBreakpoint();return i.isMobile()&&e},isHybridOrXS:function(){var e="xs"===i.getBreakpoint();return E||e},getLOBBrand:function(e){var t={PVB:r.BRAND_TYPES.JPO,WTH:r.BRAND_TYPES.JPO,PCB:r.BRAND_TYPES.JPO,OTHER:r.BRAND_TYPES.CPO};return t[e]||t.OTHER},getValue:function(e,t,i){if(!e||"object"!=typeof e||!t)return i;var n=g.get(e,t);return void 0!==n?n:i},flyoutCloseCheck:function(e,t,i){var r="overviewFlyoutLastRoute";if(n.isFlyout(e.context.routeToObject()))return e.model.set(t,!1),e.model.set(r,""),!0;var a=e.model.get(t);if(!a){var o=e.context.routeHistory.lastRoute(),s=o&&o.split(";flyout=")[1],c=s&&s.split(",")[0];if(e.model.get(r)&&o===e.model.get(r))return e.model.set(r,""),!0;o&&i.includes(c)&&e.model.set(r,o)}return e.model.set(t,!1),a},checkAltAssetEligibility:function(e,t,i){if(e.hybrid)return!1;const{userInfo:n}=e,r=new p({profileType:n.profileType,segmentType:n.segment,userType:n.userType}).isGWMUser();let a=!(!i.hasOmniAccount&&!i.omni),o=e.application.cpoAltAssetPortalEnabled;return a&&(r||o)&&this.hasAlternativeAssets(t)},isUserEligibleForAltAssetPortal:function(e,t){const{userInfo:i}=e,n=new p({profileType:i.profileType,segmentType:i.segment,userType:i.userType}).isGWMUser();let r=!(!t.hasOmniAccount&&!t.omni),a=e.application.cpoAltAssetPortalEnabled;return r&&(n||a)},hasAlternativeAssets:function(e){return this.getValue(e.portfolioSummary,"allocations",[]).some((function(e){return e.allocationClass===r.ALTERNATIVES}))},unMask:function(e,t,i){return(e||"")+(t&&t.length>4?t:i+t)},setDisclosures:function(e){var t,i=e.state().action.name,n=e.state().controller.name+i;t=r.PAGE_SPECIFIC_DISCLOSURES[n],e.privateState(r.INVESTMENT_DISCLOSURES_PRIVATE_STATE,{target:"#investmentDisclosures",version:"",identifierList:JSON.stringify(t)})},prependPlusToPositiveValue:function(e){return e||0===e?(C(e)&&(e="+"+e),String(e)):r.NO_VALUE},isZeroValue:function(e){return Boolean(0===e||e&&0===Number(e))},setFocusOnPageLoad:function(){var e="xs"===i.getBreakpoint();u(e?"#bottom-level-main-nav .list-item.active span":"#navMenuHiddenH1")},showBackButtonInHybrid:function(e){if(e.hybrid){const t=I({showBackArrow:!0});N(e,t)}},isMenuPrivilegeAvailable:function(e,t){var i="service-"+t+"/svc/rr/accounts/secure/v1/menu/list?context=cxo_nav_menu",n=A.get(i),r=n&&g.get(n,"response.menuItems");return r&&r.some((function(t){return t.name===e}))},isSortedByHeader:function(e,t){return e?t&&-1===t.indexOf(e)?null:"":null},decimalFormatter:function(e,t){if(!T(e))return r.NO_VALUE;t=t||{};var i=e.toString().split(".")[1],n=void 0===i?2:i.length;return n=Math.max(n,2),t.decimalPlaces=n,m.decimalFormatter(e,t)},percentageFormatter:function(e,t){return T(e)?this.decimalFormatter(e,t)+f("percentageSymbol"):r.NO_VALUE},cashSweepCostFormat:function(e){return T(e)?this.decimalFormatter(e):""},getPositionsColSpan:function(e,t,i,n){return e?("sm"===n&&(e-=1),t&&(e+=1),i&&(e+=1),e):0},getInvestmentsGlobalContent:S,getNativeNavControlParams:I,setFocusWithDelay:function(e,t){"number"!=typeof t||t<0||setTimeout((()=>{const t=document.getElementById(e);t&&t.focus()}),t)},getFormattedUserDatePreference:function(e){if(!e)return{};const t=e.svcFormattedDate;return t?{intradayUpdateIndicator:!1,asOfDate:h(t).format("YYYY-MM-DD")}:{intradayUpdateIndicator:e.intraDay}},getFormattedUserDatePreferenceForGetRequest:function(e){if(!e)return{};const t=e.svcFormattedDate;return t?{"intraday-update-indicator":!1,"as-of-date":h(t).format("YYYYMMDD")}:{"intraday-update-indicator":e.intraDay}},getErrorCodeFromExperienceService:function(e){return Array.isArray(e)&&e[0]?e[0].serviceErrorCode:""},getMdsIllustrationImageSource:function({cq5Host:e,minBreakpoint:t=0,illustrationName:i,width:n="48px",height:r="48px"}){return[{minBreakpoint:t,imageSource:`${function(e){const t=window.clientEnvProps&&window.clientEnvProps["cxo.assorted.dependencies.enabled"]||"{}";return`${e}/web/library${JSON.parse(t)["@mds/web-illustrations"]||""}/dist/${window.MDS&&"j"===window.MDS.brand[0]?"jmb":"cmb"}/svgs/`}(e)}${i}.svg`,width:n,height:r}]}}})),define("profileArea/sharedLib/investmentsLib/investmentErrorConstants",[],(function(){"use strict";var e={positions:"positions",positionDetail:"positionDetail",positionTaxlots:"positionTaxlots",transactions:"transactions",accountDetails:"accountDetails",positionDripDetails:"positionDripDetails",assetClass:"assetClass",positionDetailSummary:"positionDetailSummary",marketNews:"marketNews",cashSweepFundsDetails:"cashSweepFundsDetails"},t={SYSTEM_FAILURE:"SYSTEM_FAILURE",NO_POSITIONS_RETURNED:"NO_POSITIONS_RETURNED",NO_RESULTS_FOUND:"NO_RESULTS_FOUND",noPositionsMessage:"noPositionsMessage",NO_DATA:"",NOT_MAPPED:"NOT_MAPPED",PRIVATE_BANK_SERVICE_ERROR:"PRIVATE_BANK_SERVICE_ERROR",EXCEEDED_MAXIMUM_POSITIONS_ALLOWED:"EXCEEDED_MAXIMUM_POSITIONS_ALLOWED",EXCEEDED_MAXIMUM_ACCOUNTS_ALLOWED:"EXCEEDED_MAXIMUM_ACCOUNTS_ALLOWED",BROKERAGE_TECHNOLOGY_SERVICE_ERROR:"BROKERAGE_TECHNOLOGY_SERVICE_ERROR",ACCOUNT_DOES_NOT_EXIST:"ACCOUNT_DOES_NOT_EXIST",PENDING_JPMORGAN_SECURITIES_BATCH:"PENDING_JPMORGAN_SECURITIES_BATCH",PENDING_JP_MORGAN_SECURITIES_AND_PRIVATE_BANK_BATCH:"PENDING_JP_MORGAN_SECURITIES_AND_PRIVATE_BANK_BATCH",PENDING_PRIVATE_BANK_BATCH:"PENDING_PRIVATE_BANK_BATCH",PRIVATE_BANK_INTRADAY_AND_PENDING_TRANSACTIONS_NOT_AVAILABLE:"PRIVATE_BANK_INTRADAY_AND_PENDING_TRANSACTIONS_NOT_AVAILABLE",EXCEEDED_MAXIMUM_TRANSACTIONS_ALLOWED:"EXCEEDED_MAXIMUM_TRANSACTIONS_ALLOWED",PENDING_JP_MORGAN_SECURITIES_BATCH:"PENDING_JP_MORGAN_SECURITIES_BATCH",NO_OR_PARTIAL_TRANSACTIONS_AVAILABLE:"NO_OR_PARTIAL_TRANSACTIONS_AVAILABLE",POSITION_PURCHASE_NO_TAX_LOTS:"POSITION_PURCHASE_NO_TAX_LOTS",JPMCC_SYSTEM_NOT_AVAILABLE:"JPMCC_SYSTEM_NOT_AVAILABLE",EXCEEDED_MAXIMUM_POSITIONS_ALLOWED_EXTRA_SMALL_VIEW_PORT:"EXCEEDED_MAXIMUM_POSITIONS_ALLOWED_EXTRA_SMALL_VIEW_PORT",EXCEEDED_MAXIMUM_TAX_LOTS_ALLOWED_EXTRA_SMALL_VIEW_PORT:"EXCEEDED_MAXIMUM_TAX_LOTS_ALLOWED_EXTRA_SMALL_VIEW_PORT",POSITIONS_CANNOT_BE_EXPORTED:"POSITIONS_CANNOT_BE_EXPORTED",POSITIONS_CANNOT_BE_EXPORTED_EXTRA_SMALL_VIEW_PORT:"POSITIONS_CANNOT_BE_EXPORTED_EXTRA_SMALL_VIEW_PORT",EXCEEDED_MAXIMUM_TAX_LOTS_ALLOWED:"EXCEEDED_MAXIMUM_TAX_LOTS_ALLOWED",TAX_LOT_POSITIONS_CANNOT_BE_EXPORTED:"TAX_LOT_POSITIONS_CANNOT_BE_EXPORTED",TAX_LOT_EXPORT_SERVICE_FAILURE:"TAX_LOT_EXPORT_SERVICE_FAILURE",POSITIONS_EXPORT_SERVICE_FAILURE:"POSITIONS_EXPORT_SERVICE_FAILURE",EXCEEDED_MAXIMUM_TRANSACTIONS_ALLOWED_EXTRA_SMALL_VIEW_PORT:"EXCEEDED_MAXIMUM_TRANSACTIONS_ALLOWED_EXTRA_SMALL_VIEW_PORT",TAXLOT_INFORMATION_NOT_UPDATED:"TAXLOT_INFORMATION_NOT_UPDATED",UNSUPPORTED_ACCOUNTS_IN_GROUP:"UNSUPPORTED_ACCOUNTS_IN_GROUP"},i={SUCCESS:"SUCCESS",SERVICE_ERROR:"SERVICE_ERROR",WARNING:"WARNING"},n={EXCEEDED_MAXIMUM_POSITIONS_ALLOWED:"3543",JUMBOUSER_CODE:"3543",UNABLE_EXPORT_CODE:"3666",PENDING_JP_MORGAN_SECURITIES_BATCH:"3893",PENDING_JP_MORGAN_SECURITIES_AND_PRIVATE_BANK_BATCH:"3894",PENDING_PRIVATE_BANK_BATCH:"3993",JPMCC_SYSTEM_NOT_AVAILABLE:"3997",UNABLE_EXPORT_CODE_XS:"3666_xs",EXPORT_SERVICE_FAILURE:"3666_serviceFailure",EXPORT_SERVICE_FAILURE_XS:"3666_serviceFailure_xs",POSITION_JUMBOUSER_CODE:"3543_positions",POSITION_JUMBOUSER_CODE_XS:"3543_positions_xs",ASSET_CLASS_JUMBOUSER_CODE:"3543_assetClass",ASSET_CLASS_JUMBOUSER_CODE_XS:"3543_assetClass_xs",TRANSACTIONS_JUMBOUSER_CODE:"3543_transactions",TRANSACTIONS_JUMBOUSER_CODE_XS:"3543_transactions_xs",TAX_LOTS_JUMBOUSER_CODE:"3543_taxlots",TAX_LOTS_JUMBOUSER_CODE_XS:"3543_taxlots_xs",UNABLE_EXPORT_TAXLOTS_CODE:"3666_taxlots",TAX_LOTS_EXPORT_SERVICE_FAILURE:"3666_serviceFailure_taxlots",NO_POSITIONS_CODE:"3981",UNSUPPORTED_ACCOUNTS_IN_GROUP:"3999"};return{variationsMapper:{accountDetails:{component:"accountDetails",softStatusCodes:["ACCOUNT_NOR_MUTUAL_FUNDS_SET","NO_EQUITY_WITH_ACCOUNT_NOR_MUTUAL_FUNDS_SET","ACCOUNT_NOR_EQUITY_SET","NO_MUTUAL_FUNDS_WITH_ACCOUNT_NOR_EQUITY_SET","ACCOUNT_NOT_SET","NO_EQUITY_OR_MUTUAL_FUNDS_WITH_ACCOUNT_NOT_SET","NO_ACCOUNT_WITH_EQUITY_NOR_MUTUAL_FUNDS_SET","EQUITY_NOR_MUTUAL_FUNDS_SET","NO_ACCOUNT_WITH_MUTUAL_FUNDS_NOT_SET","NO_ACCOUNT_OR_EQUITY_WITH_MUTUAL_FUNDS_NOT_SET","NO_EQUITY_WITH_MUTUAL_FUNDS_NOT_SET","MUTUAL_FUNDS_NOT_SET","NO_ACCOUNT_WITH_EQUITY_NOT_SET","NO_ACCOUNT_OR_MUTUAL_FUNDS_WITH_EQUITY_NOT_SET","NO_MUTUAL_FUNDS_WITH_EQUITY_NOT_SET","EQUITY_NOT_SET","ACCOUNT_NOR_EQUITY_NOR_MUTUAL_FUNDS_SET"],criticalStatusCodes:[],defaultCodeVariation:t.NOT_MAPPED,keys:[{type:i.SERVICE_ERROR,header:"myInvestmentDistrbutionSettingsErrorHeader",advisory:"myInvestmentDistributionSettingsErrorAdvisory"},{type:i.WARNING,header:"myInvestmentDistrbutionSettingsErrorHeader",advisory:"myInvestmentDistributionSettingsErrorAdvisory"}]},positionDripDetails:{component:"",softStatusCodes:["MUTUAL_FUNDS_UNAVAILABLE","EQUITIES_UNAVAILABLE"],criticalStatusCodes:[],defaultCodeVariation:t.NOT_MAPPED,keys:[{type:i.SERVICE_ERROR,header:"myInvestmentDistrbutionSettingsErrorHeader",advisory:"myInvestmentDistributionSettingsErrorAdvisory"},{type:i.WARNING,header:"myInvestmentDistrbutionSettingsErrorHeader",advisory:"myInvestmentDistributionSettingsErrorAdvisory"}]},positions:{component:"investmentPositionsComponent",softStatusCodes:[t.PENDING_JP_MORGAN_SECURITIES_BATCH,t.PENDING_JP_MORGAN_SECURITIES_AND_PRIVATE_BANK_BATCH,t.PENDING_PRIVATE_BANK_BATCH,t.POSITION_PURCHASE_NO_TAX_LOTS,t.JPMCC_SYSTEM_NOT_AVAILABLE,t.TAXLOT_INFORMATION_NOT_UPDATED],criticalStatusCodes:[],defaultCodeVariation:t.NOT_MAPPED,keys:[{type:i.WARNING,header:"investmentPositionsCommunicationHeader",advisory:"investmentPositionsCommunicationAdvisory"},{type:i.SERVICE_ERROR,header:"investmentPositionsErrorHeader",advisory:"investmentPositionsErrorAdvisory"}]},positionDetail:{component:"positionDetailComponent",softStatusCodes:[t.PENDING_JP_MORGAN_SECURITIES_AND_PRIVATE_BANK_BATCH,t.PENDING_JP_MORGAN_SECURITIES_BATCH,t.PENDING_PRIVATE_BANK_BATCH],criticalStatusCodes:[],defaultCodeVariation:t.SYSTEM_FAILURE,keys:[{type:i.SERVICE_ERROR,header:"investmentPositionDetailsErrorHeader",advisory:"investmentPositionDetailsErrorAdvisory"},{type:i.WARNING,header:"investmentPositionDetailsCommunicationHeader",advisory:"investmentPositionDetailsCommunicationAdvisory"}]},positionTaxlots:{module:e.positionTaxlots,component:"positionTaxlotComponent",softStatusCodes:[t.PENDING_JP_MORGAN_SECURITIES_AND_PRIVATE_BANK_BATCH,t.PENDING_JP_MORGAN_SECURITIES_BATCH,t.PENDING_PRIVATE_BANK_BATCH,t.POSITION_PURCHASE_NO_TAX_LOTS],criticalStatusCodes:[],defaultCodeVariation:t.SYSTEM_FAILURE,keys:[{type:i.SERVICE_ERROR,header:"investmentPositionTaxLotsErrorHeader",advisory:"investmentPositionTaxLotsErrorAdvisory"},{type:i.WARNING,header:"investmentPositionTaxLotsCommunicationHeader",advisory:"investmentPositionTaxLotsCommunicationAdvisory"}]},positionDetailSummary:{module:e.positionDetailSummary,component:"positionDetailSummary",softStatusCodes:[],criticalStatusCodes:[],defaultCodeVariation:t.SYSTEM_FAILURE,keys:[{type:i.SERVICE_ERROR,header:"assetSummaryErrorHeader",advisory:"assetSummaryErrorAdvisory"}]},marketNews:{module:e.marketNews,component:"marketNews",softStatusCodes:[],criticalStatusCodes:[],defaultCodeVariation:t.SYSTEM_FAILURE,keys:[{type:i.SERVICE_ERROR,header:"marketNewsErrorHeader",advisory:"marketNewsErrorAdvisory"}]},transactions:{component:"investmentTransactionsFilterComponent",softStatusCodes:[t.PENDING_JP_MORGAN_SECURITIES_AND_PRIVATE_BANK_BATCH,t.PENDING_PRIVATE_BANK_BATCH,t.EXCEEDED_MAXIMUM_TRANSACTIONS_ALLOWED,t.PENDING_JP_MORGAN_SECURITIES_BATCH,t.PRIVATE_BANK_INTRADAY_AND_PENDING_TRANSACTIONS_NOT_AVAILABLE,t.NO_OR_PARTIAL_TRANSACTIONS_AVAILABLE],criticalStatusCodes:[t.BROKERAGE_TECHNOLOGY_SERVICE_ERROR],defaultCodeVariation:t.SYSTEM_FAILURE,keys:[{type:i.WARNING,header:"investmentTransactionActivityCommunicationHeader",advisory:"investmentTransactionActivityCommunicationAdvisory"},{type:i.SERVICE_ERROR,header:"investmentTransactionActivityErrorHeader",advisory:"investmentTransactionActivityErrorAdvisory"}]},assetClass:{module:e.assetClass,component:"assetClassFilter",softStatusCodes:[t.PENDING_JP_MORGAN_SECURITIES_BATCH,t.PENDING_JP_MORGAN_SECURITIES_AND_PRIVATE_BANK_BATCH,t.PENDING_PRIVATE_BANK_BATCH,t.EXCEEDED_MAXIMUM_POSITIONS_ALLOWED,t.EXCEEDED_MAXIMUM_POSITIONS_ALLOWED_EXTRA_SMALL_VIEW_PORT,t.JPMCC_SYSTEM_NOT_AVAILABLE],batchErrorCodes:[t.PENDING_JP_MORGAN_SECURITIES_BATCH,t.PENDING_JP_MORGAN_SECURITIES_AND_PRIVATE_BANK_BATCH,t.PENDING_PRIVATE_BANK_BATCH],allowedIssueCodes:[n.JUMBOUSER_CODE,n.PENDING_JP_MORGAN_SECURITIES_BATCH,n.PENDING_JP_MORGAN_SECURITIES_AND_PRIVATE_BANK_BATCH,n.PENDING_PRIVATE_BANK_BATCH,n.NO_POSITIONS_CODE],criticalStatusCodes:[],defaultCodeVariation:t.NOT_MAPPED,keys:[{type:i.WARNING,header:"investmentAssetClassesFilterCommunicationHeader",advisory:"investmentAssetClassesFilterCommunicationAdvisory"},{type:i.SERVICE_ERROR,header:"investmentAssetClassesFilterErrorHeader",advisory:"investmentAssetClassesFilterErrorAdvisory"}]},cashSweepFundsDetails:{module:e.cashSweepFundsDetails,component:"cashSweepFundsDetails",softStatusCodes:[t.NO_RESULTS_FOUND,t.PENDING_JP_MORGAN_SECURITIES_AND_PRIVATE_BANK_BATCH,t.PENDING_JP_MORGAN_SECURITIES_BATCH,t.PENDING_PRIVATE_BANK_BATCH],criticalStatusCodes:[],defaultCodeVariation:t.SYSTEM_FAILURE,keys:[{type:i.WARNING,header:"investmentPositionDetailsCommunicationHeader",advisory:"investmentPositionDetailsCommunicationAdvisory"},{type:i.SERVICE_ERROR,header:"investmentPositionDetailsErrorHeader",advisory:"investmentPositionDetailsErrorAdvisory"}]}},dripStatusCodeMapper:{4054:"ACCOUNT_NOR_MUTUAL_FUNDS_SET",4055:"NO_EQUITY_WITH_ACCOUNT_NOR_MUTUAL_FUNDS_SET",4056:"ACCOUNT_NOR_EQUITY_SET",4057:"NO_MUTUAL_FUNDS_WITH_ACCOUNT_NOR_EQUITY_SET",4058:"ACCOUNT_NOT_SET",4059:"NO_EQUITY_OR_MUTUAL_FUNDS_WITH_ACCOUNT_NOT_SET",4060:"NO_ACCOUNT_WITH_EQUITY_NOR_MUTUAL_FUNDS_SET",4061:"EQUITY_NOR_MUTUAL_FUNDS_SET",4062:"NO_ACCOUNT_WITH_MUTUAL_FUNDS_NOT_SET",4063:"NO_ACCOUNT_OR_EQUITY_WITH_MUTUAL_FUNDS_NOT_SET",4064:"NO_EQUITY_WITH_MUTUAL_FUNDS_NOT_SET",4065:"MUTUAL_FUNDS_NOT_SET",4066:"NO_ACCOUNT_WITH_EQUITY_NOT_SET",4068:"NO_ACCOUNT_OR_MUTUAL_FUNDS_WITH_EQUITY_NOT_SET",4069:"NO_MUTUAL_FUNDS_WITH_EQUITY_NOT_SET",4070:"EQUITY_NOT_SET",4071:"ACCOUNT_NOR_EQUITY_NOR_MUTUAL_FUNDS_SET"},issueCodeMapper:{3893:t.PENDING_JP_MORGAN_SECURITIES_BATCH,3894:t.PENDING_JP_MORGAN_SECURITIES_AND_PRIVATE_BANK_BATCH,3993:t.PENDING_PRIVATE_BANK_BATCH,3997:t.JPMCC_SYSTEM_NOT_AVAILABLE,3543:t.EXCEEDED_MAXIMUM_POSITIONS_ALLOWED,"3543_xs":t.EXCEEDED_MAXIMUM_POSITIONS_ALLOWED_EXTRA_SMALL_VIEW_PORT,"3543_positions":t.EXCEEDED_MAXIMUM_POSITIONS_ALLOWED,"3543_positions_xs":t.EXCEEDED_MAXIMUM_POSITIONS_ALLOWED_EXTRA_SMALL_VIEW_PORT,"3543_taxlots":t.EXCEEDED_MAXIMUM_TAX_LOTS_ALLOWED,"3543_taxlots_xs":t.EXCEEDED_MAXIMUM_TAX_LOTS_ALLOWED_EXTRA_SMALL_VIEW_PORT,"3543_assetClass":t.EXCEEDED_MAXIMUM_POSITIONS_ALLOWED,"3543_assetClass_xs":t.EXCEEDED_MAXIMUM_POSITIONS_ALLOWED_EXTRA_SMALL_VIEW_PORT,"3543_transactions":t.EXCEEDED_MAXIMUM_TRANSACTIONS_ALLOWED,"3543_transactions_xs":t.EXCEEDED_MAXIMUM_TRANSACTIONS_ALLOWED_EXTRA_SMALL_VIEW_PORT,3544:t.EXCEEDED_MAXIMUM_ACCOUNTS_ALLOWED,3666:t.POSITIONS_CANNOT_BE_EXPORTED,"3666_xs":t.POSITIONS_CANNOT_BE_EXPORTED_EXTRA_SMALL_VIEW_PORT,"3666_taxlots":t.TAX_LOT_POSITIONS_CANNOT_BE_EXPORTED,"3666_serviceFailure_taxlots":t.TAX_LOT_EXPORT_SERVICE_FAILURE,"3666_serviceFailure":t.POSITIONS_EXPORT_SERVICE_FAILURE,"3666_serviceFailure_xs":t.POSITIONS_EXPORT_SERVICE_FAILURE,3981:t.POSITION_PURCHASE_NO_TAX_LOTS,3999:t.UNSUPPORTED_ACCOUNTS_IN_GROUP},module:e,errorType:t,statusCode:i,resIssueCode:n}})),define("profileArea/sharedLib/investmentsLib/investmentErrorFocusConstants",["require","profileArea/sharedLib/investmentsLib/investmentErrorConstants","common/utility/alertUtility"],(function(e){"use strict";var t=e("profileArea/sharedLib/investmentsLib/investmentErrorConstants"),i=e("common/utility/alertUtility"),n={DROP_DOWN:"dropdown",CSS:"css",ID:"id"};return{focusMapper:{positions:{focusInfos:[{type:t.statusCode.SERVICE_ERROR,component:"investmentPositionsComponent",selector:i.getFocusElementId("positions-service-error"),focusType:n.ID},{type:t.statusCode.WARNING,component:"investmentPositionsComponent",selector:i.getFocusElementId("positions-soft-error"),focusType:n.ID}]},transactions:{focusInfos:[{type:t.statusCode.SERVICE_ERROR,component:"investmentTransactionsFilterComponent",selector:i.getFocusElementId("transactions-service-error"),focusType:n.ID}]},positionDetail:{focusInfos:[{type:t.statusCode.SERVICE_ERROR,component:"positionDetailTabsComponent",selector:i.getFocusElementId("position-drawer-service-error"),focusType:n.ID}]},positionTaxlots:{focusInfos:[{type:t.statusCode.SERVICE_ERROR,component:"positionDetailTabsComponent",selector:i.getFocusElementId("position-drawer-service-error"),focusType:n.ID}]},positionDetailSummary:{focusInfos:[{type:t.statusCode.SERVICE_ERROR,component:"positionDetailTabsComponent",selector:i.getFocusElementId("position-drawer-service-error"),focusType:n.ID}]},cashSweepFundsDetails:{focusInfos:[{type:t.statusCode.SERVICE_ERROR,component:"cashSweepFundsDetailsComponent",selector:i.getFocusElementId("cash-accounts-service-error"),focusType:n.ID},{type:t.statusCode.WARNING,component:"cashSweepFundsDetailsComponent",selector:i.getFocusElementId("cash-accounts-soft-error"),focusType:n.ID}]},marketNews:{focusInfos:[{type:t.statusCode.SERVICE_ERROR,component:"positionDetailTabsComponent",selector:i.getFocusElementId("position-drawer-service-error"),focusType:n.ID}]}},focusType:n}})),define("profileArea/sharedLib/investmentsLib/investmentFocusManagerUtility",["require","common/lib/ada/setFocus","profileArea/sharedLib/investmentsLib/investmentErrorConstants","profileArea/sharedLib/investmentsLib/investmentErrorFocusConstants","common/lib/menu/menuState"],(function(e){"use strict";var t,i={},n=e("common/lib/ada/setFocus"),r=e("profileArea/sharedLib/investmentsLib/investmentErrorConstants"),a=e("profileArea/sharedLib/investmentsLib/investmentErrorFocusConstants"),o=e("common/lib/menu/menuState"),s=a.focusType,c=function(e){return this.context.$("#select-"+e+":visible").length>0},l=function(){o.globalNavigationIsShowing&&this.context.application.broadcast("setFocusOnMenuHat")},d=function(){this.context.application.broadcast("setFocusForAccountAfterLoaded",{focusElement:t&&t.focusElement})},u=function(e){if(t&&!t.componentName&&!t.action)throw new Error("Action and componentName can't be null at the same time");if(!e||!t||t.componentName===e)if(t){var i=t&&t.componentName,n=i&&this.components&&this.components[i]?{obj:A,target:this.components[i]}:{obj:A,target:this};n.obj[t.action].call(n.target,t&&t.focusElement)}else A.triggerH2PageHeaderFocus.call(this)},p=function(e,i,n,r){t={action:r||"setFocusOnInvestment",componentName:e,focusElement:{type:i,selector:n}}},m=function(){this.output?this.output.emit("state",{value:"setFocusOnInvestment"}):t=null},f=function(e,t){if(t!==r.statusCode.SUCCESS){var i=function(e,t){return e&&e.focusInfos&&e.focusInfos.find((function(e){return e.type===t}))}(a.focusMapper[e],t);i&&p(i.component,i.focusType,i.selector)}},A={triggerH2PageHeaderFocus:l,triggerInvestmentAccountFocus:d,setFocusOnInvestment:m,triggerAsOfMenuFocus:function(){this.context.application.emit("setFocusForAsOfMenuAfterLoaded",{focusElement:t&&t.focusElement})}};return{triggerH2PageHeaderFocus:l,triggerInvestmentAccountFocus:d,triggerInvestmentFocus:u,triggerErrorInvestmentFocus:function(e){e&&e.module&&e.code&&(f(e.module,e.code),u.call(this))},setInvestmentElementFocus:p,setErrorFocusOnInvestment:f,setInvestmentViewFocus:function(e){var r=t&&t.focusElement;if(e)n("#"+e);else if(r){if(!Object.keys(i).length){i[s.DROP_DOWN]=function(e){c.call(this,e)?n("#select-"+e):n("#header-"+e)},i[s.CSS]=function(e){n(e)},i[s.ID]=function(e){n("#"+e)}}i[r.type||s.ID].call(this,r.selector),t=null}},setFocusOnInvestment:m,setFocusOnElement:function(e,t,i){var n=t+".focusElement";e.set(n,i),e.set(n,null)},type:s}})),define("profileArea/sharedLib/investmentsLib/investmentDisclosures",["require","profileArea/sharedLib/investmentsLib/investmentsUtility","profileArea/sharedLib/investmentsLib/investmentFocusManagerUtility","common/utility/dynamicAjaxCallUtil","profileArea/sharedLib/investmentsLib/constants","common/lib/constants","blue/root","blue/root","common/lib/jsBridge","appkit-utilities/analytics/overlay"],(function(e){"use strict";var t,i,n,r,a,o,s,c=e("profileArea/sharedLib/investmentsLib/investmentsUtility"),l=e("profileArea/sharedLib/investmentsLib/investmentFocusManagerUtility"),d=e("common/utility/dynamicAjaxCallUtil"),u=e("profileArea/sharedLib/investmentsLib/constants"),p=e("common/lib/constants"),m=e("blue/root"),f=p.DOWNLOADABLE_URL_EXTENSIONS,A=u.DISCLOSURES_IDENTIFIER,g=u.MUTUAL_FUND_IDENTIFIERS,E=u.MAPS_IDENTIFIERS,y=u.CHOOSE_YOUR_FUND_IDENTIFIERS,h=u.MUTUAL_FUND_MIX_IDENTIFIERS,v=u.DISCLOSURE_HEADER,C=[],_=[],S=[],T=[],N=e("blue/root").hybrid,I=e("common/lib/jsBridge"),b=e("appkit-utilities/analytics/overlay"),D=function(e,t){var i=t.find((function(t){return t.identifier.trim().toLowerCase()===e.toLowerCase()}));return void 0!==i&&i.description||""},O=function(e,t){var i={};return e&&(i.CLOSE=e),t&&(i.BACK=t),function(e){var t=i;return t[e]&&!t[e]()}},P=function(e,t){this.investmentDisclosuresName=D(A.investmentDisclosuresName,e),this.jpMorganSecuritiesInformationMessage=D(A.jpMorganSecuritiesInformationMessage,e),this.youInvestPortfoliosSecuritiesDisclosureHeader=D("yipJpMorganSecuritiesInformationHeader",e),this.youInvestPortfoliosSecuritiesDisclosureMessage=D("yipJpMorganSecuritiesInformationMessage",e),this.accountDisclosuresMessage=D(A.accountDisclosuresMessage,e),this.bankManagedProductsDisclosure=D(A.bankManagedProductsDisclosure,e),this.investmentDisclosureGroupName=D(A.investmentDisclosureGroupName,e),S=[],T=[],t.forEach((function(e){e.identifier.indexOf("_long")>-1?S.push(e):e.identifier.indexOf("_short")>-1&&T.push(e)})),this.investmentDisclosures=S,this.logoFormatInvestmentDisclosures=T,this.pageDisclosuresKey=[],this.investmentDisclosuresMessageMobile=D(A.investmentDisclosuresMessageMobile,e),this.ideasAndInsightsDisclosure="",this.mutualFundsDisclosureMessage="",this.mutualFundsSortOrderDisclosure="",this.mapsDisclosure="",this.riskProfileDisclosure="",this.mutualFundMixDisclosure="",this.investmentFootnotes=[]},L=function(e,t){var i;if(s="object"==typeof e?function(e){var t=e.action.name,i=e.controller.name,n=e.area.name,r=e.action.params.assetType;if(["ideas","trade","savingsToInvest"].indexOf(n)>-1)return n+i+t;if("investments"===n&&"trade"!==i)return"portfolio"===i?u.INVESTMENT_PAGES.summary:i;var a="overview"===t?u.MARKETS_PAGES.usoverview:t;return(["index"].indexOf(t)>=0||["assets"].indexOf(i)>=0)&&(a=i+t),["screeners","assetsoverview"].indexOf(a)>=0&&r===u.ASSET_TYPES.MF&&(a+=r),a}(e):e){var n=["usoverview","assetsoverview","assetsoverviewMF"].indexOf(s)>=0&&!this.context.config.viewRealTimeQuotesEnabled?s+"DisclosuresMessageFalse":s+"DisclosuresMessage";i=t?V(t):{pageDisclosuresKey:[D(n,_)],hiddenPageDisclosures:[]},this.pageDisclosuresKey=i.pageDisclosuresKey,this.hiddenPageDisclosures=i.hiddenPageDisclosures}else t?(i=V(t),this.pageDisclosuresKey=i.pageDisclosuresKey,this.hiddenPageDisclosures=i.hiddenPageDisclosures):(this.pageDisclosuresKey=[],this.hiddenPageDisclosures=[])},M=function(e,i){L.call(this,e,i),this.investmentFootnotes=[],this.mutualFundsDisclosureMessage=g.indexOf(s)>=0?D(A.mutualFundsDisclosureMessage,_):"",this.mapsDisclosure=E.indexOf(s)>-1||(i&&Array.isArray(i)&&i.indexOf(A.nudgeDetailsMapV2))>-1?D(A.nudgeDetailsMapV2,_):"",this.riskProfileDisclosure=E.indexOf(s)>=0?D(A.viewalldiscMaps,_):"",this.mutualFundsSortOrderDisclosure=y.indexOf(s)>=0?D(A.savingsToInvestyouInvestchooseYourFund,_):"",this.mutualFundMixDisclosure=h.indexOf(s)>=0?D(A.savingsToInvestyouInvestfundMixSelection,_):"",t.set(this,"investmentDisclosuresHeader",v.DISCLOSURES),this.output.emit("state",{value:"updatePageDisclosuresMessage"})},R=function(e){var i=[];t.set(this,"investmentDisclosuresHeader",v.FOOTNOTES),t.set(this,"requestInvestmentFootnotesLabel",u.FOOTNOTE_HEADER.EXPAND),e.forEach((function(e){var t={};t.title=e.title,t.description=e.description,i.push(t)})),this.investmentFootnotes=i},U=function(e){return D(e,_)},k=function(e){this.output.emit("state",{value:"toggleDisplay",data:e})},F=function(e){return new Promise(function(t,i){_.length>0&&C.length>0?(P.call(this,_,C),t()):d({type:"GET",url:e.url}).then(function(e){_=e.result["legal-disclaimer-page"].disclosures,C=e.result["legal-disclaimer-page"].disclaimers,P.call(this,_,C),t()}.bind(this),function(e){this.context.logger.warn("structuredContentUtility error: ",e),i(e)}.bind(this)).catch(function(e){this.context.logger.warn("error in promise for structuredContentUtility: ",e),i(e)}.bind(this))}.bind(this))},w=function(e,t,i,n){return i?e+="_overlay":e=n?"#modalDisclosures "+e:e,e+" "+t},x=function(e){var t=(e=e.context).id?"a#"+e.id:"a:last-child",i=w("#pageDisclosureKeyId",t,e.overlay,e.isModal);e.navUrl&&this.context.application.broadcast("makeNavigation",{navKey:e.navUrl,focusTarget:i})},B=function(){this.output.emit("state",{value:"exitAdditionalDisclosures"})},H=function(e){var t,i=[];return e&&e.forEach((function(e){t=U(e),i.push(t)})),i},V=function(e){var t=[],i=[];return e&&(e="object"==typeof e?e:JSON.parse(e)),Array.isArray(e)?t=H(e):e&&e.visible&&e.hidden&&(t=H(e.visible),i=H(e.hidden)),{pageDisclosuresKey:t,hiddenPageDisclosures:i}},G=function(e,t){t&&(e+=p.HYBRID_EXTERNAL_PARAMETER),m.open(e)},q=function(e,t,i){var n=i.href,r=e.model.hybrid,a=function(e){return f.some((function(t){return e.toLowerCase().indexOf(t)>-1}))}(n);!function(e){e&&(e.cancelBubble=!0,e.bubbles=!1,e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.preventDefault())}(t),r&&a?m.open(n,"_blank"):G(n,r)};return function(e){this.init=function(){t=e.dcu.dynamicContent,e.globalContentMixin.call(this,["overlayAnnouncementAda","closeLabel","opensPdfAda","commaSymbol"]),t.set(this,"investmentDisclosuresHeader",v.DISCLOSURES)},this.onReady=function(){var t=this.model.get("loadStructureContentOnReady");t&&(this.loadStructuredContent({url:e.config.APP_CQ5_HOST_CARD+u.STRUCTURED_CONTENT_URL_MAPPER.disclosures}).then((function(t){e.logger.warn("Failed to setup Disclosures",t)})),this.updatePageDisclosuresMessage(t))},this.requestInvestmentAccountInformation=function(){if(e.logger.info("requestInvestmentAccountInformation clicked"),N)I.showNativeDisclosure(e);else{var t=u.PAGE_URL.investmentAccountDisclosure;e.state(t)}B.call(this)},this.requestJPMorganGlobalRegulatoryDisclosures=function(){},this.requestRegulationBestInterestDisclosure=function(t){e.logger.info("requestRegulationBestInterestDisclosure clicked"),G(t.context.navUrl,e.hybrid)},this.requestAccountDisclosures=function(){e.logger.info("requestAccountDisclosures clicked")},this._checkAccountDisclosures=function(t){c.isAnchorClicked(t)&&t.domEvent.target.className===u.DISCLOSURES_LINK_TYPE.SEURAT&&(this.requestInvestmentAccountInformation(),e.application.broadcast("paperless:destroy")),l.setInvestmentElementFocus(this.key,l.type.CSS,"#accountDisclosuresMessageSpan a")},this.removeDisclosure=function(){this.output.emit("state",{value:"removeDisclosure"})},this.loadStructuredContent=F,this.requestJPMorganSecuritiesInformation=function(t){t=t.context;var i=w("#jpMorganSecuritiesSpan","a",t.overlay,t.isModal);e.application.broadcast("makeNavigation",{navKey:"requestJPMorganSecuritiesInformation",focusTarget:i,newTab:!0})},this.requestFinancialIndustryRegulatoryAuthorityHomePage=function(t){t=t.context;var i=w("#bankManagedProductsDisclosureID","a:nth-of-type(1)",t.overlay,t.isModal);e.application.broadcast("makeNavigation",{navKey:"requestFinancialIndustryRegulatoryAuthorityHomePage",focusTarget:i,newTab:!0})},this.requestSecuritiesInvestorProtectionCorporationHomePage=function(t){t=t.context;var i=w("#bankManagedProductsDisclosureID","a:nth-of-type(2)",t.overlay,t.isModal);e.application.broadcast("makeNavigation",{navKey:"requestSecuritiesInvestorProtectionCorporationHomePage",focusTarget:i,newTab:!0})},this.requestCharacteristicsAndRisksOfStandardizedOptions=function(t){t=t.context;var i=w("#pageDisclosureKeyId","#"+t.id,t.overlay,t.isModal);e.application.broadcast("makeNavigation",{navKey:"requestCharacteristicsAndRisksOfStandardizedOptions",focusTarget:i,newTab:!0})},this.updatePageDisclosuresMessage=M,this.toggleDisplay=k,this.addFootnoteDisclosure=R,this.getDisclosureByIdentifier=U,this.exitAdditionalDisclosures=function(){var e=this.context,t=e.hybridHelper&&e.hybridHelper.webNativeMessenger;if(N){var s=e.util.object.merge({},i);t&&t.updateNativeNavigationBar(s),a=O(r,n),o={},n&&(o.isHybridBackButtonRequired=n,n=null),r&&(o.isCloseSelected=r,r=null),t&&t.setShouldNativeHandleButtonPressedCallBack(a,o),i=null}return b.hideOverlay(this,"additionalDisclosuresOverlay","exitAdditionalDisclosures"),B.call(this),l.setInvestmentElementFocus(this.key,l.type.CSS,".content-link"),l.triggerInvestmentFocus.call(this.controller||this),!0},this.requestAdditionalDisclosures=function(){var t=e.hybridHelper&&e.hybridHelper.webNativeMessenger;if(N){"trustedContact"===e.parent.controller.name&&e.controller.broadcast("updateStateOfInvestmentDisclosureOverlay",{isOpen:!0,investmentDisclosuresComponent:this,title:this.model.get("investmentDisclosuresHeader")}),i=I.getCurrentNativeNavigationBarButtons();const s=c.getNativeNavControlParams({showClose:!0});t&&t.updateNativeNavigationBar(s),n=I.isHybridBackButtonRequired,r=I.isCloseSelected,a=O(this.exitAdditionalDisclosures,this.exitAdditionalDisclosures),o={isCloseSelected:this.exitAdditionalDisclosures,isHybridBackButtonRequired:this.exitAdditionalDisclosures},t&&t.setShouldNativeHandleButtonPressedCallBack(a,o)}b.showOverlay(this,"additionalDisclosuresOverlay","requestAdditionalDisclosures"),this.output.emit("state",{value:"requestAdditionalDisclosures"})},this.reqeustAdditionalArticleDisclosures=function(){},this.exitAdditionalArticleDisclosures=function(){},this.requestExternalNavigation=x,this.requestElectronicMunicipalMarketAccessHomePage=x,this.requestMoodysHomePage=x,this.requestStandardAndPoorsHomePage=x,this.requestIraInformation=x,this.requestJPMSMutualFundsDisclosuresPDF=function(e){var t=e.context.event;q(this,t,t.target)},this.requestDisclosureBrochurePDF=function(e){var t=e.context.event;q(this,t,t.target)},this.requestMapsChartCommunication=function(){},this.requestInvestmentFootnotes=function(e){var i=e.context.open?u.FOOTNOTE_HEADER.EXPAND:u.FOOTNOTE_HEADER.COLLAPSE;t.set(this,"requestInvestmentFootnotesLabel",i)},this.requestDigitalAdvisoryDisclosure=function(){}}})),define("profileArea/sharedLib/sharedView/template/investmentDisclosures",[],(function(){return{v:4,t:[{t:7,e:"div",f:[{t:7,e:"div",m:[{n:"class",f:["inv-clearfix investment-disclosures ",{t:2,r:".typeOfDisclosureDisplayed.containerClass"}],t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"investment-disclosures-headbar",t:13}],f:[{t:7,e:"h2",m:[{n:"class",f:"ACSLABEL disclosures-header-bar",t:13}],f:[{t:4,f:[{t:3,r:"~/investmentDisclosuresHeader"}],n:50,r:".investmentFootnotes"},{t:4,n:51,f:[{t:3,r:".investmentDisclosuresName"}],l:1}]}]}," ",{t:8,x:{r:["~/getDisclosurePartial"],s:"_0()"}}]}," ",{t:4,f:[{t:7,e:"blueModal",m:[{n:"id",f:"disclosures-overlay-modal",t:13},{n:"customDialogLayout",f:"true",t:13},{n:"returnFocusToSelector",f:"#investmentDisclosuresMessageMobile a",t:13},{n:"classes",f:["disclosures-overlay-modal ",{t:4,f:["mds-overflow-hidden"],n:50,x:{r:["~/hybrid"],s:"!_0"}}],t:13},{n:"closeIcon",f:"false",t:13}],f:[{t:4,n:53,f:[{t:8,r:"investmentDisclosuresOverlay"}],x:{r:[".investmentDisclosuresName",".pageDisclosuresKey",".hiddenPageDisclosures",".ideasAndInsightsDisclosure",".ideasAndInsightsCompleteDisclosure",".jpMorganSecuritiesInformationMessage",".accountDisclosuresMessage",".bankManagedProductsDisclosure",".investmentDisclosureGroupName",".investmentDisclosures",".logoFormatInvestmentDisclosures"],s:'{id:"overlay",investmentDisclosuresName:_0,pageDisclosuresKey:_1,hiddenPageDisclosures:_2,ideasAndInsightsDisclosure:_3,ideasAndInsightsCompleteDisclosure:_4,jpMorganSecuritiesInformationMessage:_5,accountDisclosuresMessage:_6,bankManagedProductsDisclosure:_7,investmentDisclosureGroupName:_8,investmentDisclosures:_9,logoFormatInvestmentDisclosures:_10}'}}]}],n:50,r:".showModal"}]}],e:{}}})),define("profileArea/sharedLib/investmentsLib/investmentDisclosuresSpec",{name:"INVESTMENT_DISCLOSURES",defaultBindings:!0,preventDefault:!0,bindings:{articleDisclosuresExpanded:{direction:"BOTH"}},triggers:{_checkAccountDisclosures:{action:"_checkAccountDisclosures"},toggleFootnoteAccordion:{action:"view.toggleFootnoteAccordion"},reqeustAdditionalArticleDisclosuresView:{action:"view.reqeustAdditionalArticleDisclosuresView"},exitAdditionalArticleDisclosuresView:{action:"view.exitAdditionalArticleDisclosuresView"}}}),define("profileArea/sharedLib/sharedView/template/investmentDisclosuresOverlay",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"inv-clearfix investment-disclosures",t:13},{n:"id",f:"disclosures_overlay",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"investment-disclosures-headbar",t:13}],f:[{t:7,e:"h2",m:[{n:"class",f:"ACSLABEL disclosures-header-bar",t:13},{n:"id",f:"disclosures_overlay-header",t:13},{n:"tabindex",f:"-1",t:13}],f:[{t:3,r:".investmentDisclosuresName"}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"disclosure-bannner-section",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"id",f:["ideasInsightsDisclosure_",{t:2,r:".id"}],t:13},{n:"class",f:"disclosures-link securitiesInfo",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13}],f:[{t:3,x:{r:["sanitizer",".ideasAndInsightsCompleteDisclosure"],s:"_0.sanitizeHTML(_1)"}}]}]}],n:50,r:".ideasAndInsightsCompleteDisclosure"}," ",{t:4,f:[{t:4,n:53,f:[{t:8,r:"disclosuresArray"}],x:{r:[".id","~/pageDisclosuresKey"],s:'{id:"pageDisclosureKeyId_"+_0,disclosures:_1}'}}],n:50,x:{r:["~/pageDisclosuresKey","~/pageDisclosuresKey.length"],s:"_0&&_1"}}," ",{t:4,f:[{t:4,n:53,f:[{t:8,r:"disclosuresArray"}],x:{r:[".id","~/hiddenPageDisclosures"],s:'{id:"hiddenPageDisclosureKeyId_"+_0,disclosures:_1}'}}],n:50,x:{r:["~/hiddenPageDisclosures","~/hiddenPageDisclosures.length"],s:"_0&&_1"}}]}," ",{t:7,e:"div",m:[{n:"class",f:"disclosure-bannner-section",t:13}],f:[{t:7,e:"div",m:[{n:"id",f:["jpMorganSecuritiesInformationMessageID_",{t:2,r:".id"}],t:13},{n:"class",f:"disclosures-link securitiesInfo",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13},{n:"id",f:["jpMorganSecuritiesSpan_",{t:2,r:".id"}],t:13}],f:[{t:3,x:{r:["sanitizer","jpMorganSecuritiesInformationMessage"],s:"_0.sanitizeHTML(_1)"}}]}]}," ",{t:7,e:"div",m:[{n:"id",f:["investmentDisclosuresAdvisory_",{t:2,r:".id"}],t:13},{n:"class",f:"investmentDisclosuresAdvisory_overlay",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"disclosures-link",t:13},{n:"click",f:"_checkAccountDisclosures",t:70}],f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13},{n:"id",f:["accountDisclosuresMessageSpan_",{t:2,r:".id"}],t:13}],f:[{t:3,r:"accountDisclosuresMessage"}]}]}," ",{t:7,e:"div",m:[{n:"id",f:["bankManagedProductsDisclosureID_",{t:2,r:".id"}],t:13},{n:"class",f:"disclosures-link securitiesInfo",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13}],f:[{t:3,r:"bankManagedProductsDisclosure"}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"col-xs-12 FOOTNOTE footer-invdisclosure",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"col-xs-12 col-sm-12 col-md-10 col-lg-8 disclosureBorder",t:13}],f:[{t:7,e:"h3",m:[{n:"class",f:"disclosureAlign mirandaHeader",t:13}],f:[{t:3,r:"investmentDisclosureGroupName"}]}," ",{t:7,e:"ul",m:[{n:"role",f:"list",t:13},{n:"class",f:"hide-disclosures-xs-only",t:13}],f:[{t:4,f:[{t:7,e:"li",m:[{n:"role",f:"listitem",t:13}],f:[{t:3,r:".description"}]}],r:"investmentDisclosures"}]}," ",{t:7,e:"ul",m:[{n:"role",f:"list",t:13},{n:"class",f:"short-disclaimer show-xs hide-sm",t:13}],f:[{t:4,f:[{t:7,e:"li",m:[{n:"role",f:"listitem",t:13}],f:[{t:3,r:".description"}]}],r:"logoFormatInvestmentDisclosures"}]}]}]}]}]}]}," ",{t:4,f:[{t:7,e:"blueStickybutton",m:[{n:"id",f:"disclosures-sticky-footer",t:13},{n:"parentId",f:"disclosures_overlay",t:13},{n:"classes",f:"",t:13},{n:"buttons",f:[{t:2,x:{r:["~/closeLabel"],s:'{button1:{id:"closeDisclosuresOverlayButton",label:_0,classes:"fluid primary",rClick:"exitAdditionalDisclosures",type:"button"}}'}}],t:13}],f:[]}],n:50,x:{r:["~/hybrid"],s:"!_0"}}],e:{}}})),define("profileArea/sharedLib/sharedView/template/accountAggregationTerms",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"disclosure-bannner-section",t:13}],f:[{t:4,f:[{t:4,n:53,f:[{t:8,r:"disclosuresArray"}],x:{r:["~/typeOfDisclosureDisplayed.id","~/pageDisclosuresKey"],s:"{id:_0,disclosures:_1}"}}],n:50,x:{r:["~/pageDisclosuresKey","~/pageDisclosuresKey.length"],s:"_0&&_1"}}]}],e:{}}})),define("profileArea/sharedLib/sharedView/template/investmentDisclosuresDefaultPartial",[],(function(){return{v:4,t:[{t:7,e:"div",f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"disclosure-bannner-section footnotes-disclosure",t:13}],f:[{t:7,e:"blueAccordion",m:[{n:"id",f:"footnotesAccordion",t:13},{n:"ada",f:["{ 'open': ",{t:2,r:"~/hidesContentBelowAda",s:!0},", 'closed': ",{t:2,r:"~/showsContentBelowAda",s:!0}," }"],t:13},{n:"classes",f:"NOTEDARK",t:13},{n:"header",f:[{t:2,r:"~/requestInvestmentFootnotesLabel"}],t:13},{n:"rClick",f:"['requestInvestmentFootnotes', 'toggleFootnoteAccordion']",t:13},{n:"headerIcon",f:[{t:4,f:["expandup"],n:50,r:"footnoteAccordionOpen"},{t:4,n:51,f:["expanddown"],l:1}],t:13},{n:";",f:0,t:13},{n:"content",f:"true",t:13}],f:[{t:7,e:"div",m:[{n:"id",f:"footnote-disclosures",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"footnote-section",t:13}],f:[{t:7,e:"sup",m:[{n:"class",f:"footnote-number NOTE",t:13}],f:[{t:2,r:".title"}]}," ",{t:7,e:"div",m:[{n:"id",f:["footnote-",{t:2,r:".title"}],t:13},{n:"tabindex",f:"-1",t:13},{n:"class",f:"footnote-data NOTE",t:13}],f:[{t:3,x:{r:["sanitizer",".description"],s:"_0.sanitizeHTML(_1)"}}]}]}],r:".investmentFootnotes"}]}]}]}],n:50,r:".investmentFootnotes"}," ",{t:7,e:"div",m:[{n:"class",f:"disclosure-bannner-section hide-disclosures-xs-only",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"id",f:"ideasInsightsDisclosure",t:13},{n:"class",f:"disclosures-link securitiesInfo",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"idea-collapsible-disclosure",t:13}],f:[{t:4,f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13}],f:[{t:3,x:{r:["sanitizer",".ideasAndInsightsDisclosure"],s:"_0.sanitizeHTML(_1)"}}]}],n:50,x:{r:[".ideasAndInsightsDisclosure.length"],s:"_0<300"}},{t:4,n:51,f:[{t:4,f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13}],f:[{t:3,x:{r:["sanitizer",".ideasAndInsightsDisclosure"],s:"_0.sanitizeHTML(_1)"}}]}," ",{t:7,e:"blueLink",m:[{n:"id",f:[{t:2,r:"exitAdditionalArticleDisclosuresLabel"}],t:13},{n:"content",f:[{t:2,r:"exitAdditionalArticleDisclosuresLabel"}],t:13},{n:"endIcon",f:"expandup",t:13},{n:"rClick",f:"exitAdditionalArticleDisclosuresView",t:13}]}],n:50,r:".articleDisclosuresExpanded"},{t:4,n:51,f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13}],f:[{t:3,x:{r:["sanitizer",".ideasAndInsightsDisclosure"],s:"_0.sanitizeHTML(_1)"}},"..."]}," ",{t:7,e:"blueLink",m:[{n:"id",f:[{t:2,r:"reqeustAdditionalArticleDisclosuresLabel"}],t:13},{n:"content",f:[{t:2,r:"reqeustAdditionalArticleDisclosuresLabel"}],t:13},{n:"endIcon",f:"expanddown",t:13},{n:"rClick",f:"reqeustAdditionalArticleDisclosuresView",t:13}]}],l:1}],l:1}]}," ",{t:7,e:"div",m:[{n:"class",f:"idea-print-disclosure",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13}],f:[{t:3,x:{r:["sanitizer",".ideasAndInsightsDisclosure"],s:"_0.sanitizeHTML(_1)"}}]}]}]}],n:50,r:".ideasAndInsightsDisclosure"}," ",{t:4,f:[{t:4,n:53,f:[{t:8,r:"disclosuresArray"}],x:{r:["~/pageDisclosuresKey"],s:'{id:"pageDisclosureKeyId",disclosures:_0}'}}," ",{t:4,f:[{t:7,e:"div",m:[{n:"id",f:"youInvestPortfoliosSecuritiesDisclosureHeaderID",t:13},{n:"class",f:"disclosures-link securitiesInfo hide-disclosures-xs-only ",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13},{n:"id",f:"youInvestPortfoliosSecuritiesHeaderSpan",t:13}],f:[{t:3,x:{r:["sanitizer","youInvestPortfoliosSecuritiesDisclosureHeader"],s:"_0.sanitizeHTML(_1)"}}]}]}," ",{t:7,e:"div",m:[{n:"id",f:"bankManagedProductsDisclosureID",t:13},{n:"class",f:"disclosures-link securitiesInfo hide-disclosures-xs-only ",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13},{n:"id",f:"paperless-disclosure-container",t:13}],f:[{t:3,r:"bankManagedProductsDisclosure"}]}]}],n:50,x:{r:[".hiddenPageDisclosures",".hiddenPageDisclosures.length"],s:"_0&&_1"}}],n:50,x:{r:["~/pageDisclosuresKey","~/pageDisclosuresKey.length"],s:"_0&&_1"}}," ",{t:4,f:[{t:7,e:"mds-expandable-text",m:[{n:"class",f:"digital-advisory-disclosure",t:13},{n:"label",f:[{t:2,r:"requestDigitalAdvisoryDisclosureLabel",s:!0}],t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"expandable-text",t:13}],f:[{t:4,n:53,f:[{t:8,r:"disclosuresArray"}],x:{r:["~/hiddenPageDisclosures"],s:'{id:"hiddenPageDisclosureKeyId",disclosures:_0}'}}," ",{t:7,e:"div",m:[{n:"id",f:"youInvestPortfoliosSecuritiesInformationMessageID",t:13},{n:"class",f:"disclosures-link securitiesInfo hide-disclosures-xs-only ",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13},{n:"id",f:"jpMorganSecuritiesSpan",t:13}],f:[{t:3,x:{r:["sanitizer","youInvestPortfoliosSecuritiesDisclosureMessage"],s:"_0.sanitizeHTML(_1)"}}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"disclosures-link hide-disclosures-xs-only ",t:13},{n:"click",f:"_checkAccountDisclosures",t:70}],f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13},{n:"id",f:"accountDisclosuresMessageSpan",t:13}],f:[{t:3,r:"accountDisclosuresMessage"}]}]}]}]}],n:50,x:{r:["~/hiddenPageDisclosures","~/hiddenPageDisclosures.length"],s:"_0&&_1"}}]}," ",{t:7,e:"div",m:[{n:"class",f:"disclosure-bannner-section",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"id",f:"jpMorganSecuritiesInformationMessageID",t:13},{n:"class",f:"disclosures-link securitiesInfo hide-disclosures-xs-only ",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13},{n:"id",f:"jpMorganSecuritiesSpan",t:13}],f:[{t:3,x:{r:["sanitizer","jpMorganSecuritiesInformationMessage"],s:"_0.sanitizeHTML(_1)"}}]}]}],n:50,x:{r:[".hiddenPageDisclosures",".hiddenPageDisclosures.length"],s:"!_0||!_1"}}," ",{t:7,e:"div",m:[{n:"id",f:"investmentDisclosuresMessageMobile",t:13},{n:"class",f:"mobile-disclosure disclosures-link securitiesInfo util print-hide hide-sm",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK mutual-funds-mobile ",t:13},{n:"id",f:"mutualFundsDisclosureMessageSpan",t:13}],f:[{t:3,r:".mutualFundsDisclosureMessage"}]}," ",{t:7,e:"span",m:[{n:"class",f:"NOTEDARK maps-disclosure-mobile ",t:13},{n:"id",f:"mapsDisclosureMessageSpan",t:13}],f:[{t:3,r:".mapsDisclosure"}]}," ",{t:4,f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK choose-your-fund-disclosure-mobile ",t:13},{n:"id",f:"chooseYourFundDisclosureMessageSpan",t:13}],f:[{t:3,r:".mutualFundsSortOrderDisclosure"}]}],n:50,r:".mutualFundsSortOrderDisclosure"}," ",{t:4,f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK fundmix-disclosure-mobile ",t:13},{n:"id",f:"fundMixDisclosureMessageSpan",t:13}],f:[{t:3,r:".mutualFundMixDisclosure"}]}],n:50,r:".mutualFundMixDisclosure"}," ",{t:7,e:"span",m:[{n:"class",f:"NOTEDARK hide-xs-disclosure",t:13},{n:"id",f:"investmentDisclosuresMessageMobileSpan",t:13}],f:[{t:3,x:{r:["sanitizer","investmentDisclosuresMessageMobile"],s:"_0.sanitizeHTML(_1)"}}," ",{t:7,e:"blueLink",m:[{n:"id",f:"readCompleteDisclosures",t:13},{n:"endIcon",f:"progressright",t:13},{n:"classes",f:"BODYLINK",t:13},{n:"rClick",f:"requestAdditionalDisclosures",t:13}]}]}]}," ",{t:7,e:"div",m:[{n:"id",f:"investmentDisclosuresAdvisory",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"disclosures-link hide-disclosures-xs-only ",t:13},{n:"click",f:"_checkAccountDisclosures",t:70}],f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13},{n:"id",f:"accountDisclosuresMessageSpan",t:13}],f:[{t:3,r:"accountDisclosuresMessage"}]}]}," ",{t:7,e:"div",m:[{n:"id",f:"bankManagedProductsDisclosureID",t:13},{n:"class",f:"disclosures-link securitiesInfo hide-disclosures-xs-only ",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13},{n:"id",f:"paperless-disclosure-container",t:13}],f:[{t:3,r:"bankManagedProductsDisclosure"}]}]}],n:50,x:{r:[".hiddenPageDisclosures",".hiddenPageDisclosures.length"],s:"!_0||!_1"}}," ",{t:7,e:"div",m:[{n:"class",f:"col-xs-12 FOOTNOTE footer-invdisclosure",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"col-xs-12 col-sm-12 col-md-10 col-lg-8 disclosureBorder",t:13}],f:[{t:7,e:"h3",m:[{n:"class",f:"disclosureAlign mirandaHeader",t:13}],f:[{t:3,r:"investmentDisclosureGroupName"}]}," ",{t:7,e:"ul",m:[{n:"role",f:"list",t:13},{n:"class",f:"hide-disclosures-xs-only",t:13}],f:[{t:4,f:[{t:7,e:"li",m:[{n:"role",f:"listitem",t:13}],f:[{t:3,r:".description"}]}],r:"investmentDisclosures"}]}," ",{t:7,e:"ul",m:[{n:"role",f:"list",t:13},{n:"class",f:"short-disclaimer show-xs hide-sm",t:13}],f:[{t:4,f:[{t:7,e:"li",m:[{n:"role",f:"listitem",t:13}],f:[{t:3,r:".description"}]}],r:"logoFormatInvestmentDisclosures"}]}]}]}]}]}]}],e:{}}})),define("profileArea/sharedLib/sharedView/template/staticNonInvestmentDisclosure",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"bankManagedProductsDisclosureID",t:13},{n:"class",f:"disclosures-link securitiesInfo hide-for-miranda-disclosure",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13},{n:"id",f:"paperless-disclosure-container",t:13}],f:[{t:3,r:"bankManagedProductsDisclosure"}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"col-xs-12 FOOTNOTE footer-invdisclosure",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"col-xs-12 col-sm-12 col-md-10 col-lg-8 disclosureBorder",t:13}],f:[{t:7,e:"h3",m:[{n:"class",f:"disclosureAlign mirandaHeader",t:13}],f:[{t:3,r:"investmentDisclosureGroupName"}]}," ",{t:7,e:"ul",m:[{n:"role",f:"list",t:13},{n:"class",f:"hide-disclosures-xs-only",t:13}],f:[{t:4,f:[{t:7,e:"li",m:[{n:"role",f:"listitem",t:13}],f:[{t:3,r:".description"}]}],r:"investmentDisclosures"}]}," ",{t:7,e:"ul",m:[{n:"role",f:"list",t:13},{n:"class",f:"short-disclaimer show-xs hide-sm",t:13}],f:[{t:4,f:[{t:7,e:"li",m:[{n:"role",f:"listitem",t:13}],f:[{t:3,r:".description"}]}],r:"logoFormatInvestmentDisclosures"}]}]}]}]}})),define("profileArea/sharedLib/sharedView/template/disclosuresArray",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:[{t:2,r:".id"}],t:13},{n:"class",f:"disclosures-link securitiesInfo ",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"NOTEDARK",t:13}],f:[{t:19,f:[{t:4,f:[{t:3,x:{r:["sanitizer","disclosure"],s:"_0.sanitizeHTML(_1)"}}," ",{t:4,f:[{t:7,e:"br"}],n:50,x:{r:["disclosures.length","@index"],s:"_0-1!==_1"}}],n:52,z:[{n:"disclosure",x:{r:"."}}],r:".disclosures"}],n:54,z:[{n:"disclosures",x:{r:".disclosures"}}]}]}]}],e:{}}})),define("profileArea/sharedLib/investmentsLib/investmentDisclosuresView",["require","profileArea/sharedLib/investmentsLib/investmentFocusManagerUtility","blue/$","profileArea/sharedLib/constants","profileArea/sharedLib/investmentsLib/constants","blue/root","profileArea/sharedLib/sharedView/template/investmentDisclosures","profileArea/sharedLib/investmentsLib/investmentDisclosuresSpec","profileArea/sharedLib/sharedView/template/investmentDisclosuresOverlay","profileArea/sharedLib/sharedView/template/accountAggregationTerms","profileArea/sharedLib/sharedView/template/investmentDisclosuresDefaultPartial","profileArea/sharedLib/sharedView/template/staticNonInvestmentDisclosure","profileArea/sharedLib/sharedView/template/disclosuresArray","blue-ui/view/modules/modal","blue-ui/view/elements/stickybuttons","blue-ui/view/elements/button","blue-ui/view/elements/link","blue-ui/view/modules/accordion"],(function(e){"use strict";var t=e("profileArea/sharedLib/investmentsLib/investmentFocusManagerUtility"),i=e("blue/$"),n=e("profileArea/sharedLib/constants").profileConstants,r=e("profileArea/sharedLib/investmentsLib/constants").DISCLOSURE_MANAGE_LINKS,a={},o=e("blue/root"),s=e("profileArea/sharedLib/sharedView/template/investmentDisclosures"),c=e("profileArea/sharedLib/investmentsLib/investmentDisclosuresSpec"),l={investmentDisclosuresOverlay:e("profileArea/sharedLib/sharedView/template/investmentDisclosuresOverlay"),accountAggregationTerms:e("profileArea/sharedLib/sharedView/template/accountAggregationTerms"),investmentDisclosuresDefaultPartial:e("profileArea/sharedLib/sharedView/template/investmentDisclosuresDefaultPartial"),staticNonInvestmentDisclosure:e("profileArea/sharedLib/sharedView/template/staticNonInvestmentDisclosure"),disclosuresArray:e("profileArea/sharedLib/sharedView/template/disclosuresArray")},d={blueModal:e("blue-ui/view/modules/modal"),blueStickybutton:e("blue-ui/view/elements/stickybuttons"),blueButton:e("blue-ui/view/elements/button"),blueLink:e("blue-ui/view/elements/link"),blueAccordion:e("blue-ui/view/modules/accordion")},u=function(e){return e||""},p=function(e,t){var s=t?i("body"):e.context.$(),c=t?"#disclosures_overlay ":"",l="requestMapsChartCommunication",d="requestAccountDisclosures";a[r.FINRA]="requestFinancialIndustryRegulatoryAuthorityHomePage",a[r.SIPC]="requestSecuritiesInvestorProtectionCorporationHomePage",a[r.CHARACTER_RISKS]="requestCharacteristicsAndRisksOfStandardizedOptions",a[r.JPMORGAN_SECURITIES_INFO]="requestJPMorganSecuritiesInformation",a[r.EMMA]="requestElectronicMunicipalMarketAccessHomePage",a[r.MODDYS]="requestMoodysHomePage",a[r.STANDARD_AND_POORS]="requestStandardAndPoorsHomePage",a[r.MUTUAL_FUND_PDF]="requestJPMSMutualFundsDisclosuresPDF",a[r.MAPSV1]=l,a[r.MAPSV2]=l,a[r.READ_COMPLETE_DISCLOSURES]="requestAdditionalDisclosures",a[r.GLOBAL_REGULATORY]="requestJPMorganGlobalRegulatoryDisclosures",a[r.FINANCIAL_CONDITION]=d,a[r.CHASE_SWEEP_RATES]=d,a[r.JP_SWEEP_RATES]=d,a[r.PB_SWEEP_RATES]=d,a[r.IRA_DEDUCTION_LIMITS]="requestIraInformation",a[r.FORM_CRS]="requestRegulationBestInterestDisclosure",a[r.JPMS]="requestDisclosureBrochurePDF",a[r.JPMIM]="requestDisclosureBrochurePDF",s.off(".contentDisclosures").on("click.contentDisclosures",c+".content-link",(function(t){t.preventDefault();var i=a[t.currentTarget.firstChild.data]||"";i&&e.trigger(i,{event:t})})),s.off(".internalDisclosures").on("click.internalDisclosures",c+".internal-link",(function(t){t.preventDefault();var i=a[t.currentTarget.firstChild.data];i&&e.trigger(i);var r=t.currentTarget.href;e.model.hybrid&&(r+=n.HYBRID_EXTERNAL_PARAMETER),o.open(r)})),s.off(".externalDisclosures").on("click.externalDisclosures",c+".external-link",(function(n){n.preventDefault();var r=a[n.currentTarget.firstChild.data]||"requestExternalNavigation";r&&e.trigger(r,{overlay:t,navUrl:u(n.currentTarget.href),id:u(n.currentTarget.id),isModal:i("#modalDisclosures").length})})),s.off(".digitalAdvisoryDisclosure").on("click-expand.digitalAdvisoryDisclosure",c+".digital-advisory-disclosure",(function(){e.trigger("requestDigitalAdvisoryDisclosure")}))},m=function(e,t,n){var r=n?i:e.context.$,a=r("#jpMorganSecuritiesSpan"+t+" a"),o=r("#accountDisclosuresMessageSpan"+t+" a"),s=r("#bankManagedProductsDisclosureID"+t+" a"),c='<span class="util accessible-text">'+e.model.overlayAnnouncementAda+"</span>",l='<span class="util accessible-text">'+e.model.commaSymbol+e.model.opensPdfAda+"</span>";!a.has("span").length&&a.each((function(){r(this).hasClass("internal-link")&&r(this).attr("href").indexOf(".pdf")>-1?r(this).append(l):r(this).append(c)})),a.attr("data-attr","INVESTMENT_DISCLOSURES.requestJPMorganSecuritiesInformation"),o.attr("data-attr","INVESTMENT_DISCLOSURES.requestAccountDisclosures"),s.attr("href","#"),!s.has("span").length&&s.append(c)},f=function(e,t,n){for(var r=n?i:e.context.$,a=r("#pageDisclosureKeyId"+t+" .content-link"),o=r("#pageDisclosureKeyId"+t+" .external-link"),s=0;s<o.length;s++)o[s].id="pageLevelLink_"+s;a.attr("target","_blank"),!o.has("span").length&&o.append('<span class="util accessible-text">'+e.model.overlayAnnouncementAda+"</span>")};return function(){var e=this,n="",r="";function a(){var t=e.model.typeOfDisclosureDisplayed;return t&&t.type&&e.partials[t.type]?t.type:"investmentDisclosuresDefaultPartial"}this.template=s,this.viewName="investmentDisclosures",this.init=function(){this.bridge=c,this.views=d,this.partials=l,this.model={showModal:!1,footnoteAccordionOpen:!1,articleDisclosuresExpanded:!1},this.bridge.on("state/setFocusOnInvestment",(function(){t.setInvestmentViewFocus.call(e)})),this.bridge.on("state/removeDisclosure",(function(){e.context.$().addClass("hide-visible")})),this.bridge.on("state/toggleDisplay",this.toggleDisplay),this.bridge.on("state/updatePageDisclosuresMessage",(function(){f(e,"",!1),e.model.hiddenPageDisclosures&&m(e,"",!1),p(e,!1),e.model.footnoteAccordionOpen&&(e.model.footnoteAccordionOpen=!1)})),e.bridge.on("state/requestAdditionalDisclosures",(function(){e.model.showModal=!0,f(e,"_overlay",!0),m(e,"_overlay",!0),p(e,!0),t.setInvestmentViewFocus("disclosures_overlay-header")})),e.bridge.on("state/exitAdditionalDisclosures",(function(){e.model.showModal=!1})),e.model.getDisclosurePartial=a,e.onData("ideasAndInsightsCompleteDisclosure",(function(t){if(e.model.articleDisclosuresExpanded=!1,n=t,t.length>300){var i=document.createElement("div");i.innerHTML=t.substr(0,300),e.model.ideasAndInsightsDisclosure=i.innerHTML,r=i.innerHTML}else e.model.ideasAndInsightsDisclosure=t}),{init:!1})},this.toggleDisplay=function(t){e.$footerSection||(e.$footerSection=i(".footerSection")),t.data?e.$footerSection.show():e.$footerSection.hide()},this.toggleFootnoteAccordion=function(t){e.model.footnoteAccordionOpen=!t.context.open},this.reqeustAdditionalArticleDisclosuresView=function(){e.trigger("reqeustAdditionalArticleDisclosures"),e.model.articleDisclosuresExpanded=!0,e.model.ideasAndInsightsDisclosure=n},this.exitAdditionalArticleDisclosuresView=function(){e.trigger("exitAdditionalArticleDisclosures"),e.model.articleDisclosuresExpanded=!1,e.model.ideasAndInsightsDisclosure=r},this.onReady=function(){m(e,"",!1),p(e,!1);var t=e.context.$("#investmentDisclosuresMessageMobile a");!t.has("span").length&&t.append('<span class="util accessible-text">'+e.model.overlayAnnouncementAda+"</span>"),e.context.$("#readCompleteDisclosures").attr({tabindex:-1,"aria-hidden":!0})}}})),define("profileArea/sharedLib/investmentsLib/investmentDisclosuresUtility",["require","profileArea/sharedLib/investmentsLib/constants","bluespec/investment_disclosures","profileArea/sharedLib/investmentsLib/investmentDisclosures","profileArea/sharedLib/investmentsLib/investmentDisclosuresView"],(function(e){"use strict";var t,i=e("profileArea/sharedLib/investmentsLib/constants"),n={name:"investmentDisclosuresComponent",spec:e("bluespec/investment_disclosures"),methods:e("profileArea/sharedLib/investmentsLib/investmentDisclosures"),viewPath:e("profileArea/sharedLib/investmentsLib/investmentDisclosuresView")},r=function(e){return e.loadStructuredContent({key:i.STRUCTURED_CONTENT_NAMES.positions,url:e.context.config.APP_CQ5_HOST_CARD+i.STRUCTURED_CONTENT_URL_MAPPER.disclosures})},a=function(e,i){return t.executeCAV([[t.components[e],n.viewPath,{target:i||"#investmentDisclosures"}]])},o=function(e,i,o,s){return i=i||n.name,(t=this).registry.hasComponent(i)||t.register.components(t,[{name:i,model:s||{},spec:n.spec,methods:n.methods}]),s&&s.typeOfDisclosureDisplayed&&t.components[i]&&t.components[i].model.set("typeOfDisclosureDisplayed",s.typeOfDisclosureDisplayed),r(t.components[i]).then((function(){if(!o)return"paperlessInterstitial"!==t.context.controllerName&&"paperless"!==t.context.controllerName||!t.registry.hasComponent(i)?a(i,e):t.registry.destroyComponent(i).then((()=>a(i,e)))}))};return{setupInvestmentDisclosures:o,setupBeneficiariesDisclosures:o,setupFinancialProfileDisclosures:o,loadStructuredContent:r,updatePageDisclosuresMessage:function(e,i,r){return i=i||n.name,t.components[i]&&t.components[i].updatePageDisclosuresMessage(e,r)},toggleDisplay:function(e){return t.components.investmentDisclosuresComponent&&t.components.investmentDisclosuresComponent.toggleDisplay(e)},componentMapper:n,setContext:function(){t=this}}})),define("profileArea/core/lib/areaContextEnrichment",["profileArea/sharedLib/constants","common/lib/utility/hybridMixin","common/utility/sharedData","profileArea/sharedLib/exitDialogUtil","profileArea/sharedLib/dashboardSettings","common/lib/elementObserver","common/service/interceptor/userProfileComplete","blue-app/settings","profileArea/personalDetails/customerName/service/helpers/eDocsServiceSettings","common/lib/utility/commonComponentsUtil","common/lib/modalApi","profileArea/sharedLib/profileMixin","common/utility/classicResourceUtil","appkit-utilities/accountInfo/accountInfo","bluespec/update_primary_email_address_confirmation","profileArea/sharedLib/sharedView/updatePrimaryEmail/component","profileArea/sharedLib/profileUtil","profileArea/sharedLib/spinnerManager","profileArea/sharedLib/investmentsLib/investmentDisclosuresUtility","appkit-utilities/validation/componentValidate","blue/siteMode"],((e,t,i,n,r,a,o,s,c,l,d,u,p,m,f,A,g,E,y,h,v)=>{"use strict";return function(C){C.userInfoPromise.then((function(){var e=C.userInfo||C.site.user,t=new m({profileType:e.profileType,segmentType:e.segment,userType:e.userType});C.accountInfo=C.accountInfo||t,C.userInfo=e})),C.constants=e,C.renderTarget=e.renderTarget,C.hybridMixin=t,C.sharedData=i,C.exitDialogUtil=n,C.dashboardSettings=r,C.elementObserver=new a,C.commonComponentsUtilWrapper=l,C.modalApi=d,C.profileMixin=u,C.classicResourceUtil=p,C.isProfilePaperlessBlock="paperlessPreferences",C.updatePrimaryEmailViewPath="/profileArea/sharedLib/sharedView/updatePrimaryEmail/view",C.profileUrls=e.profileUrls,C.paperlessUpdatePrimaryEmail={methods:A,spec:f},C.investmentDisclosuresUtility=y,s.set(c),C.spinnerManager=E,C.eDocsServiceSettings=s,C.serviceInterceptors=[o],C.profileUtil=g,C.componentValidate=h,C.siteMode=v}})),define("profileArea/core/lib/featureProvider",["require"],(function(e){"use strict";return function(t){var i={};return e("common/lib/featureFlags/featureMixin").call(i,t),i.addFeatures({newEmailPageEnabled:{key:"cxo.profile.newEmailPage.enable",defaultValue:!1},newMyDevicesPageEnabled:{key:"cxo.profile.newMyDevicesPage.enable",defaultValue:!0},newSecurityCodePageEnabled:{key:"cxo.profile.newSecurityCodePage.enable",defaultValue:!1},newPrivacyPreferencesPageEnabled:{key:"cxo.profile.newPrivacyPrefsPage.enable",defaultValue:!1},enableJumboCustomGroupsMenu:{key:"cxo.profile.jumboCustomer.manageCustomGroup.enable",defaultValue:!1},enableChasePayLinkedApps:{key:"cxo.profile.chasePayLinkedApps.enable",defaultValue:!1},enableTwoFactorAuthentication:{key:"cxo.profile.twoFactorAuthentication.enable",defaultValue:!1},enableUpdateOverviewPreference:{key:"cxo.profile.updateOverviewPreference.enable",defaultValue:!1},msLocationDetailsEnabled:{key:"cxo.merchantServices.locationENA.settings.enabled",defaultValue:!1},idLinkingEligibility:{key:"cb.idLinking.eligibility",defaultValue:!1}}),i}})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd",["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).OctagonFeatureFlagsSplitIO={})}(this,(function(e){"use strict";function t(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function i(e){return t(e)?"message"in e?`${e.message}`:JSON.stringify(e):`${e}`}var n=Object.defineProperty,r=(e,t,i)=>((e,t,i)=>t in e?n(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i)(e,"symbol"!=typeof t?t+"":t,i);class a{constructor(){r(this,"metaData"),r(this,"moduleStore"),this.metaData={modules:{}},this.moduleStore={}}registerModule(e,t){if(!this.has(e)){if(!Reflect.defineProperty(this.moduleStore,e,{value:t,configurable:!1,enumerable:!0,writable:!1}))throw new Error(`Unable to set "${e}" in Octagon global object`);this.metaData.modules[e]=(null==t?void 0:t.meta)||{version:"unknown"}}return this.get(e)}has(e){return Reflect.has(this.moduleStore,e)}get(e){return Reflect.get(this.moduleStore,e)}meta(){return this.metaData}}const o=globalThis||window||self||global||{};void 0===o.Octagon&&Reflect.defineProperty(o,"Octagon",{value:new a,configurable:!1,enumerable:!0,writable:!1});const s=o.Octagon,c=e=>s.registerModule(`sharedData:${e}`,(()=>{let e,t;const i=new Promise((e=>{t=e}));return{get:()=>i,getData:()=>e,meta:{version:"1.1.1",name:"@octagon/shared-data",created:(new Date).getTime()},set:i=>(e||(e=i,t(i)),e)}})());var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function u(e,t,i){if(i||2===arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;const p="SplitIOSDK",m="SplitIOSDK-Client",f="SplitIOSDK-AttributesReady-Start",A="SplitIOSDK-AttributesReady-End",g="SplitIOSDK-DefaultClient-AttributesReady-Start",E="SplitIOSDK-DefaultClient-AttributesReady-End",y="SplitIOSDK-UserClient-AttributesReady-Start",h="SplitIOSDK-UserClient-AttributesReady-End";function v(){return c(p).getData()}function C(){return c(m).getData()}async function _(){c(f).getData()&&await c(A).get(),c(g).getData()&&await c(E).get(),c(y).getData()&&await c(h).get()}const S="octagondefault";function T(e){return e||S}async function N(e){await e.ready().catch((e=>{throw e}))}async function I(){const e=await c(p).get(),t=D(e,C()),{splitSdk:i}=e;return i.client(t)}function b(){const e=v();if(!e)return null;const{splitSdk:t}=e,i=D(e,C());return t.client(i)}function D(e,t){return(null==t?void 0:t.splitKey)??(null==e?void 0:e.splitKey)??S}function O(e,i){const n=e.filter((e=>{const n=i[e];if(void 0===n)return!0;const r=t(a=n)?a.treatment:a;var a;return null===r||""===r}));return n.length?`Split: Default feature value is not present for [${n.join(", ")}]`:null}function P(e,t){let i={};for(const[n,r]of Object.entries(e)){const e=L(r,t[n]);i={...i,[n]:e}}return i}function L(e,t){const{treatment:i,config:n}=e;return"control"===i?t??null:n?e:"off"!==i&&("on"===i||i)}var M=Object.assign||function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");e=Object(e);for(var t=1;t<arguments.length;t++){var i=Object(arguments[t]);for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},R=115,U=223,k=311,F=315,w=318,x=319,B="settings",H="Factory instantiation",V="Client instantiation",G="sync:featureflag-changes: ",q=new Set(["splitsdkclientkey","splitsdkversion","splitsdkmachineip","splitsdkmachinename","splitsdkimpressionsmode","host","referrer","content-type","content-length","content-encoding","accept","keep-alive","x-fastly-debug"]);function Y(e,t){var i;if(null===(i=e.sync.requestOptions)||void 0===i?void 0:i.getHeaderOverrides)try{var n=e.sync.requestOptions.getHeaderOverrides({headers:M({},t)});Object.keys(n).filter((function(e){return!q.has(e.toLowerCase())})).forEach((function(e){return t[e]=n[e]}))}catch(t){e.log.error("Problem adding custom headers to request decorator: "+t)}return t}var W="Global fetch API is not available.";var K="control",j={treatment:K,config:null},Q="DEBUG",z="OPTIMIZED",X="NONE",$="localhost",J="standalone",Z="producer",ee="consumer",te="consumer_partial",ie="MEMORY",ne="LOCALSTORAGE",re="GRANTED",ae="DECLINED",oe="UNKNOWN",se="getTreatment",ce="getTreatments",le="getTreatmentWithConfig",de="getTreatmentsWithConfig",ue="getTreatmentsByFlagSet",pe="getTreatmentsByFlagSets",me="getTreatmentsWithConfigByFlagSet",fe="getTreatmentsWithConfigByFlagSets",Ae="track",ge="split",Ee="splits",ye="names",he="te",ve="IN_SEGMENT",Ce={headers:{"Cache-Control":"no-cache"}};function _e(e){return"users="+encodeURIComponent(e)}function Se(e,t,i){var n=e.urls,r=e.sync.__splitFiltersValidation&&e.sync.__splitFiltersValidation.queryString,a=e.sync.impressionsMode,o=e.sync.flagSpecVersion,s=function(e,t){var i=t.getOptions,n=t.getFetch,r=e.log,a=e.core.authorizationKey,o=e.version,s=e.runtime,c=s.ip,l=s.hostname,d=i&&i(e),u=n&&n(e);u||r.error(303,[W]);var p={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+a,SplitSDKVersion:o};return c&&(p.SplitSDKMachineIP=c),l&&(p.SplitSDKMachineName=l.replace(/[^\x00-\xFF]/g,"")),function(t,i,n,a){void 0===i&&(i={}),void 0===n&&(n=function(){}),void 0===a&&(a=!1);var o=M({headers:Y(e,M({},p,i.headers||{})),method:i.method||"GET",body:i.body},d);return u?u(t,o).then((function(e){return e.ok?(n(),e):e.text().then((function(t){return Promise.reject({response:e,message:t})}))})).catch((function(e){var i=e&&e.response,o="";if(i)switch(i.status){case 404:o="Invalid SDK key or resource not found.";break;default:o=e.message}else o=e.message||"Network Error";i&&403===i.status||r[a?"info":"error"](322,[i?i.status:"NO_STATUS",t,o]);var s=new Error(o);throw s.statusCode=i&&i.status,n(s),s})):Promise.reject(new Error(W))}}(e,t);return{getSdkAPIHealthCheck:function(){var e=n.sdk+"/version";return s(e).then((function(){return!0})).catch((function(){return!1}))},getEventsAPIHealthCheck:function(){var e=n.events+"/version";return s(e).then((function(){return!0})).catch((function(){return!1}))},fetchAuth:function(e){var t=n.auth+"/v2/auth?s="+o;if(e){var r=e.map(_e).join("&");r&&(t+="&"+r)}return s(t,void 0,i.trackHttp("to"))},fetchSplitChanges:function(t,a,c){var l=n.sdk+"/splitChanges?s="+o+"&since="+t+(r||"")+(c?"&till="+c:"");return s(l,a?Ce:void 0,i.trackHttp("sp")).catch((function(t){throw 414===t.statusCode&&e.log.error(327),t}))},fetchSegmentChanges:function(e,t,r,a){var o=n.sdk+"/segmentChanges/"+t+"?since="+e+(a?"&till="+a:"");return s(o,r?Ce:void 0,i.trackHttp("se"))},fetchMemberships:function(e,t,r){var a=n.sdk+"/memberships/"+encodeURIComponent(e)+(r?"?till="+r:"");return s(a,t?Ce:void 0,i.trackHttp("ms"))},postEventsBulk:function(e,t){var r=n.events+"/events/bulk";return s(r,{method:"POST",body:e,headers:t},i.trackHttp("ev"))},postTestImpressionsBulk:function(e,t){var r=n.events+"/testImpressions/bulk";return s(r,{method:"POST",body:e,headers:M({SplitSDKImpressionsMode:a},t)},i.trackHttp("im"))},postTestImpressionsCount:function(e,t){var r=n.events+"/testImpressions/count";return s(r,{method:"POST",body:e,headers:t},i.trackHttp("ic"))},postUniqueKeysBulkCs:function(e,t){var r=n.telemetry+"/v1/keys/cs";return s(r,{method:"POST",body:e,headers:t},i.trackHttp(he))},postUniqueKeysBulkSs:function(e,t){var r=n.telemetry+"/v1/keys/ss";return s(r,{method:"POST",body:e,headers:t},i.trackHttp(he))},postMetricsConfig:function(e,t){var r=n.telemetry+"/v1/metrics/config";return s(r,{method:"POST",body:e,headers:t},i.trackHttp(he),!0)},postMetricsUsage:function(e,t){var r=n.telemetry+"/v1/metrics/usage";return s(r,{method:"POST",body:e,headers:t},i.trackHttp(he),!0)}}}function Te(e,t,i,n){void 0===n&&(n="task");var r,a,o,s=0,c=!1,l=0;function d(){for(var i=[],a=0;a<arguments.length;a++)i[a]=arguments[a];return s++,e.debug(37,[n]),r=(r?r.then((function(){return t.apply(void 0,i)})):t.apply(void 0,i)).then((function(e){return s--,e}))}function u(e){return d.apply(void 0,a).then((function(t){return c&&e===l&&(o=setTimeout(u,i,e)),t}))}return{execute:d,isExecuting:function(){return s>0},start:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(!c)return c=!0,l++,a=t,e.debug(36,[n,i]),u(l)},stop:function(){c&&(c=!1,e.debug(38,[n]),clearTimeout(o),o=void 0)},isRunning:function(){return c}}}function Ne(e,t,i,n,r,a,o,s){void 0===o&&(o=0);var c,l=0;return Te(e,(function(){if(i.isEmpty()&&!c)return Promise.resolve();var n="number"==typeof(c=i.pop(c)).length?c.length+" "+r:r;e[s?"debug":"info"](116,[n]);var d=JSON.stringify(a?a(c):c);return o||(c=void 0),t(d).then((function(){l=0,c=void 0})).catch((function(t){o?l===o?(l=0,c=void 0,e[s?"debug":"warn"](209,[n,t])):(l++,e[s?"debug":"warn"](210,[n,t])):e[s?"debug":"warn"](209,[n,t])}))}),n,r+" submitter")}function Ie(e,t){var i,n=!1,r=e.start;e.start=function(){n=!0,i=setTimeout(r,t)};var a=e.stop;return e.stop=function(){n=!1,clearTimeout(i),a()},e.isRunning=function(){return n},e}var be="events";function De(e){var t=e.settings,i=t.log,n=t.scheduler.eventsPushRate,r=t.startup.eventsFirstPushWindow,a=e.splitApi.postEventsBulk,o=e.storage.events,s=Ne(i,a,o,n,be);return r>0&&(s=Ie(s,r)),o.setOnFullQueueCb((function(){s.isRunning()&&(i.info(R,[be]),s.execute())})),s}function Oe(e,t){var i;if(Fe(e))for(var n=Object.keys(e),r=0;r<n.length&&!i;r++){var a=n[r];t(e[a],a,e)&&(i=e[a])}else if(Array.isArray(e))for(r=0;r<e.length&&!i;r++){t(e[r],r,e)&&(i=e[r])}return i}function Pe(e,t){if(Array.isArray(e)&&"function"==typeof t)for(var i=0;i<e.length;i++)if(!0===t(e[i],i,e))return i;return-1}function Le(e,t){return Object.keys(e).forEach((function(i){return t(e[i],i,e)})),e}function Me(e,t,i){var n=i;try{var r=t.split("."),a=e;r.forEach((function(e){return a=a[e]})),void 0!==a&&(n=a)}catch(e){}return n}function Re(e){return!0===e||!1===e}function Ue(e){return e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&(Number.isFinite?Number.isFinite(e):isFinite(e))}function ke(e){return e instanceof Number&&(e=e.valueOf()),e!=e}function Fe(e){return null!==e&&"object"==typeof e&&(e.constructor===Object||null!=e.constructor&&"Object"===e.constructor.name)}function we(e){return"string"==typeof e||e instanceof String}function xe(e){return we(e)?e.toUpperCase():e}function Be(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];var r=e;if(Fe(t)&&Object.keys(t).forEach((function(e){var i=t[e];Fe(i)&&(i=r[e]&&Fe(r[e])?Be({},r[e],i):Be({},i)),void 0!==i&&(r[e]=i)})),i&&i.length){var a=i.splice(0,1)[0];r=Be.apply(void 0,u([r,a],i,!1))}return r}function He(e,t){return!(!we(e)||!we(t))&&e.slice(0,t.length)===t}function Ve(e){if("number"==typeof e)return e;if(Fe(e)&&"function"==typeof e.valueOf){var t=e.valueOf();e=Fe(t)?t+"":t}return"string"!=typeof e?0===e?e:+e:+(e=e.replace(/^\s+|\s+$/g,""))}function Ge(e){if(null==e)return"";if("string"==typeof e)return e;if(Array.isArray(e))return e.map((function(e){return we(e)?e:""}))+"";var t=e+"";return"0"===t&&1/e===Number.NEGATIVE_INFINITY?"-0":t}function qe(e){var t={};return e.filter((function(e){return!Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=!0)}))}var Ye="impressions";function We(e,t){var i=function(e,t){var i={};if(Array.isArray(e)&&we(t))for(var n=0;n<e.length;n++){var r=e[n][t];we(r)&&(i[r]||(i[r]=[]),i[r].push(e[n]))}return i}(t,"feature"),n=[];return Le(i,(function(t,i){n.push({f:i,i:t.map((function(t){return{k:t.keyName,t:t.treatment,m:t.time,c:t.changeNumber,r:e?t.label:void 0,b:t.bucketingKey,pt:t.pt,properties:t.properties}}))})})),n}function Ke(e){var t=e.settings,i=t.log,n=t.scheduler.impressionsRefreshRate,r=t.core.labelsEnabled,a=e.splitApi.postTestImpressionsBulk,o=e.storage.impressions,s=Ne(i,a,o,n,Ye,We.bind(void 0,r),1);return o.setOnFullQueueCb((function(){s.isRunning()&&(i.info(R,[Ye]),s.execute())})),s}function je(e){for(var t=[],i=Object.keys(e),n=0;n<i.length;n++){var r=i[n].split("::");if(2===r.length){var a=r[0],o=r[1],s={f:a,m:Number(o),rc:e[i[n]]};t.push(s)}}return{pf:t}}function Qe(e){return Ne(e.settings.log,e.splitApi.postTestImpressionsCount,e.storage.impressionCounts,18e5,"impression counts",je,1)}var ze="state::splits-arrived",Xe="state::splits-cache-loaded",$e="state::segments-arrived",Je="init::timeout",Ze="init::ready",et="init::cache-ready",tt="state::update";function it(e){return ee===e||te===e}var nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/;function rt(e,t,i,n){if(void 0===n&&(n="feature flag name"),null==t)e.error(F,[i,n]);else if(we(t)){if(nt.test(t)&&(e.warn(214,[i,n,t]),t=t.trim()),t.length>0)return t;e.error(x,[i,n])}else e.error(w,[i,n]);return!1}function at(e,t,i,n,r){if(void 0===n&&(n="feature flag names"),void 0===r&&(r="feature flag name"),Array.isArray(t)&&t.length>0){var a=[];if(t.forEach((function(t){var n=rt(e,t,i,r);n&&a.push(n)})),a.length)return qe(a)}return e.error(320,[i,n]),!1}var ot=[{type:"bySet",maxLength:50,queryParam:"sets="},{type:"byName",maxLength:400,queryParam:"names="},{type:"byPrefix",maxLength:50,queryParam:"prefixes="}],st=/^[a-z0-9][_a-z0-9]{0,49}$/,ct=/[A-Z]/;function lt(e,t,i){return qe(t.map((function(t){return ct.test(t)&&(e.warn(226,[i,t]),t=t.toLowerCase()),t})).filter((function(t){return st.test(t)?"string"==typeof t:(e.warn(225,[i,t,st,t]),!1)})))}function dt(e,t){return Oe(e,(function(e){return e.type===t&&e.values.length>0}))}function ut(e,t,i){var n,r,a={validFilters:[],queryString:null,groupedFilters:{bySet:[],byName:[],byPrefix:[]}};return t?it(i)?(e.warn(219),a):Array.isArray(t)&&0!==t.length?(a.validFilters=t.filter((function(t,i){return t&&(n=t.type,ot.some((function(e){return e.type===n})))&&Array.isArray(t.values)?(a.groupedFilters[t.type]=a.groupedFilters[t.type].concat(t.values),!0):(e.warn(220,[i]),!1);var n})),ot.forEach((function(t){var i=t.type,n=t.maxLength;a.groupedFilters[i].length>0&&(a.groupedFilters[i]=function(e,t,i,n){var r=at(e,i,B,t+" filter",t+" filter value");if(r){if("bySet"===t&&(r=lt(e,r,B)),r.length>n)throw new Error(n+" unique values can be specified at most for '"+t+"' filter. You passed "+r.length+". Please consider reducing the amount or using other filter.");r.sort()}return r||[]}(e,i,a.groupedFilters[i],n))})),dt(a.validFilters,"bySet")&&((dt(a.validFilters,"byName")||dt(a.validFilters,"byPrefix"))&&e.error(328),M(a.groupedFilters,{byName:[],byPrefix:[]})),a.queryString=(n=a.groupedFilters,r=[],ot.forEach((function(e){var t=e.type,i=e.queryParam,a=n[t];a.length>0&&r.push(i+a.map((function(e){return encodeURIComponent(e)})).join(","))})),r.length>0?"&"+r.join("&"):null),e.debug(39,[a.queryString]),a):(e.warn(221),a):a}function pt(e,t,i,n){if(null==t)return e.error(F,[i,n]),!1;if(Ue(t))return e.warn(213,[i,n,t]),Ge(t);if(we(t)){if((t=t.trim()).length>0&&t.length<=250)return t;0===t.length?e.error(x,[i,n]):t.length>250&&e.error(316,[i,n])}else e.error(w,[i,n]);return!1}function mt(e,t,i){if(Fe(t)){var n=pt(e,t.matchingKey,i,"matchingKey"),r=pt(e,t.bucketingKey,i,"bucketingKey");return n&&r?{matchingKey:n,bucketingKey:r}:(e.error(317,[i]),!1)}return pt(e,t,i,"key")}var ft={mode:J,core:{authorizationKey:void 0,key:void 0,labelsEnabled:!0,IPAddressesEnabled:void 0},scheduler:{featuresRefreshRate:60,segmentsRefreshRate:60,telemetryRefreshRate:3600,impressionsRefreshRate:300,offlineRefreshRate:15,eventsPushRate:60,eventsQueueSize:500,impressionsQueueSize:3e4,pushRetryBackoffBase:1},urls:{sdk:"https://sdk.split.io/api",events:"https://events.split.io/api",auth:"https://auth.split.io/api",streaming:"https://streaming.split.io",telemetry:"https://telemetry.split.io/api"},storage:void 0,debug:void 0,impressionListener:void 0,version:void 0,integrations:void 0,streamingEnabled:!0,sync:{splitFilters:void 0,impressionsMode:z,enabled:!0,flagSpecVersion:"1.2"},log:void 0};function At(e){return Math.round(1e3*e)}function gt(e,t){var i=t.defaults,n=t.runtime,r=t.storage,a=t.integrations,o=t.logger,s=t.consent,c=t.flagSpec,l=Be({},ft,i,e);l.features=Me(e,"features");var d=o(l);l.log=d;var u=l.sync;u.impressionsMode=function(e,t){return t=xe(t),[Q,z,X].indexOf(t)>-1?t:(e.error(321,["impressionsMode",[Q,z,X],z]),z)}(d,u.impressionsMode);var p,m,f,A=l.scheduler,g=l.startup;A.featuresRefreshRate=At(A.featuresRefreshRate),A.segmentsRefreshRate=At(A.segmentsRefreshRate),A.offlineRefreshRate=At(A.offlineRefreshRate),A.eventsPushRate=At(A.eventsPushRate),A.telemetryRefreshRate=At((p="telemetryRefreshRate",(m=A.telemetryRefreshRate)>=(f=60)?m:(d.error(326,[p,f]),f))),void 0===Me(e,"scheduler.impressionsRefreshRate")&&u.impressionsMode===Q&&(A.impressionsRefreshRate=60),A.impressionsRefreshRate=At(A.impressionsRefreshRate),A.metricsRefreshRate&&d.warn("`metricsRefreshRate` will be deprecated soon. For configuring telemetry rates, update `telemetryRefreshRate` value in configs"),g.requestTimeoutBeforeReady=At(g.requestTimeoutBeforeReady),g.readyTimeout=At(g.readyTimeout),g.eventsFirstPushWindow=At(g.eventsFirstPushWindow),l.mode=function(e,t){if("localhost"===e)return $;if(-1===[J,Z,ee,te].indexOf(t))throw Error("Invalid mode provided");return t}(l.core.authorizationKey,l.mode),r&&(l.storage=r(l));var E=l.core.key;l.mode===$&&void 0===E?l.core.key="localhost_key":l.core.key=mt(d,E,V),l.runtime=n(l),a&&(l.integrations=a(l)),!1!==l.streamingEnabled&&(l.streamingEnabled=!0,A.pushRetryBackoffBase=At(A.pushRetryBackoffBase)),!1!==u.enabled&&(u.enabled=!0);var y=ut(d,u.splitFilters,l.mode);return u.splitFilters=y.validFilters,u.__splitFiltersValidation=y,u.flagSpecVersion=c?c(l):"1.2",l.userConsent=s?s(l):void 0,l}var Et="sdk_key";var yt,ht,vt,Ct={};function _t(e,t){var i=function(e,t){var i=!1;return null==t?e.error(F,[H,Et]):we(t)?t.length>0?i=t:e.error(x,[H,Et]):e.error(w,[H,Et]),i}(e,t);return i&&(Ct[i]?(e.warn(222,[Ct[i]+" factory/ies with this SDK Key"]),Ct[i]++):(Ct[i]=1,Object.keys(Ct).length>1&&e.warn(222,["an instance of the Split factory"]))),i}function St(e){var t=e();return function(){return Math.round(e()-t)}}var Tt=((yt={})[J]=0,yt[ee]=1,yt[te]=2,yt),Nt=((ht={})[z]=0,ht[Q]=1,ht[X]=2,ht),It=((vt={}).UNKNOWN=1,vt.GRANTED=2,vt.DECLINED=3,vt);function bt(e,t){return{isEmpty:function(){return!1},clear:function(){},pop:function(){var i,n,r=t.urls,a=t.scheduler,o=void 0!==t.core.key,s=function(e){var t=0;e.validFilters.forEach((function(e){"bySet"===e.type&&(t+=e.values.length)}));var i=e.groupedFilters.bySet.length;return{flagSetsTotal:t,flagSetsIgnored:t-i}}(t.sync.__splitFiltersValidation),c=s.flagSetsTotal,l=s.flagSetsIgnored;return M((i=t.mode,n=t.storage.type,{oM:Tt[i],st:n.toLowerCase(),aF:Object.keys(Ct).length,rF:Object.keys(Ct).reduce((function(e,t){return e+Ct[t]-1}),0)}),{sE:t.streamingEnabled,rR:{sp:a.featuresRefreshRate/1e3,se:o?void 0:a.segmentsRefreshRate/1e3,ms:o?a.segmentsRefreshRate/1e3:void 0,im:a.impressionsRefreshRate/1e3,ev:a.eventsPushRate/1e3,te:a.telemetryRefreshRate/1e3},uO:{s:r.sdk!==ft.urls.sdk,e:r.events!==ft.urls.events,a:r.auth!==ft.urls.auth,st:r.streaming!==ft.urls.streaming,t:r.telemetry!==ft.urls.telemetry},iQ:a.impressionsQueueSize,eQ:a.eventsQueueSize,iM:Nt[t.sync.impressionsMode],iL:!!t.impressionListener,hP:!1,tR:e.getTimeUntilReady(),tC:e.getTimeUntilReadyFromCache(),nR:e.getNonReadyUsage(),t:e.popTags(),i:t.integrations&&t.integrations.map((function(e){return e.type})),uC:t.userConsent?It[t.userConsent]:0,fsT:c,fsI:l})}}}var Dt="unique keys";function Ot(e){var t=e.settings,i=t.log,n=t.core.key,r=e.splitApi,a=r.postUniqueKeysBulkCs,o=r.postUniqueKeysBulkSs,s=e.storage.uniqueKeys,c=Ne(i,void 0!==n?a:o,s,9e5,Dt);return s.setOnFullQueueCb((function(){c.isRunning()&&(i.info(R,[Dt]),c.execute())})),c}function Pt(e){var t=[Ke(e),De(e),Qe(e),Ot(e)],i=function(e){var t=e.storage.telemetry,i=e.platform.now;if(t&&i){var n=e.settings,r=e.settings,a=r.log,o=r.scheduler.telemetryRefreshRate,s=e.splitApi,c=e.readiness,l=e.sdkReadinessManager,d=St(i),u=Ie(Ne(a,s.postMetricsUsage,t,o,"telemetry stats",void 0,0,!0),o);return c.gate.once(et,(function(){t.recordTimeUntilReadyFromCache(d())})),l.incInternalReadyCbCount(),c.gate.once(Ze,(function(){t.recordTimeUntilReady(d()),u.isRunning()&&Ne(a,s.postMetricsConfig,bt(t,n),0,"telemetry config",void 0,0,!0).execute()})),u}}(e);return{start:function(e){e||t.forEach((function(e){return e.start()})),i&&i.start()},stop:function(e){t.forEach((function(e){return e.stop()})),!e&&i&&i.stop()},isRunning:function(){return t.some((function(e){return e.isRunning()}))},execute:function(e){var n=e?[]:t.map((function(e){return e.execute()}));return i&&n.push(i.execute()),Promise.all(n)},isExecuting:function(){return t.some((function(e){return e.isExecuting()}))}}}var Lt,Mt,Rt="PUSH_NONRETRYABLE_ERROR",Ut="PUSH_RETRYABLE_ERROR",kt="PUSH_SUBSYSTEM_UP",Ft="PUSH_SUBSYSTEM_DOWN",wt="MEMBERSHIPS_MS_UPDATE",xt="MEMBERSHIPS_LS_UPDATE",Bt="SEGMENT_UPDATE",Ht="SPLIT_KILL",Vt="SPLIT_UPDATE",Gt="CONTROL",qt="OCCUPANCY";function Yt(e){var t=e.userConsent;return!t||t===re}(Mt=Lt||(Lt={})).STREAMING_DISABLED="STREAMING_DISABLED",Mt.STREAMING_PAUSED="STREAMING_PAUSED",Mt.STREAMING_RESUMED="STREAMING_RESUMED",Mt.STREAMING_RESET="STREAMING_RESET";var Wt=function(){function e(t,i,n){this.baseMillis=e.__TEST__BASE_MILLIS||i||e.DEFAULT_BASE_MILLIS,this.maxMillis=e.__TEST__MAX_MILLIS||n||e.DEFAULT_MAX_MILLIS,this.attempts=0,this.cb=t}return e.prototype.scheduleCall=function(){var e=this,t=Math.min(this.baseMillis*Math.pow(2,this.attempts),this.maxMillis);return this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){e.timeoutID=void 0,e.cb()}),t),this.attempts++,t},e.prototype.reset=function(){this.attempts=0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=void 0)},e.DEFAULT_BASE_MILLIS=1e3,e.DEFAULT_MAX_MILLIS=18e5,e}();var Kt=[/control_pri$/,/control_sec$/],jt=[10,20];function Qt(e,t,i){var n=function(e,t){var i=Kt.map((function(e){return{regex:e,hasPublishers:!0,oTime:-1,cTime:-1}})),n=!0,r=!0;return{handleOpen:function(){t.streamingEvent(0),e.emit(kt)},isStreamingUp:function(){return r&&n},handleOccupancyEvent:function(a,o,s){for(var c=0;c<i.length;c++){var l=i[c];if(l.regex.test(o)){if(t.streamingEvent(jt[c],a),s>l.oTime){l.oTime=s,l.hasPublishers=0!==a;var d=i.some((function(e){return e.hasPublishers}));r&&(!d&&n?e.emit(Ft):d&&!n&&e.emit(kt)),n=d}return}}},handleControlEvent:function(a,o,s){if(a!==Lt.STREAMING_RESET)for(var c=0;c<i.length;c++){var l=i[c];if(l.regex.test(o))return void(s>l.cTime&&(l.cTime=s,a===Lt.STREAMING_DISABLED?(t.streamingEvent(30,0),e.emit(Rt)):n&&(a===Lt.STREAMING_PAUSED&&r?(t.streamingEvent(30,2),e.emit(Ft)):a!==Lt.STREAMING_RESUMED||r||(t.streamingEvent(30,1),e.emit(kt))),r=a===Lt.STREAMING_RESUMED))}else e.emit(a)}}}(t,i);return{handleOpen:function(){n.handleOpen()},handleError:function(n){var r=n;try{r=function(e){return we(e.data)&&(e.parsedData=JSON.parse(e.data)),e}(n)}catch(t){e.warn(206,[t])}var a=r.parsedData&&r.parsedData.message||r.message;e.error(305,[a]),!function(e){if(e.parsedData&&e.parsedData.code){var t=e.parsedData.code;if(i.streamingEvent(60,t),40140<=t&&t<=40149)return!0;if(4e4<=t&&t<=49999)return!1}else i.streamingEvent(40,1);return!0}(r)?t.emit(Rt):t.emit(Ut)},handleMessage:function(i){var r;try{if(!(r=function(e){if(e.data){var t=JSON.parse(e.data);return t.parsedData=JSON.parse(t.data),t.name&&"[meta]occupancy"===t.name&&(t.parsedData.type=qt),t}}(i)))return}catch(t){return void e.warn(207,[t])}var a=r.parsedData,o=r.data,s=r.channel,c=r.timestamp;if(e.debug(35,[o]),n.isStreamingUp()||-1!==[qt,Gt].indexOf(a.type))switch(a.type){case Vt:case Bt:case wt:case xt:case Ht:t.emit(a.type,a);break;case qt:n.handleOccupancyEvent(a.metrics.publishers,s,c);break;case Gt:n.handleControlEvent(a.controlType,s,c)}}}}function zt(e,t,i,n){var r,a,o;function s(t){var r,s,c,l=0,d=-1,u=!1,p=new Wt(m);function m(){if(r=!0,l>Math.max(d,t.getChangeNumber())){u=!1;var f=l;(a?new Promise((function(e){o=setTimeout((function(){a=void 0,i.execute(c,!0,s?l:void 0).then(e)}),a)})):i.execute(c,!0,s?l:void 0)).then((function(i){if(r){if(!1!==i){var a=t.getChangeNumber();d=a>-1?a:Math.max(d,f)}if(u)m();else{c&&n.trackUpdatesFromSSE("ms");var o=p.attempts+1;if(l<=d)return e.debug("Refresh completed"+(s?" bypassing the CDN":"")+" in "+o+" attempts."),void(r=!1);if(o<10)return void p.scheduleCall();s?(e.debug("No changes fetched after "+o+" attempts with CDN bypassed."),r=!1):(p.reset(),s=!0,m())}}}))}else r=!1}return{put:function(e,i,n){var o=e.type,f=e.cn;f<=Math.max(d,t.getChangeNumber())||f<=l||(l=f,a||(u=!0,s=!1,c=i&&{type:o,cn:f,added:i.added,removed:i.removed},a=n,!p.timeoutID&&r||m(),p.reset()))},stop:function(){clearTimeout(o),a=void 0,r=!1,p.reset()}}}var c=((r={}).MEMBERSHIPS_MS_UPDATE=s(t.segments),r.MEMBERSHIPS_LS_UPDATE=s(t.largeSegments),r);return{put:function(e,t,i){c[e.type].put(e,t,i)},stop:function(){c.MEMBERSHIPS_MS_UPDATE.stop(),c.MEMBERSHIPS_LS_UPDATE.stop()}}}function Xt(e,t,i){var n={};return{put:function(r){var a=r.changeNumber,o=r.segmentName;n[o]||(n[o]=function(n){var r,a,o=0,s=!1,c=new Wt(l,1e4,6e4);function l(){r=!0,o>(i.getChangeNumber(n)||-1)?(s=!1,t.execute(!1,n,!0,a?o:void 0).then((function(){if(r)if(s)l();else{var t=c.attempts+1;if(o<=(i.getChangeNumber(n)||-1))return e.debug("Refresh completed"+(a?" bypassing the CDN":"")+" in "+t+" attempts."),void(r=!1);if(t<10)return void c.scheduleCall();a?(e.debug("No changes fetched after "+t+" attempts with CDN bypassed."),r=!1):(c.reset(),a=!0,l())}}))):r=!1}return{put:function(e){e<=(i.getChangeNumber(n)||-1)||e<=o||(o=e,s=!0,a=!1,!c.timeoutID&&r||l(),c.reset())},stop:function(){r=!1,c.reset()}}}(o)),n[o].put(a)},stop:function(){Object.keys(n).forEach((function(e){return n[e].stop()}))}}}var $t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Jt(e){var t=String(e).replace(/[=]+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var i="",n=0,r=void 0,a=void 0,o=0;a=t.charAt(o++);~a&&(r=n%4?64*r+a:a,n++%4)?i+=String.fromCharCode(255&r>>(-2*n&6)):0)a=$t.indexOf(a);return i}var Zt=String.fromCharCode;function ei(e){var t,i,n,r,a;return i=function(e){if("string"!=typeof e)throw TypeError("Illegal argument: "+typeof e);var t=0;return function(){return t>=e.length?null:e.charCodeAt(t++)}}(e),r=[],a=[],n=t=function(){if(0===arguments.length)return a.join("")+Zt.apply(String,r);r.length+arguments.length>1024&&(a.push(Zt.apply(String,r)),r.length=0),Array.prototype.push.apply(r,arguments)},function(e,t){for(var i,n=null;null!==(i=null!==n?n:e());)i>=55296&&i<=57343&&null!==(n=e())&&n>=56320&&n<=57343?(t(1024*(i-55296)+n-56320+65536),n=null):t(i);null!==n&&t(n)}(i,(function(e){!function(e,t){var i=null;for("number"==typeof e&&(i=e,e=function(){return null});null!==i||null!==(i=e());)i<128?t(127&i):i<2048?(t(i>>6&31|192),t(63&i|128)):i<65536?(t(i>>12&15|224),t(i>>6&63|128),t(63&i|128)):(t(i>>18&7|240),t(i>>12&63|128),t(i>>6&63|128),t(63&i|128)),i=null}(e,n)})),t()}
/*!
   * +----------------------------------------------------------------------------------+
   * | murmurHash3.js v3.0.0 (http://github.com/karanlyons/murmurHash3.js)              |
   * | A TypeScript/JavaScript implementation of MurmurHash3's hashing algorithms.      |
   * |----------------------------------------------------------------------------------|
   * | Copyright (c) 2012-2020 Karan Lyons. Freely distributable under the MIT license. |
   * +----------------------------------------------------------------------------------+
   */function ti(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function ii(e,t){return e<<t|e>>>32-t}function ni(e,t){t=t||0;for(var i,n=(e=e||"").length%4,r=e.length-n,a=t,o=0,s=3432918353,c=461845907,l=0;l<r;l+=4)o=ti(o=255&e.charCodeAt(l)|(255&e.charCodeAt(l+1))<<8|(255&e.charCodeAt(l+2))<<16|(255&e.charCodeAt(l+3))<<24,s),o=ti(o=ii(o,15),c),a=ti(a=ii(a^=o,13),5)+3864292196;switch(o=0,n){case 3:o^=(255&e.charCodeAt(l+2))<<16;case 2:o^=(255&e.charCodeAt(l+1))<<8;case 1:o=ti(o^=255&e.charCodeAt(l),s),a^=o=ti(o=ii(o,15),c)}return a^=e.length,i=a,i=ti(i^=i>>>16,2246822507),(a=(i=ti(i^=i>>>13,3266489909))^i>>>16)>>>0}function ri(e,t){return ni(ei(e),t>>>0)}function ai(e,t){return Math.abs(ri(e,t)%100)+1}function oi(e){return function(t){return e(t).then((function(e){return e.json()})).then((function(e){if(e.token){var t=(n=e.token,r=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(Jt(r).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),JSON.parse(a));if("number"!=typeof t.iat||"number"!=typeof t.exp)throw new Error('token properties "issuedAt" (iat) or "expiration" (exp) are missing or invalid');var i=JSON.parse(t["x-ably-capability"]);return M({decodedToken:t,channels:i},e)}var n,r,a;return e}))}}function si(e){return function(e){for(var t=String(e),i="",n=void 0,r=void 0,a=0,o=$t;t.charAt(0|a)||(o="=",a%1);i+=o.charAt(63&n>>8-a%1*8)){if((r=t.charCodeAt(a+=3/4))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|r}return i}(ri(e,0).toString())}var ci=/^control_/;var li,di,ui,pi,mi=function(){function e(e,t){var i=t.getEventSource,n=t.getOptions;if(this.settings=e,this.eventSource=i&&i(e),!this.eventSource)throw new Error("EventSource API is not available.");this.headers=function(e){var t={SplitSDKClientKey:we(e.core.authorizationKey)?e.core.authorizationKey.slice(-4):"",SplitSDKVersion:e.version},i=e.runtime,n=i.ip,r=i.hostname;return n&&(t.SplitSDKMachineIP=n),r&&(t.SplitSDKMachineName=r),t}(e),this.options=n&&n(e)}return e.prototype.setEventHandler=function(e){this.handler=e},e.prototype.open=function(e){var t;this.close();var i=Object.keys(e.channels).map((function(e){var t=ci.test(e)?"[?occupancy=metrics.publishers]":"";return encodeURIComponent(t+e)})).join(","),n=this.settings.urls.streaming+"/sse?channels="+i+"&accessToken="+e.token+"&v=1.1&heartbeats=true",r=!this.settings.core.key;this.connection=new this.eventSource(r?n:n+"&SplitSDKVersion="+this.headers.SplitSDKVersion+"&SplitSDKClientKey="+this.headers.SplitSDKClientKey,M(r?{headers:Y(this.settings,this.headers)}:(null===(t=this.settings.sync.requestOptions)||void 0===t?void 0:t.getHeaderOverrides)?{headers:Y(this.settings,{})}:{},this.options)),this.handler&&(this.connection.addEventListener("open",this.handler.handleOpen),this.connection.addEventListener("message",this.handler.handleMessage),this.connection.addEventListener("error",this.handler.handleError))},e.prototype.close=function(){this.connection&&this.connection.close()},e}();function fi(e){return Fe(e)?e.matchingKey:e}function Ai(e){return Fe(e)?{matchingKey:e.matchingKey,bucketingKey:e.bucketingKey}:{matchingKey:e,bucketingKey:e}}(di=li||(li={}))[di.None=0]="None",di[di.Gzip=1]="Gzip",di[di.Zlib=2]="Zlib",(pi=ui||(ui={}))[pi.UnboundedFetchRequest=0]="UnboundedFetchRequest",pi[pi.BoundedFetchRequest=1]="BoundedFetchRequest",pi[pi.KeyList=2]="KeyList",pi[pi.SegmentRemoval=3]="SegmentRemoval";var gi=function(){if([typeof Uint8Array,typeof Uint16Array,typeof Uint32Array].some((function(e){return"function"!=e})))return"global Uint8Array object is not available for gzip/zlib decompression";var e=Uint8Array,t=Uint16Array,i=Uint32Array,n=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=function(e,n){for(var r=new t(31),a=0;a<31;++a)r[a]=n+=1<<e[a-1];var o=new i(r[30]);for(a=1;a<30;++a)for(var s=r[a];s<r[a+1];++s)o[s]=s-r[a]<<5|a;return[r,o]},s=o(n,2),c=s[0],l=s[1];c[28]=258,l[258]=28;for(var d=o(r,0)[0],u=new t(32768),p=0;p<32768;++p){var m=(43690&p)>>>1|(21845&p)<<1;m=(61680&(m=(52428&m)>>>2|(13107&m)<<2))>>>4|(3855&m)<<4,u[p]=((65280&m)>>>8|(255&m)<<8)>>>1}var f=function(e,i,n){for(var r=e.length,a=0,o=new t(i);a<r;++a)++o[e[a]-1];var s,c=new t(i);for(a=0;a<i;++a)c[a]=c[a-1]+o[a-1]<<1;s=new t(1<<i);var l=15-i;for(a=0;a<r;++a)if(e[a])for(var d=a<<4|e[a],p=i-e[a],m=c[e[a]-1]++<<p,f=m|(1<<p)-1;m<=f;++m)s[u[m]>>>l]=d;return s},A=new e(288);for(p=0;p<144;++p)A[p]=8;for(p=144;p<256;++p)A[p]=9;for(p=256;p<280;++p)A[p]=7;for(p=280;p<288;++p)A[p]=8;var g=new e(32);for(p=0;p<32;++p)g[p]=5;var E=f(A,9),y=f(g,5),h=function(e){for(var t=e[0],i=1;i<e.length;++i)e[i]>t&&(t=e[i]);return t},v=function(e,t,i){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&i},C=function(e,t){var i=t/8|0;return(e[i]|e[i+1]<<8|e[i+2]<<16)>>(7&t)},_=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],S=function(e,t,i){var n=new Error(t||_[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,S),!i)throw n;return n},T=function(o,s,l){var u=o.length;if(!u||l&&l.f&&!l.l)return s||new e(0);var p=!s||l,m=!l||l.i;l||(l={}),s||(s=new e(3*u));var A=function(t){var i=s.length;if(t>i){var n=new e(Math.max(2*i,t));n.set(s),s=n}},g=l.f||0,_=l.p||0,T=l.b||0,N=l.l,I=l.d,b=l.m,D=l.n,O=8*u;do{if(!N){g=v(o,_,1);var P=v(o,_+1,3);if(_+=3,!P){var L=o[(G=4+((_+7)/8|0))-4]|o[G-3]<<8,M=G+L;if(M>u){m&&S(0);break}p&&A(T+L),s.set(o.subarray(G,M),T),l.b=T+=L,l.p=_=8*M,l.f=g;continue}if(1==P)N=E,I=y,b=9,D=5;else if(2==P){var R=v(o,_,31)+257,U=v(o,_+10,15)+4,k=R+v(o,_+5,31)+1;_+=14;for(var F=new e(k),w=new e(19),x=0;x<U;++x)w[a[x]]=v(o,_+3*x,7);_+=3*U;var B=h(w),H=(1<<B)-1,V=f(w,B);for(x=0;x<k;){var G,q=V[v(o,_,H)];if(_+=15&q,(G=q>>>4)<16)F[x++]=G;else{var Y=0,W=0;for(16==G?(W=3+v(o,_,3),_+=2,Y=F[x-1]):17==G?(W=3+v(o,_,7),_+=3):18==G&&(W=11+v(o,_,127),_+=7);W--;)F[x++]=Y}}var K=F.subarray(0,R),j=F.subarray(R);b=h(K),D=h(j),N=f(K,b),I=f(j,D)}else S(1);if(_>O){m&&S(0);break}}p&&A(T+131072);for(var Q=(1<<b)-1,z=(1<<D)-1,X=_;;X=_){var $=(Y=N[C(o,_)&Q])>>>4;if((_+=15&Y)>O){m&&S(0);break}if(Y||S(2),$<256)s[T++]=$;else{if(256==$){X=_,N=null;break}var J=$-254;if($>264){var Z=n[x=$-257];J=v(o,_,(1<<Z)-1)+c[x],_+=Z}var ee=I[C(o,_)&z],te=ee>>>4;ee||S(3),_+=15&ee;j=d[te];if(te>3){Z=r[te];j+=C(o,_)&(1<<Z)-1,_+=Z}if(_>O){m&&S(0);break}p&&A(T+131072);for(var ie=T+J;T<ie;T+=4)s[T]=s[T-j],s[T+1]=s[T+1-j],s[T+2]=s[T+2-j],s[T+3]=s[T+3-j];T=ie}}l.l=N,l.p=X,l.b=T,l.f=g,N&&(g=1,l.m=b,l.d=I,l.n=D)}while(!g);return T==s.length?s:function(n,r,a){(null==a||a>n.length)&&(a=n.length);var o=new(n instanceof t?t:n instanceof i?i:e)(a-r);return o.set(n.subarray(r,a)),o}(s,0,T)};return{gunzipSync:function(t,i){return T(t.subarray(function(e){31==e[0]&&139==e[1]&&8==e[2]||S(6,"invalid gzip data");var t=e[3],i=10;4&t&&(i+=e[10]|2+(e[11]<<8));for(var n=(t>>3&1)+(t>>4&1);n>0;n-=!e[i++]);return i+(2&t)}(t),-8),i||new e((r=(n=t).length,(n[r-4]|n[r-3]<<8|n[r-2]<<16|n[r-1]<<24)>>>0)));var n,r},unzlibSync:function(e,t){return T(((8!=(15&(i=e)[0])||i[0]>>>4>7||(i[0]<<8|i[1])%31)&&S(6,"invalid zlib data"),32&i[1]&&S(6,"invalid zlib data: preset dictionaries not supported"),e.subarray(2,-4)),t);var i}}}();function Ei(e,t){var i,n=Jt(e),r=(i=n.split("").map((function(e){return e.charCodeAt(0)})),new Uint8Array(i));if("string"==typeof gi)throw new Error(gi);if(1===t)return gi.gunzipSync(r);if(2===t)return gi.unzlibSync(r);throw new Error("Invalid compression algorithm #"+t)}function yi(e,t,i){void 0===i&&(i=!0);var n,r=Ei(e,t),a=(n=r,String.fromCharCode.apply(null,n));return i&&(a=a.replace(/\d+/g,'"$&"')),JSON.parse(a)}function hi(e,t){if(0===e.h)return 0;var i=e.i||6e4;return ri(t,e.s||0)%i}function vi(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var i=[0,0,0,0];return i[3]+=e[3]+t[3],i[2]+=i[3]>>>16,i[3]&=65535,i[2]+=e[2]+t[2],i[1]+=i[2]>>>16,i[2]&=65535,i[1]+=e[1]+t[1],i[0]+=i[1]>>>16,i[1]&=65535,i[0]+=e[0]+t[0],i[0]&=65535,[i[0]<<16|i[1],i[2]<<16|i[3]]}function Ci(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var i=[0,0,0,0];return i[3]+=e[3]*t[3],i[2]+=i[3]>>>16,i[3]&=65535,i[2]+=e[2]*t[3],i[1]+=i[2]>>>16,i[2]&=65535,i[2]+=e[3]*t[2],i[1]+=i[2]>>>16,i[2]&=65535,i[1]+=e[1]*t[3],i[0]+=i[1]>>>16,i[1]&=65535,i[1]+=e[2]*t[2],i[0]+=i[1]>>>16,i[1]&=65535,i[1]+=e[3]*t[1],i[0]+=i[1]>>>16,i[1]&=65535,i[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],i[0]&=65535,[i[0]<<16|i[1],i[2]<<16|i[3]]}function _i(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function Si(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function Ti(e,t){return[e[0]^t[0],e[1]^t[1]]}function Ni(e){return e=Ti(e,[0,e[0]>>>1]),e=Ti(e=Ci(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=Ti(e=Ci(e,[3301882366,444984403]),[0,e[0]>>>1])}function Ii(e,t){return function(e,t){t=t||0;for(var i=(e=e||"").length%16,n=e.length-i,r=[0,t],a=[0,t],o=[0,0],s=[0,0],c=[2277735313,289559509],l=[1291169091,658871167],d=0;d<n;d+=16)o=[255&e.charCodeAt(d+4)|(255&e.charCodeAt(d+5))<<8|(255&e.charCodeAt(d+6))<<16|(255&e.charCodeAt(d+7))<<24,255&e.charCodeAt(d)|(255&e.charCodeAt(d+1))<<8|(255&e.charCodeAt(d+2))<<16|(255&e.charCodeAt(d+3))<<24],s=[255&e.charCodeAt(d+12)|(255&e.charCodeAt(d+13))<<8|(255&e.charCodeAt(d+14))<<16|(255&e.charCodeAt(d+15))<<24,255&e.charCodeAt(d+8)|(255&e.charCodeAt(d+9))<<8|(255&e.charCodeAt(d+10))<<16|(255&e.charCodeAt(d+11))<<24],o=_i(o=Ci(o,c),31),r=vi(r=_i(r=Ti(r,o=Ci(o,l)),27),a),r=vi(Ci(r,[0,5]),[0,1390208809]),s=_i(s=Ci(s,l),33),a=vi(a=_i(a=Ti(a,s=Ci(s,c)),31),r),a=vi(Ci(a,[0,5]),[0,944331445]);switch(o=[0,0],s=[0,0],i){case 15:s=Ti(s,Si([0,e.charCodeAt(d+14)],48));case 14:s=Ti(s,Si([0,e.charCodeAt(d+13)],40));case 13:s=Ti(s,Si([0,e.charCodeAt(d+12)],32));case 12:s=Ti(s,Si([0,e.charCodeAt(d+11)],24));case 11:s=Ti(s,Si([0,e.charCodeAt(d+10)],16));case 10:s=Ti(s,Si([0,e.charCodeAt(d+9)],8));case 9:s=Ci(s=Ti(s,[0,e.charCodeAt(d+8)]),l),a=Ti(a,s=Ci(s=_i(s,33),c));case 8:o=Ti(o,Si([0,e.charCodeAt(d+7)],56));case 7:o=Ti(o,Si([0,e.charCodeAt(d+6)],48));case 6:o=Ti(o,Si([0,e.charCodeAt(d+5)],40));case 5:o=Ti(o,Si([0,e.charCodeAt(d+4)],32));case 4:o=Ti(o,Si([0,e.charCodeAt(d+3)],24));case 3:o=Ti(o,Si([0,e.charCodeAt(d+2)],16));case 2:o=Ti(o,Si([0,e.charCodeAt(d+1)],8));case 1:o=Ci(o=Ti(o,[0,e.charCodeAt(d)]),c),r=Ti(r,o=Ci(o=_i(o,31),l))}return r=vi(r=Ti(r,[0,e.length]),a=Ti(a,[0,e.length])),a=vi(a,r),r=vi(r=Ni(r),a=Ni(a)),a=vi(a,r),("00000000"+(r[0]>>>0).toString(16)).slice(-8)+("00000000"+(r[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}(ei(e),t>>>0)}function bi(e){var t,i,n,r=[0];for(t=0;t<e.length;t+=1){for(n=parseInt(e.charAt(t),16),i=r.length-1;i>=0;i-=1)r[i]=16*r[i]+n,n=r[i]/10|0,r[i]%=10;for(;n>0;)r.unshift(n%10),n=n/10|0}return r.join("")}function Di(e,t){return e<1?t:new Promise((function(i,n){var r=setTimeout((function(){n(new Error("Operation timed out because it exceeded the configured time limit of "+e+" ms."))}),e);t.then((function(e){clearTimeout(r),i(e)}),(function(e){clearTimeout(r),n(e)}))}))}function Oi(e,t,i,n,r,a,o){var s=i.splits,c=i.segments,l=i.largeSegments,d=!0,u=!0;function p(e){return u&&(e=Di(r,e)),e}function m(e){var t;void 0!==e.type?t=e.type===xt?l.resetSegments(e):c.resetSegments(e):(t=c.resetSegments(e.ms||{}),t=l.resetSegments(e.ls||{})||t),s.usesSegments()&&(t||d)&&(d=!1,n.emit($e))}function f(i,n,r,s){return(n?new Promise((function(e){m(n),e(!0)})):t(o,r,s,p).then((function(e){return u=!1,m(e),!0}))).catch((function(t){return u&&a>i?(i+=1,e.warn(204,[i,t]),f(i)):(u=!1,!1)}))}return function(e,t,i){return f(0,e,t,i)}}function Pi(e){if(Array.from)return Array.from(e);var t=[];return e.forEach((function(e){t.push(e)})),t}function Li(e,t){var i=new Set,n=e.reduce((function(e,n){return"ACTIVE"===n.status&&function(e,t){var i=t.groupedFilters,n=i.bySet,r=i.byName,a=i.byPrefix;if(n.length>0)return e.sets&&e.sets.some((function(e){return n.indexOf(e)>-1}));var o=r.length>0,s=a.length>0;if(!o&&!s)return!0;var c=o&&r.indexOf(e.name)>-1,l=s&&a.some((function(t){return He(e.name,t)}));return c||l}(n,t)?(e.added.push(n),function(e){for(var t=e.conditions,i=new Set,n=0;n<t.length;n++)t[n].matcherGroup.matchers.forEach((function(e){e.matcherType===ve&&i.add(e.userDefinedSegmentMatcherData.segmentName)}));return i}(n).forEach((function(e){i.add(e)}))):e.removed.push(n),e}),{added:[],removed:[],segments:[]});return n.segments=Pi(i),n}function Mi(e,t,i,n,r){return Te(n.log,function(e,t,i,n,r,a,o,s){void 0===a&&(a=0),void 0===o&&(o=0);var c=i.splits,l=i.segments,d=!0;function u(e){return d&&a&&(e=Di(a,e)),e}return function(i,a,p){return Promise.resolve(c.getChangeNumber()).then((function m(f,A){return void 0===A&&(A=0),e.debug(31,[f]),Promise.resolve(p?{splits:[p.payload],till:p.changeNumber}:t(f,i,a,u)).then((function(t){d=!1;var i=Li(t.splits,n);return e.debug(32,[i.added.length,i.removed.length,i.segments.length]),Promise.all([c.update(i.added,i.removed,t.till),l.registerSegments(i.segments)]).then((function(e){var i=e[0];return!r||Promise.resolve(!r.splitsArrived||f!==t.till&&i&&s).catch((function(){return!1})).then((function(e){return e&&r.emit(ze),!0}))}))})).catch((function(t){return e.warn(205,[t]),d&&o>A?(A+=1,e.info(109,[A,t]),m(f,A)):(d=!1,!1)}))}))}}(n.log,function(e){return function(t,i,n,r){var a=e(t,i,n);return r&&(a=r(a)),a.then((function(e){return e.json()}))}}(e),t,n.sync.__splitFiltersValidation,i.splits,n.startup.requestTimeoutBeforeReady,n.startup.retriesOnFailureBeforeReady,r),n.scheduler.featuresRefreshRate,"splitChangesUpdater")}var Ri=function(){function e(e){void 0===e&&(e=0),this.maxQueue=e,this.queue=[]}return e.prototype.setOnFullQueueCb=function(e){this.onFullQueue=e},e.prototype.track=function(e){var t;(t=this.queue).push.apply(t,e),this.maxQueue>0&&this.queue.length>=this.maxQueue&&this.onFullQueue&&this.onFullQueue()},e.prototype.clear=function(){this.queue=[]},e.prototype.pop=function(e){var t=this.queue;return this.clear(),e?e.concat(t):t},e.prototype.isEmpty=function(){return 0===this.queue.length},e}();function Ui(e){return e-e%36e5}var ki=function(){function e(e){void 0===e&&(e=3e4),this.cache={},this.cacheSize=0,this.maxStorage=e}return e.prototype._makeKey=function(e,t){return e+"::"+Ui(t)},e.prototype.track=function(e,t,i){var n=this._makeKey(e,t),r=this.cache[n];this.cache[n]=r?r+i:i,this.onFullQueue&&(this.cacheSize=this.cacheSize+i,this.cacheSize>=this.maxStorage&&this.onFullQueue())},e.prototype.pop=function(e){var t=this.cache;return this.clear(),e?(Object.keys(t).forEach((function(i){e[i]?e[i]+=t[i]:e[i]=t[i]})),e):t},e.prototype.clear=function(){this.cache={},this.cacheSize=0},e.prototype.isEmpty=function(){return 0===Object.keys(this.cache).length},e}(),Fi=function(){function e(e){void 0===e&&(e=0),this.maxQueue=e,this.queue=[],this.queueByteSize=0}return e.prototype.setOnFullQueueCb=function(e){this.onFullQueue=e},e.prototype.track=function(e,t){return void 0===t&&(t=0),this.queueByteSize+=t,this.queue.push(e),this._checkForFlush(),!0},e.prototype.clear=function(){this.queue=[],this.queueByteSize=0},e.prototype.pop=function(e){var t=this.queue;return this.clear(),e?e.concat(t):t},e.prototype.isEmpty=function(){return 0===this.queue.length},e.prototype._checkForFlush=function(){(this.queueByteSize>5242880||this.maxQueue>0&&this.queue.length>=this.maxQueue)&&this.onFullQueue&&this.onFullQueue()},e}(),wi=/[^.]+$/;var xi=function(e){function t(t,i){var n=e.call(this,t)||this;return n.matchingKey=i,n.regexSplitsCacheKey=new RegExp("^"+t+"\\.(splits?|trafficType|flagSet)\\."),n}return d(t,e),t.prototype.buildSegmentNameKey=function(e){return this.prefix+"."+this.matchingKey+".segment."+e},t.prototype.extractSegmentName=function(e){var t=this.prefix+"."+this.matchingKey+".segment.";if(He(e,t))return e.slice(t.length)},t.prototype.buildLastUpdatedKey=function(){return this.prefix+".splits.lastUpdated"},t.prototype.isSplitsCacheKey=function(e){return this.regexSplitsCacheKey.test(e)},t.prototype.buildTillKey=function(){return this.prefix+"."+this.matchingKey+".segments.till"},t.prototype.isSplitKey=function(e){return He(e,this.prefix+".split.")},t.prototype.buildSplitsWithSegmentCountKey=function(){return this.prefix+".splits.usingSegments"},t.prototype.buildLastClear=function(){return this.prefix+".lastClear"},t}(function(){function e(e){void 0===e&&(e="SPLITIO"),this.prefix=e}return e.prototype.buildTrafficTypeKey=function(e){return this.prefix+".trafficType."+e},e.prototype.buildFlagSetKey=function(e){return this.prefix+".flagSet."+e},e.prototype.buildSplitKey=function(e){return this.prefix+".split."+e},e.prototype.buildSplitsTillKey=function(){return this.prefix+".splits.till"},e.prototype.buildSplitKeyPrefix=function(){return this.prefix+".split."},e.prototype.buildSegmentNameKey=function(e){return this.prefix+".segment."+e},e.prototype.buildSegmentTillKey=function(e){return this.prefix+".segment."+e+".till"},e.prototype.extractKey=function(e){var t=e.match(wi);if(t&&t.length)return t[0];throw new Error("Invalid latency key provided")},e.prototype.buildHashKey=function(){return this.prefix+".hash"},e}());function Bi(e,t){return{buildSegmentNameKey:function(i){return e+"."+t+".largeSegment."+i},extractSegmentName:function(i){var n=e+"."+t+".largeSegment.";if(He(i,n))return i.slice(n.length)},buildTillKey:function(){return e+"."+t+".largeSegments.till"}}}function Hi(){var e="__SPLITSOFTWARE__";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}var Vi=function(){function e(){}return e.prototype.update=function(e,t,i){var n=this;this.setChangeNumber(i);var r=e.map((function(e){return n.addSplit(e)})).some((function(e){return e}));return t.map((function(e){return n.removeSplit(e.name)})).some((function(e){return e}))||r},e.prototype.getSplits=function(e){var t=this,i={};return e.forEach((function(e){i[e]=t.getSplit(e)})),i},e.prototype.getAll=function(){var e=this;return this.getSplitNames().map((function(t){return e.getSplit(t)}))},e.prototype.killLocally=function(e,t,i){var n=this.getSplit(e);if(n&&(!n.changeNumber||n.changeNumber<i)){var r=M({},n);return r.killed=!0,r.defaultTreatment=t,r.changeNumber=i,this.addSplit(r)}return!1},e}();function Gi(e){for(var t=e.conditions||[],i=0;i<t.length;i++)for(var n=t[i].matcherGroup.matchers,r=0;r<n.length;r++){var a=n[r].matcherType;if(a===ve||"IN_LARGE_SEGMENT"===a)return!0}return!1}var qi="storage:localstorage: ",Yi="1",Wi=function(e){function t(t,i){var n=e.call(this)||this;return n.keys=i,n.log=t.log,n.flagSetsFilter=t.sync.__splitFiltersValidation.groupedFilters.bySet,n}return d(t,e),t.prototype._decrementCount=function(e){var t=Ve(localStorage.getItem(e))-1;t>0?localStorage.setItem(e,t):localStorage.removeItem(e)},t.prototype._decrementCounts=function(e){try{var t=this.keys.buildTrafficTypeKey(e.trafficTypeName);if(this._decrementCount(t),Gi(e)){var i=this.keys.buildSplitsWithSegmentCountKey();this._decrementCount(i)}}catch(e){this.log.error(qi+e)}},t.prototype._incrementCounts=function(e){try{if(e){var t=this.keys.buildTrafficTypeKey(e.trafficTypeName);if(localStorage.setItem(t,Ve(localStorage.getItem(t))+1),Gi(e)){var i=this.keys.buildSplitsWithSegmentCountKey();localStorage.setItem(i,Ve(localStorage.getItem(i))+1)}}}catch(e){this.log.error(qi+e)}},t.prototype.clear=function(){for(var e=localStorage.length,t=[],i=0;i<e;i++){var n=localStorage.key(i);null!=n&&this.keys.isSplitsCacheKey(n)&&t.push(n)}t.forEach((function(e){localStorage.removeItem(e)})),this.hasSync=!1},t.prototype.addSplit=function(e){try{var t=e.name,i=this.keys.buildSplitKey(t),n=localStorage.getItem(i),r=n?JSON.parse(n):null;return r&&(this._decrementCounts(r),this.removeFromFlagSets(r.name,r.sets)),localStorage.setItem(i,JSON.stringify(e)),this._incrementCounts(e),this.addToFlagSets(e),!0}catch(e){return this.log.error(qi+e),!1}},t.prototype.removeSplit=function(e){try{var t=this.getSplit(e);return!!t&&(localStorage.removeItem(this.keys.buildSplitKey(e)),this._decrementCounts(t),this.removeFromFlagSets(t.name,t.sets),!0)}catch(e){return this.log.error(qi+e),!1}},t.prototype.getSplit=function(e){var t=localStorage.getItem(this.keys.buildSplitKey(e));return t&&JSON.parse(t)},t.prototype.setChangeNumber=function(e){try{return localStorage.setItem(this.keys.buildSplitsTillKey(),e+""),localStorage.setItem(this.keys.buildLastUpdatedKey(),Date.now()+""),this.hasSync=!0,!0}catch(e){return this.log.error(qi+e),!1}},t.prototype.getChangeNumber=function(){var e=localStorage.getItem(this.keys.buildSplitsTillKey());return null!==e?ke(e=parseInt(e,10))?-1:e:-1},t.prototype.getSplitNames=function(){for(var e=localStorage.length,t=[],i=0;i<e;){var n=localStorage.key(i);null!=n&&this.keys.isSplitKey(n)&&t.push(this.keys.extractKey(n)),i++}return t},t.prototype.trafficTypeExists=function(e){var t=Ve(localStorage.getItem(this.keys.buildTrafficTypeKey(e)));return Ue(t)&&t>0},t.prototype.usesSegments=function(){if(!this.hasSync)return!0;var e=localStorage.getItem(this.keys.buildSplitsWithSegmentCountKey()),t=null===e?0:Ve(e);return!Ue(t)||t>0},t.prototype.getNamesByFlagSets=function(e){var t=this;return e.map((function(e){var i=t.keys.buildFlagSetKey(e),n=localStorage.getItem(i);return new Set(n?JSON.parse(n):[])}))},t.prototype.addToFlagSets=function(e){var t=this;e.sets&&e.sets.forEach((function(i){if(!(t.flagSetsFilter.length>0)||t.flagSetsFilter.some((function(e){return e===i}))){var n=t.keys.buildFlagSetKey(i),r=localStorage.getItem(n),a=new Set(r?JSON.parse(r):[]);a.add(e.name),localStorage.setItem(n,JSON.stringify(Pi(a)))}}))},t.prototype.removeFromFlagSets=function(e,t){var i=this;t&&t.forEach((function(t){i.removeNames(t,e)}))},t.prototype.removeNames=function(e,t){var i=this.keys.buildFlagSetKey(e),n=localStorage.getItem(i);if(n){var r=new Set(JSON.parse(n));r.delete(t),0!==r.size?localStorage.setItem(i,JSON.stringify(Pi(r))):localStorage.removeItem(i)}},t}(Vi),Ki=function(){function e(){}return e.prototype.clear=function(){this.resetSegments({})},e.prototype.registerSegments=function(){return!1},e.prototype.update=function(){return!1},e.prototype.resetSegments=function(e){var t=this;this.setChangeNumber(e.cn);var i=e,n=i.added,r=i.removed;if(n&&r){var a=!1;return n.forEach((function(e){a=t.addSegment(e)||a})),r.forEach((function(e){a=t.removeSegment(e)||a})),a}var o=(e.k||[]).map((function(e){return e.n})).sort(),s=this.getRegisteredSegments().sort();if(!o.length&&!s.length)return!1;for(var c=0;c<o.length&&c<s.length&&o[c]===s[c];)c++;if(c===o.length&&c===s.length)return!1;for(var l=c;l<s.length;l++)this.removeSegment(s[l]);for(var d=c;d<o.length;d++)this.addSegment(o[d]);return!0},e}(),ji=function(e){function t(t,i){var n=e.call(this)||this;return n.log=t,n.keys=i,n}return d(t,e),t.prototype.addSegment=function(e){var t=this.keys.buildSegmentNameKey(e);try{return localStorage.getItem(t)!==Yi&&(localStorage.setItem(t,Yi),!0)}catch(e){return this.log.error(qi+e),!1}},t.prototype.removeSegment=function(e){var t=this.keys.buildSegmentNameKey(e);try{return localStorage.getItem(t)===Yi&&(localStorage.removeItem(t),!0)}catch(e){return this.log.error(qi+e),!1}},t.prototype.isInSegment=function(e){return localStorage.getItem(this.keys.buildSegmentNameKey(e))===Yi},t.prototype.getRegisteredSegments=function(){var e=this;return Object.keys(localStorage).reduce((function(t,i){var n=e.keys.extractSegmentName(i);return n&&t.push(n),t}),[])},t.prototype.getKeysCount=function(){return 1},t.prototype.setChangeNumber=function(e){try{e?localStorage.setItem(this.keys.buildTillKey(),e+""):localStorage.removeItem(this.keys.buildTillKey())}catch(e){this.log.error(e)}},t.prototype.getChangeNumber=function(){var e=localStorage.getItem(this.keys.buildTillKey());return null!==e?ke(e=parseInt(e,10))?-1:e:-1},t}(Ki),Qi=function(e){function t(t){var i=e.call(this)||this;return i.splitsCache={},i.ttCache={},i.changeNumber=-1,i.segmentsCount=0,i.flagSetsCache={},i.flagSetsFilter=t?t.groupedFilters.bySet:[],i}return d(t,e),t.prototype.clear=function(){this.splitsCache={},this.ttCache={},this.changeNumber=-1,this.segmentsCount=0},t.prototype.addSplit=function(e){var t=e.name,i=this.getSplit(t);if(i){var n=i.trafficTypeName;this.ttCache[n]--,this.ttCache[n]||delete this.ttCache[n],this.removeFromFlagSets(i.name,i.sets),Gi(i)&&this.segmentsCount--}this.splitsCache[t]=e;var r=e.trafficTypeName;return this.ttCache[r]=(this.ttCache[r]||0)+1,this.addToFlagSets(e),Gi(e)&&this.segmentsCount++,!0},t.prototype.removeSplit=function(e){var t=this.getSplit(e);if(!t)return!1;delete this.splitsCache[e];var i=t.trafficTypeName;return this.ttCache[i]--,this.ttCache[i]||delete this.ttCache[i],this.removeFromFlagSets(t.name,t.sets),Gi(t)&&this.segmentsCount--,!0},t.prototype.getSplit=function(e){return this.splitsCache[e]||null},t.prototype.setChangeNumber=function(e){return this.changeNumber=e,!0},t.prototype.getChangeNumber=function(){return this.changeNumber},t.prototype.getSplitNames=function(){return Object.keys(this.splitsCache)},t.prototype.trafficTypeExists=function(e){return Ue(this.ttCache[e])&&this.ttCache[e]>0},t.prototype.usesSegments=function(){return-1===this.getChangeNumber()||this.segmentsCount>0},t.prototype.getNamesByFlagSets=function(e){var t=this;return e.map((function(e){return t.flagSetsCache[e]||new Set}))},t.prototype.addToFlagSets=function(e){var t=this;e.sets&&e.sets.forEach((function(i){t.flagSetsFilter.length>0&&!t.flagSetsFilter.some((function(e){return e===i}))||(t.flagSetsCache[i]||(t.flagSetsCache[i]=new Set([])),t.flagSetsCache[i].add(e.name))}))},t.prototype.removeFromFlagSets=function(e,t){var i=this;t&&t.forEach((function(t){i.removeNames(t,e)}))},t.prototype.removeNames=function(e,t){this.flagSetsCache[e]&&(this.flagSetsCache[e].delete(t),0===this.flagSetsCache[e].size&&delete this.flagSetsCache[e])},t}(Vi),zi=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.segmentCache={},t}return d(t,e),t.prototype.addSegment=function(e){return!this.segmentCache[e]&&(this.segmentCache[e]=!0,!0)},t.prototype.removeSegment=function(e){return!!this.segmentCache[e]&&(delete this.segmentCache[e],!0)},t.prototype.isInSegment=function(e){return!0===this.segmentCache[e]},t.prototype.setChangeNumber=function(e){this.cn=e},t.prototype.getChangeNumber=function(){return this.cn||-1},t.prototype.getRegisteredSegments=function(){return Object.keys(this.segmentCache)},t.prototype.getKeysCount=function(){return 1},t}(Ki);function Xi(e){var t=Math.min(22,Math.max(0,Math.ceil(Math.log(e)/Math.log(1.5))));return ke(t)?0:t}function $i(e){var t=e.settings;return t.mode!==$&&(void 0===t.core.key||Math.random()<=.001)}var Ji=function(){function e(e,t,i){this.splits=e,this.segments=t,this.largeSegments=i,this.e=!0,this.notReadyUsage=0,this.impressionStats=[0,0,0],this.eventStats=[0,0],this.lastSync={},this.httpErrors={},this.httpLatencies={},this.authRejections=0,this.tokenRefreshes=0,this.streamingEvents=[],this.tags=[],this.exceptions={},this.latencies={},this.updatesFromSSE={}}return e.prototype.isEmpty=function(){return this.e},e.prototype.clear=function(){},e.prototype.pop=function(){return this.e=!0,{lS:this.getLastSynchronization(),mL:this.popLatencies(),mE:this.popExceptions(),hE:this.popHttpErrors(),hL:this.popHttpLatencies(),tR:this.popTokenRefreshes(),aR:this.popAuthRejections(),iQ:this.getImpressionStats(0),iDe:this.getImpressionStats(2),iDr:this.getImpressionStats(1),spC:this.splits&&this.splits.getSplitNames().length,seC:this.segments&&this.segments.getRegisteredSegments().length,skC:this.segments&&this.segments.getKeysCount(),lsC:this.largeSegments&&this.largeSegments.getRegisteredSegments().length,lskC:this.largeSegments&&this.largeSegments.getKeysCount(),sL:this.getSessionLength(),eQ:this.getEventStats(0),eD:this.getEventStats(1),sE:this.popStreamingEvents(),t:this.popTags(),ufs:this.popUpdatesFromSSE()}},e.prototype.getTimeUntilReady=function(){return this.timeUntilReady},e.prototype.recordTimeUntilReady=function(e){this.timeUntilReady=e},e.prototype.getTimeUntilReadyFromCache=function(){return this.timeUntilReadyFromCache},e.prototype.recordTimeUntilReadyFromCache=function(e){this.timeUntilReadyFromCache=e},e.prototype.getNonReadyUsage=function(){return this.notReadyUsage},e.prototype.recordNonReadyUsage=function(){this.notReadyUsage++},e.prototype.getImpressionStats=function(e){return this.impressionStats[e]},e.prototype.recordImpressionStats=function(e,t){this.impressionStats[e]+=t,this.e=!1},e.prototype.getEventStats=function(e){return this.eventStats[e]},e.prototype.recordEventStats=function(e,t){this.eventStats[e]+=t,this.e=!1},e.prototype.getLastSynchronization=function(){return this.lastSync},e.prototype.recordSuccessfulSync=function(e,t){this.lastSync[e]=t,this.e=!1},e.prototype.popHttpErrors=function(){var e=this.httpErrors;return this.httpErrors={},e},e.prototype.recordHttpError=function(e,t){var i=this.httpErrors[e]=this.httpErrors[e]||{};i[t]=(i[t]||0)+1,this.e=!1},e.prototype.popHttpLatencies=function(){var e=this.httpLatencies;return this.httpLatencies={},e},e.prototype.recordHttpLatency=function(e,t){(this.httpLatencies[e]=this.httpLatencies[e]||[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])[Xi(t)]++,this.e=!1},e.prototype.popAuthRejections=function(){var e=this.authRejections;return this.authRejections=0,e},e.prototype.recordAuthRejections=function(){this.authRejections++,this.e=!1},e.prototype.popTokenRefreshes=function(){var e=this.tokenRefreshes;return this.tokenRefreshes=0,e},e.prototype.recordTokenRefreshes=function(){this.tokenRefreshes++,this.e=!1},e.prototype.popStreamingEvents=function(){return this.streamingEvents.splice(0)},e.prototype.recordStreamingEvents=function(e){this.streamingEvents.length<20&&this.streamingEvents.push(e),this.e=!1},e.prototype.popTags=function(){return this.tags.splice(0)},e.prototype.addTag=function(e){this.tags.length<10&&this.tags.push(e),this.e=!1},e.prototype.getSessionLength=function(){return this.sessionLength},e.prototype.recordSessionLength=function(e){this.sessionLength=e,this.e=!1},e.prototype.popExceptions=function(){var e=this.exceptions;return this.exceptions={},e},e.prototype.recordException=function(e){this.exceptions[e]=(this.exceptions[e]||0)+1,this.e=!1},e.prototype.popLatencies=function(){var e=this.latencies;return this.latencies={},e},e.prototype.recordLatency=function(e,t){(this.latencies[e]=this.latencies[e]||[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])[Xi(t)]++,this.e=!1},e.prototype.popUpdatesFromSSE=function(){var e=this.updatesFromSSE;return this.updatesFromSSE={},e},e.prototype.recordUpdatesFromSSE=function(e){this.updatesFromSSE[e]=(this.updatesFromSSE[e]||0)+1,this.e=!1},e}(),Zi=function(){function e(e){void 0===e&&(e=3e4),this.uniqueTrackerSize=0,this.uniqueKeysTracker={},this.maxStorage=e}return e.prototype.setOnFullQueueCb=function(e){this.onFullQueue=e},e.prototype.track=function(e,t){this.uniqueKeysTracker[e]||(this.uniqueKeysTracker[e]=new Set);var i=this.uniqueKeysTracker[e];i.has(t)||(i.add(t),this.uniqueTrackerSize++),this.uniqueTrackerSize>=this.maxStorage&&this.onFullQueue&&this.onFullQueue()},e.prototype.clear=function(){this.uniqueTrackerSize=0,this.uniqueKeysTracker={}},e.prototype.pop=function(){var e=this.uniqueKeysTracker;return this.clear(),this.fromUniqueKeysCollector(e)},e.prototype.isEmpty=function(){return 0===Object.keys(this.uniqueKeysTracker).length},e.prototype.fromUniqueKeysCollector=function(e){for(var t=[],i=Object.keys(e),n=0;n<i.length;n++){var r=i[n],a={k:r,fs:Pi(e[r])};t.push(a)}return{keys:t}},e}();function en(e){var t=e.settings,i=t.scheduler,n=i.impressionsQueueSize,r=i.eventsQueueSize,a=t.sync.__splitFiltersValidation,o=new Qi(a),s=new zi,c={splits:o,segments:s,largeSegments:new zi,impressions:new Ri(n),impressionCounts:new ki,events:new Fi(r),telemetry:$i(e)?new Ji(o,s):void 0,uniqueKeys:new Zi,destroy:function(){},shared:function(){return{splits:this.splits,segments:new zi,largeSegments:new zi,impressions:this.impressions,impressionCounts:this.impressionCounts,events:this.events,telemetry:this.telemetry,uniqueKeys:this.uniqueKeys,destroy:function(){}}}};if(e.settings.mode===$){var l=function(){return!0};c.impressions.track=l,c.events.track=l,c.impressionCounts.track=l,c.uniqueKeys.track=l}return c}en.type=ie;var tn=864e5;function nn(e,t,i,n,r){var a=t.log,o=parseInt(localStorage.getItem(i.buildLastUpdatedKey()),10);if(!ke(o)){var s=Ue(e.expirationDays)&&e.expirationDays>=1?e.expirationDays:10;if(o<n-tn*s)return a.info(qi+"Cache expired more than "+s+" days ago. Cleaning up cache"),!0}var c=i.buildHashKey(),l=localStorage.getItem(c),d=function(e){return ri(e.core.authorizationKey+"::"+e.sync.__splitFiltersValidation.queryString+"::"+e.sync.flagSpecVersion).toString(16)}(t);if(l!==d){try{localStorage.setItem(c,d)}catch(e){a.error(qi+e)}return!!r&&(a.info(qi+"SDK key, flags filter criteria, or flags spec version has changed. Cleaning up cache"),!0)}if(e.clearOnInit){var u=parseInt(localStorage.getItem(i.buildLastClear()),10);if(ke(u)||u<n-tn)return a.info(qi+"clearOnInit was set and cache was not cleared in the last 24 hours. Cleaning up cache"),!0}}function rn(e){void 0===e&&(e={});var t=function(e){return e?e+".SPLITIO":"SPLITIO"}(e.prefix);function i(i){if(!Hi())return i.settings.log.warn(qi+"LocalStorage API is unavailable. Falling back to default MEMORY storage"),en(i);var n=i.settings,r=i.settings,a=r.log,o=r.scheduler,s=o.impressionsQueueSize,c=o.eventsQueueSize,l=fi(n.core.key),d=new xi(t,l),u=new Wi(n,d),p=new ji(a,d),m=new ji(a,Bi(t,l));return{splits:u,segments:p,largeSegments:m,impressions:new Ri(s),impressionCounts:new ki,events:new Fi(c),telemetry:$i(i)?new Ji(u,p):void 0,uniqueKeys:new Zi,validateCache:function(){return function(e,t,i,n,r,a){var o=Date.now(),s=n.getChangeNumber()>-1;if(nn(e,t,i,o,s)){n.clear(),r.clear(),a.clear();try{localStorage.setItem(i.buildLastClear(),o+"")}catch(e){t.log.error(qi+e)}return!1}return s}(e,n,d,u,p,m)},destroy:function(){},shared:function(e){return{splits:this.splits,segments:new ji(a,new xi(t,e)),largeSegments:new ji(a,Bi(t,e)),impressions:this.impressions,impressionCounts:this.impressionCounts,events:this.events,telemetry:this.telemetry,uniqueKeys:this.uniqueKeys,destroy:function(){}}}}}return i.type=ne,i}function an(e){return null!=e&&"function"==typeof e.then}function on(e,t,i){return null==t||Fe(t)?t:(e.error(k,[i,"attributes"]),!1)}function sn(e,t,i){if(!on(e,t,i))return!1;var n=!0;return Object.keys(t).forEach((function(r){(function(e,t,i,n){if(!we(t)||0===t.length)return e.warn(n+": you passed an invalid attribute name, attribute name must be a non-empty string."),!1;var r=we(i),a=Ue(i),o=Re(i),s=Array.isArray(i);return!!(r||a||o||s)||(e.warn(n+": you passed an invalid attribute value for "+t+". Acceptable types are: string, number, boolean and array of strings."),!1)})(e,r,t[r],i)||(n=!1)})),n}var cn=/^[a-zA-Z0-9][-_.:a-zA-Z0-9]{0,79}$/,ln="event_type";var dn=0,un=2,pn=4,mn=8,fn=1024;function An(e,t,i){if(null==t)return{properties:null,size:fn};if(!Fe(t))return e.error(k,[i,"properties"]),{properties:!1,size:fn};var n=Object.keys(t),r=M({},t),a={properties:r,size:fn};n.length>300&&e.warn(212,[i]);for(var o=0;o<n.length;o++){a.size+=n[o].length*un;var s=r[n[o]],c=we(s),l=Ue(s),d=Re(s),u=null===s;if(c||l||d||u||(r[n[o]]=null,s=null,u=!0,e.warn(211,[i,n[o]])),u?a.size+=dn:l?a.size+=mn:d?a.size+=pn:c&&(a.size+=s.length*un),a.size>32768){e.error(312,[i]),a.properties=!1;break}}return a}var gn=/[A-Z]/,En="traffic_type";function yn(e,t,i){return!t.isDestroyed()||(e.error(314,[i]),!1)}function hn(e,t,i,n){return!(!t.isReady()&&!t.isReadyFromCache())||(e.warn(203,[i,n?" for feature flag "+n.toString():""]),!1)}var vn="definition not found",Cn="not ready",_n="exception";function Sn(e,t,i,n,r){return!t.isReady()||n!==vn&&null!=n||(e.warn(215,[r,i]),!1)}function Tn(e,t,i){e.warn(217,[i,t])}function Nn(e){var t=e.conditions,i=Oe(t,(function(e){return"ROLLOUT"===e.conditionType}));return i||(i=t[0]),i?i.partitions.map((function(e){return e.treatment})):[]}function In(e){return e?{name:e.name,trafficType:e.trafficTypeName,killed:e.killed,changeNumber:e.changeNumber||0,treatments:Nn(e),configs:e.configurations||{},sets:e.sets||[],defaultTreatment:e.defaultTreatment,impressionsDisabled:!0===e.impressionsDisabled}:null}function bn(e){var t=[];return e.forEach((function(e){var i=In(e);i&&t.push(i)})),t}function Dn(e,t,i){var n=i.readinessManager,r=i.sdkStatus,a=e.log,o=it(e.mode);return M(Object.create(r),{split:function(e){var i=rt(a,e,ge);if(!yn(a,n,ge)||!hn(a,n,ge)||!i)return o?Promise.resolve(null):null;var r=t.getSplit(i);return an(r)?r.catch((function(){return null})).then((function(e){return Sn(a,n,i,e,ge),In(e)})):(Sn(a,n,i,r,ge),In(r))},splits:function(){if(!yn(a,n,Ee)||!hn(a,n,Ee))return o?Promise.resolve([]):[];var e=t.getAll();return an(e)?e.catch((function(){return[]})).then(bn):bn(e)},names:function(){if(!yn(a,n,ye)||!hn(a,n,ye))return o?Promise.resolve([]):[];var e=t.getSplitNames();return an(e)?e.catch((function(){return[]})):e}})}var On=function(){function e(){this.attributesCache={}}return e.prototype.setAttribute=function(e,t){return this.attributesCache[e]=t,!0},e.prototype.getAttribute=function(e){return this.attributesCache[e]},e.prototype.setAttributes=function(e){return this.attributesCache=M(this.attributesCache,e),!0},e.prototype.getAll=function(){return this.attributesCache},e.prototype.removeAttribute=function(e){return Object.keys(this.attributesCache).indexOf(e)>=0&&(delete this.attributesCache[e],!0)},e.prototype.clear=function(){return this.attributesCache={},!0},e}();function Pn(e,t,i){var n=function(e,t){var i=new On,n=t.getTreatment,r=t.getTreatmentWithConfig,a=t.getTreatments,o=t.getTreatmentsWithConfig,s=t.getTreatmentsByFlagSets,c=t.getTreatmentsWithConfigByFlagSets,l=t.getTreatmentsByFlagSet,d=t.getTreatmentsWithConfigByFlagSet;function u(e){var t=i.getAll();return Object.keys(t).length>0?M({},t,e):e}return M(t,{getTreatment:function(e,t,i,r){return n(e,t,u(i),r)},getTreatmentWithConfig:function(e,t,i,n){return r(e,t,u(i),n)},getTreatments:function(e,t,i,n){return a(e,t,u(i),n)},getTreatmentsWithConfig:function(e,t,i,n){return o(e,t,u(i),n)},getTreatmentsByFlagSets:function(e,t,i,n){return s(e,t,u(i),n)},getTreatmentsWithConfigByFlagSets:function(e,t,i,n){return c(e,t,u(i),n)},getTreatmentsByFlagSet:function(e,t,i,n){return l(e,t,u(i),n)},getTreatmentsWithConfigByFlagSet:function(e,t,i,n){return d(e,t,u(i),n)},setAttribute:function(t,n){var r={};return r[t]=n,!!sn(e,r,"setAttribute")&&(e.debug("stored "+n+" for attribute "+t),i.setAttribute(t,n))},getAttribute:function(t){return e.debug("retrieved attribute "+t),i.getAttribute(t+"")},setAttributes:function(t){return!!sn(e,t,"setAttributes")&&i.setAttributes(t)},getAttributes:function(){return i.getAll()},removeAttribute:function(t){return e.debug("removed attribute "+t),i.removeAttribute(t+"")},clearAttributes:function(){return i.clear()}})}(e,t);return M(n,{getTreatment:n.getTreatment.bind(n,i),getTreatmentWithConfig:n.getTreatmentWithConfig.bind(n,i),getTreatments:n.getTreatments.bind(n,i),getTreatmentsWithConfig:n.getTreatmentsWithConfig.bind(n,i),getTreatmentsByFlagSets:n.getTreatmentsByFlagSets.bind(n,i),getTreatmentsWithConfigByFlagSets:n.getTreatmentsWithConfigByFlagSets.bind(n,i),getTreatmentsByFlagSet:n.getTreatmentsByFlagSet.bind(n,i),getTreatmentsWithConfigByFlagSet:n.getTreatmentsWithConfigByFlagSet.bind(n,i),track:n.track.bind(n,i),isClientSide:!0,key:i})}var Ln={UNDEFINED:0,ALL_KEYS:1,IN_SEGMENT:2,WHITELIST:3,EQUAL_TO:4,GREATER_THAN_OR_EQUAL_TO:5,LESS_THAN_OR_EQUAL_TO:6,BETWEEN:7,EQUAL_TO_SET:8,CONTAINS_ANY_OF_SET:9,CONTAINS_ALL_OF_SET:10,PART_OF_SET:11,ENDS_WITH:12,STARTS_WITH:13,CONTAINS_STRING:14,IN_SPLIT_TREATMENT:15,EQUAL_TO_BOOLEAN:16,MATCHES_STRING:17,EQUAL_TO_SEMVER:18,GREATER_THAN_OR_EQUAL_TO_SEMVER:19,LESS_THAN_OR_EQUAL_TO_SEMVER:20,BETWEEN_SEMVER:21,IN_LIST_SEMVER:22,IN_LARGE_SEGMENT:23},Mn="BOOLEAN",Rn="STRING",Un="NUMBER",kn="SET",Fn="DATETIME",wn="NOT_SPECIFIED";function xn(e){return e?e.segmentName||e.largeSegmentName:void 0}function Bn(e){return e&&e.whitelist}function Hn(e){return e.value}function Vn(e){return new Date(e).setUTCHours(0,0,0,0)}function Gn(e){return new Date(e).setUTCSeconds(0,0)}function qn(e){var t=e.map((function(e){var t=e.matcherType,i=e.negate,n=e.keySelector,r=e.userDefinedSegmentMatcherData,a=e.userDefinedLargeSegmentMatcherData,o=e.whitelistMatcherData,s=e.unaryNumericMatcherData,c=e.betweenMatcherData,l=e.dependencyMatcherData,d=e.booleanMatcherData,u=e.stringMatcherData,p=e.betweenStringMatcherData,m=n&&n.attribute,f=function(e){return Ln[e]||Ln.UNDEFINED}(t),A=Rn,g=void 0;return f===Ln.IN_SEGMENT?g=xn(r):f===Ln.IN_LARGE_SEGMENT?g=xn(a):f===Ln.EQUAL_TO?(g=Hn(s),A=Un,"DATETIME"===s.dataType&&(g=Vn(g),A=Fn)):f===Ln.GREATER_THAN_OR_EQUAL_TO||f===Ln.LESS_THAN_OR_EQUAL_TO?(g=Hn(s),A=Un,"DATETIME"===s.dataType&&(g=Gn(g),A=Fn)):f===Ln.BETWEEN?(A=Un,"DATETIME"===(g=c).dataType&&(g.start=Gn(g.start),g.end=Gn(g.end),A=Fn)):f===Ln.BETWEEN_SEMVER?g=p:f===Ln.EQUAL_TO_SET||f===Ln.CONTAINS_ANY_OF_SET||f===Ln.CONTAINS_ALL_OF_SET||f===Ln.PART_OF_SET?(g=Bn(o),A=kn):f===Ln.WHITELIST||f===Ln.IN_LIST_SEMVER||f===Ln.STARTS_WITH||f===Ln.ENDS_WITH||f===Ln.CONTAINS_STRING?g=Bn(o):f===Ln.IN_SPLIT_TREATMENT?(g=l,A=wn):f===Ln.EQUAL_TO_BOOLEAN?(A=Mn,g=d):f!==Ln.MATCHES_STRING&&f!==Ln.EQUAL_TO_SEMVER&&f!==Ln.GREATER_THAN_OR_EQUAL_TO_SEMVER&&f!==Ln.LESS_THAN_OR_EQUAL_TO_SEMVER||(g=u),{attribute:m,negate:i,type:f,name:t,value:g,dataType:A}}));return-1===Pe(t,(function(e){return e.type===Ln.UNDEFINED}))?t:[]}var Yn=function(){function e(e,t){if(100!==e[e.length-1])throw new RangeError("Provided invalid dataset as input");this._ranges=e,this._treatments=t}return e.parse=function(t){var i=t.reduce((function(e,t){var i=t.size,n=t.treatment;return e.ranges.push(e.inc+=i),e.treatments.push(n),e}),{inc:0,ranges:[],treatments:[]});return new e(i.ranges,i.treatments)},e.prototype.getTreatmentFor=function(e){if(e<0||e>100)throw new RangeError("Please provide a value between 0 and 100");var t=Pe(this._ranges,(function(t){return e<=t}));return this._treatments[t]},e}();var Wn=/^[0-9]+$/,Kn=".";function jn(e,t){if(Wn.test(e)&&Wn.test(t)){var i=e.length-t.length;if(0!==i)return i}return e<t?-1:e>t?1:0}function Qn(e){return e.replace(/^0+(?=\d)/,"")}function zn(e){throw new Error("Unable to convert to Semver, incorrect format: "+e)}var Xn=function(){function e(e){we(e)||zn(e);var t=e.indexOf("+"),i=-1===t?[e]:[e.slice(0,t),e.slice(t+1)],n=i[0],r=i[1];""===r&&zn(e),-1===(t=n.indexOf("-"))?(this._isStable=!0,this._preRelease=[]):(this._isStable=!1,this._preRelease=n.slice(t+1).split(Kn).map((function(t){return t||zn(e),Wn.test(t)?Qn(t):t})),n=n.slice(0,t));var a=n.split(Kn).map((function(t){return t&&Wn.test(t)||zn(e),Qn(t)}));3!==a.length&&zn(e),this._major=a[0],this._minor=a[1],this._patch=a[2],this.version=a.join(Kn),this._preRelease.length&&(this.version+="-"+this._preRelease.join(Kn)),r&&(this.version+="+"+r)}return e.prototype.compare=function(e){if(this.version===e.version)return 0;var t=jn(this._major,e._major);if(0!==t)return t;if(0!==(t=jn(this._minor,e._minor)))return t;if(0!==(t=jn(this._patch,e._patch)))return t;if(!this._isStable&&e._isStable)return-1;if(this._isStable&&!e._isStable)return 1;for(var i=0,n=Math.min(this._preRelease.length,e._preRelease.length);i<n;i++){var r=jn(this._preRelease[i],e._preRelease[i]);if(0!==r)return r}return this._preRelease.length-e._preRelease.length},e}();var $n=[void 0,function(){return function(e){return null!=e}},function(e,t){return function(i){return t.segments.isInSegment(e,i)}},function(e){var t=new Set(e);return function(e){return t.has(e)}},function(e){return function(t){return t===e}},function(e){return function(t){return t>=e}},function(e){return function(t){return t<=e}},function(e){return function(t){return t>=e.start&&t<=e.end}},function(e){return function(t){for(var i=t.length===e.length,n=function(n){Pe(e,(function(e){return e===t[n]}))<0&&(i=!1)},r=0;r<t.length&&i;r++)n(r);return i}},function(e){return function(t){for(var i=!1,n=function(n){Pe(t,(function(t){return t===e[n]}))>=0&&(i=!0)},r=0;r<e.length&&!i;r++)n(r);return i}},function(e){return function(t){var i=!0;if(t.length<e.length)i=!1;else for(var n=function(n){Pe(t,(function(t){return t===e[n]}))<0&&(i=!1)},r=0;r<e.length&&i;r++)n(r);return i}},function(e){return function(t){for(var i=t.length<=e.length,n=function(n){Pe(e,(function(e){return e===t[n]}))<0&&(i=!1)},r=0;r<t.length&&i;r++)n(r);return i}},function(e){return function(t){return e.some((function(e){return n=e,void 0===r&&(r=!1),!(!we(i=t)||!we(n))&&(r&&(i=i.toLowerCase(),n=n.toLowerCase()),i.slice(i.length-n.length)===n);var i,n,r}))}},function(e){return function(t){return e.some((function(e){return He(t,e)}))}},function(e){return function(t){return e.some((function(e){return we(t)&&t.indexOf(e)>-1}))}},function(e,t,i){var n=e.split,r=e.treatments;function a(e,t,n){var r=!1;return Array.isArray(t)&&(r=-1!==t.indexOf(e.treatment)),i.debug(10,[n,e.treatment,e.label,n,t,r]),r}return function(e,o){var s=e.key,c=e.attributes;i.debug(11,[n,JSON.stringify(s),c?"\n attributes: "+JSON.stringify(c):""]);var l=o(i,s,n,c,t);return an(l)?l.then((function(e){return a(e,r,n)})):a(l,r,n)}},function(e){return function(t){return e===t}},function(e){var t=new RegExp(e);return function(e){return t.test(e)}},function(e){var t=new Xn(e);return function(e){var i=new Xn(e);return t.version===i.version}},function(e){var t=new Xn(e);return function(e){return new Xn(e).compare(t)>=0}},function(e){var t=new Xn(e);return function(e){return new Xn(e).compare(t)<=0}},function(e){var t=new Xn(e.start),i=new Xn(e.end);return function(e){var n=new Xn(e);return t.compare(n)<=0&&i.compare(n)>=0}},function(e){if(!e||0===e.length)throw new Error("whitelistMatcherData is required for IN_LIST_SEMVER matcher type");var t=new Set(e.map((function(e){return new Xn(e).version})));return function(e){var i=new Xn(e).version;return t.has(i)}},function(e,t){return function(i){return!!t.largeSegments&&t.largeSegments.isInSegment(e,i)}}];function Jn(e,t,i){var n,r=t.type,a=t.value;return $n[r]&&(n=$n[r](a,i,e)),n}function Zn(e,t){return{key:e,attributes:t}}function er(e,t,i,n,r){var a,o,s=function(e,t){switch(e){case Ln.EQUAL_TO:return"DATETIME"===t?Vn:void 0;case Ln.GREATER_THAN_OR_EQUAL_TO:case Ln.LESS_THAN_OR_EQUAL_TO:case Ln.BETWEEN:return"DATETIME"===t?Gn:void 0;case Ln.IN_SPLIT_TREATMENT:return Zn;default:return}}(t,n);switch(n){case Un:case Fn:o=Ve(i),a=isNaN(o)?void 0:o;break;case Rn:a=function(e){var t=e;return Fe(e)&&(t=e.matchingKey?e.matchingKey:void 0),Ge(t)||void 0}(i);break;case kn:a=function(e){var t=Array.isArray(e)?qe(e.map((function(e){return e+""}))):[];return t.length?t:void 0}(i);break;case Mn:a=function(e){if(!0===e||!1===e)return e;if("string"==typeof e){var t=e.toLocaleLowerCase();if("true"===t)return!0;if("false"===t)return!1}}(i);break;case wn:a=i;break;default:a=void 0}return s&&(a=s(a,r)),e.debug(24,[i,n,a instanceof Object?JSON.stringify(a):a]),a}function tr(e,t,i,n){var r=i.attribute,a=function(e,t,i,n){var r=void 0;return i?n?(r=n[i],e.debug(23,[i,r])):e.warn(201,[i]):r=t,r}(e,t,r,n),o=er(e,i.type,a,i.dataType,n);return void 0!==o?o:void e.warn(200,[a+(r?" for attribute "+r:"")])}function ir(e,t,i,n,r,a){if(t)return{treatment:function(e,t,i,n){var r=ai(t,i),a=n.getTreatmentFor(r);return e.debug(3,[r,t,i,a]),a}(e,i,n,r),label:a}}function nr(e,t,i,n,r){return function(a,o,s,c,l,d){if("ROLLOUT"===r&&!function(e,t,i){return!(e<100&&ai(t,i)>e)}(s,a.bucketingKey,c))return{treatment:void 0,label:"not in split"};var u=t(a,l,d);return an(u)?u.then((function(t){return ir(e,t,a.bucketingKey,o,i,n)})):ir(e,u,a.bucketingKey,o,i,n)}}function rr(e,t){function i(t){var i=t.every((function(e){return e}));return e.debug(0,[i]),i}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.map((function(t){return t.apply(void 0,e)}));return-1!==Pe(r,an)?Promise.all(r).then(i):i(r)}}function ar(e,t,i){for(var n=[],r=0;r<t.length;r++){var a=t[r],o=a.matcherGroup,s=a.partitions,c=a.label,l=a.conditionType,d=qn(o.matchers).map((function(t){var n;try{n=Jn(e,t,i)}catch(i){e.error(329,[t.name,i])}return function(i,r,a){var o=tr(e,i,t,r),s=!1;if(void 0!==o&&n)try{s=n(o,a)}catch(i){e.error(329,[t.name,i])}function c(i){return e.debug(40,[t.name,i,t.value,o]),Boolean(i^t.negate)}return an(s)?s.then(c):c(s)}}));if(0===d.length){n=[];break}n.push(nr(e,rr(e,d),Yn.parse(s),c,l))}return function(e,t){function i(t){for(var i=t.length,n=0;n<i;n++){var r=t[n];if(void 0!==r)return e.debug(1,[r.treatment]),r}e.debug(2)}return Array.isArray(t)&&0!==t.length?function(e,n,r,a,o,s){var c=t.map((function(t){return t(e,n,r,a,o,s)}));return-1!==Pe(c,an)?Promise.all(c).then((function(e){return i(e)})):i(c)}:function(){return e.error(300),{treatment:K,label:"targeting rule type unsupported by sdk"}}}(e,n)}function or(e,t){return{treatment:Me(e,"treatment",t),label:Me(e,"label","default rule")}}var sr=function(){function e(e,t){this.baseInfo=e,this.evaluator=t,"string"!=typeof this.baseInfo.defaultTreatment&&(this.baseInfo.defaultTreatment=K)}return e.parse=function(t,i,n){return new e(i,ar(t,i.conditions,n))},e.prototype.getKey=function(){return this.baseInfo.name},e.prototype.getTreatment=function(e,t,i){var n,r,a,o=this.baseInfo,s=o.killed,c=o.seed,l=o.defaultTreatment,d=o.trafficAllocation,u=o.trafficAllocationSeed;try{n=Ai(e)}catch(e){return{treatment:K,label:_n}}if(this.isGarbage())r=K,a="archived";else{if(!s){var p=this.evaluator(n,c,d,u,t,i);return an(p)?p.then((function(e){return or(e,l)})):or(p,l)}r=l,a="killed"}return{treatment:r,label:a}},e.prototype.isGarbage=function(){return"ARCHIVED"===this.baseInfo.status},e.prototype.getChangeNumber=function(){return this.baseInfo.changeNumber},e}(),cr={treatment:K,label:_n,config:null};function lr(e){var t={};return e.forEach((function(e){t[e]=cr})),t}function dr(e,t,i,n,r){var a;try{a=r.splits.getSplit(i)}catch(e){return cr}return an(a)?a.then((function(i){return pr(e,i,t,n,r)})).catch((function(){return cr})):pr(e,a,t,n,r)}function ur(e,t,i,n,r){var a;try{a=r.splits.getSplits(i)}catch(e){return lr(i)}return an(a)?a.then((function(a){return mr(e,i,a,t,n,r)})).catch((function(){return lr(i)})):mr(e,i,a,t,n,r)}function pr(e,t,i,n,r){var a={treatment:K,label:vn,config:null};if(t){var o=sr.parse(e,t,r);if(an(a=o.getTreatment(i,n,dr)))return a.then((function(e){return e.changeNumber=o.getChangeNumber(),e.config=t.configurations&&t.configurations[e.treatment]||null,e.impressionsDisabled=t.impressionsDisabled,e}));a.changeNumber=o.getChangeNumber(),a.config=t.configurations&&t.configurations[a.treatment]||null,a.impressionsDisabled=t.impressionsDisabled}return a}function mr(e,t,i,n,r,a){var o={},s=[];return t.forEach((function(t){var c=pr(e,i[t],n,r,a);an(c)?s.push(c.then((function(e){o[t]=e}))):o[t]=c})),s.length>0?Promise.all(s).then((function(){return o})):o}var fr={treatment:K,label:Cn};function Ar(e){var t={};return e.forEach((function(e){t[e]=fr})),t}function gr(e){if(e&&e.properties)try{return JSON.stringify(e.properties)}catch(e){}}function Er(e){var t=e.sdkReadinessManager.readinessManager,i=e.storage,n=e.settings,r=e.impressionsTracker,a=e.eventTracker,o=e.telemetryTracker,s=n.log,c=n.mode,l=it(c);function d(e,n,a,c,d,u){void 0===d&&(d=!1),void 0===u&&(u=se);var p=o.trackEval(d?"tc":"t"),f=function(t){var i=[],o=m(t,n,e,gr(c),d,u,i);return r.track(i,a),p(i[0]&&i[0].imp.label),o},A=t.isReady()||t.isReadyFromCache()?dr(s,e,n,a,i):l?Promise.resolve(fr):fr;return an(A)?A.then((function(e){return f(e)})):f(A)}function u(e,n,a,c,d,u){void 0===d&&(d=!1),void 0===u&&(u=ce);var p=o.trackEval(d?"tcs":"ts"),f=function(t){var i=[],n={},o=gr(c);return Object.keys(t).forEach((function(r){n[r]=m(t[r],r,e,o,d,u,i)})),r.track(i,a),p(i[0]&&i[0].imp.label),n},A=t.isReady()||t.isReadyFromCache()?ur(s,e,n,a,i):l?Promise.resolve(Ar(n)):Ar(n);return an(A)?A.then((function(e){return f(e)})):f(A)}function p(e,n,a,c,d,u,p){void 0===d&&(d=!1),void 0===u&&(u="tfs"),void 0===p&&(p=pe);var f=o.trackEval(u),A=function(t){var i=[],n={},o=gr(c);return Object.keys(t).forEach((function(r){n[r]=m(t[r],r,e,o,d,p,i)})),r.track(i,a),f(i[0]&&i[0].imp.label),n},g=t.isReady()||t.isReadyFromCache()?function(e,t,i,n,r,a){var o;function s(o){for(var s,c=new Set,l=0;l<i.length;l++){var d=o[l];d.size?(s=d,c=new Set(Pi(c).concat(Pi(s)))):e.warn(228,[a,i[l]])}return c.size?ur(e,t,Pi(c),n,r):{}}try{o=r.splits.getNamesByFlagSets(i)}catch(e){return{}}return an(o)?o.then((function(e){return s(e)})).catch((function(){return{}})):s(o)}(s,e,n,a,i,p):l?Promise.resolve({}):{};return an(g)?g.then((function(e){return A(e)})):A(g)}function m(e,i,n,r,a,o,c){var l=fi(n),d=function(e){return Fe(e)?e.bucketingKey:void 0}(n),u=e.treatment,p=e.label,m=e.changeNumber,f=e.config,A=void 0===f?null:f,g=e.impressionsDisabled;return s.info(102,[i,l,u,p]),Sn(s,t,i,p,o)&&(s.info(103),c.push({imp:{feature:i,keyName:l,treatment:u,time:Date.now(),bucketingKey:d,label:p,changeNumber:m,properties:r},disabled:g})),a?{treatment:u,config:A}:u}return{getTreatment:d,getTreatmentWithConfig:function(e,t,i,n){return d(e,t,i,n,!0,le)},getTreatments:u,getTreatmentsWithConfig:function(e,t,i,n){return u(e,t,i,n,!0,de)},getTreatmentsByFlagSets:p,getTreatmentsWithConfigByFlagSets:function(e,t,i,n){return p(e,t,i,n,!0,"tcfs",fe)},getTreatmentsByFlagSet:function(e,t,i,n){return p(e,[t],i,n,!1,"tf",ue)},getTreatmentsWithConfigByFlagSet:function(e,t,i,n){return p(e,[t],i,n,!0,"tcf",me)},track:function(e,n,r,l,d,u){void 0===u&&(u=1024);var p=o.trackEval("tr"),m=fi(e),f={eventTypeId:r,trafficTypeName:n,value:l,timestamp:Date.now(),key:m,properties:d};!function(e,t,i,n,r,a){if(!t.isReady()||n===$)return!0;var o=i.trafficTypeExists(r);an(o)?o.then((function(t){return t||Tn(e,r,a),t})):o||Tn(e,r,a)}(s,t,i.splits,c,n,Ae);var A=a.track(f,u);return an(A)?A.then((function(e){return p(),e})):(p(),A)}}}function yr(e,t,i){var n=e.log,r=it(e.mode);function a(t,r,a,o,s){var c=mt(n,r,t),l=t.indexOf("ByFlagSet")>-1?function(e,t,i,n){var r=at(e,i,t,"flag sets","flag set"),a=r?lt(e,r,t):[];return n.length>0&&(a=a.filter((function(i){return n.indexOf(i)>-1||(e.warn(227,[t,i]),!1)}))),!!a.length&&a}(n,t,a,e.sync.__splitFiltersValidation.groupedFilters.bySet):He(t,ce)?at(n,a,t):rt(n,a,t),d=on(n,o,t),u=yn(n,i,t),p=function(e,t,i){if(Fe(t)){var n=An(e,t.properties,i).properties;return n&&Object.keys(n).length>0?{properties:n}:void 0}t&&e.error(k,[i,"evaluation options"])}(n,s,t);return hn(n,i,t,l),{valid:u&&c&&l&&!1!==d,key:c,nameOrNames:l,attributes:d,options:p}}function o(e){return r?Promise.resolve(e):e}return{getTreatment:function(e,i,n,r){var s=a(se,e,i,n,r);return s.valid?t.getTreatment(s.key,s.nameOrNames,s.attributes,s.options):o(K)},getTreatmentWithConfig:function(e,i,n,r){var s=a(le,e,i,n,r);return s.valid?t.getTreatmentWithConfig(s.key,s.nameOrNames,s.attributes,s.options):o(M({},j))},getTreatments:function(e,i,n,r){var s=a(ce,e,i,n,r);if(s.valid)return t.getTreatments(s.key,s.nameOrNames,s.attributes,s.options);var c={};return s.nameOrNames&&s.nameOrNames.forEach((function(e){return c[e]=K})),o(c)},getTreatmentsWithConfig:function(e,i,n,r){var s=a(de,e,i,n,r);if(s.valid)return t.getTreatmentsWithConfig(s.key,s.nameOrNames,s.attributes,s.options);var c={};return s.nameOrNames&&s.nameOrNames.forEach((function(e){return c[e]=M({},j)})),o(c)},getTreatmentsByFlagSets:function(e,i,n,r){var s=a(pe,e,i,n,r);return s.valid?t.getTreatmentsByFlagSets(s.key,s.nameOrNames,s.attributes,s.options):o({})},getTreatmentsWithConfigByFlagSets:function(e,i,n,r){var s=a(fe,e,i,n,r);return s.valid?t.getTreatmentsWithConfigByFlagSets(s.key,s.nameOrNames,s.attributes,s.options):o({})},getTreatmentsByFlagSet:function(e,i,n,r){var s=a(ue,e,[i],n,r);return s.valid?t.getTreatmentsByFlagSet(s.key,s.nameOrNames[0],s.attributes,s.options):o({})},getTreatmentsWithConfigByFlagSet:function(e,i,n,r){var s=a(me,e,[i],n,r);return s.valid?t.getTreatmentsWithConfigByFlagSet(s.key,s.nameOrNames[0],s.attributes,s.options):o({})},track:function(e,a,o,s,c){var l=mt(n,e,Ae),d=function(e,t,i){if(null==t)e.error(F,[i,En]);else if(we(t)){if(0!==t.length)return gn.test(t)&&(e.warn(216,[i]),t=t.toLowerCase()),t;e.error(x,[i,En])}else e.error(w,[i,En]);return!1}(n,a,Ae),u=function(e,t,i){if(null==t)e.error(F,[i,ln]);else if(we(t))if(0===t.length)e.error(x,[i,ln]);else{if(cn.test(t))return t;e.error(310,[i,t])}else e.error(w,[i,ln]);return!1}(n,o,Ae),p=function(e,t,i){return Ue(t)||null==t?t:(e.error(313,[i]),!1)}(n,s,Ae),m=An(n,c,Ae),f=m.properties,A=m.size;return yn(n,i,Ae)&&l&&d&&u&&!1!==p&&!1!==f?t.track(l,d,u,p,f,A):!!r&&Promise.resolve(!1)}}}function hr(e,t){var i=e.sdkReadinessManager,n=e.syncManager,r=e.storage,a=e.signalListener,o=e.settings,s=e.telemetryTracker,c=e.uniqueKeysTracker,l=0;function d(){return n?n.flush():Promise.resolve()}return M(Object.create(i.sdkStatus),yr(o,Er(e),i.readinessManager),{flush:function(){return e=d,t=1e3,i=Date.now(),(n=i-l)<t?(o.log.warn("Flush cooldown, remaining time "+(t-n)/1e3+" seconds"),Promise.resolve()):(l=i,e());var e,t,i,n},destroy:function(){var e;return i.readinessManager.destroy(),t||(e=o.core.authorizationKey,Ct[e]&&Ct[e]--,0===Ct[e]&&delete Ct[e],s.sessionLength(),a&&a.stop(),c.stop()),n&&n.stop(),d().then((function(){return r.destroy()}))}})}function vr(e,t){return(e.matchingKey?e.matchingKey:e)+"-"+(e.bucketingKey?e.bucketingKey:e)+"-"}function Cr(e){var t=e.clients,i=e.storage,n=e.syncManager,r=e.sdkReadinessManager,a=e.settings,o=a.core.key,s=a.log,c=Pn(s,hr(e),o),l=vr(Ai(o));return t[l]=c,function(a){if(void 0===a)return s.debug(27),c;var o=mt(s,a,V);if(!1===o)throw new Error("Shared Client needs a valid key.");var l=vr(o);if(t[l])s.debug(28);else{var d=fi(o),u=r.shared(),p=i.shared&&i.shared(d,(function(e){e?u.readinessManager.timeout():u.readinessManager.segments.emit($e)})),m=n&&p&&n.shared(d,u.readinessManager,p);t[l]=Pn(s,hr(M({},e,{sdkReadinessManager:u,storage:p||i,syncManager:m}),!0),o),s.info(104)}return t[l]}}var _r=function(){return function(e,t,i,n){this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,i?(i.prev=this,this.next=i):this.next=null}}(),Sr=function(){function e(){this.tail=null,this.head=null,this.length=0}return e.prototype.removeNode=function(e){if(e&&e instanceof _r){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,i=e.prev;return t&&(t.prev=i),i&&(i.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=i),e.list.length--,e.next=null,e.prev=null,e.list=null,t}},e.prototype.unshiftNode=function(e){if(e&&e instanceof _r&&e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},e.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)this.head=new _r(arguments[e],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},e}(),Tr=function(){function e(e){this.maxLen=e||1,this.items=new Map,this.lru=new Sr}return e.prototype.get=function(e){var t=this.items.get(e);if(t&&t instanceof _r)return this.lru.unshiftNode(t),t.value.value},e.prototype.set=function(e,t){var i=this.items.get(e);if(i){if(!(i instanceof _r))return!1;this.lru.unshiftNode(i),this.lru.head.value.value=t}else{if(this.lru.length===this.maxLen){var n=this.lru.tail;if(!n)return!1;this.items.delete(n.value.key),this.lru.removeNode(this.lru.tail)}this.lru.unshift({key:e,value:t}),this.items.set(e,this.lru.head)}return!0},e}(),Nr=function(){function e(e,t){this.cache=new Tr(e),this.hasher=t}return e.prototype.testAndSet=function(e){var t=this.hasher(e),i=this.cache.get(t);return this.cache.set(t,e.time),i},e}();function Ir(e){return ri(function(e){return e.keyName+":"+e.feature+":"+e.treatment+":"+e.label+":"+e.changeNumber}(e))}function br(){return new Nr(500,Ir)}function Dr(e){var t=en(e);return t.validateCache=function(){return!0},t}function Or(e,t){var i=!1,n=!1;var r=function e(r){var a=new Promise((function(e,i){return r.then(e,(function(e){n?i(e):t(e)}))})),o=a.then;return Object.defineProperty(a,"then",{value:function(t,r){var s=o.call(a,t,r);return"function"==typeof t&&(i=!0),"function"==typeof r?(n=!0,s):e(s)}}),a}(e);return r.hasOnFulfilled=function(){return i},r}function Pr(e,t,i,n){void 0===i&&(i=function(e){var t=M(new e,{splitsArrived:!1,splitsCacheLoaded:!1,hasInit:!1,initCallbacks:[]});return t.on(ze,(function(e){e||(t.splitsArrived=!0)})),t.once(Xe,(function(){t.splitsCacheLoaded=!0})),t}(e));var r=t.startup.readyTimeout,a=function(e){var t=M(new e,{segmentsArrived:!1});return t.once($e,(function(){t.segmentsArrived=!0})),t}(e),o=new e,s=0;function c(){var e=Date.now();s=e>s?e:s+1}var l=!1;i.splitsCacheLoaded?l=!0:i.once(Xe,(function(){if(l=!0,!p&&!f)try{c(),o.emit(et)}catch(e){setTimeout((function(){throw e}),0)}}));var d=!1;function u(){d||p||(d=!0,c(),o.emit(Je,"Split SDK emitted SDK_READY_TIMED_OUT event."))}var p=!1;i.on(ze,g),a.on($e,g);var m,f=!1;function A(){f=!1,r>0&&!p&&(m=setTimeout(u,r))}function g(e){var n;if(!f)if(p)try{c(),o.emit(tt,e)}catch(e){setTimeout((function(){throw e}),0)}else if(i.splitsArrived&&a.segmentsArrived){clearTimeout(m),p=!0;try{c(),l||(null===(n=t.storage)||void 0===n?void 0:n.type)!==ne||(l=!0,o.emit(et)),o.emit(Ze)}catch(e){setTimeout((function(){throw e}),0)}}}return i.initCallbacks.push(A),i.hasInit&&A(),{splits:i,segments:a,gate:o,shared:function(){return Pr(e,t,i,!0)},timeout:u,setDestroyed:function(){f=!0},init:function(){i.hasInit||(i.hasInit=!0,i.initCallbacks.forEach((function(e){return e()})))},destroy:function(){f=!0,c(),clearTimeout(m),n||(i.hasInit=!1)},isReady:function(){return p},isReadyFromCache:function(){return l},isTimedout:function(){return d&&!p},hasTimedout:function(){return d},isDestroyed:function(){return f},isOperational:function(){return(p||l)&&!f},lastUpdate:function(){return s}}}Dr.type=ie;function Lr(e,t,i){void 0===i&&(i=Pr(e,t));var n=t.log,r=0,a=0;i.gate.on("removeListener",(function(e){e===Ze&&a--})),i.gate.on("newListener",(function(e){e!==Ze&&e!==Je||(i.isReady()?n.error(302,[e===Ze?"SDK_READY":"SDK_READY_TIMED_OUT"]):e===Ze&&a++)}));var o,s=o=Or(new Promise((function(e,t){i.gate.once(Ze,(function(){n.info(101),a!==r||o.hasOnFulfilled()||n.warn(202),e()})),i.gate.once(Je,(function(e){t(new Error(e))}))})),c);function c(e){n.error(e&&e.message)}return i.gate.once(et,(function(){n.info(100)})),{readinessManager:i,shared:function(){return Lr(e,t,i.shared())},incInternalReadyCbCount:function(){r++},sdkStatus:M(Object.create(i.gate),{Event:{SDK_READY:Ze,SDK_READY_FROM_CACHE:et,SDK_UPDATE:tt,SDK_READY_TIMED_OUT:Je},ready:function(){return i.hasTimedout()?i.isReady()?Promise.resolve():Or(Promise.reject(new Error("Split SDK has emitted SDK_READY_TIMED_OUT event.")),c):s},__getStatus:function(){return{isReady:i.isReady(),isReadyFromCache:i.isReadyFromCache(),isTimedout:i.isTimedout(),hasTimedout:i.hasTimedout(),isDestroyed:i.isDestroyed(),isOperational:i.isOperational(),lastUpdate:i.lastUpdate()}}})}}var Mr={DEBUG:"DEBUG",INFO:"INFO",WARN:"WARN",ERROR:"ERROR",NONE:"NONE"},Rr={DEBUG:1,INFO:2,WARN:3,ERROR:4,NONE:5};function Ur(e){return!!Oe(Mr,(function(t){return e===t}))}function kr(e,t){void 0===e&&(e=""),void 0===t&&(t=[]);var i=0;return e.replace(/%s/g,(function(){var e=t[i++];if(Fe(e)||Array.isArray(e))try{e=JSON.stringify(e)}catch(e){}return e}))}var Fr={prefix:"splitio",logLevel:Mr.NONE,showLevel:!0},wr=function(){function e(e,t){this.options=M({},Fr,e),this.codes=t||new Map,this.logLevel=Rr[this.options.logLevel]}return e.prototype.setLogLevel=function(e){this.options.logLevel=e,this.logLevel=Rr[e]},e.prototype.debug=function(e,t){this._shouldLog(Rr.DEBUG)&&this._log(Mr.DEBUG,e,t)},e.prototype.info=function(e,t){this._shouldLog(Rr.INFO)&&this._log(Mr.INFO,e,t)},e.prototype.warn=function(e,t){this._shouldLog(Rr.WARN)&&this._log(Mr.WARN,e,t)},e.prototype.error=function(e,t){this._shouldLog(Rr.ERROR)&&this._log(Mr.ERROR,e,t)},e.prototype._log=function(e,t,i){if("number"==typeof t){var n=this.codes.get(t);t=n?kr(n,i):"Message code "+t+(i?", with args: "+i.toString():"")}else i&&(t=kr(t,i));var r=this._generateLogMessage(e,t);console.log(r)},e.prototype._generateLogMessage=function(e,t){var i="";return this.options.showLevel&&(i+="["+e+"]"+(e===Mr.INFO||e===Mr.WARN?" ":"")+" "),this.options.prefix&&(i+=this.options.prefix+" => "),i+t},e.prototype._shouldLog=function(e){return e>=this.logLevel},e}();function xr(e){function t(t){Ur(t)?e.setLogLevel(t):e.error(301)}return{enable:function(){t(Mr.DEBUG)},setLogLevel:t,disable:function(){t(Mr.NONE)},LogLevel:Mr}}var Br={add:function(){return!0},contains:function(){return!0},clear:function(){}};function Hr(e){var t=e.settings,i=e.platform,n=e.storageFactory,r=e.splitApiFactory,a=e.extraProps,o=e.syncManagerFactory,s=e.SignalListener,c=e.impressionsObserverFactory,l=e.integrationsManagerFactory,d=e.sdkManagerFactory,u=e.sdkClientMethodFactory,p=e.filterAdapterFactory,m=e.lazyInit,f=t.log,A=t.sync.impressionsMode,g=!1,E=[];function y(e){g?e():E.push(e)}var h,v,C=Lr(i.EventEmitter,t),_=C.readinessManager,S=n({settings:t,onReadyCb:function(e){e?_.timeout():(_.splits.emit(ze),_.segments.emit($e))}}),T={},N=function(e,t){if(e&&t){var i=St(t);return{trackEval:function(i){var n=St(t);return function(t){switch(t){case _n:return void e.recordException(i);case Cn:e.recordNonReadyUsage&&e.recordNonReadyUsage()}e.recordLatency(i,n())}},trackHttp:function(i){var n=St(t);return function(t){e.recordHttpLatency(i,n()),t&&t.statusCode?e.recordHttpError(i,t.statusCode):e.recordSuccessfulSync(i,Date.now())}},sessionLength:function(){e.recordSessionLength&&e.recordSessionLength(i())},streamingEvent:function(t,i){80===t?e.recordAuthRejections():(e.recordStreamingEvents({e:t,d:i,t:Date.now()}),50===t&&e.recordTokenRefreshes())},addTag:function(t){e.addTag&&e.addTag(t)},trackUpdatesFromSSE:function(t){e.recordUpdatesFromSSE(t)}}}var n=function(){return function(){}};return{trackEval:n,trackHttp:n,sessionLength:function(){},streamingEvent:function(){},addTag:function(){},trackUpdatesFromSSE:function(){}}}(S.telemetry,i.now),I=l&&l({settings:t,storage:S,telemetryTracker:N}),b=c(),D=function(e,t,i){var n;return void 0===i&&(i=Br),{track:function(n,r){i.add(n,r)?t.track(n,r):e.debug("unique-keys-tracker: The feature "+r+" and key "+n+" exist in the filter")},start:function(){i.refreshRate&&(n=setInterval(i.clear,i.refreshRate))},stop:function(){clearInterval(n)}}}(f,S.uniqueKeys,p&&p()),O=function(e,t){return{process:function(i){var n=Date.now();return e.track(i.feature,n,1),t.track(i.keyName,i.feature),!1}}}(S.impressionCounts,D),P=A===z?(h=b,v=S.impressionCounts,{process:function(e){if(e.properties)return!0;e.pt=h.testAndSet(e);var t=Date.now();return e.pt&&v.track(e.feature,t,1),!e.pt||e.pt<Ui(t)}}):A===Q?function(e){return{process:function(t){return t.properties||(t.pt=e.testAndSet(t)),!0}}}(b):O,L=function(e,t,i,n,r,a,o){var s=e.log,c=e.impressionListener,l=e.runtime,d=l.ip,u=l.hostname,p=e.version;return{track:function(l,m){if(e.userConsent!==ae){var f=l.filter((function(e){var t=e.imp;return e.disabled?i.process(t):n.process(t)})),A=l.length,g=f.length;if(g){var E=t.track(f.map((function(e){return e.imp})));an(E)?E.then((function(){s.info(121,[A])})).catch((function(e){s.error(307,[A,e])})):o&&(o.recordImpressionStats(0,g),o.recordImpressionStats(2,A-g))}if(c||a)for(var y=function(e){var t={impression:M({},l[e].imp),attributes:m,ip:d,hostname:u,sdkLanguageVersion:p};r((function(){setTimeout((function(){a&&a.handleImpression(t);try{c&&c.logImpression(t)}catch(e){s.error(308,[e])}}))}))},h=0;h<A;h++)y(h)}}}}(t,S.impressions,O,P,y,I,S.telemetry),R=function(e,t,i,n,r){var a=e.log,o=it(e.mode);function s(e,t){var r=e.eventTypeId,o=e.trafficTypeName,s=e.key,c=e.value,l=e.timestamp,d=e.properties,u='event of type "'+r+'" for traffic type "'+o+'". Key: '+s+". Value: "+c+". Timestamp: "+l+". "+(d?"With properties.":"With no properties.");return t?(a.info(120,[u]),n&&i((function(){setTimeout((function(){var t=M({},e);d&&(t.properties=M({},d)),n.handleEvent(t)}))}))):a.error(309,[u]),t}return{track:function(i,n){if(e.userConsent===ae)return!!o&&Promise.resolve(!1);var a=t.track(i,n);return an(a)?a.then(s.bind(null,i)):(r&&r.recordEventStats(a?0:1,1),s(i,a))}}}(t,S.events,y,I,S.telemetry),U=r&&r(t,i,N),k={clients:T,splitApi:U,eventTracker:R,impressionsTracker:L,telemetryTracker:N,uniqueKeysTracker:D,sdkReadinessManager:C,readiness:_,settings:t,storage:S,platform:i},F=o&&o(k);k.syncManager=F;var w=s&&new s(F,t,S,U);k.signalListener=w;var x=u(k),B=d(t,S.splits,C);function H(){g||(g=!0,_t(f,t.core.authorizationKey),_.init(),D.start(),F&&F.start(),w&&w.start(),E.forEach((function(e){return e()})),E.length=0)}return f.info(105),M({client:x,manager:function(){return f.debug(29),B},Logger:xr(f),settings:t,destroy:function(){return g=!1,Promise.all(Object.keys(T).map((function(e){return T[e].destroy()}))).then((function(){}))}},a&&a(k),m?{init:H}:H())}var Vr={GRANTED:re,DECLINED:ae,UNKNOWN:oe};function Gr(e){var t=e.settings,i=e.settings.log,n=e.syncManager,r=e.storage,a=r.events,o=r.impressions,s=r.impressionCounts;return Yt(t)||i.info(124,[t.userConsent]),{setStatus:function(e){var r,c;if(!Re(e))return i.warn(325,["UserConsent.setStatus"]),!1;var l=e?re:ae;return t.userConsent!==l?(i.info(122,[t.userConsent,l]),t.userConsent=l,e?null===(r=null==n?void 0:n.submitterManager)||void 0===r||r.start():(null===(c=null==n?void 0:n.submitterManager)||void 0===c||c.stop(!0),a.clear&&a.clear(),o.clear&&o.clear(),s&&s.clear&&s.clear())):i.info(123,[l]),!0},getStatus:function(){return t.userConsent},Status:Vr}}function qr(e){var t=e.treatment;return e.keys?{conditionType:"WHITELIST",matcherGroup:{combiner:"AND",matchers:[{keySelector:null,matcherType:"WHITELIST",negate:!1,whitelistMatcherData:{whitelist:we(e.keys)?[e.keys]:e.keys}}]},partitions:[{treatment:t,size:100}],label:"whitelisted "+t}:{conditionType:"ROLLOUT",matcherGroup:{combiner:"AND",matchers:[{keySelector:null,matcherType:"ALL_KEYS",negate:!1}]},partitions:[{treatment:t,size:100}],label:"default rule"}}function Yr(e,t,i,n){return Te(n.log,function(e,t,i,n){var r=n.log,a=t.splits,o=!0;return function(){var s=[],c=null,l={};try{l=e(n)}catch(e){c=e,r.error(304,[e])}return!c&&l?(r.debug(30,[JSON.stringify(l)]),Le(l,(function(e,t){s.push({name:t,status:"ACTIVE",killed:!1,trafficAllocation:100,defaultTreatment:K,conditions:e.conditions||[],configurations:e.configurations,trafficTypeName:e.trafficTypeName})})),Promise.all([a.clear(),a.update(s,[],Date.now())]).then((function(){if(i.splits.emit(ze),o){o=!1;var e=!!t.validateCache&&t.validateCache();Promise.resolve().then((function(){e&&i.splits.emit(Xe),i.segments.emit($e)}))}return!0}))):Promise.resolve(!0)}}(e,t,i,n),n.scheduler.offlineRefreshRate,"offlineUpdater")}function Wr(){return Promise.resolve()}var Kr,jr=(Kr=function(){var e={emptyMock:"1"};return function(t){var i,n,r=t.features||{};if(i=r,!((n=Object.keys(i)).length!==Object.keys(e).length?(e=Be({},i),1):n.some((function(t){var n,r,a=!e[t],o=typeof(n=e[t])!=typeof(r=i[t])||("string"==typeof n?n!==r:n.treatment!==r.treatment||n.config!==r.config),s=a||o;return s&&(e=Be({},i)),s}))))return!1;var a={};return Le(r,(function(e,t){var i=e,n=null;Fe(e)&&(i=e.treatment,n=e.config||n);var r={};null!==n&&(r[i]=n),a[t]={trafficTypeName:"localhost",conditions:[qr({treatment:i})],configurations:r}})),a}},function(e){var t=e.settings,i=e.readiness,n=e.storage,r=Yr(Kr(),n,i,t),a=r.start,o=[];return M(r,{start:function(){a(),o.forEach((function(e){return e()})),o.length=0},flush:Wr,shared:function(e,t){function i(){t.segments.emit($e)}return r.isRunning()?setTimeout(i):o.push(i),{stop:function(){},flush:Wr}}})});var Qr=!("undefined"==typeof process||void 0===process.version||!process.version),zr="Split SDK client is ready",Xr=[[300,"engine:combiner: Invalid feature flag, no valid rules or unsupported targeting rule type found"],[329,"engine:matcher: [%s] %s"],[301,"logger: Invalid Log Level - No changes to the logs will be applied."],[303,"The SDK will not get ready. Reason: %s"],[307,"impressions-tracker: Could not store impressions bulk with %s impression(s). Error: %s"],[308,"impressions-tracker: Impression listener logImpression method threw: %s."],[309,"events-tracker: Failed to queue %s"],[304,"sync:offline: There was an issue loading the mock feature flags data. No changes will be applied to the current cache. %s"],[305,"sync:streaming: Failed to connect or error on streaming connection, with error message: %s"],[306,"sync:streaming: Failed to authenticate for streaming. Error: %s."],[322,"Response status is not OK. Status: %s. URL: %s. Message: %s"],[302,"A listener was added for %s on the SDK, which has already fired and won't be emitted again. The callback won't be executed."],[314,"%s: Client has already been destroyed - no calls possible."],[310,'%s: you passed "%s", event_type must adhere to the regular expression /^[a-zA-Z0-9][-_.:a-zA-Z0-9]{0,79}$/g. This means an event_type must be alphanumeric, cannot be more than 80 characters long, and can only include a dash, underscore, period, or colon as separators of alphanumeric characters.'],[k,"%s: %s must be a plain object."],[312,"%s: the maximum size allowed for the properties is 32768 bytes, which was exceeded."],[313,"%s: value must be a finite number."],[F,"%s: you passed a null or undefined %s. It must be a non-empty string."],[316,"%s: %s too long. It must have 250 characters or less."],[317,"%s: Key must be an object with bucketingKey and matchingKey with valid string properties."],[w,"%s: you passed an invalid %s. It must be a non-empty string."],[x,"%s: you passed an empty %s. It must be a non-empty string."],[320,"%s: %s must be a non-empty array."],[325,"%s: provided param must be a boolean value."],[321,'settings: you passed an invalid "%s" config param. It should be one of the following values: %s. Defaulting to "%s".'],[324,"settings: the provided storage is invalid.%s Falling back into default MEMORY storage"],[326,'settings: the provided "%s" config param is lower than allowed. Setting to the minimum value %s seconds'],[327,"settings: the amount of flag sets provided are big causing uri length error."],[328,"settings: the Set filter is exclusive and cannot be used simultaneously with names or prefix filters. Ignoring names and prefixes."]].concat([[200,"engine:value: Value %s doesn't match with expected type."],[201,"engine:value: Defined attribute `%s`. No attributes received."],[204,"sync:my-segments: Retrying download of segments #%s. Reason: %s"],[205,G+"Error while doing fetch of feature flags. %s"],[206,"sync:streaming: Error parsing SSE error notification: %s"],[207,"sync:streaming: Error parsing SSE message notification: %s"],[208,"sync:streaming: Falling back to polling mode. Reason: %s"],[209,"sync:submitter: Dropping %s after retry. Reason: %s."],[210,"sync:submitter: Failed to push %s, keeping data to retry on next iteration. Reason: %s."],[203,"%s: the SDK is not ready, results may be incorrect%s. Make sure to wait for SDK readiness before using this method."],[202,"No listeners for SDK Readiness detected. Incorrect control treatments could have been logged if you called getTreatment/s while the SDK was not yet ready."],[211,'%s: Property "%s" is of invalid type. Setting value to null.'],[212,"%s: more than 300 properties were provided. Some of them will be trimmed when processed."],[213,'%s: %s "%s" is not of type string, converting.'],[214,'%s: %s "%s" has extra whitespace, trimming.'],[215,'%s: feature flag "%s" does not exist in this environment. Please double check what feature flags exist in the Split user interface.'],[216,"%s: traffic_type_name should be all lowercase - converting string to lowercase."],[217,'%s: traffic type "%s" does not have any corresponding feature flag in this environment, make sure you\'re tracking your events to a valid traffic type defined in the Split user interface.'],[227,"%s: you passed %s which is not part of the configured FlagSetsFilter, ignoring Flag Set."],[218,"settings: %s integration item(s) at settings is invalid. %s"],[219,"settings: feature flag filters are not applicable for Consumer modes where the SDK does not keep rollout data in sync. Filters were discarded"],[220,'settings: feature flag filter at position %s is invalid. It must be an object with a valid filter type ("bySet", "byName" or "byPrefix") and a list of "values".'],[221,"settings: feature flag filter configuration must be a non-empty array of filter objects."],[222,"settings: You already have %s. We recommend keeping only one instance of the factory at all times (Singleton pattern) and reusing it throughout your application"],[U,"sync:streaming: Fetching Memberships due to an error processing %s notification: %s"],[224,"sync:streaming: Fetching SplitChanges due to an error processing SPLIT_UPDATE notification: %s"],[225,"%s: you passed %s, flag set must adhere to the regular expressions %s. This means a flag set must start with a letter or number, be in lowercase, alphanumeric and have a max length of 50 characters. %s was discarded."],[226,"%s: flag set %s should be all lowercase - converting string to lowercase."],[228,"%s: you passed %s flag set that does not contain cached feature flag names. Please double check what flag sets are in use in the Split user interface."]]).concat([[100,zr+" from cache"],[101,zr],[102,"impressions-tracker: Feature flag: %s. Key: %s. Evaluation: %s. Label: %s"],[103,"impressions-tracker: Queueing corresponding impression."],[104,"New shared client instance created."],[105,"New Split SDK instance created."],[120,"events-tracker: Successfully queued %s"],[121,"impressions-tracker: Successfully stored %s impression(s)."],[122,"UserConsent: consent status changed from %s to %s."],[123,"UserConsent: call had no effect because it was the current consent status (%s)."],[124,"Starting the SDK with %s user consent. No data will be sent."],[106,"sync:polling-manager: Turning segments data polling %s."],[107,"sync:polling-manager: Starting polling"],[108,"sync:polling-manager: Stopping polling"],[109,G+"Retrying download of feature flags #%s. Reason: %s"],[R,"sync:submitter: Flushing full %s queue and resetting timer."],[116,"sync:submitter: Pushing %s."],[110,"sync:streaming: Refreshing streaming token in %s seconds, and connecting streaming in %s seconds."],[111,"sync:streaming: Attempting to reconnect streaming in %s seconds."],[112,"sync:streaming: Connecting streaming."],[113,"sync:streaming: Streaming is disabled for given SDK key. Switching to polling mode."],[114,"sync:streaming: Disconnecting streaming."],[117,"sync:sync-manager: Streaming not available. Starting polling."],[118,"sync:sync-manager: Streaming couldn't connect. Continue polling."],[119,"sync:sync-manager: Streaming connected. Syncing and stopping polling."]]).concat([[0,"engine:combiner: [andCombiner] evaluates to %s"],[1,"engine:combiner: Treatment found: %s"],[2,"engine:combiner: All predicates evaluated, no treatment found."],[3,'engine: using algo "murmur" bucket %s for key %s using seed %s - treatment %s'],[10,'engine:matcher: [IN_SPLIT_TREATMENT] parent feature flag "%s" evaluated to "%s" with label "%s". %s evaluated treatment is part of %s ? %s.'],[11,'engine:matcher: [IN_SPLIT_TREATMENT] will evaluate parent feature flag: "%s" with key: %s %s'],[23,"engine:value: Extracted attribute `%s`. %s will be used for matching."],[24,"engine:sanitize: Attempted to sanitize %s which should be of type %s. Sanitized and processed value => %s"],[40,"engine:matcher: [%s] Result: %s. Rule value: %s. Evaluation value: %s"],[25,"cleanup: Registering cleanup handler %s"],[26,"cleanup: Deregistering cleanup handler %s"],[27,"Retrieving default SDK client."],[28,"Retrieving existing SDK client."],[29,"Retrieving manager instance."],[30,"sync:offline: Feature flags data: \n%s"],[31,G+"Spin up feature flags update using since = %s"],[32,G+"New feature flags %s. Removed feature flags %s. Segment names collected %s"],[35,"sync:streaming: New SSE message received, with data: %s."],[36,"sync: Starting %s. Running each %s millis"],[37,"sync: Running %s"],[38,"sync: Stopping %s"],[39,'settings: feature flags filtering criteria is "%s".']]);var $r=new Map(Xr),Jr=String(Qr?process.env.SPLITIO_DEBUG:Hi()?localStorage.getItem("splitio_debug"):""),Zr=Mr.NONE;/^(enabled?|on)/i.test(Jr)?Zr=Mr.DEBUG:Ur(Jr)&&(Zr=Jr);var ea=[ae,re,oe];var ta="LOCALSTORAGE";var ia={defaults:{startup:{requestTimeoutBeforeReady:5,retriesOnFailureBeforeReady:1,readyTimeout:10,eventsFirstPushWindow:10},userConsent:re,version:"javascript-11.2.0"},runtime:function(){return{ip:!1,hostname:!1}},storage:function(e){var t,i=e.log,n=e.mode,r=e.storage,a=void 0===r?{type:ie}:r,o=a.type,s=a.options,c=void 0===s?{}:s,l=a.prefix,d=a.expirationDays,u=a.clearOnInit,p=function(){t=o,o=ie};return n===$&&o===ta&&p(),(o!==ie&&o!==ta||o===ta&&!Hi())&&(p(),i.error("Invalid or unavailable storage. Fallback into MEMORY storage")),{type:o,options:c,prefix:l,expirationDays:d,clearOnInit:u,__originalType:t}},logger:function(e){var t,i=e.debug,n=void 0!==i?"boolean"==typeof(t=i)?t?Mr.DEBUG:Mr.NONE:"string"==typeof t&&Ur(t)?t:void 0:Zr,r=new wr({logLevel:n||Zr},$r);return n||r._log(Mr.ERROR,"Invalid Log Level - No changes to the logs will be applied."),r},consent:function(e){var t=e.userConsent,i=e.log;return t=xe(t),ea.indexOf(t)>-1?t:(i.error(321,["userConsent",ea,re]),re)}};var na,ra="object"==typeof Reflect?Reflect:null,aa=ra&&"function"==typeof ra.apply?ra.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};na=ra&&"function"==typeof ra.ownKeys?ra.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var oa=Number.isNaN||function(e){return e!=e};function sa(){sa.init.call(this)}sa.prototype._events=void 0,sa.prototype._eventsCount=0,sa.prototype._maxListeners=void 0;var ca=10;function la(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function da(e){return void 0===e._maxListeners?sa.defaultMaxListeners:e._maxListeners}function ua(e,t,i,n){var r,a,o,s;if(la(i),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),a=e._events),o=a[t]),void 0===o)o=a[t]=i,++e._eventsCount;else if("function"==typeof o?o=a[t]=n?[i,o]:[o,i]:n?o.unshift(i):o.push(i),(r=da(e))>0&&o.length>r&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,s=c,console&&console.warn&&console.warn(s)}return e}function pa(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ma(e,t,i){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},r=pa.bind(n);return r.listener=i,n.wrapFn=r,r}function fa(e,t,i){var n=e._events;if(void 0===n)return[];var r=n[t];return void 0===r?[]:"function"==typeof r?i?[r.listener||r]:[r]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(r):ga(r,r.length)}function Aa(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function ga(e,t){for(var i=new Array(t),n=0;n<t;++n)i[n]=e[n];return i}function Ea(e,t){return t=t||{},new Promise((function(i,n){var r=new XMLHttpRequest,a=[],o=[],s={},c=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(r.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:c,headers:{keys:function(){return a},entries:function(){return o},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var l in r.open(t.method||"get",e,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,i){a.push(t=t.toLowerCase()),o.push([t,i]),s[t]=s[t]?s[t]+","+i:i})),i(c())},r.onerror=n,r.withCredentials="include"==t.credentials,t.headers)r.setRequestHeader(l,t.headers[l]);r.send(t.body||null)}))}Object.defineProperty(sa,"defaultMaxListeners",{enumerable:!0,get:function(){return ca},set:function(e){if("number"!=typeof e||e<0||oa(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");ca=e}}),sa.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},sa.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||oa(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},sa.prototype.getMaxListeners=function(){return da(this)},sa.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n="error"===e,r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var s=r[e];if(void 0===s)return!1;if("function"==typeof s)aa(s,this,t);else{var c=s.length,l=ga(s,c);for(i=0;i<c;++i)aa(l[i],this,t)}return!0},sa.prototype.addListener=function(e,t){return ua(this,e,t,!1)},sa.prototype.on=sa.prototype.addListener,sa.prototype.prependListener=function(e,t){return ua(this,e,t,!0)},sa.prototype.once=function(e,t){return la(t),this.on(e,ma(this,e,t)),this},sa.prototype.prependOnceListener=function(e,t){return la(t),this.prependListener(e,ma(this,e,t)),this},sa.prototype.removeListener=function(e,t){var i,n,r,a,o;if(la(t),void 0===(n=this._events))return this;if(void 0===(i=n[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(r=-1,a=i.length-1;a>=0;a--)if(i[a]===t||i[a].listener===t){o=i[a].listener,r=a;break}if(r<0)return this;0===r?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,r),1===i.length&&(n[e]=i[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},sa.prototype.off=sa.prototype.removeListener,sa.prototype.removeAllListeners=function(e){var t,i,n;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var r,a=Object.keys(i);for(n=0;n<a.length;++n)"removeListener"!==(r=a[n])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},sa.prototype.listeners=function(e){return fa(this,e,!0)},sa.prototype.rawListeners=function(e){return fa(this,e,!1)},sa.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Aa.call(e,t)},sa.prototype.listenerCount=Aa,sa.prototype.eventNames=function(){return this._eventsCount>0?na(this._events):[]};var ya="visibilitychange",ha="pagehide",va="for visibilitychange and pagehide events.",Ca=function(){function e(e,t,i,n){this.syncManager=e,this.settings=t,this.storage=i,this.serviceApi=n,this.flushData=this.flushData.bind(this),this.flushDataIfHidden=this.flushDataIfHidden.bind(this),this.fromImpressionsCollector=We.bind(void 0,t.core.labelsEnabled)}return e.prototype.start=function(){this.settings.log.debug(25,[va]),"undefined"!=typeof document&&document.addEventListener&&document.addEventListener(ya,this.flushDataIfHidden),"undefined"!=typeof window&&window.addEventListener&&window.addEventListener(ha,this.flushData)},e.prototype.stop=function(){this.settings.log.debug(26,[va]),"undefined"!=typeof document&&document.removeEventListener&&document.removeEventListener(ya,this.flushDataIfHidden),"undefined"!=typeof window&&window.removeEventListener&&window.removeEventListener(ha,this.flushData)},e.prototype.flushData=function(){if(this.syncManager){var e=this.settings.urls,t=e.events,i=e.telemetry;if(Yt(this.settings)){var n={sim:this.settings.sync.impressionsMode};this._flushData(t+"/testImpressions/beacon",this.storage.impressions,this.serviceApi.postTestImpressionsBulk,this.fromImpressionsCollector,n),this._flushData(t+"/events/beacon",this.storage.events,this.serviceApi.postEventsBulk),this.storage.impressionCounts&&this._flushData(t+"/testImpressions/count/beacon",this.storage.impressionCounts,this.serviceApi.postTestImpressionsCount,je),this.storage.uniqueKeys&&this._flushData(i+"/v1/keys/cs/beacon",this.storage.uniqueKeys,this.serviceApi.postUniqueKeysBulkCs)}this.storage.telemetry&&this._flushData(i+"/v1/metrics/usage/beacon",this.storage.telemetry,this.serviceApi.postMetricsUsage)}},e.prototype.flushDataIfHidden=function(){"hidden"===document.visibilityState&&this.flushData()},e.prototype._flushData=function(e,t,i,n,r){if(!t.isEmpty()){var a=n?n(t.pop()):t.pop();this._sendBeacon(e,a,r)||i(JSON.stringify(a)).catch((function(){}))}},e.prototype._sendBeacon=function(e,t,i){if("undefined"!=typeof navigator&&navigator.sendBeacon){var n={entries:t,token:this.settings.core.authorizationKey,sdk:this.settings.version};i&&M(n,i);var r=JSON.stringify(n);try{return navigator.sendBeacon(e,r)}catch(e){return!1}}return!1},e}();var _a,Sa,Ta={getFetch:function(){return"function"==typeof fetch?fetch:Ea},getEventSource:function(){return"function"==typeof EventSource?EventSource:void 0},EventEmitter:sa,now:"object"==typeof performance&&"function"==typeof performance.now?performance.now.bind(performance):Date.now},Na=Ca,Ia=(_a=function(e){var t=e.splitApi,i=e.storage,n=e.readiness,r=e.settings,a=r.log,o=Mi(t.fetchSplitChanges,i,n,r,!0),s={},c=u(fi(r.core.key),n,i);function l(){Le(s,(function(e){e.start()}))}function d(){Le(s,(function(e){e.isRunning()&&e.stop()}))}function u(e,i,n){var a=function(e,t,i,n,r){return Te(n.log,Oi(n.log,function(e){return function(t,i,n,r){var a=e(t,i,n);return r&&(a=r(a)),a.then((function(e){return e.json()}))}}(e),t,i.segments,n.startup.requestTimeoutBeforeReady,n.startup.retriesOnFailureBeforeReady,r),n.scheduler.segmentsRefreshRate,"mySegmentsUpdater")}(t.fetchMemberships,n,i,r,e);function o(){i.isReady()||n.splits.usesSegments()||i.segments.emit($e)}return n.splits.usesSegments()?i.splits.once(ze,o):setTimeout(o,0),s[e]=a,a}return n.splits.on(ze,(function(){if(o.isRunning()){var e=i.splits.usesSegments();e!==c.isRunning()&&(a.info(106,[e?"ON":"OFF"]),e?l():d())}})),{splitsSyncTask:o,segmentsSyncTask:c,start:function(){a.info(107),o.start(),i.splits.usesSegments()&&l()},stop:function(){a.info(108),o.isRunning()&&o.stop(),d()},isRunning:o.isRunning,syncAll:function(){var e=[o.execute()];return Le(s,(function(t){e.push(t.execute())})),Promise.all(e)},add:u,remove:function(e){delete s[e]},get:function(e){return s[e]}}},Sa=function(e,t){var i,n=e.settings,r=e.storage,a=e.splitApi,o=e.readiness,s=e.platform,c=e.telemetryTracker,l=n.core.key?fi(n.core.key):void 0,d=n.log;try{i=new mi(n,s)}catch(e){return void d.warn(208,[e])}var u=oi(a.fetchAuth),p=new s.EventEmitter,m=Qt(d,p,c);i.setEventHandler(m);var f,A,g,E,y=l?void 0:Xt(d,t.segmentsSyncTask,r.segments),h=function(e,t,i,n,r,a){var o,s,c,l=0,d=!1,u=new Wt(p,1e4,6e4);function p(){if(o=!0,l>t.getChangeNumber()){d=!1;var n=c?{payload:c,changeNumber:l}:void 0;i.execute(!0,s?l:void 0,n).then((function(){if(o)if(d)p();else{n&&r.trackUpdatesFromSSE("sp"),a&&a.execute(!0);var i=u.attempts+1;if(l<=t.getChangeNumber())return e.debug("Refresh completed"+(s?" bypassing the CDN":"")+" in "+i+" attempts."),void(o=!1);if(i<10)return void u.scheduleCall();s?(e.debug("No changes fetched after "+i+" attempts with CDN bypassed."),o=!1):(u.reset(),s=!0,p())}}))}else o=!1}function m(e,i){var n=e.changeNumber,r=e.pcn,a=t.getChangeNumber();n<=a||n<=l||(l=n,d=!0,s=!1,c=void 0,i&&a===r&&(c=i),!u.timeoutID&&o||p(),u.reset())}return{put:m,killSplit:function(e){var i=e.changeNumber,r=e.splitName,a=e.defaultTreatment;t.killLocally(r,a,i)&&n.emit(ze,!0),m({changeNumber:i})},stop:function(){o=!1,u.reset()}}}(d,r.splits,t.splitsSyncTask,o.splits,c,l?void 0:t.segmentsSyncTask),v={},C={},_=!1,S=new Wt(T,n.scheduler.pushRetryBackoffBase);function T(){if(!f){d.info(112),f=!1;var e=l?Object.keys(C):void 0;u(e).then((function(t){if(!f)return t.pushEnabled?void(e&&e.length<Object.keys(C).length||function(e){g&&clearTimeout(g),E&&clearTimeout(E);var t=e.decodedToken,n=t.exp-t.iat-600,r="number"==typeof e.connDelay&&e.connDelay>=0?e.connDelay:60;d.info(110,[n,r]),g=setTimeout(T,1e3*n),E=setTimeout((function(){f||i.open(e)}),1e3*r),c.streamingEvent(50,t.exp)}(t)):(d.info(113),void p.emit(Rt))})).catch((function(e){if(!f){if(d.error(306,[e.message]),e.statusCode>=400&&e.statusCode<500)return c.streamingEvent(80),void p.emit(Rt);p.emit(Ut)}}))}}function N(){f||(f=!0,i.close(),d.info(114),g&&clearTimeout(g),E&&clearTimeout(E),S.reset(),I())}function I(){h.stop(),l?Le(C,(function(e){return e.worker.stop()})):y.stop()}function b(e){switch(e.u){case ui.BoundedFetchRequest:var t;try{a=e.d,o=e.c,t=Ei(a,o)}catch(e){d.warn(U,["BoundedFetchRequest",e]);break}return void Le(C,(function(i,n){var r,a,o,s,c=i.hash64,l=i.worker;r=t,a=c.hex,o=parseInt(a.slice(8),16)%(8*r.length),s=o%8,(r[Math.floor(o/8)]&1<<s)>0&&l.put(e,void 0,hi(e,n))}));case ui.KeyList:var i,n,r=void 0;try{r=yi(e.d,e.c),i=new Set(r.a),n=new Set(r.r)}catch(e){d.warn(U,["KeyList",e]);break}if(!e.n||!e.n.length){d.warn(U,["KeyList","No segment name was provided"]);break}return void Le(C,(function(t){var r=t.hash64,a=t.worker,o=!!i.has(r.dec)||!n.has(r.dec)&&void 0;void 0!==o&&a.put(e,{added:o?[e.n[0]]:[],removed:o?[]:[e.n[0]]})}));case ui.SegmentRemoval:if(!e.n||!e.n.length){d.warn(U,["SegmentRemoval","No segment name was provided"]);break}return void Le(C,(function(t){t.worker.put(e,{added:[],removed:e.n})}))}var a,o;Le(C,(function(t,i){t.worker.put(e,void 0,hi(e,i))}))}return p.on(Ft,I),p.on(kt,(function(){S.reset()})),p.on(Rt,(function(){A=!0,N(),p.emit(Ft)})),p.on(Ut,(function(){i.close();var e=S.scheduleCall();d.info(111,[e/1e3]),p.emit(Ft)})),p.on(Lt.STREAMING_RESET,(function(){f||(g&&clearTimeout(g),T())})),p.on(Ht,h.killSplit),p.on(Vt,(function(e){if(e.d&&void 0!==e.c)try{var t=(i=e.c,n=e.d,i>0?yi(n,i,!1):JSON.parse(Jt(n)));if(t)return void h.put(e,t)}catch(e){d.warn(224,[e])}var i,n;h.put(e)})),l?(p.on(wt,b),p.on(xt,b)):p.on(Bt,y.put),M(Object.create(p),{stop:function(){N(),l&&this.remove(l)},start:function(){A||!1===f||(f=!1,l?this.add(l,t.segmentsSyncTask):setTimeout(T))},isRunning:function(){return!1===f},add:function(e,t){var i,n,a=si(e);v[a]||(v[a]=e,C[e]={hash64:(i=e,n=Ii(i).slice(0,16),{hex:n,dec:bi(n)}),worker:zt(d,r,t,c)},_=!0,this.isRunning()&&setTimeout((function(){_&&(_=!1,T())}),0))},remove:function(e){var t=si(e);delete v[t],delete C[e]}})},function(e){var t=e.settings,i=e.settings,n=i.log,r=i.streamingEnabled,a=i.sync.enabled,o=e.telemetryTracker,s=e.storage,c=e.readiness,l=_a&&_a(e),d=a&&r&&l&&Sa?Sa(e,l):void 0,u=Pt(e);d&&(d.on(kt,(function(){n.info(119),l.isRunning()&&(l.stop(),o.streamingEvent(70,0)),l.syncAll()})),d.on(Ft,(function(){l.isRunning()?n.info(118):(n.info(117),l.start(),o.streamingEvent(70,1))})));var p=!1,m=!0;return{pollingManager:l,pushManager:d,submitterManager:u,start:function(){p=!0,m&&s.validateCache&&s.validateCache()&&Promise.resolve().then((function(){c.splits.emit(Xe)})),l&&(a?d?(m&&l.syncAll(),d.start()):l.start():m&&l.syncAll()),u.start(!Yt(t)),m=!1},stop:function(){p=!1,d&&d.stop(),l&&l.isRunning()&&l.stop(),u.stop()},isRunning:function(){return p},flush:function(){return u.execute(!Yt(t))},shared:function(e,t,i){if(l){var n=l.add(e,t,i);return a&&d&&d.add(e,n),p&&(a?d?l.isRunning()?i.splits.usesSegments()&&n.start():n.execute():i.splits.usesSegments()&&n.start():t.isReady()||n.execute()),{stop:function(){var t=l.get(e);t&&(d&&d.remove(e),t.isRunning()&&t.stop(),l.remove(e))},flush:function(){return Promise.resolve()}}}}}});function ba(e){return e.storage.type===ne?rn(e.storage):e.storage.__originalType===ne?Dr:en}function Da(e,t){return Hr(function(e){var t={settings:e,platform:Ta,storageFactory:ba(e),splitApiFactory:Se,syncManagerFactory:Ia,sdkManagerFactory:Dn,sdkClientMethodFactory:Cr,SignalListener:Na,impressionsObserverFactory:br,extraProps:function(e){return{UserConsent:Gr(e)}}};switch(e.mode){case $:t.splitApiFactory=void 0,t.syncManagerFactory=jr,t.SignalListener=void 0}return t}(function(e){return gt(e,ia)}(e)))}function Oa(e){e?c(A).set(!0):c(f).set(!0),e?c(E).set(!0):c(g).set(!0);C()&&(e?c(h).set(!0):c(y).set(!0))}function Pa(e){const t=b();return!(!t||!e)&&t.setAttributes(e)}e.awaitSplitIOSDKClientInitialize=async function(){await _();const e=await I();try{return await N(e),{isReady:!0,isTimedout:!1,errorText:null}}catch(e){return{isReady:!0,isTimedout:!0,errorText:`Split: awaitSplitIOSDKClientInitialize Split client timed out. Error [${i(e)}]`}}},e.getFeatureFlagsSync=function(e,t){const i=function(){const e=c(f).getData(),t=c(A).getData();if(e&&!t)return!1;const i=c(g).getData(),n=c(E).getData(),r=c(y).getData(),a=c(h).getData();return!(i&&!n||r&&!a)}(),n=b();if(!i||!n)return{...e,errorText:"Split: getFeatureFlagsSync Split has not been initialized"};const r=Object.keys(e),a=O(r,e);return a?{...e,errorText:a}:{...P(n.getTreatmentsWithConfig(r,t),e),errorText:null}},e.getFeatureTreatments=async function(e,t,n){await _();const r=await I();try{await N(r)}catch(e){return{...t,isReady:!0,isTimedout:!0,errorText:`Split: getFeatureTreatments Split client timed out. Error [${i(e)}]`}}const a="string"==typeof e?[e]:e,o=O(a,t);return o?{...t,isReady:!0,isTimedout:!1,errorText:o}:{...P(r.getTreatmentsWithConfig(a,n),t),isReady:!0,isTimedout:!1,errorText:null}},e.initializeSplitIO=function(e,t,i=!0){const n=T(e.core.key),r=n===S,a=v(),o=C();if(!a){const r=Da({...e,core:{...e.core,key:n}});return c(p).set({splitSdk:r,splitKey:n}),Oa(i),Pa(t),!0}return o||n!==a.splitKey?o||r?!(!o||n!==o.splitKey)&&(Oa(i),Pa(t)):(c(m).set({splitKey:n}),Oa(i),Pa(t),!0):(Oa(i),Pa(t))},e.shutdownSplitIO=async function(e=""){const t=v();if(!t)return!1;const{splitSdk:i,splitKey:n}=t,r=i.client(n);await r.destroy();const a=C(),o=T(e);if(!a||o===n)return!0;const s=i.client(o);return await s.destroy(),!0},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})),define("profileArea/core/lib/profileMenuListFormatter",["profileArea/core/lib/constants","profileArea/core/lib/featureProvider","common/lib/featureFlags/commonFeatureProvider","appkit-utilities/common/mediaQueryListener","blue/siteMode","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e,t,i,n,r,a){"use strict";function o(o){var s=o.config,c=e.menu,l=this;l.profileProvider=t(o),l.commonProvider=i(o);var d=[{condition:function(e){return"profile.landingpage.manage"!==e.privilege},applyIf:o&&o.user&&o.user.profile&&o.user.profile.isGWMUser()},{condition:function(e){return"profile.chasepay"!==e.privilege},applyIf:r.isModeEnabled("chasePaySplash")},{condition:function(e){return!e.isXsDisabled},applyIf:n.currentBreakpoint===n.BREAKPOINT.XS},{condition:function(e){return!s[e.legacyKillSwitch]}}];function u(e){return e.items.length>0}l.formatMenuCategories=function(e){var t=o.util.object.deepClone(c.navEntries),i=l._getDPSOptionList(e),n=l.filterMenuCategories(i,t);return n.flagGetter?n.flagGetter().then((function(){return l._filterFlags(n.items,s)})):Promise.resolve(l._filterFlags(n.items,s))},l._getDPSOptionList=function(e){return(e.menuItems||[]).map((function(e){return e.name}))},l.filterMenuCategories=function(e,t){var i;return{items:t.map((function(t){var n=l._filterItems(e,t.items);return t.items=n[0],i=i||n[1],t})).filter(u),flagGetter:i||!1}},l._getExclusionConditions=function(){return d.filter((function(e){return!1!==e.applyIf})).map((function(e){return e.condition}))},l._filterItems=function(e,t){var i,n=l._getExclusionConditions();return[t.filter((function(t){var r=t.featureFlag;if(!n.every((function(e){return e(t)})))return!1;if(r){var a=l._getFeatureFlagGetter(r,"getFeatureFlagValue");if(!a)return!1;i=i||a}return Array.isArray(t.privilege)?t.privilege.some((t=>e.includes(t)))||t.isStatic:e.indexOf(t.privilege)>-1||t.isStatic})),i||!1]},l._filterFlags=function(e){return e.forEach((function(e){e.items=e.items.filter((function(e){if(e.splitIOFlag){var t=a.getFeatureFlagsSync({[e.splitIOFlag]:!1});return l._getSplitIOFlagValue(e.featureFlagConditional,t?.[e.splitIOFlag]||!1)}return!e.featureFlag||l._getItemFeatureFlagValue(e.featureFlag,e.featureFlagConditional)}))})),function(e){return e.forEach((function(e){if("ACCOUNTS"===e.variation){var t=e.items.findIndex((function(e){return"accounts.customgroup"===e.privilege}));e.items.findIndex((function(e){return"profile.accounts.accountgroups"===e.privilege}))>=0&&t>=0&&e.items.splice(t,1)}})),e}(e.filter(u))},l._getFeatureFlagGetter=function(e,t){var i,n=Array.isArray(e)?e[0]:e;return l.profileProvider[n]?(i=l.profileProvider[n])[t].bind(i):l.commonProvider[n]?(i=l.commonProvider[n])[t].bind(i):void o.logger.info("Could not find feature flag in profile menu formatter: ",n)},l._getItemFeatureFlagValue=function(t,i){var n=Array.isArray(t)?t:[t],r=e.menu.FEATURE_FLAG_COMPARISON.ALL;return(i||r).apply(null,n.map((function(e){return l._getFeatureFlagGetter(e,"getFeatureFlagValueSync")()})))},l._getSplitIOFlagValue=function(t,i){return(t||e.menu.SPLITIO_FLAG_COMPARISON.NOOP)(i)}}return o.getItemRoute=function(e){var t=e.route||{};return{app:{name:"dashboard",params:t.appParams||{}},area:{name:t.area||"profileArea",params:t.areaParams||{}},controller:{name:t.controller,params:t.controllerParams||{}},action:{name:t.action,params:t.actionParams||{}}}},o})),define("profileArea/core/lib/profileRouteMapUtil",["profileArea/core/lib/profileMenuListFormatter"],(function(e){"use strict";return function(t){const i={isMicroApp:!0};let n;if(n={phoneMarketingPreferences:i,mailingMarketingPreferences:i}[t.controller.name],n?.isMicroApp)return i;const r=n?.route.actionParams;return r&&Object.assign(r,t.action.params),n?e.getItemRoute(n):t}})),define("profileArea/core/lib/profileConstituentAreaMixin",["profileArea/core/lib/constants","profileArea/core/lib/profileRouteMapUtil"],(function(e,t){"use strict";var i,n=e.ContainerState;return function(r){function a(){r.containerState===n.Ready&&r.featureFlagsReady&&(i.currentController=i.state().controller.name,function(){const e=i.state(),n=t(e);!n?.isMicroApp&&i.privateState(n)}())}i=r.context,r.featureFlagsReady=!1,i.featureFlags.onFeatureFlagsLoaded().then((function(){r.featureFlagsReady=!0,a()})).catch((function(){})),r.registry.registerController("util",(function(){this.cancelRoute=function(){}})),r.addRouteInterceptor(function(t){return{around:function(r){if(r.args[1].privateDataObject)return r.proceed();function a(){return r.proceedApply(["util.cancelRoute"])}switch(t.containerState){case n.Destroyed:case n.Inactive:return i.broadcast(e.EVENT.INITIALIZE_MY_PROFILE),a();case n.Pending:return a()}return r.proceed()}}}(r)),i.profileContainer={constants:e.common,setPageProperties:function(e){i.broadcast("myProfile:core:setContainerProperties",e)},displayHubNavigation:function(e){i.broadcast("myProfile:core:displayHubNavigation",e)},refreshMenu:function(){i.broadcast("myProfile:core:refreshMenu")},displayPageAlert:function(e,t){i.broadcast("myProfile:core:displayPageAlert",e,t)},dismissPageAlert:function(){i.broadcast("myProfile:core:dismissPageAlert")},displayPageAdvisory:function(e,t){i.broadcast("myProfile:core:displayPageAdvisory",e,t)},trackPagePerf:function(e,t){i.broadcast("myProfile:core:trackPagePerf",e,t)},exitMyProfile:function(){i.broadcast("myProfile:core:exitMyProfile")}},i.on("myProfile:core:containerState",a)}})),define("profileArea/sharedLib/legacyRouteConfig",[],(function(){"use strict";return{"profileContainer.index":"profileContainer.index, languageSupportDisclaimer.index","phoneDetails.updateTCPA":"phone.updateTCPA",phoneDetails:"phone.selectMyPhoneDetails","phoneDetails.showModalDialogForPhone":"phone.showModalDialogForPhone","phoneDetails.renderBrokerageAccountsPhoneNumberComponent":"phone.renderBrokerageAccountsPhoneNumberComponent","phoneDetails.requestStepUpChallenge":"phone.requestStepUpChallenge","phoneDetails.requestStepUpChallengeBrokerage":"phone.requestStepUpChallengeBrokerage","phoneDetails.requestStepUpResult":"phone.requestStepUpResult","phoneDetails.requestStepUpResultBrokerage":"phone.requestStepUpResultBrokerage"}}));const formBlockRootPath="@seur/form-blocks-grp-cntlr/dist";let paths={"address-cmpt":`${formBlockRootPath}/address-cmpt/js`,"canadaAddress-cmpt":`${formBlockRootPath}/canadaAddress-cmpt/js`,"form-blocks-common":`${formBlockRootPath}/form-blocks-common/js`,"internationalAddress-cmpt":`${formBlockRootPath}/internationalAddress-cmpt/js`,"militaryAddress-cmpt":`${formBlockRootPath}/militaryAddress-cmpt/js`,"nameInformation-cmpt":`${formBlockRootPath}/nameInformation-cmpt/js`,"multiTypeAddress-cmpt":`${formBlockRootPath}/multiTypeAddress-cmpt/js`,"addressVerificationOverlay-cmpt":`${formBlockRootPath}/addressVerificationOverlay-cmpt/js`};"test"!==window.profileAreaEnv&&Object.assign(paths,{"@cxo/platform-lib/eventManager":"@cxo/platform-lib/src/eventManager/eventManager","@cxo/platform-lib/eventManager.types":"@cxo/platform-lib/src/eventManager/eventManager.types","@octagon/shared-data":"@octagon/shared-data/dist/shared-data.dep.umd"}),require.config({paths:paths}),define("profileArea/config",(function(){})),define("profileArea/area",["profileArea/core/lib/constants","profileArea/core/lib/areaContextEnrichment","profileArea/core/lib/profileConstituentAreaMixin","profileArea/registry","profileArea/sharedLib/legacyRouteConfig","profileArea/config"],(function(e,t,i,n,r,a){"use strict";var o=e.ContainerState,s=e.common.ROUTE;return function(a){this.containerState=o.Destroyed,this.onInit=function(e){var c=this;a.logger.error("Initialize Profile Core Area Block"),Object.assign(e,n.area),t(a),a.on({"myProfile:core:containerRendered":function(){c._updateContainerState(o.Ready)},"myProfile:core:containerDestroyed":function(){c._updateContainerState(o.Destroyed)},"myProfile:core:containerRendering":function(){c._updateContainerState(o.Pending)},"myProfile:core:initializeMyProfile":function(){a.logger.info("Initialize myProfile Area"),c._updateContainerState(o.Pending),a.privateState(s.RENDER_CONTAINER,{privateDataObject:!0})},"blue:routeChange":function(e){var t=e.hash===a.objectToRoute(a.state());("/dashboard/profileArea/index/index"===a.objectToRoute(a.state())||c.containerState===o.Ready&&c._isExternalRoute(e)&&t)&&c._updateContainerState(o.Inactive)}}),a.isProfileExternalRoute=function(e){return c._isExternalRoute(e)},c.addRouteMapping("SimpleUrlMapping",r),c.addRouteMapping("IdentityMapping"),this.routeHandler={interceptors:[],mappings:[{mapping:"ControllerNameMapping"}]},i(this)},this._updateContainerState=function(e){this.containerState=e,a.emit("myProfile:core:containerState")},this._isExternalRoute=function(t){var i=a.routeToObject(t.hash),n=e.profileControllerMap,r=`${i.area.name}/${i.controller.name}`;return-1===e.NON_NAVIGATING_ROUTES.indexOf(t.path)&&i.area.name!==this.name&&!1===n.includes(r)}}})),define("profileArea/core/lib/blueNavMenuFormatter",["profileArea/core/lib/profileMenuListFormatter","appkit-utilities/common/mediaQueryListener"],(function(e,t){"use strict";function i(e){this.context=e.context,this.component=e.component}return i.prototype.formatMenu=function(i){var n=this.context.dcu.dynamicContent.get.bind(null,this.component),r="my-profile-menu-item-",a=[{id:r+"overview",title:n("myOverviewDetailsLabel.REDESIGN"),display:t.currentBreakpoint!==t.BREAKPOINT.XS,clickable:!0,level:"bottom",active:!1,rClick:"EC_onMenuItemInteract",isReadOnlyEnabled:!0,route:e.getItemRoute({route:{area:"profileArea",controller:"overview",action:"requestMyProfileOverview"}},{})}],o=i.map((function(t){return{id:"my-profile-menu-category-"+t.variation,title:n("menuCategoryHeader",t.variation),adatext:n("showsContentBelowAda"),level:"subcategory",display:!0,collapsible:!0,clickable:!0,active:!1,rClick:"EC_onMenuItemInteract",data:t.items.map((function(i){return{id:r+i.route.action,title:n(i.title||""),titleSetting:i.title||"",level:"bottom",clickable:!0,display:!0,active:!1,rClick:"EC_onMenuItemInteract",enabled:i.enabled,isECDDisabled:i.isECDDisabled,route:e.getItemRoute(i,t),isReadOnlyEnabled:i.isReadOnlyEnabled,isDisabledByEmulationMode:i.isDisabledByEmulationMode,requiresExactRouteMatch:i.requiresExactRouteMatch}}))}}));return Array.prototype.concat.call([],a,o)},i})),define("profileArea/core/lib/resetMappingPathsDisallowList",["require","appkit-utilities/common/mediaQueryListener","blue/root"],(function(e){"use strict";var t=e("appkit-utilities/common/mediaQueryListener"),i=e("blue/root").hybrid;let n=t.currentBreakpoint===t.BREAKPOINT.XS;return{"/dashboard/profileArea/oneTimePassword/getCode":!0,"/dashboard/profileArea/accountLinking/confirm":!0,"/dashboard/profileArea/accountLinking/linkRelationshipVerify":!0,"/dashboard/profileArea/businessRevenueCapture/confirmation":!0,"/dashboard/profileArea/businessRevenueCapture/error":!0,"/dashboard/profileArea/myIncomeCapture/confirmation":!0,"/dashboard/profileArea/incomeCapture/confirmation":!0,"/dashboard/profileArea/chooseAlerts/confirmUpdateMyAlertsSubscription":!0,"/dashboard/profileArea/chooseAlerts/confirmUnsubscribeFromAllAlerts":!0,"/dashboard/profileArea/email/addEmailAddress":!0,"/dashboard/profileArea/email/updateEmailAddress":!0,"/dashboard/profileArea/email/addAccountsToEmailAddress":!0,"/dashboard/profileArea/email/addAlertsToEmailAddress":!0,"/dashboard/profileArea/email/confirmAddEmailAddress":!0,"/dashboard/profileArea/email/confirmAddAccountsToEmailAddress":!0,"/dashboard/profileArea/email/confirmUpdateEmailAddress":!0,"/dashboard/profileArea/email/confirmDeleteEmailAddress":!0,"/dashboard/profileArea/phone/addPhoneNumber":!0,"/dashboard/profileArea/phone/updatePhoneNumber":!0,"/dashboard/profileArea/phone/addAccountsToPhoneNumber":!0,"/dashboard/profileArea/phone/confirmAddPhoneNumber":!0,"/dashboard/profileArea/phone/confirmUpdatePhoneNumber":!0,"/dashboard/profileArea/phone/updateAccountsToPhoneNumberSuccess":!0,"/dashboard/profileArea/phone/confirmDeletePhoneNumber":!0,"/dashboard/profileArea/phone/updateTCPA":!0,"/dashboard/profileArea/mailingAddressDetails/addPermanentMailingAddress":!0,"/dashboard/profileArea/mailingAddressDetails/addTemporaryMailingAddress":!0,"/dashboard/profileArea/mailingAddressDetails/updateMailingAddress":!0,"/dashboard/profileArea/mailingAddressDetails/confirmDeleteMailingAddressConfirm":!0,"/dashboard/profileArea/mailingAddressDetails/confirmAddPermanentMailingAddress":!0,"/dashboard/profileArea/mailingAddressDetails/confirmAddTemporaryMailingAddress":!0,"/dashboard/profileArea/mailingAddressDetails/updateBrokerageMailingAddress":!0,"/dashboard/profileArea/mailingAddressDetails/confirmUpdateBrokerageMailingAddress":!0,"/dashboard/profileArea/languagePreferences/confirmUpdateGlobalLanguagePreferences":!0,"/dashboard/profileArea/resetUserId/confirmResetUserId":!0,"/dashboard/profileArea/resetPassword/confirmResetPassword":!0,"/dashboard/profileArea/paperless/confirmUpdatePaperlessPreferences":!0,"/dashboard/profileArea/atm/confirmUpdateMyAtmPreferences":!0,"/dashboard/profileArea/atm/updateMyAtmPreferences":!0,"/dashboard/profileArea/nicknameAccounts/confirmUpdateAccountNicknames":!0,"/dashboard/profileArea/privacyPreferences/confirmUpdateMyPrivacyPreferences":!0,"/dashboard/profileArea/email/requestStepUp":!0,"/dashboard/profileArea/email/caasCallback":!0,"/dashboard/caas/challenge/index":!0,"/dashboard/profileArea/optionsApplication/requestOptionsApplication":!(!i&&n)||void 0,"/dashboard/profileArea/marginApplication/requestMarginApplication":!(!i&&n)||void 0,"/dashboard/profileArea/marginApplication/requestMarginApplicationForm":!0,"/dashboard/profileArea/marginApplication/requestMarginApplicationPending":!0,"/dashboard/profileArea/marginApplication/requestMarginApplicationBlocker":!0,"/dashboard/profileArea/marginApplication/requestMarginApplicationConfirmation":!0,"/dashboard/profileArea/marginApplication/requestMarginOptionsApplicationConfirmation":!0,"/dashboard/profileArea/marginApplication/requestMarginOptionsApplicationForm":!0}})),define("profileArea/core/controllers/container",["common/lib/modelUtil","profileArea/core/lib/profileMenuListFormatter","profileArea/core/lib/blueNavMenuFormatter","profileArea/core/lib/constants","common/lib/routeUtil","common/lib/utility/hybridMixin","blue/deferred","common/lib/elementObserver","common/lib/featureFlags/commonFeatureProvider","common/lib/modalApi","profileArea/sharedLib/spinnerManager","profileArea/core/lib/resetMappingPathsDisallowList","common/lib/utility/commonComponentsUtil"],(function(e,t,i,n,r,a,o,s,c,l,d,u,p){"use strict";var m=e.DataType,f=n.ENDPOINT,A=n.EVENT,g=n.ComponentKey;return function(E){var y=this,h=new t(E),v=E.util.lang.defaults,C=E.dcu.dynamicContent;E.commonComponentsUtil=p(this),y.commonFeatureProvider=c(E),this.onInit=function(){a.call(y),y.elementObserver=new s,y.Api={modal:new l(y)},E.on({"myProfile:core:setContainerProperties":function(e){y._setPageProperties(e)},"myProfile:core:exitMyProfile":function(){y.registry.hasComponent(g.Container)&&y.components[g.Container].exitMyProfile()},"myProfile:core:displayPageAlert":function(e,t){y._displayPageAlert(e,t)},"myProfile:core:dismissPageAlert":function(){y._dismissPageAlert()},"myProfile:core:displayPageAdvisory":function(e,t){y._displayPageAdvisory(e,t)},"myProfile:core:trackPagePerf":function(e,t){y._trackPagePerf(e,t)},"blue:routeChange":function(e){y._resetContainerOnRouteChange(e)},"myProfile:core:enaHeader":function(){y.model.set("container.$enaHeader",!0)}}),E.hybrid||(E.on({"myProfile:core:displayHubNavigation":function(e){y._displayMenuAsHub(e)},"myProfile:core:refreshMenu":y._refreshMenu,"trigger/setIsDirty":function(e){y.Api.modal.setIsDirty(e.data)}}),E.Api=y.Api,this.dataProvider.mappers={menu:{listItems:{success:this._displayMyProfileMenu,failure:this._handlerDataProviderFailure}}})},this.index=function(){var e=!this.registry.hasComponent(g.Container);if(e&&this._configureComponents(),E.hybrid){var t={target:"#content",model:{renderDeferred:y._getViewEventDeferred(A.CONTAINER_RENDERED)}};return this._render(!e,[this.components.container,"containerHybrid",t])}return this._displayMenuAsHub(!1),this._render(!e)},this.resetContainer=function(){return y._renderContainerLoader().then((function(){y._resetModel(),E.hybrid||y.components.menu.setActiveMenuItem()}))},this._displayMenuAsHub=function(e){e=v(e,!0),this.model.set("menu.hubNavigationEnabled",e),this.model.set("container.hubNavigationEnabled",e)},this._trackPagePerf=function(e,t){e&&E.hybrid&&(t=t||".track-cxo-perf",y.elementObserver.isInsertedPromise(t).then((function(){y.dispatchHybridEvent("cxoPerfLog",E,{event:"pageLoadDone",page:e})})))},this._displayPageAlert=function(e,t){var i={icons:{error:"exclamation-color error",success:"confirmation success",dark:"exclamationsoft dark"},ada:{error:"importantAda",success:"checkmarkAda",dark:"warningAda"}};if(this._resetPageAlertModel(),e&&t&&t.header){var n=y.components.container,r=t.header.split(".")[0],a=t.header.split(".")[1];if(n.$pageAlertHeader=C.get(e,r,a,t.headerProps),t.advisory){var o=t.advisory.split(".")[0],s=t.advisory.split(".")[1];n.$pageAlertAdvisory=C.get(e,o,s,t.advisoryProps)}n.$pageAlertType=t.type||"error",n.$pageAlertIcon=i.icons[t.type]||i.icons.error,n.$pageAlertAda=i.ada[t.type]||i.ada.error,n.$pageAlertOnClick=t.onClick instanceof Function?t.onClick:function(){},n.$showPageAlert=!0}},this._displayPageAdvisory=function(e,t){if(this._resetPageAdvisoryModel(),e&&t&&t.advisory){var i=y.components.container,n=t.advisory.split(".")[0],r=t.advisory.split(".")[1];i.$pageAdvisory=C.get(e,n,r,t.advisoryProps),i.$pageAdvisoryOnClick=t.onClick}},this._dismissPageAlert=function(){this._resetPageAlertModel()},this._refreshMenu=function(){y.dataProvider.request(f.MENU_LIST_ITEMS,n.menu.API_CONTEXT,{cacheData:{usage:"DELETE"}}).then((function(){y.dataProvider.request(f.MENU_LIST_ITEMS,n.menu.API_CONTEXT,{cacheResponse:"SESSION"})}))},this._isInternalProfilePageChange=function(e){var t=E.routeHistory.lastRoute(),i=E.routeToObject(e.hash),n=r.routeChangeScope(E.routeToObject(t),i),a=!!t,o=!E.isProfileExternalRoute(e),s=n>2;return a&&this._isPublicRouteChange(e)&&o&&(s||function(e,t){return"/dashboard/profileArea/accountLinking/requestManageLinkedAccounts"===e&&void 0!=={"/dashboard/profileArea/accountLinking/confirm;formId=CUSTOMER_LINKAGE;path=secure":!0,"/dashboard/profileArea/accountLinking/addAccountLinking":!0}[t]}(e.path,t))},this._resetContainerOnRouteChange=function(e){if(this._isPublicRouteChange(e)){var t=e.controller;this._resetPageAlertModel(),this._resetPageAdvisoryModel(),{email:!0,phone:!0,mailingAddressDetails:!0}[t]||this._resetEnaHeader()}if(this.registry.hasComponent(g.Container)&&this.lastResetHash!==e.hash&&this._isInternalProfilePageChange(e)&&!1!==e.controllerParams.resetContainer){if(i=e.path,void 0!==u[i])return void(this.lastResetHash=e.hash);E.parent.emit(A.CONTAINER_RENDERING),E.privateState(n.common.ROUTE.RESET_CONTAINER,{privateDataObject:!0}),this.lastResetHash=e.hash}var i},this._isPublicRouteChange=function(e){return e.hash===E.objectToRoute(E.state())},this._getViewEventDeferred=function(e){var t=new o;return t.promise.then((function(){E.parent.emit(e)})),t},this._renderContainerLoader=function(){E.parent.emit(A.CONTAINER_RENDERING);var e=Object.assign({model:{renderDeferred:y._getViewEventDeferred(A.CONTAINER_RENDERED),legacySpinner:!n.newSpinnerWhitelist.includes(E.state().controller.name)}},n.common.RENDER_TARGET);return d.resetLoadState(),y.executeCAV([[null,g.Loader,e]])},this._render=function(e,t){this.registry.getComponent(g.Menu)&&this.registry.cloneComponent(g.Menu,g.DropdownMenu),this.components.updateConfirmation;var i={target:"#my-profile-page-content",model:{renderDeferred:y._getViewEventDeferred(A.CONTAINER_RENDERED),legacySpinner:!n.newSpinnerWhitelist.includes(E.state().controller.name)}},r=t||[[this.components.container,g.Container,{target:"#content"}],[this.components.menu,g.Menu,{target:"#my-profile-menu-content"}],[this.components.dropdownMenu,g.DropdownMenu,{target:"#my-profile-dropdown-menu-content"}],[null,g.Loader,i]];return!0===e&&r.length>0&&(r.forEach((function(e){Array.isArray(e)?e[0]&&e[0].destroyView():e.destroyView instanceof Function&&e.destroyView()})),E.parent.emit(A.CONTAINER_DESTROYED)),r},this._configureComponents=function(){e.enrichComponent(this,g.Container,"my_profile_container").data({$focusPlacement:m.Description,$pageContainerClasses:m.Description,$showPageAlert:m.OnOff,$pageAlertHeader:m.Description,$pageAlertAdvisory:m.Description,$pageAlertIcon:m.Description,$pageAlertType:m.Description,$pageAlertOnClick:m.Description,$pageAdvisory:m.Description,$pageAdvisoryOnClick:m.Description,$pageAlertAda:m.Description,$enaHeader:m.OnOff,$isMicroAppEnabled:m.OnOff}),this._resetModel(),E.hybrid||this.dataProvider.request(f.MENU_LIST_ITEMS,n.menu.API_CONTEXT)},this._resetModel=function(){this.model.update("container",{hubNavigationEnabled:!1}),this._resetPageAlertModel(),this._resetPageAdvisoryModel(),E.hybrid||(this._resetPageTitleModel(),this.model.update("menu",{profileMenuOptions:v(this.model.get("menu.profileMenuOptions"),[]),hubNavigationEnabled:!1}))},this._resetPageTitleModel=function(){this.model.update("container",{myProfilePageTitle:"",$focusPlacement:null,$pageContainerClasses:""})},this._resetPageAlertModel=function(){this.model.update("container",{$showPageAlert:!1,$pageAlertHeader:"",$pageAlertAdvisory:"",$pageAlertType:"error",$pageAlertOnClick:null})},this._resetEnaHeader=function(){this.model.update("container",{$enaHeader:!1})},this._resetPageAdvisoryModel=function(){this.model.update("container",{$pageAdvisory:"",$pageAdvisoryOnClick:null})},this._setPageProperties=function(e){this._resetPageTitleModel(),e=v(e,{});var t=this.components.container;if(t.$pageContainerClasses=v(e.containerClasses,""),E.hybrid)return this.dispatchHybridEvent("changeScreenTitle",E,e.pageTitle),void y.commonFeatureProvider.enableAppKitJSBridge.getFeatureFlagValue().then((function(e){e||y.dispatchHybridEvent("releaseSpinner",E)}));t.myProfilePageTitle=v(e.pageTitle,""),t.$focusPlacement={selector:n.PAGE_TITLE_SELECTOR},y.components.container.model.set("$isMicroAppEnabled",e.$isMicroAppEnabled),this.components.menu.setActiveMenuItem()},this._displayMyProfileMenu=function(e,t){if((!e.options||!e.options.cacheData||"DELETE"!==e.options.cacheData.usage)&&y.registry.hasComponent(g.Menu)){var n=y.components.menu,r=new i({context:E,component:n});return h.formatMenuCategories(t).then((function(e){n.profileMenuOptions=r.formatMenu(e),n.setActiveMenuItem()}))}},this._handlerDataProviderFailure=function(e,t){return E.logger.error(t),y._displayMyProfileMenu(e,{menuItems:[]})}}})),define("profileArea/core/components/container",["profileArea/core/lib/constants","profileArea/sharedLib/constants","profileArea/sharedLib/profileUtil","blue/hash"],(function(e,t,i,n){"use strict";var r=e.common.ROUTE,a=e.EVENT,o=e.common.EXIT_MY_PROFILE_ROUTE_STACK,s=e.common.EXIT_MY_PROFILE_ROUTE_CLEAR,c=t.navKeys.REQUEST_DASHBOARD;return function(e){var t=this;this.onInit=function(){e.globalContentMixin.call(this,["requestProfileSettingsMenuAda","importantAda","checkmarkAda","warningAda","contentLoadingAda"])},this.navigateToDashboard=function(){e.application.broadcast("makeNavigation",{navKey:c})},this.requestHubNavigation=function(){e.state(r.MY_PROFILE_OVERVIEW)},this.exitMyProfile=function(){var c=n.getCanonicalRoute(),l=e.routeHistory.lastRoute("accountsOnboardingDashboard")||e.routeHistory.lastRoute(o);return e.routeHistory.saveRoute(o,s),e.application.broadcast(a.EXIT_MY_PROFILE),i.pageUsesAppkitDirtyForm(c)?l&&-1===[r.MY_PROFILE_OVERVIEW,s].indexOf(l)?e.state(l):this.navigateToDashboard():e.Api.modal.getIsDirty()?void e.Api.modal.setTgtData({action:function(){return l&&-1===[r.MY_PROFILE_OVERVIEW,s].indexOf(l)?e.state(l):t.navigateToDashboard()},data:{}},!0):(e.Api.modal.stopListener(),this.navigateToDashboard())}}})),define("@cxo/platform-lib/eventManager.types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})}));var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,i,n){void 0===n&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){void 0===n&&(n=i),e[n]=t[i]}),__exportStar=this&&this.__exportStar||function(e,t){for(var i in e)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||__createBinding(t,e,i)};define("@cxo/platform-lib/eventManager",["require","exports","./eventManager.types"],(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.eventManager=void 0,__exportStar(i,t);const n={},r=document.body,a={passive:!0};r.eventCallbacks=r.eventCallbacks||[],r.eventBuffer=r.eventBuffer||[];t.eventManager=(()=>{const e=e=>r.eventCallbacks?.includes(e),t=(t,i)=>{e(t)||r.eventBuffer?.push({eventName:t,data:i});const n=new CustomEvent(t,{detail:i});return r.dispatchEvent(n)},i=e=>{r.eventBuffer?.filter((t=>t.eventName===e)).forEach((i=>t(e,i.data))),r.eventBuffer=r.eventBuffer?.filter((t=>t.eventName!==e))};return{on:(t,o)=>{const s=e=>(e&&e.stopPropagation(),o(e));n[t]=n[t]??[],n[t].push(s),e(t)||r.eventCallbacks?.push(t),r.addEventListener(t,s,a),i(t)},off:e=>{if(e){(n[e]??[]).forEach((t=>{r.removeEventListener(e,t,a)}))}},fire:t}})()})),define("profileArea/core/components/menu",["profileArea/core/lib/constants","@cxo/platform-lib/eventManager"],(function(e,t){"use strict";var i=function(){},n=t.eventManager;return function(t){var r,a,o,s,c=this;this.onInit=function(){t.globalContentMixin.call(this,["showsContentBelowAda","hidesContentBelowAda"]),r=t.dcu.dynamicContent,n.on("profileDirtyFormCancel",this.setActiveMenuItem.bind(this))},this._setState=function(e){this._overwriteShowOverlay(),t.state(e.context)},a=this,o=e.menu.navEntries,s=t.util.array.pluck,(0,t.util.array.flatten)(s(o,"items")).forEach((function(e){a[e.route.action]=a._setState})),this.setActiveMenuItem=function(){var e=t.state();function i(t){return t.route.area.name===e.area.name&&t.route.controller.name===e.controller.name&&(!t.requiresExactRouteMatch||t.route.action.name===e.action.name)}this.model.modify("profileMenuOptions",(function(e){return(e||[]).forEach((function(e){"subcategory"===e.level&&e.data?(e.data.forEach((function(e){e.active=i(e)})),e.active=function(e){return e.data.some((function(e){return e.active}))}(e)):"bottom"===e.level&&(e.active=i(e))})),e})),this._updateCategoryHAT()},this.getActiveMenuItem=function(){return(0,t.util.array.flatten)(this.profileMenuOptions.map((function(e){return e.data?e.data:e}))).filter((function(e){return e&&e.active})).shift()||null},this._updateCategoryHAT=function(e){this.model.modify("profileMenuOptions",(function(t){return(t||[]).filter((function(e){return!!e.data})).forEach((function(t){var i=e&&t.id===e.context.id,n=!i&&t.active||i&&e&&!e.context.active;t.adatext=r.get(c,n?"hidesContentBelowAda":"showsContentBelowAda")})),t}))},this.requestMyProfileOverview=this._setState,this.expandMenuCategory=function(e){this._updateCategoryHAT(e),this.activeMenuCategoryId=e.context.id},this.collapseMenuCategory=function(e){this._updateCategoryHAT(e),setTimeout((function(){c.activeMenuCategoryId=null}),0)},this._overwriteShowOverlay=function(){t.application.showOverlay=function(e,i,n,r){var a={parentComponent:r,useMdsTemplate:!0,executeAction:function(){i&&i()},executeNoAction:function(){c.setActiveMenuItem(),n&&n()},parentComponentAnalyticsKey:"exitConfirmationOverlay"};e?t.application.broadcast("dirtyOverlayAPI/showConfirmationOverlay",{data:a}):a.executeAction()}},this.menuClickExitDialog=function(e){var i=e.context;if(t.Api.modal.getIsDirty()){var n=this;t.Api.modal.setTgtData({action:function(){i()},data:{fromNavMenu:!0,menuComponent:n,setPreviousMenuItem:this.setActiveMenuItem.bind(this),previousActiveItem:{activeMenuItem:n.model.get("activeMenuItem"),activeActionMethodName:n.model.get("activeActionMethodName")}}},!0)}else t.Api.modal.stopListener(),i()},this.skipMenu=i,this.skipBackToMenu=i}})),define("profileArea/sharedLib/genericServiceErrorEvent",["require","appkit-utilities/content/dcu"],(function(e){"use strict";return{viewListenGeneric:function(e){e.bridge.on("trigger/serviceErrorEvent",(function(t){e.rtemplate.set("serviceErrorHeader",t.data.serviceErrorHeader),e.rtemplate.set("serviceErrorAdvisory",t.data.serviceErrorAdvisory)})),e.bridge.on("trigger/clearGenericServiceErrorEvent",(function(){e.rtemplate.set("serviceErrorHeader",void 0),e.rtemplate.set("serviceErrorAdvisory",void 0)}))},addTriggerGenericServiceError:function(t,i,n,r){var a=e("appkit-utilities/content/dcu").dynamicContent;i&&n&&(t._errorVariation=r||"SYSTEM_FAILURE",t._errorHeaderKey=i,t._errorAdvisoryKey=n),t.triggerGenericServiceError=function(e,i){if(!(e&&i||t._errorHeaderKey))throw new Error("Either header or header and advisory have to be passed if there are no defaults");e=e||a.get(t,t._errorHeaderKey+"."+t._errorVariation,{}),1!==arguments.length&&(i=i||a.get(t,t._errorAdvisoryKey+"."+t._errorVariation,{})),t.errorEvent={value:"serviceErrorEvent",data:{serviceErrorHeader:e,serviceErrorAdvisory:i}},t.output.emit("trigger",t.errorEvent),t.errorTriggered=!0},t.clearGenericServiceError=function(){t.clearEvent={value:"clearGenericServiceErrorEvent"},t.output.emit("trigger",t.clearEvent),t.errorTriggered=!1}}}})),define("profileArea/sharedLib/nativeButtonMapper",[],(function(){"use strict";return{"mailingAddressDetails.selectMyMailingAddressDetails":{nativeNavBarSettings:{showBackArrow:!0},isHybridBackButtonRequired:{}},"mailingAddressDetails.addOrEditMailingAddress":{nativeNavBarSettings:{showCancel:!0},component:"mailingAddress",isCloseSelected:{callBack:"cancelMailingAddressChanges"},isHybridBackButtonRequired:{callBack:"cancelMailingAddressChanges"}},"mailingAddressDetails.saveAddress":{nativeNavBarSettings:{},component:"mailingAddressAdditionVerification",isHybridBackButtonRequired:{callBack:"doNotAddAddress"}},"mailingAddressDetails.deleteOverlay":{nativeNavBarSettings:{showCancel:!1,showBackArrow:!1},component:"mailingAddressDeleteConfirmation",isHybridBackButtonRequired:{callBack:"doNotDeleteAddress"}},"phone.selectPhoneDetails":{component:"phone",nativeNavBarSettings:{showBackArrow:!0},isHybridBackButtonRequired:{}},"phone.addPhone":{component:"phone",nativeNavBarSettings:{showCancel:!0},isCloseSelected:{callBack:"doNotAddPhoneNumber"},isHybridBackButtonRequired:{callBack:"doNotAddPhoneNumber"},xsOnly:!0},"phone.addOrEditTcpa":{component:"PHONE_TCPA",nativeNavBarSettings:{showCancel:!0,showBackArrow:!0},isCloseSelected:{callBack:"_nativeCloseHandler"},isHybridBackButtonRequired:{callBack:"_nativeBackHandler"}},"phone.usagePreferenceTcpa":{component:"PHONE_TCPA",nativeNavBarSettings:{showCancel:!0},isCloseSelected:{callBack:"_nativeCloseHandler"},isHybridBackButtonRequired:{callBack:"_nativeCloseHandler"}},"phone.addAccounts":{component:"phone",nativeNavBarSettings:{showCancel:!0},isCloseSelected:{callBack:"doNotAddAccountsToPhoneNumber"},isHybridBackButtonRequired:{callBack:"doNotAddAccountsToPhoneNumber"},xsOnly:!0},"phone.deleteOverlay":{nativeNavBarSettings:{showCancel:!1,showBackArrow:!1},component:"DELETE_PHONE",isHybridBackButtonRequired:{callBack:"doNotDeletePhoneNumber"}},"phone.addAccountsDeleteOverlay":{nativeNavBarSettings:{showCancel:!1,showBackArrow:!1},component:"DELETE_PHONE",isHybridBackButtonRequired:{callBack:"cancelPhoneUpdate"}},"atm.selectPreferences":{nativeNavBarSettings:{showCancel:!0,showBackArrow:!1},isHybridBackButtonRequired:{},isCloseSelected:{}},"atm.addPreferences":{nativeNavBarSettings:{showCancel:!0,showBackArrow:!0},component:"atm",isHybridBackButtonRequired:{callBack:"requestUpdateMyAtmPreferences"},isCloseSelected:{}},"atm.confirmPreferences":{nativeNavBarSettings:{showCancel:!0,showBackArrow:!1},component:"atm",isHybridBackButtonRequired:{callBack:"requestUpdateMyAtmPreferences"},isCloseSelected:{}},"phone.editPhone":{component:"phone",nativeNavBarSettings:{showCancel:!0},isCloseSelected:{callBack:"doNotUpdatePhoneNumber"},isHybridBackButtonRequired:{callBack:"doNotUpdatePhoneNumber"},xsOnly:!0},"phone.updateConfirmation":{nativeNavBarSettings:{showCancel:!0,showBackArrow:!0},isCloseSelected:{callBack:"_nativeCloseHandler"},isHybridBackButtonRequired:{callBack:"_nativeBackHandler"}},"phone.phoneTcpaConfirmationOverlay":{component:"PHONE_TCPA_CONFIRMATION",nativeNavBarSettings:{showCancel:!0,showBackArrow:!0},isCloseSelected:{callBack:"_nativeCloseHandler"},isHybridBackButtonRequired:{callBack:"_nativeBackHandler"}},"phone.quickPayConfirmationOverlay":{component:"VERIFY_QUICKPAY_CONFIRMATION",nativeNavBarSettings:{showCancel:!0,showBackArrow:!0},isCloseSelected:{callBack:"_nativeCloseHandler"},isHybridBackButtonRequired:{callBack:"_nativeBackHandler"}},"phone.editBrokeragePhone":{component:"BROKERAGE_ACCOUNTS_PHONE_NUMBER",nativeNavBarSettings:{showCancel:!0},isCloseSelected:{callBack:"doNotUpdatePhoneNumber"},isHybridBackButtonRequired:{callBack:"doNotUpdatePhoneNumber"},xsOnly:!0},"phone.dirtyOverlay":{nativeNavBarSettings:{showCancel:!1,showBackArrow:!1},component:"phone",isHybridBackButtonRequired:{callBack:"_doNotExit"}},"email.emailDetails":{nativeNavBarSettings:{showCancel:!1,showBackArrow:!0},isHybridBackButtonRequired:{}},"email.addEmail":{nativeNavBarSettings:{showCancel:!0,showBackArrow:!1},component:"email",isHybridBackButtonRequired:{callBack:"doNotAddEmailAddress"},isCloseSelected:{callBack:"doNotAddEmailAddress"},xsOnly:!0},"email.editEmail":{nativeNavBarSettings:{showCancel:!0,showBackArrow:!1},component:"email",isHybridBackButtonRequired:{callBack:"doNotUpdateEmailAddress"},isCloseSelected:{callBack:"doNotUpdateEmailAddress"},xsOnly:!0},"email.deleteEmail":{nativeNavBarSettings:{showCancel:!1,showBackArrow:!1},component:"emailDeleteConfirmation",isHybridBackButtonRequired:{callBack:"doNotDeleteEmailAddress"}},"email.addAccounts":{nativeNavBarSettings:{showCancel:!0,showBackArrow:!1},component:"email",isHybridBackButtonRequired:{callBack:"doNotAddEmailAddress"},isCloseSelected:{callBack:"doNotAddEmailAddress"},xsOnly:!0},"emailDetails.updateConfirmation":{nativeNavBarSettings:{showCancel:!0,showBackArrow:!0},isHybridBackButtonRequired:{callBack:"_nativeBackHandler"},isCloseSelected:{callBack:"_nativeCloseHandler"}},"email.dirtyOverlay":{nativeNavBarSettings:{showCancel:!1,showBackArrow:!1},component:"email",isHybridBackButtonRequired:{callBack:"_doNotExit"}},"pinChange.updatePin":{nativeNavBarSettings:{showCancel:!1,showBackArrow:!0},isHybridBackButtonRequired:{}},"pinChange.confirmPin":{nativeNavBarSettings:{showCancel:!1,showBackArrow:!1}},"incomeDetails.updateMyIncome":{nativeNavBarSettings:{showCancel:!1,showBackArrow:!0},isHybridBackButtonRequired:{},isCloseSelected:{}},"merchantDetails.locationDetails":{nativeNavBarSettings:{showCancel:!1,showBackArrow:!0},isHybridBackButtonRequired:{}}}})),define("profileArea/sharedLib/nativeButtonNavigationMixin",["require","profileArea/sharedLib/nativeButtonMapper","blue-ui/utilities/common"],(function(e){"use strict";return function(t,i){var n=this,r=e("profileArea/sharedLib/nativeButtonMapper"),a=e("blue-ui/utilities/common");n.updateNativeButtonsAndNavigation=function(e){var o=r[e],s=t.hybridHelper&&t.hybridHelper.webNativeMessenger;if((i||t.enableNewAppNavigation)&&(!o.xsOnly||"xs"===a.getBreakpoint())){var c=o.nativeNavBarSettings,l=o.isHybridBackButtonRequired,d=o.component,u=o.isCloseSelected,p={pageTitle:t.getHeaderContent(),showProfileSettings:c.showProfileSettings||!1,showHamburgerMenu:c.showHamburgerMenu||!1,showClose:c.showClose||!1,showCancel:c.showCancel||!1,showBackArrow:c.showBackArrow||!1,isUsingAppkitJsBridge:!0},m=function(){return l.callBack&&(d?n.components[d][l.callBack]():n[l.callBack]()),!l.callBack},f=function(){return u.callBack&&(d?n.components[d][u.callBack]():n[u.callBack]()),!u.callBack};if(s){var A={isHybridBackButtonRequired:m,isCloseSelected:f,isCancelSelected:f};c&&s.updateNativeNavigationBar(p),s.setShouldNativeHandleButtonPressedCallBack((function(e){var t={BACK:m,CLOSE:f,CANCEL:f};return t[e]&&t[e]()}),A)}}}}})),define("profileArea/sharedLib/modalController",[],(function(){"use strict";var e=function(){};return e.prototype.set=function(e){this.close(),this.hideModalFunction=e},e.prototype.close=function(){this.hideModalFunction&&(this.hideModalFunction(),this.hideModalFunction=null)},new e})),define("profileArea/sharedLib/sharedComponent/updateConfirmation",["require","common/utility/rapidash","profileArea/sharedLib/genericServiceErrorEvent","appkit-utilities/common/mediaQueryListener","profileArea/sharedLib/nativeButtonNavigationMixin","profileArea/sharedLib/modalController"],(function(e){"use strict";var t,i,n,r,a=e("common/utility/rapidash"),o=e("profileArea/sharedLib/genericServiceErrorEvent"),s=e("appkit-utilities/common/mediaQueryListener"),c=e("profileArea/sharedLib/nativeButtonNavigationMixin"),l=e("profileArea/sharedLib/modalController"),d="ENABLED",u=function(e,t){i._hideModal(),r.area.broadcast(e,t)};return{init:function(){r=(i=this).context,n=s.currentBreakpoint===s.BREAKPOINT.XS,c.call(i,r),this.output.on("ready",function(){o.addTriggerGenericServiceError(this,"updateConfirmationErrorHeader","updateConfirmationErrorAdvisory")}.bind(this)),t=this.context.dcu.dynamicContent,this.context.modalController=l,this.context.on("updateConfirmation",this._showModal.bind(this)),this.context.on("updateConfirmationFailed",this._updateServiceFailed.bind(this))},doNotUpdate:function(){this.context.area.broadcast("phoneShouldHideSpinner"),this._hideModal()},confirmUpdate:function(){this.originalEvent.hideModal=this.destroyView.bind(this),"phone"===this.type&&(this.originalEvent.originatedFromUpdateConfirmationModal=this.originatedFromUpdateConfirmationModal),"email"===this.type&&this._hideModal(),this.context.area.broadcast({email:"emailUpdateConfirmationComplete",phone:"phoneUpdateConfirmationComplete",privacy:"privacyUpdateConfirmationComplete"}[this.type],{data:this.originalEvent})},_setPhoneContent:function(e,i){var n,r=a.get(e,"flags.services.accountAlertsService.serviceStatus")===d,o=a.get(e,"flags.services.quickPayService.serviceStatus")===d,s="SECONDARY_PHONE_FOR_ALERTS",c="SECONDARY_PHONE_QUICKPAY_AND_ALERTS",l="INTERNATIONAL_PHONE_QUICKPAY_AND_ALERTS",u={domestic:{alertsEnabledOnly:{header:s,message:s},qpDefault:{header:c,message:c}},international:{header:l,message:l}};"domestic"===i&&(r&&!o?n=u.domestic.alertsEnabledOnly:o&&(n=u.domestic.qpDefault)),"international"===i&&(n=u.international);var p=e.oldPhoneNumber;t.set(this,"updateConfirmationHeader",n.header),t.set(this,"updateConfirmationMessage",n.message,{phoneNumber:p}),this._setButtonContent("phone")},_setEmailContent:function(e,i){var n=i.qpDefault||!1,r=i.enaEditable||!1,a="SECONDARY_EMAIL_QUICKPAY_ONLY",o="SECONDARY_EMAIL_QUICKPAY_AND_ACCOUNTS",s={qpDefault:{enaEditable:{header:a,advisory:"SECONDARY_EMAIL_QUICKPAY_ONLY_AND_PRIMARY_FOR_QUICKPAY"},enaNotEditable:{header:o,advisory:"SECONDARY_EMAIL_QUICKPAY_AND_ACCOUNTS_PRIMARY_FOR_QUICKPAY"}},qpNotDefault:{enaEditable:{header:a,advisory:a},enaNotEditable:{header:o,advisory:o}}};s=n?s.qpDefault:s.qpNotDefault,s=r?s.enaEditable:s.enaNotEditable;var c={emailAddress:e.emailAddressHeader,newEmailAddress:e.emailAddress};t.set(this,"updateConfirmationHeader",s.header,c),t.set(this,"updateConfirmationMessage",s.advisory,c),this._setButtonContent("email")},_setPrivacyContent:function(){var e="PRIVACY_PREFERENCE_NOT_SELECTED";t.set(this,"updateConfirmationHeader",e),t.set(this,"updateConfirmationMessage",e),this._setButtonContent("privacy")},_setContent:function(e,t,i){"phone"===i?this._setPhoneContent(e,t):"email"===i?this._setEmailContent(e,t):"privacy"===i&&this._setPrivacyContent()},_setButtonContent:function(e){var i={phone:"PHONE_NUMBER",email:"EMAIL_ADDRESS",privacy:"PRIVACY_PREFERENCE"}[e];t.set(this,"doNotUpdateLabel",i),t.set(this,"confirmUpdateLabel",i)},_phoneModalDisplayCheck:function(e){var t="DOMESTIC";if(a.get(e,"flags.services.accountAlertsService.serviceStatus")===d||a.get(e,"flags.services.quickPayService.serviceStatus")===d){var i=e.oldPhoneNumberRegion,n=e.phoneNumberRegion;if(i!==t)return!1;if(n===t)return"domestic";if("INTERNATIONAL"===n)return"international"}return!1},_emailServiceCheck:function(e){if(!e)return!1;var t={};return e.forEach((function(e){t[e.serviceCode]=e})),!(a.get(t,"QUICKPAY.serviceStatusCode")!==d)&&{qpDefault:t.QUICKPAY.defaultContact}},_emailAccountsCheck:function(e){return e.enaUpdateAllowed},_emailModalDisplayCheck:function(e){var t=this._emailServiceCheck(e.services),i=this._emailAccountsCheck(e);return!!t&&{enaEditable:i,qpDefault:t.qpDefault}},_modalDisplayCheck:function(e,t){return"phone"===t?this._phoneModalDisplayCheck(e):"email"===t?this._emailModalDisplayCheck(e):"privacy"===t||void 0},_getModalType:function(e){return e.phoneNumberDetails?"phone":e.emailAddresses?"email":"privacy"===e.updateConfirmationType?"privacy":null},_showModal:function(e){e&&(this.overlayEventData=e),e=this.overlayEventData||e,this.context.commonComponentsUtil.hideSpinner({target:"#updateConfirmationModal"});var t=e.data.context,i=this._getModalType(t);this.type=i,r.getHeaderContent=function(){return i[0].toUpperCase()+i.slice(1)};var n=r.hybrid&&("email"===this.type||"phone"===this.type);n&&(this.originatedFromUpdateConfirmationModal=!1,this.model.set("enableNewAppNavigation",!0),this.context.enableNewAppNavigation=!0);var a=this._modalDisplayCheck(t,i);if(e.data.isModalDisplayed=a,this.originalEvent=e.data,a){if(n){this.originatedFromUpdateConfirmationModal=!0;let e="phone"===this.type?"phone.updateConfirmation":this.type+"Details.updateConfirmation";this.updateNativeButtonsAndNavigation(e)}this.originalEvent.component=this,this._setContent(t,a,i),this.context.modalController.set(this._hideModal.bind(this)),this._registerServiceErrorListeners(),this.context.executeCAV([this,"updateConfirmation",{target:"body",append:!0}])}else this.confirmUpdate()},_hideModal:function(){var e={email:"setFocusOnEmail",phone:"setFocusOnPhone",privacy:"setFocusUpdateConfirmationModalCancel"}[this.type];this.destroyView(),!this.model.get("enableNewAppNavigation")&&this.context.area.broadcast(e)},_registerServiceErrorListeners:function(){var e,t=this,i=function(){e()},n=function(){t.triggerGenericServiceError()};e=this.context.on("serviceCall",(function(e){e.data.promise.then(i,n)}))[0]},_updateServiceFailed:function(){this.triggerGenericServiceError()},_nativeCloseHandler:function(){u(this.type+"CloseFormAndUpdateNativeHeader",!0)},_nativeBackHandler:function(){var e,t;"phone"===this.type?e=n?"editPhoneDetailsNativeHeader":"updatePhoneDetailsNativeHeader":"email"===this.type&&(e="updateNativeHeaderOnUpdateConfirmationBack",t=n?"email.editEmail":"email.emailDetails"),u(e,t)}}})),define("profileArea/sharedLib/apptelTracker",["require","blue/root"],(function(e){"use strict";var t=e("blue/root"),i=["requestCustomerName","selectMyMailingAddressDetails","selectMyPhoneDetails","selectMyEmailDetails","updateMyIncome","requestPrivacyPreferences","requestEmailMarketingPreferences","updateMyLanguagePreferences"],n=["updateMyPaperlessPreferences","updateMyTravelPreferences","requestMyAccountsDisplay","updateOverviewPreference","updateMyFavoriteAccounts","updateMyPrimaryAccount","requestMyAccountNicknames","requestUpdateHomePage","requestTransactionDateRange","requestDefaultSortOrder","requestManageCustomGroups","requestManageLinkedAccounts","linkBusinessAccounts","updateServicePlan","requestChaseLinkedWebsites"],r=["requestMyAccountsDisplay"];function a(e){t.apptel&&t.apptel.enterAction&&t.apptel.enterAction(e)}return{logEnterAction:function(e){i.includes(e)&&a("$$Profile_Details"),n.includes(e)&&a("$$Profile_Accts"),r.includes(e)&&a("$$Profile_AcctsShowHide")},logLeaveAction:function(e){t.apptel&&t.apptel.leaveAction&&t.apptel.leaveAction(e)}}})),define("profileArea/overview/controllers/overview",["profileArea/core/lib/profileMenuListFormatter","appkit-utilities/common/mediaQueryListener","profileArea/core/lib/constants","common/lib/modelUtil","blue/siteMode","profileArea/sharedLib/apptelTracker","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e,t,i,n,r,a,o){"use strict";return function(s){var c=this,l=s.dcu.dynamicContent,d="overview";c.onInit=function(){c.dataProvider.mappers={menu:{listItems:{success:c._handleMenuSuccess,failure:c._handleMenuFailure}}}},c.requestMyProfileOverview=function(){return o.getFeatureTreatments(["cxoweb_profile_profileSettingsOverview_microapp"],{cxoweb_profile_profileSettingsOverview_microapp:!1}).then(c._renderMyProfileOverview)},c._renderMyProfileOverview=function(e){var r=s.renderTarget,a=!0===e.cxoweb_profile_profileSettingsOverview_microapp,o=t.currentBreakpoint===t.BREAKPOINT.XS;return c.registry.hasComponent("overview")||n.enrichComponent(c,d,"my_profile_overview").spec({data:{$menuError:n.DataType.OnOff,$isMicroAppEnabled:n.DataType.OnOff}}),c.model.set("overview.$isMicroAppEnabled",a),s.profileContainer.setPageProperties({$isMicroAppEnabled:a}),o?(s.profileContainer.displayHubNavigation(),a&&[c.components.overview,d,r]):(a||(s.profileContainer.setPageProperties({pageTitle:l.get(c.components.overview,"myProfileOverviewLabel"),containerClasses:`${i.CONTAINER_GRAY_BACKGROUND} overview-background-container legacy-profile-styles`}),c.dataProvider.request("menu.listItems",i.menu.API_CONTEXT)),[c.components.overview,d,r])},c._handleMenuSuccess=function(t,i){i=function(e){return e&&e.menuItems&&e.menuItems.push({name:"profile.access.identitylinking"}),e}(i);var n=new e(s);return c.model.set("overview.$menuError",!1),a.logLeaveAction("$$Profile"),n.formatMenuCategories(i).then(c._setTiles)},c._handleMenuFailure=function(){var t=new e(s);return c.model.set("overview.$menuError",!0),a.logLeaveAction("$$Profile"),t.formatMenuCategories({}).then(c._setTiles)},c._setTiles=function(e){e=e.filter((function(e){return"ACCOUNT_SAFE"!==e.variation})),c.model.set("overview.myProfileTiles",e.map(c._formatTile))},c._formatTile=function(e){var t=c.components.overview,i=e.variation,n=e.items,r=c._filterReadOnly(n).length>0,a=c._getTileRoute(n,e),o=e.action;return t.setAnalyticsAction(o,a),{myProfileTileSubHeader:l.get(t,"myProfileOverviewTileLabel",i),myProfileOverviewTileMessage:c._setTileMessage(i,n,t),myProfileCategoryLink:l.get(t,"requestMyProfileCategoryLabel",i),action:o,route:a,hat:l.get(t,o+"Ada")||"",isReadOnlyEnabled:r,isEmulationModeEnabled:e.isEmulationModeEnabled}},c._setTileMessage=function(e,t,i){var n={PERSONAL_DETAILS:"PRIVACY",ACCOUNTS:"PAPERLESS",PAYMENTS:"CHASE_PAY",INVESTMENTS:c._handleInvestmentMessage}[e];n&&(e="string"==typeof n?t.some((function(e){return e.tileVariation===n}))?n:"NO_"+n:n(t,e));return l.get(i,"myProfileOverviewTileMessage",e)},c._handleInvestmentMessage=function(e,t){var i=e.reduce((function(e,t){return"BENEFICIARIES"===t.tileVariation?e.unshift("BENEFICIARIES"):"TRUSTED_CONTACT"===t.tileVariation&&e.push("TRUSTED_CONTACT"),e}),[]).join("_");return i.length?i:t},c._getTileRoute=function(t,i){var n=e.getItemRoute;return(t=c._filterReadOnly(t)).reduce((function(e,t){return t.isDefaultItem||null===e?n(t,i):e}),null)},c._filterReadOnly=function(e){return r.isModeEnabled("readOnly")?e.filter((function(e){return e.isReadOnlyEnabled})):e}}})),define("profileArea/overview/components/overview",[],(function(){"use strict";return function(e){var t=this;t.onInit=function(){e.globalContentMixin.call(t,["importantAda"])},t.setAnalyticsAction=function(i,n){t[i]=function(t){e.state(t)}.bind(t,n)}}})),define("profileArea/sharedLib/messageDispatcher",["require","appkit-utilities/content/dcu"],(function(e){"use strict";var t=e("appkit-utilities/content/dcu").dynamicContent,i=function(e){this.controller=e,this.messages=[]},n=function(e,t,i){var n=e.on(t,(function(e){n(),i(e)}))[0]};return i.prototype.set=function(e){var i,r=e.component,a=e.setting,o=e.hideImmediately,s=e.variation,c=e.props,l=e.autohide||!1;t.set(r,a,s,c),this.messages.push(e);var d=function(){n(this.controller.context,"serviceCall",(function(){r.model.set(a,null)}))};l&&(!0===l?i="serviceCall":"string"==typeof l&&(i=l),o?d.call(this):n(this.controller.context,i,function(){d.call(this)}.bind(this)))},i.prototype.reset=function(){this.messages.forEach((function(e){e.component.model.set(e.setting,null)})),this.messages=[]},i})),define("profileArea/sharedLib/privateLabelMessaging",["require","appkit-utilities/rapidash/rapidash","appkit-utilities/content/dcu"],(function(e){"use strict";var t=e("appkit-utilities/rapidash/rapidash"),i=e("appkit-utilities/content/dcu").dynamicContent,n=function(e){e.model.set("partnerInfo",!1)};return{resetPartnerInfo:n,setPartnerInfo:function(e,r,a){if(n(e),a&&a.length){var o=["CARD_AAFES","CARD_BRITISH_AIRWAYS","CARD_MARRIOTT","CARD_MILSTAR","CARD_UNITED"],s=["CARD_DISNEY"],c="addPartnerAdvisory";"UPDATE"===r&&(c="updatePartnerAdvisory");var l=[],d=[];e.model.set("partnerInfo",{}),a.forEach((function(t){o.indexOf(t)>-1?(l.push(i.get(e,"partnerContactDetails."+t)),e.model.set("partnerInfo.contactInfo",i.get(e,c+"."+t))):s.indexOf(t)>-1&&d.push(i.get(e,"additionalPartnerMessage."+t))})),l.length>1&&(e.model.set("partnerInfo.contactInfo",i.get(e,c,{},"MULTIPLE_PARTNERS")),e.model.set("partnerInfo.entityInfo",t.toHtmlString(l))),d.length>0&&e.model.set("partnerInfo.additionalInfo",d.join("<br/>"))}}}})),define("profileArea/personalDetails/email/services/emailDataTransform",["require","appkit-utilities/content/dcu","common/lib/fakeComponent"],(function(e){"use strict";return function(){var t=e("appkit-utilities/content/dcu"),i=e("common/lib/fakeComponent")("MY_PROFILE_EMAIL_ADDRESS","profileArea"),n=null;return{transformEmailListService:function(e){if(!1===e.groupsAvailable)return e;var t=this,i={emailHeaderComponent:{addAllowed:e.addAllowed},emailComponent:{emailAddresses:[],groupId:e.groupId,cardOnlyContacts:[]},isAlertsPaused:null};return e.primaryEmail&&i.emailComponent.emailAddresses.push(t.transformEmail(e.primaryEmail,"PRIMARY")),e.primaryEmail&&e.primaryEmail.accountAlertsService&&"SUSPENDED"===e.primaryEmail.accountAlertsService.status&&(i.isAlertsPaused=!0),e.statusCodes&&(n=e.statusCodes.indexOf("RESTRICTED_ACCOUNT")>-1?"RESTRICTED_ACCOUNT":n),n&&(i.hasRestrictedAcctWarning=!0,i.restrictedAcctWarningKey=n),e.secondaryEmails&&e.secondaryEmails.forEach((function(e){var n=t.transformEmail(e,"SECONDARY");n.isCardOnlyContact&&i.emailComponent.cardOnlyContacts.push({emailAddress:n.emailAddress,associatedAccounts:n.associatedAccounts.map((function(e){return e.id})),entityType:n.entityType}),i.emailComponent.emailAddresses.push(n),!1!==i.isAlertsPaused&&e.accountAlertsService&&(i.isAlertsPaused="SUSPENDED"===e.accountAlertsService.status)})),Array.isArray(e.groups)&&(i.accountCategories=t.transformEmailServicesDropDownForMultiECI(e.groups)),i},transformEmail:function(e,t){var i=this.transformEmailServices(e),n=!1;return!1===i.hasAssociatedServices&&e.associatedAccounts&&-1!==e.associatedAccounts[0].id&&(n=!0),{id:e.id,entityType:e.entityType,emailAddress:e.emailAddress,emailAddressHeader:e.emailAddress,updateAllowed:e.updateAllowed,deleteAllowed:e.deleteAllowed,associatedAccounts:this.transformAssociatedAccounts(e.associatedAccounts),sortedAccountsList:this._sortAccountsNames(e.associatedAccounts),emailAddressCategory:t,isPrimary:"PRIMARY"===t,accountsServiceStatus:e.accountsServiceStatus,addAccountDisabled:"ACCOUNTS_UPDATE_ALLOWED"!==e.accountsServiceStatus&&"ACCOUNTS_ADD_ALLOWED"!==e.accountsServiceStatus,services:i.transformedServices,serviceDictionary:i.serviceDictionary,enaUpdateAllowed:e.enaUpdateAllowed||!1,onlineIdVerificationService:e.onlineIdVerificationService,accountEdit:!1,emailEdit:!1,isCardOnlyContact:n,addAccounts:{},alertsDeliveryNickname:"",emailFormatType:"HTML"}},transformAssociatedAccounts:function(e){var t=[],i=this;return e&&e.forEach((function(e){t.push({id:e.id,nameAndMask:i._formatNameAndMask(e),accountDisplayArray:i._formatAccountDisplayArray(e),checked:!!e.checked})})),t},_formatNameAndMask:function(e){return-1===e.id?e.nameAndMask.replace(/,/g,"<br>"):e.nameAndMask},_formatAccountDisplayArray:function(e){return-1===e.id?e.nameAndMask.split(","):[]},_sortAccountsNames:function(e){var t=[];if(e){if(e[0]&&-1===e[0].id){t=e[0].nameAndMask.split(",");for(var i=1;i<e.length;i++)t.push(e[i].nameAndMask)}else e.forEach((function(e){t.push(e.nameAndMask)}));return t.sort()}return t},transformEmailEligibleAccounts:function(e){var t={},i=[],n=e.context.associatedAccounts;return n&&n.forEach((function(t){i.push({id:t.id,nameAndMask:-1===t.id?t.nameAndMask.replace(/,/g,"<br>"):t.nameAndMask,accountDisplayArray:-1===t.id?t.nameAndMask.split(","):[],checked:!0,associated:!0,disabled:"ACCOUNTS_UPDATE_ALLOWED"!==e.context.accountsServiceStatus})})),e.eligibleAccounts&&e.eligibleAccounts.forEach((function(e){i.push({id:e.id,nameAndMask:-1===e.id?e.nameAndMask.replace(/,/g,"<br>"):e.nameAndMask,accountDisplayArray:-1===e.id?e.nameAndMask.split(","):[],checked:!1,associated:!1,disabled:!1})})),t.addAccounts=i,t},transformAddAccountFormData:function(e){var t,i=0,n=!0,r="UPDATED_EMAIL_ADDRESS";return e.context.addAccounts.forEach((function(e){e.checked||(n=!1)})),"SECONDARY"===e.context.emailAddressCategory&&n&&e.context.isPrimary?r="UPDATED_EMAIL_ADDRESS_REPLACES_PRIMARY":"SECONDARY"===e.context.emailAddressCategory&&!n&&e.context.isPrimary?r="UPDATED_PRIMARY_EMAIL_ADDRESS":"SECONDARY"!==e.context.emailAddressCategory||e.context.isPrimary||(r="UPDATED_EMAIL_ADDRESS"),t={postData:{groupId:e.context.groupId,id:e.context.id,primary:"PRIMARY"!==e.context.emailAddressCategory&&e.context.isPrimary},dialogData:{emailAddressCategory:e.context.emailAddressCategory,accountsServiceStatus:e.context.accountsServiceStatus,updatedEmail:e.context.emailAddress,allAccountsSelected:n,updateType:r,enaUpdateAllowed:e.context.enaUpdateAllowed}},e.context.addAccounts.forEach((function(e){e.checked&&!e.associated&&(t.postData["associatedAccountIds["+i+++"]"]=e.id)})),t},transformEmailServices:function(e){var n,r=[],a={onlineIdVerificationService:"ONLINE_SECURITY",quickPayService:"QUICKPAY",accountAlertsService:"ALERTS"},o=["ENABLED","UNVERIFIED","LOCKED","SUSPENDED","UNDELIVERABLE"],s=!1,c={};return["onlineIdVerificationService","accountAlertsService","quickPayService"].forEach((function(l){if(e[l]){n=e[l].status.toUpperCase(),o.indexOf(n)>-1&&(s=!0);var d={serviceCode:a[l],serviceName:t.dynamicContent.get(i,"serviceName."+a[l]),serviceStatus:t.dynamicContent.get(i,"serviceStatus."+n),serviceStatusCode:n,deleteAllowed:e[l].deleteAllowed,defaultContact:e[l].defaultContact,contactId:e[l].contactId};r.push(d),c[d.serviceCode]=d}})),{transformedServices:r,hasAssociatedServices:s,serviceDictionary:c}},transformEmailDataForForm:function(e){var t=e;return t.eligibleAccounts=this.transformAssociatedAccounts(e.eligibleAccounts),t.servicesAllowed=this.transformEmailServicesDropDown(e.servicesAllowed),t},transformEmailServicesDropDown:function(e){var n=[];return e.forEach((function(e){var r="ONLINE_VERIFICATION"===e?"ONLINE_SECURITY":e;"QUICKPAY"!==e&&n.push({key:e,name:t.dynamicContent.get(i,"serviceName."+r)})})),n},transformEmailServicesDropDownForMultiECI:function(e){var t=[];return e.forEach((function(e){t.push({name:e.name,key:e.id})})),t},transformAddEmailDataForPost:function(e){var t={serviceSelected:e.serviceSelected,emailAddress:e.emailAddress.trim()};if("ACCOUNTS"===e.serviceSelected){var i=0;t.groupId=e.groupId,t.primary=e.isPrimary,e.eligibleAccounts.forEach((function(e){e.checked&&(t["associatedAccountIds["+i+++"]"]=e.id)}))}return"ALERTS"===e.serviceSelected&&(t.nickname=e.alertsDeliveryNickname,t.contentType="HTML"),t},extendAddOnlineSecurityServiceConfirmationData:function(e){return{emailAddress:e.emailAddress,serviceSelected:e.serviceSelected}},transformEmailForAddForm:function(e){return{mode:"form",servicesAllowed:e.servicesAllowed,serviceSelected:e.servicesAllowed[0].key,eligibleAccounts:e.eligibleAccounts,primaryAllowed:e.primaryAllowed,groupId:e.groupId,isPrimary:e.isPrimary,emailAddress:e.emailAddress,alertsDeliveryNickname:e.nickname,emailFormatType:"HTML"}},transformEmailDeleteService:function(e){var t=e;return(t.failedServices&&t.failedServices.length>0||t.ineligibleServices&&t.ineligibleServices.length>0)&&(t.code="ERROR"),t},transformEmailEditService:function(e){var t=e;return(t.failedServices&&t.failedServices.length>0||t.ineligibleServices&&t.ineligibleServices.length>0)&&(t.code="ERROR"),t},transformEmailUpdateBeforeRequest:function(e){var t=e;return t.emailAddress=t.emailAddress.trim(),t},transformEmailUpdateBeforeRequestSCD:function(e){var t=e;return t.flowEntryPointIdentifier="PROFILE",t.actionType="EMAIL_CHANGE_EDIT",t.emailAddress=t.emailAddress.trim(),t}}}})),define("profileArea/sharedLib/dynamicAdaUtil",["require","appkit-utilities/content/dcu","appkit-utilities/rapidash/rapidash"],(function(e){"use strict";var t=e("appkit-utilities/content/dcu").dynamicContent,i=e("appkit-utilities/rapidash/rapidash"),n={myProfilePhoneNumber:{addAccountsToPhoneNumberAda:!0,addOnlineSecurityToPhoneNumberAda:!0,addAlertsToPhoneNumberAda:!0,addQuickpayToPhoneNumberAda:!0,currentInformationForPhoneNumberAda:!0,deletePhoneNumberAda:!0,manageMyAlertsAda:!0,manageQuickpayPreferencesAda:!0,opensFormAda:!0,removeAlertsFromPhoneNumberAda:!0,removeOnlineSecurityFromPhoneNumberAda:!0,removeQuickpayFromPhoneNumberAda:!0,serviceStatusAda:!0,updatePhoneNumberAda:!0},myProfileEmailAddress:{addAccountsToEmailAddressAda:!0,currentInformationForEmailAddressAda:!0,deleteEmailAddressAda:!0,manageMyAlertsAda:!0,manageQuickpayPreferencesAda:!0,removeAlertsFromEmailAddressAda:!0,removeOnlineSecurityFromEmailAddressAda:!0,removeQuickpayFromEmailAddressAda:!0,serviceStatusAda:!0,updateEmailAddressAda:!0,verifyEmailAddressForQuickpayAda:!0,addOnlineSecurityToEmailAddressAda:!0,addAlertsToEmailAddressAda:!0,addQuickpayToEmailAddressAda:!0,emailMarketingSettingsAda:!0}};return{addPhoneAdaDynamicValues:function(e,r,a){var o,s=a.phoneComponent;o=s&&s.phoneNumberDetails?s.phoneNumberDetails:[];for(var c=[],l=0;l<o.length;l++){var d=i.deepCopy(o[l]),u=d.formattedPhoneNumber;for(var p in d.phoneNumberType&&"WORK"===d.phoneNumberType[0]&&""!==d.phoneNumberExtension&&(u+=" "+t.get(r,"phoneNumberExtensionLabel")+" "+d.phoneNumberExtension),n[e])if(Object.hasOwnProperty.call(n[e],p)){var m=t.get(r,p,{phoneNumber:u});d[p]=m}c.push(d)}return c},addEmailAdaDynamicValues:function(e,i,r){r=r||[];for(var a=0;a<r.length;a++){var o=r[a],s=o.emailAddress;for(var c in n[e])if(Object.hasOwnProperty.call(n[e],c)){var l=t.get(i,c,{emailAddresses:{emailAddress:s}});o[c]=l}}return r}}})),define("profileArea/personalDetails/email/lib/constants",[],(function(){"use strict";return{actions:["selectMyEmailDetails","addEmailAddress","confirmAddEmailAddress","updateEmailAddress","confirmUpdateEmailAddress","addAccountsToEmailAddress","confirmAddAccountsToEmailAddress","addOnlineSecurityToEmailAddress","confirmAddOnlineSecurityToEmailAddress","confirmRemoveOnlineSecurityFromEmailAddress","addAlertsToEmailAddress","confirmAddAlertsToEmailAddress","confirmRemoveAlertsFromEmailAddress","requestMyAlertsOptions","confirmRemoveQuickpayFromEmailAddress","manageQuickpayPreferences","confirmDeleteEmailAddress","confirmAddQuickPayToEmailAddress","caasCallback","requestStepUp"],baseUrl:"/dashboard/profileArea/email/",defaultAction:"selectMyEmailDetails",caasRetryProps:{requestFn:null,reqParam1:null,reqParam2:null},handleCodes:["EMAIL_ADDRESS_ALREADY_EXISTS","QP_DUPLICATE_EMAIL_CHASE","QP_DUPLICATE_EMAIL_CXC","ALERT_DUPLICATE_DEVICE_NICKNAME"],marketingPreferencesExcludedSegments:["PVB","WTH","PCB","CML","CRE"],C:{CONFIRMATION_HEADER_KEY:"myProfileEmailAddressConfirmationHeader",CONFIRMATION_ADVISORY_KEY:"myProfileEmailAddressConfirmationAdvisory"},serviceCalls:{emailList:"myProfile.email.list.svc",emailAddOptions:"myProfile.email.addOptions.svc",emailAdd:"myProfile.email.add.svc",emailAddScd:"myProfile.email.scd.add.svc",emailUpdate:"myProfile.email.update.svc",emailUpdateScd:"myProfile.email.scd.update.svc",emailUseForOIV:"myProfile.email.oiv.add.svc",emailUseForQP:"myProfile.email.qp.add.svc",emailRemoveOIV:"myProfile.email.oiv.delete.svc",emailRemoveQP:"myProfile.email.qp.delete.svc",emailRemoveAlerts:"myProfile.email.alerts.delete.svc",emailEnaAddOptions:"myProfile.email.ena.addOptions.svc",emailEnaEditOptions:"myProfile.email.ena.editOptions.svc",emailEnaAdd:"myProfile.email.ena.add.svc",emailEnaAddScd:"myProfile.email.scd.ena.add.svc",emailEnaUpdate:"myProfile.email.ena.update.svc",emailDelete:"myProfile.email.delete.svc",emailAlertsAdd:"myProfile.email.alerts.add.svc",qpResendCode:"quickpay.enrollment.resendcode",qpVerifyCode:"quickpay.contact.verify"},errorMapper:{QP_DUPLICATE_EMAIL_CHASE:{headerKey:"addEmailAddressErrorHeader",headerVariation:"QUICKPAY_DUPLICATE_EMAIL_IN_CHASE",advisoryKey:"addEmailAddressErrorAdvisory",advisoryVariation:"QUICKPAY_DUPLICATE_EMAIL_IN_CHASE"},QP_DUPLICATE_EMAIL_CXC:{headerKey:"addEmailAddressErrorHeader",headerVariation:"QUICKPAY_DUPLICATE_EMAIL_IN_CHASE",advisoryKey:"addEmailAddressErrorAdvisory",advisoryVariation:"QUICKPAY_DUPLICATE_EMAIL_IN_CHASE"},ALERT_DUPLICATE_DEVICE_NICKNAME:{headerKey:"alertsDeliveryNicknameError",headerVariation:"ALREADY_EXISTS",field:"emailAddresses.alertsDeliveryNickname"},EMAIL_ADDRESS_ALREADY_EXISTS:{headerKey:"addEmailAddressErrorHeader",headerVariation:"ALREADY_EXISTS",advisoryKey:"addEmailAddressErrorAdvisory",advisoryVariation:"ALREADY_EXISTS"}},focusTargets:{addOrMakePrimaryForm:{xs:"#title-add-email-accounts-container-header-xs",sm:"#add-email-accounts-container-header",md:"#add-email-accounts-container-header",lg:"#add-email-accounts-container-header"},useForAlertsForm:{xs:"#title-add-email-container-header-xs",sm:"#add-email-container-header",md:"#add-email-container-header",lg:"#add-email-container-header"},editEmailForm:{xs:"#email-address-field",sm:"#email-address-field",md:"#email-address-field",lg:"#email-address-field"},addEmailForm:{xs:"#title-add-email-container-header-xs",sm:"#add-email-container-header",md:"#add-email-container-header",lg:"#add-email-container-header"}},fastCaasConfig:{serviceMappers:[{url:"/svc/rr/profile/l4/v2/email/profile/list",callBackFunction:"dashboard/profileArea/email/caasCallback",target:"#applicationOverlay"}],stepUpUrl:"#/dashboard/profileArea/email/requestStepUp",pg_name:"SSAM-EMAIL",exitMapper:{}},scdConfig:{serviceMappers:[{url:"/svc/wr/profile/l4/v1/securemail/add?runValidation=true",callBackFunction:"dashboard/profileArea/email/caasCallback",target:"#applicationOverlay",flowIdentifierParams:{flowEntryPointIdentifier:"PROFILE",actionType:"EMAIL_CHANGE_ADD"}},{url:"/svc/wr/profile/l4/v1/securemail/update?runValidation=true",callBackFunction:"dashboard/profileArea/email/caasCallback",target:"#applicationOverlay",flowIdentifierParams:{flowEntryPointIdentifier:"PROFILE",actionType:"EMAIL_CHANGE_EDIT"}},{url:"/svc/wr/profile/l4/v1/securemail/ena/add?runValidation=true",callBackFunction:"dashboard/profileArea/email/caasCallback",target:"#applicationOverlay",flowIdentifierParams:{flowEntryPointIdentifier:"PROFILE",actionType:"EMAIL_CHANGE_ADD"}}],exitMapper:{scdAdd:"doNotAddEmailAddress",scdEnaAdd:"doNotAddEmailAddress",scdUpdate:"doNotUpdateEmailAddress"},stepUpUrl:"#/dashboard/profileArea/email/requestStepUp",pg_name:"SSAM-EMAIL"}}})),define("profileArea/sharedLib/interceptors/caasInterceptor",[],(function(){"use strict";return function(e,t){return{around:function(i){var n=i.args[0].url.split("svc")[1],r=t.find((e=>e.url.includes(n)));return r&&i.args[0]&&(i.args[0].data=function(t,i={}){var n="object"==typeof i,r=n?i:JSON.parse(i);return Object.assign(r,t.flowIdentifierParams),e.caasRetryProps&&e.caasRetryProps[t.url]&&(Object.assign(r,e.caasRetryProps[t.url]),delete e.caasRetryProps[t.url]),n?r:JSON.stringify(r)}(r,i.args[0].data)),new Promise((function(t,n){i.proceed().then((function(e){t(e)})).catch((function(t){var i=t;if(412===i.status){var a=i.data&&JSON.parse(i.data);if(a&&r||n({status:"invalidRetry"}),a.riskLevelCode&&"R"===a.riskLevelCode)e.setCaasRedContent&&e.setCaasRedContent();else{e.caasBlockInView(!0);var o=function(e,t){var i=!e.riskAssessmentIdentifier,n={version:2,applicationId:"undefined"!=typeof channel?channel:"",clientId:e.claim,eventId:e.event,communicationCallBack:t.callBackFunction,target:t.target,isPolicyBased:i,showBrandBar:!0};return i||(n.challengeIdentifier=e.riskAssessmentIdentifier,n.pathParams="{}"),{privateDataObject:n}}(a,r);e.privateState("dashboard/caas/challenge/requestChallenge",o),function(t,i){t.hashId&&t.riskAssessmentIdentifier&&(e.caasRetryProps||(e.caasRetryProps={}),e.caasRetryProps[i.url]={hashId:t.hashId,riskAssessmentIdentifier:t.riskAssessmentIdentifier})}(a,r),n({status:"caasChallenge"})}}n(t)}))}))}}}})),define("profileArea/sharedLib/commonCaasUtil",["require","profileArea/sharedLib/interceptors/caasInterceptor"],(function(e){"use strict";return function(t,i){var n=null,r=[],a=e("profileArea/sharedLib/interceptors/caasInterceptor")(t.context,i.serviceMappers);t.context.caasBlockInView=function(e){var t=document.getElementById("dashboard-content"),i=document.getElementById("flyoutWrapper"),n=document.getElementById("applicationOverlay"),r=document.getElementById("content-spinner-overlay");r&&r.classList.add("hide"),e?(t&&t.style&&(t.style.display="none"),i&&i.classList&&i.classList.add("miscHide"),n&&n.classList.remove("screen-takeover-hide")):(t&&t.style&&(t.style.display="block"),i&&i.classList&&i.classList.remove("miscHide"),n&&(n.innerHTML=""))},t.triggerCaasSpinner=function(e){var t=document.getElementById("content-spinner-overlay");t&&(e?t.classList.remove("hide"):t.classList.add("hide"))},t.serviceSettings.interceptors.push(a),t.triggerCaasAnalytics=function(e){t.context.caasBlockInView(!0);var n=t.context.state();n.action.name="requestStepUp",n.action.params.caas=[e,i.pg_name],t.context.state(n)},t.caasCallback=function({privateDataObject:{code:e,data:a}}){const o=e||"FAILURE",s=a||null;function c(){t.context.caasBlockInView(!1),i.exitFunction&&i.exitFunction(n),t.context.caasRetryProps={}}var l={NAVIGATION:()=>{s&&t.triggerCaasAnalytics(s)},SUCCESS:()=>{t.context.caasBlockInView(!1),i.successFunction&&i.successFunction(),t[n](...r)},LOCKED:()=>{i.setLockedContent&&i.setLockedContent(),c()},LOGOUT:()=>{t.context.caasBlockInView(!1);t.context.state("dashboard/auth/signout")},CANCELLED:c,FAILURE:c,SYS_FAILURE:c,INVALID_CONFIG:c};l[o]?l[o]():l.FAILURE()},t.setRetryProps=function(e,t){n=e,r=t},t.context.setRetryProps=function(e,t){n=e,r=t}}})),define("profileArea/personalDetails/phone/lib/constants",[],(function(){"use strict";return{actions:["selectMyPhoneDetails","addPhoneNumber","confirmAddPhoneNumber","updatePhoneNumber","confirmUpdatePhoneNumber","updatePhoneUsagePreference","confirmUpdatePhoneUsagePreference","updateAccountsToPhoneNumber","confirmUpdateAccountsToPhoneNumber","confirmRemoveAlertsFromPhoneNumber","confirmAddQuickPayToPhone","addAccountsToPhoneNumber","updateAccountsToPhoneNumberSuccess","deletePhoneNumber","confirmDeletePhoneNumber","confirmRemoveQuickpayFromPhoneNumber","requestStepUpChallenge","requestStepUpChallengeBrokerage","updateTCPA","requestStepUp"],baseUrl:"#/dashboard/profileArea/phone/",defaultAction:"selectMyPhoneDetails",phoneViewPathMapper:{phone:"phone",PHONE_CAAS:"phoneCaas",PHONE_HEADER:"phoneHeader",DELETE_PHONE:"phoneDelete",PHONE_TCPA:"phoneTcpa",PHONE_TCPA_CONFIRMATION:"phoneTcpaConfirmation",ENROLL_CONFIRMATION:"phoneEnrollConfirmation",ADD_ONLINE_SECURITY_CONFIRMATION:"phoneAddOnlineSecurityConfirmation",REMOVE_SERVICE_FROM_PHONE:"removeServiceFromPhone",BROKERAGE_ACCOUNTS_PHONE_NUMBER:"brokerageAccountsPhoneNumber",VERIFY_QUICKPAY_CONFIRMATION:"phone/verifyQuickpayConfirmationForPhone",ADD_QUICKPAY_CONFIRMATION:"phone/addQuickpayConfirmationForPhone"},UPDATE_ACCOUNTS_ACTIONS_MAP:{PRIMARY:{UPDATE:"updateAccountsToPhoneNumber",CONFIRM:"confirmUpdateAccountsToPhoneNumber"},SECONDARY:{UPDATE:"addAccountsToPhoneNumber",CONFIRM:"updateAccountsToPhoneNumberSuccess"}}}})),define("profileArea/sharedLib/demographicsMixin",["profileArea/personalDetails/email/lib/constants","profileArea/personalDetails/phone/lib/constants"],(function(e,t){"use strict";const i={email:e,phone:t};return function(e,t){const n=e.name,r=i[n].actions,a=function(e,t){const n=i[e].baseUrl;return t.reduce(((e,t)=>(e[t]=`${n}${t}`,e)),{})}(n,r);!function(e,t,n,r){const a=r[i[e.name].defaultAction];n.forEach((i=>{Object.hasOwnProperty.call(e,i)||(e[i]=function(){e.registry.hasComponent(e.name)||t.state(a)})}))}(e,t,r,a),t[`${n}Routes`]=a}})),define("profileArea/sharedLib/splitHandler",["require","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e){"use strict";var t=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"),i=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd");return{getFlagValueSync:function(e,t=!1){return i.getFeatureFlagsSync({[e]:t})?.[e]||!1},getFlagValue:function(e,i=!1){return new Promise((n=>{t.getFeatureTreatments([e],{[e]:i}).then((function(t){n(t?.[e]||!1)})).catch((function(){n(!1)}))}))}}})),define("profileArea/personalDetails/email/controllers/email",["blue/siteData","blue/log","common/utility/rapidash","common/lib/accountInfo","common/lib/flyout/flyoutUtility","profileArea/sharedLib/nativeButtonNavigationMixin","appkit-utilities/common/mediaQueryListener","profileArea/sharedLib/apptelTracker","common/lib/utility/commonComponentsUtil","profileArea/sharedLib/messageDispatcher","profileArea/sharedLib/privateLabelMessaging","profileArea/personalDetails/email/services/emailDataTransform","profileArea/sharedLib/dynamicAdaUtil","profileArea/personalDetails/email/lib/constants","appkit-utilities/analytics/overlay","profileArea/sharedLib/commonCaasUtil","profileArea/sharedLib/demographicsMixin","profileArea/sharedLib/splitHandler","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e,t,i,n,r,a,o,s,c,l,d,u,p,m,f,A,g,E,y){"use strict";return function(h){var v,C,_,S,T,N,I=this,b=h.dcu.dynamicContent,D=h.hybridHelper&&h.hybridHelper.webNativeMessenger,O=m.marketingPreferencesExcludedSegments,P=new l(I),L=new n;function M(){return!1}c=c(I),t=t("[controller.myProfile.email]"),I.plm=d,I.dataTransform=u(),I.addEmailAdaDynamicValues=p.addEmailAdaDynamicValues,I.C=m.C;var R=function(){h.isXS&&h.updateNativeButtonsAndNavigation("email.emailDetails")};I.onInit=function(){a.call(I,h,h.hybrid),h.isXS=o.currentBreakpoint===o.BREAKPOINT.XS,h.scdLocked=!1,h.setSCDLockedStatus=function(e){h.scdLocked=e},N={CBO_COMMERCIAL:{before:I._cboCommercialList,after:I._cboCommercialAction},CPO:{before:I._cpoList,after:I._cpoAction},CBO_BUSINESS_USER:{before:I._cboMultiEciList,after:I._cboMultiEciAction}},g(I,h),I.Api={modal:h.modalApi(I)},h.on({"profileEmail/setTgtData":I.setTgtData,setPrimaryEmailEdit:I._setPrimaryEmailEdit,setEmailFlowMessage:I._setEmailFlowMessage,showAddOnlineSecurityServiceConfirmation:I.showAddOnlineSecurityServiceConfirmation,hideAddOnlineSecurityServiceConfirmation:I.hideAddOnlineSecurityServiceConfirmation,hideConfirmationModalDialogForEmail:I.hideConfirmationModalDialog,updateEmailStateForAddOnlineSecurity:I.updateEmailStateForAddOnlineSecurity,updateEmailAddAccounts:I.updateEmailAddAccounts,confirmEmailAddressUpdate:I.confirmEmailAddressUpdate,setPartnerInfo:I.setPartnerInfo,updateEmailList:function(e){I.list(e.messageInfo)},requestListByGroupId:I._requestListByGroupId}),h.triggerCrossComponentEvent=I.triggerCrossComponentEvent,h.showOverlay=I.showOverlay,h.hideOverlay=I.hideOverlay,h.getModelProp=I.getModelProp,h.getComponent=I.getComponent,h.Api=I.Api,h.emailService=I.emailService,h.dispatchMessage=I.dispatchMessage,h._unsetHeaderContent=I._unsetHeaderContent,h._unsetFromPaperless=I._unsetFromPaperless,h.commonComponentsUtil=c,h.updateNativeButtonsAndNavigation=I.updateNativeButtonsAndNavigation,h.updateNativeButtonForEmailDetailsOnHybridXs=R,h.getHeaderContent=I.getHeaderContent,h.emailConstants=m,h.registerDirtyForm=I.registerDirtyForm,h.deregisterDirtyForm=I.deregisterDirtyForm,h.setCaasRedContent=I.setCaasRedContent},I.selectMyEmailDetails=function(){return y.getFeatureTreatments(["cxoweb_profile_email_caasEnable","cxoweb_profile_email_microapp"],{cxoweb_profile_email_caasEnable:"0",cxoweb_profile_email_microapp:!1}).then(I.renderEmailPage)},I.renderEmailPage=function(e){var t;if(!r.isFlyoutNavigation(h)){if(e.cxoweb_profile_email_microapp)return I.model.set("emailComponent.isMicroAppEnabled",!0),[I.components.email,"email",h.renderTarget];var i=[],n=o.currentBreakpoint===o.BREAKPOINT.XS;if(h.profileContainer.setPageProperties({containerClasses:"legacy-profile-styles",pageTitle:n?b.get(I.components.emailHeader,"emailAddressHeader"):""}),v=I.components.email,C=I.components.emailHeader,i.push([I.components.emailHeader,"emailHeader",h.renderTarget],[I.components.email,"email",{target:h.renderTarget.target,append:!0}]),b.set(v,"authenticationResultErrorHeader",!1),I._configureCaasOrSCD(e.cxoweb_profile_email_caasEnable),t=h.caasReadOnly,_=I.userTypeInterpreter(L),h._USER_TYPE=_,I._updateModelUserType(_),T=N[h._USER_TYPE].after,S=N[h._USER_TYPE].before,I.model.set("emailHeaderComponent.readOnlyEvent",h.siteMode.isModeEnabled("readOnly")||t||h.siteMode.isModeEnabled("ecdStandIn")),I.model.set("emailHeaderComponent.$caasReadOnly",t),I.model.set("emailComponent.readOnlyEvent",h.siteMode.isModeEnabled("readOnly")||t||h.siteMode.isModeEnabled("ecdStandIn")),I.model.set("emailComponent.caasChallenge",h.fastCaasEnabled),h.area.broadcast("myProfile:core:enaHeader"),h.user.profile.isJPOUser()&&!h.hybrid){var a=h.dcu.dynamicContent.get(I.components.phoneHeader,"authenticationResultAdvisory","CANCELLED");I.components.emailHeader.model.set("backupContent",a)}else I.components.emailHeader.model.set("backupContent",!1);return t&&I.components.email.model.set("$authenticationError",!0),I.model.set("emailHeaderComponent.pageLoading",!0),I.model.set("emailComponent.showLoader",!0),I.list().then((function(){s.logLeaveAction("$$Profile_Details"),I.model.set("emailHeaderComponent.pageLoading",!1),I.model.set("emailComponent.showLoader",!1)})),i}},I.list=function(e){h.fastCaasEnabled&&I.setRetryProps("list",[e]);var t={runValidation:h.fastCaasEnabled};return I.model.set("emailHeaderComponent.pageLoading",!0),I.model.set("emailComponent.showLoader",!0),h.hybrid&&!h.fromPaperless&&(h.fromPaperless="true"===h.state().action.params.fromPaperless),t=S(t),h.services.email["myProfile.email.list.svc"](t).then((function(t){const i=I.dataTransform.transformEmailListService(t);return!1===t.groupsAvailable&&(I.model.update("emailHeaderComponent",{pageLoading:!1,showLoader:!1,myProfileEmailAddressErrorHeader:null,myProfileEmailAddressErrorAdvisory:null,noEmailAddressAvailableMessage:null}),h.elementObserver.isInsertedPromise(".section-title").then((function(){C.focusOnEmailHeader()}))),v._currentTarget=null,I.model.set("emailComponent.caasChallenge",!1),I._insertEmailComponents(i,e,T)}),(function(e){if(!e.status||"caasChallenge"!==e.status)return I.excf(e);h.area.spinnerManager.showSpinner()}))},I._insertEmailComponents=function(t,n,r){t.emailComponent.showEmailMarketingPreferences=-1===O.indexOf(e.getData("segment")),I.model.update("emailHeaderComponent",t.emailHeaderComponent),I.model.update("emailComponent",t.emailComponent),n=n||{},t.hasRestrictedAcctWarning?(n={hasRestrictedAcctWarning:!0},I.model.set("emailHeaderComponent.myProfileEmailAddressErrorHeader",b.get(C,"myProfileEmailAddressErrorHeader.RESTRICTED_ACCOUNT")),I.model.set("emailHeaderComponent.myProfileEmailAddressErrorAdvisory",b.get(C,"myProfileEmailAddressErrorAdvisory.RESTRICTED_ACCOUNT"))):"SECONDARY"===i.get(t,"emailComponent.emailAddresses.0.emailAddressCategory")&&(I.model.set("emailHeaderComponent.noEmailAddressAvailableMessage",b.get(C,"noEmailAddressAvailableMessage.RESTRICTED_ACCOUNT")),I.model.set("emailHeaderComponent.noEmailAddressAvailableAdvisory",b.get(C,"noEmailAddressAvailableAdvisory.RESTRICTED_ACCOUNT")));var a=i.get(n,"emailData.emailAddress"),o=i.get(n,"emailData.serviceAdded"),s=I._alertsArePausedOnNewEmailAddress(a,t.emailComponent.emailAddresses);"ALERTS"===o&&s&&(n.isAlertsPaused=!0);var c=I.addEmailAdaDynamicValues("myProfileEmailAddress",I.components.email,t.emailComponent.emailAddresses);I.model.set("emailComponent.emailAddresses",c),I.model.set("emailComponent.groupId",t.emailComponent.groupId),I.model.set("emailComponent.cardOnlyContacts",t.emailComponent.cardOnlyContacts),I.model.set("emailHeaderComponent.addAllowed",t.emailHeaderComponent.addAllowed),I.model.set("emailHeaderComponent.messageInfo",n),void 0!==r&&r(t),I._userHasEmailAddress(t)?n&&(I.model.set("emailHeaderComponent.noEmailAddressAvailableMessage",null),I.model.set("emailHeaderComponent.noEmailAddressAvailableAdvisory",null)):(I.model.set("emailHeaderComponent.noEmailAddressAvailableMessage",b.get(C,"noEmailAddressAvailableMessage.NOT_AVAILABLE")),I.model.set("emailHeaderComponent.noEmailAddressAvailableAdvisory",b.get(C,"noEmailAddressAvailableMessage.NOT_AVAILABLE"))),I._useEmailServiceResponseDataToMakeMiscellaneousModificationsThatAreRequiredBecauseWeNavigatedHereFromThePaperlessPage(t),I._doTheMiscellaneousModificationsThatWeDoWhenWeKnowOurPreviousPageAndWeHaveAPrimaryEmailAddress(t),n&&!t.hasRestrictedAcctWarning&&I.updateDynamicSettingsForMessageInfo(n),void 0===n.operation&&h.area.broadcast("renderMyProfileMenuMobile"),h.broadcast("hideWarningModal"),I.model.set("emailHeaderComponent.pageLoading",!1),I.model.set("emailComponent.showLoader",!1),h.elementObserver.isInserted(".section-title",(function(){C.focusOnEmailHeader()}))},I._talkAboutHybridBackButton=function(){var e={showHamburgerMenu:!1,showCancel:!1,showBackArrow:!0,isUsingAppkitJsBridge:!0,pageTitle:I.getHeaderContent()},t=function(){return h.application.broadcast("makeNavigation",{navKey:"manageMyPaperlessPreferencesAreaBlock"}),!1},i={isHybridBackButtonRequired:t};D.updateNativeNavigationBar(e),D.setShouldNativeHandleButtonPressedCallBack((function(e){"BACK"===e&&t()}),i)},I._setOriginForEditPrimary=function(e){I._origin=e,h.hybrid||h.state(h.emailRoutes.selectMyEmailDetails)},I._unsetFromPaperless=function(){h.fromPaperless=!1},I._alertsArePausedOnNewEmailAddress=function(e,t){if(!t)return!1;for(var n=0;n<t.length;n++){var r=t[n];if(r.emailAddress===e){var a=r.serviceDictionary||{};if("SUSPENDED"===i.get(a,"ALERTS.serviceStatusCode"))return!0}}return!1},I._unsetHeaderErrors=function(){I.model.set("emailHeaderComponent.myProfileEmailAddressErrorHeader",null),I.model.set("emailHeaderComponent.myProfileEmailAddressErrorAdvisory",null)},I.updateDynamicSettingsForMessageInfo=function(e){if(!e.override){if(I._unsetHeaderContent(),e.serviceError)return b.set(C,"myProfileEmailAddressErrorHeader",e.serviceError,e.props||{}),void b.set(C,"myProfileEmailAddressErrorAdvisory",e.serviceError,e.props||{});var t={EMAIL_DELETED:I._updateContentEmailDeleted,VERIFY_QUICKPAY:I._updateContentVerifyQP,SERVICE_REMOVED:I._updateContentServiceRM,SERVICE_ADDED:I._updateContentServiceAdded,EMAIL_ADDED:I._updateContentEmailAdded,ACCOUNT_UPDATED:I._updateContentAcctUpdated,EDIT_EMAIL_QUICKPAY:I._updateContentEditEmQP,ADD_EMAIL_QUICKPAY:I._updateContentAddEmQP}[e.operation];return t?t(e):void 0}e.statusCodes&&I.setPartnerInfo(e.operation,e.statusCodes)},I.setPartnerInfo=function(e){var t=e.mode,i=e.statusCodes;I.plm.setPartnerInfo(C,t,i);var n=C.model.get(I.C.CONFIRMATION_ADVISORY_KEY);n&&""!==n||C.model.set(I.C.CONFIRMATION_ADVISORY_KEY," ")},I._unsetHeaderContent=function(){I._unsetHeaderErrors(),I.model.set("emailHeaderComponent."+I.C.CONFIRMATION_HEADER_KEY,null),I.model.set("emailHeaderComponent."+I.C.CONFIRMATION_ADVISORY_KEY,null)},I.excf=function(e){e.stack&&t.error("email list service fail",e.stack),I._insertEmailComponents({emailComponent:{},emailHeaderComponent:{}},{type:"error",serviceError:"SYSTEM_FAILURE"},T),I.model.set("emailComponent.emailAddresses",{}),c.setFocus("#inner-email-header-alert")},I.updateAddAccounts=function(e,t){var i,n,r="emailEnaUpdate",a=h.scdEnabled;"ACCOUNTS_ADD_ALLOWED"!==e.dialogData.accountsServiceStatus&&e.dialogData.enaUpdateAllowed||(r="emailEnaAdd",e.postData.emailAddress=e.dialogData.updatedEmail,a&&(r="emailEnaAddScd",h.setRetryProps("scdEnaAdd",[e,t]))),I._clearServiceErrors(),i=function(i){h.updateNativeButtonForEmailDetailsOnHybridXs(),I.updateEmailStateForAddAccounts(e,t,i.statusCodes),a&&h.setRetryProps(null,[])},n=function(t){if("caasChallenge"!==t.status){if(a&&h.setRetryProps(null,[]),e.dialogData.deletedEmailAddress)return void h.broadcast("showWarningModalServerError");[I.components.emailUpdateConfirmation,I.components.emailDeleteConfirmation,I.components.email].forEach((function(e){e.triggerGenericServiceError&&e.triggerGenericServiceError()}))}},I.emailService(r,e.postData).then(i,n)},I.updateEmailStateForAddAccounts=function(e,t,i){var n="UPDATED_EMAIL_ADDRESS",r={newEmailAddress:e.dialogData.updatedEmail,oldPrimaryEmailAddress:e.dialogData.oldPrimaryEmail};"UPDATED_SECONDARY_AND_DELETED_SECONDARY"!==e.dialogData.updateType&&"UPDATED_PRIMARY_AND_DELETED_SECONDARY"!==e.dialogData.updateType||(r.emailAddress=e.dialogData.deletedEmailAddress,n=e.dialogData.updateType),I.components.email.model.set("_cachedAddAccountsFormData",void 0),I.cleanEmailAddressModel(),I.list({type:"success",operation:"ACCOUNT_UPDATED",statusCodes:i,content:{headerVariation:"UPDATED_EMAIL_ADDRESS",advisoryVariation:n,data:r}}),h.state(h.emailRoutes.confirmAddAccountsToEmailAddress)},I.cleanEmailAddressModel=function(){I.model.modify("emailComponent.emailAddresses",(function(e){return(e=e.slice()).forEach((function(e){e.accountEdit&&(delete e.accountEdit,delete e.addAccounts,delete e.isPrimary)})),e}))},I.confirmEmailAddressUpdate=function(e){I.updateAddAccounts(e,!0)},I.showConfirmationDialog=function(e){var t=I.components.emailUpdateConfirmation,i={modalId:"confirmation-modal",cssClass:"delete-confirmation",positionTarget:h.renderTarget.target},n={newEmailAddress:e.dialogData.updatedEmail,emailAddress:e.dialogData.oldPrimaryEmail};b.set(t,"updateEmailAddressHeader",n),b.set(t,"updateEmailAddressAdvisory","MAKE_EMAIL_PRIMARY",n),c.showModalDialog({modalOptions:i,component:t,componentViewPath:"emailUpdateConfirmation"})},I.updateEmailAddAccounts=function(e){var t,i,n,r,a;t=I.dataTransform.transformAddAccountFormData(e),i=I.model.get("emailComponent.groupId"),n=(r=I.model.get("emailComponent.emailAddresses")[0]).emailAddress,a=r.associatedAccounts.length>0&&-1===r.associatedAccounts[0].id,t.postData.groupId=i,t.dialogData.oldPrimaryEmail=n,e.context&&e.context.deletedEmailAddress&&(t.dialogData.deletedEmailAddress=e.context.deletedEmailAddress),"updateConfirmedAccountsToEmail"===e.type&&(t.dialogData.updateType="UPDATED_SECONDARY_AND_DELETED_SECONDARY",t.postData.primary&&(t.dialogData.updateType="UPDATED_PRIMARY_AND_DELETED_SECONDARY")),I.components.emailUpdateConfirmation.model.set("data",t),"PRIMARY"!==t.dialogData.emailAddressCategory&&t.postData.primary&&t.dialogData.allAccountsSelected&&!a&&"ACCOUNT"===r.entityType?I.showConfirmationDialog(t):I.updateAddAccounts(t)},I.emailService=function(e,t){var i,n=m.serviceCalls;return t.groupId=I.model.get("emailComponent.groupId"),n[e]&&(i=h.services.email[n[e]](t)),h.emit(e,{promise:i}),i},I.updateEmailStateForAddOnlineSecurity=function(e){var t=I.C.CONFIRMATION_HEADER_KEY,i=I.C.CONFIRMATION_ADVISORY_KEY;b.set(C,t,e),b.set(C,i,"ADDED_ONLINE_SECURITY_TO_EMAIL_ADDRESS"),I.hideAddOnlineSecurityServiceConfirmation(),I.list(e.messageInfo),h.state(h.emailRoutes.confirmAddOnlineSecurityToEmailAddress)},I.hideAddOnlineSecurityServiceConfirmation=function(){c.hideModalDialog({})},I.showAddOnlineSecurityServiceConfirmation=function(e){var t=I.components.addOnlineSecurityServiceConfirmation,i=v._getEmailDataFromDataPath(e.dataPath),n=i.emailAddress;b.set(t,"onlineSecurityAdvisory","EMAIL_ADDRESS",{emailAddress:n});var r=I.dataTransform.extendAddOnlineSecurityServiceConfirmationData(i);return r.type="email",t.model.update(r),[t,"addOnlineSecurityServiceConfirmation",{target:"body",append:!0}]},I.showRemoveServiceFromEmailConfirmation=function(e){var t=I.components.removeServiceFromEmailAddressConfirmation,i=v._getServiceEmailDataFromDataPath(e.serviceDataPath);t.model.update(i);var n,r="removeServiceFromEmailAddressConfirmationHeader",a="removeServiceFromEmailAddressConfirmationAdvisory",o="removeServiceFromEmailAddressLabel",s="doNotRemoveServiceFromEmailAddressLabel";return i.isDelete?(n="REMOVED_SERVICE_AND_DELETE_EMAIL_ADDRESS",b.set(t,r,n,i),b.set(t,a,n,i),b.set(t,o,n,i),b.set(t,s,n,i)):(n="REMOVE_SERVICE",b.set(t,r,i.serviceCode,i),b.set(t,a,i.serviceCode,i),b.set(t,o,n,i),b.set(t,s,n,i)),[t,"removeServiceFromEmailAddressConfirmation",{target:"body",append:!0}]},I.showEmailDeleteConfirmation=function(e){var t=I.components.emailDeleteConfirmation;if(!I.registry.hasComponent("email"))return h.state(h.emailRoutes.selectMyEmailDetails);if(!e.deletedEmailAddress&&!e.isWarningModal){var i=v._getDeleteEmailDataFromDataPath(e.dataPath);i.deletedEmailAddress=e.deletedEmailAddress,i.isWarningModal=e.isWarningModal,t.model.update(i)}return e.isWarningModal?t._updateDynamicSettingsForWarningModalDialog(e):t._updateDynamicSettings(),[t,"emailDeleteConfirmation",{target:h.renderTarget.target,append:!0}]},I.showVerifyQuickPayConfirmationForEmail=function(e){var t=I.components.verifyQuickpayConfirmation;i.update(t.model,{emailAddress:null,contactId:null,context:null}),i.update(t.model,{emailAddress:e.emailAddress,contactId:e.contactId,context:e.context});var n=t.model.get();return b.set(t,"verifyQuickpayHeader","EMAIL_ADDRESS",n),b.set(t,"verifyQuickpayAdvisory","INITIAL_CODE_FOR_EMAIL",n),b.set(t,"verifyQuickpayMessage"),t.model.set("verifyQuickpayConfirmationErrorHeader",null),t.model.set("verifyQuickpayConfirmationErrorAdvisory",null),[t,"verifyQuickpayConfirmationForEmail",{target:"body",append:!0}]},I.showAddQuickPayConfirmationForEmail=function(e){var t=I.components.addQuickpayConfirmation;i.update(t.model,{emailAddress:null,context:null}),i.update(t.model,{emailAddress:e.emailAddress,context:e.context});var n=t.model.get();return b.set(t,"addQuickpayMessage","EMAIL_ADDRESS",n),[t,"addQuickpayConfirmation",{target:"body",append:!0}]},I._clearServiceErrors=function(){C.clearGenericServiceError(),v.clearGenericServiceError()},I.hideConfirmationModalDialog=function(){c.hideModalDialog({})},I._updateContentEmailDeleted=function(e){if("success"===e.type)return b.set(C,I.C.CONFIRMATION_HEADER_KEY,"DELETED_EMAIL_ADDRESS",{emailAddress:e.emailData.emailAddress}),void(e.deleteAssociatedCardAccounts&&b.set(C,I.C.CONFIRMATION_ADVISORY_KEY,"DELETED_EMAIL_ADDRESS_AND_ASSOCIATE_ACCOUNTS",{emailAddress:e.emailData.emailAddress}));var t,i,n,r,a,o,s;a=e.emailData.successServices||[],o=e.emailData.failedServices||[],s={},e.emailData&&e.emailData.ineligibleServices&&e.emailData.ineligibleServices.forEach((function(e){s[e]=!0})),t="REMOVE_EMAIL_ADDRESS_FAILURE",i={emailAddress:e.emailData.emailAddress},n="REMOVE_EMAIL_ADDRESS_FAILURE",r={emailAddress:e.emailData.emailAddress};var c=a.length>0,l=0===o.length,d=c&&l,u=s.ACCOUNTS,p=s.QUICKPAY,m=s.ACCOUNTS&&s.QUICKPAY;d&&m?(t="REMOVE_EMAIL_ADDRESS_ENA_AND_QUICKPAY_FAILURE",n="REMOVE_EMAIL_ADDRESS_ENA_AND_QUICKPAY_FAILURE"):d&&u?(t="REMOVE_EMAIL_ADDRESS_ENA_FAILURE",n="REMOVE_EMAIL_ADDRESS_ENA_FAILURE"):d&&p&&(t="REMOVE_EMAIL_ADDRESS_QUICKPAY_FAILURE",n="REMOVE_EMAIL_ADDRESS_QUICKPAY_FAILURE"),b.set(C,"myProfileEmailAddressErrorHeader",t,i),b.set(C,"myProfileEmailAddressErrorAdvisory",n,r)},I._updateContentVerifyQP=function(e){"success"===e.type&&(b.set(C,I.C.CONFIRMATION_HEADER_KEY,"VERIFIED_EMAIL_ADDRESS",{newEmailAddress:e.emailData.emailAddress}),I.model.set("emailHeaderComponent."+I.C.CONFIRMATION_ADVISORY_KEY,""))},I._updateContentServiceRM=function(e){var t,i={emailAddress:e.emailData.emailAddress};t=e.emailData.isDelete?"DELETED_EMAIL_ADDRESS":{ONLINE_SECURITY:"REMOVED_ONLINE_SECURITY_FROM_EMAIL_ADDRESS",QUICKPAY:"REMOVED_QUICKPAY_FROM_EMAIL_ADDRESS",ALERTS:"REMOVED_ALERTS_FROM_EMAIL_ADDRESS"}[e.emailData.serviceCode],b.set(C,I.C.CONFIRMATION_HEADER_KEY,t,i),b.set(C,I.C.CONFIRMATION_ADVISORY_KEY)},I._updateContentServiceAdded=function(e){var t={newEmailAddress:e.emailData.emailAddress},i={ALERTS:"UPDATED_EMAIL_ADDRESS_FOR_ALERTS",ONLINE_SECURITY:"ADDED_ONLINE_SECURITY_TO_EMAIL_ADDRESS"}[e.emailData.serviceAdded];b.set(C,I.C.CONFIRMATION_HEADER_KEY,"UPDATED_EMAIL_ADDRESS",t),b.set(C,I.C.CONFIRMATION_ADVISORY_KEY,i,t)},I._updateContentEmailAdded=function(e){var t=I.C.CONFIRMATION_HEADER_KEY,i=I.C.CONFIRMATION_ADVISORY_KEY,n={deletedEmailAddress:e.deletedEmailAddress},r={newEmailAddress:e.emailData.emailAddress};b.set(C,t,"ADDED_EMAIL_ADDRESS",r);var a={ONLINE_SECURITY:function(){b.set(C,i,"ADDED_EMAIL_ADDRESS_MFA_ONLY")},ACCOUNTS:function(){b.set(C,i,"ADDED_EMAIL_ADDRESS_ENA_ONLY",n),I.setPartnerInfo({mode:"ADD",statusCodes:e.statusCodes})},ALERTS:function(){e.isAlertsPaused?b.set(C,i,"ADDED_EMAIL_ADDRESS_PAUSED_ALERTS"):b.set(C,i,"ADDED_EMAIL_ADDRESS_ALERTS_ONLY")}}[e.emailData.serviceAdded];a?a():I.model.set("emailHeaderComponent."+I.C.CONFIRMATION_ADVISORY_KEY,null)},I._updateContentAcctUpdated=function(e){b.set(C,I.C.CONFIRMATION_HEADER_KEY,e.content.headerVariation,e.content.data),b.set(C,I.C.CONFIRMATION_ADVISORY_KEY,e.content.advisoryVariation,e.content.data),I.setPartnerInfo({mode:"UPDATE",statusCodes:e.statusCodes})},I._updateContentEditEmQP=function(e){var t={newEmailAddress:e.newEmailAddress};b.set(C,I.C.CONFIRMATION_HEADER_KEY,"UPDATED_EMAIL_ADDRESS",t),b.set(C,I.C.CONFIRMATION_ADVISORY_KEY,"ADDED_UNVERIFIED_EMAIL_ADDRESS",t)},I._updateContentAddEmQP=function(e){var t={newEmailAddress:e.newEmailAddress};b.set(C,I.C.CONFIRMATION_HEADER_KEY,"ADDED_EMAIL_ADDRESS",t),b.set(C,I.C.CONFIRMATION_ADVISORY_KEY,"ADDED_UNVERIFIED_EMAIL_ADDRESS",t)},I.userTypeInterpreter=function(e,t){return void 0!==t?t:e.isSmallBusinessUser()?(I.userTypeInterpreter.isCBO=!0,"CBO_BUSINESS_USER"):e.isCommercialUser()?(I.userTypeInterpreter.isCBO=!0,"CBO_COMMERCIAL"):"CPO"},I._updateModelUserType=function(e){I.model.set("emailComponent.userType",e),I.model.set("emailHeaderComponent.userType",e),I.model.set("emailComponent.isCBO",I.userTypeInterpreter.isCBO),I.model.set("emailHeaderComponent.isCBO",I.userTypeInterpreter.isCBO)},I._disableAddExceedsMaxEmailLen=function(e){e.emailComponent.emailAddresses.length>=5&&I.model.set("emailHeaderComponent.addAllowed",!1)},I._cboCommercialAction=function(e){I._disableAddExceedsMaxEmailLen(e);var t=b.get(C,"emailAddressAdvisory.ONLINE_UPDATE_UNAVAILABLE");I.model.set("emailHeaderComponent.emailAddressAdvisoryVariation",t)},I._cboMultiEciAction=function(e){var t=e.accountCategories;Array.isArray(t)&&t.length>0&&I.model.set("emailHeaderComponent.accountCategories",e.accountCategories);var i=b.get(C,"emailAddressAdvisory.ONLINE_SERVICES_AVAILABLE");I.model.set("emailHeaderComponent.emailAddressAdvisoryVariation",i);var n=e.emailComponent.groupId;n&&(I.model.set("emailComponent.groupId",n),I.model.set("emailHeaderComponent.groupSelected",n),I.components.emailDeleteConfirmation.model.set("groupId",n),I.components.removeServiceFromEmailAddressConfirmation.model.set("groupId",n),I.components.addOnlineSecurityServiceConfirmation.model.set("groupId",n))},I._cpoAction=function(e){var t=e.accountCategories;Array.isArray(t)&&t.length>1&&(I.model.set("emailHeaderComponent.accountCategories",e.accountCategories),_="CBO_BUSINESS_USER",h._USER_TYPE=_,I._updateModelUserType(_),T=N[h._USER_TYPE].after,S=N[h._USER_TYPE].before,I._cboMultiEciAction(e))},I._cboCommercialList=function(e){var t={groupId:I.model.get("emailComponent.groupId")};return void 0!==e&&(e=i.merge(e,t)),e},I._cpoList=function(e){return e},I._cboMultiEciList=function(e){var t={groupId:I.model.get("emailComponent.groupId")};return void 0!==e&&(e=i.merge(e,t)),e},I._userHasEmailAddress=function(e){if(!e)return h.logger.error("_userHasEmailAddress: parameter required but not supplied"),!1;if(e.hasRestrictedAcctWarning)return!0;var t=h.util.object.get(e,"emailComponent.emailAddresses.length");return h.is.number(t)?Boolean(t):(h.logger.error("_userHasEmailAddress: emailAddresses array missing"),!1)},I.runInitialValidation=function(){var e=I?.components?.email||!1;e?e._setupInitialValidation():h.state(h.emailRoutes.selectMyEmailDetails)},I._useEmailServiceResponseDataToMakeMiscellaneousModificationsThatAreRequiredBecauseWeNavigatedHereFromThePaperlessPage=function(e){h.caasReadOnly?h.state(h.emailRoutes.selectMyEmailDetails):(I.runInitialValidation(),h.fromPaperless&&(I._talkAboutHybridBackButton(),I._setOriginForEditPrimary({type:"editPrimaryForPaperless"}),e.emailComponent.emailAddresses[0].isPrimary||I._unsetFromPaperless()))},I._doTheMiscellaneousModificationsThatWeDoWhenWeKnowOurPreviousPageAndWeHaveAPrimaryEmailAddress=function(e){if(h.caasReadOnly)h.state(h.emailRoutes.selectMyEmailDetails);else if(I.runInitialValidation(),I._origin&&e?.emailComponent?.emailAddresses?.[0].isPrimary){var t=v.model.get("emailAddresses.0");if(t.updateAllowed)I._unsetHeaderErrors(),h.broadcast("initUpdatePrimaryEmailAddress",{type:I._origin.type});else if("editPrimaryForPaperless"===I._origin.type){I.yesPrimaryNoUpdate&&(I._unsetFromPaperless(),I._talkAboutHybridBackButton()),I.yesPrimaryNoUpdate=!0;var i={serviceError:"UPDATE_EMAIL_ADDRESS_ENA_FAILURE",type:"PAPERLESS",props:{emailAddress:t.emailAddress}};I.model.set("emailHeaderComponent.messageInfo",i)}delete I._origin}},I.getHeaderContent=function(){return I.components.emailHeader.emailAddressHeader},I.setTgtData=function(e){I.Api.modal.setTgtData(e.data,!1)},I._setPrimaryEmailEdit=function(e){e.request&&I._setOriginForEditPrimary(e.request)},I._setEmailFlowMessage=function(e){I.list(e.messageInfo)},I._requestListByGroupId=function(e){return I.model.set("emailComponent.groupId",e.groupId),I.list().then((function(){}))},I.triggerCrossComponentEvent=function(e,t){I.components[e][t]()},I.showOverlay=function(e,t){t=t||I.components.email,f.showOverlay(t,e)},I.hideOverlay=function(e,t){f.hideOverlay(t,...e)},I.getModelProp=function(e,t){return I.components[e].model.get(t)},I.getComponent=function(e){return I.components[e]},I.dispatchMessage=function(e){P.set({component:I.components.emailHeader,setting:e.setting,variation:e.variation,autohide:"myProfile.email.list.svc",hideImmediately:!0})},I.registerDirtyForm=function(e){var t;t=e||I.components.email.model.get("whiteList"),h.bubble("dirtyRegister",{controller:I,compInstanceNames:["email"],target:"#my-profile-page-content",whiteList:t,routeBlackList:["/dashboard/profileArea/email/confirmAddEmailAddress","/dashboard/profileArea/email/confirmUpdateEmailAddress"]})},I.deregisterDirtyForm=function(){h.bubble("dirtyDeregister",{name:"email"})},I.setCaasRedContent=function(){h.area.spinnerManager.hideSpinner(),v._closeForms();var e=b.get(C,"authenticationResultErrorHeader.RISK_STATUS_RED"),t=b.get(C,"authenticationResultErrorAdvisory.RISK_STATUS_RED");C.model.set("caasErrorHeader",e),C.model.set("caasErrorAdvisory",t)},I.configureCaas=function(e){var t=m[e+"Config"],i=!1;A(I,{...t,exitFunction:function(n){if(h.area.spinnerManager.hideSpinner(),"fastCaas"!==e||i){if("scd"===e){var r=t.exitMapper[n];r&&I.components.email[r]&&I.components.email[r]()}}else h.hybrid?D&&D.onFinish():h.application.broadcast("makeNavigation",{navKey:"requestUserProfileAndSettings"})},successFunction:function(){if(I.model.set("emailComponent.caasChallenge",!1),h.updateNativeButtonsAndNavigation("email.emailDetails"),"fastCaas"===e)return h.state(h.emailRoutes.selectMyEmailDetails)},setLockedContent:function(){i=!0,h.area.spinnerManager.hideSpinner(),v._closeForms();var e=b.get(C,"authenticationResultErrorHeader.LOCKED"),t=b.get(C,"authenticationResultErrorAdvisory.LOCKED");C.model.set("caasErrorHeader",e),C.model.set("caasErrorAdvisory",t),h.setSCDLockedStatus(!0)}})},I.scdAdd=function(e){v._saveAddEmailData(e)},I.scdUpdate=function(e){v._callUpdateEmailService(e)},I.scdEnaAdd=function(e){I.updateAddAccounts(e)},I._configureCaasOrSCD=function(e){var t=Number(e),i=1===t,n=2===t,r=E.getFlagValueSync("cxoweb_profile_email_scd");r?(h.scdEnabled=r,I.configureCaas("scd")):i?h.caasReadOnly=!0:n&&(h.fastCaasEnabled=!0,I.configureCaas("fastCaas"))},I.addEmail=M,I.emailAccountAlerts=M,I.quickPay=M,I.verifyQuickpay=M,I.addOnlineSecurity=M}})),define("profileArea/personalDetails/email/lib/validator/emailAddressValidator",["appkit-utilities/validation/util","blue-app/validate/var/EMAIL_REGEX"],(function(e,t){"use strict";var i=function(e,t){return{isValid:e,errorType:e?"":t}};return{emailAddress:[function(t,n){var r=e.getProperty(t,n).length>0;return i(r,"MISSING_MANDATORY_DATA")},function(n,r){var a=e.getProperty(n,r),o=t.test(a)&&a.length<=64;return i(o,"INVALID_FORMAT")},function(t,n){var r=e.getProperty(t,n),a=!/^[0-9]{10,11}@.*/.test(r);return i(a,"EMAIL_ADDRESS_CANNOT_BE_PHONE_NUMBER")}],alertsDeliveryNickname:[function(t,n){var r=e.getProperty(t,n).length>0;return i(r,"MISSING_MANDATORY_DATA")},function(t,n){var r=e.getProperty(t,n),a=/^[0-9A-Za-z]*$/.test(r)&&r.length<=8;return i(a,"INVALID_FORMAT")}],requiredFields:["emailAddress","alertsDeliveryNickname"]}})),define("profileArea/personalDetails/email/lib/editFlow",["require","appkit-utilities/content/dcu","common/lib/fakeComponent"],(function(e){"use strict";var t=e("appkit-utilities/content/dcu").dynamicContent,i=e("common/lib/fakeComponent")("MY_PROFILE_EMAIL_ADDRESS"),n=function(e,t){return[e,"myProfileEmailAddressConfirmationHeader",{newEmailAddress:t.newEmailAddress},"UPDATED_EMAIL_ADDRESS"]},r=function(e,t,i,n){var r={emailAddress:t.emailAddress},a="QUICKPAY"===n[0];return[e,"myProfileEmailAddressConfirmationAdvisory",r,i.editPrimaryForAlerts?"UPDATED_EMAIL_ADDRESS_FOR_ALERTS":i.editPrimaryForPaperless?"UPDATED_EMAIL_ADDRESS_FOR_PAPERLESS":a?"USE_OLD_EMAIL_ADDRESS_FOR_QUICKPAY":i.isPrimary?"UPDATED_EMAIL_ADDRESS_REPLACES_PRIMARY":"UPDATED_SECONDARY_AND_DELETED_SECONDARY"]},a=function(e,t,i){return[e,"myProfileEmailAddressErrorHeader",{newEmailAddress:t.newEmailAddress,emailAddress:t.emailAddress},"ACCOUNTS"===i[0]?"ENA_UPDATE_FAILURE":"UPDATE_EMAIL_ADDRESS_ERROR"]},o=function(e,t,i){return[e,"myProfileEmailAddressErrorAdvisory",{newEmailAddress:t.newEmailAddress,emailAddress:t.emailAddress},"ACCOUNTS"===i[0]?"ENA_UPDATE_FAILURE":"UPDATE_EMAIL_ADDRESS_ERROR"]},s=function(e,n,r){var a,o=r[0],s=t.get(i,"serviceName."+o),c={newEmailAddress:n.newEmailAddress,emailAddress:n.emailAddress,serviceName:s};return"ACCOUNTS"===o?a="ENA_UPDATE_APPLICATION_FAILURE":"ONLINE_VERIFICATION"===o?(a="MFA_UPDATE_APPLICATION_FAILURE",c.serviceName=t.get(i,"serviceName.ONLINE_SECURITY")):a="ALERTS"===o?"ADD_ALERTS_TO_EMAIL_ADDRESS_FAILURE":"UPDATE_EMAIL_ADDRESS_ERROR",[e,"myProfileEmailAddressErrorHeader",c,a]},c=function(e,n,r){var a,o=r[0],s=t.get(i,"serviceName."+o),c={newEmailAddress:n.newEmailAddress,emailAddress:n.emailAddress,serviceName:s};return"ACCOUNTS"===o?a="ENA_UPDATE_APPLICATION_FAILURE":"ONLINE_VERIFICATION"===o?(a="MFA_UPDATE_APPLICATION_FAILURE",c.serviceName=t.get(i,"serviceName.ONLINE_SECURITY")):a="ALERTS"===o?"ADD_ALERTS_TO_EMAIL_ADDRESS_FAILURE":"UPDATE_EMAIL_ADDRESS_ERROR",[e,"myProfileEmailAddressErrorAdvisory",c,a]},l=function(e,t){return[e,"myProfileEmailAddressErrorHeader",{newEmailAddress:t.newEmailAddress,emailAddress:t.emailAddress},"SYSTEM_FAILURE"]},d=function(e,n){var r={newEmailAddress:n.newEmailAddress,emailAddress:n.emailAddress};if(n.failedServices&&n.failedServices.length>0){var a=n.failedServices[0];r.serviceName=t.get(i,"serviceName."+a)}return[e,"myProfileEmailAddressErrorAdvisory",r,"SYSTEM_FAILURE"]},u=function(e,t){return l(e,t)},p=function(e,t){return l(e,t)},m=function(e,t){return l(e,t)},f=function(e,t){return d(e,t)};return{setContentForEmailEdit:function(e){var i,A,g=e.res,E=e.emailComponent.context.getComponent("emailHeader"),y=e.flags,h=e.dataTokens,v=g.successServices||[],C=g.failedServices||[],_=g.ineligibleServices||[],S=v.length>0&&0===C.length&&0===_.length,T=v.length>0&&(C.length>0||_.length>0),N=v.length>0,I=C.length>0,b=1===C.length,D=C.length>1,O=_.length>0,P=1===_.length,L=_.length>1;S||N&&!I&&P&&"QUICKPAY"===_[0]?(i=n(E,h),A=r(E,h,y,_),g.statusCodes&&E.context.controller.emit("setPartnerInfo",{mode:"UPDATE",statusCodes:g.statusCodes})):T&&(!I&&P?(i=a(E,h,_),A=o(E,h,_)):!I&&L?(i=u(E,h),A=p(E,h)):!O&&b?(i=s(E,h,C),A=c(E,h,C)):!O&&D&&(i=m(E,h),A=f(E,h))),i&&A||(i=l(E,h),A=d(E,h)),t.set.apply(this,i),t.set.apply(this,A),I||E.context.controller.emit("setEmailFlowMessage",{messageInfo:{override:!I,operation:"ACCOUNT_UPDATED",editPrimaryForPaperless:e.flags.editPrimaryForPaperless}})}}})),define("profileArea/personalDetails/email/lib/messageUtil",["require","profileArea/personalDetails/email/lib/editFlow"],(function(e){"use strict";var t={},i={EDIT:e("profileArea/personalDetails/email/lib/editFlow").setContentForEmailEdit};return t.set=function(e,t){return i[e](t)},t})),define("profileArea/personalDetails/email/components/email",["common/utility/rapidash","common/lib/utility/serviceUtil","appkit-utilities/validation/componentValidate","appkit-utilities/validation/variations","profileArea/personalDetails/email/lib/validator/emailAddressValidator","profileArea/personalDetails/email/lib/constants","profileArea/sharedLib/genericServiceErrorEvent","profileArea/sharedLib/navigation/navigation","profileArea/personalDetails/email/services/emailDataTransform","blue/log","profileArea/sharedLib/modalController","profileArea/personalDetails/email/lib/messageUtil"],(function(e,t,i,n,r,a,o,s,c,l,d,u){"use strict";return function(p){var m,f=t.handleServiceErrorMixin,A=function(){},g=a.errorMapper,E=this,y=p.emailRoutes,h=0;E.onReady=function(){p.fromPaperless||p.updateNativeButtonsAndNavigation("email.emailDetails"),o.addTriggerGenericServiceError(E,"addEmailAddressErrorHeader","addEmailAddressErrorAdvisory"),E.output.emit("updateViewFromComponent",{value:"setupUserType",data:p.controller._USER_TYPE}),E.input.on("hideMotionComplete",(function(e){0===h?(h++,e&&e.onComplete&&E[e.onComplete]()):h=0}))},E.onInit=function(){m=p.dcu.dynamicContent,f(E,g),p.globalContentMixin.call(E,["importantAda","updatesContentBelowAda","waitAda","opensMenuAda","closesMenuAda","updatesContentBelowAda","gotoPreviousFieldAda"]),E.navigation=s,E.dataTransform=c(),E.logger=l("[component.myProfile.email]"),E.modalController=d,E.messageUtil=u,p.exitDialogUtil.setListeners(E),E.registerDirtyForm=p.registerDirtyForm,E.deregisterDirtyForm=p.deregisterDirtyForm,E.model.set("exitAdaUpdate",m.get(E,"exitAda.UPDATE")),p.on({setFocusOnEmail:function(){E.output.emit("trigger",{value:"setFocus",element:E._currentTarget}),E._currentTarget=null},updateConfirmedAccountsToEmail:function(e){E._updateConfirmedAccountsToEmail(e)},emailUpdateConfirmationComplete:function(e){E._callUpdateEmailService(e.data)},initUpdatePrimaryEmailAddress:function(e){E._initUpdatePrimaryEmailAddress(e.type)},addEmail:function(e){E.targetInterceptor("ADD_EMAIL",e)},updateNativeHeaderOnUpdateConfirmationBack:p.updateNativeButtonsAndNavigation,emailCloseFormAndUpdateNativeHeader:E.doNotUpdateEmailAddress,updateNativeHeaderButtons:E._updateNativeHeaderButtons}),E.excf=function(e){E.logger.error(e.stack)},E.output.on("ready",(function(){E.onReady(),p.application.emit("initSetHeader",{}),E.input.on("setHeader",(function(){p.application.emit("initSetHeader",{})}))}))},E.targetInterceptor=function(e,t){var i={ADD_EMAIL:E._addEmail,UPDATE:E.updateEmailAddress,DELETE:E.deleteEmailAddress,UPDATE_ACCOUNTS:E.addAccountsToEmailAddress,ADD_ONLINE_SECURITY:E.addOnlineSecurityToEmailAddress,ADD_ALERTS:E.addAlertsToEmailAddress,ADD_QUICKPAY:E.addQuickpayToEmailAddress,REMOVE_ONLINE_SECURITY:E.removeOnlineSecurityFromEmailAddress,REMOVE_QUICKPAY:E.removeQuickpayFromEmailAddress,ALERTS_SETTINGS:E.manageMyAlerts,QUICKPAY_SETTINGS:E.manageQuickpayPreferences,VERIFY_QUICKPAY:E.verifyEmailAddressForQuickpay,REMOVE_ALERTS:E.removeAlertsFromEmailAddress,MARKETING_SETTINGS:E.requestEmailMarketingPreferences};i[e]&&p.commonComponentsUtil.exitModalTargetDecorator.apply(E,[i[e],t])},E._setupInitialValidation=function(e,t){if(t)E.model.set("currentKeypath",t);else{var a=E.model.get("emailAddresses").length-1;E.model.set("currentKeypath","emailAddresses."+a)}var o={emailAddress:{isValid:!0,property:"emailAddress",errorMessage:""}};e&&(o.alertsDeliveryNickname={isValid:!0,property:"alertsDeliveryNickname",errorMessage:""}),E.model.set("v",o),E.output.emit("updateViewFromComponent",{value:"syncValidationObj",data:o}),p.variations=n,i.call(E,E.context,r);var s=["emailAddress"];e&&s.push("alertsDeliveryNickname"),E.model.set("whiteList",s)},E._setFormErrorHeader=function(e,t,i,n){if(E.clearGenericServiceError&&E.clearGenericServiceError(),t){var r=g[t];i=m.get(E,r.headerKey+"."+r.headerVariation),n=m.get(E,r.advisoryKey+"."+r.advisoryVariation)}var a=E.model.get(e);a.formValidatorError={title:i,message:n,additionalContent:null,display:!0},E.model.set(e,a)},E.resetAriaLiveOnError=function(){E.ariaLiveErrorText=""},E._isDuplicateEmail=function(e){for(var t,i=e.context.emailAddress,n=E.model.get("v"),r=e.dataPath,a=E.model.get("emailAddresses"),o=!1,s=0;s<a.length;s++)if((t=a[s].emailAddressHeader)&&t.toLowerCase().trim()===i.toLowerCase().trim()){E._setFormErrorHeader(r,"EMAIL_ADDRESS_ALREADY_EXISTS"),n.isFormValid=!1,E.model.set("v",n),E.output.emit("updateViewFromComponent",{value:"syncValidationObj",data:n}),o=!0;break}return o},E.editEmailInput=function(e){E.model.set("emailAddress",e.context.emailAddress),E.validateDataItem(e),E.output.emit("updateViewFromComponent",{value:"syncValidationObj",data:E.model.get("v")}),"blur"===e.domEvent.type&&E.updateAriaLiveOnError(e)},E.editNicknameInput=function(e){e.context.alertsDeliveryNickname=e.context.value,E.model.set("alertsDeliveryNickname",e.context.alertsDeliveryNickname),E.validateDataItem(e),E.output.emit("updateViewFromComponent",{value:"syncValidationObj",data:E.model.get("v")}),"blur"===e.domEvent.type&&E.updateAriaLiveOnError(e)},E.updateAriaLiveOnError=function(e){var t=e.domEvent.target;const i=t.label??"";E.ariaLiveErrorText=""!==t._errorMessage?`${E.gotoPreviousFieldAda+i}`:""},E.updateEmailAddressIntercept=function(e){E.targetInterceptor("UPDATE",e)},E.deleteEmailAddressIntercept=function(e){E.targetInterceptor("DELETE",e)},E.addAccountsToEmailAddressIntercept=function(e){E.targetInterceptor("UPDATE_ACCOUNTS",e)},E.addOnlineSecurityToEmailAddressIntercept=function(e){E.targetInterceptor("ADD_ONLINE_SECURITY",e)},E.addAlertsToEmailAddressIntercept=function(e){E.targetInterceptor("ADD_ALERTS",e)},E.addQuickpayToEmailAddressIntercept=function(e){E.targetInterceptor("ADD_QUICKPAY",e)},E.removeOnlineSecurityFromEmailAddressIntercept=function(e){E.targetInterceptor("REMOVE_ONLINE_SECURITY",e)},E.removeQuickpayFromEmailAddressIntercept=function(e){E.targetInterceptor("REMOVE_QUICKPAY",e)},E.manageMyAlertsIntercept=function(e){E.targetInterceptor("ALERTS_SETTINGS",e)},E.manageQuickpayPreferencesIntercept=function(e){E.targetInterceptor("QUICKPAY_SETTINGS",e)},E.verifyEmailAddressForQuickpayIntercept=function(e){E.targetInterceptor("VERIFY_QUICKPAY",e)},E.removeAlertsFromEmailAddressIntercept=function(e){E.targetInterceptor("REMOVE_ALERTS",e)},E.requestEmailMarketingPreferencesIntercept=function(e){E.targetInterceptor("MARKETING_SETTINGS",e)},E._clearServiceErrors=function(){p.controller.broadcast("clearHeaderMessagesEmail"),p.triggerCrossComponentEvent("emailHeader","clearGenericServiceError"),E.clearGenericServiceError()},E._addEmail=function(e){if(p.application.dirtyForm.dirtyCheckAll().isDirty){var t={executeAction:function(){E.deregisterDirtyForm(),E._addEmailCleanForm(e)}};p.profileUtil.showDirtyForm.call(E,t)}else E._addEmailCleanForm(e)},E._addEmailCleanForm=function(e){var t,i;E._clearServiceErrors(),t=function(t){var i=y.addEmailAddress;p.exitDialogUtil.setListeners(E),p.state(i),E._insertAddEmailAddress(t),p.updateNativeButtonsAndNavigation("email.addEmail"),E._setupInitialValidation(!1,e.dataPath),E.registerDirtyForm()},i=function(){E.logger.error("myProfile.email.addOptions.svc FAIL"),p._triggerCrossComponentEvent("emailHeader","triggerGenericServiceError")};var n={},r=p.controller._USER_TYPE;return"CBO_BUSINESS_USER"!==r&&"CBO_COMMERCIAL"!==r||(n={groupId:E.model.get("groupId")}),p.emailService("emailAddOptions",n).then(t,i).catch(E.excf)},E._initUpdatePrimaryEmailAddress=function(e){p.exitDialogUtil.setListeners(E),p.state(y.updateEmailAddress),E.model.set("emailAddresses.0.emailEdit",!0),E.model.set("emailAddresses.0."+e,!0)},E.updateEmailAddress=function(e){if(p.application.dirtyForm.dirtyCheckAll().isDirty){var t={executeAction:function(){E.deregisterDirtyForm(),E.updateEmailAddressCleanForm(e)}};p.profileUtil.showDirtyForm.call(E,t)}else E.deregisterDirtyForm(),E.updateEmailAddressCleanForm(e)},E.updateEmailAddressCleanForm=function(e){E.clearGenericServiceError(),E._closeForms(),p.state(y.updateEmailAddress),E._currentTarget="#"+e.context.id,e.dataPath=e.dataPath||e.context.dataPath,e.context=E.model.get(e.dataPath),E.model.set(e.dataPath+".emailEdit",!0),E.output.emit("trigger",{value:"setFocus",element:"#email-address-field-input-field"}),p.updateNativeButtonsAndNavigation("email.editEmail"),E._setupInitialValidation(!1,e.dataPath),E.registerDirtyForm()},E.screenTakeoverTeardown=function(){p.isXS&&document.querySelector("#profile-spinner-container").classList.remove("screen-takeover-hide")},E.confirmUpdateEmailAddress=function(e){E.screenTakeoverTeardown(),E.deregisterDirtyForm(),E.clearFormErrors&&E.clearFormErrors(e),E._isDuplicateEmail(e)||(p._unsetFromPaperless(),E._currentTarget="#saveAddressButton",E._clearServiceErrors(),E._dispatch(e,"updateConfirmation"))},E._displayError=function(e){if((e=e||{}).field){var t=E.model.get("currentKeypath");if(E._setFormErrorHeader(t,null,e.errorHeader,e.errorAdvisory),"emailAddresses.alertsDeliveryNickname"===e.field){var i=E.model.get("v");i.alertsDeliveryNickname.isValid=!1,i.alertsDeliveryNickname.errorType="ALREADY_EXISTS",i.alertsDeliveryNickname.errorMessage=m.get(E,"alertsDeliveryNicknameError.ALREADY_EXISTS"),i.isFormValid=!1,E.model.set("v",i),E.output.emit("updateViewFromComponent",{value:"syncValidationObj",data:i})}}else E.triggerGenericServiceError(e.errorHeader,e.errorAdvisory)},E._onlyHasQuickpayIneligible=function(e){var t=e.successServices||[],i=e.failedServices||[],n=e.ineligibleServices||[],r=t.length>0&&0===i.length&&0===n.length,a=t.length>0,o=i.length>0,s=1===n.length;return!!(r||a&&!o&&s&&"QUICKPAY"===n[0])},E._callUpdateEmailService=function(e){var t="emailUpdate",i=e.context.emailAddressHeader,n=e.context.emailAddress,r=e.context.editPrimaryForAlerts,a=e.context.editPrimaryForPaperless,o=e.context.isPrimary,s={emailAddress:e.context.emailAddress.trim(),id:e.context.id};p.scdEnabled&&(t="emailUpdateScd",p.setRetryProps("scdUpdate",[e]),s.existingEmailAddress=i,s=E.dataTransform.transformEmailUpdateBeforeRequestSCD(s)),p.controller._USER_TYPE&&(s.groupId=E.model.get("groupId"));var c=function(){e.isModalDisplayed&&E.modalController.close(),E.submissionLoader=!1},l=function(){p.isXS?p.updateNativeButtonsAndNavigation("email.editEmail"):p.updateNativeButtonsAndNavigation("email.emailDetails")};return p.emailService(t,s).then((function(e){if(p.scdEnabled&&p.setRetryProps(null,[]),c(),E._onlyHasQuickpayIneligible(e)||!E.handleServiceError(e,["EMAIL_ADDRESS_ALREADY_EXISTS"],E._displayError)){var t={res:e,emailComponent:E,flags:{editPrimaryForAlerts:r,editPrimaryForPaperless:a,isPrimary:o},dataTokens:{emailAddress:i,newEmailAddress:n,failedServices:e.failedServices||[]}};E.messageUtil.set("EDIT",t),p.state(y.confirmUpdateEmailAddress),p.updateNativeButtonsAndNavigation("email.emailDetails")}else l()}),(function(e){"caasChallenge"!==e.status&&(p.scdEnabled&&p.setRetryProps(null,[]),c(),l(),E.triggerGenericServiceError())}))},E.doNotUpdateEmailAddress=function(e){E.resetAriaLiveOnError(),E.deregisterDirtyForm(),p._unsetFromPaperless(),E.output.emit("trigger",{value:"clearValidation",data:""}),E._closeEmailAddressForm(),e?p.updateNativeButtonsAndNavigation("email.emailDetails"):p.updateNativeButtonForEmailDetailsOnHybridXs()},E.addAccountsToEmailAddress=function(e){if(p.application.dirtyForm.dirtyCheckAll().isDirty){var t={executeAction:function(){E.deregisterDirtyForm(),E.addAccountsToEmailAddressCleanForm(e)}};p.profileUtil.showDirtyForm.call(E,t)}else E.addAccountsToEmailAddressCleanForm(e)},E.addAccountsToEmailAddressCleanForm=function(e){var t,i;E._currentTarget="#"+e.context.id,e.dataPath=e.context.dataPath,e.context=E.model.get(e.dataPath);var n="emailEnaAddOptions";return"ACCOUNTS_UPDATE_ALLOWED"===e.context.accountsServiceStatus&&(n="emailEnaEditOptions"),E._clearServiceErrors(),t=function(t){p.updateNativeButtonsAndNavigation("email.addAccounts"),p.exitDialogUtil.setListeners(E),t.dataPath=e.dataPath,t.context=e.context,E._updateAccountsToEmail(t),E.output.emit("updateSkipSelector"),p.state(y.addAccountsToEmailAddress)},i=function(){p.triggerCrossComponentEvent("emailHeader","clearGenericServiceError")},p.emailService(n,{id:e.context.id}).then(t,i).catch(E.excf)},E.clearFormErrors=function(e){E.clearGenericServiceError&&E.clearGenericServiceError();var t=e.dataPath,i=E.model.get(t);E.model.set("emailInputSet",!0),i.formValidatorError&&(i.formValidatorError.display=!1,E.model.set(t,i))},E.updateCheckedValue=function(e){E.model.get("accountIdCheckboxes")[`accountIdChecked${e.context.id}`]!==e.context.checked?E.model.set("isAccountCheckboxDirty",!0):E.model.set("isAccountCheckboxDirty",!1)},E._updateAccountsToEmail=function(e){E._closeForms();var t=e.dataPath.split("."),i=E.dataTransform.transformEmailEligibleAccounts(e),n={accountIdCheckedisPrimary:e.context.isPrimary};i.addAccounts.forEach((function(e){var t=`accountIdChecked${e.id}`;n[t]=e.checked,-1===e.id&&(n.accountIdCheckedminusone=e.checked)})),E.model.lens("emailAddresses").modify((function(e){var r=e.slice(),a=r[t[1]];return a.isPrimary=!1,"PRIMARY"===a.emailAddressCategory&&(a.isPrimary=!0),a.addAccounts=i.addAccounts,a.accountEdit=!0,E.model.set("accountIdCheckboxes",n),E.model.set("isAccountCheckboxDirty",!1),E.registerDirtyForm(["isAccountCheckboxDirty"]),r}))},E.clearFormErrors=function(e){E.clearGenericServiceError&&E.clearGenericServiceError();var t=e.dataPath,i=E.model.get(t);i.formValidatorError&&(i.formValidatorError.display=!1,E.model.set(t,i))},E.confirmAddEmailAddress=function(e){var t;if(E.screenTakeoverTeardown(),e.context.eligibleAccounts?t=e.context.eligibleAccounts.filter((e=>e.checked)):e.context.addAccounts&&(t=e.context.addAccounts.filter((e=>e.checked&&!1===e.associated))),"ACCOUNTS"===e.context.serviceSelected&&!e.context.isPrimary&&0===t.length)return E.clearFormErrors&&E.clearFormErrors(e),void E._displayError({errorHeader:m.get(E,"addEmailAddressErrorHeader.NO_ACCOUNT_SELECTED"),errorAdvisory:" "});!!E.model.get("emailAddress")?!E._isDuplicateEmail(e)&&E._saveEmailAddressChanges(e):E._saveEmailAddressChanges(e)},E._saveEmailAddressChanges=function(e){E.deregisterDirtyForm();var t=e.dataPath.split(".")[1],i=E.model.get("emailAddresses."+t);if(i.accountEdit)E._updateEmailAddAccounts(e);else if(i.accountAlert)E.addAccountAlertsToEmailAddress(e,i);else{var n=E.dataTransform.transformAddEmailDataForPost(e.context),r=p.controller._USER_TYPE;"CBO_BUSINESS_USER"!==r&&"CBO_COMMERCIAL"!==r||(n.groupId=E.model.get("groupId")),"ACCOUNTS"===n.serviceSelected?E._verifyAddEmailData(e):E._saveAddEmailData(e),E._clearServiceErrors()}},E._saveAddEmailData=function(e){var t=E.dataTransform.transformAddEmailDataForPost(e.context),i=p.controller._USER_TYPE;"CBO_BUSINESS_USER"!==i&&"CBO_COMMERCIAL"!==i||(t.groupId=E.model.get("groupId"));var n=p.scdEnabled?"emailAddScd":"emailAdd";return p.scdEnabled&&p.setRetryProps("scdAdd",[e]),p.emailService(n,t).then((function(i){p.scdEnabled&&p.setRetryProps(null,[]);var n=a.handleCodes;if(!E.handleServiceError(i,n,E._displayError)){if("QUICKPAY"===t.serviceSelected){var r=p.state();return r.action.name="showVerifyQuickPayConfirmationForEmail",r.action.params={emailAddress:t.emailAddress,contactId:i.contactId,context:"add"},p.privateState(r)}t.serviceSelected="ONLINE_VERIFICATION"===t.serviceSelected?"ONLINE_SECURITY":t.serviceSelected;var o={type:"success",operation:"EMAIL_ADDED",statusCodes:i.statusCodes||[],emailData:{emailAddress:e.context.emailAddress,serviceAdded:t.serviceSelected}};return o.deletedEmailAddress=e.context.deletedEmailAddress||null,p.controller.broadcast("updateEmailList",{messageInfo:o}),p.state(y.confirmAddEmailAddress),p.updateNativeButtonForEmailDetailsOnHybridXs()}}),(function(t){"caasChallenge"!==t.status&&(p.scdEnabled&&p.setRetryProps(null,[]),E.clearFormErrors&&E.clearFormErrors(e),E.logger.error("myProfile.email.add.svc FAIL"),E.triggerGenericServiceError())})).catch(E.excf)},p.scdAdd=E._saveAddEmailData,E._verifyAddEmailData=function(e){E._doesCardAccountSelectedTriggerDelete(e)||E._saveAddEmailData(e)},E._updateEmailAddAccounts=function(e){E._doesCardAccountSelectedTriggerDelete(e)||E._updateConfirmedAccountsToEmail(e)},E._updateConfirmedAccountsToEmail=function(e){e.context.addAccounts?p.controller.emit("updateEmailAddAccounts",e):E._saveAddEmailData(e)},E._selectedCardAccounts=function(e){var t={};return e&&e.forEach((function(e){!0!==e.checked||e.associated||-1===e.id||(t[e.id]=!0)})),t},E._doesCardAccountSelectedTriggerDelete=function(e){var t=E.model.get("cardOnlyContacts");if(t){var i=e.context.addAccounts||e.context.eligibleAccounts,n=E._selectedCardAccounts(i),r=[];if(t.forEach((function(e){var t=!0;e.associatedAccounts.forEach((function(e){n[e]||(t=!1)})),t&&"ACCOUNT"===e.entityType&&r.push(e.emailAddress)})),r.length>0)return e.context.deletedEmailAddress=r.join(","),E.deleteEmailAddress(e,!0),!0}return!1},E.doNotAddEmailAddress=function(){E.resetAriaLiveOnError(),E.deregisterDirtyForm(),E.output.emit("trigger",{value:"clearValidation",data:""}),E._closeEmailAddressForm(),E.output.emit("setFocusOnAddButton"),p.updateNativeButtonForEmailDetailsOnHybridXs()},E._closeEmailAddressForm=function(){E._closeForms(),p.application.broadcast("setFocusOnEmail"),p.state(y.selectMyEmailDetails)},E.deleteEmailAddress=function(e,t){if(E._clearServiceErrors(),p.application.dirtyForm.dirtyCheckAll().isDirty){var i={executeAction:function(){E.deregisterDirtyForm(),E.deleteEmailAddressCleanForm(e,t)}};p.profileUtil.showDirtyForm.call(E,i)}else E.deleteEmailAddressCleanForm(e,t)},E.deleteEmailAddressCleanForm=function(e,t){E._closeForms(),E._currentTarget=e.domEvent.currentTarget,delete e.domEvent,E.model.set("_cachedAddAccountsFormData",e);var i=p.state();i.action.name="showEmailDeleteConfirmation",i.action.params={dataPath:e.dataPath,isWarningModal:t,deletedEmailAddress:e.context.deletedEmailAddress||""},p.privateState(i)},E.addOnlineSecurityToEmailAddress=function(e){E._closeForms(),E._currentTarget=document.querySelector("#"+e.context.id);var t=p.state();return t.action.name="showAddOnlineSecurityServiceConfirmation",t.action.params={dataPath:e.context.dataPath},p.privateState(t)},E.removeOnlineSecurityFromEmailAddress=function(e){E.removeServiceFromEmailConfirmation(e)},E.removeAlertsFromEmailAddress=function(e){E.removeServiceFromEmailConfirmation(e)},E.removeQuickpayFromEmailAddress=function(e){E.removeServiceFromEmailConfirmation(e)},E.removeServiceFromEmailConfirmation=function(e){E._closeForms(),E._currentTarget=document.querySelector("#"+e.context.id);var t=p.state();return t.action.name="showRemoveServiceFromEmailConfirmation",t.action.params={serviceDataPath:e.context.serviceDataPath},p.privateState(t)},E.addQuickpayToEmailAddress=function(e){E._closeForms(),E._currentTarget=document.querySelector("#"+e.context.id),e.dataPath=e.dataPath||e.context.dataPath,e.context=E.model.get(e.dataPath);var t=E._getEmailDataFromDataPath(e.dataPath),i=p.state();return i.action.name="showAddQuickPayConfirmationForEmail",i.action.params={emailAddress:t.emailAddress,context:"usefor"},p.privateState(i)},E._getEmailDataFromDataPath=function(e){var t="emailAddresses."+e.split(".")[1];return E.model.get(t)},E._getServiceEmailDataFromDataPath=function(e){var t=E._getEmailDataFromDataPath(e),i=E.model.get(e);return{serviceCode:i.serviceCode,serviceName:i.serviceName,removeId:t.id,emailAddress:t.emailAddress,isDelete:E._isEmailForDelete(t,i.serviceCode)}},E._getDeleteEmailDataFromDataPath=function(e){var t=E._getEmailDataFromDataPath(e);return{rawData:t,id:t.id,emailAddress:t.emailAddress,services:t.services.filter((function(e){return"ELIGIBLE"!==e.serviceStatusCode&&"MAX_LIMIT_REACHED"!==e.serviceStatusCode&&!0!==e.defaultContact})).map((function(e){return{serviceName:e.serviceName,serviceCode:e.serviceCode}})),accounts:t.associatedAccounts.map((function(e){return{nameAndMask:-1===e.id?e.nameAndMask.replace(/<br>/g,","):e.nameAndMask,accountId:e.id}}))}},E.manageMyAlerts=function(){E._closeForms(),p.state(E.navigation.getUrl.get("manageMyAlerts").url)},E.manageQuickpayPreferences=function(){E._closeForms(),p.state(p.dashboardSettings.quickPayEnrollmentUrl)},E.verifyEmailAddressForQuickpay=function(e){E._closeForms(),E._currentTarget=document.querySelector("#"+e.context.id);var t=e.context.serviceDataPath;e.context=E.model.get(e.context.dataPath);var i=E._getEmailDataFromDataPath(t),n=i.services.filter((function(e){return"QUICKPAY"===e.serviceCode}))[0],r=e.context.contactId||n.contactId;p.controller.broadcast("showVerifyQuickPayConfirmationForEmail",{emailAddress:i.emailAddress,contactId:r,context:"verify"})},E.confirmAddAlertsToEmailAddress=function(e){E._saveEmailAddressChanges(e)},E.doNotAddAlertsToEmailAddress=function(e){E._closeEmailAddressForm(e)},E._resetDirtyState=function(e){var t=E.model.get("currentKeypath"),i=E.model.get(t);i.emailAddress="",E.model.set(t,i),E.model.set("emailAddress",""),E.output.emit("revalidate",{data:{clearAll:!0,clearException:{"emailAddresses.emailAddress":!0}}}),E.clearFormErrors&&E.clearFormErrors(e),E.deregisterDirtyForm(),"ALERTS"===e.context.serviceSelected?(E._setupInitialValidation(!0,e.dataPath),E.registerDirtyForm()):(E._setupInitialValidation(!1,e.dataPath),E.registerDirtyForm())},E._insertAddEmailAddress=function(e){E._closeForms();var t,i=E.dataTransform.transformEmailForAddForm(E.dataTransform.transformEmailDataForForm(e));i.isPrimary=i.isPrimary||!1,t=E.model.get("emailAddresses")?E.model.get("emailAddresses").length:0,E.model.set("emailAddresses."+t,i)},E.addAlertsToEmailAddress=function(e){E._closeForms(),E._currentTarget="#"+e.context.id,e.dataPath=e.dataPath||e.context.dataPath;var t=e.dataPath.split(".")[1];E.model.lens("emailAddresses").modify((function(e){var i=(e=e.slice())[t];return i.accountAlert=!0,i.alertsDeliveryNickname="",i.emailFormatType="HTML",e})),p.exitDialogUtil.setListeners(E),E._setupInitialValidation(!0,e.dataPath),p.state(y.addAlertsToEmailAddress)},E.addAccountAlertsToEmailAddress=function(e,t){var i=t.emailAddress,n={emailAddress:i,contentType:t.emailFormatType,nickname:t.alertsDeliveryNickname},r={state:"emailAddressDetails",messageInfo:{type:"error",operation:"SERVICE_ADDED",emailData:{emailAddress:i,serviceAdded:"ALERTS"}}};E.clearGenericServiceError();return p.emailService("emailAlertsAdd",n).then((function(e){if(!E.handleServiceError(e,["ALERT_DUPLICATE_DEVICE_NICKNAME"],E._displayError)){if("ALERT_CUSTOMER_NOT_FOUND"===e.statusCode)return E.triggerGenericServiceError();r.messageInfo.type="success",p.state(y.confirmAddAlertsToEmailAddress),p.controller.emit("setEmailFlowMessage",r)}}),(function(){E.triggerGenericServiceError()}))},E._closeForms=function(){var e=E.model.get("emailAddresses"),t=E.model.get("currentKeypath");e&&0!==e.length&&("form"===e[e.length-1].mode&&e.pop(),e.forEach((function(e){e.emailEdit&&(e.emailAddress=e.emailAddressHeader,e.emailEdit=!1),e.accountEdit&&(e.accountEdit=!1),e.accountAlert&&(e.accountAlert=!1)})),t&&"string"==typeof t&&(E._clearFormErrorHeader(e,t),E.model.set("currentKeypath","")),E.model.set("emailAddresses",e),E.model.set("emailAddress",""))},E._clearFormErrorHeader=function(e,t){var i=parseInt(t.split(".")[1]);e.length!==i&&(e[i].formValidatorError={title:"",message:"",additionalContent:null,display:!1})},E._isEmailForDelete=function(e,t){return!e.associatedAccounts.length&&!e.services.filter((function(e){return"ELIGIBLE"!==e.serviceStatusCode&&e.serviceCode!==t})).length},E._dispatch=function(t,i){t.context=e.merge(E.model.get(),t.context),t.model=E.model,p.area.broadcast(i,{data:t})},E._handleSkiplinkPress=function(e){p.profileUtil.skipIfEnterSpaceOrClick(E,e,"skipBack")},E.requestEmailMarketingPreferences=function(e){var t=e.context.dataPath.split(".")[1];p.state(`${p.dashboardSettings.emailMarketingPreferencesUrl};emailId=${E.emailAddresses[t].id};grpId=${E.model.get("groupId")}`)},E._updateNativeHeaderButtons=function(e){p.updateNativeButtonsAndNavigation(e.showOverlay?"email.dirtyOverlay":"email.emailDetails")},E._doNotExit=function(){p.Api.modal.hideCancelConfirmationOverlay()},E.requestConfirmationMessageDetails=A,E.exitConfirmationMessageDetails=A,E.requestErrorMessageDetails=A,E.exitErrorMessageDetails=A,E.dismissTooltip=A,E.requestAlertsDeliveryNicknameHelpMessage=A,E.exitAlertsDeliveryNicknameHelpMessage=A,E.doNotDeleteEmailAddress=A,E.doNotAddQuickpay=A,E.skipBack=A,E.exitUseForAccountHelpMessage=A,E.requestUseForAccountHelpMessage=A,E.requestServiceOnlineVerification=A,E.manageAlertsServicePreferences=A,E.manageQuickpayServicePreferences=A,E.verifyEmailAddressForQuickpayService=A,E.requestLinkedAccountsAndServicesHelpMessage=A,E.exitLinkedAccountsAndServicesHelpMessage=A,E.requestAddAccountsToEmailAddressUnavailableHelpMessage=A,E.exitAddAccountsToEmailAddressUnavailableHelpMessage=A,E.requestPrimaryEmailAddressForQuickpayHelpMessage=A,E.exitPrimaryEmailAddressForQuickpayHelpMessage=A,E.requestUnavailableEmailAddressForOnlineSecurityHelpMessage=A,E.exitUnavailableEmailAddressForOnlineSecurityHelpMessage=A,E.requestUnavailableEmailAddressForAlertsHelpMessage=A,E.exitUnavailableEmailAddressForAlertsHelpMessage=A,E.requestUnavailableEmailAddressForQuickpayHelpMessage=A,E.exitUnavailableEmailAddressForQuickpayHelpMessage=A}})),define("profileArea/sharedLib/commonMethodsUtil",["require","profileArea/sharedLib/navigation/navigation","profileArea/sharedLib/profileUrls"],(function(e){"use strict";var t=e("profileArea/sharedLib/navigation/navigation"),i=e("profileArea/sharedLib/profileUrls");return{goToMyProfileURL:function(e,t,n){var r=e.context,a=i[t];n&&(a+=";params="+n),e.context.routeHistory.saveRoute("exitMyProfile"),r.state(a)},navigateOnMessageLinkClick:function(e,i){var n=i.domEvent.target,r=n.nodeName,a=n.attributes["data-attr"].value;if("A"===r){var o=a.split(".")[1],s=t.getUrl.get(o);e.state(s.url)}},isSpaceOrEnterKey:function(e){var t=e.keyCode||e.domEvent.keyCode;return 32===t||13===t},isMouseClick:function(e){return"click"===e.domEvent.type||"click"===e.type},isTouchStart:function(e){return"tap"===e.domEvent.type||"tap"===e.type},isMouseClickOrTouchStart:function(e){return this.isMouseClick(e)||this.isTouchStart(e)}}})),define("profileArea/personalDetails/email/components/emailHeader",["require","profileArea/sharedLib/navigation/navigation","profileArea/sharedLib/commonMethodsUtil","profileArea/sharedLib/profileMixin","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";return function(t){var i=e("profileArea/sharedLib/navigation/navigation"),n=e("profileArea/sharedLib/commonMethodsUtil"),r=e("profileArea/sharedLib/profileMixin"),a=function(){},o=0,s=this;s.onReady=function(){e("profileArea/sharedLib/genericServiceErrorEvent").addTriggerGenericServiceError(s,"myProfileEmailAddressErrorHeader","myProfileEmailAddressErrorAdvisory")},s.init=function(){t.scdLocked||s._clearMessages(),r.call(s),s.output.on("ready",s.onReady),s.deregisterDirtyForm=t.deregisterDirtyForm,t.on("updateEmailHeader",s._updateEmailHeader),t.on("clearHeaderMessagesEmail",s._clearMessages),t.on("clearEmailHeaderConfirmation",(function(){s.output.emit("clearEmailHeaderConfirmationFromView")})),t.on("setErrorFocusEmailHeader",(function(){s.output.emit("setErrorFocusEmailHeader")})),t.globalContentMixin.call(s,["updatesContentBelowAda","currentSelectionAda","endOfSelectionAda","opensMenuAda","closesMenuAda","updatesContentBelowAda","requestProfileSettingsMenuAda","importantAda","closeAda","pageLockdownHeader","pageLockdownAdvisory"]),t.setSCDLockedStatus(!1)},s._clearMessages=function(){s.messageInfo=null,s.myProfileEmailAddressErrorHeader=null,s.myProfileEmailAddressErrorAdvisory=null,s.myProfileEmailAddressConfirmationHeader=null,s.myProfileEmailAddressConfirmationAdvisory=null,s.caasErrorHeader=null,s.caasErrorAdvisory=null},s.addEmailAddress=function(e){(n.isSpaceOrEnterKey(e)||n.isMouseClickOrTouchStart(e))&&t.controller.broadcast("addEmail",e)},s.requestAccountCategory=function(e){s.deregisterDirtyForm();var i=e.domEvent.currentTarget||e.domEvent.target,n=function(){s.model.set("groupSelected",i.value),t.controller.emit("requestListByGroupId",{groupId:i.value})},r=function(){var e=this.model.get("accountCategories");e.forEach((function(e){delete e.selected})),e[o].selected=!0,s.model.set("accountCategories",e)}.bind(this);if(t.Api.modal.getIsDirty()){t.showOverlay(["exitConfirmationOverlay"]),t.Api.modal.setTgtData({action:function(){n(),o=i.selectedIndex},data:{}});var a={action:function(){t.state("#dashboard")},data:{}},c=t.Api.modal.getTgtData()||a;t.Api.modal.showCancelConfirmation("exit_confirmation","payments/shared/",{cancelFunction:function(){"function"==typeof c.action&&c.action(),t.Api.modal.resetCancelData()},doNotCancelFunction:function(){t.hideOverlay(["exitConfirmationOverlay","doNotExit"]),r(),s.output.emit("trigger",{value:"setDropdownSelected",selectedIndex:o})},elemToFocusAfterModalClose:"#select-account-categories-dropdown"},t.renderTarget.target)}else{n(),o=i.selectedIndex}},s.handleLinksInEmailAddressAdvisory=function(e){var i=e.domEvent.target.getAttribute("data-attr");"manageQuickpayPreferences"===i?t.state(t.constants.profileConstants.get("quickPayEnrollmentUrl")):"updateMyAlertsDeliverySettings"===i&&s.updateMyAlertsDeliverySettings()},s.manageQuickpayPreferences=function(e){var i=e.domEvent.target.getAttribute("data-attr");"manageQuickpayPreferences"===(i&&i.split(".")[1])&&t.state(t.dashboardSettings.quickPayEnrollmentUrl)},s.focusOnEmailHeader=function(){s.output.emit("state",{value:"focusOnEmailHeader"})},s._updateEmailHeader=function(e){s.output.emit("trigger",{value:"updateEmailHeader",messageInfo:e.messageInfo})},s.updateMyAlertsDeliverySettings=function(){t.state(t.profilesettings.alertsDeliveryUrl)},s.updateMyPaperlessPreferences=function(e){e.domEvent.preventDefault(),t.state(i.getUrl.get("updateMyPaperlessPreferences").url)},s.requestContactUs=function(e){n.navigateOnMessageLinkClick(t,e)},s.suspendMyAlertsDelivery=function(e){n.navigateOnMessageLinkClick(t,e)},s.requestAccountContactUs=function(){t.hybrid&&t.hybridHelper&&t.hybridHelper.webNativeMessenger?t.hybridHelper.webNativeMessenger.goToNativePage({navKey:"requestAccountContactUs"},"visitDirectory"):t.user.profile.isJPOUser()?t.state("#/dashboard/myAdvisoryTeam"):t.application.broadcast("makeNavigation",{navKey:"requestAccountContactUs"})},s.exitConfirmationMessageDetails=a,s.requestConfirmationMessageDetails=a,s.requestErrorMessageDetails=a,s.exitErrorMessageDetails=a,s.requestEmailMarketingPreferences=a}})),define("profileArea/personalDetails/email/components/addOnlineSecurityServiceConfirmation",["require","blue/root","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";var t=e("blue/root"),i=null,n=e("profileArea/sharedLib/genericServiceErrorEvent"),r=function(){};return function(e){var a=this;a.onInit=function(){i=e.dcu.dynamicContent,a.output.on("ready",(function(){n.addTriggerGenericServiceError(a,"addOnlineSecurityConfirmationErrorHeader","addOnlineSecurityConfirmationErrorAdvisory"),e.showOverlay(["addOnlineSecurityConfirmationOverlay"])}))},a.doNotUseEmailForOnlineSecurity=function(){e.hideOverlay(["addOnlineSecurityConfirmationOverlay","doNotUseEmailForOnlineSecurity"],a),a.destroyView(),e.area.broadcast("setFocusOnEmail")},a.useEmailForOnlineSecurity=function(){var t,i,n,r="emailAdd",o=a.model.get(),s={emailAddress:o.emailAddress},c="ONLINE_SECURITY";s.groupId=e.getModelProp("email","groupId"),o.serviceSelected?(s.serviceSelected=o.serviceSelected,t={type:"success",operation:"ADD",email:s.emailAddress,serviceAdded:c}):(r="emailUseForOIV",t={type:"success",operation:"SERVICE_ADDED",emailData:{emailAddress:s.emailAddress,serviceAdded:c}}),a.clearGenericServiceError(),i=function(){e.hideOverlay(["addOnlineSecurityConfirmationOverlay","doNotUseEmailForOnlineSecurity"],a),a._hidePhoneModal(),e.controller.emit("updateEmailStateForAddOnlineSecurity",{emailData:o,messageInfo:t})},n=function(){a.triggerGenericServiceError()},e.emailService(r,s).then(i,n).catch(a.exf)},a._showPhoneModal=function(){e.modalController.set(a._hidePhoneModal);var t=a.dataObject.dataPath,n=a.dataObject.context.phoneNumberDetails[t.split(".")[1]].formattedPhoneNumber;i.set(a,"onlineSecurityAdvisory","PHONE_NUMBER",{phoneNumber:n}),a.render({target:"body",append:!0})},a._hidePhoneModal=function(){t.scrollTo(0,0),a.destroyView()},a.confirmAddOnlineSecurityToEmailAddress=r,a.doNotAddOnlineSecurityToEmailAddress=r}})),define("profileArea/personalDetails/email/components/removeServiceFromEmailAddressConfirmation",["require","blue/root","blue/log","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";var t=e("blue/root"),i="removeServiceFromEmailAddressConfirmationOverlay";return function(n){var r=this;r.onInit=function(){r.logger=e("blue/log")("[myProfile.email]"),r.exf=function(e){r.logger.error(e.stack)}},r.onReady=function(){e("profileArea/sharedLib/genericServiceErrorEvent").addTriggerGenericServiceError(r,"removeServiceFromEmailAddressConfirmationErrorHeader","removeServiceFromEmailAddressConfirmationErrorAdvisory"),n.showOverlay(["removeServiceFromEmailAddressConfirmationOverlay"])},r.confirmRemoveOnlineSecurityFromEmailAddress=function(e){r._removeServiceFromEmailAddress("emailRemoveOIV",e)},r.doNotRemoveOnlineSecurityFromEmailAddress=function(){n.hideOverlay([i,"doNotRemoveOnlineSecurityFromEmailAddress"],r),n.area.broadcast("setFocusOnEmail"),r.destroyView(),n.triggerCrossComponentEvent("emailHeader","clearGenericServiceError")},r.confirmRemoveQuickpayFromEmailAddress=function(e){r._removeServiceFromEmailAddress("emailRemoveQP",e)},r.doNotRemoveQuickpayFromEmailAddress=function(){n.hideOverlay([i,"doNotRemoveQuickpayFromEmailAddress"],r),r.destroyView(),n.area.broadcast("setFocusOnEmail"),n.triggerCrossComponentEvent("emailHeader","clearGenericServiceError")},r.confirmRemoveAlertsFromEmailAddress=function(e){r._removeServiceFromEmailAddress("emailRemoveAlerts",e)},r.doNotRemoveAlertsFromEmailAddress=function(){n.hideOverlay([i,"doNotRemoveAlertsFromEmailAddress"],r),r.destroyView(),n.controller.broadcast("setFocusOnEmail"),n.triggerCrossComponentEvent("emailHeader","clearGenericServiceError")},r._removeServiceFromEmailAddress=function(e){var a,o;r.clearGenericServiceError();var s=r.model.get(),c={id:s.removeId,emailAddress:s.emailAddress};n.triggerCrossComponentEvent("emailHeader","clearGenericServiceError"),a=function(a){if("NOT_MAPPED"!==a.statusCode){n.controller.emit("updateEmailList",{messageInfo:{type:"success",operation:"SERVICE_REMOVED",emailData:{emailAddress:s.emailAddress,isDelete:s.isDelete,serviceCode:s.serviceCode}}});var o={emailRemoveOIV:"confirmRemoveOnlineSecurityFromEmailAddress",emailRemoveAlerts:"confirmRemoveAlertsFromEmailAddress",emailRemoveQP:"confirmRemoveQuickpayFromEmailAddress"};n.hideOverlay([i,o[e]],r),n.state(n.emailRoutes[o[e]]),r.destroyView(),t.scrollTo(0,0)}else r.triggerGenericServiceError()},o=function(){r.triggerGenericServiceError()};var l=n.controller._USER_TYPE;"CBO_BUSINESS_USER"!==l&&"CBO_COMMERCIAL"!==l||(c.groupId=r.model.get("groupId")),n.emailService(e,c).then(a,o).catch(this.excf)}}})),define("profileArea/personalDetails/email/components/emailUpdateConfirmation",["require","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";return function(t){var i=this;i.onInit=function(){var n=e("profileArea/sharedLib/genericServiceErrorEvent");i.output.on("ready",(function(){n.addTriggerGenericServiceError(i,"updateEmailAddressConfirmationErrorHeader","updateEmailAddressConfirmationErrorAdvisory")})),t.on("hideWarningModal",i._hideWarningModal)},i.confirmUpdateEmailAddress=function(){t.controller.broadcast("confirmEmailAddressUpdate",i.model.get("data"))},i.doNotUpdateEmailAddress=function(){i._hideWarningModal()},i._hideWarningModal=function(){t.commonComponentsUtil.hideModalDialog({}),i.destroy()}}})),define("profileArea/personalDetails/email/components/emailDeleteConfirmation",["require","common/utility/rapidash","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";var t,i=e("common/utility/rapidash"),n=e("profileArea/sharedLib/genericServiceErrorEvent"),r="deleteEmailAddressConfirmationOverlay";return function(e){var a=this;a.onInit=function(){t=e.dcu.dynamicContent,e.on("showWarningModalServerError",a._showWarningModalServerError),e.on("hideWarningModal",a._hideWarningModal)},a.onReady=function(){n.addTriggerGenericServiceError(a,"deleteEmailAddressConfirmationErrorHeader","deleteEmailAddressConfirmationErrorAdvisory"),e.updateNativeButtonsAndNavigation("email.deleteEmail"),e.showOverlay([r])},a.deleteEmailAddress=function(){var t,i,n=a.model.get();a.clearGenericServiceError(),t=function(t){var i=t.failedServices||[],o=t.successServices||[],s=i.length>0,c=0===o.length,l=s&&c,d=n.accounts.filter((function(e){return-1!==e.accountId})).length>0&&0===i.length&&1===o.length&&"ACCOUNTS"===o[0];l?a.triggerGenericServiceError():(t.emailAddress=n.emailAddress,e.controller.broadcast("updateEmailList",{messageInfo:{type:t.code.toLowerCase(),operation:"EMAIL_DELETED",emailData:t,deleteAssociatedCardAccounts:d}}),e.hideOverlay([r,"confirmDeleteEmailAddress"],a),e.state(e.emailRoutes.confirmDeleteEmailAddress),e.updateNativeButtonsAndNavigation("email.emailDetails"),a._hideWarningModal())},i=function(){a.triggerGenericServiceError()};var o={id:n.id},s=e.controller._USER_TYPE;"CBO_BUSINESS_USER"!==s&&"CBO_COMMERCIAL"!==s||(o.groupId=a.model.get("groupId")),e.emailService("emailDelete",o).then(t,i)},a.doNotDeleteEmailAddress=function(){e.hideOverlay([r,"doNotDeleteEmailAddress"],a),a.destroyView(),e.updateNativeButtonsAndNavigation("email.emailDetails"),e.area.broadcast("setFocusOnEmail")},a._updateDynamicSettings=function(){var e=a.model.get(),n=[],r=0;e.accounts.forEach((function(e){-1===e.accountId?e.nameAndMask.split(",").forEach((function(e){n.push({nameAndMask:e})})):n.push({nameAndMask:e.nameAndMask})})),r=n.length;var o=e.rawData.services.slice().filter((function(e){return!0===e.deleteAllowed}));a.model.set("updateMode",!1),t.set(a,"deleteEmailAddressHeader","DELETE",{emailAddress:e.emailAddress});var s,c={accountDisplayNames:(s=n,1===r?s[0].nameAndMask:i.toHtmlString(s.map((function(e){return e.nameAndMask})))),serviceNames:function(e){return 1===e.length?e[0].serviceName:i.toHtmlString(e.map((function(e){return e.serviceName})))}(o),emailAddress:e.emailAddress},l=a._getDeleteAdvisoryVariation(e);l?t.set(a,"deleteEmailAddressAdvisory",l,c):a.model.set("deleteEmailAddressAdvisory",null)},a._getDeleteAdvisoryVariation=function(e){var t=e.accounts,i=e.accounts.length;1===i&&-1===t[0].accountId&&(i=(t=t[0].nameAndMask.split(",").map((function(e){return{nameAndMask:e}}))).length);var n=e.services.length>0,r=1===e.services.length,a=e.services.length>1,o=i>0,s=1===i,c=i>1;function l(t){return!(o||!r)&&e.services[0].serviceCode===t}return s&&!n?"SINGLE_ACCOUNT_ONLY":c&&!n?"MULTIPLE_ACCOUNTS_ONLY":r&&s?"SINGLE_SERVICE_AND_SINGLE_ACCOUNT":r&&c?"SINGLE_SERVICE_AND_MULTIPLE_ACCOUNTS":a&&!o?"MULTIPLE_SERVICES_ONLY":a&&s?"SERVICES_AND_SINGLE_ACCOUNT":a&&c?"SERVICES_AND_MULTIPLE_ACCOUNTS":l("ONLINE_SECURITY")?"ONLINE_SECURITY_ONLY":l("QUICKPAY")?"QUICKPAY_ONLY":l("ALERTS")?"ACCOUNT_ALERTS_ONLY":void 0},a._updateDynamicSettingsForWarningModalDialog=function(n){a._cachedAddAccountsFormData=e.components.email.model.get("_cachedAddAccountsFormData"),a.model.update({emailAddress:n.deletedEmailAddress,isWarningModal:!!n.isWarningModal}),n.deletedEmailAddress.indexOf(",")>-1?(a.model.set("updateMode",!0),t.set(a,"deleteEmailAddressHeader","UPDATE",{emailAddress:n.emailAddress}),t.set(a,"deleteEmailAddressAdvisory","DELETE_MULTIPLE_EMAIL_ADDRESSES",{emailAddress:i.toHtmlString(n.deletedEmailAddress.split(",")),newEmailAddress:n.emailAddress})):(a.model.set("updateMode",!1),t.set(a,"deleteEmailAddressHeader","DELETE",{emailAddress:n.deletedEmailAddress}),t.set(a,"deleteEmailAddressAdvisory","DELETE_SECONDARY_EMAIL_ADDRESS",{emailAddress:n.deletedEmailAddress}))},a._hideWarningModal=function(){a.destroyView(),a.model.set("isWarningModal",!1),e.area.broadcast("setFocusOnEmail")},a.continueEmailUpdate=function(){a.clearGenericServiceError(),e.controller.broadcast("updateConfirmedAccountsToEmail",a._cachedAddAccountsFormData),a._hideWarningModal()},a.cancelEmailUpdate=function(){a.clearGenericServiceError(),a._hideWarningModal(),delete a._cachedAddAccountsFormData},a._showWarningModalServerError=function(){a.triggerGenericServiceError()}}})),define("profileArea/personalDetails/email/components/verifyQuickpayConfirmationForEmail",["require","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";var t,i="verifyQuickpayConfirmationOverlay";return function(n){var r=this;r.onReady=function(){e("profileArea/sharedLib/genericServiceErrorEvent").addTriggerGenericServiceError(r,"verifyQuickpayConfirmationErrorHeader","verifyQuickpayConfirmationErrorAdvisory"),n.showOverlay(["verifyQuickpayConfirmationOverlay"])},r.onInit=function(){t=n.dcu.dynamicContent,r.model.set("validationError",!1),r.model.set("serviceError",!1),r._clearHeaderMessages()},r.exitVerifyQuickpayConfirmation=function(){n.area.broadcast("setFocusOnEmail"),r._clearHeaderMessages();var e=r.model.get(),t=!1;if("verify"!==e.context){var a="EDIT_EMAIL_QUICKPAY";t="confirmAddQuickPayToEmailAddress","add"===e.context&&(a="ADD_EMAIL_QUICKPAY",t="confirmAddEmailAddress"),n.area.broadcast("updateEmailList",{messageInfo:{type:"success",operation:a,newEmailAddress:e.emailAddress}})}n.commonComponentsUtil.hideModalDialog(),n.hideOverlay([i,"exitVerifyQuickpayConfirmation"],r),t&&n.state(n.emailRoutes[t]),r.destroyView()},r.requestVerificationCode=function(){r.model.set("verifyQuickpayAdvisory",null),r.clearGenericServiceError(),r._clearHeaderMessages();var e=r.model.get();r.model.set("activationCode","");return n.emailService("qpResendCode",{contactId:e.contactId}).then((function(){t.set(r,"verifyQuickpayAdvisory","CODE_RESENT_FOR_EMAIL",{emailAddress:e.emailAddress}),r.output.emit("trigger",{value:"updateModel",propKey:"verifyQuickpayAdvisory",propValue:r.model.get("verifyQuickpayAdvisory")})}),(function(){r.triggerGenericServiceError()}))},r.requestVerifyActivationCode=function(){r.clearGenericServiceError();var e=r.model.get();r._clearHeaderMessages();n.emailService("qpVerifyCode",{contactId:e.contactId,verificationCode:e.activationCode}).then((function(e){var t=r.model.get(),a=!1;if(a="add"===t.context?"confirmAddEmailAddress":"confirmAddQuickPayToEmailAddress","VERIFIED"===e.quickPayContactVerificationStatus){n.hideOverlay([i,"requestVerifyActivationCode"],r),n.state(n.emailRoutes[a]),r.destroyView(),n.commonComponentsUtil.hideModalDialog();var o={type:"success",operation:"VERIFY_QUICKPAY",emailData:{emailAddress:t.emailAddress}};n.area.broadcast("updateEmailList",{messageInfo:o})}else r._setInvalidActivationCodeError()}),(function(){r.triggerGenericServiceError()}))},r._setInvalidActivationCodeError=function(){t.set(r,"verifyQuickpayConfirmationErrorHeader","INVALID_ACTIVATION_CODE"),t.set(r,"verifyQuickpayConfirmationErrorAdvisory","INVALID_ACTIVATION_CODE")},r._clearHeaderMessages=function(){r.model.set("verifyQuickpayConfirmationErrorHeader",null),r.model.set("verifyQuickpayConfirmationErrorAdvisory",null)},r._handleSkiplinkPress=function(e){n.profileUtil.skipIfEnterSpaceOrClick(r,e,"skipBack")},r.skipBack=function(){}}})),define("profileArea/personalDetails/email/components/addQuickpayConfirmation",["require","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";var t="addQuickpayConfirmationOverlay";return function(i){var n=this;n.onReady=function(){e("profileArea/sharedLib/genericServiceErrorEvent").addTriggerGenericServiceError(n,"addQuickpayConfirmationErrorHeader","addQuickpayConfirmationErrorAdvisory"),i.showOverlay(["addQuickpayConfirmationOverlay"])},n.onInit=function(){n.output.on("ready",n.onReady)},n._hideModal=function(){n.destroyView(),i.commonComponentsUtil.hideModalDialog({})},n.doNotAddQuickpay=function(){i.hideOverlay([t,"doNotAddQuickpay"],n),n._hideModal(),i.area.broadcast("setFocusOnEmail")},n.requestActivationCode=function(){var e,r,a,o=n.model.get();n.clearGenericServiceError(),i.controller.broadcast("updateEmailHeader",{messageInfo:null}),e=function(e){var r=e.statusCode,a="QUICKPAY_DUPLICATE_EMAIL_IN_CHASE",s={QP_DUPLICATE_EMAIL_CHASE:a,QP_DUPLICATE_EMAIL_CXC:a}[r];if(!r||s){if(i.hideOverlay([t,"requestActivationCode"],n),s)return i.area.broadcast("clearHeaderMessagesEmail"),i.dispatchMessage({setting:"myProfileEmailAddressErrorHeader",variation:s}),i.dispatchMessage({setting:"myProfileEmailAddressErrorAdvisory",variation:s}),n._hideModal(),void i.controller.broadcast("setErrorFocusEmailHeader");i.showVerifyQuickPayModal({emailAddress:o.emailAddress,contactId:e.contactId,context:o.context}),n.destroyView()}else n.triggerGenericServiceError()},r=function(){i.logger.error("myProfile.email.qp.add.svc FAIL"),n.triggerGenericServiceError()},a=function(e){i.logger.error("myProfile.phone.qp.add.svc fail",e.stack)},i.emailService("emailUseForQP",{emailAddress:o.emailAddress}).then(e,r).catch(a)}}})),define("profileArea/personalDetails/phone/component/phoneHeader",["require","appkit-utilities/rapidash/rapidash","profileArea/sharedLib/genericServiceErrorEvent","profileArea/sharedLib/profileMixin","profileArea/sharedLib/commonMethodsUtil"],(function(e){"use strict";var t,i=e("appkit-utilities/rapidash/rapidash"),n=e("profileArea/sharedLib/genericServiceErrorEvent"),r=0,a=e("profileArea/sharedLib/profileMixin"),o=function(){};return function(s){var c=this;c.onInit=function(){a.call(c),t=s.dcu.dynamicContent,c.commonMethodsUtil=e("profileArea/sharedLib/commonMethodsUtil"),c.model.modify((function(e){return i.forEach(e,(function(t,i){"Content"===i&&(e[t]="")})),e})),c._updateHeaderAdvisory(),s.globalContentMixin.call(c,["updatesContentBelowAda","currentSelectionAda","endOfSelectionAda","requestProfileSettingsMenuAda"]),n.addTriggerGenericServiceError(c,"myProfilePhoneNumberErrorHeader","myProfilePhoneNumberErrorAdvisory"),c.getComponent=s.getComponent,c.model.set("authenticationResultErrorHeader",null)},c._updateHeaderAdvisory=function(){c._variationMapper(c,"phoneNumberAdvisory",["ONLINE_UPDATE_UNAVAILABLE","ONLINE_SERVICES_AVAILABLE"])},c._variationMapper=function(e,i,n){var r=n.reduce((function(n,r){return n[r]=t.get(e,i,r),n}),{});e.model.set(i,r)},c.setHybridPhoneHeader=function(){c.output.emit("state",{value:"setHybridPhoneHeader"})},c.focusOnPhoneHeader=function(){c.output.emit("state",{value:"focusOnPhoneHeader"})},c.resetCaasErrorHeader=function(){c.model.set("authenticationResultErrorHeader",null)},c.addPhoneNumber=function(e){(c.commonMethodsUtil.isSpaceOrEnterKey(e)||c.commonMethodsUtil.isMouseClickOrTouchStart(e))&&s.controller.broadcast("addPhoneNumber",e)},c.requestAccountCategory=function(e){var t=e.domEvent.currentTarget;s.dirtyFormCheck((function(){c._resetConfirmationHeaderAndAdvisory(),s.controller.broadcast("requestAccountPhoneCategory",{context:{groupId:t.value}}),r=t.selectedIndex,c.getComponent("phone").doNotUpdatePhoneNumber()}),(function(){var e;(e=c.model.get("accountCategories")).forEach((function(e){delete e.selected})),e[r].selected=!0,c.model.set("accountCategories",e),c.output.emit("trigger",{value:"setDropdownSelected",selectedIndex:r})}))},c._resetConfirmationHeaderAndAdvisory=function(){c.model.set("myProfilePhoneNumberConfirmationHeader",null),c.model.set("myProfilePhoneNumberConfirmationAdvisory",null)},c.requestContactUs=function(e){c.commonMethodsUtil.navigateOnMessageLinkClick(s,e)},c.handleLinksInPhoneAdvisory=function(e){var t=e.domEvent.target.getAttribute("data-attr");"manageQuickpayPreferences"===t?s.state(s.settings.get("quickPayEnrollmentUrl")):"updateMyAlertsDeliverySettings"===t&&s.state(s.profilesettings.alertsDeliveryUrl)},c.requestConfirmationMessageDetails=o,c.exitConfirmationMessageDetails=o,c.requestErrorMessageDetails=o,c.exitErrorMessageDetails=o,c.requestPhoneDirectory=o}})),define("profileArea/personalDetails/phone/controller/phone",["require","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","profileArea/personalDetails/phone/lib/constants","profileArea/sharedLib/demographicsMixin","appkit-utilities/common/mediaQueryListener","appkit-utilities/rapidash/rapidash","blue/log","blue/siteMode","common/lib/utility/serviceUtil","common/lib/flyout/flyoutUtility","profileArea/sharedLib/nativeButtonNavigationMixin","profileArea/sharedLib/apptelTracker","profileArea/sharedLib/messageDispatcher","profileArea/sharedLib/modalController","profileArea/sharedLib/dynamicAdaUtil","common/lib/utility/commonComponentsUtil","common/lib/modalApi"],(function(e){"use strict";var t,i,n,r=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"),a=e("profileArea/personalDetails/phone/lib/constants"),o=e("profileArea/sharedLib/demographicsMixin"),s=a.phoneViewPathMapper,c=e("appkit-utilities/common/mediaQueryListener"),l=e("appkit-utilities/rapidash/rapidash"),d=e("blue/log")("[myProfile.phone]"),u=e("blue/siteMode"),p=e("common/lib/utility/serviceUtil"),m=e("common/lib/flyout/flyoutUtility");return function(a){var f=this,A=e("profileArea/sharedLib/nativeButtonNavigationMixin"),g=e("profileArea/sharedLib/apptelTracker"),E=a.renderTarget.target,y="",h=a.accountInfo;n=a.dcu.dynamicContent,f.onInit=function(){A.call(f,a);var t=e("profileArea/sharedLib/messageDispatcher");A.call(f,a),f.messageDispatcher=new t(f),f.modalController=e("profileArea/sharedLib/modalController"),f.addPhoneAdaDynamicValues=e("profileArea/sharedLib/dynamicAdaUtil").addPhoneAdaDynamicValues,f.commonComponentsUtil=e("common/lib/utility/commonComponentsUtil")(f),f._state={},f.Api={modal:new(e("common/lib/modalApi"))(f)},o(f,a),a.on({"profilePhone/setTgtData":function(e){a.dirtyFormCheck(e.data.action)},clearGenericServiceErrorOnHeader:function(){var e=f.components.PHONE_HEADER;e&&e.clearGenericServiceError&&e.clearGenericServiceError()},clearMessagesOnHeader:f.clearMessagesOnHeader,clearGenericServiceErrorOnModal:function(){var e;f.registry.hasComponent("PHONE_TCPA")&&(e=f.components.PHONE_TCPA),e&&e.clearGenericServiceError&&e.clearGenericServiceError()},deletePhoneNumber:function(e){f.components.DELETE_PHONE._showModal(e)},deletePhoneNumberWarning:function(e){f.components.DELETE_PHONE._showWarningModal(e)},showWarningModalServerError:function(e){f.components.DELETE_PHONE._showWarningModalServerError(e)},updatePhoneUsagePreference:function(e){var t=f.components.PHONE_TCPA;e&&(f.overlayEventData=e),e=f.overlayEventData||e,t._showModal(e)},reloadPhoneController:function(e){f.loadPhonePage(e,!0),a.deregisterDirtyForm()},requestAccountPhoneCategory:function(e){e.phoneActionType="CHANGE_GROUP",f.loadPhonePage(e)},navigateToPhonePage:function(e){f.navigateToPhonePage(e)},setCaasShown:function(e){a.caasShown=e}}),a.Api=f.Api,a.messageDispatcher=f.messageDispatcher,a.modalController=f.modalController,a.getProps=f.getProps,a.commonComponentsUtil=f.commonComponentsUtil,a.settings=f.settings,f.getComponent=function(e){return f.components[e]},a.getComponent=f.getComponent,a.callService=p.callService(f,a.services.phone),a.resetNoPhoneAvailableMessages=f.resetNoPhoneAvailableMessages,a.updateNativeButtonsAndNavigation=f.updateNativeButtonsAndNavigation,a.getHeaderContent=f.getHeaderContent},f.confirmUpdatePhoneUsagePreference=function(){},f.selectMyPhoneDetails=function(e){return r.getFeatureTreatments(["cxoweb_profile_phone_caasEnable","cxoweb_profile_phone_readOnly"],{cxoweb_profile_phone_caasEnable:0,cxoweb_profile_phone_readOnly:!1}).then((function(t){return f.renderPhonePage(e,t)}))},f.renderPhonePage=function(e,r){var o=c.currentBreakpoint===c.BREAKPOINT.XS,l=Number(r.cxoweb_profile_phone_caasEnable),d=r.cxoweb_profile_phone_readOnly;if(!e.caas&&a.profileContainer.setPageProperties({pageTitle:o?n.get(f.components.PHONE_HEADER,"phoneNumberHeader"):"",containerClasses:"legacy-profile-styles"}),a.userActionExecuted=!1,f.registry.hasComponent("PHONE_TCPA")&&f.registry.getComponent("PHONE_TCPA").destroyView(),f.registry.hasComponent("PHONE_TCPA_CONFIRMATION")&&f.registry.getComponent("PHONE_TCPA_CONFIRMATION").destroyView(),a.enableNewAppNavigation=a.hybrid,m.isFlyoutNavigation(a)||a.caasShown)return!0;t=1===l||d,i=2===l;var p={readOnlyEvent:u.isModeEnabled("readOnly"),enableNewAppNavigation:a.enableNewAppNavigation,caasReadOnly:t,caasStepUpEnabled:i};if(f.components.phone.model.set(p),f.components.PHONE_HEADER.model.set("readOnlyEvent",u.isModeEnabled("readOnly")||u.isModeEnabled("ecdStandIn")),f.components.BROKERAGE_ACCOUNTS_PHONE_NUMBER.model.set("readOnlyEvent",u.isModeEnabled("readOnly")||u.isModeEnabled("ecdStandIn")),f.components.BROKERAGE_ACCOUNTS_PHONE_NUMBER.model.set("caasStepUpEnabled",i),f.setCaasReadOnly(t),f.getComponent("PHONE_CAAS").model.set("legacyReadOnly",d),a.area.broadcast("myProfile:core:enaHeader"),a.user.profile.isJPOUser()&&!a.hybrid){var A=a.dcu.dynamicContent.get(f.components.PHONE_HEADER,"authenticationResultAdvisory","CANCELLED");f.getComponent("PHONE_CAAS").model.set("backupContent",A)}else f.getComponent("PHONE_CAAS").model.set("backupContent",!1);var y=[[f.components.PHONE_CAAS,s.PHONE_CAAS,{target:E}],[f.components.PHONE_HEADER,s.PHONE_HEADER,{target:E,append:!0}],[f.components.phone,s.phone,{target:E,append:!0}]];return f.loadPhonePage().then((function(){if(f.name===a.currentController)return g.logLeaveAction("$$Profile_Details"),f.executeCAV(y).then((function(){var e=f.brokerageAccountsData;if(e){var i=e.accounts.map((function(e){return e.flags={updateMode:!1},e}));f.updateBrokerageAccountsPhoneNumberList({accounts:i,phoneNumber:"",phoneNumberRegion:"DOMESTIC",accountId:"",nameAndMask:""})}a.elementObserver.isInserted(".section-title",(function(){t?f.components.PHONE_CAAS.focusOnPhoneCaas():f.components.PHONE_HEADER.focusOnPhoneHeader()}))}))})).catch((function(){if(f.name===a.currentController)return y}))},f.navigateToPhonePage=function(e){e.accountCategories&&e.accountCategories.length>1&&(a.groupId=e.groupId,f._state.accountCategories=e.accountCategories),a.state(a.phoneRoutes.selectMyPhoneDetails)},f.loadPhonePage=function(e,i){var n,r;return y="",!e&&a.groupId&&(e={context:{groupId:a.groupId}},a.groupId=null),e=e||{},f.modalController.close(),f.clearMessagesOnHeader(),f.showContentLoader(!0),a.updateNativeButtonsAndNavigation("phone.selectPhoneDetails"),n=function(n){if(!1===n.groupsAvailable)return f.showContentLoader(!1),void a.elementObserver.isInsertedPromise(".section-title").then((function(){t?f.components.PHONE_CAAS.focusOnPhoneCaas():f.components.PHONE_HEADER.focusOnPhoneHeader()}));n.phoneActionType=e.phoneActionType,f.initializePage(n,i?e:null),f.showContentLoader(!1)},r=function(e){e.stack&&d.error("myProfile.phone.list.svc fail",e.stack),f.showContentLoader(!1),f.clearMessagesOnHeader(),f.components.PHONE_HEADER.triggerGenericServiceError()},t||f.commonComponentsUtil.setFocus("#inner-phone-error-header"),a.services.phone["myProfile.phone.list.svc"](e).then(n,r).catch(r)},f.initializePage=function(e,t){e=e||{},Object.keys(s).forEach((function(e){f.getComponent(e)})),e.phoneComponent&&(e.phoneComponent.phoneNumberDetails=f.addPhoneAdaDynamicValues("myProfilePhoneNumber",f.components.phone,e),e.phoneComponent.commercialUser=h.isCommercialUser(),e.phoneComponent.businessUser=h.isSmallBusinessUser(),e.phoneHeaderComponent.commercialUser=h.isCommercialUser(),e.phoneHeaderComponent.businessUser=h.isSmallBusinessUser(),e.phoneHeaderComponent.requestProfileSettingsMenuAda=a.globalContent.requestProfileSettingsMenuAda),e.phoneHeaderComponent&&(e.phoneHeaderComponent.accountCategories?f._state.accountCategories=e.phoneHeaderComponent.accountCategories:f._state.accountCategories&&(e.phoneHeaderComponent.accountCategories=f._state.accountCategories),e.phoneHeaderComponent.isAutoAccount=t&&t.context&&f.isAutoAccount(t.context.accounts)),f.updatePhoneHeader(e),f.updatePhoneList(e),f.brokerageAccountsData=e.brokerageAccountsPhoneNumberComponent,void 0===e.phoneActionType&&a.area.broadcast("renderMyProfileMenuMobile"),t&&f.components&&f.renderConfirmationHeaders(t)},f.isAutoAccount=function(e){if(void 0===e)return!1;var t={ALA:"ALA",ALS:"ALS"};return e.some((function(e){return t[e.accountType]}))},f.clearMessagesOnHeader=function(){var e=f.components.PHONE_HEADER;["myProfilePhoneNumberConfirmationHeader","myProfilePhoneNumberConfirmationAdvisory","myProfilePhoneNumberErrorHeader","myProfilePhoneNumberErrorAdvisory","noPhoneNumberAvailableMessage","noPhoneNumberAvailableAdvisory"].forEach((function(t){e.model.set(t,null)}))},f.renderConfirmationHeaders=function(e){"quickpay"===e.type?f.components.VERIFY_QUICKPAY_CONFIRMATION._setConfirmationHeader():"removeService"===e.type?f.components.REMOVE_SERVICE_FROM_PHONE._setConfirmationHeader():"brokerage"===e.type?f.components.BROKERAGE_ACCOUNTS_PHONE_NUMBER._setConfirmationHeader(e):f.components.phone._showConfirmationHeaderForMfaAndEna(e)},f.showModalDialogForPhone=function(e){var t=e.componentName,i=f.components[t];return i.model.set("enableNewAppNavigation",a.enableNewAppNavigation),[i,s[t],{target:"body",append:!0}]},f.updatePhoneHeader=function(e){e=e||{},f.components.PHONE_HEADER.model.update(e.phoneHeaderComponent)},f.getHeaderContent=function(){return f.components.PHONE_HEADER.phoneNumberHeader},f.updatePhoneList=function(e){(u.isModeEnabled("readOnly")||u.isModeEnabled("ecdStandIn"))&&(e.phoneComponent&&Array.isArray(e.phoneComponent.phoneNumberDetails)&&f.addFlagToPhoneDetailsIfReadOnly(e.phoneComponent.phoneNumberDetails),e.brokerageAccountsPhoneNumberComponent&&Array.isArray(e.brokerageAccountsPhoneNumberComponent.accounts)&&f.addFlagToPhoneDetailsIfReadOnly(e.brokerageAccountsPhoneNumberComponent.accounts));var t=(e=e||{}).phoneComponent||{};t&&"RESTRICTED_ACCOUNT"===t.restrictedAcctWarningKey&&(f.messageDispatcher.set({component:f.components.PHONE_HEADER,setting:"myProfilePhoneNumberErrorHeader",variation:"RESTRICTED_ACCOUNT"}),f.messageDispatcher.set({component:f.components.PHONE_HEADER,setting:"myProfilePhoneNumberErrorAdvisory",variation:"RESTRICTED_ACCOUNT"})),t.phoneNumberDetails&&0===t.phoneNumberDetails.length?(f.messageDispatcher.set({component:f.components.PHONE_HEADER,setting:"noPhoneNumberAvailableMessage",variation:"NOT_AVAILABLE"}),f.messageDispatcher.set({component:f.components.PHONE_HEADER,setting:"noPhoneNumberAvailableAdvisory",variation:"NOT_AVAILABLE"})):t.commercialUser||"SECONDARY"!==l.get(t,"phoneNumberDetails.0.phoneNumberCategory")?f.components.PHONE_HEADER.model&&(f.components.PHONE_HEADER.model.set("noPhoneNumberAvailableMessage",null),f.components.PHONE_HEADER.model.set("noPhoneNumberAvailableAdvisory",null),"CML"!==h.segmentType&&f.components.PHONE_HEADER.model.set("primaryPhoneNumberMessageAvailable",!0)):(f.messageDispatcher.set({component:f.components.PHONE_HEADER,setting:"noPhoneNumberAvailableMessage",variation:"PRIMARY_NOT_SET"}),f.messageDispatcher.set({component:f.components.PHONE_HEADER,setting:"noPhoneNumberAvailableAdvisory",variation:"PRIMARY_NOT_SET"})),f.components.phone.model.update(t);var i=t.phoneNumberDetails.slice();f.components.phone.model.set("phoneNumberDetails",null),f.components.phone.model.set("phoneNumberDetails",i)},f.updateBrokerageAccountsPhoneNumberList=function(e){var t=f.components.BROKERAGE_ACCOUNTS_PHONE_NUMBER.model;t.set("accounts",e.accounts),t.set("phoneNumber",e.phoneNumber),t.set("phoneNumberRegion",e.phoneNumberRegion),t.set("accountId",e.accountId),t.set("nameAndMask",e.nameAndMask),t.set("readOnlyEvent",f.components.phone.model.get("readOnlyEvent")),t.set("caasReadOnly",f.components.phone.model.get("caasReadOnly"));var i=a.state();i.action.name="renderBrokerageAccountsPhoneNumberComponent",a.privateState(i)},f.renderBrokerageAccountsPhoneNumberComponent=function(){return a.elementObserver.isInsertedPromise(".phone-list-section").then((function(){return[[f.components.BROKERAGE_ACCOUNTS_PHONE_NUMBER,s.BROKERAGE_ACCOUNTS_PHONE_NUMBER,{target:E,append:!0}]]})).catch((function(){a.logger.error(E+" not found in DOM: Profile phone unable to render")}))},f.showContentLoader=function(e){f.components.phone.model.set("isContentLoading",e),f.components.PHONE_HEADER.model.set("isContentLoading",e),f.components.BROKERAGE_ACCOUNTS_PHONE_NUMBER.model.set("isContentLoading",e)},f.addFlagToPhoneDetailsIfReadOnly=function(e){e.forEach((function(e){e.readOnlyEvent=!0}))},f.resetNoPhoneAvailableMessages=function(){f.messageDispatcher.set({component:f.components.PHONE_HEADER,setting:"noPhoneNumberAvailableMessage",variation:"NOT_AVAILABLE"}),f.messageDispatcher.set({component:f.components.PHONE_HEADER,setting:"noPhoneNumberAvailableAdvisory",variation:"NOT_AVAILABLE"})},f.setCaasReadOnly=function(e){["phone","PHONE_HEADER","PHONE_CAAS","BROKERAGE_ACCOUNTS_PHONE_NUMBER"].forEach((function(t){f.components[t].model.set("caasReadOnly",e)}))},f.requestStepUpChallenge=function(e){e.caas||(f.components.phone.model.set("caasBlockInView",!0),f.modalController.close())},f.requestStepUpResult=function(e){var t=e.privateDataObject;f.components.phone.stepUpResponseHandler(t)},f.requestStepUpChallengeBrokerage=function(e){a.deregisterDirtyForm("BROKERAGE_ACCOUNTS_PHONE_NUMBER"),e.caas||(f.components.BROKERAGE_ACCOUNTS_PHONE_NUMBER.model.set("caasBlockInView",!0),f.modalController.close())},f.requestStepUpResultBrokerage=function(e){var t=e.privateDataObject;f.components.BROKERAGE_ACCOUNTS_PHONE_NUMBER.stepUpResponseHandler(t)},a.registerDirtyForm=function(e="phone",t){var i;t?y=t:(i=f.components[e].model.get("phoneNumber"),f.components[e].model.set("phoneNumber",y)),a.bubble("dirtyRegister",{controller:f,compInstanceNames:[e],target:"#my-profile-page-content",whiteList:["phoneNumber"],routeBlackList:["/dashboard/profileArea/phone/selectMyPhoneDetails","/dashboard/profileArea/phone/confirmAddPhoneNumber","/dashboard/profileArea/phone/confirmUpdatePhoneNumber","/dashboard/profileArea/phone/requestStepUpChallengeBrokerage","/dashboard/caas/challenge/requestChallenge"]}),f.components[e].model.set("phoneNumber",i||y),a.application.dirtyForm.onRemove=!1},a.deregisterDirtyForm=function(e="phone"){a.bubble("dirtyDeregister",{name:e})},a.dirtyFormCheck=function(e,t){if(a.application.dirtyForm.dirtyCheckAll().isDirty){var i={executeAction:function(){e&&e()},executeNoAction:function(){t&&t()}};a.profileUtil.showDirtyForm.call(f,i)}else e&&e()}}})),define("profileArea/personalDetails/phone/lib/transformers",[],(function(){"use strict";var e=function(e){return"+ "+(e=e.replace(/\+ /g,""))},t=function(e){return(e=e.match(/\d+/g).join("")).substring(0,3)+"-"+e.substring(3,6)+"-"+e.substring(6,10)};return{formatInternationalNumber:e,formatDomesticNumber:t,removePhoneNumberFormatting:function(e){return e?e.match(/\d+/g).join(""):""},formatPhoneNumber:function(i,n){return n?"DOMESTIC"===i?t(n):e(n):null},addWorkExtension:function(e,t,i){return e+" "+t+" "+i}}})),define("profileArea/personalDetails/phone/lib/getPhoneProps",["require","profileArea/personalDetails/phone/lib/transformers","appkit-utilities/rapidash/rapidash"],(function(e){"use strict";var t=e("profileArea/personalDetails/phone/lib/transformers"),i=e("appkit-utilities/rapidash/rapidash");return function(e,n){var r,a,o,s;if(r=e,i.get(e,"model.get")&&(r=e.model.get()),a=r.phoneNumberRegion||"DOMESTIC",o=t.removePhoneNumberFormatting(r.phoneNumber),s=t.formatPhoneNumber(a,o),"EDIT"===n){var c=i.get(r,"flags.currentPhoneObject")||{};c.phoneNumberRegion=c.phoneNumberRegion||"DOMESTIC";var l=t.formatPhoneNumber(c.phoneNumberRegion,c.phoneNumber);if(c.phoneNumber===r.phoneNumber){var d=r.phoneNumberExtensionLabel,u=c.phoneNumberType[0]===r.phoneNumberType[0];"WORK"===c.phoneNumberType[0]&&u&&(c.phoneNumberExtension&&(l=t.addWorkExtension(l,d,c.phoneNumberExtension)),r.phoneNumberExtension&&(s=t.addWorkExtension(s,d,r.phoneNumberExtension)))}o=l||s}else o="ADD_ACCOUNTS"===n&&r.deletedPhoneNumber?r.deletedPhoneNumber:s;return{phoneNumber:o,newPhoneNumber:s,partnerEntityMessages:r.partnerEntityMessages,deletedPhoneNumber:r.deletedPhoneNumber,oldPrimaryPhoneNumber:r.oldPrimaryPhoneNumber,nameAndMask:r.nameAndMask}}})),define("profileArea/personalDetails/phone/lib/validators/phoneValidator",["appkit-utilities/validation/util"],(function(e){"use strict";var t=function(e,t){return{isValid:e,errorType:e?"":t}};return{phoneNumber:[function(i,n){var r="";if("DOMESTIC"===n.phoneNumberRegion){var a=e.getProperty(i,n);if(0===a.length)r="MISSING_MANDATORY_DATA";else{var o=null!==a.match(/^\d{10}$/);r="INVALID_FORMAT"}}else o=!0;return t(o,r)},function(i,n){var r,a,o,s;if("INTERNATIONAL"===n.phoneNumberRegion){var c=e.getProperty(i,n);a=null!==c.match(/^\d+$/),o=c.length>16,s=a&&o?"INVALID_INTERNATIONAL_LENGTH":"INVALID_INTERNATIONAL_PHONE",r=a&&!o}else r=!0;return t(r,s)},function(i,n){if("DOMESTIC"===n.phoneNumberRegion)var r=e.getProperty(i,n),a="0"!==r[0]&&"1"!==r[0];else a=!0;return t(a,"INVALID_AREA_CODE")},function(i,n){var r="DOMESTIC"===n.phoneNumberRegion,a=n.isBrokerageNumber?"INVALID_PHONE_NUMBER":"INVALID_FORMAT_SEQUENCE";if(r){for(var o=!1,s=e.getProperty(i,n),c=!0,l=!0,d=1;d<s.length;d++){var u=parseInt(s[d-1]),p=parseInt(s[d]);p!==u&&(l=!1),9===u&&(p+=10),p-1!==u&&(c=!1)}o=!c&&!l}else o=!0;return t(o,a)},function(){var e=!0,i=arguments[1];if(!i.isBrokerageNumber){var n=i.phoneNumberDetails.find((function(e){return!!e.phoneNumberId&&e.phoneNumber===i.phoneNumber&&e.oldPhoneNumber}));if(n){var r=n.oldPhoneNumber.replace(/\D/g,"");n.oldPhoneNumberExtension&&(r+=n.oldPhoneNumberExtension);var a=n.phoneNumber.replace(/\D/g,"");n.phoneNumberExtension&&(a+=n.phoneNumberExtension),r===a&&(e=!1)}}return t(e,"ALREADY_EXISTS")}],phoneNumberExtension:[function(i,n){var r=e.getProperty(i,n),a=!isNaN(r);return"WORK"===n.phoneNumberType?t(a,"INVALID_FORMAT"):t(!0)},function(i,n){var r=e.getProperty(i,n);if("WORK"===n.phoneNumberType){var a=4===r.length||0===r.length;return t(a,"INVALID_LENGTH")}return t(!0)}],requiredFields:["phoneNumber"]}})),define("profileArea/personalDetails/phone/lib/phoneCaasUtil",[],(function(){"use strict";return function(e,t){var i=this,n=e.context.dcu.dynamicSettings;const r={eventObj:{}};i.setRetryProps=function(e,t){r[e]=t},i._requestStepUp=function(i,n,a){var o=e.context.constants.profileConstants.CAAS_ROUTE_PARAMS.PHONE_PROFILE,s={privateDataObject:{...o[i],challengeIdentifier:n,applicationId:window.channel||"C30"}};e.model.set("stepUpEventId",o[i].eventId),r.eventObj.assessmentId=a,r.eventObj.riskId=n,r.stepUpFlow=i,e.context.privateState("dashboard/caas/challenge/requestChallenge",s);var c="BROKERAGE_EDIT"===i?"requestStepUpChallengeBrokerage":"requestStepUpChallenge";t.state(t.phoneRoutes[c])},i._requestUpdateStepUpHandler=function(t,n,r,a){var o=t.riskLevelCode,s=e.context.constants.profileConstants.CAAS_SEVERITY_CODES,c={[s.AMBER]:i._requestStepUp,[s.RED]:i._handleCaasRedRiskStatus};n&&c[o]?c[o](r,t.riskId,t.assessmentId):a(t)},i.stepUpResponseHandler=function(n){var a=e.context.constants.profileConstants.CAAS_BLOCK_RESPONSE_CODES,o=function(){var o={ADD:e.doNotAddPhoneNumber,EDIT:e.doNotUpdatePhoneNumber,BROKERAGE_EDIT:e.doNotUpdatePhoneNumber,ENA_ADD:e.doNotAddAccountsToPhoneNumber};e.model.set("caasBlockInView",!1),o[r.stepUpFlow](),n.code!==a.LOGOUT&&t.state(t.phoneRoutes.selectMyPhoneDetails),i.setRetryProps("eventObj",{assessmentId:null,riskId:null}),e.getPhoneHeaderComponent().setHybridPhoneHeader()};({[a.SUCCESS]:function(){e.model.set("caasBlockInView",!1),r.requestFn(r.eventObj,r.miscParam),e.getPhoneHeaderComponent().setHybridPhoneHeader()},[a.FAILURE]:o,[a.CANCELLED]:o,[a.NAVIGATION]:function(){var t=e.context.state();t.action.params.caas=[n.data,e.model.get("stepUpEventId")],e.context.state(t)},[a.LOGOUT]:function(){o();var t=e.context.dashboardSettings.logoutUrl;e.context.state(t)},[a.LOCKED]:i._handleCaasLockedStatus,[a.SYS_FAILURE]:function(){o(),e.context.logger.error("CAAS block SYS FAILURE")},[a.INVALID_CONFIG]:function(){o(),e.context.logger.error("invalid CAAS block config"),e.triggerGenericServiceError()}})[n.code]()},i._handleCaasRedRiskStatus=function(){e._reloadPhonePage();const t=e.getPhoneHeaderComponent();n.set(t,"authenticationResultErrorHeader","RISK_STATUS_RED"),n.set(t,"authenticationResultErrorAdvisory","RISK_STATUS_RED"),e.getPhoneHeaderComponent().setHybridPhoneHeader()},i._handleCaasLockedStatus=function(){e._reloadPhonePage();const t=e.getPhoneHeaderComponent();n.set(t,"authenticationResultErrorHeader","LOCKED"),n.set(t,"authenticationResultErrorAdvisory","LOCKED"),e.getPhoneHeaderComponent().setHybridPhoneHeader(),i.setRetryProps("eventObj",{assessmentId:null,riskId:null}),e.model.set("caasBlockInView",!1)}}})),define("profileArea/personalDetails/phone/component/phone",["require","appkit-utilities/rapidash/rapidash","blue/root","profileArea/personalDetails/phone/lib/constants","profileArea/sharedLib/genericServiceErrorEvent","profileArea/personalDetails/phone/lib/getPhoneProps","common/lib/utility/serviceUtil","appkit-utilities/validation/componentValidate","appkit-utilities/validation/variations","profileArea/personalDetails/phone/lib/validators/phoneValidator","profileArea/personalDetails/phone/lib/phoneCaasUtil","appkit-utilities/common/mediaQueryListener","profileArea/sharedLib/navigation/navigation","profileArea/sharedLib/privateLabelMessaging"],(function(e){"use strict";var t,i,n=e("appkit-utilities/rapidash/rapidash"),r=e("blue/root"),a=e("profileArea/personalDetails/phone/lib/constants"),o=e("profileArea/sharedLib/genericServiceErrorEvent"),s=e("profileArea/personalDetails/phone/lib/getPhoneProps"),c=a.UPDATE_ACCOUNTS_ACTIONS_MAP,l=e("common/lib/utility/serviceUtil").handleServiceErrorMixin,d=function(){},u=e("appkit-utilities/validation/componentValidate"),p=e("appkit-utilities/validation/variations"),m=e("profileArea/personalDetails/phone/lib/validators/phoneValidator"),f=e("profileArea/personalDetails/phone/lib/phoneCaasUtil");return function(a){var A,g=this,E=e("appkit-utilities/common/mediaQueryListener"),y={add:"doNotAddPhoneNumber",edit:"doNotUpdatePhoneNumber",updatePhoneUsagePreference:"_updatePhoneDetailsNativeHeader"},h=function(e){g.model.get("enableNewAppNavigation")&&g.model.set("flow",e)},v=a.phoneRoutes;g.onDestroy=function(){a.bubble("setCaasShown",!1)},g.onInit=function(){g.isXs=E.currentBreakpoint===E.BREAKPOINT.XS,l(g,{PHONE_NUMBER_ALREADY_EXISTS:{headerKey:"addPhoneNumberErrorHeader",headerVariation:"PHONE_NUMBER_ALREADY_EXISTS",advisoryKey:"addPhoneNumberErrorAdvisory",advisoryVariation:"PHONE_NUMBER_ALREADY_EXISTS"},QP_DUPLICATE_PHONE_CXC:{headerKey:"addPhoneNumberErrorHeader",headerVariation:"PHONE_NUMBER_IN_USE_FOR_QUICKPAY"},QP_DUPLICATE_PHONE_CHASE:{headerKey:"addPhoneNumberErrorHeader",headerVariation:"PHONE_NUMBER_IN_USE_FOR_QUICKPAY"},QP_DUPLICATE_MOBILE_NUMBER:{headerKey:"addPhoneNumberErrorHeader",headerVariation:"PHONE_NUMBER_IN_USE_FOR_QUICKPAY"},defaultUpdateError:{headerKey:"myProfilePhoneNumberErrorHeader",headerVariation:"UPDATED_PHONE_NUMBER",advisoryKey:"myProfilePhoneNumberErrorAdvisory",advisoryVariation:"UPDATED_PHONE_NUMBER"}}),t=a.dcu.dynamicContent,i=new f(g,a),g.navigation=e("profileArea/sharedLib/navigation/navigation"),g.model.modify((function(e){return n.forEach(e,(function(t,i){"Content"===i&&(e[t]="")})),e})),g.callService=a.callService,g.formController=g._FormController(g),g.plm=e("profileArea/sharedLib/privateLabelMessaging"),g.editPhoneNumberProperties=["phoneNumber","phoneNumberExtension","phoneNumberRegion","phoneNumberType"],g.addAccountsToPhoneNumberProperties=["phoneNumberType","flags.isPrimary"],g.commonComponentsUtil=a.commonComponentsUtil,g.getComponent=a.getComponent,g.stepUpResponseHandler=i.stepUpResponseHandler,g.model.set("exitAdaUpdate",t.get(g,"exitAda.UPDATE")),a.on({setFocusOnElement:function(e){g.output.emit("trigger",{value:"setFocus",element:e})},setFocusOnPhone:function(){g.output.emit("trigger",{value:"setFocus",element:g._currentTarget}),g._currentTarget=null},setFocusOnAddPhone:function(){g.output.emit("trigger",{value:"setFocusOnAdd"})},updateConfirmedForPhoneNumber:function(e){g[e.context.callback](e)},phoneUpdateConfirmationComplete:function(e){e&&(g.overlayEventData=e),e=g.overlayEventData||e,g._checkPhoneForTCPA(e.data)},addPhoneNumber:function(e){g.targetInterceptor("ADD",e),g._clearMessages()},phoneShouldHideSpinner:function(){g.output.emit("trigger",{value:"hideSpinnerForPhoneNumberModal"})},handleNativeBackButtonFromOverlay:function(){g._dispatch(g.overlayEventData.data,"updatePhoneUsagePreference")},updateNativeHeaderButtons:g._updateNativeHeaderButtons}),a.on("setCurrentProfileState",(function(e){"phone"===e.state&&(g._clearGenericServiceError(),g.formController.close())})),a.on({updatePhoneDetailsNativeHeader:g._updatePhoneDetailsNativeHeader,editPhoneDetailsNativeHeader:g._editPhoneDetailsNativeHeader,phoneCloseFormAndUpdateNativeHeader:g._phoneCloseFormAndUpdateNativeHeader}),a.on("confirmUpdatePhoneUsagePreference",(function(e){var t=n.get(e,"data.context.flags.tcpaConfirmed"),i=n.get(e,"data.context.phoneNumberId");t&&(a.bubble("setCaasShown",!0),n.get(e,"data.context.flags.addingAccountsToPhone")?(a.logger.info("data.context.flags.addingAccountsToPhone"),g._confirmAddAccountsToPhoneNumber(e.data)):i?g._updatePhoneNumber(e.data):g._confirmAddMobilePhoneNumber(e.data))})),a.globalContentMixin.call(g,["exitHelpMessageAda","beginHelpMessageAda","endHelpMessageAda","gotoPreviousFieldAda"])},g._setupInitialValidation=function(e){g.model.set("phoneNumber",""),g.model.set("phoneNumberExtension","");g.model.set("v",{phoneNumber:{isValid:!0,property:"phoneNumber",errorMessage:""},phoneNumberExtension:{isValid:!0,property:"phoneNumberExtension",errorMessage:""}}),e&&(g.model.set("phoneListIndex",e.dataPath.split(".")[1]),g.model.set("phoneEditEvent",e)),a.variations=p,u.call(g,g.context,m);g.model.set("whiteList",["phoneNumber","phoneNumberExtension"])},g.reinitializeValidation=function(){var e=g.model.get("phoneEditEvent");e?g._setupInitialValidation(e):g._setupInitialValidation()},g.editPhoneInput=function(e){var t,i=g.model.get(e.dataPath),n=i.phoneNumberType;n&&(t="string"==typeof i.phoneNumberType?i.phoneNumberType:i.phoneNumberType[0]),t&&t!==g.model.get("phoneNumberType")&&g.model.set("phoneNumberType",n),g.model.set("phoneNumber",e.context.phoneNumber.split("-").join("")),g.model.set("phoneNumberRegion",e.context.phoneNumberRegion),g.model.set("phoneNumberExtension",e.context.phoneNumberExtension),g.model.set(e.dataPath+".phoneNumber",e.context.phoneNumber.split("-").join("")),g.model.set(e.dataPath+".phoneNumberExtension",e.context.phoneNumberExtension),g.validateDataItem(e);var r=["phoneNumber","phoneNumberExtension"].filter((e=>!!g[e]));g.validateDataItems(r),"blur"===e.domEvent.type&&g.updateAriaLiveOnError(e)},g.updateAriaLiveOnError=function(e){var t=e.domEvent.target;const i=t.label??"";g.ariaLiveErrorText=""!==t._errorMessage?`${g.gotoPreviousFieldAda+i}`:""},g.resetAriaLiveOnError=function(){g.ariaLiveErrorText=""},g.setValidationType=function(){var e=g.model.get("phoneNumberDetails").find((e=>null===e.phoneNumberId));g.model.set("phoneNumberType",e.phoneNumberType);g.model.set("v",{phoneNumber:{isValid:!0,property:"phoneNumber",errorMessage:""},phoneNumberExtension:{isValid:!0,property:"phoneNumberExtension",errorMessage:""}});var t=["phoneNumber","phoneNumberExtension"].filter((e=>!!g[e]));g.validateDataItems(t)},g._phoneCloseFormAndUpdateNativeHeader=function(){var e=y[g.model.get("flow")];e&&g[e]()},g._updatePhoneDetailsNativeHeader=function(){a.updateNativeButtonsAndNavigation("phone.selectPhoneDetails")},g._editPhoneDetailsNativeHeader=function(){a.updateNativeButtonsAndNavigation("phone.editPhone")},g.onReady=function(){o.addTriggerGenericServiceError(g,"addPhoneNumberErrorHeader","addPhoneNumberErrorAdvisory"),g.input.on("hideMotionComplete",(function(e){e&&e.onComplete&&g[e.onComplete]()})),a.application.emit("initSetHeader",{}),g.input.on("resetFormAction",(function(){g.formController.reset()})),g.input.on("setHeader",(function(){a.application.emit("initSetHeader",{})})),g._updatePhoneDetailsNativeHeader(),A=g.model.get("caasStepUpEnabled")},g.getPhoneHeaderComponent=function(){return g.getComponent("PHONE_HEADER")},g.excf=function(e){a.logger.error(e.stack)},g.targetInterceptor=function(e,t){var i={ADD:g._addPhoneNumber,EDIT:g.updatePhoneNumber,UPDATE_PREFERENCE:g.updatePhoneUsagePreference,ADD_ACCOUNTS:g.addAccountsToPhoneNumber,DELETE:g.deletePhoneNumber,REMOVE_ALERTS:g.removeAlertsFromPhoneNumber,REMOVE_QUICKPAY:g.removeQuickpayFromPhoneNumber,MANAGE_ALERTS:g.manageMyAlerts,MANAGE_QUICKPAY:g.manageQuickpayPreferences,ADD_ALERTS:g.addAlertsToPhoneNumber,ADD_QUICKPAY:g.addQuickpayToPhoneNumber};if(i[e]){a.dirtyFormCheck((function(){a.userActionExecuted=!0,g.commonComponentsUtil.exitModalTargetDecorator.apply(g,[i[e],t])}))}},g.updatePhoneNumberIntercept=function(e){g.targetInterceptor("EDIT",e)},g.updatePhoneUsagePreferenceIntercept=function(e){g.targetInterceptor("UPDATE_PREFERENCE",e)},g.addAccountsToPhoneNumberIntercept=function(e){g.targetInterceptor("ADD_ACCOUNTS",e)},g.deletePhoneNumberIntercept=function(e){g.targetInterceptor("DELETE",e)},g.removeOnlineSecurityFromPhoneNumberIntercept=function(e){g.targetInterceptor("REMOVE_MFA",e)},g.removeAlertsFromPhoneNumberIntercept=function(e){g.targetInterceptor("REMOVE_ALERTS",e)},g.removeQuickpayFromPhoneNumberIntercept=function(e){g.targetInterceptor("REMOVE_QUICKPAY",e)},g.manageMyAlertsIntercept=function(e){g.targetInterceptor("MANAGE_ALERTS",e)},g.manageQuickpayPreferencesIntercept=function(e){g.targetInterceptor("MANAGE_QUICKPAY",e)},g.addOnlineSecurityToPhoneNumberIntercept=function(e){g.targetInterceptor("ADD_MFA",e)},g.addAlertsToPhoneNumberIntercept=function(e){g.targetInterceptor("ADD_ALERTS",e)},g.addQuickpayToPhoneNumberIntercept=function(e){g.targetInterceptor("ADD_QUICKPAY",e)},g._clearMessages=function(){a.controller.emit("clearMessagesOnHeader")},g._clearGenericServiceError=function(){g.clearGenericServiceError&&g.clearGenericServiceError(),a.controller.broadcast("clearGenericServiceErrorOnHeader"),a.controller.broadcast("clearGenericServiceErrorOnModal")},g._displayServiceError=function(e){var t;a.logger.error(e||(new Error).stack),e=e||{};var n=g;["PHONE_TCPA","PHONE_TCPA_CONFIRMATION","DELETE_PHONE"].forEach((function(e){n.getComponent(e).destroyView()})),g.model.get("enableNewAppNavigation")&&(t=g.isXs?g.model.get("flow")+"Phone":"selectPhoneDetails",a.updateNativeButtonsAndNavigation("phone."+t)),g.triggerGenericServiceError(e.errorHeader,e.errorAdvisory),i.setRetryProps("eventObj",{assessmentId:null,riskId:null})},g._addPhoneNumber=function(e){var t,i;e.context=n.merge(g.model.get(),e.context),g.formController.close();var r=["ONLINE_SECURITY","QUICKPAY","ALERTS"];return g._variationMapper(g,"serviceAdvisory",r),g._variationMapper(g,"serviceName",r),g._clearGenericServiceError(),t=function(e){if(0===e.servicesAllowed.length)return a.logger.error("myProfile.phone.addOptions.svc - no valid services included in response. Generally in cases for merchant accounts with online_verification only."),void g.getPhoneHeaderComponent().triggerGenericServiceError();a.state(v.addPhoneNumber),g.model.modify("phoneNumberDetails",(function(t){t=t.slice();var i=g.model.get(),n=i.phoneNumberTypes,r=i.phoneNumberRegionOptions,o=null;if(i.commercialUser?o="ONLINE_VERIFICATION":e.servicesAllowed&&(o=e.servicesAllowed[0].key),a.user.profile.isSubUser()){var s=e.servicesAllowed.filter((function(e){return"ALERTS"!==e.key}));e.servicesAllowed=s}return t.push({groupId:i.groupId,phoneNumberId:null,phoneNumber:"",phoneNumberExtension:"",phoneNumberTypes:n,phoneNumberCount:t.length,phoneNumberType:n[0].key,phoneNumberRegionOptions:r,phoneNumberRegion:"DOMESTIC",flags:{newPhoneNumber:!0,selectedService:o,isPrimary:!1},addOptions:e}),t})),g.formController.set("add"),h("add"),a.updateNativeButtonsAndNavigation("phone.addPhone"),a.registerDirtyForm()},i=function(){a.logger.error("myProfile.phone.addOptions.svc FAIL"),g.getPhoneHeaderComponent().triggerGenericServiceError()},g._setupInitialValidation(),g.callService("myProfile.phone.addOptions.svc",g,e).then(t,i).catch(g.excf)},g._variationMapper=function(e,i,n){var r=n.reduce((function(n,r){return n[r]=t.get(e,i,r),n}),{});e.model.set(i,r)},g.changeAddPhoneNumberAccountSelect=function(){g._clearGenericServiceError()},g.screenTakeoverTeardown=function(){E.currentBreakpoint===E.BREAKPOINT.XS&&document.querySelector("#profile-spinner-container").classList.remove("screen-takeover-hide")},g.confirmAddPhoneNumber=function(e){g.screenTakeoverTeardown(),a.deregisterDirtyForm();var i=e.context.flags.selectedService;if("ACCOUNTS"===i){if(0===(e.context.phoneNumberType in e.context.addOptions.accountsAllowed?e.context.addOptions.accountsAllowed[e.context.phoneNumberType].filter((e=>e.checked)):[]).length&&!e.context.flags.isPrimary)return void g._displayServiceError({errorHeader:t.get(g,"addPhoneNumberErrorHeader.NO_ACCOUNT_SELECTED"),errorAdvisory:" "});if("DOMESTIC"!==n.get(e,"context.phoneNumberRegion"))return g._verifyAddPhoneNumberForEna(e);if(!g._doesCardAccountSelectedTriggerDelete(e,"_validatePhoneForTCPA"))return g._validatePhoneForTCPA(e)}else{if("ONLINE_VERIFICATION"===i)return g._confirmAddPhoneNumberForMfaAndEna(e,"MFA");if("QUICKPAY"===i)return e.flow=g.model.get("flow"),g._confirmAddPhoneNumberForQuickpay(e)}},g._validatePhoneForTCPA=function(e){g._clearGenericServiceError();return g.callService("myProfile.phone.ena.validate.svc",g,e).then((function(t){t.mobileNumber?g._dispatch(e,"updatePhoneUsagePreference"):g._confirmAddPhoneNumberForMfaAndEna(e,"ENA")}),g._displayServiceError).catch(g.excf)},g._confirmAddMobilePhoneNumber=function(e){var t,r={},o={},c="myProfile.phone.add.svc";return A&&(i.setRetryProps("requestFn",g._confirmAddMobilePhoneNumber),i.setRetryProps("eventObj",e),c="myProfile.phone.caas.add.svc"),r.setting="myProfilePhoneNumberConfirmationHeader",r.props=s(e.context),o.setting="myProfilePhoneNumberConfirmationAdvisory",o.props=s(e.context),t=function(t){a.state(v.confirmAddPhoneNumber),g.handleServiceError(t,["PHONE_NUMBER_ALREADY_EXISTS"],g._displayServiceError)||(e.context.deletedPhoneNumber?o.variation="ADDED_PHONE_NUMBER_AND_DELETED_SECONDARY":o.variation="ADDED_PHONE_NUMBER_FOR_ENA",n.get(e,"context.flags.isPrimary")?r.variation="ADDED_PHONE_NUMBER_AS_PRIMARY":r.variation="ADDED_PHONE_NUMBER",g._setPartnerInfo("ADD",t.statusCodes),e.phoneActionType="ADD",e.header=r,e.advisory=o,g._reloadPhonePage(e),e.hide&&e.hide(),i.setRetryProps("eventObj",{assessmentId:null,riskId:null}))},g.callService(c,g,e).then((function(e){i._requestUpdateStepUpHandler(e,A,"ADD",t)}),g._displayServiceError).catch(g.excf)},g._verifyAddPhoneNumberForEna=function(e){if(!g._doesCardAccountSelectedTriggerDelete(e,"_confirmAddPhoneNumberForMfaAndEna"))return g._confirmAddPhoneNumberForMfaAndEna(e,"ENA")},g._showConfirmationHeaderForMfaAndEna=function(e){e.header&&e.header.variation&&a.messageDispatcher.set({component:g.getPhoneHeaderComponent(),setting:e.header.setting,variation:e.header.variation,props:e.header.props,autohide:"myProfile.phone.list.svc"}),e.advisory&&e.advisory.variation&&a.messageDispatcher.set({component:g.getPhoneHeaderComponent(),setting:e.advisory.setting,variation:e.advisory.variation,props:e.advisory.props,autohide:"myProfile.phone.list.svc"})},g._confirmAddPhoneNumberForMfaAndEna=function(e,t){t=t||"ENA";var n,r={},o={},c="myProfile.phone.add.svc";return A&&(i.setRetryProps("requestFn",g._confirmAddPhoneNumberForMfaAndEna),i.setRetryProps("eventObj",e),i.setRetryProps("miscParam",t),c="myProfile.phone.caas.add.svc"),r.setting="myProfilePhoneNumberConfirmationHeader",r.props=s(e.context),o.setting="myProfilePhoneNumberConfirmationAdvisory",o.props=s(e.context),n=function(n){a.state(v.confirmAddPhoneNumber),g.handleServiceError(n,["PHONE_NUMBER_ALREADY_EXISTS"],g._displayServiceError)||("ENA"===t?(g._setPartnerInfo("ADD",n.statusCodes),r.variation=e.context.flags.isPrimary?"ADDED_PHONE_NUMBER_AS_PRIMARY":"ADDED_PHONE_NUMBER",o.variation=e.context.deletedPhoneNumber?"ADDED_PHONE_NUMBER_AND_DELETED_SECONDARY":"ADDED_PHONE_NUMBER_FOR_ENA"):(r.variation="ADDED_PHONE_NUMBER",o.variation="ADDED_PHONE_NUMBER_FOR_MFA"),e.header=r,e.advisory=o,g._reloadPhonePage(e),e.hide&&e.hide(),i.setRetryProps("eventObj",{assessmentId:null,riskId:null}))},g.callService(c,g,e).then((function(e){i._requestUpdateStepUpHandler(e,A,"ADD",n)}),g._displayServiceError).catch(g.excf)},g._confirmAddPhoneNumberForQuickpay=function(e){var t;return t=function(t){g.handleServiceError(t,["PHONE_NUMBER_ALREADY_EXISTS","QP_DUPLICATE_PHONE_CXC","QP_DUPLICATE_PHONE_CHASE","QP_DUPLICATE_MOBILE_NUMBER"],g._displayServiceError)||(e.context.services=[],e.context.contactId=t.contactId,e.context.addQuickpayFlowOrigin="addNewPhone",a.controller.broadcast("verifyQuickpayForPhone",{data:e}))},g.callService("myProfile.phone.add.svc",g,e).then(t,g._displayServiceError).catch(g.excf)},g._phoneForAlerts=function(){var e,t;return g._clearGenericServiceError(),e=function(){a.state(a.profileUrls["textBanking.activatePhoneBanking"])},t=function(){a.logger.error("myProfile.phone.refresh.list.svc call FAIL!"),g.triggerGenericServiceError(),r.scrollTo(0,document.body.scrollHeight)},g.callService("myProfile.phone.refresh.list.svc").then(e,t).catch(g.excf)},g.activatePhoneForAlerts=function(e){g._phoneForAlerts(e)},g.managePhoneForAlerts=function(e){g._phoneForAlerts(e)},g.doNotAddPhoneNumberNoPhoneNumber=function(){a.resetNoPhoneAvailableMessages(),g.doNotAddPhoneNumber()},g.doNotAddPhoneNumber=function(){g.resetAriaLiveOnError(),a.state(v.selectMyPhoneDetails),g._clearGenericServiceError(),g.formController.close(),g._updatePhoneDetailsNativeHeader(),a.area.broadcast("setFocusOnAddPhone"),a.deregisterDirtyForm()},g.updatePhoneNumber=function(e){a.state(v.updatePhoneNumber),g._clearGenericServiceError(),e.dataPath=e.dataPath||e.context.dataPath,g._currentTarget="#"+e.context.id;var t=g.model;e.context=t.get(e.dataPath),g.output.emit("state",{value:"cacheOpenFormIndex",data:e.dataPath.split(".")[1]});var i={};g.editPhoneNumberProperties.forEach((function(n){i[n]=t.get(e.dataPath+"."+n)})),t.set(e.dataPath+".flags.currentPhoneObject",i),g.formController.set("edit",e.dataPath),t.set(e.dataPath+".flags.editingPhoneNumber",!0),h("edit");var n=t.get(e.dataPath+".flags.currentPhoneObject.phoneNumberRegion");a.emit("setFocusOnElement",n?"#input-"+n:"#phonenumber-edit"),a.updateNativeButtonsAndNavigation("phone.editPhone"),g._setupInitialValidation(e);var r=t.get(e.dataPath+".phoneNumber");t.set("phoneNumber",r),a.registerDirtyForm("phone",r)},g.confirmUpdatePhoneNumber=function(e){g.screenTakeoverTeardown(),g._clearGenericServiceError(),g._dispatch(e,"updateConfirmation"),a.deregisterDirtyForm()},g._checkPhoneForTCPA=function(e){var t,i,r=e.component||g;return g._clearGenericServiceError(),"DOMESTIC"===n.get(e,"context.phoneNumberRegion")?(t=function(t){if(!t.mobileNumber)return g._updatePhoneNumber(e,!0);g._dispatch(e,"updatePhoneUsagePreference")},i=function(){a.logger.error("myProfile.phone.ena.validate.svc FAIL"),r.triggerGenericServiceError()},g.callService("myProfile.phone.ena.validate.svc",g,e).then(t,i).catch(g.excf)):g._updatePhoneNumber(e)},g._numberHasExtension=function(e,t){return-1!==e.search("Ext.")&&"DOMESTIC"===t},g._allServicesSuccess=function(e){e.successServices=e.successServices||[],e.failedServices=e.failedServices||[],e.ineligibleServices=e.ineligibleServices||[];var t=e.failedServices.length>0,i=0===e.successServices.length,n=0===e.ineligibleServices.length||-1===e.ineligibleServices.indexOf("ONLINE_VERIFICATION")&&-1===e.ineligibleServices.indexOf("ACCOUNTS_CELL")&&-1===e.ineligibleServices.indexOf("ACCOUNTS_HOME")&&-1===e.ineligibleServices.indexOf("ACCOUNTS_WORK");return!i&&!t&&n},g._buildServiceDict=function(e){var t={};e.successServices=e.successServices||[],e.failedServices=e.failedServices||[],e.ineligibleServices=e.ineligibleServices||[],e.successServices.forEach((function(e){t[e]="success"})),e.failedServices.forEach((function(e){t[e]="failed"})),e.ineligibleServices.forEach((function(e){t[e]="ineligible"}));var i={ineligible:"ineligible",failed:"failed"},n=i[t.ACCOUNTS_WORK]||i[t.ACCOUNTS_CELL]||i[t.ACCOUNTS_HOME];return t.ACCOUNTS=n||"success",t},g._updatePhoneNumber=function(e,t){var r="myProfile.phone.update.svc";A&&(i.setRetryProps("requestFn",g._updatePhoneNumber),i.setRetryProps("eventObj",e),i.setRetryProps("miscParam",t),r="myProfile.phone.caas.update.svc"),g._clearGenericServiceError(),a.controller.emit("clearMessagesOnHeader");var o=function(t){a.state(v.confirmUpdatePhoneNumber);var r=function(e,t){y.setting="myProfilePhoneNumberErrorHeader",y.variation=e,h.setting="myProfilePhoneNumberErrorAdvisory",h.variation=t},o=function(){return"ineligible"===u&&!g._numberHasExtension(m.phoneNumber,f)&&g._numberHasExtension(m.newPhoneNumber,A)};if(!g.handleServiceError(t,["PHONE_NUMBER_ALREADY_EXISTS"],g._displayServiceError,"defaultUpdateError")){var c=g._buildServiceDict(t),l=n.get(e,"context.phoneNumberCategory"),d="PRIMARY"===l;d&&(c.ONLINE_VERIFICATION=c.ACCOUNTS);var u=c.ONLINE_VERIFICATION,p=c.ACCOUNTS,m=s(e.context,"EDIT"),f=n.get(e,"context.oldPhoneNumberRegion"),A=n.get(e,"context.phoneNumberRegion"),E=n.get(e,"context.flags.enaAndAllServicesEnabled"),y={},h={};y.setting="myProfilePhoneNumberConfirmationHeader",y.variation="UPDATED_PHONE_NUMBER",y.props=m,h.setting="myProfilePhoneNumberConfirmationAdvisory",h.variation="UPDATED_PHONE_NUMBER",h.props=m;var C="DOMESTIC"===f&&"INTERNATIONAL"===A;C&&("success"===p&&(d||E))?h.variation="UPDATED_PHONE_NUMBER_INTERNATIONAL_NO_MFA":g._allServicesSuccess(t)?g._setPartnerInfo("UPDATE",t.statusCodes):"success"!==u&&"success"===p?function(e,t,i){e?"SECONDARY"===t?r("PHONE_NUMBER_NOT_UPDATED_DUE_TO_INTERNATIONAL","PHONE_NUMBER_NOT_UPDATED_DUE_TO_INTERNATIONAL"):h.variation="UPDATED_PHONE_NUMBER_INTERNATIONAL_NO_MFA":o()?r("PHONE_NUMBER_NOT_UPDATED_DUE_TO_EXTENSION","PHONE_NUMBER_NOT_UPDATED_DUE_TO_EXTENSION"):"DOMESTIC"===i&&r("PHONE_NUMBER_NOT_UPDATED_DUE_TO_SYSTEM_ISSUE","PHONE_NUMBER_NOT_UPDATED_DUE_TO_SYSTEM_ISSUE_BUT_ADDED_AS_NEW")}(C,l,f):"success"===u&&"success"!==p&&(r("PHONE_NUMBER_NOT_UPDATED_DUE_TO_SYSTEM_ISSUE","PHONE_NUMBER_NOT_UPDATED_DUE_TO_SYSTEM_ISSUE_BUT_ADDED_FOR_MFA"),"ineligible"===p&&r("PHONE_NUMBER_NOT_UPDATED_DUE_TO_ACCOUNTS_ISSUE","PHONE_NUMBER_NOT_UPDATED_DUE_TO_ACCOUNTS_ISSUE_BUT_ADDED_FOR_MFA")),e.phoneActionType="EDIT",e.header=y,e.advisory=h,g._reloadPhonePage(e),e.hide&&e.hide(),i.setRetryProps("eventObj",{assessmentId:null,riskId:null})}};if(e.context.phoneNumberId&&e.context.phoneNumber)return g.callService(r,g,e).then((function(t){i._requestUpdateStepUpHandler(t,A,"EDIT",o),e.hide&&e.hide()}),g._displayServiceError).catch(g.excf);g._displayServiceError()},g.doNotUpdatePhoneNumber=function(){g.resetAriaLiveOnError(),a.state(v.selectMyPhoneDetails),g.output.emit("trigger",{value:"clearValidation",data:""}),g._clearGenericServiceError(),g.formController.close(),a.emit("setFocusOnPhone"),g._updatePhoneDetailsNativeHeader(),a.deregisterDirtyForm()},g.deletePhoneNumber=function(e){g.getPhoneHeaderComponent().resetCaasErrorHeader(),g.formController.close(),e.dataPath=e.dataPath||e.context.dataPath,e.context=g.model.get(e.dataPath),g._currentTarget="#"+e.context.id,g._dispatch(e,"deletePhoneNumber")},g.updatePhoneUsagePreference=function(e){g.formController.close(),g._currentTarget="#"+e.context.id,e.dataPath=e.dataPath||e.context.dataPath,e.context=g.model.get(e.dataPath),h("updatePhoneUsagePreference"),g._dispatch(e,"updatePhoneUsagePreference")},g.updatePhoneNumberFormat=function(){},g.addAccountsToPhoneNumber=function(e){g.formController.close(),g._currentTarget="#"+e.context.id;var t=g.model;e.dataPath=e.dataPath||e.context.dataPath,e.context=t.get(e.dataPath),g.phoneNumber=e.context.phoneNumber,e.context.groupId=g.model.get("groupId"),e.context.phoneNumberCount=g.model.get("phoneNumberDetails").length;var i=e.context.accountsServiceStatus,n={};g.output.emit("state",{value:"cacheOpenFormIndex",data:e.dataPath.split(".")[1]}),g.addAccountsToPhoneNumberProperties.forEach((function(i){n[i]=t.get(e.dataPath+"."+i)})),t.set(e.dataPath+".flags.currentPhoneObject",n),"ACCOUNTS_ADD_ALLOWED"===i?g._showAddAccountsToPhoneNumberForm(e):g._showEditAccountsForPhoneNumberForm(e)},g._showAddAccountsToPhoneNumberForm=function(e){var t,i;return g._clearGenericServiceError(),t=function(t){var i=c[e.context.phoneNumberCategory].UPDATE;a.updateNativeButtonsAndNavigation("phone.addAccounts"),a.state(v[i]),g.formController.set("addAccounts",e.dataPath),Boolean(g.model.get(e.dataPath+".phoneNumberType"))||g.model.set(e.dataPath+".phoneNumberType","HOME"),g.model.set(e.dataPath+".addOptions",t),g.model.set(e.dataPath,Object.assign({},g.model.get(e.dataPath))),g.output.emit("updateSkipSelector")},i=function(){g.getPhoneHeaderComponent().triggerGenericServiceError(),r.scrollTo(0,0)},g.callService("myProfile.phone.ena.addOptions.svc",g,e).then(t,i).catch(g.excf)},g._showEditAccountsForPhoneNumberForm=function(e){var t,i;return e.context.groupId=g.model.get("groupId"),g._clearGenericServiceError(),t=function(t){var i=c[e.context.phoneNumberCategory].UPDATE;a.updateNativeButtonsAndNavigation("phone.addAccounts"),a.state(v[i]),g.formController.set("addAccounts",e.dataPath),g.model.set(e.dataPath+".addOptions",t),g.model.set(e.dataPath,Object.assign({},g.model.get(e.dataPath))),g.output.emit("updateSkipSelector")},i=function(){g.getPhoneHeaderComponent().triggerGenericServiceError()},g.callService("myProfile.phone.ena.editOptions.svc",g,e).then(t,i).catch(g.excf)},g._updateConfirmedAccountsToPhoneNumber=function(e){var t,i,o=e.context.accountsServiceStatus;a.controller.emit("clearMessagesOnHeader"),g._clearGenericServiceError();var s=e.component||g;return e.context=n.merge(g.model.get(),e.context),"ACCOUNTS_ADD_ALLOWED"===o?(t=function(t){var i=c[e.context.phoneNumberCategory].CONFIRM;a.state(v[i]),t.mobileNumber?g._dispatch(e,"updatePhoneUsagePreference"):g._confirmAddAccountsToPhoneNumber(e)},i=function(){a.logger.error("myProfile.phone.ena.validate.svc FAIL"),s.triggerGenericServiceError()},"updateConfirmedAccountsToPhoneNumber"===e.type&&(i=function(){a.area.broadcast("showWarningModalServerError")}),g.callService("myProfile.phone.ena.validate.svc",g,e).then(t,i).catch(g.excf)):(g._clearGenericServiceError(),t=function(t){var i=c[e.context.phoneNumberCategory].CONFIRM;a.state(v[i]),g._setPartnerInfo("UPDATE",t.statusCodes),g._showAddAccountsToPhoneNumberMessages(e,"SUCCESS"===t.code),r.scrollTo(0,0)},i=function(){s.triggerGenericServiceError()},g.callService("myProfile.phone.ena.update.svc",g,e).then(t,i).catch(g.excf))},g.confirmAddAccountsToPhoneNumber=function(e){g._doesCardAccountSelectedTriggerDelete(e,"_updateConfirmedAccountsToPhoneNumber")||g._updateConfirmedAccountsToPhoneNumber(e)},g._confirmAddAccountsToPhoneNumber=function(e){var t,n,a="myProfile.phone.ena.add.svc";return A&&(i.setRetryProps("requestFn",g._confirmAddAccountsToPhoneNumber),i.setRetryProps("eventObj",e),a="myProfile.phone.caas.ena.add.svc"),t=function(t){g._setPartnerInfo("UPDATE",t.statusCodes),e.hide&&e.hide(),g._showAddAccountsToPhoneNumberMessages(e,"SUCCESS"===t.code),r.scrollTo(0,0),i.setRetryProps("eventObj",{assessmentId:null,riskId:null})},n=function(){g._showAddAccountsToPhoneNumberMessages(e,!1)},g.callService(a,g,e).then((function(n){i._requestUpdateStepUpHandler(n,A,"ENA_ADD",t),e.hide&&e.hide()}),n).catch(g.excf)},g._showAddAccountsToPhoneNumberMessages=function(e,t){if(t){var i={},r={};if(i.setting="myProfilePhoneNumberConfirmationHeader",i.variation="UPDATED_PHONE_NUMBER",i.props=s(e.context,"ADD_ACCOUNTS"),r.setting="myProfilePhoneNumberConfirmationAdvisory",r.props=s(e.context,"ADD_ACCOUNTS"),n.get(e,"context.flags.isPrimary")){var a,o;"PRIMARY"===(a=g.model.get("phoneNumberDetails.0")).phoneNumberCategory&&(o=a.oldPhoneNumber),e.context.oldPrimaryPhoneNumber=o;var c=e.context.phoneNumberRegion;r.variation="INTERNATIONAL"===c?"UPDATED_INTERNATIONAL_PHONE_NUMBER_AS_PRIMARY":"UPDATED_PHONE_NUMBER_AS_PRIMARY"}e.context.deletedPhoneNumber&&(n.get(e,"context.flags.isPrimary")?r.variation="UPDATED_PRIMARY_AND_DELETED_SECONDARY_PHONE_NUMBER":r.variation="UPDATED_SECONDARY_AND_DELETED_SECONDARY"),r.variation||(r.variation="UPDATED_PHONE_NUMBER"),e.header=i,e.advisory=r,g._reloadPhonePage(e)}else e.hide&&e.hide(),g.triggerGenericServiceError()},g._selectedCardAccounts=function(e){var t,i={};return(t="ACCOUNTS_UPDATE_ALLOWED"===e.context.accountsServiceStatus?e.context.addOptions.eligibleAccounts:e.context.addOptions.accountsAllowed[e.context.phoneNumberType])&&t.forEach((function(e){!0===e.checked&&-1!==e.accountId&&(i[e.accountId]=!0)})),i},g._doesCardAccountSelectedTriggerDelete=function(e,t){var i=g.model.get("cardOnlyContacts");if(i){var n=g._selectedCardAccounts(e),r=[],o=e.context.phoneNumberType||[];if("string"==typeof o&&(o=[e.context.phoneNumberType]),i.forEach((function(e){o.forEach((function(t){if(e.phoneNumberType===t){var i=!0;e.associatedAccounts.forEach((function(e){n[e]||(i=!1)})),i&&"ACCOUNT"===e.entityType&&r.push(e.phoneNumber)}}))})),r.length>0)return e.context.deletedPhoneNumber=r.join(", "),e.context.callback=t,g._currentTarget=e.domEvent.currentTarget,a.controller.broadcast("deletePhoneNumberWarning",{phoneNumber:e.context.deletedPhoneNumber,formData:e}),!0}return!1},g.doNotAddAccountsToPhoneNumber=function(){a.state(v.selectMyPhoneDetails),g.formController.close(),a.emit("setFocusOnPhone"),g._updatePhoneDetailsNativeHeader()},g.updateAccountsToPhoneNumber=function(){},g.addAlertsToPhoneNumber=function(e){g.formController.close(),g._currentTarget="#"+e.context.id,e.dataPath=e.dataPath||e.context.dataPath,e.context=g.model.get(e.dataPath),g._dispatch(e,"addAlertsToPhoneNumber")},g.addQuickpayToPhoneNumber=function(e){g.formController.close(),g._currentTarget="#"+e.context.id,e.dataPath=e.dataPath||e.context.dataPath;var t=e.dataPath.split(".").splice(0,2).join("."),i=g.model.get(t);e.context=i,i.addQuickpayFlowOrigin="addQuickpay",a.controller.broadcast("addQuickpayForPhone",{data:e})},g.removeAlertsFromPhoneNumber=function(e){g._currentTarget="#"+e.context.id,e.dataPath=e.dataPath||e.context.dataPath,e.context=g.model.get(e.dataPath),g.formController.close(),g._dispatch(e,"removeAlertsFromPhoneNumber")},g.removeQuickpayFromPhoneNumber=function(e){g._currentTarget="#"+e.context.id,e.dataPath=e.dataPath||e.context.dataPath,e.context=g.model.get(e.dataPath),g.formController.close(),g._dispatch(e,"removeQuickpayFromPhoneNumber")},g.manageQuickpayPreferences=function(){g.formController.close(),a.state(a.stringMap.get("quickPayEnrollmentUrl"))},g.verifyPhoneNumberForQuickpay=function(e){g._currentTarget="#"+e.context.id,e.dataPath=e.dataPath||e.context.dataPath,e.context=g.model.get(e.dataPath),e.context.addQuickpayFlowOrigin="verifyQuickpay",a.controller.broadcast("verifyQuickpayForPhone",{data:e})},g.manageMyAlerts=function(){g.formController.close(),a.state(g.navigation.getUrl.get("manageMyAlerts").url)},g.requestLinkedAccountsAndServicesHelpMessage=d,g.exitLinkedAccountsAndServicesHelpMessage=d,g.requestUnavailablePhoneNumberForAlertsHelpMessage=d,g.exitUnavailablePhoneNumberForAlertsHelpMessage=d,g.requestUnavailablePhoneNumberForQuickpayHelpMessage=d,g.exitUnavailablePhoneNumberForQuickpayHelpMessage=d,g.requestUnavailableAddAccountsHelpMessage=d,g.exitUnavailableAddAccountsHelpMessage=d,g.requestIneligiblePhoneNumberForAlertsHelpMessage=d,g.exitIneligiblePhoneNumberForAlertsHelpMessage=d,g.requestIneligibleWorkPhoneNumberForAlertsHelpMessage=d,g.exitIneligibleWorkPhoneNumberForAlertsHelpMessage=d,g.requestIneligiblePhoneNumberForQuickpayHelpMessage=d,g.exitIneligiblePhoneNumberForQuickpayHelpMessage=d,g.requestIneligibleWorkPhoneNumberForQuickpayHelpMessage=d,g.exitIneligibleWorkPhoneNumberForQuickpayHelpMessage=d,g.requestActivationCode=d,g._FormController=function(e){var t=null,i=null,n=".flags.addingAccountsToPhone",r=e.model,a=function(){switch(t){case"add":r.lens("phoneNumberDetails").modify((function(e){return(e=e.slice()).pop(),e}));break;case"edit":var a=r.get(i+".flags.currentPhoneObject")||{};e.editPhoneNumberProperties.forEach((function(e){r.set(i+"."+e,a[e])})),r.set(i+".flags.editingPhoneNumber",!1),r.set("phoneEditEvent",null);break;case"addAccounts":var o=r.get(i+".flags.currentPhoneObject")||{};e.addAccountsToPhoneNumberProperties.forEach((function(e){r.set(i+"."+e,o[e])})),r.set(i+n,!1);var s=r.get(i+".addOptions.eligibleAccounts");Array.isArray(s)&&s.length>0&&s.forEach((function(e){e.checked=!1}))}t&&e.output.emit("ractiveModelCacheTeardown"),t=null,i=null,e.getComponent("BROKERAGE_ACCOUNTS_PHONE_NUMBER").formController.close()};return{set:function(e,o){g.getPhoneHeaderComponent().resetCaasErrorHeader(),a(),i=o,"addAccounts"===(t=e)&&r.set(i+n,!0)},close:a,reset:function(){t=null,i=null}}},g._dispatch=function(e,t){e.context=n.merge(g.model.get(),e.context),e.model=g.model,a.area.broadcast(t,{data:e})},g._reloadPhonePage=function(e){g._clearGenericServiceError(),g.formController.close(),e=e||{},a.controller.broadcast("reloadPhoneController",e)},g._setPartnerInfo=function(e,t){var i=g.getPhoneHeaderComponent();g.plm.setPartnerInfo(i,e,t)},g._handleSkiplinkPress=function(e){a.profileUtil.skipIfEnterSpaceOrClick(g,e,"skipBack")},g.dismissTooltip=function(){},g.skipBack=function(){},g._updateNativeHeaderButtons=function(e){a.updateNativeButtonsAndNavigation(e.showOverlay?"phone.dirtyOverlay":"phone.selectPhoneDetails")},g._doNotExit=function(){a.Api.modal.hideCancelConfirmationOverlay()}}})),define("profileArea/personalDetails/phone/component/phoneCaas",[],(function(){"use strict";return function(e){var t=this;t.onInit=function(){e.globalContentMixin.call(t,["importantAda","closeAda","pageLockdownHeader","pageLockdownAdvisory"])},t.focusOnPhoneCaas=function(){t.output.emit("state",{value:"focusOnPhoneCaas"})},t.requestAccountContactUs=function(){e.hybrid&&e.hybridHelper&&e.hybridHelper.webNativeMessenger?e.hybridHelper.webNativeMessenger.goToNativePage({navKey:"requestAccountContactUs"},"visitDirectory"):e.user.profile.isJPOUser()?e.state("#/dashboard/myAdvisoryTeam"):e.application.broadcast("makeNavigation",{navKey:"requestAccountContactUs"})}}})),define("profileArea/sharedLib/connect",["require","appkit-utilities/rapidash/rapidash"],(function(e){"use strict";var t,i,n,r=e("appkit-utilities/rapidash/rapidash");return t=[],i={},n=function(){t.forEach((function(e){r.get(e,"component.__id")&&(i[e.component.__id]=e)})),t=[]},{connect:function(e,t){if(t=t||{},n(),!t.context){var r=e.__id,a=i[r];a&&(t.context=a.rtemplate.get())}return t},set:function(e){n(),t.push(e)}}})),define("profileArea/personalDetails/phone/component/deletePhone",["require","appkit-utilities/rapidash/rapidash","profileArea/sharedLib/connect","profileArea/sharedLib/genericServiceErrorEvent","profileArea/personalDetails/phone/lib/getPhoneProps","appkit-utilities/analytics/overlay"],(function(e){"use strict";var t,i=e("appkit-utilities/rapidash/rapidash"),n=e("profileArea/sharedLib/connect").connect,r=e("profileArea/sharedLib/genericServiceErrorEvent"),a=e("profileArea/personalDetails/phone/lib/getPhoneProps"),o=e("appkit-utilities/analytics/overlay"),s="DELETED_PHONE_NUMBER",c="success",l="failed",d="ineligible";return function(e){var u=this;u.onInit=function(){t=e.dcu.dynamicContent,u.commonComponentsUtil=e.commonComponentsUtil,u.callService=e.callService,u.getComponent=e.getComponent,e.on("deleteConfirmationFailed",u._deleteServiceFailed)},u.onReady=function(){r.addTriggerGenericServiceError(u,"deletePhoneNumberConfirmationErrorHeader","deletePhoneNumberConfirmationErrorAdvisory")},u._buildServiceDict=function(e){var t={};i.forEach(e.failedServices,(function(e){t[e]=l})),i.forEach(e.successServices,(function(e){t[e]=c})),i.forEach(e.ineligibleServices,(function(e){t[e]="ONLINE_VERIFICATION"===e?c:d})),t.ONLINE_VERIFICATION||(t.ONLINE_VERIFICATION=c);var n={ineligible:d,failed:l},r=n[t.ACCOUNTS_WORK]||n[t.ACCOUNTS_CELL]||n[t.ACCOUNTS_HOME];return t.ACCOUNTS=r||c,t},u.deletePhoneNumber=function(t){var r,p,m,f="myProfile.phone.delete.svc";(t=n(u,t)).context=i.merge(u.model.get(),t.context),u.clearGenericServiceError(),e.controller.emit("clearMessagesOnHeader"),r=function(i){var n="myProfilePhoneNumberErrorHeader",r="myProfilePhoneNumberConfirmationHeader";if(i.successServices=i.successServices||[],i.failedServices=i.failedServices||[],e.state(e.phoneRoutes.confirmDeletePhoneNumber),0===i.successServices.length&&i.failedServices.length>0)e.controller.broadcast("deleteConfirmationFailed");else{var p=u._buildServiceDict(i),m=p.ONLINE_VERIFICATION,f=p.ACCOUNTS,A=p.QUICKPAY,g=p.ALERTS,E=a(u,"DELETE"),y={setting:"",variation:"",props:E},h={setting:"",variation:"",props:E};if(A===l||g===l)y.setting=n,y.variation=s;else if(f!==c&&m===c)f===d?(y.setting=n,y.variation="PHONE_NUMBER_NOT_DELETED_DUE_TO_ACCOUNTS_ISSUE",h.setting="myProfilePhoneNumberErrorAdvisory",h.variation="DELETED_PHONE_NUMBER_ERROR_ONLY_MFA_SUCCESSFUL"):(y.setting=n,y.variation=s);else if(f===c&&m===l)y.setting=n,y.variation=s;else if(f===c&&m===c){u.model.get("accounts").reduce((function(e,t){return e||t.accountId>-1}),!1)?(y.setting=r,y.variation=s,h.setting="myProfilePhoneNumberConfirmationAdvisory",h.variation=s):(y.setting=r,y.variation=s)}else y.setting=n,y.variation=s;t.phoneActionType="DELETE",t.header=y,t.advisory=h,o.hideOverlay(u,"deletePhoneNumberConfirmationOverlay","deletePhoneNumber"),u._hideModal(),e.area.broadcast("reloadPhoneController",t)}},p=function(){e.logger.error("myProfile.phone.delete.svc FAIL"),u.triggerGenericServiceError()},m=function(t){e.logger.error(f,t.stack)},u.callService(f,u,t).then(r,p).catch(m)},u.doNotDeletePhoneNumber=function(){e.updateNativeButtonsAndNavigation("phone.selectPhoneDetails");var t=u.model.get("phoneNumberId");o.hideOverlay(u,"deletePhoneNumberConfirmationOverlay","doNotDeletePhoneNumber"),u._hideModal(),u.output.emit("focusPhoneDelete",{target:t})},u._showModal=function(n){e.updateNativeButtonsAndNavigation("phone.deleteOverlay"),o.showOverlay(u.getComponent("phone"),"deletePhoneNumberConfirmationOverlay","deletePhoneNumber"),e.modalController.set(u._hideModal);var r,a,s=n.data.model,c=n.data.dataPath,l=s.get(c);l.groupId=s.get("groupId"),u.model.modify((function(e){return i.extend(!1,e,l),e}));var d=!1,p=l.accounts.length,m=[];l.accounts.forEach((function(e){-1===e.accountId?m=m.concat(e.accountDisplayName.split("<br>")):m.push(e.accountDisplayName)})),r=1===m.length?m[0]:i.toHtmlString(m),1===p&&-1===l.accounts[0].accountId&&(d=!0);var f=l.services.filter((function(e){return"ENABLED"===e.serviceStatus||"Chase QuickPay"===e.serviceName&&"UNVERIFIED"===e.serviceStatus})).map((function(e){return e.serviceName}));a=1===f.length?f[0]:i.toHtmlString(f),t.set(u,"deletePhoneNumberHeader","DELETE",{phoneNumber:u.model.get("formattedPhoneNumber")});var A=u._getAdvisoryVariation(l);"SERVICES_AND_SINGLE_ACCOUNT"===A&&d&&(A="SERVICES_AND_MULTIPLE_ACCOUNTS"),t.set(u,"deletePhoneNumberAdvisory",A,{serviceNames:a,accountDisplayNames:r}),u.model.set("isWarningModal",!1);var g=e.state();g.action.name="showModalDialogForPhone",g.action.params={componentName:"DELETE_PHONE"},e.privateState(g)},u._getAdvisoryVariation=function(t){var i=t.accounts.length,n="ACCOUNTS_UPDATE_ALLOWED"===t.accountsServiceStatus,r=t.quickpayDeleteAllowed,a=t.mfaEnabled,o=t.alertsEnabled,s=1===[r,a,o].filter((function(e){return!0===e})).length,c=1===i;c&&-1===t.accounts[0].accountId&&(i=t.accounts[0].accountDisplayArray.length);var l,d=i>1,u=a||r||o,p={SINGLE_SERVICE_AND_SINGLE_ACCOUNT:s&&c,SINGLE_SERVICE_AND_MULTIPLE_ACCOUNTS:s&&d,SINGLE_ACCOUNT_ONLY:!u&&c,MULTIPLE_ACCOUNTS_ONLY:!u&&d,SERVICES_AND_SINGLE_ACCOUNT:u&&c,SERVICES_AND_MULTIPLE_ACCOUNTS:u&&d},m=Object.keys(p);return n?l=e.util.array.find(m,(function(e){return p[e]})):o||r||!a||(l="ONLINE_SECURITY_ONLY"),l},u._hideModal=function(){u.destroyView()},u._showWarningModal=function(n){e.updateNativeButtonsAndNavigation("phone.addAccountsDeleteOverlay"),e.modalController.set(u._hideModal),u._cachedAddAccountsFormData=n.formData;var r=n.formData.context.oldPhoneNumber,a=n.formData.context.deletedPhoneNumber;a.indexOf(",")>0?(t.set(u,"deletePhoneNumberHeader","UPDATE",{newPhoneNumber:r}),t.set(u,"deletePhoneNumberAdvisory","DELETE_MULTIPLE_PHONE_NUMBERS",{newPhoneNumber:r,phoneNumber:i.toHtmlString(a.split(","))})):(t.set(u,"deletePhoneNumberHeader","DELETE",{phoneNumber:a}),t.set(u,"deletePhoneNumberAdvisory","DELETE_SECONDARY_PHONE_NUMBER",{phoneNumber:a})),u.model.set("isWarningModal",!0);var o=e.state();o.action.name="showModalDialogForPhone",o.action.params={componentName:"DELETE_PHONE"},e.privateState(o)},u._hideWarningModal=function(){e.updateNativeButtonsAndNavigation("phone.addAccounts"),u.destroyView(),u.model.set("isWarningModal",!1)},u.cancelPhoneUpdate=function(){u.clearGenericServiceError(),u._hideWarningModal(),e.area.broadcast("setFocusOnPhone"),delete u._cachedAddAccountsFormData},u.continuePhoneUpdate=function(){u.clearGenericServiceError(),u._cachedAddAccountsFormData.component=u,e.area.broadcast("updateConfirmedForPhoneNumber",u._cachedAddAccountsFormData)},u._showWarningModalServerError=function(){u.triggerGenericServiceError()},u._deleteServiceFailed=function(){u.triggerGenericServiceError()}}})),define("profileArea/personalDetails/phone/component/phoneTcpa",["require","appkit-utilities/rapidash/rapidash","profileArea/sharedLib/connect","profileArea/personalDetails/phone/lib/transformers","appkit-utilities/analytics/overlay","appkit-utilities/common/mediaQueryListener","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";var t,i,n=e("appkit-utilities/rapidash/rapidash"),r=e("profileArea/sharedLib/connect").connect,a=e("profileArea/personalDetails/phone/lib/transformers"),o=e("appkit-utilities/analytics/overlay");return function(s){var c,l=this,d=e("appkit-utilities/common/mediaQueryListener"),u=function(){var e=c?l.model.get("flow")+"Phone":"selectPhoneDetails";e&&s.updateNativeButtonsAndNavigation("phone."+e)};l.onInit=function(){c=d.currentBreakpoint===d.BREAKPOINT.XS,t=s.dcu.dynamicContent,s.globalContentMixin.call(l,["importantAda","skipBackLabel"]),i=e("profileArea/sharedLib/genericServiceErrorEvent"),l.commonComponentsUtil=s.commonComponentsUtil,l.callService=s.callService,l.getComponent=s.getComponent,s.on("destroyPhoneTcpaModal",l._hideModal)},l.onReady=function(){var e;i.addTriggerGenericServiceError(l,"updatePhoneUsagePreferenceErrorHeader","updatePhoneUsagePreferenceErrorAdvisory"),l.model.get("enableNewAppNavigation")&&(e="updatePhoneUsagePreference"===l.model.get("flow")?"usagePreferenceTcpa":"addOrEditTcpa",s.updateNativeButtonsAndNavigation("phone."+e)),s.state(s.phoneRoutes.updateTCPA)},l.confirmUpdatePhoneUsagePreference=function(e){l.clearGenericServiceError(),(e=r(l,e)).context.formattedPhoneNumber=l.model.get("formattedPhoneNumber"),n.extend(!1,l.phoneComponentData.context,e.context),l.addingPhone?l.phoneComponentData.context.selectedPhoneUsagePreference="ALL_PHONE_CALLS_AND_TEXTS":l.phoneComponentData.context.selectedPhoneUsagePreference=l.model.get("selectedPhoneUsagePreference"),s.controller.broadcast("confirmUpdatePhoneUsagePreferencePartOne",{data:l.phoneComponentData}),o.hideOverlay(l,"updatePhoneUsagePreferenceOverlay","confirmUpdatePhoneUsagePreference")},l.doNotUpdatePhoneUsagePreference=function(){var e="addPhoneNumber";l.model.get("editingPhoneNumber")&&(e="updatePhoneNumber"),s.state(s.phoneRoutes[e]),o.hideOverlay(l,"updatePhoneUsagePreferenceOverlay","doNotUpdatePhoneUsagePreference"),l._hideModal(),s.deregisterDirtyForm(),(!l.model.get("enableNewAppNavigation")||"edit"!==l.model.get("flow"))&&s.controller.broadcast("setFocusOnPhone")},l._nativeCloseHandler=function(){l.doNotUpdatePhoneUsagePreference(),s.controller.broadcast("phoneCloseFormAndUpdateNativeHeader")},l._nativeBackHandler=function(){l.doNotUpdatePhoneUsagePreference(),l.originatedFromUpdateConfirmationModal?s.area.broadcast("updateConfirmation"):u()},l.requestMobilePhoneUsageConsent=function(){l.seeMoreTcpa=!0},l.exitMobilePhoneUsageConsent=function(){l.seeMoreTcpa=!1},l._showModal=function(e){o.showOverlay(l.getComponent("phone"),"updatePhoneUsagePreferenceOverlay"),s.modalController.set(l._hideModal),l.phoneComponentData=e.data;var i=e.data.context,n=i.flags.tcpaConsent||"DEFAULT";i.enableNewAppNavigation&&(l.originatedFromUpdateConfirmationModal=l.phoneComponentData.originatedFromUpdateConfirmationModal,l.model.set("flow",i.flow)),i.flags.editingPhoneNumber?l.model.set("editingPhoneNumber",!0):(l.model.set("preSelectedPhoneUsagePreference",n),l.model.set("editingPhoneNumber",!1)),l.addingPhone=i.flags.newPhoneNumber,l.seeMoreTcpa=!1;var r=e.data.domEvent?.submitter?.id||e.data.domEvent?.target?.id;r&&(l.modalFocusBackTarget="#"+r),t.set(l,"currentPhoneUsagePreference",n),l.model.set("selectedPhoneUsagePreference",i.flags.tcpaConsent||null),i.formattedPhoneNumber=a.formatPhoneNumber(i.phoneNumberRegion,i.phoneNumber),i.phoneNumberExtension&&""!==i.phoneNumberExtension&&(i.formattedPhoneNumber=i.formattedPhoneNumber.concat(" ",i.phoneNumberExtensionLabel," ",i.phoneNumberExtension)),i.oldPhoneNumberExtension&&""!==i.oldPhoneNumberExtension&&(i.oldPhoneNumber=i.oldPhoneNumber.concat(" ",i.phoneNumberExtensionLabel," ",i.oldPhoneNumberExtension)),l.model.set("formattedPhoneNumber",i.formattedPhoneNumber);var c=s.state();c.action.name="showModalDialogForPhone",c.action.params={componentName:"PHONE_TCPA"},s.privateState(c)},l._hideModal=function(){s.state(s.phoneRoutes.selectMyPhoneDetails),l.destroyView()},l._handleSkiplinkPress=function(e){s.profileUtil.skipIfEnterSpaceOrClick(l,e,"skipBack")},l.skipBack=function(){}}})),define("profileArea/personalDetails/phone/component/phoneTcpaConfirmation",["require","appkit-utilities/rapidash/rapidash","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";var t,i=e("appkit-utilities/rapidash/rapidash"),n=e("profileArea/sharedLib/genericServiceErrorEvent");return function(e){var r=this;r.onInit=function(){t=e.dcu.dynamicContent,r.commonComponentsUtil=e.commonComponentsUtil,r.callService=e.callService,r.getComponent=e.getComponent,e.on("confirmUpdatePhoneUsagePreferencePartOne",(function(e){e.data.context.enableNewAppNavigation&&r.model.set("flow",e.data.context.flow);var t=i.get(e,"data.context.selectedPhoneUsagePreference");switch(r.phoneData=e.data,r.modalComponentShowing=r,t){case"ALL_PHONE_CALLS_ONLY":case"MANUALLY_DIALED_ONLY":r._showModal();break;case"ALL_PHONE_CALLS_AND_TEXTS":r._showModalOnEditPhone(e.data);break;default:r._showOnAddPhone(e.data)}}))},r.onReady=function(){n.addTriggerGenericServiceError(r,"updatePhoneUsagePreferenceConfirmationErrorHeader","updatePhoneUsagePreferenceConfirmationErrorAdvisory"),e.updateNativeButtonsAndNavigation("phone.phoneTcpaConfirmationOverlay"),r.setFocusOnPhone=!0},r.confirmUpdatePhoneUsagePreference=function(t){e.state(e.phoneRoutes.confirmUpdatePhoneUsagePreference),r.getComponent("PHONE_TCPA").clearGenericServiceError(),e.logger.info("confirmUpdatePhoneUsagePreference"),t.context=t.context||{};var n=i.get(r,"phoneData.context.flags.editingPhoneNumber"),a="string"!=typeof i.get(r,"phoneData.context.phoneNumberId"),o=i.get(r,"phoneData.context.flags.addingAccountsToPhone");i.extend(!1,t.context,r.phoneData.context),n||a||o?(t.context.flags.tcpaConfirmed=!0,e.controller.broadcast("confirmUpdatePhoneUsagePreference",{data:{context:t.context,hide:r._hideModal,component:r.modalComponentShowing}})):r._enaTcpaUpdate(t)},r._enaTcpaUpdate=function(t){var n,a,o;e.logger.info("_enaTcpaUpdate"),r.clearGenericServiceError&&r.clearGenericServiceError(),r.getComponent("PHONE_TCPA").clearGenericServiceError(),n=function(){var n,a,o;(a=i.get(r,"phoneData.context"))&&(n=a.formattedPhoneNumber),o={phoneNumber:n};var s={},c={};s.setting="myProfilePhoneNumberConfirmationHeader",s.variation="UPDATED_PHONE_USAGE_PREFERENCE",s.props=o,c.setting="myProfilePhoneNumberConfirmationAdvisory",c.variation="UPDATED_PHONE_USAGE_PREFERENCE_"+t.context.selectedPhoneUsagePreference,c.props=o,r._hideModal(!0),t.header=s,t.advisory=c,e.area.broadcast("reloadPhoneController",t)},a=function(){e.logger.error("myProfile.phone.ena.tcpa.update.svc FAIL"),r.triggerGenericServiceError&&r.triggerGenericServiceError(),r.getComponent("PHONE_TCPA").triggerGenericServiceError()},o=function(t){e.logger.error(t.stack),r.triggerGenericServiceError()},r.callService("myProfile.phone.ena.tcpa.update.svc",r,t).then(n,a).catch(o)},r.doNotUpdatePhoneUsagePreference=function(){r.setFocusOnPhone&&e.controller.broadcast("setFocusOnPhone"),e.modalController.set(r._hideModal),r._hideModal()},r._nativeCloseHandler=function(){r.setFocusOnPhone="updatePhoneUsagePreference"===r.model.get("flow"),r.doNotUpdatePhoneUsagePreference(),e.controller.broadcast("phoneCloseFormAndUpdateNativeHeader")},r._nativeBackHandler=function(){r.setFocusOnPhone=!1;var t="updatePhoneUsagePreference"===r.model.get("flow")?"updatePhoneUsagePreference":"handleNativeBackButtonFromOverlay";r.doNotUpdatePhoneUsagePreference(),e.area.broadcast(t)},r._showModal=function(){e.emit("destroyPhoneTcpaModal"),r.model.set("formattedPhoneNumber",r.phoneData.context.formattedPhoneNumber),r.model.set("formattedOldPhoneNumber",r.phoneData.context.oldPhoneNumber),r.model.set("tcpaPreferenceAllowed",r.phoneData.context.flags.tcpaPreferenceAllowed),r.model.set("selectedPhoneUsagePreferenceVal",r.phoneData.context.selectedPhoneUsagePreference),t.set(r,"phoneUsagePreferenceAdvisory",r.phoneData.context.selectedPhoneUsagePreference);var i=e.state();"phoneTCPA"===i.controller.name&&(i.controller.name="phone"),i.action.name="showModalDialogForPhone",i.action.params={componentName:"PHONE_TCPA_CONFIRMATION"},e.privateState(i)},r._hideModal=function(t){t||e.state(e.phoneRoutes.selectMyPhoneDetails),r.destroyView()},r._showModalOnEditPhone=function(e){i.get(r,"phoneData.context.flags.editingPhoneNumber")?r._showModal():r._showOnAddPhone(e)},r._showOnAddPhone=function(e){r.modalComponentShowing=r.getComponent("PHONE_TCPA"),r.confirmUpdatePhoneUsagePreference(e)}}})),define("profileArea/personalDetails/phone/component/phoneEnrollConfirmation",["require","profileArea/sharedLib/genericServiceErrorEvent","appkit-utilities/analytics/overlay","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e){"use strict";var t,i=e("profileArea/sharedLib/genericServiceErrorEvent"),n=e("appkit-utilities/analytics/overlay"),r=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd");return function(e){var a=this,o="dashboard/profileArea/textAlerts/activatePhoneBanking";a.onInit=function(){t=e.dcu.dynamicContent,a.commonComponentsUtil=e.commonComponentsUtil,a.getComponent=e.getComponent,e.on("addAlertsToPhoneNumber",a._addAlertsToPhoneNumber),a.callService=e.callService},a.onReady=function(){i.addTriggerGenericServiceError(a,"enrollConfirmationErrorHeader","enrollConfirmationErrorAdvisory")},a.confirmEnroll=function(){var t,i,s;a.clearGenericServiceError(),t=function(){return r.getFeatureTreatments(["cxo_textAlerts_area_move_enable"],{cxo_textAlerts_area_move_enable:!1}).then((function(t){t?.cxo_textAlerts_area_move_enable?e.state(o):e.state(e.profileUrls["textBanking.activatePhoneBanking"]),n.hideOverlay(a,"enrollConfirmationOverlay","confirmEnroll"),a.destroyView()})).catch((function(){return e.profileUrls["textBanking.activatePhoneBanking"]}))},i=function(){e.logger.error("myProfile.phone.refresh.list.svc call FAIL!"),a.triggerGenericServiceError()},s=function(t){e.logger.error("activatemobile redirect FAIL!",t.stack)},a.callService("myProfile.phone.refresh.list.svc").then(t,i).catch(s)},a.doNotEnroll=function(){var e=a.dataObject.dataPath.slice(-1);n.hideOverlay(a,"enrollConfirmationOverlay","doNotEnroll"),a.destroyView(),a.output.emit("focusOnAccountAlertsLink",{target:e})},a.skipBack=function(){},a._addAlertsToPhoneNumber=function(e){a.dataObject=e.data,a._showModal()},a._hideModal=function(){a.destroyView()},a._showModal=function(){var i,r,o,s;n.showOverlay(a.getComponent("phone"),"enrollConfirmationOverlay","addAlertsToPhoneNumber"),e.modalController.set(a._hideModal),i=a.dataObject.dataPath,r=a.dataObject.context.phoneNumberDetails[i.split(".")[1]].formattedPhoneNumber,s=a.dataObject.context.alertsAlreadyAdded?"MANAGE_PHONE_FOR_ALERTS":"ACTIVATE_PHONE_FOR_ALERTS";for(var c=(o=["enrollConfirmationHeader","enrollConfirmationMessage","confirmEnrollLabel"]).length-1;c>=0;c--)t.set(a,o[c],s,{phoneNumber:r});var l=e.state();l.action.name="showModalDialogForPhone",l.action.params={componentName:"ENROLL_CONFIRMATION"},e.privateState(l)}}})),define("profileArea/personalDetails/phone/component/addOnlineSecurityServiceConfirmation",["require","blue/root","profileArea/sharedLib/genericServiceErrorEvent","appkit-utilities/analytics/overlay"],(function(e){"use strict";var t=e("blue/root"),i=null,n=e("profileArea/sharedLib/genericServiceErrorEvent"),r="addOnlineSecurityConfirmationOverlay",a=function(){},o=e("appkit-utilities/analytics/overlay");return function(e){var s=this;s.onInit=function(){i=e.dcu.dynamicContent,s.output.on("ready",(function(){n.addTriggerGenericServiceError(s,"addOnlineSecurityConfirmationErrorHeader","addOnlineSecurityConfirmationErrorAdvisory"),o.showOverlay(e.components.email,r)}))},s.doNotUseEmailForOnlineSecurity=function(){o.hideOverlay(s,r,"doNotUseEmailForOnlineSecurity"),s.destroyView(),e.area.broadcast("setFocusOnEmail")},s.useEmailForOnlineSecurity=function(){var t,i,n,a="emailAdd",c=s.model.get(),l={emailAddress:c.emailAddress},d="ONLINE_SECURITY";l.groupId=e.components.email.model.get("groupId"),c.serviceSelected?(l.serviceSelected=c.serviceSelected,t={type:"success",operation:"ADD",email:l.emailAddress,serviceAdded:d}):(a="emailUseForOIV",t={type:"success",operation:"SERVICE_ADDED",emailData:{emailAddress:l.emailAddress,serviceAdded:d}}),s.clearGenericServiceError(),i=function(){o.hideOverlay(s,r,"doNotUseEmailForOnlineSecurity"),s._hidePhoneModal(),e.controller.emit("updateEmailStateForAddOnlineSecurity",{emailData:c,messageInfo:t})},n=function(){s.triggerGenericServiceError()},e.emailService(a,l).then(i,n).catch(s.exf)},s._showPhoneModal=function(){e.modalController.set(s._hidePhoneModal);var t=s.dataObject.dataPath,n=s.dataObject.context.phoneNumberDetails[t.split(".")[1]].formattedPhoneNumber;i.set(s,"onlineSecurityAdvisory","PHONE_NUMBER",{phoneNumber:n}),s.render({target:"body",append:!0})},s._hidePhoneModal=function(){t.scrollTo(0,0),s.destroyView()},s.confirmAddOnlineSecurityToEmailAddress=a,s.doNotAddOnlineSecurityToEmailAddress=a}})),define("profileArea/personalDetails/phone/component/removeServiceFromPhone",["require","appkit-utilities/rapidash/rapidash","profileArea/sharedLib/connect","profileArea/sharedLib/genericServiceErrorEvent","profileArea/personalDetails/phone/lib/getPhoneProps","appkit-utilities/analytics/overlay"],(function(e){"use strict";var t,i=e("appkit-utilities/rapidash/rapidash"),n=e("profileArea/sharedLib/connect").connect,r=e("profileArea/sharedLib/genericServiceErrorEvent"),a=e("profileArea/personalDetails/phone/lib/getPhoneProps"),o=e("appkit-utilities/analytics/overlay"),s={confirm:{QUICKPAY:"confirmRemoveQuickpayFromPhoneNumber",ALERTS:"confirmRemoveAlertsFromPhoneNumber"},show:{QUICKPAY:"removeQuickpayFromPhoneNumber",ALERTS:"removeAlertsFromPhoneNumber"}};return function(e){var c=this;c.onInit=function(){t=c.context.dcu.dynamicContent,c.commonComponentsUtil=c.context.commonComponentsUtil,c.callService=c.context.callService,c.getComponent=e.getComponent,c.context.on("removeQuickpayFromPhoneNumber",c._showModalForQuickpay.bind(c)),c.context.on("removeAlertsFromPhoneNumber",c._showModalForAlerts.bind(c)),c.QUICKPAY="QUICKPAY",c.ALERTS="ALERTS",c.ONLINE_SECURITY="ONLINE_SECURITY",c.services={},c.services.QUICKPAY="myProfile.phone.qp.delete.svc",c.services.ALERTS="myProfile.phone.alerts.delete.svc",c.services.ONLINE_SECURITY="myProfile.phone.oiv.delete.svc"},c.confirmRemoveQuickpayFromPhoneNumber=function(e){c._confirmRemoveFromPhone(e,c.QUICKPAY)},c.doNotRemoveQuickpayFromPhoneNumber=function(){e.state(e.phoneRoutes.selectMyPhoneDetails),c.context.area.broadcast("setFocusOnPhone"),o.hideOverlay(c,"removeServiceFromPhoneNumberConfirmationOverlay","doNotRemoveQuickpayFromPhoneNumber"),c._hideModal()},c.confirmRemoveAlertsFromPhoneNumber=function(e){c._confirmRemoveFromPhone(e,c.ALERTS)},c.doNotRemoveAlertsFromPhoneNumber=function(){e.state(e.phoneRoutes.selectMyPhoneDetails),c.context.area.broadcast("setFocusOnPhone"),o.hideOverlay(c,"removeServiceFromPhoneNumberConfirmationOverlay","doNotRemoveAlertsFromPhoneNumber"),c._hideModal()},c._setConfirmationHeader=function(){var e,t,i=a(c);c.removeConfirmCache.success?(t=c.removeConfirmCache.removeConfirm?"DELETED_PHONE_NUMBER":{ALERTS:"REMOVED_ALERTS_FROM_PHONE_NUMBER",QUICKPAY:"REMOVED_QUICKPAY_FROM_PHONE_NUMBER",ONLINE_SECURITY:"REMOVED_ONLINE_SECURITY_FROM_PHONE_NUMBER"}[c.removeConfirmCache.service],e="myProfilePhoneNumberConfirmationHeader"):(t=c.removeConfirmCache.removeConfirm?"DELETED_PHONE_NUMBER":{ALERTS:"ALERTS_NOT_REMOVED_FROM_PHONE_NUMBER",QUICKPAY:"QUICKPAY_NOT_REMOVED_FROM_PHONE_NUMBER",ONLINE_SECURITY:"ONLINE_SECURITY_NOT_REMOVED_FROM_PHONE_NUMBER"}[c.removeConfirmCache.service],e="myProfilePhoneNumberErrorHeader"),c.context.messageDispatcher.set({component:c.getComponent("PHONE_HEADER"),setting:e,variation:t,props:i,autohide:"myProfile.phone.list.svc"}),c.removeConfirmCache=null},c._confirmRemoveFromPhone=function(t,a){t=n(c,t);var l,d,u,p=c.model.get();t.context=i.merge(p,t.context),!c.clearGenericServiceError&&r.addTriggerGenericServiceError(c,"removeServiceFromPhoneNumberConfirmationErrorHeader","removeServiceFromPhoneNumberConfirmationErrorAdvisory"),c.clearGenericServiceError(),l=function(i){e.state(e.phoneRoutes[s.confirm[a]]),o.hideOverlay(c,"removeOnlineSecurityFromPhoneNumber",s.confirm[a]),c.removeConfirmCache={success:i,service:a,removeConfirm:c._shouldDelete(p,a)},t.type="removeService",c.context.area.broadcast("reloadPhoneController",t)},d=function(){c.triggerGenericServiceError()},u=function(t){e.logger.error("remove service from phone fail",t.stack)},c.callService(c.services[a],c,t).then(l,d).catch(u)},c._showModal=function(n,r){var s,l,d,u,p,m,f,A,g;o.showOverlay(c.getComponent("phone"),"removeServiceFromPhoneNumberConfirmationOverlay"),c.context.modalController.set(c._hideModal.bind(c)),s=n.data.model,l=n.data.dataPath.split(".").splice(0,2).join("."),d=s.get(l),c.model.modify((function(e){return i.extend(!1,e,d),e})),c.model.set("service",r),u=c.model.get(),p=c._shouldDelete(u,r),g=a(c),m=p?"REMOVED_SERVICE_AND_DELETE_PHONE_NUMBER":r,f=p?"REMOVED_SERVICE_AND_DELETE_PHONE_NUMBER":"REMOVE_SERVICE",A=p?{ONLINE_SECURITY:"REMOVED_ONLINE_SECURITY_AND_DELETE_PHONE_NUMBER"}[r]:r,t.set(c,"removeServiceFromPhoneNumberConfirmationHeader",m,g),t.set(c,"removeServiceFromPhoneNumberConfirmationAdvisory",A,g),t.set(c,"removeServiceFromPhoneNumberLabel",f,g),t.set(c,"doNotRemoveServiceFromPhoneNumberLabel",f,g),c.model.set("removeServiceFromPhoneNumberErrorHeader",null),c.model.set("removeServiceFromPhoneNumberErrorAdvisory",null);var E=e.state();E.action.name="showModalDialogForPhone",E.action.params={componentName:"REMOVE_SERVICE_FROM_PHONE"},e.privateState(E)},c._showModalForQuickpay=function(e){c._showModal(e,c.QUICKPAY)},c._showModalForAlerts=function(e){c._showModal(e,c.ALERTS)},c._hideModal=function(){c.destroyView()},c._shouldDelete=function(e,t){return t!==c.ALERTS&&(t===c.ONLINE_SECURITY?!(e.enaEnabled||e.alertsEnabled||e.quickpayEnabled):!(e.mfaEnabled||e.enaEnabled||e.alertsEnabled))}}})),define("profileArea/personalDetails/phone/component/brokerageAccountsPhoneNumber",["require","profileArea/personalDetails/phone/lib/getPhoneProps","appkit-utilities/common/mediaQueryListener","appkit-utilities/validation/componentValidate","appkit-utilities/validation/variations","profileArea/personalDetails/phone/lib/validators/phoneValidator","profileArea/personalDetails/phone/lib/phoneCaasUtil","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";var t=e("profileArea/personalDetails/phone/lib/getPhoneProps");return function(i){var n,r,a=this,o=e("appkit-utilities/common/mediaQueryListener"),s=e("appkit-utilities/validation/componentValidate"),c=e("appkit-utilities/validation/variations"),l=e("profileArea/personalDetails/phone/lib/validators/phoneValidator"),d=e("profileArea/personalDetails/phone/lib/phoneCaasUtil");a.onInit=function(){a.getComponent=i.getComponent,a.isXs=o.currentBreakpoint===o.BREAKPOINT.XS;var t=e("profileArea/sharedLib/genericServiceErrorEvent");a.output.on("ready",(function(){t.addTriggerGenericServiceError(a,"brokerageAccountsPhoneNumberErrorHeader","brokerageAccountsPhoneNumberErrorAdvisory"),a.input.on("hideMotionComplete",(function(e){e&&e.onComplete&&a[e.onComplete]()}))})),a.commonComponentsUtil=i.commonComponentsUtil,a.callService=i.callService,a.formController=a._FormController(a),r=new d(a,i),a.stepUpResponseHandler=r.stepUpResponseHandler,i.on({resetToBrokeragePhoneUpdateView:function(e){a.output.emit("trigger",{value:"collapseParentRow",element:a._currentTarget,setFocus:e.resetFocus}),a._currentTarget=null,a._prevElementDataPath=null}})},a.onReady=function(){a.input.on("hideMotionComplete",(function(e){e&&e.onComplete&&a[e.onComplete]()})),n=a.model.get("caasStepUpEnabled")},a._setupInitialValidation=function(e){a.model.set("v",{phoneNumber:{isValid:!0,property:"phoneNumber",errorMessage:""}}),a.model.set("phoneNumber",""),a.model.set(e.dataPath+".phoneNumber",""),a.model.set("isBrokerageNumber",!0),a.model.set("phoneEditEvent",e),i.variations=c,s.call(a,a.context,l);a.model.set("whiteList",["phoneNumber","phoneNumberExtension"])},a.reinitializeValidation=function(){var e=a.model.get("phoneEditEvent");a._setupInitialValidation(e)},a.getPhoneHeaderComponent=function(){return a.getComponent("PHONE_HEADER")},a._reloadPhonePage=function(e){a.clearGenericServiceError(),a.formController.close(),e=e||{},i.controller.broadcast("reloadPhoneController",e)},a.editPhoneInput=function(e){a.model.set("phoneNumber",e.context.phoneNumber.split("-").join("")),a.model.set(e.dataPath+".phoneNumber",e.context.phoneNumber.split("-").join("")),a.validateDataItem(e)},a.targetInterceptor=function(e,t){var i={EDIT:a.updatePhoneNumber};i[e]&&a.commonComponentsUtil.exitModalTargetDecorator.apply(a,[i[e],t])},a.updatePhoneNumberIntercept=function(e){a.targetInterceptor("EDIT",e)},a.updatePhoneNumber=function(e){e.dataPath=e.dataPath||e.context.dataPath,e.context=a.model.get(e.dataPath),a.output.emit("trigger",{value:"focusAccountName",element:"#brokerage-account-name-"+e.context.id}),a._setupInitialValidation(e),i.updateNativeButtonsAndNavigation("phone.editBrokeragePhone"),a.formController.show(e),i.registerDirtyForm("BROKERAGE_ACCOUNTS_PHONE_NUMBER",e.context.phoneNumber)},a.confirmUpdatePhoneNumber=function(e){var o,s,c="myProfile.phone.brokerage.update.svc";return n&&(r.setRetryProps("eventObj",e),r.setRetryProps("requestFn",a.confirmUpdatePhoneNumber),c="myProfile.phone.brokerage.update.caas.svc"),o=function(){i.emit("clearMessagesOnHeader");var e=t(a);e.accountDisplayName=e.nameAndMask,i.area.broadcast("reloadPhoneController",{type:"brokerage",props:e}),r.setRetryProps("eventObj",{assessmentId:null}),n&&i.state(i.phoneRoutes.selectMyPhoneDetails)},s=function(e){i.logger.error(e.stack)},a.callService(c,a,e).then((function(t){r._requestUpdateStepUpHandler(t,n,"BROKERAGE_EDIT",o),e.hide&&e.hide()}),a._displayServiceError).catch(s)},a._setConfirmationHeader=function(e){i.messageDispatcher.set({component:a.getComponent("PHONE_HEADER"),setting:"myProfilePhoneNumberConfirmationHeader",variation:"UPDATED_FOR_BROKERAGE_ACCOUNT",props:e.props,autohide:"myProfile.phone.list.svc"}),i.messageDispatcher.set({component:a.getComponent("PHONE_HEADER"),setting:"myProfilePhoneNumberConfirmationAdvisory",variation:"UPDATED_FOR_BROKERAGE_ACCOUNT",props:e.props,autohide:"myProfile.phone.list.svc"})},a.doNotUpdatePhoneNumber=function(e){var t=a.model.get("accounts");t.forEach((e=>e.flags.updateMode=!1)),a.model.set("accounts",t),i.emit("resetToBrokeragePhoneUpdateView",{resetFocus:!0}),a.formController.close(),a.output.emit("resetBrokeragePhoneInput"),i.hybrid&&i.updateNativeButtonsAndNavigation("phone.selectPhoneDetails"),i.deregisterDirtyForm("BROKERAGE_ACCOUNTS_PHONE_NUMBER")},a._displayServiceError=function(e){var t;i.deregisterDirtyForm("BROKERAGE_ACCOUNTS_PHONE_NUMBER"),i.logger.error(e||(new Error).stack),e=e||{};var n=a;["PHONE_TCPA","PHONE_TCPA_CONFIRMATION","DELETE_PHONE"].forEach((function(e){n.getComponent(e).destroyView()})),a.model.get("enableNewAppNavigation")&&(t=a.isXs?a.model.get("flow")+"Phone":"selectPhoneDetails",i.updateNativeButtonsAndNavigation("phone."+t)),a.triggerGenericServiceError(e.errorHeader,e.errorAdvisory),r.setRetryProps("eventObj",{assessmentId:null})},a._FormController=function(e){var t=".flags.updateMode";return{show:function(i){a.getPhoneHeaderComponent().resetCaasErrorHeader();var n=i.dataPath;e.model.set("phoneNumber",""),e.model.set("phoneNumberRegion","DOMESTIC"),e.getComponent("phone").formController.close(),e._currentTarget=i.domEvent.currentTarget||i.domEvent.currentTargetCache;var r=e.model.get(n);e.model.set("accountId",r.id),e.model.set("nameAndMask",r.nameAndMask),e.model.set(e._prevElementDataPath+t,!1),e.model.set(n+t,!0),e._prevElementDataPath=n,e.output.emit("trigger",{value:"expandParentRow",element:e._currentTarget})},close:function(){a.clearGenericServiceError&&a.clearGenericServiceError(),e.model.set("accountId",""),e.model.set("nameAndMask",""),e.model.set("phoneNumber",""),e.model.set(e._prevElementDataPath+t,!1),e.output.emit("trigger",{value:"collapseParentRow",element:e._currentTarget}),e._currentTarget=null,e._prevElementDataPath=null}}},a.skipBack=function(){}}})),define("profileArea/personalDetails/phone/component/verifyQuickpayConfirmationForPhone",["require","appkit-utilities/rapidash/rapidash","profileArea/personalDetails/phone/lib/transformers","appkit-utilities/analytics/overlay","appkit-utilities/common/mediaQueryListener","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";return function(t){var i,n,r=e("appkit-utilities/rapidash/rapidash"),a=e("profileArea/personalDetails/phone/lib/transformers").formatPhoneNumber,o=e("appkit-utilities/analytics/overlay"),s=e("appkit-utilities/common/mediaQueryListener"),c=this;c.onInit=function(){i=t.dcu.dynamicContent,n=s.currentBreakpoint===s.BREAKPOINT.XS,c.callService=t.callService,c.commonComponentsUtil=t.commonComponentsUtil,c.getComponent=t.getComponent,t.on("verifyQuickpayForPhone",c._showModal)},c.onReady=function(){e("profileArea/sharedLib/genericServiceErrorEvent").addTriggerGenericServiceError(c,"verifyQuickpayConfirmationErrorHeader","verifyQuickpayConfirmationErrorAdvisory"),o.showOverlay(c.getComponent("phone"),"verifyQuickpayConfirmationOverlay"),c.model.get("enableNewAppNavigation")&&"add"===c.model.get("flow")&&t.updateNativeButtonsAndNavigation("phone.quickPayConfirmationOverlay")},c._nativeCloseHandler=function(){c.exitVerifyQuickpayConfirmation(),t.updateNativeButtonsAndNavigation("phone.selectPhoneDetails")},c._nativeBackHandler=function(){n?(c._hideModal(),t.updateNativeButtonsAndNavigation("phone.addPhone")):c._nativeCloseHandler()},c._showModal=function(e){t.modalController.set(c._hideModal);var n=e.data.context;c.model.modify((function(e){return r.extend(!1,e,n),e})),c.model.set("flow",e.data.flow),c.model.set("activationCode","");var o=a(n.phoneNumberRegion,n.phoneNumber),s={phoneNumber:o,emailAddress:o};i.set(c,"verifyQuickpayHeader","PHONE_NUMBER",s),i.set(c,"verifyQuickpayAdvisory","INITIAL_CODE_FOR_PHONE",s),c.model.set("verifyQuickpayConfirmationErrorHeader",null),c._clearHeaderMessages();var l=t.state();l.action.name="showModalDialogForPhone",l.action.params={componentName:"VERIFY_QUICKPAY_CONFIRMATION"},t.privateState(l)},c._hideModal=function(){c.destroyView()},c.exitVerifyQuickpayConfirmation=function(){var e=c.model.get(),i=e.addQuickpayFlowOrigin;if("addNewPhone"===i||"addQuickpay"===i){var n="addNewPhone"===i?"ADDED_PHONE_NUMBER":"UPDATED_PHONE_NUMBER",r="addNewPhone"===i?"confirmAddPhoneNumber":"confirmAddQuickPayToPhone",s={phoneNumber:a(e.phoneNumberRegion,e.phoneNumber)};c.confirmHeader={props:s,variation:n,type:"quickPayExit"},t.state(t.phoneRoutes[r]),o.hideOverlay(c,"verifyQuickpayConfirmationOverlay","exitVerifyQuickpayConfirmation"),t.area.broadcast("reloadPhoneController",{type:"quickpay"})}else o.hideOverlay(c,"verifyQuickpayConfirmationOverlay","exitVerifyQuickpayConfirmation"),c._hideModal(),t.area.broadcast("setFocusOnPhone")},c.requestVerificationCode=function(e){c.model.set("activationCode","");var t=c.model.get(),n={phoneNumber:a(t.phoneNumberRegion,t.phoneNumber)};c._clearHeaderMessages(),c.clearGenericServiceError(),c.callService("quickpay.enrollment.resendcode",c,e).then((function(){i.set(c,"verifyQuickpayAdvisory","CODE_RESENT_FOR_PHONE",n),c.output.emit("trigger",{value:"updateModel",propKey:"verifyQuickpayAdvisory",propValue:c.model.get("verifyQuickpayAdvisory")})}),(function(){c.triggerGenericServiceError()}))},c.requestVerifyActivationCode=function(e){var n=c.model.get(),r={phoneNumber:a(n.phoneNumberRegion,n.phoneNumber)},s="addNewPhone"===n.addQuickpayFlowOrigin?"confirmAddPhoneNumber":"confirmAddQuickPayToPhone";c._clearHeaderMessages(),c.clearGenericServiceError(),c.callService("quickpay.contact.verify",c,e).then((function(e){"VERIFIED"===e.quickPayContactVerificationStatus?(c.confirmHeader={props:r,variation:"VERIFIED_PHONE_NUMBER",type:"quickPayVerify"},t.state(t.phoneRoutes[s]),o.hideOverlay(c,"verifyQuickpayConfirmationOverlay","requestVerifyActivationCode"),t.area.broadcast("reloadPhoneController",{type:"quickpay"})):(i.set(c,"verifyQuickpayConfirmationErrorHeader","INVALID_ACTIVATION_CODE"),i.set(c,"verifyQuickpayConfirmationErrorAdvisory","INVALID_ACTIVATION_CODE"))}),(function(){c.triggerGenericServiceError()}))},c._setConfirmationHeader=function(){t.messageDispatcher.set({component:c.getComponent("PHONE_HEADER"),setting:"myProfilePhoneNumberConfirmationHeader",variation:c.confirmHeader.variation,props:c.confirmHeader.props,autohide:"myProfile.phone.list.svc"}),"quickPayExit"===c.confirmHeader.type&&t.messageDispatcher.set({component:c.getComponent("PHONE_HEADER"),setting:"myProfilePhoneNumberConfirmationAdvisory",variation:"ADDED_UNVERIFIED_PHONE_NUMBER",props:{},autohide:"myProfile.phone.list.svc"}),c.confirmHeader=null},c._clearHeaderMessages=function(){c.model.set("verifyQuickpayConfirmationErrorHeader",null),c.model.set("verifyQuickpayConfirmationErrorAdvisory",null)},c._handleSkiplinkPress=function(e){t.profileUtil.skipIfEnterSpaceOrClick(c,e,"skipBack")},c.skipBack=function(){}}})),define("profileArea/personalDetails/phone/service/dataTransform/transformers",[],(function(){"use strict";var e=function(e){return"+ "+(e=e.replace(/\+ /g,""))},t=function(e){return(e=e.match(/\d+/g).join("")).substring(0,3)+"-"+e.substring(3,6)+"-"+e.substring(6,10)};return{formatInternationalNumber:e,formatDomesticNumber:t,removePhoneNumberFormatting:function(e){return e?e.match(/\d+/g).join(""):""},formatPhoneNumber:function(i,n){return n?"DOMESTIC"===i?t(n):e(n):null},addWorkExtension:function(e,t,i){return e+" "+t+" "+i}}})),define("profileArea/personalDetails/phone/component/addQuickpayConfirmationForPhone",["require","appkit-utilities/rapidash/rapidash","profileArea/personalDetails/phone/service/dataTransform/transformers","appkit-utilities/analytics/overlay","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";var t,i,n=e("appkit-utilities/rapidash/rapidash"),r=e("profileArea/personalDetails/phone/service/dataTransform/transformers").formatPhoneNumber,a=e("appkit-utilities/analytics/overlay");return function(o){var s=this;s.onInit=function(){t=o.dcu.dynamicContent,s.getComponent=o.getComponent,i=e("profileArea/sharedLib/genericServiceErrorEvent"),s.callService=o.callService,o.on("addQuickpayForPhone",s._showModal)},s.onReady=function(){i.addTriggerGenericServiceError(s,"addQuickpayConfirmationErrorHeader","addQuickpayConfirmationErrorAdvisory"),a.showOverlay(s.getComponent("phone"),"addQuickpayConfirmationOverlay")},s._showModal=function(e){o.modalController.set(s._hideModal);var i=e.data.context||{};s.model.modify((function(e){return n.extend(!1,e,i),e}));var a=i.formattedPhoneNumber||r(i.phoneNumberRegion,i.phoneNumber),c={phoneNumber:a,emailAddress:a};t.set(s,"addQuickpayMessage","PHONE_NUMBER",c);var l=o.state();l.action.name="showModalDialogForPhone",l.action.params={componentName:"ADD_QUICKPAY_CONFIRMATION"},o.privateState(l)},s._hideModal=function(){s.destroyView()},s.doNotAddQuickpay=function(){a.hideOverlay(s,"addQuickpayConfirmationOverlay","doNotAddQuickpay"),s._hideModal(),o.area.broadcast("setFocusOnPhone")},s.requestActivationCode=function(e){var t,i,n;s.clearGenericServiceError(),t=function(t){if("NOT_MAPPED"!==t.statusCode){a.hideOverlay(s,"addQuickpayConfirmationOverlay","requestActivationCode"),s._hideModal();var i=s.model.get();e.context=i,i.contactId=t.contactId,i.flowOrigin="addQuickpay";!0==={QP_DUPLICATE_PHONE_CXC:!0,QP_DUPLICATE_PHONE_CHASE:!0,QP_DUPLICATE_MOBILE_NUMBER:!0}[t.statusCode]?(o.messageDispatcher.reset(),o.messageDispatcher.set({component:s.getComponent("PHONE_HEADER"),setting:"myProfilePhoneNumberErrorHeader",variation:"PHONE_NUMBER_IN_USE_FOR_QUICKPAY",autohide:"myProfile.phone.list.svc",hideImmediately:!0}),s._hideModal()):o.area.broadcast("verifyQuickpayForPhone",{data:e})}else s.triggerGenericServiceError()},i=function(){s.triggerGenericServiceError()},n=function(e){o.logger.error("myProfile.phone.qp.add.svc fail",e.stack)},s.callService("myProfile.phone.qp.add.svc",s,e).then(t,i).catch(n)}}})),define("profileArea/personalDetails/mailingAddress/services/dataTransform/transformers",["require","appkit-utilities/content/dcu","common/lib/mailingAddressCodes","moment-timezone","common/lib/momentTimeZoneData","common/lib/fakeComponent"],(function(e){"use strict";var t=e("appkit-utilities/content/dcu").dynamicContent,{countryCodes:i,stateCodes:n,militaryRegionCodes:r,provinceCodes:a}=e("common/lib/mailingAddressCodes"),o=e("moment-timezone");return o.tz.add(e("common/lib/momentTimeZoneData")["America/New_York"]),function(){return{formatSelectOptions:function(e,t){var i={USA:e.unitedStatesLabel,CANADA:e.canadaLabel,INTERNATIONAL:e.internationalLabel,MILITARY:e.militaryLabel};return t.addressTypes.map((function(e){return{value:e,label:i[e]}}))},extendMailingAddressHeaderData:function(e,t){var i=e||{};return i.messageInfo=t||{},i},trasformAddAddressData:function(e,t,s){var c=e.model.get("groupId"),l=o.tz(o(),"America/New_York").format("MM/DD/YYYY");return s.selectOptions=this.formatSelectOptions(e,s),{mode:"ADD",groupId:c,mailingAddressType:"USA",stateId:"",provinceId:"",militaryRegionId:"",countryId:"",mailingAddressLineOne:"",mailingAddressLineTwo:"",mailingAddressLineThree:"",city:"",postalCode:"",postOfficeType:"APO",zipCode:"",zipCodeExtension:"",isPrimary:!1,mailingAddressCategory:t,currentDate:l,mailingAddressEffectiveDate:"TEMPORARY"===t?l:void 0,mailingAddressEndDate:"",mailingAddressDateRangeFrequency:"",addressOptions:s,countries:this.alphabetize(this.buildList(i,"countryName"),"countryName"),states:this.buildList(n,"stateName"),provinces:this.alphabetize(this.buildList(a,"provinceName"),"provinceName"),militaryRegions:this.buildList(r,"militaryRegionName")}},transformAddressToEditMode:function(e,t,o){var s=t;return o.selectOptions=this.formatSelectOptions(e,o),s.addressOptions=o,s.countries=this.alphabetize(this.buildList(i,"countryName"),"countryName"),s.states=this.buildList(n,"stateName"),s.provinces=this.alphabetize(this.buildList(a,"provinceName"),"provinceName"),s.militaryRegions=this.buildList(r,"militaryRegionName"),void 0===s.militaryRegionId&&(s.militaryRegionId=""),void 0===s.provinceId&&(s.provinceId=""),void 0===s.zipCodeExtension&&(s.zipCodeExtension=""),s},transformProfileAddressUpdateData:function(e){var t=e;return t.mailingAddressType="USA",t.stateId="",t.provinceId="",t.militaryRegionId="",t.countryId="",t.mailingAddressLineOne="",t.mailingAddressLineTwo="",t.mailingAddressLineThree="",t.city="",t.postalCode="",t.postOfficeType="APO",t.zipCode="",t.zipCodeExtension="",t.countries=this.alphabetize(this.buildList(i,"countryName"),"countryName"),t.states=t.states=this.buildList(n,"stateName"),t.provinces=this.alphabetize(this.buildList(a,"provinceName"),"provinceName"),t.militaryRegions=this.buildList(r,"militaryRegionName"),t},alphabetize:function(e,t){return e.sort((function(e,i){return e[t]<i[t]?-1:e[t]>i[t]?1:0}))},buildList:function(i,n){var r=e("common/lib/fakeComponent"),a={countryName:"countryId",stateName:"stateId",provinceName:"provinceId",militaryRegionName:"militaryRegionId"};return i.map((function(e){var i={};return i[n]=t.get(r("GLOBAL"),n,e),i[a[n]]=e,i}))}}}})),define("profileArea/sharedLib/featureProvider",["require","common/lib/featureFlags/featureMixin"],(function(e){"use strict";return function(t){var i={};return e("common/lib/featureFlags/featureMixin").call(i,t),i.addFeatures({galleryOverview:{key:"cxo.cbo.galleryOverview.enable",defaultValue:!1},enablePayChase:{key:"cxo.chooseAlerts.payChase.enable",defaultValue:!1},newEmailPageEnabled:{key:"cxo.profile.newEmailPage.enable",defaultValue:!1},newMyDevicesPageEnabled:{key:"cxo.profile.newMyDevicesPage.enable",defaultValue:!0},newSecurityCodePageEnabled:{key:"cxo.profile.newSecurityCodePage.enable",defaultValue:!1},showTCPPrimaryAddressCheckbox:{key:"cxo.profile.tcp.primaryAddressCheckbox.enable",defaultValue:!1},showTCPAttestation:{key:"cxo.profile.tcp.attestation.enable",defaultValue:!1},showTCPSecondaryPhone:{key:"cxo.profile.tcp.secondaryPhone.enable",defaultValue:!1},enableJumboCustomGroupsMenu:{key:"cxo.profile.jumboCustomer.manageCustomGroup.enable",defaultValue:!1},enableTwoFactorAuthentication:{key:"cxo.profile.twoFactorAuthentication.enable",defaultValue:!1},enableUpdateOverviewPreference:{key:"cxo.profile.updateOverviewPreference.enable",defaultValue:!1},serviceEnableFlag:{key:"cxo.paperless.service.enable",defaultValue:"LEGACYAPI"},alertsEnableNewApiFlag:{key:"cxo.alerts.newAPI.enable",defaultValue:!1},enableNewTemplatesShowHideAccts:{key:"cxo.profile.showHide.mdsTemplates.enable",defaultValue:!1},enableNewTemplatesNickname:{key:"cxo.profile.nickname.mdsTemplates.enable",defaultValue:!1},showBeneficiaryAttestation:{key:"cxo.profile.beneficiary.attestation.enable",defaultValue:!1},enablePaymentLimitGKPFlag:{key:"cxo.payments.limits.gkp.enable",defaultValue:!1},enableFastCaas:{key:"profile.fastcaas.enable",defaultValue:!1},estateBeneficiaryCenterEnable:{key:"cxo.investments.uswmserv.estatebene.enable",defaultValue:!1},tcpNormalizePartyAddressEnabled:{key:"cxo.investments.uswmserv.tcp.trillium.enable",defaultValue:!1},beneficiariesApiEnable:{key:"cxo.investments.uswmserv.bene.exp.enable",defaultValue:"DEFAULT"},tcpSdaiApiEnable:{key:"cxo.investments.uswmserv.tcp.exp.enable",defaultValue:"DEFAULT"}}),i}})),define("profileArea/personalDetails/mailingAddress/controller/mailingAddress",["require","appkit-utilities/common/mediaQueryListener","blue/siteMode","profileArea/sharedLib/nativeButtonNavigationMixin","common/lib/flyout/flyoutUtility","profileArea/sharedLib/apptelTracker","common/lib/elementObserver","profileArea/personalDetails/mailingAddress/services/dataTransform/transformers","profileArea/sharedLib/featureProvider","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","common/lib/utility/commonComponentsUtil","profileArea/sharedLib/messageDispatcher","profileArea/sharedLib/modalController"],(function(e){"use strict";return function(t){var i,n,r=this,a={actions:["selectMyMailingAddressDetails","addPermanentMailingAddress","confirmAddPermanentMailingAddress","addTemporaryMailingAddress","confirmAddTemporaryMailingAddress","updateMailingAddress","confirmUpdateMailingAddress","confirmDeleteMailingAddressConfirm","updateBrokerageMailingAddress","confirmUpdateBrokerageMailingAddress"],baseUrl:"dashboard/profile/mailingAddressDetails/",defaultAction:"selectMyMailingAddressDetails",name:"mailingAddressDetails"},o=e("appkit-utilities/common/mediaQueryListener"),s=e("blue/siteMode"),c=e("profileArea/sharedLib/nativeButtonNavigationMixin"),l=e("common/lib/flyout/flyoutUtility"),d=e("profileArea/sharedLib/apptelTracker"),u=e("common/lib/elementObserver"),p=e("profileArea/personalDetails/mailingAddress/services/dataTransform/transformers")(),m=e("profileArea/sharedLib/featureProvider")(t),f=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"),A={requestFn:null,reqParam1:null,reqParam2:null};r.onInit=function(){r._state={},c.call(r,t),t.updateNativeButtonsAndNavigation=r.updateNativeButtonsAndNavigation,r.commonComponentsUtil=e("common/lib/utility/commonComponentsUtil")(r),r.elementObserver=new u,i=t.dcu.dynamicContent,t.executeCAVOptions={target:"#profile-details",append:!0};var n=e("profileArea/sharedLib/messageDispatcher");r.messageDispatcher=new n(r),r.modalController=e("profileArea/sharedLib/modalController"),t.Api={modal:t.modalApi(r)},t.on({"mailingAddress/setTgtData":function(e){t.Api.modal.setTgtData(e.data,!1)}}),t.on({reloadMailingAddressList:r.reloadMailingAddressList,requestAccountMailingAddressCategory:function(e){r._state.onDropDownOptionChange=!0,r.reloadMailingAddressList({messageInfo:{operation:"CHANGE_GROUP"}},e)},setCurrentAddType:function(e){r.components.mailingAddress.model.set("currentAddType",e.addType)},showMailingAddressUpdateForm:r.showMailingAddressUpdateForm}),f.getFeatureTreatments(["cxoweb_profile_address_new_iso_codes"],{cxoweb_profile_address_new_iso_codes:!1}).then((function(e){e.cxoweb_profile_address_new_iso_codes&&(r.model.set("mailingAddressComponent.$newIsoCodesEnabled",!0),r.model.set("mailingAddressUpdateViewComponent.$newIsoCodesEnabled",!0))})),t.commonComponentsUtil=r.commonComponentsUtil,t.messageDispatcher=r.messageDispatcher,r.dataTransform=p,t.dataTransform=r.dataTransform,t._callService=r._callService,t.analytics=a,t.setAnalyticsUrlForAction=r.setAnalyticsUrlForAction,t._state=r._state,t.getHeaderContent=r.getHeaderContent,t.getComponent=r.getComponent,t.setUrlForAnalytics=r.setUrlForAnalytics,t.registerDirtyForm=r.registerDirtyForm,t.deregisterDirtyForm=r.deregisterDirtyForm},r.controllerReloaded=function(){if(t.hybrid||l.isFlyoutNavigation(t))return!0;r._state.onDropDownOptionChange=!1,r.reloadMailingAddressList()},r.reloadMailingAddressList=function(e,t){e=e||{},!t&&r._state.groupId&&(t={groupId:r._state.groupId}),r._getMailingAddressListData(e.messageInfo,t)},r._callService=function(e,i){return t.services.mailingAddressDetails[e](i)},r._getMailingAddressListData=function(e,i={}){A.requestFn="_getMailingAddressListData",A.reqParam1=e,A.reqParam2=i,r.components.mailingAddressHeader.model.set("pageLoading",!0),r.components.mailingAddress.model.set("showLoader",!0);var a=function(i){if(!i.status||"invalidCookie"!==i.status){var n="myProfile.mailingAddress.list.svc FAIL";i.stack?t.logger.error("myProfile.mailingAddress.list.svc",n,i.stack):t.logger.error("myProfile.mailingAddress.list.svc",n),e=e||{operation:"LIST",type:"error"},r.components.mailingAddressHeader.resetModel(),r.components.mailingAddress.resetModel(),r.updateComponentDataAndRender(null,e)}};return i.runValidation=n,r._callService("myProfile.mailingAddress.list.svc",i).then((function(t){if(!1===t.groupsAvailable)return r.components.mailingAddress.model.set("showLoader",!1),r.components.mailingAddressHeader.model.set("pageLoading",!1),void r.elementObserver.isInsertedPromise(".section-title").then((function(){r.components.mailingAddressHeader.focusOnMailingAddressHeader(r._state.onDropDownOptionChange)}));e=e||{operation:"LIST"},r.updateComponentDataAndRender(t,e)}),a).catch(a)},r.updateComponentDataAndRender=function(e,n){e=e||{mailingAddressHeaderComponent:{},mailingAddressComponent:{}},n=n||{operation:"LIST"},r.updateMailingAddressHeaderComponent(e.mailingAddressHeaderComponent,n),r.updateMailingAddressComponent(e.mailingAddressComponent);var a=r.components.mailingAddressHeader,o=i.get(a,"addPermanentMailingAddressLabel"),s=i.get(a,"addTemporaryMailingAddressLabel");a.model.set("items",[{id:"addPermanent",name:o,disabled:!1},{id:"addTemporary",name:s,disabled:!1}]);var c=a.model.get("addPermanentAddressAllowed"),l=a.model.get("addTemporaryAddressAllowed");if(!c&&l&&a.model.set("items.0.disabled",!c),c&&!l&&a.model.set("items.1.disabled",!l),e.mailingAddressBrokerageAccountsViewComponent){r.updateMailingAddressBrokerageAccountsViewComponent(e.mailingAddressBrokerageAccountsViewComponent);var d=t.state();d.action.name="renderMailingAddressBrokerageAccountsView",t.privateState(d)}r.elementObserver.isInserted(".section-title",(function(){a.focusOnMailingAddressHeader(r._state.onDropDownOptionChange)})),n.type&&"error"===n.type&&a.triggerGenericServiceError(),n.type&&"HOME_LOAN_INCLUDED_UPDATE"===n.type&&a.triggerGenericServiceError(i.get(a,"selectMyMailingAddressDetailsErrorHeader.HOME_LOAN_INCLUDED_UPDATE"),i.get(a,"selectMyMailingAddressDetailsErrorAdvisory.HOME_LOAN_INCLUDED_UPDATE")),"LIST"===n.operation&&t.area.broadcast("renderMyProfileMenuMobile"),r.components.mailingAddress.model.set("showLoader",!1),r.components.mailingAddressHeader.model.set("pageLoading",!1)},r.renderMailingAddressBrokerageAccountsView=function(){var e=[r.components.mailingAddressBrokerageAccountsView,"mailingAddressBrokerageAccountsView",{target:t.renderTarget.target,append:!0}];return r.elementObserver.isInsertedPromise("#mailing-address-container-main").then((function(){return e}))},r.selectMyMailingAddressDetails=function(){var e=o.currentBreakpoint===o.BREAKPOINT.XS;if(t.profileContainer.setPageProperties({containerClasses:"legacy-profile-styles",pageTitle:e?i.get(r.components.mailingAddressHeader,"mailingAddressHeader"):""}),t.enableNewAppNavigation=t.hybrid,t.userActionExecuted=!1,!r.mailingAddressComponentExistsInRegistry&&!l.isFlyoutNavigation(t)){var a=r.components.mailingAddress,c=r.components.mailingAddressHeader;n=m.enableFastCaas.getFeatureFlagValueSync(),r.model.set("mailingAddressHeaderComponent.requestProfileSettingsMenuAda",t.globalContent.requestProfileSettingsMenuAda),r._state.groupId?r._getMailingAddressListData({operation:"LIST"},{groupId:r._state.groupId}):r._getMailingAddressListData(),a.model.set("enableNewAppNavigation",t.enableNewAppNavigation),t.area.broadcast("myProfile:core:enaHeader");var u=[];return u.push([c,"mailingAddressHeader",{target:t.renderTarget.target}],[a,"mailingAddress",{target:t.renderTarget.target,append:!0}]),r.components.mailingAddressHeader.model.set("readOnlyEvent",s.isModeEnabled("readOnly")||s.isModeEnabled("ecdStandIn")),r.components.mailingAddress.model.set("readOnlyEvent",s.isModeEnabled("readOnly")||s.isModeEnabled("ecdStandIn")),r.components.mailingAddressBrokerageAccountsView.model.set("readOnlyEvent",s.isModeEnabled("readOnly")||s.isModeEnabled("ecdStandIn")),d.logLeaveAction("$$Profile_Details"),u}},r.updateMailingAddressHeaderComponent=function(e,i){var n=r.components.mailingAddressHeader;e.showCommercialDisclaimer=t.accountInfo.isCommercialUser(),e.accountCategories?r._state.accountCategories=e.accountCategories:r._state.accountCategories&&(e.accountCategories=r._state.accountCategories),Array.isArray(e.accountCategories)&&e.accountCategories.length>1&&(t.isMultiEciUser=!0),e.groupId&&(r._state.groupId=e.groupId),e.isCBO=t.accountInfo.isBusinessUser(),e.isCommercial=t.accountInfo.isCommercialUser(),e.isBusiness=t.accountInfo.isSmallBusinessUser(),e=r.dataTransform.extendMailingAddressHeaderData(e,i),n.model.update(e),n._updateResourceSettings(i)},r.updateMailingAddressComponent=function(e){var t=r.components.mailingAddress;t.model.update(e),r.model.set("mailingAddressComponent.isIntPrimaryAllowed",e.isIntPrimaryAllowed),t._clean()},r.updateMailingAddressBrokerageAccountsViewComponent=function(e){r.components.mailingAddressBrokerageAccountsView.model.update(e)},r._clearHeaderMessages=function(){t.emit("updateMailingAddressHeader",{messageInfo:null})},r.showModalDialogForMailingAddress=function(e){var i=r.components[e.componentName];return i.model.set("groupId",r._state.groupId),i._updateResourceSettings&&i._updateResourceSettings(),[i,e.componentName,{target:t.renderTarget.target,append:!0}]},r.showMailingAddressUpdateForm=function(e){var t={accountId:e.accountId,nameAndMask:e.nameAndMask},n=r.dataTransform.transformProfileAddressUpdateData(t),a=r.components.mailingAddressUpdateView;return a.model.update(n),a.model.set("stateError",i.get(a,"stateError.MISSING_MANDATORY_DATA")),a.model.set("provinceError",i.get(a,"provinceError.MISSING_MANDATORY_DATA")),a.model.set("countryError",i.get(a,"countryError.MISSING_MANDATORY_DATA")),[a,"mailingAddressUpdateView",{target:"#brokerage-account-form-"+n.accountId+" td"}]},r.getHeaderContent=function(){return r.components.mailingAddressHeader.mailingAddressHeader},r.getComponent=function(e){return r.components[e]},r.caasRetry=function(e){function n(){r.components.mailingAddress.model.set("caasBlockInView",!1),t.application.broadcast("makeNavigation",{navKey:"requestUserProfileAndSettings"})}const a=e?.privateDataObject?.code||"FAILURE",o=e?.privateDataObject?.data||null,s=r.components.mailingAddress;({NAVIGATION:()=>{o&&r.triggerCaasAnalytics(o)},SUCCESS:()=>{r.components.mailingAddress.model.set("caasBlockInView",!1),r[A.requestFn](A.reqParam1,A.reqParam2)},LOCKED:()=>{r.components.mailingAddress.model.set("caasBlockInView",!1),i.set(s,"authenticationResultErrorHeader","LOCKED"),i.set(s,"authenticationResultErrorAdvisory","LOCKED")},LOGOUT:()=>{r.components.mailingAddress.model.set("caasBlockInView",!1);var e=t.settings.get("logoutUrl");t.state(e)},CANCELLED:n,FAILURE:n,SYS_FAILURE:n,INVALID_CONFIG:n})[a]()},r.triggerCaasAnalytics=function(e){r.components.mailingAddress.model.set("caasBlockInView",!0),t.state("#/dashboard/profileArea/mailingAddressDetails/requestStepUp",{caas:e,pg_name:"SSAM-ADDRESS"})},r.requestStepUp=function(){return!1},r.setUrlForAnalytics=function(e){var i=t.state();i.action.name=e,t.state(i),t.userActionExecuted=!0},r.addPermanentMailingAddress=function(){t.userActionExecuted||r.setUrlForAnalytics("selectMyMailingAddressDetails")},r.addTemporaryMailingAddress=function(){t.userActionExecuted||r.setUrlForAnalytics("selectMyMailingAddressDetails")},r.updateMailingAddress=function(){t.userActionExecuted||r.setUrlForAnalytics("selectMyMailingAddressDetails")},r.updateBrokerageMailingAddress=function(){t.userActionExecuted||r.setUrlForAnalytics("selectMyMailingAddressDetails")},r.confirmAddPermanentMailingAddress=function(){t.userActionExecuted||r.setUrlForAnalytics("selectMyMailingAddressDetails"),t.userActionExecuted=!1},r.confirmAddTemporaryMailingAddress=function(){t.userActionExecuted||r.setUrlForAnalytics("selectMyMailingAddressDetails"),t.userActionExecuted=!1},r.confirmUpdateMailingAddress=function(){t.userActionExecuted||r.setUrlForAnalytics("selectMyMailingAddressDetails"),t.userActionExecuted=!1},r.confirmUpdateBrokerageMailingAddress=function(){t.userActionExecuted||r.setUrlForAnalytics("selectMyMailingAddressDetails"),t.userActionExecuted=!1},r.confirmDeleteMailingAddressConfirm=function(){t.userActionExecuted||r.setUrlForAnalytics("selectMyMailingAddressDetails"),t.userActionExecuted=!1},r.registerDirtyForm=function(){var e=Object.keys(r.components.mailingAddress.model.get("whiteList"));t.bubble("dirtyRegister",{controller:r,compInstanceNames:["mailingAddress"],target:"#my-profile-page-content",whiteList:e,routeBlackList:["/dashboard/profileArea/mailingAddressDetails/confirmAddTemporaryMailingAddress","/dashboard/profileArea/mailingAddressDetails/confirmAddPermanentMailingAddress","/dashboard/profileArea/mailingAddressDetails/confirmUpdateMailingAddress"]})},r.deregisterDirtyForm=function(){t.bubble("dirtyDeregister",{name:"mailingAddress"})}}})),define("profileArea/sharedLib/baconModelCache",[],(function(){"use strict";var e=function(){};return e.prototype.cache=function(e){var t={};$.extend(!0,t,e.get()),this.baconModel=e,this.cachedBaconModel=t},e.prototype.restore=function(){if(this.baconModel&&this.cachedBaconModel){var e=this.baconModel.get();for(var t in e)Object.hasOwnProperty.call(e,t)&&this.cachedBaconModel[t]!==e[t]&&(void 0===this.cachedBaconModel[t]?this.baconModel.set(t,""):this.baconModel.set(t,this.cachedBaconModel[t]))}},e.prototype.restoreFast=function(){this.baconModel&&this.cachedBaconModel&&this.baconModel.set(this.cachedBaconModel)},e})),define("profileArea/sharedLib/sharedValidators/myProfileMapper",[],(function(){"use strict";return function(e,t){var i={line1:"mailingAddresses.mailingAddressLineOne",line2:"mailingAddresses.mailingAddressLineTwo",line3:"mailingAddresses.mailingAddressLineThree",city:"mailingAddresses.city",state:"mailingAddresses.state",country:"mailingAddresses.country",zipCode:"mailingAddresses.zipCode",poType:"mailingAddresses.postOfficeType",fromDate:"mailingAddresses.mailingAddressEffectiveDate",toDate:"mailingAddresses.mailingAddressEndDate"},n={line1:"mailingAddressLineOneError",city:"cityError",state:"stateError",country:"countryError",zipCode:"zipCodeError",header:"myProfileAddressErrorHeader",advisory:"myProfileAddressErrorAdvisory"};return t&&t.fields&&(i=t.fields),t&&t.errorKeys&&(n=t.errorKeys),{TRILLIUM_CODE_79:{field:null,header:{setting:n.header,variation:"TRILLIUM_CODE_79"}},TRILLIUM_CODE_92:{field:null,header:{setting:n.header,variation:"TRILLIUM_CODE_92"}},OFAC_COUNTRY:{field:null,header:{setting:n.header,variation:"ADDRESS_UNDER_SANCTIONS_NOT_ALLOWED"}},TIME_PERIOD_EXISTS:{field:null,header:{setting:n.header,variation:"TIME_PERIOD_EXISTS"}},TRILLIUM_CODE_026:{field:i.line1,header:{setting:n.line1,variation:"FOREIGN_ADDRESS_ELEMENT_FOUND"}},TRILLIUM_CODE_034:{field:i.line1,header:{setting:n.line1,variation:"ABOVE_MAXIMUM_STREET_TITLE"}},TRILLIUM_CODE_036:{field:i.line1,header:{setting:n.line1,variation:"ABOVE_MAXIMUM_COMPLEX_NAME"}},TRILLIUM_CODE_038:{field:i.line1,header:{setting:n.line1,variation:"ABOVE_MAXIMUM_HOUSE_NUMBER"}},TRILLIUM_CODE_040:{field:i.line1,header:{setting:n.header,variation:"ABOVE_MAXIMUM_DWELLING_NUMBER"},advisory:{setting:n.advisory,variation:"ABOVE_MAXIMUM_DWELLING_NUMBER"}},TRILLIUM_CODE_042:{field:i.line1,header:{setting:n.line1,variation:"TOO_MANY_DWELLINGS"}},TRILLIUM_CODE_051:{field:i.line1,header:{setting:n.line1,variation:"ABOVE_MAXIMUM_ROUTE_NUMBER"}},TRILLIUM_CODE_057:{field:i.line1,header:{setting:n.line1,variation:"ABOVE_MAXIMUM_PO_BOX_NUMBER"}},PO_BOX_ADDRESS:{field:i.line1,header:{setting:n.header,variation:"PO_BOX_FOR_PRIMARY_NOT_ALLOWED"}},TRILLIUM_CODE_094:{field:i.line1,header:{setting:n.line1,variation:"STREET_NOT_FOUND"}},TRILLIUM_CODE_G01:{field:i.city,header:{setting:n.city,variation:"CITY_NOT_FOUND_ON_DIRECTORY"}},TRILLIUM_CODE_G02:{field:i.line1,header:{setting:n.header,variation:"STREET_NAME_NOT_FOUND"},advisory:{setting:n.advisory,variation:"STREET_NAME_NOT_FOUND"}},TRILLIUM_CODE_G03:{field:i.line1,header:{setting:n.line1,variation:"HOUSE_OR_BUILDING_NOT_FOUND"}},TRILLIUM_CODE_G04:{field:i.line1,header:{setting:n.line1,variation:"SECONDARY_STREET_NOT_FOUND"}},TRILLIUM_CODE_G05:{field:i.line1,header:{setting:n.line1,variation:"NO_CLEAR_ADDRESS_MATCH"}},TRILLIUM_CODE_G06:{field:i.line1,header:{setting:n.line1,variation:"NO_MATCH_TO_STREET_ADDRESS"}},TRILLIUM_CODE_G07:{field:i.zipCode,header:{setting:n.zipCode,variation:"ZIP_CODE_WITH_ALL_ZEROES"}},TRILLIUM_CODE_MV008:{field:i.zipCode,header:{setting:n.zipCode,variation:""}},TRILLIUM_CODE_VLS05211:{field:i.line1,header:{setting:n.line1,variation:""}},NO_CHANGE:{field:null,header:{setting:n.header,variation:"DUPLICATE_ADDRESS_ENTERED"}}}[e]}})),define("profileArea/sharedLib/sharedValidators/serverValidationBridge",["require","common/utility/dynamicContentUtil"],(function(e){"use strict";var t=e("common/utility/dynamicContentUtil").dynamicContent;return{triggerServerValidation:function(e){var i=e.component,n=e.spec,r=e.field||null,a=e.message,o=e.advisory||{},s=e.formMessage,c=e.dataPath||"",l=a.setting,d=o.setting;if(a.variation&&(l+="."+a.variation),o.variation&&(d+="."+o.variation),a&&i&&n){var u=t.get(i,l,a.dynamicValue),p=t.get(i,d,o.dynamicValue);i.output.emit("trigger",{value:"serverValidation",errorMessage:u,errorAdvisory:p,field:r,formMessage:s,dataPath:c})}}}})),define("profileArea/personalDetails/mailingAddress/lib/mailingAddressUtils",[],(function(){"use strict";var e=function(e){return""!==e?e:void 0};function t(e){var t=e.split("/");return 3===t.length?t[2]+t[0]+t[1]:""}function i(i){var n,r,a={addressId:i.id,groupId:i.groupId,line1:i.mailingAddressLineOne,line2:e(i.mailingAddressLineTwo),line3:e(i.mailingAddressLineThree),zipcode:i.zipCode?i.zipCode+(i.zipCodeExtension||""):i.postalCode,everyYear:e(i.mailingAddressDateRangeFrequency),type:i.mailingAddressType,isPrimary:"PRIMARY"!==i.mailingAddressCategory&&i.isPrimary},o=!1,s=0;return function(e,t){"RESIDENTIAL"===e.mailingAddressCategory?t.addressCategory="PRIMARY":t.addressCategory=e.mailingAddressCategory,"INTERNATIONAL"===t.type?t.countryCode=e.countryId:t.stateCode=e.provinceId||e.stateId,"MILITARY"===t.type?(t.postOfficeType=e.postOfficeType,t.stateCode=e.militaryRegionId):t.city=e.city}(i,a),i.addressOptions&&(n=i.addressOptions.bankAccounts||[],r=i.addressOptions.investmentAccounts||[],n.concat(r).forEach((function(e){!e.associated&&e.checked&&(a["associatedAccountIds["+s+"]"]=e.id,o=!0,s++)}))),o||"EDIT"===i.mode||(a.isPrimary=!0),i.mailingAddressEffectiveDate&&(a.fromDate=t(i.mailingAddressEffectiveDate)),i.mailingAddressEndDate&&(a.toDate=t(i.mailingAddressEndDate)),function(e){for(var t in e)if(Object.hasOwnProperty.call(e,t)){var i=e[t];"string"==typeof i&&(e[t]=i.trim())}}(a),a}function n(e){return e.match(/[a-zA-Z0-9]{5}(?=[a-zA-Z0-9]{4})|[a-zA-Z0-9]+/g).join("-")}function r(e){e&&e.length&&e.sort((function(e,t){var i=e.nameAndMask.toUpperCase(),n=t.nameAndMask.toUpperCase();return i<n?-1:i>n?1:0}))}return{transformValidateAddress:i,transformAddressVerificationData:function(e,t){var i={formId:e.formId,isEdit:t};return e.addressOptions.forEach((function(e){e.originalAddress?(i.userEntered=e.address,i.userEntered.zipcode=n(i.userEntered.zipcode),i.customerEnteredPostalAddress=e.optionId):(i.systemRecommended=e.address,i.systemRecommended.zipcode=n(i.systemRecommended.zipcode),i.recommendedPostalAddress=e.optionId,i.postalAddressOption=e.optionId)})),i},transformValidateAddressDemographics:function(e){var t=i(e);return"USA"===e.mailingAddressType?t.stateCode=e.stateId:"CANADA"===e.mailingAddressType?t.stateCode=e.provinceId:"MILITARY"===e.mailingAddressType&&(t.stateCode=e.militaryRegionId),t},transformArrayByAssociatedFlag:function(e){var t=[],i=[];return e.forEach((function(e){e.associated?i.push(e):t.push(e)})),r(i),r(t),i.concat(t)},transformArrayByNameAndMask:r,checkForAllAccountsSelected:function(e){return Boolean(e)&&Boolean(e.length)&&-1===e.findIndex((function(e){return!e.checked}))}}})),define("bluespec/my_profile_address",[],(function(){return{name:"MY_PROFILE_ADDRESS",data:{mailingAddresses:{type:"List",items:{mailingAddressCategory:"Description",mailingAddressDuration:"Description",mailingAddressLineOne:"AddressLine",mailingAddressLineTwo:"AddressLine",mailingAddressLineThree:"AddressLine",city:"City",states:{type:"List",items:{stateId:"Description",stateName:"Description"}},stateId:"Description",provinces:{type:"List",items:{provinceId:"Description",provinceName:"Description"}},provinceId:"Description",militaryRegions:{type:"List",items:{militaryRegionId:"Description",militaryRegionName:"Description"}},militaryRegionId:"Description",postalCode:"PostalCode",countries:{type:"List",items:{countryId:"Description",countryName:{type:"Description",exportable:!0}}},countryId:"Description",postOfficeType:"Description",postOfficeNumber:"Numeric",mailingAddressEffectiveDate:"Date",mailingAddressEndDate:"Date",mailingAddressDateRangeFrequency:"Frequency",zipCode:"ZipCode",zipCodeExtension:"ZipCodeExtension",mailingAddressType:"Description",mailingAddressId:"Numbers",dataError:{type:"List",itemType:"Description"},allBankAccountsSelected:{type:"OnOff"},allBankAccountsAssociated:{type:"OnOff"},allInvestmentAccountsSelected:{type:"OnOff"},allInvestmentAccountsAssociated:{type:"OnOff"},bankAccounts:{type:"List",items:{bankAccountId:"Description",bankAccountDisplayName:"Description",bankAccountAssociated:"OnOff"}},investmentAccounts:{type:"List",items:{investmentAccountId:"Description",investmentAccountDisplayName:"Description",investmentAccountAssociated:"OnOff"}},displayHeader:{type:"OnOff"}}}},actions:{addPermanentMailingAddress:!0,addTemporaryMailingAddress:!0,editPrimaryAddress:!0,editMailingAddress:!0,deleteMailingAddress:!0,saveMailingAddressChanges:!0,cancelMailingAddressChanges:!0,requestMailingAddressTypeDetails:!0,requestConfirmationMessageDetails:!0,exitConfirmationMessageDetails:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0,requestLinkedAccountsAndServicesHelpMessage:!0,exitLinkedAccountsAndServicesHelpMessage:!0,requestCorrespondenceAddressHelpMessage:!0,exitCorrespondenceAddressHelpMessage:!0,skipBack:!0,requestDeleteMailingAddressHelpMessage:!0},states:{viewDisplayed:!0,exitConfirmationOverlay:!0,myProfileAddressAdditionVerificationOverlay:!0,myProfileAddressDeleteConfirmationOverlay:!0},settings:{requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,primaryAddressHeader:!0,primaryAddressLabel:!0,primaryAddressAdvisory:!0,primaryBusinessAddressAdvisoryLineOne:!0,primaryBusinessAddressAdvisoryLineTwo:!0,primaryBusinessAddressAdvisoryLineThree:!0,mailingAddressHeader:!0,mailingAddressLabel:!0,mailingAddressAdvisory:!0,correspondenceAddressAdvisory:!0,correspondenceAddressHeader:!0,correspondenceAddressLabel:!0,mailingAddressHeaderAda:!0,mailingAddressInstructions:!0,mailingAddressCategoryLabel:!0,mailingAddressCategoryAda:!0,temporaryMailingAddressCategoryLabel:!0,mailingAddressTypeLabel:!0,makeThisAddressPrimaryLabel:!0,mailingAddressLineOneLabel:!0,mailingAddressLineTwoLabel:!0,mailingAddressLineThreeLabel:!0,cityLabel:!0,stateLabel:!0,provinceLabel:!0,postalCodeLabel:!0,zipCodeLabel:!0,countryLabel:!0,postOfficeTypeApoLabel:!0,postOfficeTypeFpoLabel:!0,mailingAddressEffectiveDateLabel:!0,mailingAddressEndDateLabel:!0,mailingAddressDateRangeFrequencyLabel:!0,mailingAddressAssociatedDateRangeLabel:!0,bankAccountsLabel:!0,investmentAccountsLabel:!0,allBankAccountsLabel:!0,allInvestmentAccountsLabel:!0,accountDisplayNameHeader:!0,primaryAddressLinkedAccountsLabel:!0,mailingAddressLinkedAccountsLabel:!0,primaryAddressLinkedAccountsMessage:!0,mailingAddressLinkedAccountsMessage:!0,mailingAddressLinkedAccountsAdvisory:!0,temporaryMailingAddressLinkedAccountsAdvisory:!0,linkedAccountsAndServicesHelpMessage:!0,updateNotAllowedLinkedAccountsAndServicesHelpMessage:!0,primaryDesignationLabel:!0,temporaryDesignationLabel:!0,residentialDesignationLabel:!0,correspondenceDesignationLabel:!0,correspondenceAddressHelpMessage:!0,editLabel:!0,editPrimaryAddressLabel:!0,editCorrespondenceAddressLabel:!0,editMailingAddressLabel:!0,editMailingAddressAda:!0,deleteMailingAddressLabel:!0,deleteMailingAddressAda:!0,saveMailingAddressChangesLabel:!0,cancelMailingAddressChangesLabel:!0,mailingAddressLineOneError:!0,mailingAddressLineTwoError:!0,mailingAddressLineThreeError:!0,cityError:!0,stateError:!0,provinceError:!0,postalCodeError:!0,countryError:!0,zipCodeError:!0,zipCodeExtensionError:!0,mailingAddressEffectiveDateError:!0,mailingAddressEndDateError:!0,zipCodeExtensionAda:!0,unitedStatesLabel:!0,canadaLabel:!0,internationalLabel:!0,militaryLabel:!0,postOfficeTypeAda:!0,mailingAddressDateAda:!0,calendarAda:!0,statePlaceholder:!0,countryPlaceholder:!0,provincePlaceholder:!0,punctuationMarkHyphenLabel:!0,punctuationMarkCommaLabel:!0,mailingAddressEffectiveDateOpenAda:!0,mailingAddressEndDateOpenAda:!0,requestLinkedAccountsAndServicesHelpMessageAda:!0,requestCorrespondenceAddressHelpMessageAda:!0,exitHelpMessageAda:!0,beginHelpMessageAda:!0,endHelpMessageAda:!0,errorAnnouncementAda:!0,editMailingAddressDateRangeFrequencyLabel:!0,myProfileAddressErrorHeader:!0,myProfileAddressErrorAdvisory:!0,importantAda:!0,myProfileAddAddressErrorHeader:!0,myProfileAddAddressErrorAdvisory:!0,myProfileUpdateAddressErrorHeader:!0,myProfileUpdateAddressErrorAdvisory:!0,currentSelectionAda:!0,endOfSelectionAda:!0,selectionUpdatesContentBelowAda:!0,skipBackLabel:!0,alternateMailingAddressLabel:!0,exitAda:!0,deleteMailingAddressHelpMessageAda:!0,deleteMailingAddressHelpMessageLabel:!0,authenticationResultErrorHeader:!0,authenticationResultErrorAdvisory:!0}}})),define("profileArea/personalDetails/mailingAddress/spec/mailingAddressSpec",["require","blue/util","bluespec/my_profile_address"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/my_profile_address");return t.object.merge(i,{data:{mailingAddressMinimumEndDate:"Date",mailingAddressLineOne:"Description",mailingAddressLineTwo:"Description",mailingAddressLineThree:"Description",city:"Description",stateId:"Description",zipCode:"Description",zipCodeExtension:"Description",postalCode:"Description",provinceId:"Description",countryId:"Description",submitButtonDisabled:"OnOff",OFACError:"OnOff",OFACErrorMessage:"Description",militaryRegionId:"Description",currentAddType:"Description",mailingAddressEffectiveDate:"Description",mailingAddressEndDate:"Description",skipLinkTarget:{type:"Description"},caasBlockInView:"OnOff",isIntPrimaryAllowed:{type:"OnOff"}},states:{showLoader:!0}})})),define("profileArea/personalDetails/mailingAddress/lib/validators/mailingAddressValidator",["appkit-utilities/validation/util","moment","profileArea/sharedLib/profileConstants","blue-app/validate/var/ADDRESS_LINE_REGEX","blue-app/validate/var/CITY_REGEX","blue-app/validate/var/NUMERIC_REGEX","blue-app/validate/var/POSTAL_CODE_REGEX"],(function(e,t,i,n,r,a,o){"use strict";const s="MM/DD/YYYY";var c=function(e,t){return{isValid:e,errorType:e?"":t}},l=function(t,i){var n=e.getProperty(t,i).length>0;return c(n,"MISSING_MANDATORY_DATA")},d=function(t,i){var n=e.getProperty(t,i),a=r.test(n);return c(a,"INVALID_FORMAT")},u=function(t,i){var r=e.getProperty(t,i),a=n.test(r);return c(a,"INVALID_FORMAT")},p=function(t,i){var n=e.getProperty(t,i),r=5===n.length,o=a.test(n);return c(r&&o,"INVALID_FORMAT")},m=function(t,i){var n=e.getProperty(t,i),r=0===n.length||4===n.length,o=a.test(n),s=r&&o;return o?r&&0!==parseInt(n)?c(s,"INVALID_FORMAT"):c(!1,"ALL_ZEROS"):c(!1,"INVALID_FORMAT")},f=function(t,i){var n=e.getProperty(t,i),r=o.test(n);return c(r,"INVALID_FORMAT")},A=function(t,i){var n=e.getProperty(t,i).length>0;return c(n,"MISSING_MANDATORY_DATA")},g=function(i,n){var r=e.getProperty(i,n),a=r.length>1&&t(r,s).isValid();return c(a,"INVALID_FORMAT")},E={mailingAddressLineOne:[u],mailingAddressLineTwo:[u],mailingAddressLineThree:[u]},y={city:[l,d],zipCode:[p],zipCodeExtension:[m],stateId:[function(t,i){var n=e.getProperty(t,i);return c(""!==n,"MISSING_MANDATORY_DATA")}],requiredFields:i.VALIDATION_PROPS.USA.requiredFields},h={city:[l,d],provinceId:[function(t,i){var n=e.getProperty(t,i);return c(""!==n,"INVALID_FORMAT")}],postalCode:[f],requiredFields:i.VALIDATION_PROPS.CANADA.requiredFields},v={city:[l,d],postalCode:[f],countryId:[function(t,i){var n=e.getProperty(t,i);return c(""!==n,"INVALID_FORMAT")},function(t,n){var r=e.getProperty(t,n),a=!i.VALIDATION_PROPS.OFACLIST.includes(r);return c(a,"ADDRESS_UNDER_SANCTIONS_NOT_ALLOWED")}],requiredFields:i.VALIDATION_PROPS.INTERNATIONAL.requiredFields},C={zipCode:[l,p],zipCodeExtension:[m],militaryRegionId:[function(t,i){var n=e.getProperty(t,i);return c(""!==n,"INVALID_FORMAT")}],requiredFields:i.VALIDATION_PROPS.MILITARY.requiredFields},_={mailingAddressEffectiveDate:[A,g,function(i,n){var r=e.getProperty(i,n),a=t().format("MM/DD/YYYY"),o=t(r,s).isSameOrAfter(a);return c(o,"LESSER_THAN_CURRENT_DATE")}],mailingAddressEndDate:[A,g,function(i,n){var r=e.getProperty(i,n),a=t(r,s),o=t(n.mailingAddressEffectiveDate,s),l=a.isAfter(o);return c(l,"LESSER_THAN_EFFECTIVE_DATE")}]};return{USA:Object.assign(E,y),CANADA:Object.assign(E,h),INTERNATIONAL:Object.assign(E,v),MILITARY:Object.assign(E,C),TEMP_ADDRESS:_}})),define("profileArea/personalDetails/mailingAddress/component/mailingAddress",["require","profileArea/sharedLib/baconModelCache","blue/event/channel/component","profileArea/sharedLib/sharedValidators/myProfileMapper","common/utility/rapidash","profileArea/sharedLib/sharedValidators/serverValidationBridge","profileArea/personalDetails/mailingAddress/lib/mailingAddressUtils","moment","profileArea/sharedLib/profileConstants","profileArea/personalDetails/mailingAddress/spec/mailingAddressSpec","common/lib/mailingAddressCodes","appkit-utilities/validation/componentValidate","profileArea/personalDetails/mailingAddress/lib/validators/mailingAddressValidator","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";var t,i=e("profileArea/sharedLib/baconModelCache"),n=e("blue/event/channel/component"),r=e("profileArea/sharedLib/sharedValidators/myProfileMapper"),a=e("common/utility/rapidash"),o=e("profileArea/sharedLib/sharedValidators/serverValidationBridge"),s=e("profileArea/personalDetails/mailingAddress/lib/mailingAddressUtils"),c=e("moment"),l=e("profileArea/sharedLib/profileConstants"),d=l.ACCOUNT_GROUP,u=function(){},p=e("profileArea/personalDetails/mailingAddress/spec/mailingAddressSpec"),{deprecatedIso3CountryCodeMapper:m}=e("common/lib/mailingAddressCodes"),f=e("appkit-utilities/validation/componentValidate"),A=e("profileArea/personalDetails/mailingAddress/lib/validators/mailingAddressValidator");return function(g){var E,y=this,h=l.VALIDATION_PROPS;y.onInit=function(){t=g.dcu.dynamicContent,y.componentChannel=n,y.callService=g._callService,y.dataTransform=g.dataTransform,y.registerDirtyForm=g.registerDirtyForm,y.deregisterDirtyForm=g.deregisterDirtyForm,y.baconModelCache=new i,y.statusCodeMapper=r,g.exitDialogUtil.setListeners(y),y.isoMapper=m,y.model.set("exitAdaModify",t.get(y,"exitAda.MODIFY")),y.model.set("stateError",t.get(y,"stateError.MISSING_MANDATORY_DATA")),y.model.set("provinceError",t.get(y,"provinceError.MISSING_MANDATORY_DATA")),y.model.set("countryError",t.get(y,"countryError.MISSING_MANDATORY_DATA")),g.on({showMaxAddressError:function(e){y._showMaxAddressError(e.messageInfo.address.mailingAddressLineOne)},addPermanentMailingAddress:function(e){y.targetInterceptor("ADD_PERMANENT",e)},addTemporaryMailingAddress:function(e){y.targetInterceptor("ADD_TEMPORARY",e)},resetMailingAddressToView:function(){y._resetToViewBrokerage(!0)}}),y.excf=function(e){g.logger.error(e.stack)},E=h.defaultAddressType,y.OFACErrorMessage=t.get(y,"countryError.ADDRESS_UNDER_SANCTIONS_NOT_ALLOWED"),y.model.set("authenticationResultErrorHeader",null)},y.onReady=function(){e("profileArea/sharedLib/genericServiceErrorEvent").addTriggerGenericServiceError(y,"myProfileAddressErrorHeader","myProfileAddressErrorAdvisory"),g.updateNativeButtonsAndNavigation("mailingAddressDetails.selectMyMailingAddressDetails")},y.targetInterceptor=function(e,t){var i={EDIT:y.editMailingAddress,ADD_PERMANENT:y.addPermanentMailingAddressForm,ADD_TEMPORARY:y.addTemporaryMailingAddressForm,DELETE:y.deleteMailingAddress};i[e]&&g.commonComponentsUtil.exitModalTargetDecorator.apply(y,[i[e],t])},y.getMailingAddressPath=function(e,t){return"mailingAddresses."+e+t},y.editMailingAddressIntercept=function(e){y.targetInterceptor("EDIT",e)},y.deleteMailingAddressIntercept=function(e){y.targetInterceptor("DELETE",e)},y._clean=function(){y._editAddressDataPath=""},y._triggerHeaderGenericServiceError=function(){g.controller.broadcast("updateMailingAddressHeader",{messageInfo:null}),g.getComponent("mailingAddressHeader").triggerGenericServiceError()},y._addMailingAddress=function(e){var t,i,n="TEMPORARY"===e;return y._resetToView(!0),y.clearGenericServiceError(),g.getComponent("mailingAddressHeader").clearGenericServiceError(),t=function(t){g.exitDialogUtil.setListeners(y),y._insertAddAddressData(t,e),y.setAccountsSelectedAndDisabled([],"reset"),g.updateNativeButtonsAndNavigation("mailingAddressDetails.addOrEditMailingAddress"),y._setupInitialValidation("USA",null,n),y.registerDirtyForm()},i=function(){g.controller.broadcast("updateMailingAddressHeader",{messageInfo:null}),y._triggerHeaderGenericServiceError()},y.callService("myProfile.mailingAddress.addOptions.svc",{addressCategory:e,groupId:y.model.get("groupId")}).then(t,i).catch(y.excf)},y.addPermanentMailingAddressForm=function(){if(g.application.dirtyForm.dirtyCheckAll().isDirty){var e={executeAction:function(){g.setUrlForAnalytics("addPermanentMailingAddress"),y.deregisterDirtyForm(),y._addMailingAddress("PERMANENT")},executeNoAction:function(){}};g.profileUtil.showDirtyForm.call(y,e)}else g.setUrlForAnalytics("addPermanentMailingAddress"),y._addMailingAddress("PERMANENT")},y.addTemporaryMailingAddressForm=function(){if(g.application.dirtyForm.dirtyCheckAll().isDirty){var e={executeAction:function(){g.setUrlForAnalytics("addTemporaryMailingAddress"),y.deregisterDirtyForm(),y._addMailingAddress("TEMPORARY")},executeNoAction:function(){}};g.profileUtil.showDirtyForm.call(y,e)}else g.setUrlForAnalytics("addTemporaryMailingAddress"),y._addMailingAddress("TEMPORARY"),y.output.emit("trigger",{value:"disableDatePickerTextInput"})},y.setAccountsSelectedAndDisabled=function(e,t){var i=!!e.length&&s.checkForAllAccountsSelected(e);y.allAccountsGroupSelected(t,i,i)},y.editMailingAddress=function(e){if(g.application.dirtyForm.dirtyCheckAll().isDirty){var t={executeAction:function(){y.deregisterDirtyForm(),y.editMailingAddressCleanForm(e)},executeNoAction:function(){}};g.profileUtil.showDirtyForm.call(y,t)}else y.deregisterDirtyForm(),y.editMailingAddressCleanForm(e)},y.editMailingAddressCleanForm=function(e){var i,n,r,a,o,s;return y._resetToView(!0),y._editAddressDataPath=e.dataPath||e.context.dataPath,y.baconModelCache.cache(y.model.lens(y._editAddressDataPath)),g.userActionExecuted=!0,(i=y.model.get(y._editAddressDataPath))&&i.mailingAddressCategory?y.model.set("currentAddType","TEMPORARY"===i.mailingAddressCategory?"TEMPORARY":"PERMANENT"):y.model.set("currentAddType","PERMANENT"),s="TEMPORARY"===y.model.get("currentAddType"),y.clearGenericServiceError(),g.getComponent("mailingAddressHeader").clearGenericServiceError(),n=function(e){var n,r=y.dataTransform.transformAddressToEditMode(y,i,e);!e.isIntPrimaryAllowed&&"INTERNATIONAL"===r?.mailingAddressType&&"PRIMARY"===r.mailingAddressCategory&&(n=r,Object.assign(n,{mailingAddressType:"USA",city:"",countryDisplayName:"",countryId:"",deleteMailingAddressAda:"",editMailingAddressAda:"",mailingAddressLineOne:"",mailingAddressLineTwo:"",mailingAddressLineThree:"",militaryRegionId:"",postOfficeType:"",postalCode:"",provinceId:"",stateId:"",zipCode:"",zipCodeExtension:""}));var c=r&&r.addressOptions,l="makeThisAddressPrimaryLabel";y.model.set(y._editAddressDataPath,r),y.model.set(y._editAddressDataPath.toString()+".mode","EDIT"),r&&"PRIMARY"===r.mailingAddressCategory?t.set(y,l,"PRIMARY"):c&&c.isPrimaryAllowed&&t.set(y,l,"DEFAULT"),c&&(a=c.bankAccounts||[],o=c.investmentAccounts||[],y.setAccountsSelectedAndDisabled(a,d.BANK_ACCOUNT),y.setAccountsSelectedAndDisabled(o,d.INVESTMENT_ACCOUNT)),y.output.emit("ractiveModelCacheReset"),y.output.emit("trigger",{value:"disableDatePickerTextInput"}),g.exitDialogUtil.setListeners(y),g.updateNativeButtonsAndNavigation("mailingAddressDetails.addOrEditMailingAddress"),y._setupInitialValidation(r.mailingAddressType,r,s),y.registerDirtyForm()},r=function(){y._triggerHeaderGenericServiceError()},g.setUrlForAnalytics("updateMailingAddress"),y.callService("myProfile.mailingAddress.editOptions.svc",{addressId:i.id,groupId:y.model.get("groupId")}).then(n,r).catch(y.excf)},y.deleteMailingAddress=function(e){if(g.application.dirtyForm.dirtyCheckAll().isDirty){var t={executeAction:function(){y.deregisterDirtyForm(),y.deleteMailingAddressCleanForm(e)},executeNoAction:function(){}};g.profileUtil.showDirtyForm.call(y,t)}else y.deleteMailingAddressCleanForm(e)},y.deleteMailingAddressCleanForm=function(e){y._resetToView(!0),g.getComponent("mailingAddressDeleteConfirmation").model.update(e.context),e.context.dataPath&&g.getComponent("mailingAddressDeleteConfirmation").model.update(y.model.get(e.context.dataPath));var t=g.state();t.action.name="showModalDialogForMailingAddress",t.action.params={componentName:"mailingAddressDeleteConfirmation"},t.area.name="profileArea",g.privateState(t),y._currentTarget=e.domEvent.currentTarget},y._mailingAddressValidateStatusINVALID=function(e,i){var n;n=y.statusCodeMapper(e.statusCode);var r=Object.keys(h[E].whiteList),a=!!n.field&&n.field.split(".")[1];if(a&&r.includes(a)){var s=y.model.get("v");s[a].errorMessage=t.get(y,n.header.setting+"."+n.header.variation),y.model.set("v",s)}o.triggerServerValidation({component:y,spec:"MY_PROFILE_ADDRESS",field:n.field,message:n.header,advisory:n.advisory,dataPath:i}),y.output.emit("state",{value:"saveMailingAddressChangesEnded"})},y._mailingAddressValidateOptions=function(e,t){y._currentTarget=e.domEvent.target;var i=g.state();i.action.name="showModalDialogForMailingAddress",i.action.params={componentName:"mailingAddressAdditionVerification"},g.getComponent("mailingAddressAdditionVerification").model.update(s.transformAddressVerificationData(t,!!e.context.id)),g.privateState(i),y.output.emit("state",{value:"saveMailingAddressChangesEnded"})},y._mailingAddressCommitMaximumAccountsReached=function(e){y._showMaxAddressError(e.context.mailingAddressLineOne),y.output.emit("state",{value:"saveMailingAddressChangesEnded"})},y._mailingAddressCommitSuccess=function(e,t,i){y.output.emit("state",{value:"saveMailingAddressChangesEnded"}),g.setUrlForAnalytics(g.controller._action),t.statusCodes&&"HOME_LENDING"===t.statusCodes[0]?g.controller.broadcast("reloadMailingAddressList",{messageInfo:{type:"HOME_LOAN_INCLUDED_UPDATE"}}):g.controller.broadcast("reloadMailingAddressList",{messageInfo:{address:{mailingAddressLineOne:e.context.mailingAddressLineOne,cardCodes:t.statusCodes},type:"success",phoneNumbers:i,operation:e.context.id?"EDIT":"ADD"}}),g.updateNativeButtonsAndNavigation("mailingAddressDetails.selectMyMailingAddressDetails")},y._mailingAddressValidCommitChanges=function(e,t){var i,n,r,o=[];g.controller.isMultiEciUser&&(r={groupId:y.model.get("groupId")}),y.clearFormErrors(),i=function(t){var i="MAXIMUM_ACCOUNTS_REACHED"===a.get(t,"statusCodes.0");return"NOT_MAPPED"===a.get(t,"statusCodes.0")?(y.serviceFailure(),Promise.reject()):i?(y._mailingAddressCommitMaximumAccountsReached(e),Promise.reject()):"SUCCESS"===t.code?Promise.resolve({eventData:e,commitData:t}):(y.serviceFailure(),Promise.reject())},n=function(){return y.serviceFailure(),Promise.reject()},o.push(y.callService("myProfile.mailingAddress.commit.svc",{formId:t.formId,postalAddressOption:t.addressOptions[0].optionId,groupId:y.model.get("groupId")}).then(i,n).catch(y.excf)),o.push(y.callService("myProfile.phoneList.svc",r).then((function(e){return Promise.resolve({phoneNumbers:e})}),(function(){return Promise.resolve({phoneNumbers:void 0})}))),Promise.all(o).then((function(e){y._mailingAddressCommitSuccess(e[0].eventData,e[0].commitData,e[1].phoneNumbers)}),(function(){}))},y._mailingAddressValidateSuccess=function(e,t){if("VALID"===t.statusCode)return 1!==t.addressOptions.length?(y._mailingAddressValidateOptions(e,t),void g.updateNativeButtonsAndNavigation("mailingAddressDetails.saveAddress")):void y._mailingAddressValidCommitChanges(e,t);y._mailingAddressValidateStatusINVALID(t,e.dataPath)},y.checkIfNewAccountsAreAdded=function(e,t){var i=!1;return t.forEach((function(t){e.includes(t.id)||(i=!0)})),i},y.saveMailingAddressChanges=function(e){var i,n,r=e.context.id?"myProfile.mailingAddress.edit.validate.svc":"myProfile.mailingAddress.add.validate.svc",a="INTERNATIONAL"===e?.context?.mailingAddressType;if(e=y.assignValidatedItems(e),y.model.get("$newIsoCodesEnabled")&&a){var o=y.isoMapper[e.context.countryId];o&&(e.context.countryId=o)}y.clearFormErrors(),g.userActionExecuted=!0,y.output.emit("state",{value:"saveMailingAddressChangesStarted"}),g.controller._action="confirmUpdateMailingAddress";var s=e.context.addressOptions.bankAccounts.filter((e=>e.checked)),c=e.context.mailingAddressCategory,l=(e.context.addressOptions?.investmentAccounts||[]).filter((e=>e.checked));if(0!==s.concat(l).length||!1!==e.context.isPrimary){if(!e.context.id)if(g.controller._action="PERMANENT"===e.context.mailingAddressCategory?"confirmAddPermanentMailingAddress":"confirmAddTemporaryMailingAddress","confirmAddTemporaryMailingAddress"===g.controller._action&&y._tempAddressDateRangeExists())return void y.triggerGenericServiceError(t.get(y,"myProfileAddressErrorHeader.TIME_PERIOD_EXISTS")," ");return e.context.id&&"CORRESPONDENCE"===e.context.mailingAddressCategory&&(e.context.mailingAddressCategory="CUSTOMER_MAILING"),i=function(t){y.deregisterDirtyForm();var i=g.getComponent("mailingAddress").model.get(e.datapath);g.getComponent("mailingAddressAdditionVerification").model.update(i),"NOT_MAPPED"===t.statusCode?y.serviceFailure():y._mailingAddressValidateSuccess(e,t)},n=function(){y.serviceFailure()},y.callService(r,e.context).then(i,n).catch(y.excf)}"PERMANENT"===c?y.triggerGenericServiceError(t.get(y,"myProfileAddressErrorHeader.PERMANENT_ADDRESS_NO_ACCOUNT_SELECTED")," "):y.triggerGenericServiceError(t.get(y,"myProfileAddressErrorHeader.TEMPORARY_ADDRESS_NO_ACCOUNT_SELECTED")," ")},y._tempAddressDateRangeExists=function(){var e,t,i,n,r,a,o,s,l=!1,d=y.mailingAddresses,u=y.mailingAddressEffectiveDate,p=y.mailingAddressEndDate;for(var m=0;m<=d.length-2&&!(d[m].mailingAddressEffectiveDate&&d[m].mailingAddressEndDate&&(e=u,t=p,i=d[m].mailingAddressEffectiveDate,n=d[m].mailingAddressEndDate,r=void 0,a=void 0,o=void 0,s=void 0,r=c(e),a=c(t),o=c(i),s=c(n),l=!(!r.isSameOrBefore(o)||!o.isSameOrBefore(a))||!(!r.isSameOrBefore(s)||!s.isSameOrBefore(a))||!(!o.isBefore(r)||!a.isBefore(s))));m++);return l},y.clearFormErrors=function(){y.clearGenericServiceError();for(var e=["myProfileAddAddressErrorHeader","myProfileAddAddressErrorAdvisory","myProfileUpdateAddressErrorHeader","myProfileUpdateAddressErrorAdvisory"],t=e.length-1;t>=0;t--)y.model.set(e[t],null)},y.serviceFailure=function(){y.triggerGenericServiceError(),y.output.emit("state",{value:"saveMailingAddressChangesEnded"})},y.cancelMailingAddressChanges=function(){g.deregisterDirtyForm(),g.userActionExecuted=!0;var e=y.model.get(y._editAddressDataPath.toString()+".id"),t=y._editAddressDataPath.substring(y._editAddressDataPath.indexOf(".")+1),i=y.getMailingAddressPath(t,".allBankAccountsSelected"),n=y.getMailingAddressPath(t,".allInvestmentAccountsSelected");y.model.set(i,!1),y.model.set(n,!1),y.output.emit("trigger",{value:"clearValidation",data:""}),y._resetToView(),g.setUrlForAnalytics("selectMyMailingAddressDetails"),e||g.controller.broadcast("addMailingAddressCancelled"),y.componentChannel.emit("resetEventInterceptor"),g.updateNativeButtonsAndNavigation("mailingAddressDetails.selectMyMailingAddressDetails"),y.clearAddressModel()},y.requestMailingAddressTypeDetails=function(e){y.deregisterDirtyForm();var t=e.context.value,i={city:"",stateId:"",provinceId:"",militaryRegionId:"",countryId:"",postalCode:"",zipCode:"",zipCodeExtension:"",postOfficeType:"APO"},n="TEMPORARY"===y.model.get("currentAddType");a.forEach(i,(function(e){y.model.set(y._editAddressDataPath+"."+e,i[e])})),y.output.emit("trigger",{value:"clearValidation",data:y._editAddressDataPath}),y._setupInitialValidation(t,null,n),y.registerDirtyForm()},y.accountsSelected=function(e){var t=e.context;y.editAddressInput(e),"mailingAddresses.bankAccounts.bankAccountDisplayName"===t.groupName||"mailingAddresses.allBankAccountsSelected"===t.groupName?y.accountsGroupSelected(t,".addressOptions.bankAccounts","mailingAddress-allBankAccountsSelected","allBankAccountsSelected"):y.accountsGroupSelected(t,".addressOptions.investmentAccounts","mailingAddress-allInvestmentAccountsSelected","allInvestmentAccountsSelected")},y.accountsGroupSelected=function(e,t,i,n){var r,a,o=y.model.get(y._editAddressDataPath+t),c=y._editAddressDataPath.substring(y._editAddressDataPath.indexOf(".")+1),l=y.getMailingAddressPath(c,".allBankAccountsSelected"),u=y.getMailingAddressPath(c,".allInvestmentAccountsSelected"),p="allBankAccountsSelected"===n?l:u;return e.id===i?o.forEach((function(t){t.associated||(t.checked=e.checked)})):(y.model.set(p,!1),o=o.map((function(t){return e.id===t.id&&(t.checked=e.checked),t}))),r="allBankAccountsSelected"===n?d.BANK_ACCOUNT:d.INVESTMENT_ACCOUNT,a=s.checkForAllAccountsSelected(o),y.allAccountsGroupSelected(r,a,!1),y.model.set(y._editAddressDataPath+t,o),o},y.allAccountsGroupSelected=function(e,t,i){y.output.emit("trigger",{value:"updateViewModel",message:{type:e,checked:t,disabled:i}})},y._showMaxAddressError=function(e){var i,n,r,a,o,s,c=y.model.get("mailingAddresses"),l="ADD",d="EDIT";for(var u in c)c[u].mode===l?i=l:c[u].mode===d&&(i=d);a={mailingAddresses:{mailingAddressLineOne:e}},i===l?(n="myProfileAddAddressErrorHeader.MAXIMUM_ACCOUNTS_REACHED",r="myProfileAddAddressErrorAdvisory.MAXIMUM_ACCOUNTS_REACHED"):i===d&&(n="myProfileUpdateAddressErrorHeader.MAXIMUM_ACCOUNTS_REACHED",r="myProfileUpdateAddressErrorAdvisory.MAXIMUM_ACCOUNTS_REACHED"),o=t.get(y,n,a),s=t.get(y,r),y.triggerGenericServiceError(o,s),g.hybrid&&g.updateNativeButtonsAndNavigation("mailingAddressDetails.selectMyMailingAddressDetails")},y._insertAddAddressData=function(e,i){e.isPrimaryAllowed&&t.set(y,"makeThisAddressPrimaryLabel","DEFAULT");var n,r=y.dataTransform.trasformAddAddressData(y,i,e),a=y.mailingAddresses;n=a.length,a.push(r),y.mailingAddresses="",y.mailingAddresses=a,y._editAddressDataPath="mailingAddresses."+n},y._resetToView=function(e){if(y._editAddressDataPath){var t=y.model.get(y._editAddressDataPath.toString()+".id");if(t)a.forEach(y.baconModelCache.cachedBaconModel,(function(e){y.model.set(y._editAddressDataPath+"."+e,y.baconModelCache.cachedBaconModel[e])})),y.model.set(y._editAddressDataPath.toString()+".mode","VIEW"),y.output.emit("trigger",{value:"setFocus",elementData:{addressId:t,elementType:"EDIT"}});else{var i=y.model.get("mailingAddresses");i.pop(),y.model.set("mailingAddresses",i)}}y._editAddressDataPath="",e&&g.controller.broadcast("removeMailingAddressUpdate")},y._resetToViewBrokerage=function(){if(g.Api.modal.stopListener(),y.output.emit("ractiveModelCacheTeardown"),y._editAddressDataPath)if(y.model.get(y._editAddressDataPath.toString()+".id"))a.forEach(y.baconModelCache.cachedBaconModel,(function(e){y.model.set(y._editAddressDataPath+"."+e,y.baconModelCache.cachedBaconModel[e])})),y.model.set(y._editAddressDataPath.toString()+".mode","VIEW");else{var e=y.model.get("mailingAddresses");e.pop(),y.model.set("mailingAddresses",e)}y._editAddressDataPath=""},y._handleSkiplinkPress=function(e){g.profileUtil.skipIfEnterSpaceOrClick(y,e,"skipBack")},y.resetModel=function(){var e=p.settings,t=y.model;Object.keys(t.get()).forEach((function(i){e[i]||t.set(i,null)}))},y.clearAddressModel=function(e){var t={city:"",postOfficeType:"APO",stateId:"",militaryRegionId:"",provinceId:"",countryId:"",zipCode:"",zipCodeExtension:"",postalCode:"",mailingAddressLineOne:"",mailingAddressLineTwo:"",mailingAddressLineThree:"",submitButtonDisabled:!0,mailingAddressEffectiveDate:c().format("MM/DD/YYYY"),mailingAddressEndDate:"",skipLinkTarget:"",OFACError:!1,v:{}};e&&(t=Object.assign(t,e)),y.model.update(t),y.clearFormErrors()},y._setupInitialValidation=function(e="USA",t,i){E=e,y.clearAddressModel(t);var n=g.util.object.deepClone(h[e].vObj),r=g.util.object.deepClone(h[e].whiteList),a=g.util.object.deepClone(A[e]);i&&(Object.assign(n,h.TEMP_ADDRESS.vObj),Object.assign(r,h.TEMP_ADDRESS.whiteList),Object.assign(a,A.TEMP_ADDRESS),a.requiredFields=a.requiredFields.concat(h.TEMP_ADDRESS.requiredFields)),y.model.set("v",n),y.model.set("whiteList",r),f.call(y,y.context,a)},y.validateTabSubmitForAda=function(){y.validateDataItems(Object.keys(y.v))},y.checkModelForValues=function(e){var t=!0;for(let i of e)"countryId"===i&&(h.OFACLIST.includes(y.countryId)?y.OFACError=!0:y.OFACError=!1),"militaryRegionId"===i&&(y.militaryRegionId||(y.militaryRegionId=y.militaryRegionId)),y[i]||(t=!1);return t},y.editAddressInput=function(e){"mailingAddressEffectiveDate"===e?.context.name&&(y.model.set("mailingAddressEndDate",""),y.v.mailingAddressEndDate.errorMessage=null,y.v.mailingAddressEndDate.errorType=null,y.v.mailingAddressEndDate.isValid=!0),y.checkModelForValues(h[E].requiredFields)?(y.validateDataItems(Object.keys(y.v)),y.submitButtonDisabled=!y.v.isFormValid,y.clearFormErrors()):(y.validateDataItem(e),y.submitButtonDisabled=!0)},y.assignValidatedItems=function(e){var t=y.model.get("whiteList");return Object.keys(t).forEach((function(t){e.context[t]=y[t]})),e},y.requestConfirmationMessageDetails=u,y.exitConfirmationMessageDetails=u,y.requestErrorMessageDetails=u,y.exitErrorMessageDetails=u,y.dismissTooltip=u,y.requestLinkedAccountsAndServicesHelpMessage=u,y.exitLinkedAccountsAndServicesHelpMessage=u,y.skipBack=u,y.requestCorrespondenceAddressHelpMessage=u,y.exitCorrespondenceAddressHelpMessage=u,y.requestDeleteMailingAddressHelpMessage=u,y.addPermanentMailingAddress=u,y.addTemporaryMailingAddress=u}})),define("bluespec/my_profile_address_header",[],(function(){return{name:"MY_PROFILE_ADDRESS_HEADER",data:{mailingWarningMessage:{type:"Description"},accountDisplayName:{type:"Description"},partnerEntityId:{type:"List",itemType:"Description"},accountNicknameMask:{type:"Description"},mailingAddressLineOne:{type:"AddressLine"},accountCategories:{type:"List",items:{accountCategoryId:"Numbers",accountCategoryName:"Description"}},accountCategoryId:{type:"Description"},phoneNumbers:{type:"List",items:{phoneNumber:"Description",phoneNumberExtension:"Numbers"}},additionalPhoneNumbers:{type:"Description"}},actions:{addPermanentMailingAddress:!0,addTemporaryMailingAddress:!0,requestAddMailingAddressOptions:!0,requestConfirmationMessageDetails:!0,exitConfirmationMessageDetails:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0,requestContactUs:!0,requestAccountCategory:!0,requestMorePhoneNumbers:!0,addPhoneNumber:!0,updatePhoneNumber:!0},states:{viewDisplayed:!0},settings:{addressHeader:!0,requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,mailingAddressHeader:!0,requestMyProfileMenuAda:!0,mailingAddressAdvisory:!0,accountCategoriesLabel:!0,currentSelectionAda:!0,endOfSelectionAda:!0,updatesContentBelowAda:!0,warningMessageHeader:!0,warningMessageAdvisory:!0,deleteMailingAddressConfirmationLabel:!0,deletePermanentMailingAddressAdvisory:!0,deleteTemporaryMailingAddressAdvisory:!0,deleteCorrespondenceMailingAddressAdvisory:!0,editMailingAddressConfirmationLabel:!0,editMailingAddressAdvisory:!0,addMailingAddressConfirmationLabel:!0,addMailingAddressAdvisory:!0,changeMailingAddressConfirmationLabel:!0,changeMailingAddressAdvisory:!0,deletePermanentMailingAddressSingleAccountAdvisory:!0,deleteTemporaryMailingAddressSingleAccountAdvisory:!0,deleteCorrespondenceMailingAddressSingleAccountAdvisory:!0,phoneNumberAdvisory:!0,requestMorePhoneNumbersLabel:!0,phoneNumberExtensionLabel:!0,addMailingAddressLabel:!0,addMailingAddressAda:!0,opensMenuAda:!0,closesMenuAda:!0,addTemporaryMailingAddressLabel:!0,addPermanentMailingAddressLabel:!0,importantAda:!0,checkmarkAda:!0,currentInformationForAddressAda:!0,deleteMailingAddressPartnerAdvisory:!0,editMailingAddressPartnerAdvisory:!0,addMailingAddressPartnerAdvisory:!0,partnerEntityMessage:!0,additionalPartnerMessage:!0,addMailingAddressDefaultAccountsAdvisory:!0,editMailingAddressDefaultAccountsAdvisory:!0,deleteMailingAddressDefaultAccountsAdvisory:!0,noMailingAddressAdvisory:!0,punctuationMarkPeriodLabel:!0,selectMyMailingAddressDetailsErrorHeader:!0,selectMyMailingAddressDetailsErrorAdvisory:!0,addPermanentMailingAddressErrorAdvisory:!0,addTemporaryMailingAddressErrorAdvisory:!0,contactUsWarning:!0}}})),define("profileArea/personalDetails/mailingAddress/spec/mailingAddressHeaderSpec",["require","blue/util","bluespec/my_profile_address_header"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/my_profile_address_header");return t.object.merge(i,{data:{messageInfo:{type:"List"},partnerCards:{type:"List"},items:{type:"List"}},states:{pageLoading:!0,addAllowed:!0,addPermanentAddressAllowed:!0,addTemporaryAddressAllowed:!0,hasOfflineAcctWarning:!0,showCommercialDisclaimer:!0,noAddress:!0}})})),define("profileArea/personalDetails/mailingAddress/component/mailingAddressHeader",["require","common/utility/rapidash","profileArea/sharedLib/commonMethodsUtil","appkit-utilities/analytics/overlay","blue/root","profileArea/sharedLib/profileMixin","profileArea/sharedLib/genericServiceErrorEvent","profileArea/personalDetails/mailingAddress/spec/mailingAddressHeaderSpec"],(function(e){"use strict";var t,i,n,r=e("common/utility/rapidash"),a=e("profileArea/sharedLib/commonMethodsUtil"),o=e("appkit-utilities/analytics/overlay"),s=e("blue/root"),c=e("profileArea/sharedLib/profileMixin"),l=e("profileArea/sharedLib/genericServiceErrorEvent"),d=0,u={PVB:"INTERNATIONAL_PRIVATE_BANK"},p=["MY_PROFILE_ADDRESS_HEADER.updatePhoneNumber","MY_PROFILE_ADDRESS_HEADER.addPhoneNumber","MY_PROFILE_ADDRESS_HEADER.requestMorePhoneNumbers"],m="selectMyMailingAddressDetailsErrorHeader",f="selectMyMailingAddressDetailsErrorAdvisory",A=function(){},g=e("profileArea/personalDetails/mailingAddress/spec/mailingAddressHeaderSpec");return function(e){var E=this;E.onInit=function(){i={"MY_PROFILE_ADDRESS_HEADER.updatePhoneNumber":E.updatePhoneNumber,"MY_PROFILE_ADDRESS_HEADER.addPhoneNumber":E.addPhoneNumber,"MY_PROFILE_ADDRESS_HEADER.requestMorePhoneNumbers":E.requestMorePhoneNumbers},c.call(E);var r=e.user.profile.getSegment();t=e.dcu.dynamicContent,E.registerDirtyForm=e.registerDirtyForm,E.deregisterDirtyForm=e.deregisterDirtyForm,E.hybrid=s.hybrid,n=e.hybridHelper&&e.hybridHelper.webNativeMessenger,r in u&&t.set(E,"noMailingAddressAdvisory",u[r]),e.exitDialogUtil.setListeners(E),e.on("addMailingAddressCancelled",(function(){E.output.emit("trigger",{value:"setFocusOnAddressAddButton"})})),e.on("updateMailingAddressHeader",(function(e){e.messageInfo&&t.set(E,"changeMailingAddressConfirmationLabel",{accountNicknameMask:e.messageInfo.address.nameAndMask}),E.output.emit("trigger",{value:"updateMailingAddressHeader",messageInfo:e.messageInfo})})),l.addTriggerGenericServiceError(E,m,f),E.model.set("authenticationResultErrorHeader",null)},E.addPermanentMailingAddress=function(t){e.controller.broadcast("addPermanentMailingAddress",t)},E.focusOnMailingAddressHeader=function(e){E.output.emit("state",{value:"focusOnMailingAddressHeader",onDropDownOptionChange:e})},E.addTemporaryMailingAddress=function(t){e.controller.broadcast("addTemporaryMailingAddress",t)},E.requestAccountCategory=function(t){E.deregisterDirtyForm(),e.emit("updateMailingAddressHeader",{messageInfo:null});var i=function(){e.controller.broadcast("requestAccountMailingAddressCategory",{groupId:t.domEvent.currentTarget.value})};if(e.Api.modal.getIsDirty()){o.showOverlay(e.components.emailAddress,"exitConfirmationOverlay"),e.Api.modal.setTgtData({action:function(){i();var e=t.domEvent.currentTarget;d=e.selectedIndex},data:{}});var n={action:function(){e.state("#dashboard")},data:{}},r=e.Api.modal.getTgtData()||n;e.Api.modal.showCancelConfirmation("exit_confirmation","payments/shared/",{cancelFunction:function(){"function"==typeof r.action&&r.action(),e.Api.modal.resetCancelData()},doNotCancelFunction:function(){var t;o.hideOverlay(e.components.emailAddress,"exitConfirmationOverlay","doNotExit"),(t=E.model.get("accountCategories")).forEach((function(e){delete e.selected})),t[d].selected=!0,E.model.set("accountCategories",t),E.output.emit("trigger",{value:"setDropdownSelected",selectedIndex:d})},elemToFocusAfterModalClose:"#select-account-categories-dropdown"},"#profile-details")}else{i();var a=t.domEvent.currentTarget;d=a.selectedIndex}},E.requestAddMailingAddressOptions=function(){},E._dropdownItemSelected=function(t){var i=E.model.get("addPermanentAddressAllowed"),n=E.model.get("addTemporaryAddressAllowed");if(13===t.domEvent.keyCode||32===t.domEvent.keyCode||"click"===t.domEvent.type){var r=parseInt(t.dataPath.split(".")[1]);0===r&&i?(E.addPermanentMailingAddress(t),e.controller.broadcast("setCurrentAddType",{addType:"PERMANENT"})):1===r&&n&&(E.addTemporaryMailingAddress(t),e.controller.broadcast("setCurrentAddType",{addType:"TEMPORARY"})),e.userActionExecuted=!0}},E._contactUsClickHandler=function(e){p.indexOf(e.domEvent.target.dataset.attr)>-1||E.requestContactUs(e)},E.requestContactUs=function(t){var i=t.domEvent.target;if("A"===i.nodeName&&!i.id)if(E.hybrid)n.goToNativePage({navKey:"requestAccountContactUs"},"visitDirectory");else{e.commonComponentsUtil.exitModalTargetDecorator.apply(E,[function(t){a.navigateOnMessageLinkClick(e,t)},t])}},E._handleServiceFailure=function(e){E.output.emit("trigger",{value:"addressServiceError",serviceCall:e.serviceCall})},E._updateResourceLIST=function(e,i){"error"===e.type?(t.set(E,m,"SYSTEM_FAILURE"),t.set(E,f,"SYSTEM_FAILURE")):(E._setOfflineAcctInfo(e.operation,i),E._setRestrictedAcctInfo(e.operation,i))},E._updateResourceDELETE=function(e,i){"success"===e.type&&(t.set(E,"deleteMailingAddressConfirmationLabel",{mailingAddressLineOne:e.address.mailingAddressLineOne}),1===e.address.associatedAccounts.length&&("TEMPORARY"!==e.address.mailingAddressCategory?t.set(E,"deletePermanentMailingAddressSingleAccountAdvisory",{accountNicknameMask:e.address.associatedAccounts[0].nameAndMask}):t.set(E,"deleteTemporaryMailingAddressSingleAccountAdvisory",{accountNicknameMask:e.address.associatedAccounts[0].nameAndMask})),E._setMailingAddressHeaderDetails(e,i))},E._updateResourceADD=function(e,i){"success"===e.type&&(t.set(E,"addMailingAddressConfirmationLabel",{mailingAddressLineOne:e.address.mailingAddressLineOne}),E._setMailingAddressHeaderDetails(e,i))},E._updateResourceEDIT=function(e,i){"success"===e.type&&(t.set(E,"editMailingAddressConfirmationLabel",{mailingAddressLineOne:e.address.mailingAddressLineOne}),E._setMailingAddressHeaderDetails(e,i))},E._updateResourceSettings=function(e){var i=E.model.get();if(!1===i.hasRestrictedAcctWarning&&E.model.get("noPrimaryAddress")){var n=E.model.get("addPermanentAddressAllowed")?"ADD_PRIMARY_MAILING_ADDRESS_ENABLED":"ADD_PRIMARY_MAILING_ADDRESS_DISABLED";t.set(E,m,"PRIMARY_ADDRESS_MISSING"),t.set(E,f,n)}if(e){var r={LIST:E._updateResourceLIST,DELETE:E._updateResourceDELETE,ADD:E._updateResourceADD,EDIT:E._updateResourceEDIT}[e.operation];r&&r(e,i)}},E._setMailingAddressHeaderDetails=function(e,t){E._setPartnerInfo(e.operation,e.address.cardCodes),E._setOfflineAcctInfo(e.operation,t),E._setPhoneDetails(e.phoneNumbers)},E._setPhoneDetails=function(e){E.model.set("showMoreLink",!1),e&&(e.length>0?t.set(E,"phoneNumberAdvisory","UPDATE"):t.set(E,"phoneNumberAdvisory","ADD"),e.length>10&&(E.model.set("showMoreLink",!0),t.set(E,"requestMorePhoneNumbersLabel",{additionalPhoneNumbers:e.length-9}),e=e.slice(0,9))),E.model.set("phoneNumbers",e)},E._setPartnerInfo=function(e,i){if(i&&i.length){for(var n,a,o=[],s=[],c=["CARD_AAFES","CARD_BRITISH_AIRWAYS","CARD_MARRIOTT","CARD_MILSTAR","CARD_UNITED"],l=["CARD_DISNEY"],d=[],u={ADD:"addMailingAddressPartnerAdvisory",EDIT:"editMailingAddressPartnerAdvisory",DELETE:"deleteMailingAddressPartnerAdvisory"}[e],p=0;p<i.length;p++)d[a=i[p]]||(d[a]=!0,l.indexOf(a)>=0?o.push({info:t.get(E,"additionalPartnerMessage."+a)}):c.indexOf(a)>=0&&(s.push(t.get(E,"partnerEntityMessage."+a)),n=a));var m="";1===s.length?t.set(E,u,n):s.length>1?(m=r.toHtmlString(s),t.set(E,u,"MULTIPLE_PARTNERS")):E.model.set(u,null),E.model.set("partnerCards",{partnerInfo:{cardCodes:i,additionalInfo:o,entityInfoHtmlString:m}})}else E.model.set("partnerCards",null)},E._setOfflineAcctInfo=function(e,i){var n={LIST:"warningMessageHeader",ADD:"addMailingAddressDefaultAccountsAdvisory",EDIT:"editMailingAddressDefaultAccountsAdvisory",DELETE:"deleteMailingAddressDefaultAccountsAdvisory"};i.hasOfflineAcctWarning?(t.set(E,n[e],i.offlineAcctWarningKey),"LIST"===e&&t.set(E,"warningMessageAdvisory",i.offlineAcctWarningKey)):(E.model.set(n[e],""),E.model.set("warningMessageAdvisory",""))},E._setRestrictedAcctInfo=function(t,i){var n="mailingAddressHeader",r="RESTRICTED_ACCOUNT";i.hasRestrictedAcctWarning&&(e.messageDispatcher.set({component:e.components[n],setting:m,variation:r}),e.messageDispatcher.set({component:e.components[n],setting:f,variation:r}))},E._phoneDetailsClickHandler=function(e){var t=e.domEvent.target.dataset.attr;p.indexOf(t)>-1&&(i[t](),E._requestPhoneDetailsInterceptor(e))},E._requestPhoneDetailsInterceptor=function(t){e.commonComponentsUtil.exitModalTargetDecorator.apply(E,[E._requestPhoneDetails,t])},E._requestPhoneDetails=function(){e.area.broadcast("navigateToPhonePage",{groupId:E.model.get("groupId"),accountCategories:E.model.get("accountCategories")}),e.controller._state.groupId=void 0},E.resetModel=function(){var e=g.settings,t=E.model;Object.keys(t.get()).forEach((function(i){e[i]||t.set(i,null)}))},E.updatePhoneNumber=A,E.addPhoneNumber=A,E.requestMorePhoneNumbers=A,E.requestConfirmationMessageDetails=A,E.exitConfirmationMessageDetails=A,E.requestErrorMessageDetails=A,E.exitErrorMessageDetails=A}})),define("profileArea/personalDetails/mailingAddress/component/mailingAddressDeleteConfirmation",["require","appkit-utilities/analytics/overlay","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";var t,i=e("appkit-utilities/analytics/overlay");return function(n){var r=this;r.onInit=function(){t=n.dcu.dynamicContent,n.globalContentMixin.call(r,["informationAda"]),r.callService=n._callService;var a=e("profileArea/sharedLib/genericServiceErrorEvent");r.output.on("ready",(function(){n.updateNativeButtonsAndNavigation("mailingAddressDetails.deleteOverlay"),a.addTriggerGenericServiceError(r,"myProfileAddressDeleteConfirmationErrorHeader","myProfileAddressDeleteConfirmationErrorAdvisory"),i.showOverlay(n.getComponent("mailingAddress"),"myProfileAddressDeleteConfirmationOverlay")})),r.excf=function(e){n.logger.error("delete address service fail",e.stack)}},r.deleteAddress=function(){var e,t=[];n.controller.isMultiEciUser&&(e={groupId:r.model.get("groupId")}),r.clearGenericServiceError(),i.hideOverlay(r,"myProfileAddressDeleteConfirmationOverlay","doNotDeleteAddress"),n.setUrlForAnalytics("confirmDeleteMailingAddressConfirm"),t.push(r.callService("myProfile.mailingAddress.delete.svc",r.model.get()).then((function(e){return"SUCCESS"===e.code?Promise.resolve(e.statusCodes):(r._deleteAddressFailureCallback(),Promise.reject())}),(function(){return r._deleteAddressErrorCallback(),Promise.reject()})).catch(r.excf)),t.push(r.callService("myProfile.phoneList.svc",e).then((function(e){return Promise.resolve({phoneNumbers:e})}),(function(){return Promise.resolve({phoneNumbers:void 0})}))),Promise.all(t).then((function(e){r._deleteAddressSuccessCallback(e[0],e[1].phoneNumbers)}),(function(){}))},r.doNotDeleteAddress=function(){var e=n.getComponent("mailingAddress");i.hideOverlay(r,"myProfileAddressDeleteConfirmationOverlay","doNotDeleteAddress"),r.output.emit("focusMailingDelete",{target:e._currentTarget.id}),n.updateNativeButtonsAndNavigation("mailingAddressDetails.selectMyMailingAddressDetails"),e._currentTarget=null,r.destroyView()},r._updateResourceSettings=function(){var e=r.model.get("mailingAddressCategory"),i=r.model.get("associatedAccounts");i&&1===i.length&&("TEMPORARY"===e?t.set(r,"deleteTemporaryMailingAddressSingleAccountAdvisory",{accountNicknameMask:i[0].nameAndMask}):"CORRESPONDENCE"===e?t.set(r,"deleteCorrespondenceMailingAddressSingleAccountAdvisory",{accountNicknameMask:i[0].nameAndMask}):t.set(r,"deletePermanentMailingAddressSingleAccountAdvisory",{accountNicknameMask:i[0].nameAndMask}))},r._deleteAddressSuccessCallback=function(e,t){n.updateNativeButtonsAndNavigation("mailingAddressDetails.selectMyMailingAddressDetails"),r.model.get().cardCodes=e,r.destroyView(),n.controller.broadcast("reloadMailingAddressList",{messageInfo:{address:r.model.get(),phoneNumbers:t,type:"success",operation:"DELETE"}})},r._deleteAddressFailureCallback=function(){r.destroyView(),n.controller.broadcast("updateMailingAddressHeader",{messageInfo:{type:"error",operation:"DELETE"}})},r._deleteAddressErrorCallback=function(){r.triggerGenericServiceError()}}})),define("profileArea/personalDetails/mailingAddress/component/mailingAddressAdditionVerification",["require","common/utility/rapidash","appkit-utilities/analytics/overlay","blue-ui/utilities/common","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";var t=e("common/utility/rapidash"),i=e("appkit-utilities/analytics/overlay");return function(n){var r=this,a=e("blue-ui/utilities/common");r.onInit=function(){r.callService=n._callService},r.onReady=function(){e("profileArea/sharedLib/genericServiceErrorEvent").addTriggerGenericServiceError(r,"myProfileAddressAdditionVerificationErrorHeader","myProfileAddressAdditionVerificationErrorAdvisory"),i.showOverlay(n.getComponent("mailingAddress"),"myProfileAddressAdditionVerificationOverlay")},r.addAddress=function(){var e,i,a=r.model.get(),o=[];n.controller.isMultiEciUser&&(i={groupId:r.model.get("groupId")}),r.clearGenericServiceError(),o.push(r.callService("myProfile.mailingAddress.commit.svc",a).then((function(i){return i.statusCodes&&i.statusCodes.indexOf("NOT_MAPPED")>-1?(r._addAddressErrorCallback(),Promise.reject()):"SUCCESS"!==i.code?(r._addAddressFailureCallback(),Promise.reject()):"MAXIMUM_ACCOUNTS_REACHED"===t.get(i,"statusCodes.0")?(r._addAddressFailureMaxAddressCallback(a.userEntered),Promise.reject()):(e=a.postalAddressOption===a.customerEnteredPostalAddress?a.userEntered:a.systemRecommended,Promise.resolve({selectedAddress:e,isEdit:a.isEdit,statusCodes:i.statusCodes}))}),(function(){return r._addAddressErrorCallback(),Promise.reject()}))),o.push(r.callService("myProfile.phoneList.svc",i).then((function(e){return Promise.resolve({phoneNumbers:e})}),(function(){return Promise.resolve({phoneNumbers:void 0})}))),Promise.all(o).then((function(e){r._addAddressSuccessCallback(e[0].selectedAddress,e[0].isEdit,e[0].statusCodes,e[1].phoneNumbers)}),(function(){}))},r.doNotAddAddress=function(){var e="sm"===a.getBreakpoint()?"mailingAddressDetails.requestMailingAddressDetails":"mailingAddressDetails.addOrEditMailingAddress";i.hideOverlay(r,"myProfileAddressAdditionVerificationOverlay","doNotAddAddress");var t=n.getComponent("mailingAddress");r.output.emit("trigger",{value:"setFocus",element:t._currentTarget}),t._currentTarget=null,r.destroyView(),n.updateNativeButtonsAndNavigation(e)},r._addAddressSuccessCallback=function(e,t,a,o){i.hideOverlay(r,"myProfileAddressAdditionVerificationOverlay","addAddress"),n.setUrlForAnalytics(n.controller._action),a&&"HOME_LENDING"===a[0]?n.controller.broadcast("reloadMailingAddressList",{messageInfo:{type:"HOME_LOAN_INCLUDED_UPDATE"}}):n.controller.emit("reloadMailingAddressList",{messageInfo:{type:"success",phoneNumbers:o,operation:t?"EDIT":"ADD",address:{mailingAddressLineOne:e.line1,cardCodes:a}}}),r.destroyView(),n.updateNativeButtonsAndNavigation("mailingAddressDetails.selectMyMailingAddressDetails")},r._addAddressFailureCallback=function(){r.destroy()},r._addAddressFailureMaxAddressCallback=function(e){n.controller.broadcast("showMaxAddressError",{messageInfo:{address:{mailingAddressLineOne:e.line1}}}),r.destroy()},r._addAddressErrorCallback=function(e,t){r.triggerGenericServiceError(e,t)}}})),define("profileArea/personalDetails/mailingAddress/component/mailingAddressBrokerageAccounts",[],(function(){"use strict";var e,t={WTH:"PRIVATE_WEALTH_MANAGEMENT",PCB:"JP_MORGAN_SECURITIES"};return function(i){var n=this;n.onInit=function(){e=i.dcu.dynamicContent;var r=i.user.profile.getSegment();r in t&&e.set(n,"myProfileBrokerageAddressMessage",t[r]),n.deregisterDirtyForm=i.deregisterDirtyForm,n.context.on({resetToBrokerageView:function(e){n.output.emit("trigger",{value:"collapseParentRow",element:n._currentTarget,setFocus:e.resetFocus}),n._currentTarget=null}})},n.targetInterceptor=function(e,t){var r={EDIT_BROKERAGE:n.changeMailingAddress};r[e]&&i.commonComponentsUtil.exitModalTargetDecorator.apply(n,[r[e],t])},n.changeMailingAddressIntercept=function(e){n.targetInterceptor("EDIT_BROKERAGE",e)},n.changeMailingAddress=function(e){if(i.getComponent("mailingAddress").context.application.dirtyForm.dirtyCheckAll().isDirty){var t={executeAction:function(){n.deregisterDirtyForm(),n.changeMailingAddressCleanForm(e)},executeNoAction:function(){}};i.profileUtil.showDirtyForm.call(n,t)}else n.deregisterDirtyForm(),n.changeMailingAddressCleanForm(e)},n.changeMailingAddressCleanForm=function(e){i.controller.broadcast("resetMailingAddressToView"),e.dataPath=e.dataPath||e.context.dataPath;var t=n.model.get(e.dataPath);n._currentTarget=document.querySelector("#"+e.context.id);var r=i.state();r.action.name="showMailingAddressUpdateForm",r.action.params={accountId:t.id,nameAndMask:t.nameAndMask},i.privateState(r),n.output.emit("trigger",{value:"expandParentRow",element:n._currentTarget}),i.setUrlForAnalytics("updateBrokerageMailingAddress");var a=i.getComponent("mailingAddress");a.context.exitDialogUtil.setListeners(a)},n.requestBrokerageAccounts=function(){}}})),define("profileArea/personalDetails/mailingAddress/component/mailingAddressUpdate",["require","blue/log","common/lib/mailingAddressCodes","profileArea/sharedLib/genericServiceErrorEvent"],(function(e){"use strict";var t=e("blue/log")("[myProfile]"),i=function(){},{deprecatedIso3CountryCodeMapper:n}=e("common/lib/mailingAddressCodes");return function(r){var a=this;a.onInit=function(){a.callService=r._callService,a.isoMapper=n,r.on({removeMailingAddressUpdate:function(){r.controller.broadcast("resetToBrokerageView",{resetFocus:!1}),a.destroy()}}),a.excf=function(e){t.error(e.stack)}},a.onReady=function(){e("profileArea/sharedLib/genericServiceErrorEvent").addTriggerGenericServiceError(a,"myProfileAddressUpdateErrorHeader","myProfileAddressUpdateErrorAdvisory"),a.input.on("hideMotionComplete",(function(e){e&&e.onComplete&&a[e.onComplete]()}))},a.saveMailingAddressChanges=function(e){var t,i,n="INTERNATIONAL"===e?.context?.mailingAddressType;if(a.output.emit("state",{value:"saveMailingAddressChangesStarted"}),a.clearGenericServiceError(),r.setUrlForAnalytics("confirmUpdateBrokerageMailingAddress"),a.model.get("$newIsoCodesEnabled")&&n){var o=a.isoMapper[e.context.countryId];o&&(e.context.countryId=o)}return t=function(e){"SUCCESS"===e.code?(a.output.emit("state",{value:"saveMailingAddressChangesEnded"}),r.controller.broadcast("resetToBrokerageView",{resetFocus:!1}),r.controller.broadcast("updateMailingAddressHeader",{messageInfo:{type:"success",operation:"CHANGE",address:{nameAndMask:a.model.get("nameAndMask")}}}),a.destroy()):a.output.emit("state",{value:"saveMailingAddressChangesEnded"})},i=function(){a.triggerGenericServiceError(),a.output.emit("state",{value:"saveMailingAddressChangesEnded"})},a.model.set("mailingAddressType",e.context.mailingAddressType),a.model.set("stateId",e.context.stateId),a.model.set("provinceId",e.context.provinceId),a.model.set("militaryRegionId",e.context.militaryRegionId),a.model.set("countryId",e.context.countryId),a.callService("myProfile.mailingAddress.brokerage.update.svc",a.model.get()).then(t,i).catch(a.excf)},a.cancelMailingAddressChanges=function(){r.controller.broadcast("resetToBrokerageView",{resetFocus:!0}),r.setUrlForAnalytics("selectMyMailingAddressDetails"),a.destroy()},a.requestMailingAddressTypeDetails=function(){a.model.set("city",""),a.model.set("stateId",""),a.model.set("provinceId",""),a.model.set("militaryRegionId",""),a.model.set("countryId",""),a.model.set("postalCode",""),a.model.set("zipCode",""),a.model.set("zipCodeExtension",""),a.model.set("zipCodeExtension",""),a.model.set("postOfficeType","APO"),a.output.emit("trigger",{value:"clearValidation"})},a._handleSkiplinkPress=function(e){r.profileUtil.skipIfEnterSpaceOrClick(a,e,"skipBack")},a.requestConfirmationMessageDetails=i,a.exitConfirmationMessageDetails=i,a.requestErrorMessageDetails=i,a.exitErrorMessageDetails=i,a.skipBack=i}})),define("profileArea/personalDetails/privacyPreferences/controller/privacyPreferences",["require","common/lib/modelUtil","profileArea/sharedLib/apptelTracker"],(function(e){"use strict";return function(t){var i=e("common/lib/modelUtil"),n=e("profileArea/sharedLib/apptelTracker"),r=t.profileContainer.constants.RENDER_TARGET,a=t.dcu.dynamicContent,o=this,s=t.user.profile,c={YES:"yes",NO:"no",updateMyPrivacyPreferencesUrl:"/dashboard/profileArea/privacyPreferences/requestPrivacyPreferences",confirmUpdateMyPrivacyPreferencesUrl:"/dashboard/profileArea/privacyPreferences/confirmUpdateMyPrivacyPreferences",errors:{ACCOUNT_NOT_ELIGIBLE_FOR_ONLINE_INVESTMENT:"ACCOUNT_NOT_ELIGIBLE_FOR_ONLINE_INVESTMENT",ACCOUNT_NOT_ELIGIBLE_FOR_ONLINE_COMMERCIAL:"ACCOUNT_NOT_ELIGIBLE_FOR_ONLINE_COMMERCIAL",SYSTEM_FAILURE:"SYSTEM_FAILURE"}},l={$enableCancel:!1,$enableUpdate:!0,$hideLoader:!1,$pageError:!1,$fullPageError:!1,$isCaResident:!1,limitCreditWorthinessSharingOptionId:c.NO,limitPersonalInformationNonAffiliatesOptionId:c.NO,limitPersonalInformationAffiliatesOptionId:c.NO,doNotShareWithinChaseOptionId:c.NO,doNotShareOutsideChaseOptionId:c.NO,options:{}},d=["limitCreditWorthinessSharingOptionId","limitPersonalInformationNonAffiliatesOptionId","limitPersonalInformationAffiliatesOptionId","doNotShareWithinChaseOptionId","doNotShareOutsideChaseOptionId"];function u(e){return e?c.YES:c.NO}function p(e){var t={};return t.limitShareChaseFamily=e.limitCreditWorthinessSharingOptionId===c.YES,t.limitShareNonFinancial=e.limitPersonalInformationNonAffiliatesOptionId===c.YES,t.limitAffiliateMarketing=e.limitPersonalInformationAffiliatesOptionId===c.YES,e.$isCaResident&&(t.caNoShareWithinCompany=e.doNotShareWithinChaseOptionId===c.YES,t.caNoShareOutsideCompany=e.doNotShareOutsideChaseOptionId===c.YES),t}function m(e,i,n,r){var a,s=t.is.defined(i.caNoShareWithinCompany),c={code:(a=i).code,limitCreditWorthinessSharingOptionId:u(a.limitShareChaseFamily),limitPersonalInformationNonAffiliatesOptionId:u(a.limitShareNonFinancial),limitPersonalInformationAffiliatesOptionId:u(a.limitAffiliateMarketing),doNotShareWithinChaseOptionId:u(a.caNoShareWithinCompany),doNotShareOutsideChaseOptionId:u(a.caNoShareOutsideCompany)},d=t.util.object.deepClone(l);d.$hideLoader=!0,d.$isCaResident=s,d.options.$isCaResident=s,s||(d.doNotShareWithinChaseOptionId=null,d.doNotShareOutsideChaseOptionId=null,d.options.doNotShareWithinChaseOptionId=null,d.options.doNotShareOutsideChaseOptionId=null),Object.keys(c).forEach((function(e){d[e]&&(d[e]=c[e],d.options[e]=c[e])})),o.model.update("privacyPreferences",d),o.registerDirtyForm()}function f(e,t,i,n){var r=!1;if("string"==typeof e.params){var a=JSON.parse(e.params);a.length>=1&&("DNS"===a[0].preferenceCategoryCode||"DNSL"===a[0].preferenceCategoryCode)&&(r=!0)}return{isAdditionalPreferencesCall:r,isSuccessful:!0,reqData:e,model:n,modelData:i,resData:t}}function A(){t.profileContainer.displayPageAlert(o.components.privacyPreferences,{header:"privacyPreferencesConfirmationHeader",advisory:"preferencesLegalMessage",type:"success"}),o.model.set("privacyPreferences.$scrollToTop",!0)}function g(){var e=o.model.get("privacyPreferences.options");Object.keys(e).forEach((function(e){var t=o.model.get("privacyPreferences."+e);t&&o.model.set("privacyPreferences.options."+e,t)})),A(),o.model.set("privacyPreferences.$enableCancel",!1)}function E(){o.model.update("privacyPreferences",{$fullPageError:!0,$hideLoader:!0}),h()}function y(e,t,i,n){var r=!1;if("string"==typeof e.params){var a=JSON.parse(e.params);a.length>=1&&("DNS"===a[0].preferenceCategoryCode||"DNSL"===a[0].preferenceCategoryCode)&&(r=!0)}return{isAdditionalPreferencesCall:r,isSuccessful:!1,reqData:e,model:n,modelData:i,resData:t}}function h(e,i){e=c.errors[e]||c.errors.SYSTEM_FAILURE,t.profileContainer.displayPageAlert(o.components.privacyPreferences,{header:"privacyPreferencesErrorHeader."+e,advisory:"privacyPreferencesErrorAdvisory."+e,onClick:i})}o.onInit=function(){t.makeUpdateCall=o.makeUpdateCall,o.dataProvider.mappers={privacyPreferences:{list:{success:m,failure:E},update:{success:f,failure:y}}},t.doNotUpdatePrivacyPreferences=o.doNotUpdatePrivacyPreferences,t.registerDirtyForm=o.registerDirtyForm,t.checkDirty=o.checkDirty},o.requestPrivacyPreferences=function(){return i.enrichComponent(o,"privacyPreferences","my_profile_privacy_preferences").spec({data:{$hideLoader:i.DataType.OnOff,$fullPageError:i.DataType.OnOff,$enableCancel:i.DataType.OnOff,$enableUpdate:i.DataType.OnOff,$isCaResident:i.DataType.OnOff,$showPrivacyPopup:i.DataType.Description,$scrollToTop:i.DataType.OnOff}}),o.initModel(),t.profileContainer.setPageProperties({pageTitle:a.get(o.components.privacyPreferences,"privacyPreferencesHeader"),containerClasses:"legacy-profile-styles"}),s.isJPOUser()||s.isCommercialUser()||s.isBusinessBankingUser()&&!s.isPrivateBankUser()?(o.model.update("privacyPreferences",{$fullPageError:!0,$hideLoader:!0}),s.isJPOUser()?h(c.errors.ACCOUNT_NOT_ELIGIBLE_FOR_ONLINE_INVESTMENT,o.components.privacyPreferences.requestJPMorganPrivacyPolicy):h(c.errors.ACCOUNT_NOT_ELIGIBLE_FOR_ONLINE_COMMERCIAL),[this.components.privacyPreferences,"privacyPreferences",r]):(o.dataProvider.request("privacyPreferences.list"),n.logLeaveAction("$$Profile_Details"),[this.components.privacyPreferences,"privacyPreferences",r])},o.confirmUpdateMyPrivacyPreferences=function(){var e=o.model.get("responseData");if(o.registry.hasComponent("privacyPreferences")){if(!e)return g(),!1;o.model.get("responseData.updatePreferencesOptions")&&g(),o.model.get("responseData.error")&&h()}else t.state(c.updateMyPrivacyPreferencesUrl)},o.initModel=function(){o.model.update("privacyPreferences",t.util.object.deepClone(l));var e=function(e){var t=o.components.privacyPreferences;return{optionLabel:a.get(t,e+"Label"),optionMessage:a.get(t,e+"Message"),option:e+"OptionId"}};o.model.set("privacyPreferences.privacyPreferencesNonCaOptions",[e("limitCreditWorthinessSharing"),e("limitPersonalInformationAffiliates"),e("limitPersonalInformationNonAffiliates")]);const i=[e("doNotShareWithinChase"),e("doNotShareOutsideChase")];o.model.set("privacyPreferences.privacyPreferencesCaOptions",i)},o.makeUpdateCall=function(){var e=o.model.get("privacyPreferences");o.model.set("responseData",{updatePreferencesOptions:!1,error:!1});var i=p(e);return function(e,i){return t.util.object.deepEquals(e,i)}(i,p(o.model.get("privacyPreferences.options")))?(t.profileContainer.displayPageAlert(o.components.privacyPreferences,{header:"updateConfirmationAdvisory",type:"dark"}),!1):(t.bubble("dirtyUpdate",{name:"privacyPreferences"}),o.model.update("privacyPreferences",{$enableUpdate:!1}),o.dataProvider.request("privacyPreferences.update",i).then((e=>{var i;o.model.update("privacyPreferences",{$enableUpdate:!0}),i=0,[e].forEach((e=>{var n;e.isSuccessful?"confirmUpdateMyPrivacyPreferences"===t.state().action.name?e.isAdditionalPreferencesCall?(n=o.model.get("privacyPreferences.options"),Object.keys(n).forEach((function(e){if(!d.includes(e)){var t=o.model.get("privacyPreferences."+e);t&&o.model.set("privacyPreferences.options."+e,t)}})),A(),o.model.set("privacyPreferences.$enableCancel",!1)):g():(e.isAdditionalPreferencesCall?o.model.set("responseData.updateAdditionalOptions",!0):o.model.set("responseData.updatePreferencesOptions",!0),t.state(c.confirmUpdateMyPrivacyPreferencesUrl)):i++})),i>0&&(o.model.set("responseData.error",!0),h())})))},o.registerDirtyForm=function(){t.bubble("dirtyRegister",{controller:o,compInstanceNames:["privacyPreferences"],target:t.profileContainer.constants.RENDER_TARGET.target,whiteList:["limitCreditWorthinessSharingOptionId","limitPersonalInformationNonAffiliatesOptionId","limitPersonalInformationAffiliatesOptionId","doNotShareWithinChaseOptionId","doNotShareOutsideChaseOptionId"]})},o.checkDirty=function(){o.model.set("privacyPreferences.$enableCancel",t.dirtyForm.dirtyCheckAll().isDirty)},o.doNotUpdatePrivacyPreferences=function(){var e=o.model.get("privacyPreferences.options"),t=o.model.get("privacyPreferences.$isCaResident"),i=e.limitCreditWorthinessSharingOptionId,n=e.limitPersonalInformationNonAffiliatesOptionId,r=e.limitPersonalInformationAffiliatesOptionId,a=e.doNotShareWithinChaseOptionId,s=e.doNotShareOutsideChaseOptionId;t&&(o.model.set("privacyPreferences.doNotShareWithinChaseOptionId",a),o.model.set("privacyPreferences.doNotShareOutsideChaseOptionId",s)),o.model.set("privacyPreferences.limitCreditWorthinessSharingOptionId",i),o.model.set("privacyPreferences.limitPersonalInformationNonAffiliatesOptionId",n),o.model.set("privacyPreferences.limitPersonalInformationAffiliatesOptionId",r),o.model.set("privacyPreferences.$enableCancel",!1)}}})),define("profileArea/personalDetails/privacyPreferences/component/privacyPreferences",["common/lib/utility/hybridMixin","profileArea/sharedLib/constants"],(function(e,t){"use strict";return function(e){var i=this;i.onInit=function(){e.globalContentMixin.call(i,["beginHelpMessageAda","exitHelpMessageAda","endHelpMessageAda"])},i.onReady=function(){if(e.hybrid){var t={isHybridBackButtonRequired:function(){return!1}};e.hybridHelper.webNativeMessenger.updateNativeNavigationBar({showHamburgerMenu:!1,showCancel:!1,showBackArrow:!0,showClose:!1,showProfileSettings:!1,showExitConfirmationOverlay:!1}),e.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(e){return"BACK"===e&&!t.isHybridBackButtonRequired()}),t)}},i.doNotUpdatePrivacyPreferences=function(){e.doNotUpdatePrivacyPreferences()},i.registerDirtyForm=function(){e.registerDirtyForm()},i.checkDirty=function(){e.checkDirty()},i.updatePrivacyPreferences=function(){e.makeUpdateCall()},i.requestJPMorganPrivacyPolicy=function(){i.$showPrivacyPopup="",i.$showPrivacyPopup=t.urls.PRIVACY},i.exitPrivacyPreferencesHelpMessage=function(){},i.requestPrivacyPreferencesHelpMessage=function(){}}})),define("profileArea/personalDetails/languagePreferences/controller/languagePreferences",["require","appkit-utilities/language/helper","blue/root","common/lib/flyout/flyoutUtility","profileArea/sharedLib/apptelTracker","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","common/lib/utility/commonComponentsUtil","common/lib/modalApi"],(function(e){"use strict";return function(t){var i=this,n=e("appkit-utilities/language/helper"),r=e("blue/root"),a=null,o=e("common/lib/flyout/flyoutUtility"),s=e("profileArea/sharedLib/apptelTracker"),c=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"),l=t.profileContainer.constants.RENDER_TARGET;i.init=function(){i.commonComponentsUtil=e("common/lib/utility/commonComponentsUtil")(i),a=t.dcu.dynamicContent,t.Api={modal:new(e("common/lib/modalApi"))(i)},t.on({"profileLanguagePreferences/setTgtData":function(e){t.Api.modal.setTgtData(e.data,!1)}}),i.splitProvider=c,t.commonComponentsUtil=i.commonComponentsUtil,i.stateName="updateMyLanguagePreferences",i.dataProvider.mappers={languagePreferences:{languageGlobalList:{success:i._listSuccessCallback,failure:i._listFailureCallback}}}},i.requestLanguagePreferences=function(){return i.splitProvider.getFeatureTreatments(["cxoweb_profile_preferredLanguage_microapp"],{cxoweb_profile_preferredLanguage_microapp:!1}).then(i.renderPreferredLanguage)},i._displayHeader=function(e){t.profileContainer.setPageProperties({pageTitle:a.get(i.components.languagePreferences,"updateMyLanguagePreferencesHeader"),containerClasses:"legacy-profile-styles",$isMicroAppEnabled:e})},i.renderPreferredLanguage=function(e){var c=e.cxoweb_profile_preferredLanguage_microapp;if(i._displayHeader(c),c)return i._renderMicroAppContainer();if(t.hybrid){t.hybridMixin.call(i);var d={pageTitle:a.get(i.components.languagePreferences,"updateMyLanguagePreferencesHeader"),showCancel:!1,showBackArrow:!0,showHamburgerMenu:!1},u={isHybridBackButtonRequired:function(){return!0}};t.hybridHelper.webNativeMessenger.updateNativeNavigationBar(d),t.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(e){if("BACK"===e)return u.isHybridBackButtonRequired()}),u)}if(o.isFlyoutNavigation(t))return!0;if(i._pageActive=!0,i.initDataModel(),t.user.profile.isJPOUser())i.components.languagePreferences.showJpoUserErrMsg();else{var p=n.isUserAllowedForeignLanguage()&&!r.hybrid;p&&i.setOptionsForChaseWebStyleSelect(),i.model.set("languagePreferences.showInternationalization",!!p),i.components.languagePreferences.showGlobalDisclaimer(),i.dataProvider.request("languagePreferences.languageGlobalList")}return t.application.userProfileComplete.then((function(){t.currentController===i.name&&(i.model.set("languagePreferences.readOnlyEvent",t.siteMode.isModeEnabled("readOnly")||t.siteMode.isModeEnabled("ecdStandIn")),s.logLeaveAction("$$Profile_Details"))})),[i.components.languagePreferences,"languagePreferences",l]},i._renderMicroAppContainer=function(){return i.model.set("languagePreferences.isLanguagePreferencesMicroAppEnabled",!0),[i.components.languagePreferences,"languagePreferences",l]},i.gotoDefaultPage=function(){t.state(t.constants.profileUrls["languagePreferences.updateMyLanguagePreferences"])},i.updateGlobalLanguagePreferences=function(){i.registry.hasComponent("languagePreferences")?i.components.languagePreferences.confirmationShown=!1:i.gotoDefaultPage()},i.confirmUpdateGlobalLanguagePreferences=function(){return i.model.get("languagePreferences")?(i.model.set("languagePreferences.confirmUpdateGlobalLanguagePreferencesSet",!0),t.bubble("dirtyDeregister",{name:"languagePreferences"}),i.registerDirtyForm()):i.gotoDefaultPage()},i.registerDirtyForm=function(){t.bubble("dirtyRegister",{controller:i,compInstanceNames:["languagePreferences"],target:"#my-profile-page-content",routeBlackList:["/dashboard/profileArea/languagePreferences/confirmUpdateGlobalLanguagePreferences"]})},i.initDataModel=function(){var e=a.get(i.components.languagePreferences,"currentSelectionAda"),n=a.get(i.components.languagePreferences,"endOfSelectionAda"),r=a.get(i.components.languagePreferences,"selectionUpdatesContentBelowAda"),o=a.get(i.components.languagePreferences,"chaseWebpageLanguagePreferencesLabel"),s=a.get(i.components.languagePreferences,"globalLanguagePreferencesLabel"),c=a.get(i.components.languagePreferences,"globalLanguagePreferencesPlaceholder");i.model.set("languagePreferences",{originalGlobalLanguagePreferences:{name:"",code:""},isLanguagePreferencesMicroAppEnabled:!1,globalLanguagePreferences:{id:"globalLanguages",disabled:!1,placeholder:c,ariaConfig:{selected:e,bottomOfMenu:n,buttonLabel:s,listLabel:s+r},options:[]},chaseWebpageLanguagePreferences:{id:"webLanguage",ariaConfig:{selected:e,bottomOfMenu:n,buttonLabel:o,listLabel:o},options:[]},confirmationMessage:"",showInternationalization:!1,confirmationAdvisory:"",showConfirmationMessage:!1,flags:{showGlobalDisclaimer:!1,showNetworkOrServiceError:!1},requestProfileSettingsMenuAda:t.globalContent.requestProfileSettingsMenuAda,waitAda:t.globalContent.waitAda,confirmUpdateGlobalLanguagePreferencesSet:!1})},i.setOptionsForChaseWebStyleSelect=function(){var e=[],t=n.getLanguage(),r="chaseWebpageLanguagePreferencesOption",o=a.get(i.components.languagePreferences,r,"ENG"),s=a.get(i.components.languagePreferences,r,"SPA"),c="en-us",l="es-us";t&&t!==c?i.model.set("languagePreferences.chaseWebpageLanguagePreference",l):i.model.set("languagePreferences.chaseWebpageLanguagePreference",c),e.push({name:o,value:c}),e.push({name:s,value:l});var d=i.model.get("languagePreferences.chaseWebpageLanguagePreferences");return d.options=e,i.model.set("languagePreferences.chaseWebpageLanguagePreferences",d),e},i._listSuccessCallback=function(e,n,r,o){if(i.registry.hasComponent("languagePreferences")){var s=o.get("languagePreferences.globalLanguagePreferences"),c=o.get("languagePreferences.chaseWebpageLanguagePreferences");o.set("languagePreferences.originalGlobalLanguagePreferences.code",n.preference||"nonEmptyString"),o.set("languagePreferences.globalLanguagePreference",n.preference||"nonEmptyString"),o.set("languagePreferences.mobileBankAccountsOnly",n.mobileBankAccountsOnly),o.set("languagePreferences.mobileBankAccounts",n.mobileBankAccounts);var l=n.mobileBankAccountsOnly;s.disabled=l,c.disabled=l,i.components.languagePreferences.showGlobalDisclaimer(n.preference),n.options.forEach((function(e){e.name=a.get(i.components.languagePreferences,"globalLanguagePreferencesOption",e.value)}),i),s.options=n.options,o.set("languagePreferences.globalLanguagePreferences",s),o.set("languagePreferences.chaseWebpageLanguagePreferences",c),t.area.broadcast("renderMyProfileMenuMobile"),t.elementObserver.isInserted("h2.section-title",(function(){i.components.languagePreferences.emitMessageToView("focusOnLanguagePreferencesHeader")})),i.registerDirtyForm()}},i._listFailureCallback=function(e,t,n,r){var o="SYSTEM_FAILURE";i.registry.hasComponent("languagePreferences")&&(r.set("languagePreferences.flags.showNetworkOrServiceError",!0),i.components.languagePreferences.emitMessageToView("showNetworkOrServiceError"),a.set(i.components.languagePreferences,"globalLanguagePreferencesErrorHeader",o),a.set(i.components.languagePreferences,"globalLanguagePreferencesErrorAdvisory",o))}}})),define("profileArea/personalDetails/languagePreferences/component/languagePreferences",["require","appkit-utilities/language/helper","blue-app/cache/sessionCache","profileArea/sharedLib/profileMixin"],(function(e){"use strict";var t=e("appkit-utilities/language/helper"),i=e("blue-app/cache/sessionCache").get("service-/svc/rl/accounts/secure/v1/user/metadata/list"),n=e("profileArea/sharedLib/profileMixin"),r=null,a="whenWeTalkToYou",o="onChaseDotCom",s=function(){};return function(e){var c=this;function l(e){r.setMultiple(c,[{key:"globalLanguagePreferencesErrorHeader",variation:e},{key:"globalLanguagePreferencesErrorAdvisory",variation:e}])}c.init=function(){var t;n.call(c),r=e.dcu.dynamicContent,sessionStorage.getItem("showConfirmationMessage")&&(t=r.get(c,"confirmUpdateMyLanguagePreferencesMessage","CHASE_WEBPAGE"),c.output.emit("state",{value:"showConfirmation",message:t})),c.model.isMobileUser=!1,i&&i.response&&i.response.hasMobileAccountsOnly&&(c.model.isMobileUser=!!i.response.hasMobileAccountsOnly,c.output.emit("state",{value:"isMobileuserDisableApply",isMobileUser:c.model.isMobileUser}))},c.updateChaseWebpageLanguagePreferences=function(){var t=c.model.get("chaseWebpageLanguagePreference");e.application.broadcast("showLanguageDisclaimer",{selectedLanguage:t,returnFocusId:"#languagePreferenceWebchaseSaveButton"}),c.model.get("confirmUpdateGlobalLanguagePreferencesSet")&&(e.dirtyForm.dirtyIgnore=!0,e.state(e.constants.profileUrls["languagePreferences.updateMyLanguagePreferences"]))},c.doNotUpdateChaseWebpageLanguagePreferences=function(){var e=t.getLanguage();e&&"en-us"!==e?c.model.set("chaseWebpageLanguagePreference","es-us"):c.model.set("chaseWebpageLanguagePreference","en-us"),c._enableOrDisableButton(o,"save",!0),c._enableOrDisableButton(o,"cancel",!0),c.emitMessageToView("focusOnHeader")},c.updateGlobalLanguagePreferences=function(){var t=c.model.get("globalLanguagePreference"),i={preference:t};return e.services.languagePreferences["languagePreferences.profile.languageGlobalUpdate.svc"](i).then((function(){c._updateSuccessCallback(t)}),(function(){c._updateFailureCallback()}))},c.doNotUpdateGlobalLanguagePreferences=function(){var e=c.model.get("originalGlobalLanguagePreferences.code");c.model.set("globalLanguagePreference",e),c.showGlobalDisclaimer(e),c._enableOrDisableButton(a,"save",!0),c._enableOrDisableButton(a,"cancel",!0),c.emitMessageToView("focusOnHeader")},c.showGlobalLanguageConfirmation=function(){var t,i,n,a=c.model.get("globalLanguagePreference");c.model.get("globalLanguagePreferences").options.forEach((function(e){e.value===a&&(t=e.name)})),r.set(c,"confirmUpdateMyLanguagePreferencesMessage","GLOBAL",{globalLanguagePreference:t}),i=r.get(c,"confirmUpdateMyLanguagePreferencesMessage","GLOBAL",{globalLanguagePreference:t}),n=r.get(c,"confirmUpdateMyLanguagePreferencesAdvisory","GLOBAL"),c.output.emit("state",{value:"showConfirmation",message:i,advisory:n}),c.confirmationShown=!0,e.state(e.constants.profileUrls["languagePreferences.updateGlobalLanguagePreferences"])},c._updateSuccessCallback=function(e){c.model.set("originalGlobalLanguagePreferences.code",e),c._enableOrDisableButton(a,"save",!0),c._enableOrDisableButton(a,"cancel",!0),c.showGlobalLanguageConfirmation(),c.emitMessageToView("focusOnSuccessMessage")},c.showJpoUserErrMsg=function(){l("JPO_USER_NOT_ALLOWED"),c.errorState=!0},c._updateFailureCallback=function(){l("SYSTEM_FAILURE"),c.emitMessageToView("showNetworkOrServiceError"),c.emitMessageToView("focusOnErrorMessage")},c.showGlobalDisclaimer=function(t){var i,n,a=e.dashboardSettings.languagePreferences,o=a.ENGLISH_VALUE_STRING,s=a.SPANISH_VALUE_STRING,l=a.DISCLAIMER_ENGLISH_VARIATION,d=a.DISCLAIMER_SPANISH_VARIATION,u=a.DISCLAIMER_GENERIC_VARIATION;n=t===o?l:t===s?d:u,i=c.model.get("mobileBankAccountsOnly")||c.model.get("mobileBankAccounts")?r.get(c,"languagePreferencesNotApplicableDisclaimer",n):r.get(c,"globalLanguagePreferencesAdvisory",n),c.output.emit("state",{value:"showGlobalDisclaimerMessage",message:i})},c.emitMessageToView=function(e){c.output.emit("state",{value:e})},c.onChaseWebpageChange=function(){var e=!c._topDropdownChanged();c._enableOrDisableButton(o,"save",e),c._enableOrDisableButton(o,"cancel",e)},c.onGlobalLanguagePreferenceChange=function(){var e=c.model.get("globalLanguagePreference"),t=!c._bottomDropdownChanged();c.emitMessageToView("hideMessages"),c.showGlobalDisclaimer(e),c._enableOrDisableButton(a,"save",t),c._enableOrDisableButton(a,"cancel",t)},c._enableOrDisableButton=function(e,t,i){c.output.emit("state",{value:"enableOrDisableButton",section:e,buttonType:t,whetherToDisable:i})},c._topDropdownChanged=function(){return c.model.get("chaseWebpageLanguagePreference")!==t.getLanguage()},c._bottomDropdownChanged=function(){return c.model.get("globalLanguagePreference")!==c.model.get("originalGlobalLanguagePreferences.code")},c.navigateToProfileMenu=function(){e.Api.modal.getIsDirty()||e.state(e.settings.get("profileMenuUrl"))},c._handleSkiplinkPress=function(t){e.profileUtil.skipIfEnterSpaceOrClick(c,t,"skipBack")},c.toggleConfirmationMessageDetail=function(t){e.profileUtil.confirmationMessageDetails(c,t)},c.toggleErrorMessageDetail=function(t){e.profileUtil.errorMessageDetails(c,t)},c.requestConfirmationMessageDetails=s,c.exitConfirmationMessageDetails=s,c.requestErrorMessageDetails=s,c.exitErrorMessageDetails=s,c.skipBack=s}})),define("profileArea/sharedLib/constants.profile",[],(function(){"use strict";return{languagepreferences:"/dashboard/profile/languagepreferences/updateMyLanguagePreferences",requestJPMorganPrivacyPopupUrl:"https://www.jpmorgan.com/country/US/en/privacy",getHashprofileUrl:"/dashboard/profile/overview/updateMyOverviewDetails",alertsDeliveryUrl:"#/dashboard/profile/alertsDelivery/updateMyAlertsDeliverySettings",emailUrl:"#/dashboard/profile/emailAddressDetails/selectMyEmailDetails",interstitialConfirmPaperlessIndex:"dashboard/campaign/confirmPaperless/index",staticImageUrl:"/content/dam/cpo-static/images/",cardArtLogoURL:"/content/services/structured-image/card-art.json/",cardArtDefaultURL:"/content/dam/cpo-static/images/default_cardart_small.png",incomeCapture:"dashboard/profileArea/incomeCapture/index",suppressMerchants:["329090"],customerServiceUrl:"dashboard/misc/helpCenter/requestContactUs",INCOME_VALIDATION_CONST:{GREATER_THAN_GROSS_INCOME:"GREATER_THAN_GROSS_INCOME",ABOVE_MAXIMUM:"ABOVE_MAXIMUM",BELOW_MINIMUM:"BELOW_MINIMUM",TEN_MILLION:1e7,ZERO:0,ANNUAL:"ANNUAL",CAPTURE_TIME_STAMP:{DIG:"2020-11-01T00:00:00.000Z",SER:"2021-04-14T00:00:00.000Z"}}}})),define("bluespec/email_marketing_preferences",[],(function(){return{name:"EMAIL_MARKETING_PREFERENCES",data:{emailAddresses:{type:"List",items:{emailAddressName:"Description",emailAddressId:"Number"}},emailAddressId:{type:"Number"},chaseEventsOptions:{type:"List",items:{chaseEventsOptionName:"Description",chaseEventsOptionId:"Description"}},chaseEventsOptionId:{type:"Description"},newChaseAccountsOptions:{type:"List",items:{newChaseAccountsOptionName:"Description",newChaseAccountsOptionId:"Description"}},newChaseAccountsOptionId:{type:"Description"},chasePartnerOffersOptions:{type:"List",items:{chasePartnerOffersOptionName:"Description",chasePartnerOffersOptionId:"Description"}},chasePartnerOffersOptionId:{type:"Description"},chaseOffersOptions:{type:"List",items:{chaseOffersOptionName:"Description",chaseOffersOptionId:"Description"}},chaseOffersOptionId:{type:"Description"},newsletterOptions:{type:"List",items:{newsletterOptionName:"Description",newsletterOptionId:"Description"}},newsletterOptionId:{type:"Description"},unsubscribeAllOffers:{type:"OnOff"},emailMarketingType:{type:"Description"}},states:{exitConfirmationOverlay:!0},actions:{requestMyProfile:!0,requestEmailAddress:!0,requestToggleAllOptions:!0,confirmOffersChanges:!0,doNotSaveOffersChanges:!0,requestContactUs:!0,changeDisplayedLanguage:!0,requestPrivacyPolicy:!0,requestSecurity:!0,requestTermsOfUse:!0,requestAccessibility:!0,requestHomeownerAssistance:!0,requestSiteMap:!0,requestAdChoices:!0,requestPrivacyPreferences:!0},settings:{primaryDesignationLabel:!0,profileSettingsLabel:!0,changeDisplayedLanguageLabel:!0,marketingPreferencesHeader:!0,currentEmailPreferencesLabel:!0,emailAddressesLabel:!0,marketingPreferencesOptionsAdvisory:!0,chaseEventsHeader:!0,chaseEventsLabel:!0,newChaseAccountsHeader:!0,newChaseAccountsLabel:!0,chasePartnerOffersHeader:!0,chasePartnerOffersLabel:!0,chaseOffersHeader:!0,chaseOffersLabel:!0,newsletterHeader:!0,newsletterLabel:!0,unsubscribeAllOffersHeader:!0,unsubscribeAllOffersLabel:!0,disclaimerLabel:!0,chaseLogoAda:!0,updatesContentAboveAda:!0,chaseEventsOption:!0,newChaseAccountsOption:!0,chasePartnerOffersOption:!0,chaseOffersOption:!0,newsletterOption:!0,saveLabel:!0,doNotSaveLabel:!0,confirmationHeader:!0,confirmationMessage:!0,publicSiteMarketingPreferencesHeader:!0,publicSiteMarketingPreferencesAdvisory:!0,publicSiteEmailPreferencesHeader:!0,footerDisclaimer:!0,requestPrivacyPolicyLabel:!0,requestSecurityLabel:!0,requestTermsOfUseLabel:!0,requestAccessibilityLabel:!0,requestHomeownerAssistanceLabel:!0,requestSiteMapLabel:!0,requestAdChoicesLabel:!0,memberFdicLabel:!0,equalHousingLenderLabel:!0,opinionLabSurveyAdvisory:!0,emailMarketingPreferencesErrorHeader:!0,emailMarketingPreferencesErrorMessage:!0,updateEmailMarketingAdvisory:!0}}})),define("profileArea/personalDetails/emailMarketingPreferences/controllers/emailMarketingPreferences",["require","appkit-utilities/language/helper","common/lib/flyout/flyoutUtility","common/lib/elementObserver","blue/store/enumerable/session","common/lib/modalApi","profileArea/sharedLib/constants.profile","bluespec/email_marketing_preferences"],(function(e){"use strict";return function(t){var i=this,n=e("appkit-utilities/language/helper"),r=!1,a=e("common/lib/flyout/flyoutUtility"),o=new(e("common/lib/elementObserver")),s=t.dcu.dynamicContent;t.store=new(e("blue/store/enumerable/session"))("privateMarketingPreferences"),i.init=function(){t.Api={modal:new(e("common/lib/modalApi"))(i)},t.on({"profileEmailMarketingPreferences/setTgtData":function(e){t.Api.modal.setTgtData(e.data,!1)}}),t.changePageLanguage=i.changePageLanguage,t.registerDirtyForm=i.registerDirtyForm,t.dirtyUpdate=i.dirtyUpdate,t.dirtyDeregister=i.dirtyDeregister},i.requestEmailMarketingPreferences=function(n){var r=e("profileArea/sharedLib/constants.profile");if(a.isFlyoutNavigation(t))return!0;t.profileContainer.setPageProperties({pageTitle:s.get(i.components.emailMarketingPreferences,"marketingPreferencesHeader"),containerClasses:"legacy-profile-styles"}),o.isInserted(t.area.renderTarget.target,(function(){i.components.emailMarketingPreferences.model.set("privacyPopupUrl",r.requestJPMorganPrivacyPopupUrl),i.executeCAV([i.components.emailMarketingPreferences,"emailMarketingPreferences",{target:t.area.renderTarget.target}]).then((function(){i.renderPage(n)}))}))},i.renderPage=function(e){!r&&i.context.area.broadcast("renderMyProfileMenuMobile"),!r&&i.registerDirtyForm(),t.selectedEmailAddressId=e.emailId,t.groupId=e.grpId,i.loadPage()},i.loadPage=function(){i.components.emailMarketingPreferences&&!a.isFlyout(t.state())&&i.components.emailMarketingPreferences._validateUserAndFetchDetails(r)},i.publicIndex=function(a){var o,s=[],c={},l=n.isLanguageSetTo("es"),d=l?"es":"en";return t.isLanguageSpanish=l,r=!0,t.isDpsDataValid=!0,a.EAID?c.eaId=a.EAID:t.isDpsDataValid=!1,void 0!==a.Cat&&(c.preferenceCode=a.Cat),void 0!==a.refsrc&&(c.referralSource=a.refsrc),a.VersionID&&(c.emailVersionId=a.VersionID),t.dpsData=c,a.lang&&d!==a.lang?i.changePageLanguage(a.lang):(!i.registry.hasComponent("emailMarketingPreferences")&&i.registry.updateComponent("emailMarketingPreferences",{model:i.model.lens("emailMarketingPreferences"),spec:(o=e("bluespec/email_marketing_preferences"),o.data.categoryType={type:"Description"},o)}),!i.cavLoaded&&s.push([i.components.emailMarketingPreferences,"emailMarketingPreferences",{target:"#logon-content"}])&&(i.cavLoaded=!0),i.renderPage(a)),s},i.changePageLanguage=function(e){var n="es_us"===e||"es"===e?"es_us":"en_us";t.application.services.content.setLanguage(n),i.goURL(location.href.replace(/lang=(es|en)/,"lang="+n.split("_")[0])),location.reload()},i.registerDirtyForm=function(){t.bubble("dirtyRegister",{controller:i,compInstanceNames:["emailMarketingPreferences"],target:t.profileContainer.constants.RENDER_TARGET.target,whiteList:["chaseEventsOptionId","newChaseAccountsOptionId","chasePartnerOffersOptionId","chaseOffersOptionId","newsletterOptionId"]})},i.dirtyUpdate=function(){t.bubble("dirtyUpdate",{name:"emailMarketingPreferences"})},i.dirtyDeregister=function(){t.bubble("dirtyDeregister",{name:"emailMarketingPreferences"})}}})),define("profileArea/personalDetails/emailMarketingPreferences/components/emailMarketingPreferences",["require","appkit-utilities/analytics/overlay","appkit-utilities/content/dcu","appkit-utilities/content/globalContentMixin","profileArea/sharedLib/profileMixin","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","appkit-utilities/VOC/util","profileArea/sharedLib/navigation/navigation","common/settings"],(function(e){"use strict";var t=0;return function(i){var n,r,a,o=this,s=e("appkit-utilities/content/dcu").dynamicContent,c=e("appkit-utilities/content/globalContentMixin"),l=e("profileArea/sharedLib/profileMixin"),d=i.hybrid,u=e("appkit-utilities/VOC/util"),p={},m=!1,f=!1,A={CHASE_ACCOUNTS:"chaseOffersHeader",CHASE_EVENTS:"chaseEventsHeader",CHASE_OFFERS_INCENTIVES:"newChaseAccountsHeader",PARTNERS_OFFERS_INCENTIVES:"chasePartnerOffersHeader",NEWSLETTERS:"newsletterHeader"};o.init=function(){l.call(o),c.call(o,["importantAda","checkmarkAda","informationAda","exitAda","skipBackLabel","selectionUpdatesContentBelowAda","noLabel","currentSelectionAda","endOfSelectionAda","asteriskSymbol","atSymbol","copyrightLabel","yesLabel","opensMenuAda"]),o.emailAddresses=[]},o._validateUserAndFetchDetails=function(e){!e&&i.user.profile.isJPOUser()?(s.setMultiple(o,[{key:"emailMarketingPreferencesErrorHeader",variation:"JPO_USER_NOT_ALLOWED"},{key:"emailMarketingPreferencesErrorMessage",variation:"JPO_USER_NOT_ALLOWED"}]),o._updateViewModel({showErrorMessage:!0,showDetails:!1})):o._fetchEmailDetails(e)},o.requestPrivacyPreferences=function(){},o._fetchEmailDetails=function(t){f=t,n={chaseEventsOptions:{preferenceType:"CHASE_EVENTS",optionName:"chaseEventsOptionName",optionId:"chaseEventsOptionId",optionContentKey:"chaseEventsOption"},newChaseAccountsOptions:{preferenceType:"CHASE_OFFERS_INCENTIVES",optionName:"newChaseAccountsOptionName",optionId:"newChaseAccountsOptionId",optionContentKey:"newChaseAccountsOption"},chasePartnerOffersOptions:{preferenceType:"PARTNERS_OFFERS_INCENTIVES",optionName:"chasePartnerOffersOptionName",optionId:"chasePartnerOffersOptionId",optionContentKey:"chasePartnerOffersOption"},chaseOffersOptions:{preferenceType:"CHASE_ACCOUNTS",optionName:"chaseOffersOptionName",optionId:"chaseOffersOptionId",optionContentKey:"chaseOffersOption"},newsletterOptions:{preferenceType:"NEWSLETTERS",optionName:"newsletterOptionName",optionId:"newsletterOptionId",optionContentKey:"newsletterOption"}},o.emailAddresses=[],o._clearMessages(),m=!0;var c={};o.context.controller.groupId&&(c={groupId:o.context.controller.groupId}),f?(a=new(e("profileArea/sharedLib/navigation/navigation"))(o.context),s.set(o,"changeDisplayedLanguageLabel",o.context.controller.isLanguageSpanish?"ENGLISH":"SPANISH"),r=o.context.controller.isLanguageSpanish?"es_us":"en_us",o.context.controller.isDpsDataValid?o._fetchMarketingPreferencesDetails():o._handleServiceError()):i.services.emailMarketingPreferences.emailList(c).then(o._fetchEmailDetailsSuccessHandler,o._fetchEmailDetailsErrorHandler)},o._fetchEmailDetailsSuccessHandler=function(e){o._populateEmailDetails(o.context.controller.selectedEmailAddressId,e)},o._fetchEmailDetailsErrorHandler=function(){o._handleServiceError(),!f&&i.dirtyDeregister()},o._populateEmailDetails=function(e,i){var n=[];i&&i.primaryEmail&&(n.push({name:i.primaryEmail.emailAddress+" "+s.get(o,"primaryDesignationLabel"),value:i.primaryEmail.emailAddress,selected:e===i.primaryEmail.id}),e===i.primaryEmail.id&&(o.emailAddressId=i.primaryEmail.emailAddress,t=0)),i&&i.secondaryEmails&&i.secondaryEmails.forEach((function(r,a){n.push({name:r.emailAddress,value:r.emailAddress,selected:e===r.id}),e===r.id&&(o.emailAddressId=r.emailAddress,t=i.primaryEmail?a+1:a)})),o.emailAddressId||(o.emailAddressId=n[0].value,n[0].selected=!0,t=0),o.emailAddresses=n,o._fetchMarketingPreferencesDetails()},o._fetchMarketingPreferencesDetails=function(){var e={},t={},n=o._fetchQueryParam("Cat");o._emptyPreferences(),o._clearMessages(),f?(e.eaId=o.context.controller.dpsData.eaId,n&&(e.categoryCode=n)):(t.inputParameterType="EMAIL",t.inputParameterValue=o.emailAddressId),i.services.emailMarketingPreferences.emailOptions(JSON.stringify(t)).then(o._fetchMarketingPreferencesDetailsSuccessHandler,o._fetchMarketingPreferencesDetailsErrorHandler)},o._fetchMarketingPreferencesDetailsSuccessHandler=function(e){o._updateViewModel({showDetails:!0}),o._populateMarketingPreferencesDetails(e),!f&&i.dirtyDeregister(),!f&&i.registerDirtyForm()},o._fetchMarketingPreferencesDetailsErrorHandler=function(){o._handleServiceError(),!f&&i.dirtyDeregister()},o._populateMarketingPreferencesDetails=function(e){var t=!1;o._handleUnsubscribe(e.categoryType),e&&e.preferences&&e.preferences.forEach((function(e){"UNSUBSCRIBE_ALL"===e.type?o._populateUnsubscribeAllOptions(e.subscribed):Object.keys(n).forEach((function(t){var i=n[t];i.preferenceType===e.type&&o._populateOptions(i.optionName,i.optionId,i.optionContentKey,t,e.subscribed)}))})),f&&(t=!(e.emailPrefix&&e.emailSuffix&&e.emailDomain),o.emailAddressId=t?"":e.emailPrefix+o.asteriskSymbol.repeat(3)+e.emailSuffix+o.atSymbol+e.emailDomain,o._focusAfterPreferencesFetch())},o._focusAfterPreferencesFetch=function(){m&&o._focusOnHeader(),!m&&o._focusOnElement("#header-email-addresses-dropdown")},o._populateUnsubscribeAllOptions=function(e){o.unsubscribeAllOffers=e},o._populateOptions=function(e,t,i,n,r){var a=[],c={};c[e]=s.get(o,"yesLabel"),c[t]=!0,a.push(c),(c={})[e]=s.get(o,"noLabel"),c[t]=!1,a.push(c),o[n]=a,o[t]=r},o._emptyPreferences=function(){Object.keys(n).forEach((function(e){o[e]=null,o[n[e].optionId]=""}))},o.requestToggleAllOptions=function(){Object.keys(n).forEach((function(e){o[e]&&(o[n[e].optionId]=!o.unsubscribeAllOffers)})),o._isDirty()},o._changePreferencesSelection=function(){var e=!0;Object.keys(n).forEach((function(t){o[n[t].optionId]&&(e=!1)})),o.unsubscribeAllOffers=e,o._isDirty()},o._isDirty=function(){var e=!1;return f||(e=i.dirtyForm.dirtyCheckAll().isDirty,o._updateViewModel({enableButtons:e})),e},o.requestEmailAddress=function(e,t,n){var r={parentComponent:o,parentComponentAnalyticsKey:"exitConfirmationOverlay",executeAction:function(){t&&t(),i.dirtyDeregister(),o._changeEmailAddressId(e.domEvent.target.selectedIndex)},executeNoAction:function(){n&&n(),o._doNotChangeEmailAddressId()}};i.dirtyForm.dirtyCheckAll().isDirty&&!d?i.application.broadcast("dirtyOverlayAPI/showConfirmationOverlay",{data:r}):r.executeAction()},o._changeEmailAddressId=function(e){t=e,o._fetchMarketingPreferencesDetails(),m=!1,!f&&i.dirtyDeregister(),!f&&i.registerDirtyForm()},o._doNotChangeEmailAddressId=function(){var e=o.emailAddresses;o.emailAddresses=[],e.forEach((function(e,i){e.selected=i===t,i===t&&(o.emailAddressId=e.value)})),o.emailAddresses=e,o.output.emit("trigger",{value:"setDropdownSelected",selectedIndex:t})},o.doNotSaveOffersChanges=function(){Object.keys(n).forEach((function(e){var t=n[e].optionId;o[t]=p[t]})),o.unsubscribeAllOffers=p.unsubscribeAllOffers,o._isDirty(),o._focusOnHeader()},o._createPreferenceObject=function(e,t){return{type:e,subscribed:t}},o.confirmOffersChanges=function(){o._handleOpinionLabSurvey();var e=[],t={};Object.keys(n).forEach((function(t){if(o[t]){var i=n[t];e.push(o._createPreferenceObject(i.preferenceType,o[i.optionId]))}})),e.push(o._createPreferenceObject("UNSUBSCRIBE_ALL",o.unsubscribeAllOffers)),o._clearMessages(),f?t=o.context.controller.dpsData:t.email=o.emailAddressId,t.preferences=e,i.services.emailMarketingPreferences.emailPreferencesUpdate(JSON.stringify(t)).then(o._confirmOffersChangesSuccessHandler,o._confirmOffersChangesErrorHandler)},o._confirmOffersChangesSuccessHandler=function(){o._updateViewModel({showSuccessMessage:!0}),!f&&i.dirtyDeregister(),!f&&i.registerDirtyForm()},o._confirmOffersChangesErrorHandler=function(){o._handleServiceError(),!f&&i.dirtyDeregister()},o.requestContactUs=function(){f?o._openFooterLink("requestContactUs"):i.application.broadcast("makeNavigation",{navKey:"requestAccountContactUs"})},o._updateViewModel=function(e){o.output.emit("updateViewModel",{data:e})},o._focusOnElement=function(e){o.output.emit("setFocus",{selector:e})},o._focusOnHeader=function(){o.output.emit("focusOnMarketingPreferencesHeader")},o._handleServiceError=function(){var e=f?"PUBLIC_SITE_SERVICE_FAILURE":"SERVICE_FAILURE";s.setMultiple(o,[{key:"emailMarketingPreferencesErrorHeader",variation:e},{key:"emailMarketingPreferencesErrorMessage",variation:e}]),o._updateViewModel({showErrorMessage:!0,showDetails:!1})},o._clearMessages=function(){o._updateViewModel({showSuccessMessage:!1,showErrorMessage:!1})},o.changeDisplayedLanguage=function(){var e="es_us"===r?"en_us":"es_us";o.context.controller.changePageLanguage(e)},o._openFooterLink=function(e){a.goURL({key:e,reason:"footerLinkClicked"})},o.requestPrivacyPolicy=function(){o._openFooterLink("requestSecurityMarkettingPreference")},o.requestSecurity=function(){o._openFooterLink("requestSecurityMarkettingPreference")},o.requestTermsOfUse=function(){o._openFooterLink("requestTermsOfUseMarkettingPreference")},o.requestAccessibility=function(){o._openFooterLink("requestAccessibilityMarkettingPreference")},o.requestHomeownerAssistance=function(){o._openFooterLink("requestMortgageAssistance")},o.requestSiteMap=function(){o._openFooterLink("requestSiteMapMarkettingPreference")},o._fetchQueryParam=function(e){var t,i=o.context.state().action.params;if(i[e]){var n=i[e];t=o._sanitizeParam(n)}return t||null},o._sanitizeParam=function(e){return null!==e.match(/^[0-9a-zA-Z]+$/)?e:null},o._handleUnsubscribe=function(e){if(o.categoryType=e||null,"UNSUBSCRIBE_ALL"!==e&&e){var t=s.get(o,A[e]);s.set(o,"updateEmailMarketingAdvisory","",{emailMarketingType:t})}},o._handleOpinionLabSurvey=function(){var t=e("common/settings").VoCUrl,i=o.context.store.get("hasTakenSurvey");o.context.config.enableMarketingPreferencesOpinionLab&&!d&&o.unsubscribeAllOffers&&!i&&(f||o.context.store.set("hasTakenSurvey",!0),u.openVOCSurvey(t,o._populateOpinionLabOptions()))},o._populateOpinionLabOptions=function(){var e={opinionLabParamsData:{referer:"https://marketingprefctr.chase.com/"}};return f&&["VersionID","Cat","LOB","EAID","refsrc"].forEach((function(t){e.opinionLabParamsData[t]=o._fetchQueryParam(t)})),e}}})),define("profileArea/personalDetails/phoneMarketingPreferences/controller/phoneMarketingPreferences",["require","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e){"use strict";return function(t){var i=this,n=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd");i.requestPhoneMarketingPreferences=function(){return t.profileContainer.setPageProperties({containerClasses:"legacy-profile-styles"}),n.getFeatureTreatments(["cxoweb_profile_marketing_phonePrefs_enrolled"],{cxoweb_profile_marketing_phonePrefs_enrolled:!1}).then((function(e){if(e&&e.cxoweb_profile_marketing_phonePrefs_enrolled)return[i.components.phoneMarketingPreferences,"phoneMarketingPreferences",t.renderTarget];t.profileContainer.exitMyProfile()}))}}})),define("profileArea/personalDetails/phoneMarketingPreferences/component/phoneMarketingPreferences",[],(function(){"use strict";return function(){}})),define("profileArea/personalDetails/customerName/controller/eDocsFrame",[],(function(){"use strict";return function(e){var t,i="eDocsFrame",n=e.logger;this.onInit=function(){n.info("onInit called eDocsFrame"),t=this,e.on({clearEdocsIFrame:function(){t.model.set("eDocsFrame.pageUrl",null)}})},this.index=function(e){n.info("index action called eDocsFrame");var r=e.pageUrl,a=e.pageTitle,o=e.target;return t.model.update(i,{pageUrl:r,pageTitle:a}),t.registry.hasComponent(i)||t.registry.updateComponent(i,{model:t.model.lens(i)}),[[t.components.eDocsFrame,"eDocsFrame",{target:o}]]}}})),define("profileArea/personalDetails/customerName/component/eDocsFrame",[],(function(){"use strict";return function(e){var t,i=e.logger;this.onInit=function(){t=this,i.info("eDocs Frame Component init"),e.globalContentMixin.call(t,"importantAda"),t.model.onValue("pageUrl",(function(i){null===i&&t.destroy(),e.area.broadcast("eDocsIframeLoaded",!0)}))},this.onReady=function(){e.logger.info("eDocsFrame Component onReady()")},this.showIFrame=function(){e.logger.info("eDocsFrame Component showIFrame()")}}})),define("profileArea/personalDetails/legalNameChange/controller/legalNameChange",[],(function(){"use strict";return function(e){var t=this;t.requestLegalNameChange=function(){return[t.components.legalNameChange,"legalNameChange",{target:e.renderTarget.target,append:!0}]}}})),define("profileArea/personalDetails/legalNameChange/component/legalNameChange",[],(function(){"use strict";return function(){this.onInit=function(){}}})),define("profileArea/sharedLib/viewUtil",["require","blue/root","common/lib/elementObserver","blue-ui/utilities/common","appkit-utilities/common/mediaQueryListener"],(function(e){"use strict";var t,i,n,r=e("blue/root"),a=e("common/lib/elementObserver")(),o=e("blue-ui/utilities/common"),s=e("appkit-utilities/common/mediaQueryListener");function c(e,i){a.isInsertedPromise(e).then((function(){!i&&t.page.$(e).attr("tabindex",-1),t.page.setFocus(e)}))}function l(e){a.isInserted(e,(function(){var t=document.querySelector(e);t&&t.focus()}))}function d(){n.$isXS=m()}function u(e){n=e,i.on("breakpoint-change",d)}function p(){i.off("breakpoint-change",d)}function m(){return s.currentBreakpoint===s.BREAKPOINT.XS}function f(){var e=s.currentBreakpoint===s.BREAKPOINT.XS,i=t.page.$(".jpui.success h2");return i.length?i:e?"#back-nav-header-title":"#header-my-profile-dropdown-menu"}function A(){return t.hybrid||o.isMobile()}function g(){return t.hybrid}return function(e){return i=(t=e).page.$(r),{setFocus:c,isXS:m,isHybridMode:g,getInitalFocusTarget:f,setBreakPointHandler:u,removeBreakPointHandler:p,hidePlaceholderText:A,mdsFocusHelper:l}}})),define("profileArea/personalDetails/customerName/template/eDocs/partials/splashPartial",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"splash-alert-wrapper no-margin",t:13}],f:[{t:7,e:"mds-alert",m:[{n:"id",f:"splash-alert",t:13},{n:"variant",f:"soft",t:13},{n:"alert-title",f:[{t:2,r:".splashHeader",s:!0}],t:13},{n:"accessible-text-icon",f:[{t:2,r:".splashAda"}],t:13},{n:"alert-size",f:"base",t:13},{n:"message",f:[{t:2,r:".splashAdvisory",s:!0}],t:13}],f:[]}]}," ",{t:7,e:"div",m:[{n:"class",f:"splash-button-wrapper col-sm-offset-7 col-md-offset-8 col-lg-offset-9 col-sm-5 col-md-4 col-lg-3",t:13}],f:[{t:7,e:"mds-button",m:[{n:"type",f:"button",t:13},{n:"variant",f:"primary",t:13},{n:"width-type",f:"layout",t:13},{n:"text",f:[{t:2,r:".returnToAccountsLabel"}],t:13},{n:"id",f:"returnToAccountsLabel",t:13},{n:"click",f:{n:[{t:2,r:".returnToAccountsAction"}],d:[]},t:70}],f:[]}]}]}})),define("profileArea/sharedLib/sharedView/template/simpleHeader",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:["row",{t:4,f:[" ",{t:2,r:"classes"}],n:50,r:"classes"}],t:13}],f:[" ",{t:7,e:"h2",m:[{n:"tabindex",f:"-1",t:13},{n:"class",f:"util accessible-text hide-xs show-sm",t:13},{n:"id",f:"simple-header",t:13}],f:[{t:3,x:{r:["sanitizer","title"],s:"_0.sanitizeHTML(_1)"}}]}," ",{t:7,e:"div",m:[{n:"class",f:"col-sm-8 hide-xs show-sm hide-md no-grid-padding",t:13}],f:[" ",{t:7,e:"dropdownMenu",m:[{n:"dropDownId",f:[{t:2,r:"dropDownId"}],t:13},{n:"label",f:[{t:2,r:"title"}],t:13},{n:"adaText",f:[{t:2,r:"adaText"}],t:13},{t:4,f:[{n:"classes",f:[{t:2,r:"dropDownClasses"}],t:13}],n:50,r:"dropDownClasses"}]}," ",{t:7,e:"div",m:[{n:"id",f:"profile-menu-mobile",t:13}]}]}," ",{t:7,e:"div",m:[{n:"class",f:["col-xs-12 hide-xs ",{t:4,f:["show-md"],n:50,x:{r:[".hybrid"],s:"!_0"}}," no-grid-padding"],t:13}],f:[" ",{t:7,e:"span",m:[{n:"class",f:"section-title",t:13},{n:"aria-hidden",f:"true",t:13}],f:[{t:3,x:{r:["sanitizer","title"],s:"_0.sanitizeHTML(_1)"}}]}]}]}],e:{}}})),define("profileArea/sharedLib/sharedView/simpleHeader/webspec",{name:"SIMPLE_HEADER",bindings:{},triggers:{render:{action:"view.onReady"}}}),define("profileArea/sharedLib/sharedView/template/dropdownMenu",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:[{t:2,r:"dropDownId"}],t:13},{n:"class",f:["jpui dropdown internalmenu-dropdown",{t:4,f:[" ",{t:2,r:"classes"}],n:50,r:"classes"}],t:13},{t:71,f:"dropdownMenuDecorator"}],f:[" "]}," "]}})),define("profileArea/sharedLib/sharedView/dropdownMenu/decorator",["require","blue/$","appkit-utilities/content/dcu"],(function(e){"use strict";var t=e("blue/$");return function(){return function(i){var n,r,a=this;function o(t){return e("appkit-utilities/content/dcu").dynamicContent.getGlobal(t)}function s(e){e.preventDefault(),r.is(":visible")?l():(a.set("adaText",o("closesMenuAda")),r.show(),document.addEventListener("click",p),document.addEventListener("focusin",m))}function c(){l()}function l(){r.is(":visible")&&a.set("adaText",o("opensMenuAda")),r.hide(),d(),u()}function d(){document.removeEventListener("click",p)}function u(){document.removeEventListener("focusin",p)}function p(e){r[0].contains(e.target)||i.contains(e.target)||l()}function m(e){n=t(i),r=t("#profile-menu-mobile"),r.find("nav"),!r[0]||r[0].contains(e.target)||n[0].contains(e.target)||(l(),t(e.target).focus())}return function(){n=t(i),r=t("#profile-menu-mobile"),r.find("nav"),n.on("click",".js-trigger",s),r.on("click","nav.float a",c)}.call(this),{teardown:function(){n&&n.off(),d(),u()}}}}})),define("profileArea/sharedLib/sharedView/dropdownMenu/webspec",{name:"DROPDOWN_MENU",bindings:{},triggers:{}}),define("profileArea/sharedLib/sharedView/dropdownMenu/view",["require","profileArea/sharedLib/sharedView/template/dropdownMenu","profileArea/sharedLib/sharedView/dropdownMenu/decorator","profileArea/sharedLib/sharedView/dropdownMenu/webspec","blue-ui/view/elements/accessible","blue-ui/view/elements/iconwrap"],(function(e){"use strict";return function(){this.template=e("profileArea/sharedLib/sharedView/template/dropdownMenu"),this.init=function(){this.decorators={dropdownMenuDecorator:e("profileArea/sharedLib/sharedView/dropdownMenu/decorator")},this.bridge=e("profileArea/sharedLib/sharedView/dropdownMenu/webspec"),this.views={blueAccessible:e("blue-ui/view/elements/accessible"),blueIconwrap:e("blue-ui/view/elements/iconwrap")}}}})),define("profileArea/sharedLib/sharedView/simpleHeader/view",["require","blue-ui/utilities/common","blue/$","profileArea/sharedLib/sharedView/template/simpleHeader","profileArea/sharedLib/sharedView/simpleHeader/webspec","profileArea/sharedLib/sharedView/dropdownMenu/view"],(function(e){"use strict";var t=e("blue-ui/utilities/common").getBreakpoint,i=e("blue/$");return function(){this.template=e("profileArea/sharedLib/sharedView/template/simpleHeader"),this.init=function(){this.bridge=e("profileArea/sharedLib/sharedView/simpleHeader/webspec"),this.views={dropdownMenu:e("profileArea/sharedLib/sharedView/dropdownMenu/view")},this.transitions={}},this.onReady=function(){!0===this.rtemplate.get("focusOnRender")&&("xs"!==t()?i("#simple-header").focus():i("#back-nav-header-title").focus())}}})),define("profileArea/personalDetails/customerName/template/customerName",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"my-profile-personal-details-customer-name",t:13},{n:"class",f:"my-profile-page",t:13}],f:[{t:7,e:"div",m:[{n:"id",f:"containerContent",t:13},{n:"class",f:"eDocs my-profile legal-name-change landing-page",t:13}],f:[{t:4,f:[{t:4,n:53,f:[{t:8,r:"splashSection"}],x:{r:[".legalNameChangeErrorHeader",".legalNameChangeErrorAdvisory",".warningAda",".returnToAccountsLabel"],s:'{splashHeader:_0,splashAdvisory:_1,splashAda:_2,returnToAccountsLabel:_3,returnToAccountsAction:"returnToAccounts"}'}}],r:".$splashState"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"sub-title",t:13}],f:[{t:2,r:".currentLegalNameLabel"}]}," ",{t:7,e:"div",m:[{n:"class",f:"name-display horizontal-divider",t:13}],f:[{t:2,r:".customerName"}]}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"noAccountsEligible-container",t:13}],f:[{t:7,e:"mds-alert",m:[{n:"id",f:"noAccountsAlert",t:13},{n:"variant",f:"soft",t:13},{n:"alert-title",f:[{t:2,r:".noAccountsAvailableAdvisory",s:!0}],t:13},{n:"accessible-text-icon",f:[{t:2,r:"~/warningAda",s:!0}],t:13}]}]}],r:".$noAccountsEligible"},{t:4,n:51,f:[{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"p",f:[{t:2,r:".copyOfDocumentsAdvisory"}]}," ",{t:7,e:"ul",f:[{t:7,e:"li",f:[{t:7,e:"p",f:[{t:2,r:".courtDocumentLabel"}]}," ",{t:7,e:"ul",f:[{t:7,e:"li",f:[{t:7,e:"p",f:[{t:2,r:".divorceDecreeLabel"}]}]}," ",{t:7,e:"li",f:[{t:7,e:"p",f:[{t:2,r:".marriageLicenseLabel"}]}]}," ",{t:7,e:"li",f:[{t:7,e:"p",f:[{t:2,r:".legalNameChangeCertificateLabel"}]}]}]}]}," ",{t:7,e:"li",f:[{t:7,e:"p",f:[{t:2,r:".driversLicenseLabel"}]}]}," ",{t:7,e:"li",f:[{t:7,e:"p",f:[{t:2,r:".stateIDLabel"}]}]}," ",{t:7,e:"li",f:[{t:7,e:"p",f:[{t:2,r:".socialSecurityCardLabel"}]}]}," ",{t:7,e:"li",f:[{t:7,e:"p",f:[{t:2,r:".passportLabel"}]}]}," ",{t:7,e:"li",f:[{t:7,e:"p",f:[{t:2,r:".naturalizationPapersLabel"}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"customerName-advisory",t:13}],f:[{t:7,e:"p",f:[{t:2,r:".taxpayerIdNeededAdvisory"}]}," ",{t:7,e:"p",f:[{t:2,r:".missingNameAdvisory"}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"float-clear",t:13}],f:[{t:7,e:"blueButton",m:[{n:"id",f:"changeNameButton",t:13},{n:"classes",f:"primary col-xs-12 col-sm-3",t:13},{n:"type",f:"button",t:13},{n:"label",f:[{t:2,r:"requestChangeNameFormLabel"}],t:13},{n:"adatext",f:"",t:13},{n:"rClick",f:"requestChangeNameForm",t:13}]}]}," ",{t:7,e:"p",f:[{t:2,r:".waitingPeriodAdvisory"}]}]}],l:1}],n:51,r:".$splashState"}]}]}],e:{}}})),define("bluespec/legal_name_change",[],(function(){return{name:"LEGAL_NAME_CHANGE",data:{customerName:{type:"Description"}},actions:{requestChangeNameForm:!0,returnToAccounts:!0},settings:{noAccountsAvailableAdvisory:!0,legalNameChangeErrorHeader:!0,legalNameChangeErrorAdvisory:!0,legalNameChangeSplashAda:!0,returnToAccountsLabel:!0,customerNameHeader:!0,currentLegalNameLabel:!0,copyOfDocumentsAdvisory:!0,courtDocumentLabel:!0,divorceDecreeLabel:!0,marriageLicenseLabel:!0,legalNameChangeCertificateLabel:!0,driversLicenseLabel:!0,stateIDLabel:!0,socialSecurityCardLabel:!0,passportLabel:!0,naturalizationPapersLabel:!0,taxpayerIdNeededAdvisory:!0,requestChangeNameFormLabel:!0,waitingPeriodAdvisory:!0,missingNameAdvisory:!0}}})),define("profileArea/personalDetails/customerName/view/customerName",["require","common/lib/jsBridge","profileArea/sharedLib/viewUtil","common/lib/featureFlags/commonFeatureProvider","profileArea/personalDetails/customerName/template/eDocs/partials/splashPartial","blue-ui/view/elements/button","blue-ui/view/elements/accessible","profileArea/sharedLib/sharedView/simpleHeader/view","appkit-utilities/view/webSpecUtil","profileArea/personalDetails/customerName/template/customerName","bluespec/legal_name_change"],(function(e){"use strict";var t;return function(i){var n=e("common/lib/jsBridge"),r=e("profileArea/sharedLib/viewUtil")(i);this.areaName="profile",this.viewName="customerNameView",this.commonFeatureProvider=e("common/lib/featureFlags/commonFeatureProvider")(i),this.partials={splashSection:e("profileArea/personalDetails/customerName/template/eDocs/partials/splashPartial")},this.views={blueButton:e("blue-ui/view/elements/button"),blueAccessible:e("blue-ui/view/elements/accessible"),simpleHeader:e("profileArea/sharedLib/sharedView/simpleHeader/view")},this.model={$isXS:r.isXS()},this.onInit=function(){t=this;var n=e("appkit-utilities/view/webSpecUtil");i.logger.info("customerName View onInit"),t.template=e("profileArea/personalDetails/customerName/template/customerName"),t.bridge=n.createWebSpec(e("bluespec/legal_name_change"),{stopPropagation:!1,dataBindings:{both:["customerName","$noAccountsEligible"],upstream:[]}})},this.onDestroy=function(){r.removeBreakPointHandler()},this.onData("$noAccountsEligible",(function(e){e&&r.mdsFocusHelper("#noAccountsAlert")})),this.onData("$splashState",(function(e){e&&r.mdsFocusHelper("#splash-alert")})),this.onReady=function(){r.setBreakPointHandler(t.model);var e=r.getInitalFocusTarget();if(i.hybrid){var a=function(){return!1},o=function(){return!1},s={isHybridBackButtonRequired:a,isCloseSelected:o},c={BACK:a,CLOSE:o,CANCEL:o};i.hybridHelper.webNativeMessenger.updateNativeNavigationBar({showHamburgerMenu:!1,showCancel:!0,showBackArrow:!1,showProfileSettings:!1,showExitConfirmationOverlay:!1,showClose:!1}),i.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(e){return c[e]&&!c[e]()}),s),t.commonFeatureProvider.enableAppKitJSBridge.getFeatureFlagValue().then((function(e){e||n.releaseSpinner(i)}))}r.setFocus(e)}}})),define("profileArea/personalDetails/customerName/template/eDocs/partials/fileUpload",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"file-upload-inner float-clear",t:13}],f:[{t:7,e:"p",f:[{t:2,r:".supportingDocumentLabel"}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"section-offset float-clear",t:13}],f:[" ",{t:7,e:"div",m:[{n:"class",f:"col-sm-4",t:13}],f:[{t:7,e:"blueButton",m:[{n:"id",f:"file-upload-link",t:13},{n:"classes",f:"new-message-link tertiary",t:13},{n:"label",f:[{t:2,r:".chooseFileLabel"}],t:13},{n:"startIcon",f:"plus",t:13},{n:"role",f:"button",t:13},{n:"disabled",f:[{t:2,r:".disableChooseFileButton"}],t:13},{n:"adatext",f:[{t:2,r:".updatesContentBelowAda"}],t:13},{n:"rKeyup",f:"tiggerSelectFileUpload",t:13},{n:"rClick",f:"invokeFileUpload",t:13}]}," ",{t:7,e:"input",m:[{n:"id",f:"eDocs_uploader_generated_input",t:13},{n:"type",f:"file",t:13},{n:"accept",f:[{t:2,r:".$allowedMimeTypes"}],t:13},{n:"class",f:"util hidden",t:13}]}," ",{t:7,e:"div",m:[{n:"class",f:"restriction-notes",t:13}],f:[{t:7,e:"p",f:[{t:7,e:"b",f:[{t:3,x:{r:["sanitizer",".acceptableDocumentFormatsLabel"],s:"_0.sanitizeHTML(_1)"}}]}]}," ",{t:7,e:"p",f:[{t:3,x:{r:["sanitizer",".acceptedFileExtensionsAdvisory"],s:"_0.sanitizeHTML(_1)"}}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"col-sm-8",t:13}],f:[{t:7,e:"p",m:[{n:"class",f:"lh28",t:13}],f:[{t:2,r:".uploadedDocumentsLabel"}]}," ",{t:7,e:"section",m:[{n:"class",f:"show-sm hide-xs",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"fileUploadRow ",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"fileUploadHeaderCol",t:13}],f:[{t:2,r:".fileNameLabel"}]}," ",{t:7,e:"div",m:[{n:"class",f:"fileUploadHeaderCol documentTypeCol",t:13}],f:[{t:2,r:".documentTypeLabel"}]}," ",{t:7,e:"div",m:[{n:"class",f:"fileUploadHeaderCol actionCol",t:13}],f:[{t:2,r:".actionLabel"}]}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"fileUploadRow",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"fileUploadCol file-name",t:13},{n:"id",f:"file-name",t:13},{n:"tabindex",f:"-1",t:13}],f:[{t:2,r:".fileName"}]}," ",{t:7,e:"div",m:[{n:"class",f:"fileUploadCol documentTypeCol",t:13}],f:[{t:7,e:"mds-select",m:[{n:"id",f:"documentType",t:13},{n:"variant",f:"box",t:13},{n:"value",f:[{t:2,r:".documentType"}],t:13},{n:"label-key",f:"label",t:13},{n:"value-key",f:"value",t:13},{n:"options",f:[{t:2,r:".$supportingDocumentTypes"}],t:13},{n:"placeholder",f:[{t:4,f:[{t:2,r:".$placeHolderText"}],n:51,r:".hidePlaceholderText"}],t:13},{n:"error-message",f:[{t:2,r:".v.documentType.errorMessage"}],t:13},{n:"change",f:"setSupportingDocumentType",t:70},{n:"focus",f:"onFocusCallback",t:70}],f:[]}]}," ",{t:7,e:"div",m:[{n:"class",f:"fileUploadCol actionCol",t:13}],f:[{t:7,e:"blueLink",m:[{n:"id",f:[{t:2,r:".id"},"-delete"],t:13},{n:"href",f:"javascript:void(0);",t:13},{n:"content",f:[{t:2,r:".deleteFileLabel"}],t:13},{n:"rClick",f:"deleteFileOnView",t:13},{n:"classes",f:"BODYLINK",t:13},{n:"dataIndex",f:[{t:2,x:{r:[],s:"{rowIndex:0}"}}],t:13}]}]}]}],r:".fileName"},{t:4,n:51,f:[{t:7,e:"div",m:[{n:"class",f:"no-docs DATA",t:13}],f:[{t:2,r:".chooseDocumentAdvisory"}]}],l:1}]}," ",{t:7,e:"div",m:[{n:"class",f:"xs-documents-table show-xs hide-sm",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"headers TABLEHEADER float-clear",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"left",t:13}],f:[{t:2,r:".fileNameLabel"}]}," ",{t:7,e:"span",m:[{n:"class",f:"right",t:13}],f:[{t:2,r:".actionLabel"}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"content-row BODY2 float-clear",t:13}],f:[{t:4,f:[{t:7,e:"span",m:[{n:"id",f:"xs-fileName",t:13},{n:"class",f:"left",t:13}],f:[{t:2,r:".fileName"}]}," ",{t:7,e:"span",m:[{n:"class",f:"right",t:13}],f:[" ",{t:7,e:"blueLink",m:[{n:"id",f:"xs-delete",t:13},{n:"href",f:"javascript:void(0);",t:13},{n:"content",f:[{t:2,r:".deleteFileLabel"}],t:13},{n:"rClick",f:"deleteFileOnView",t:13},{n:"classes",f:"BODYLINK",t:13},{n:"dataIndex",f:[{t:2,x:{r:[],s:"{rowIndex:0}"}}],t:13}]}]}],r:".fileName"}]}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"show-xs hide-sm",t:13}],f:[{t:7,e:"mds-select",m:[{n:"id",f:"documentTypeXS",t:13},{n:"variant",f:"line",t:13},{n:"value",f:[{t:2,r:".documentType"}],t:13},{n:"label-key",f:"label",t:13},{n:"value-key",f:"value",t:13},{n:"options",f:[{t:2,r:".$supportingDocumentTypes"}],t:13},{n:"placeholder",f:[{t:2,r:".$placeHolderText"}],t:13},{n:"error-message",f:[{t:2,r:".v.documentType.errorMessage"}],t:13},{n:"change",f:"setSupportingDocumentType",t:70},{n:"focus",f:"onFocusCallback",t:70}],f:[]}]}],r:".fileName"}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"section-offset",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"primary-button col-sm-offset-9 col-sm-3",t:13}],f:[{t:7,e:"blueButton",m:[{n:"id",f:"uploadButton",t:13},{n:"type",f:"button",t:13},{n:"label",f:[{t:2,r:".requestUploadFileLabel"}],t:13},{n:"classes",f:"fluid primary white-space",t:13},{n:"rClick",f:"['validateForm', 'validateNextStep']",t:13}]}]}]}],n:51,r:".$showFileUploadSuccess"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"fileUploadSuccess",t:13}],f:[{t:7,e:"blueAlert",m:[{n:"id",f:"fileUploadSuccessHeader",t:13},{n:"type",f:"inverted success",t:13},{n:"primary",f:"true",t:13},{n:"role",f:"region",t:13},{n:"icon",f:"confirmation success",t:13},{n:"title",f:[{t:2,r:".successfulUploadAdvisory"}],t:13},{n:",",f:0,t:13},{n:"message",f:[{t:2,r:".nextLabelAdvisory"}],t:13},{n:"classes",f:"common opacity-solid",t:13},{n:"headingLevel",f:"3",t:13},{n:"focusOnRender",f:"true",t:13},{n:"focusOnRenderOffset",f:"600",t:13},{n:"accessibleTextIcon",f:[{t:2,r:"~/checkmarkAda"}],t:13},{n:"isAnimate",f:"false",t:13},{n:"suppressMessageToggle",f:"true",t:13}]}]}],r:".$showFileUploadSuccess"}]}]}],e:{}}})),define("profileArea/personalDetails/customerName/template/eDocs/partials/navigationButtons",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"buttonContainer",t:13},{n:"class",f:["float-clear ",{t:2,r:".classes"}],t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"section-offset hide-xs show-sm",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"tertiary-button col-sm-3",t:13}],f:[{t:7,e:"blueButton",m:[{n:"id",f:[{t:2,r:".tertiaryButtonId"}],t:13},{n:"type",f:"button tertiary",t:13},{n:"label",f:[{t:2,r:".tertiaryButtonLabel"}],t:13},{n:"classes",f:"fluid tertiary white-space",t:13},{n:"rClick",f:[{t:2,r:".tertiaryButtonAction",s:!0}],t:13}]}]}],r:".showTertiaryButton"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:["secondary-button col-sm-3 ",{t:4,f:["col-sm-offset-3"],r:".showTertiaryButton"},{t:4,n:51,f:["col-sm-offset-6"],l:1}],t:13}],f:[{t:7,e:"blueButton",m:[{n:"id",f:[{t:2,r:".secondaryButtonId"}],t:13},{n:"type",f:"button secondary",t:13},{n:"label",f:[{t:2,r:".secondaryLabel"}],t:13},{n:"classes",f:"fluid secondary",t:13},{n:"rClick",f:[{t:2,r:".secondaryButtonAction",s:!0}],t:13}]}]}],r:".showSecondaryButton"}," ",{t:7,e:"div",m:[{n:"class",f:["primary-button ",{t:4,f:["col-sm-offset-9"],x:{r:["~/hybrid",".showSecondaryButton"],s:"_0&&!_1"}}," col-sm-3"],t:13}],f:[{t:7,e:"blueButton",m:[{n:"id",f:[{t:2,r:".primaryButtonId"}],t:13},{n:"type",f:"button",t:13},{n:"disabled",f:[{t:2,r:".primaryButtonDisabled"}],t:13},{n:"label",f:[{t:2,r:".primaryLabel"}],t:13},{n:"classes",f:"fluid primary white-space",t:13},{n:"rClick",f:[{t:2,r:".primaryButtonAction",s:!0}],t:13}]}]}]}],n:51,r:".isXS"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"show-xs hide-sm",t:13}],f:[{t:7,e:"blueButton",m:[{n:"id",f:[{t:2,r:".primaryButtonId"}],t:13},{n:"type",f:"button",t:13},{n:"disabled",f:[{t:2,r:".primaryButtonDisabled"}],t:13},{n:"label",f:[{t:2,r:".primaryLabel"}],t:13},{n:"classes",f:"fluid primary white-space",t:13},{n:"rClick",f:[{t:2,r:".primaryButtonAction",s:!0}],t:13}]}," ",{t:4,f:[{t:7,e:"blueButton",m:[{n:"id",f:[{t:2,r:".secondaryButtonId"}],t:13},{n:"type",f:"button secondary",t:13},{n:"label",f:[{t:2,r:".secondaryLabel"}],t:13},{n:"classes",f:"fluid secondary",t:13},{n:"rClick",f:[{t:2,r:".secondaryButtonAction",s:!0}],t:13}]}],r:".showSecondaryButton"}," ",{t:4,f:[{t:7,e:"blueButton",m:[{n:"id",f:[{t:2,r:".tertiaryButtonId"}],t:13},{n:"type",f:"button tertiary",t:13},{n:"label",f:[{t:2,r:".tertiaryButtonLabel"}],t:13},{n:"classes",f:"fluid tertiary white-space",t:13},{n:"rClick",f:[{t:2,r:".tertiaryButtonAction",s:!0}],t:13}]}],r:".showTertiaryButton"}]}],r:".isXS"}]}],e:{}}})),define("bluespec/legal_name_change_file_upload",[],(function(){return{name:"LEGAL_NAME_CHANGE_FILE_UPLOAD",data:{fileUploads:{type:"List",items:{fileName:"Description",fileSize:"Numbers",fileId:"Description"}},firstName:{type:"Description"},middleName:{type:"Description"},lastName:{type:"Description"},fileName:{type:"Description"},documentType:{type:"Description"}},actions:{chooseFile:!0,requestUploadFile:!0,deleteFile:!0,requestCancel:!0,requestDocumentType:!0,requestPreviousStep:!0,requestNextStep:!0},states:{exitConfirmationOverlay:!0},settings:{changeNameHeader:!0,changeNameAdvisory:!0,currentLegalNameLabel:!0,firstNameLabel:!0,middleNameLabel:!0,lastNameLabel:!0,supportingDocumentLabel:!0,chooseFileLabel:!0,requestUploadFileLabel:!0,acceptableDocumentFormatsLabel:!0,acceptedFileExtensionsAdvisory:!0,uploadedDocumentsLabel:!0,fileNameLabel:!0,actionLabel:!0,deleteFileLabel:!0,documentTypeLabel:!0,selectDocumentTypeLabel:!0,nextLabelAdvisory:!0,successfulUploadAdvisory:!0,firstNameError:!0,middleNameError:!0,lastNameError:!0,uploadedFileError:!0,documentTypeError:!0}}})),define("profileArea/personalDetails/customerName/template/eDocs/legalNameChangeFileUpload",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"containerContent",t:13},{n:"class",f:"eDocs my-profile legal-name-change file-upload",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"sub-title",t:13}],f:[{t:2,r:".currentLegalNameLabel"}]}," ",{t:7,e:"div",m:[{n:"class",f:"name-display horizontal-divider",t:13}],f:[{t:2,r:".$currentLegalName"}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:4,f:[{t:7,e:"blueAlert",m:[{n:"id",f:"fileUploadError",t:13},{n:"type",f:"inverted error",t:13},{n:"primary",f:"true",t:13},{n:"role",f:"region",t:13},{n:"icon",f:"exclamationsoft error",t:13},{n:"title",f:[{t:2,r:"~/uploadedFileError"}],t:13},{n:"accessibleTextIcon",f:[{t:2,r:"~/warningAda"}],t:13},{n:"focusOnRender",f:"true",t:13},{n:"focusOnRenderOffset",f:"400",t:13}]}],r:"$showFileUploadError"}," ",{t:7,e:"h2",m:[{n:"class",f:"sub-title2",t:13}],f:[{t:2,r:".changeNameHeader"}]}," ",{t:7,e:"p",f:[{t:2,r:".changeNameAdvisory"}]}]}," ",{t:7,e:"form",m:[{n:"id",f:"legalNameChangeForm",t:13},{n:"class",f:"section",t:13}],f:[{t:7,e:"blueFieldGroup",m:[{n:"id",f:"firstNameField",t:13},{n:"label",f:[{t:2,r:".firstNameLabel"}],t:13},{n:"classes",f:"",t:13},{n:"labelColumns",f:"col-sm-4",t:13},{n:"inputColumns",f:"col-sm-4",t:13},{n:"groupType",f:"validationInput horizontal",t:13},{n:"inputValue",f:[{t:2,r:".firstName"}],t:13},{n:"initErrorBubble",f:"true",t:13},{n:"validationInput",f:["{ 'id': 'firstName', 'name': 'firstName', 'type': 'text', 'rChange': ['validateField', 'formFieldTracking'], 'rBlur': ['validateField'], 'labelErrorPrefix': ",{t:2,r:".errorAnnouncementAda",s:!0},", 'errorMessage': ",{t:2,r:"v.firstName.errorMessage"},", 'minLength': '2', 'maxLength': '26', 'required': true }"],t:13}]}," ",{t:7,e:"blueFieldGroup",m:[{n:"id",f:"middleNameField",t:13},{n:"label",f:[{t:2,r:".middleNameLabel"}],t:13},{n:"classes",f:"",t:13},{n:"labelColumns",f:"col-sm-4",t:13},{n:"inputColumns",f:"col-sm-4",t:13},{n:"groupType",f:"validationInput horizontal",t:13},{n:"inputValue",f:[{t:2,r:".middleName"}],t:13},{n:"initErrorBubble",f:"true",t:13},{n:"validationInput",f:["{ 'id': 'middleName', 'name': 'middleName', 'type': 'text', 'rBlur': ['validateField'], 'rChange': ['validateField', 'formFieldTracking'], 'labelErrorPrefix': ",{t:2,r:".errorAnnouncementAda",s:!0},", 'errorMessage': ",{t:2,r:"v.middleName.errorMessage"},", 'minLength': '2', 'maxLength': '26', 'required': false }"],t:13}]}," ",{t:7,e:"blueFieldGroup",m:[{n:"id",f:"lastNameField",t:13},{n:"label",f:[{t:2,r:".lastNameLabel"}],t:13},{n:"classes",f:"",t:13},{n:"labelColumns",f:"col-sm-4",t:13},{n:"inputColumns",f:"col-sm-4",t:13},{n:"groupType",f:"validationInput horizontal",t:13},{n:"inputValue",f:[{t:2,r:".lastName"}],t:13},{n:"initErrorBubble",f:"true",t:13},{n:"validationInput",f:["{ 'id': 'lastName', 'name': 'lastName', 'type': 'text', 'rChange': ['validateField', 'formFieldTracking'], 'rBlur': 'validateField', 'labelErrorPrefix': ",{t:2,r:".errorAnnouncementAda",s:!0},", 'errorMessage': ",{t:2,r:"v.lastName.errorMessage"},", 'minLength': '2', 'maxLength': '26', 'required': true }"],t:13}]}]}," ",{t:8,r:"fileUpload"}," ",{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:4,n:53,f:[{t:8,r:"navigationButtons"}],x:{r:["$isXS",".nextLabel",".cancelLabel","$isHybrid"],s:'{classes:"button-container",isXS:_0,primaryLabel:_1,primaryButtonId:"nextButton",primaryButtonAction:["validateForm","validateNextStep"],secondaryButtonId:"cancelButton",secondaryLabel:_2,secondaryButtonAction:["requestCancel"],showSecondaryButton:_3?false:true,showTertiaryButton:false}'}}]}]}]}]}],e:{}}})),define("profileArea/personalDetails/customerName/view/eDocs/legalNameChangeFileUpload",["require","appkit-utilities/fileUtil/index","profileArea/sharedLib/constants","appkit-utilities/view/webSpecUtil","common/lib/elementObserver","common/lib/viewHelper/viewMixins","appkit-utilities/validation/trigger","appkit-utilities/view/validationSubmitAda","profileArea/sharedLib/viewUtil","profileArea/personalDetails/customerName/template/eDocs/partials/fileUpload","profileArea/personalDetails/customerName/template/eDocs/partials/navigationButtons","blue-ui/view/elements/button","blue-ui/view/modules/validationstyledselect","blue-ui/view/elements/alert","blue-ui/view/collections/fieldgroup","blue-ui/view/collections/table","blue-ui/view/elements/link","blue-ui/view/modules/validationstyledselect","blue-ui/view/elements/link","bluespec/legal_name_change_file_upload","profileArea/personalDetails/customerName/template/eDocs/legalNameChangeFileUpload"],(function(e){"use strict";return function(t){var i,n,r=e("appkit-utilities/fileUtil/index").uploader,a=e("profileArea/sharedLib/constants").eDocs,o=e("appkit-utilities/view/webSpecUtil"),s=e("common/lib/elementObserver")(),c=e("common/lib/viewHelper/viewMixins"),l=e("appkit-utilities/validation/trigger"),d=e("appkit-utilities/view/validationSubmitAda"),u=e("profileArea/sharedLib/viewUtil")(t),p={submitButtonId:"eDocsPrimaryButton",formId:"legalNameChangeForm"};this.areaName="profile",this.viewName="legalNameChangeFileUploadView",this.partials={fileUpload:e("profileArea/personalDetails/customerName/template/eDocs/partials/fileUpload"),navigationButtons:e("profileArea/personalDetails/customerName/template/eDocs/partials/navigationButtons")},this.views={blueButton:e("blue-ui/view/elements/button"),blueValidationStyledSelect:e("blue-ui/view/modules/validationstyledselect"),blueAlert:e("blue-ui/view/elements/alert"),blueFieldGroup:e("blue-ui/view/collections/fieldgroup"),blueTable:e("blue-ui/view/collections/table")({blueLink:e("blue-ui/view/elements/link"),blueValidationStyledSelect:e("blue-ui/view/modules/validationstyledselect")}),blueLink:e("blue-ui/view/elements/link")},this.model={areaName:"profile",fileUploadRows:"",disableChooseFileButton:!1,$showFileUploadError:!1,$showFileUploadSuccess:!1,$focusSelector:"",fileUploadNames:[],hidePlaceholderText:u.hidePlaceholderText(),$isHybrid:u.isHybridMode(),$isXS:u.isXS(),$allowedMimeTypes:a.ALLOWED_MIME_TYPES},this.onInit=function(){i=this,t.logger.info("legalName Change View onInit"),c.applyTriggerBuilderMixin(i),i.triggerBuilder.addFormFieldTrackingTrigger().addTriggers({triggerContentLink:{action:"triggerContentLink"},tiggerSelectFileUpload:{action:"view.tiggerSelectFileUpload"},invokeFileUpload:{action:"view.invokeFileUpload"},validateNextStep:{action:"view.validateNextStep"},setSupportingDocumentType:{action:["view.setSupportingDocumentType","formField","validateDataItem"]},deleteFileOnView:{action:"view.deleteFileOnView"},onFocusCallback:{action:"formField"}}).addTriggers(l),i.bridge=o.createWebSpec(e("bluespec/legal_name_change_file_upload"),{stopPropagation:!1,preventDefault:!1,dataBindings:{both:["fileUploads","firstName","middleName","lastName","fileName","fileSize","$placeHolderText","$focusSelector","$showFileUploadError","$supportingDocumentTypes"],upstream:[]},triggers:i.triggerBuilder.getTriggers()}),i.template=e("profileArea/personalDetails/customerName/template/eDocs/legalNameChangeFileUpload"),n=new r(a.FILE_UPLOAD_CONFIG,"eDocs_uploader_generated_input")},this.onData("fileUploads",(function(e){var t=[];e&&0===e.length?(i.model.fileUploadRows=[],i.model.fileName=""):(e.forEach((function(e){var i,n;t.push((i=e.fileName,n={cells:{}},[].push(i),n.cells.column0={content:i},n.cells.column1={content:"",cellType:"customCell quantity"},n.cells.column2={content:"",cellType:"customCell quantity"},n))})),i.model.fileUploadRows=t,i.model.fileName=e[0].fileName),i.model.disableChooseFileButton=e&&e.length>=1}),{init:!1}),this.onData("$focusSelector",(function(e){e&&u.setFocus(e,!0)})),this.onData("$showFileUploadSuccess",(function(){u.setFocus("#fileUploadSuccessHeader")})),this.onData("fileName",(function(){u.setFocus("#file-name")})),this.onDestroy=function(){u.removeBreakPointHandler()},this.onReady=function(){u.setBreakPointHandler(i.model);var e=u.getInitalFocusTarget();if(u.setFocus(e),d.call(i,p),t.hybrid){var n=function(){return i.trigger("requestCancel"),!0},r=function(){return i.trigger("requestCancel"),!0},a={isHybridBackButtonRequired:n,isCloseSelected:r},o={BACK:n,CLOSE:r,CANCEL:r};t.hybridHelper.webNativeMessenger.updateNativeNavigationBar({showHamburgerMenu:!1,showCancel:!0,showBackArrow:!0,showProfileSettings:!1,showExitConfirmationOverlay:!1,showClose:!1}),t.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(e){return o[e]&&!o[e]()}),a)}},this.tiggerSelectFileUpload=function(e){(function(e){return e&&(13===e.domEvent.keyCode||32===e.domEvent.keyCode||"click"===e.domEvent.type)})(e)&&this.invokeFileUpload()},this.deleteFileOnView=function(e){this.trigger("deleteFile",e)},this.setSupportingDocumentType=function(){i.trigger("requestDocumentType",{data:i.model.documentType})},this.validateNextStep=function(e){var n=i.model.v.isFormValid,r="#documentType",a=i.model.v.documentType&&i.model.v.documentType.errorMessage;a&&(u.isXS()&&(r="#documentTypeXS"),function(e,i){s.isInsertedPromise(e).then((function(){!i&&t.page.$(e),t.page.setFocus(e)}))}(r)),"uploadButton"===e.context.id&&i.trigger("requestUploadFile",{isFormValid:n,documentTypeErrorMessage:a}),"nextButton"===e.context.id&&function(e){var t=i.model.v,n=t.isFormValid;n?i.trigger("requestNextStep",{isFormValid:n,documentTypeErrorMessage:e}):(t&&t.firstName&&!t.firstName.isValid?u.setFocus("#firstNameField-text-validate-input-field",!0):t&&t.middleName&&!t.middleName.isValid?u.setFocus("#middleNameField-text-validate-input-field",!0):t&&t.lastName&&!t.lastName.isValid&&u.setFocus("#lastNameField-text-validate-input-field",!0),e&&i.trigger("requestNextStep",{isFormValid:n,documentTypeErrorMessage:e}))}(a)},this.invokeFileUpload=function(){t.hybrid?i.trigger("chooseFile"):(n.clearUploader(),n.getFileObject().then((function(e){var t=e.files[0];i.trigger("chooseFile",{fileObj:t})})))}}})),define("profileArea/personalDetails/customerName/template/eDocs/legalNameChangeVerify",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"containerContent",t:13},{n:"class",f:"eDocs my-profile legal-name-change verify ",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"sub-title",t:13}],f:[{t:2,r:".currentLegalNameLabel"}]}," ",{t:7,e:"div",m:[{n:"class",f:"name-display horizontal-divider",t:13}],f:[{t:2,r:".$currentLegalName"}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:7,e:"blueAlert",m:[{n:"id",f:"requestedNameAdvisory",t:13},{n:"type",f:"inverted dark",t:13},{n:"primary",f:"true",t:13},{n:"role",f:"region",t:13},{n:"icon",f:"exclamationsoft dark",t:13},{n:"title",f:[{t:2,r:".requestedNameAdvisory"}],t:13},{n:"headingLevel",f:"3",t:13},{n:"focusOnRender",f:"true",t:13},{n:"isAnimate",f:"false",t:13},{n:"accessibleTextIcon",f:[{t:2,r:"~/warningAda"}],t:13}]}," ",{t:7,e:"div",m:[{n:"class",f:"name-display new-name-display",t:13}],f:[{t:2,r:".newCustomerName"}]}," ",{t:7,e:"p",f:[{t:2,r:".completeFormW9Advisory"}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:4,n:53,f:[{t:8,r:"navigationButtons"}],x:{r:["$isXS",".nextLabel",".backLabel",".cancelLabel","$isHybrid"],s:'{classes:"button-container",isXS:_0,primaryLabel:_1,primaryButtonId:"nextButton",primaryButtonAction:"requestNextStep",secondaryButtonId:"backButton",secondaryLabel:_2,secondaryButtonAction:["requestPreviousStep"],tertiaryButtonId:"cancelButton",tertiaryButtonLabel:_3,tertiaryButtonAction:["requestCancel"],showSecondaryButton:_4?false:true,showTertiaryButton:_4?false:true}'}}]}]}]}]}],e:{}}})),define("bluespec/legal_name_change_verify",[],(function(){return{name:"LEGAL_NAME_CHANGE_VERIFY",data:{newCustomerName:{type:"Description"}},actions:{requestCancel:!0,requestPreviousStep:!0,requestNextStep:!0},states:{exitConfirmationOverlay:!0},settings:{currentLegalNameLabel:!0,requestedNameAdvisory:!0,completeFormW9Advisory:!0}}})),define("profileArea/personalDetails/customerName/view/eDocs/legalNameChangeVerify",["require","common/lib/viewHelper/viewMixins","profileArea/sharedLib/viewUtil","appkit-utilities/view/webSpecUtil","profileArea/personalDetails/customerName/template/eDocs/legalNameChangeVerify","profileArea/personalDetails/customerName/template/eDocs/partials/navigationButtons","blue-ui/view/elements/button","blue-ui/view/elements/alert","bluespec/legal_name_change_verify","profileArea/personalDetails/customerName/template/eDocs/legalNameChangeVerify"],(function(e){"use strict";return function(t){var i,n=e("common/lib/viewHelper/viewMixins"),r=e("profileArea/sharedLib/viewUtil")(t),a=e("appkit-utilities/view/webSpecUtil");this.areaName="profile",this.viewName="legalNameChangeVerifyView",this.partials={formW9:e("profileArea/personalDetails/customerName/template/eDocs/legalNameChangeVerify"),navigationButtons:e("profileArea/personalDetails/customerName/template/eDocs/partials/navigationButtons")},this.views={blueButton:e("blue-ui/view/elements/button"),blueAlert:e("blue-ui/view/elements/alert")},this.model={areaName:"profile",$focusSelector:"",$isHybrid:r.isHybridMode(),$isXS:r.isXS()},this.onInit=function(){i=this,t.logger.info("legalNameChangeVerify View onInit"),n.applyTriggerBuilderMixin(i),i.triggerBuilder.addFormFieldTrackingTrigger(),i.bridge=a.createWebSpec(e("bluespec/legal_name_change_verify"),{stopPropagation:!1,preventDefault:!1,dataBindings:{both:["$focusSelector"],upstream:[]},triggers:i.triggerBuilder.getTriggers()}),i.template=e("profileArea/personalDetails/customerName/template/eDocs/legalNameChangeVerify")},this.onData("$focusSelector",(function(e){e&&r.setFocus(e,!0)})),this.onDestroy=function(){r.removeBreakPointHandler()},this.onReady=function(){r.setBreakPointHandler(i.model);var e=r.getInitalFocusTarget();if(r.setFocus(e),t.hybrid){var n=function(){return i.trigger("requestPreviousStep"),!0},a=function(){return i.trigger("requestCancel"),!0},o={isHybridBackButtonRequired:n,isCloseSelected:a},s={BACK:n,CLOSE:a,CANCEL:a};t.hybridHelper.webNativeMessenger.updateNativeNavigationBar({showHamburgerMenu:!1,showCancel:!0,showBackArrow:!0,showProfileSettings:!1,showExitConfirmationOverlay:!1,showClose:!1}),t.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(e){return s[e]&&!s[e]()}),o)}}}})),define("profileArea/personalDetails/customerName/template/eDocs/partials/personalDetails",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:7,e:"h2",m:[{n:"class",f:"H3R",t:13}],f:[{t:2,r:".personalDetailsHeader"}]}," ",{t:7,e:"form",m:[{n:"id",f:"legalNameChangeFormW9",t:13}],f:[{t:7,e:"blueFieldGroup",m:[{n:"id",f:"businessNameField",t:13},{n:"label",f:[{t:2,r:".businessNameLabel"}],t:13},{n:"classes",f:"",t:13},{n:"labelColumns",f:"col-sm-4",t:13},{n:"inputColumns",f:"col-sm-5",t:13},{n:"groupType",f:"validationInput horizontal",t:13},{n:"inputValue",f:[{t:2,r:".businessName"}],t:13},{n:"initErrorBubble",f:"true",t:13},{n:"tooltip",f:[{t:2,x:{r:[".businessNameHelpMessage",".$businessNameOpenAda",".beginHelpMessageAda",".$businessNameCloseAda",".endHelpMessageAda"],s:'{content:_0,adaOpenText:_1,adaBeginText:_2,adaCloseText:_3,adaEndText:_4,rClick:"requestBusinessNameHelpMessage",rCloseIconClick:"exitBusinessNameHelpMessage",rCloseIconKeydown:"exitBusinessNameHelpMessage"}'}}],t:13},{n:"validationInput",f:["{ 'id': 'businessName', 'name': 'businessName', 'type': 'text', 'rFocus': ['formFieldTracking'], 'rChange': ['validateField', 'formFieldTracking'], 'rBlur': ['validateField'], 'labelErrorPrefix': ",{t:2,r:".errorAnnouncementAda",s:!0},", 'errorMessage': ",{t:2,r:"v.businessName.errorMessage"},", 'minLength': '2', 'maxLength': '26', 'required': false }"],t:13}]}," ",{t:7,e:"blueFieldGroup",m:[{n:"id",f:"mailingAddressLineOneId",t:13},{n:"label",f:[{t:2,r:".mailingAddressLineOneLabel"}],t:13},{n:"classes",f:"",t:13},{n:"labelColumns",f:"col-sm-4",t:13},{n:"inputColumns",f:"col-sm-5",t:13},{n:"groupType",f:"validationInput horizontal",t:13},{n:"inputValue",f:[{t:2,r:".mailingAddressLineOne"}],t:13},{n:"initErrorBubble",f:"true",t:13},{n:"tooltip",f:[{t:2,x:{r:[".mailingAddressHelpMessage",".$addressOpenAda",".beginHelpMessageAda",".$addressCloseAda",".endHelpMessageAda"],s:'{content:_0,adaOpenText:_1,adaBeginText:_2,adaCloseText:_3,adaEndText:_4,rClick:"requestMailingAddressHelpMessage",rCloseIconClick:"exitMailingAddressHelpMessage",rCloseIconKeydown:"exitMailingAddressHelpMessage"}'}}],t:13},{n:"validationInput",f:["{ 'id': 'mailingAddressLineOne', 'name': 'mailingAddressLineOne', 'type': 'text', 'rBlur': 'validateField', 'rChange': ['validateField', 'formFieldTracking'], 'labelErrorPrefix': ",{t:2,r:".errorAnnouncementAda",s:!0},", 'errorMessage': ",{t:2,r:"v.mailingAddressLineOne.errorMessage"},", 'minLength': '2', 'maxLength': '40', 'required': true }"],t:13}]}," ",{t:7,e:"blueFieldGroup",m:[{n:"id",f:"mailingAddressLineTwoId",t:13},{n:"label",f:[{t:2,r:".mailingAddressLineTwoLabel"}],t:13},{n:"classes",f:"",t:13},{n:"labelColumns",f:"col-sm-4",t:13},{n:"inputColumns",f:"col-sm-5",t:13},{n:"groupType",f:"validationInput horizontal",t:13},{n:"inputValue",f:[{t:2,r:".mailingAddressLineTwo"}],t:13},{n:"initErrorBubble",f:"true",t:13},{n:"validationInput",f:["{ 'id': 'mailingAddressLineTwo', 'name': 'mailingAddressLineTwo', 'type': 'text', 'rBlur': 'validateField', 'rChange': ['validateField', 'formFieldTracking'], 'labelErrorPrefix': ",{t:2,r:".errorAnnouncementAda",s:!0},", 'errorMessage': ",{t:2,r:"v.mailingAddressLineTwo.errorMessage"},", 'minLength': '2', 'maxLength': '40', 'required': false }"],t:13}]}," ",{t:7,e:"blueFieldGroup",m:[{n:"id",f:"mailingAddressLineThreeId",t:13},{n:"label",f:[{t:2,r:".mailingAddressLineThreeLabel"}],t:13},{n:"classes",f:"",t:13},{n:"labelColumns",f:"col-sm-4",t:13},{n:"inputColumns",f:"col-sm-5",t:13},{n:"groupType",f:"validationInput horizontal",t:13},{n:"inputValue",f:[{t:2,r:".mailingAddressLineThree"}],t:13},{n:"initErrorBubble",f:"true",t:13},{n:"validationInput",f:["{ 'id': 'mailingAddressLineThree', 'name': 'mailingAddressLineThree', 'type': 'text', 'rBlur': 'validateField', 'rChange': ['validateField', 'formFieldTracking'], 'labelErrorPrefix': ",{t:2,r:".errorAnnouncementAda",s:!0},", 'errorMessage': ",{t:2,r:"v.mailingAddressLineThree.errorMessage"},", 'minLength': '2', 'maxLength': '40', 'required': false }"],t:13}]}," ",{t:7,e:"blueFieldGroup",m:[{n:"id",f:"cityId",t:13},{n:"label",f:[{t:2,r:".cityLabel"}],t:13},{n:"classes",f:"",t:13},{n:"labelColumns",f:"col-sm-4",t:13},{n:"inputColumns",f:"col-sm-5",t:13},{n:"groupType",f:"validationInput horizontal",t:13},{n:"inputValue",f:[{t:2,r:".cityName"}],t:13},{n:"initErrorBubble",f:"true",t:13},{n:"validationInput",f:["{ 'id': 'cityName', 'name': 'cityName', 'type': 'text', 'rBlur': 'validateField', 'rChange': ['validateField', 'formFieldTracking'], 'labelErrorPrefix': ",{t:2,r:".errorAnnouncementAda",s:!0},", 'errorMessage': ",{t:2,r:"v.cityName.errorMessage"},", 'minLength': '2', 'maxLength': '32', 'required': true }"],t:13}]}," ",{t:7,e:"blueFieldGroup",m:[{n:"id",f:"stateField",t:13},{n:"labelColumns",f:"col-sm-4",t:13},{n:"inputColumns",f:"col-sm-5",t:13},{n:"groupType",f:"validationStyledSelect horizontal",t:13},{n:"label",f:[{t:2,r:".stateLabel"}],t:13},{n:"labelState",f:[{t:4,f:["error"],n:50,r:"v.stateId.errorMessage"}],t:13},{n:"labelHAT",f:[{t:4,f:[{t:2,r:"v.stateId.errorMessage"}],n:50,r:"v.stateId.errorMessage"}],t:13},{n:"styledSelectValue",f:[{t:2,r:".stateId"}],t:13},{n:"initErrorBubble",f:"true",t:13},{n:"validationStyledSelect",f:["{ name: 'stateId', classicResponsive: true, hatErrorPrefix: ",{t:2,r:".errorAnnouncementAda",s:!0},", classicShow: ",{t:2,r:"~/isMobile"},", labelKey: 'stateName', valueKey: 'stateId', placeholder: ' ', options: ",{t:2,r:".$states"},", rBlur: ['formFieldTracking', 'validateField'], rSelectChange: ['formFieldTracking', 'validateField'], bottomEdgeDetection: false, errorMessage: ",{t:2,r:"v.stateId.errorMessage"},", aria: { buttonLabel: ",{t:2,r:".stateLabel"},", selected: ",{t:2,r:".currentSelectionAda",s:!0},", bottomOfMenu: ",{t:2,r:".endOfSelectionAda",s:!0},", describedByButton: ",{t:2,r:"v.stateId.errorMessage"},", buttonLabelErrorText: ",{t:2,r:".errorAnnouncementAda",s:!0}," }, isRequired: true }"],t:13}]}," ",{t:7,e:"blueFieldGroup",m:[{n:"id",f:"zipCodeId",t:13},{n:"label",f:[{t:2,r:".zipCodeLabel"}],t:13},{n:"classes",f:"",t:13},{n:"labelColumns",f:"col-sm-4",t:13},{n:"inputColumns",f:"col-sm-5",t:13},{n:"groupType",f:"validationInput horizontal",t:13},{n:"inputValue",f:[{t:2,r:".zipCode"}],t:13},{n:"initErrorBubble",f:"true",t:13},{n:"validationInput",f:["{ 'id': 'zipCode', 'name': 'zipCode', 'type': 'text', 'rBlur': 'validateField', 'rChange': ['validateField', 'formFieldTracking'], 'labelErrorPrefix': ",{t:2,r:".errorAnnouncementAda",s:!0},", 'errorMessage': ",{t:2,r:"v.zipCode.errorMessage"},", 'minLength': '2', 'maxLength': '5', 'required': true }"],t:13}]}," ",{t:7,e:"h2",m:[{n:"class",f:"H3R",t:13}],f:[{t:2,r:".exemptionsHeader"}]}," ",{t:7,e:"div",m:[{n:"class",f:"jpui fieldgroup custom",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"horizontal row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"align-label-input",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"label-wrapper col-sm-4",t:13}],f:[{t:7,e:"blueFieldlabel",m:[{n:"id",f:"payeeCodeField-label",t:13},{n:"label",f:[{t:2,r:".payeeCodeLabel",s:!0}],t:13},{n:"labelPosition",f:"horizontal",t:13},{n:"inputId",f:"payeeCodeField-styledselect",t:13}]}," ",{t:7,e:"div",m:[{n:"class",f:"jpui tooltip",t:13}],f:[{t:7,e:"blueIconaction",m:[{n:"id",f:"payeeCodeField-iconwrap",t:13},{n:"classes",f:"tooltip trigger",t:13},{n:"type",f:"util cursor info-color",t:13},{n:"adatext",f:[{t:2,r:".$payeeCodeOpenAda"}],t:13},{n:"rClick",f:"requestPayeeCodeHelpMessageOnView",t:13}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"col-sm-5",t:13}],f:[{t:7,e:"blueValidationstyledselect",m:[{n:"id",f:"payeeCodeField-styledselect",t:13},{n:"name",f:"payeeCode",t:13},{n:"value",f:[{t:2,r:".payeeCode"}],t:13},{n:"classicResponsive",f:"true",t:13},{n:"labelErrorPrefix",f:[{t:2,r:".errorAnnouncementAda",s:!0}],t:13},{n:"classicShow",f:[{t:2,r:"~/isMobile"}],t:13},{n:"labelKey",f:"payeeCodeName",t:13},{n:"valueKey",f:"payeeCode",t:13},{n:"placeholder",f:[{t:2,r:".$chooseCodePlaceholder",s:!0}],t:13},{n:"options",f:[{t:2,r:".$payeeCodes"}],t:13},{n:"rBlur",f:"['formFieldTracking', 'validateField']",t:13},{n:"rSelectChange",f:"['formFieldTracking', 'validateField']",t:13},{n:"bottomEdgeDetection",f:"true",t:13},{n:"aria",f:["{ buttonLabel: ",{t:2,r:".payeeCodeLabel",s:!0},", selected: ",{t:2,r:".currentSelectionAda",s:!0},", bottomOfMenu: ",{t:2,r:".endOfSelectionAda",s:!0}," }"],t:13}]}]}]}]}]}," ",{t:7,e:"mds-dialog",m:[{n:"id",f:"payeeCodeField-overlay",t:13},{n:"dialog-height",f:[{t:4,f:["320"],r:"$isXS"},{t:4,n:51,f:["600"],l:1}],t:13},{n:"dialog-width",f:[{t:4,f:["460"],r:"$isXS"},{t:4,n:51,f:["800"],l:1}],t:13},{n:"header-text",f:[{t:2,r:"./payeeCodeHelpMessageHeader",s:!0}],t:13},{n:"trigger-id",f:"payeeCodeField-iconwrap",t:13},{n:"primary-button-text",f:[{t:2,r:"~/closeLabel"}],t:13},{n:"hide-header",f:[{t:2,r:"~/$isHybrid"}],t:13},{n:"open",f:[{t:2,r:".showPayeeCodeFieldOverlay"}],t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"dialogContent",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"payeeCodeField-dialogContent",t:13}],f:[{t:3,x:{r:["sanitizer","./payeeCodeHelpMessage"],s:"_0.sanitizeHTML(_1)"}}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"jpui fieldgroup custom",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"horizontal row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"align-label-input",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"label-wrapper col-sm-4",t:13}],f:[{t:7,e:"blueFieldlabel",m:[{n:"id",f:"reportingCodeField-label",t:13},{n:"label",f:[{t:2,r:".reportingCodeLabel",s:!0}],t:13},{n:"labelPosition",f:"horizontal",t:13},{n:"inputId",f:"reportingCodeField-styledselect",t:13}]}," ",{t:7,e:"div",m:[{n:"class",f:"jpui tooltip",t:13}],f:[{t:7,e:"blueIconaction",m:[{n:"id",f:"reportingCodeField-iconwrap",t:13},{n:"classes",f:"tooltip trigger",t:13},{n:"type",f:"util cursor info-color",t:13},{n:"adatext",f:[{t:2,r:".$reportingCodeOpenAda"}],t:13},{n:"rClick",f:"requestReportCodeHelpMessageOnView",t:13}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"col-sm-5",t:13}],f:[{t:7,e:"blueValidationstyledselect",m:[{n:"id",f:"reportingCodeField-styledselect",t:13},{n:"name",f:"reportingCode",t:13},{n:"value",f:[{t:2,r:".reportingCode"}],t:13},{n:"classicResponsive",f:"true",t:13},{n:"labelErrorPrefix",f:[{t:2,r:".errorAnnouncementAda",s:!0}],t:13},{n:"classicShow",f:[{t:2,r:"~/isMobile"}],t:13},{n:"labelKey",f:"reportingCodeName",t:13},{n:"valueKey",f:"reportingCode",t:13},{n:"placeholder",f:[{t:2,r:".$chooseCodePlaceholder",s:!0}],t:13},{n:"options",f:[{t:2,r:".$reportingCodes"}],t:13},{n:"rBlur",f:"['formFieldTracking', 'validateField']",t:13},{n:"rSelectChange",f:"['formFieldTracking', 'validateField']",t:13},{n:"bottomEdgeDetection",f:"true",t:13},{n:"aria",f:["{ buttonLabel: ",{t:2,r:".reportingCodeLabel",s:!0},", selected: ",{t:2,r:".currentSelectionAda",s:!0},", bottomOfMenu: ",{t:2,r:".endOfSelectionAda",s:!0}," }"],t:13}]}]}]}]}]}," ",{t:7,e:"mds-dialog",m:[{n:"id",f:"reportingCodeField-overlay",t:13},{n:"dialog-height",f:[{t:4,f:["320"],r:"$isXS"},{t:4,n:51,f:["600"],l:1}],t:13},{n:"dialog-width",f:[{t:4,f:["460"],r:"$isXS"},{t:4,n:51,f:["760"],l:1}],t:13},{n:"header-text",f:[{t:2,r:"./reportingCodeHelpMessageHeader",s:!0}],t:13},{n:"trigger-id",f:"reportingCodeField-iconwrap",t:13},{n:"primary-button-text",f:[{t:2,r:"~/closeLabel"}],t:13},{n:"hide-header",f:[{t:2,r:"~/$isHybrid"}],t:13},{n:"open",f:[{t:2,r:".showReportingCodeFieldOverlay"}],t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"dialogContent",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"reportingCodeField-dialogContent",t:13}],f:[{t:3,x:{r:["sanitizer","./reportingCodeHelpMessage"],s:"_0.sanitizeHTML(_1)"}}]}]}]}]}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:4,n:53,f:[{t:8,r:"navigationButtons"}],x:{r:["$isXS",".saveLabel",".cancelLabel"],s:'{classes:"button-container",isXS:_0,primaryLabel:_1,primaryButtonId:"saveButton",primaryButtonAction:["validateForm","nextStep"],secondaryButtonId:"editCancelButton",secondaryLabel:_2,secondaryButtonAction:["cancelStep"],showSecondaryButton:true,showTertiaryButton:false}'}}]}]}],n:50,x:{r:[".$currentStep"],s:'_0==="personalDetailReview"'}}],e:{}}})),define("bluespec/legal_name_change_form_w_nine",[],(function(){return{name:"LEGAL_NAME_CHANGE_FORM_W_NINE",data:{newCustomerName:{type:"Description"},businessName:{type:"Description"},mailingAddressLineOne:{type:"Description"},mailingAddressLineTwo:{type:"Description"},mailingAddressLineThree:{type:"Description"},cityName:{type:"Description"},stateId:{type:"Description"},zipCode:{type:"Description"},payeeCode:{type:"Description"},reportingCode:{type:"Description"}},actions:{requestCancel:!0,requestPreviousStep:!0,requestNextStep:!0,requestBusinessNameHelpMessage:!0,exitBusinessNameHelpMessage:!0,requestMailingAddressHelpMessage:!0,exitMailingAddressHelpMessage:!0,requestPayeeCodeHelpMessage:!0,exitPayeeCodeHelpMessage:!0,requestReportingCodeHelpMessage:!0,exitReportingCodeHelpMessage:!0,confirmPersonalDetails:!0,requestIrsWebsite:!0},states:{exitConfirmationOverlay:!0},settings:{requestedNameAdvisory:!0,formWNineHeader:!0,formWNineAdvisory:!0,personalDetailsHeader:!0,businessNameLabel:!0,businessNameError:!0,mailingAddressLineOneLabel:!0,mailingAddressLineOneError:!0,mailingAddressLineTwoLabel:!0,mailingAddressLineTwoError:!0,mailingAddressLineThreeLabel:!0,mailingAddressLineThreeError:!0,cityLabel:!0,cityNameError:!0,stateLabel:!0,stateIdError:!0,zipCodeLabel:!0,zipCodeError:!0,exemptionsHeader:!0,payeeCodeLabel:!0,payeeCodeError:!0,reportingCodeLabel:!0,reportingCodeError:!0,businessNameHelpMessage:!0,mailingAddressHelpMessage:!0,payeeCodeHelpMessage:!0,payeeCodeHelpMessageHeader:!0,reportingCodeHelpMessage:!0,reportingCodeHelpMessageHeader:!0,chooseCodeLabel:!0,opensDialogAda:!0,exitHelpMessageAda:!0}}})),define("profileArea/personalDetails/customerName/template/eDocs/legalNameChangeFormW9",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"containerContent",t:13},{n:"class",f:"eDocs my-profile legal-name-change formW9",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"sub-title",t:13}],f:[{t:2,r:".requestedNameAdvisory"}]}," ",{t:7,e:"div",m:[{n:"class",f:"name-display horizontal-divider",t:13}],f:[{t:2,r:".newCustomerName"}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13},{n:"click",f:"triggerContentLink",t:70}],f:[{t:7,e:"h2",m:[{n:"class",f:"sub-title2 form-w9",t:13}],f:[{t:2,r:".formWNineHeader"}]}," ",{t:7,e:"p",m:[{n:"class",f:"name-display",t:13}],f:[{t:3,x:{r:["~/sanitizer",".formWNineAdvisory"],s:"_0.sanitizeHTML(_1)"}}]}]}]}],n:50,x:{r:[".$currentStep"],s:'_0==="formW9"'}},{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:8,r:"personalDetails"}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:4,n:53,f:[{t:8,r:"navigationButtons"}],x:{r:["$isXS",".nextLabel",".backLabel",".cancelLabel","$isHybrid"],s:'{classes:"button-container",isXS:_0,primaryLabel:_1,primaryButtonId:"nextButton",primaryButtonAction:["validateForm","nextStep"],secondaryButtonId:"backButton",secondaryLabel:_2,secondaryButtonAction:["requestPreviousStep"],tertiaryButtonId:"cancelButton",tertiaryButtonLabel:_3,tertiaryButtonAction:["cancelStep"],showSecondaryButton:_4?false:true,showTertiaryButton:_4?false:true}'}}]}]}],n:50,x:{r:[".$currentStep"],s:'_0==="formW9"'}}]}],e:{}}})),define("profileArea/personalDetails/customerName/view/eDocs/legalNameChangeFormW9",["require","common/lib/viewHelper/viewMixins","appkit-utilities/validation/trigger","appkit-utilities/view/validationSubmitAda","profileArea/sharedLib/viewUtil","blue-ui/utilities/common","appkit-utilities/view/webSpecUtil","profileArea/personalDetails/customerName/template/eDocs/partials/personalDetails","profileArea/personalDetails/customerName/template/eDocs/partials/navigationButtons","blue-ui/view/elements/button","blue-ui/view/collections/fieldgroup","blue-ui/view/elements/fieldlabel","blue-ui/view/elements/iconaction","blue-ui/view/modules/modal","blue-ui/view/modules/validationstyledselect","bluespec/legal_name_change_form_w_nine","profileArea/personalDetails/customerName/template/eDocs/legalNameChangeFormW9"],(function(e){"use strict";return function(t){var i,n=e("common/lib/viewHelper/viewMixins"),r=e("appkit-utilities/validation/trigger"),a=e("appkit-utilities/view/validationSubmitAda"),o=e("profileArea/sharedLib/viewUtil")(t),s=e("blue-ui/utilities/common"),c=e("appkit-utilities/view/webSpecUtil"),l={submitButtonId:"nextButton",formId:"legalNameChangeFormW9"};function d(e,i){var n=Object.assign({},{showHamburgerMenu:!1,showCancel:!0,showBackArrow:!0,showProfileSettings:!1,showExitConfirmationOverlay:!1,showClose:!1});i&&(n=Object.assign(n,{showCancel:!1,showBackArrow:!1})),e&&(n.pageTitle=e),t.hybrid&&t.hybridHelper.webNativeMessenger.updateNativeNavigationBar(n)}this.areaName="profile",this.viewName="legalNameChangeFormW9View",this.partials={personalDetails:e("profileArea/personalDetails/customerName/template/eDocs/partials/personalDetails"),navigationButtons:e("profileArea/personalDetails/customerName/template/eDocs/partials/navigationButtons")},this.views={blueButton:e("blue-ui/view/elements/button"),blueFieldGroup:e("blue-ui/view/collections/fieldgroup"),blueFieldlabel:e("blue-ui/view/elements/fieldlabel"),blueIconaction:e("blue-ui/view/elements/iconaction"),blueModal:e("blue-ui/view/modules/modal"),blueValidationstyledselect:e("blue-ui/view/modules/validationstyledselect")},this.model={areaName:"profile",showReportingCodeFieldOverlay:!1,showPayeeCodeFieldOverlay:!1,$focusSelector:"",$isXS:o.isXS(),$isHybrid:o.isHybridMode()},this.onInit=function(){i=this,t.logger.info("legalNameChangeVerify View onInit"),n.applyTriggerBuilderMixin(i),i.triggerBuilder.addFormFieldTrackingTrigger().addTriggers(r).addTriggers({nextStep:{action:"view.nextStep"},cancelStep:{action:"view.cancelStep"},requestReportCodeHelpMessageOnView:{action:"view.requestReportCodeHelpMessage"},exitReportCodeHelpMessageOnView:{action:"view.exitReportCodeHelpMessage"},requestPayeeCodeHelpMessageOnView:{action:"view.requestPayeeCodeHelpMessage"},exitPayeeCodeHelpMessageOnView:{action:"view.exitPayeeCodeHelpMessage"},triggerContentLink:{action:"triggerContentLink"}}),i.bridge=c.createWebSpec(e("bluespec/legal_name_change_form_w_nine"),{stopPropagation:!1,preventDefault:!1,dataBindings:{both:["$states","$focusSelector","$chooseCodePlaceholder","$businessNameOpenAda","$businessNameCloseAda","$addressOpenAda","$addressClosenAda","$pageTitle","$payeeCodeOpenAda","$payeeCodeClosenAda","$reportingCodeOpenAda","$reportingCodeClosenAda","$payeeCodes","$reportingCodes","$currentStep","newCustomerName","businessName","mailingAddressLineOne","mailingAddressLineTwo","mailingAddressLineThree","cityName","stateId","zipCode","payeeCode","reportingCode"],upstream:[]},triggers:i.triggerBuilder.getTriggers()}),i.template=e("profileArea/personalDetails/customerName/template/eDocs/legalNameChangeFormW9")},this.onData("$chooseCodePlaceholder",(function(){(t.hybrid||s.isMobile())&&(i.model.$chooseCodePlaceholder="")})),this.onData("$focusSelector",(function(e){e&&o.setFocus(e,!0)})),this.onDestroy=function(){o.removeBreakPointHandler();const e=document.querySelector("#payeeCodeField-overlay"),t=document.querySelector("#reportingCodeField-overlay");e&&e.removeEventListener("click-button1",i.exitPayeeCodeHelpMessage),t&&t.removeEventListener("click-button1",i.exitReportCodeHelpMessage)},this.onReady=function(){o.setBreakPointHandler(i.model);var e=o.getInitalFocusTarget();if(o.setFocus(e),a.call(i,l),t.hybrid){var n=function(){return i.trigger("requestPreviousStep"),!0},r=function(){return i.trigger("requestCancel"),!0},s={isHybridBackButtonRequired:n,isCloseSelected:r},c={BACK:n,CLOSE:r,CANCEL:r};t.hybridHelper.webNativeMessenger.updateNativeNavigationBar({showHamburgerMenu:!1,showCancel:!0,showBackArrow:!0,showProfileSettings:!1,showExitConfirmationOverlay:!1,showClose:!1}),t.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(e){return c[e]&&!c[e]()}),s)}const d=document.querySelector("#payeeCodeField-overlay"),u=document.querySelector("#reportingCodeField-overlay");d&&d.addEventListener("click-button1",i.exitPayeeCodeHelpMessage),u&&u.addEventListener("click-button1",i.exitReportCodeHelpMessage)},this.cancelStep=function(e){i.trigger("requestCancel",{isEditMode:"editCancelButton"===e.context.id}),"editCancelButton"===e.context.id&&o.setFocus("#editPersonalDetailsLink")},this.nextStep=function(e){var t=i.model.v.isFormValid;"nextButton"===e.context.id&&i.trigger("requestNextStep",{isFormValid:t}),"saveButton"===e.context.id&&(i.trigger("confirmPersonalDetails",{isFormValid:t}),t&&o.setFocus("#editPersonalDetailsLink"))},this.requestReportCodeHelpMessage=function(){i.model.showReportingCodeFieldOverlay=!1,i.model.showReportingCodeFieldOverlay=!0,i.trigger("requestReportingCodeHelpMessage"),d(i.model.reportingCodeHelpMessageHeader,!0)},this.exitReportCodeHelpMessage=function(){i.model.showReportingCodeFieldOverlay=!1,i.trigger("exitReportingCodeHelpMessage"),d(i.model.$pageTitle,!1)},this.requestPayeeCodeHelpMessage=function(){i.model.showPayeeCodeFieldOverlay=!1,i.model.showPayeeCodeFieldOverlay=!0,i.trigger("requestPayeeCodeHelpMessage"),d(i.model.payeeCodeHelpMessageHeader,!0)},this.exitPayeeCodeHelpMessage=function(){i.model.showPayeeCodeFieldOverlay=!1,i.trigger("exitPayeeCodeHelpMessage"),d(i.model.$pageTitle,!1)}}})),define("profileArea/personalDetails/customerName/template/eDocs/partials/classification",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:7,e:"h2",m:[{n:"id",f:"classification-header",t:13},{n:"class",f:"H3R",t:13}],f:[{t:2,r:".classificationHeader"}]}," ",{t:4,f:[{t:7,e:"blueAlert",m:[{n:"id",f:"classificationError",t:13},{n:"type",f:"inverted error",t:13},{n:"primary",f:"true",t:13},{n:"role",f:"region",t:13},{n:"icon",f:"exclamation-color error",t:13},{n:"title",f:[{t:2,r:".v.classification.errorMessage"}],t:13},{n:"accessibleTextIcon",f:[{t:2,r:".warningAda"}],t:13},{n:"focusOnRender",f:[{t:2,r:".allowFocusOnRender"}],t:13},{n:"focusOnRenderOffset",f:[{t:4,f:["200"],r:".allowFocusOnRender"}],t:13}]}],x:{r:[".v.classification.errorMessage",".renderErrorClassification"],s:"_0&&_1"}}," ",{t:7,e:"blueRadiobutton",m:[{n:"id",f:"classification-0",t:13},{n:"value",f:"INDIVIDUAL",t:13},{n:"groupName",f:"classification",t:13},{n:"checkedBinding",f:[{t:2,r:".classification"}],t:13},{n:"classes",f:"",t:13},{n:"label",f:[{t:2,r:".individualLabel"}],t:13},{n:"rFocus",f:"['formFieldTracking']",t:13},{n:"rChange",f:"['formFieldTracking', 'chooseClassification']",t:13},{n:"accessibleText",f:[{t:2,r:".classificationHeader"},", ",{t:2,r:".individualLabel"}],t:13},{n:"error",f:[{t:2,r:".v.classification.errorMessage"}],t:13},{n:"ariaDescribedby",f:"classification-header",t:13},{n:"required",f:"true",t:13},{n:"rBlur",f:"['validateField', 'disableFocusOnRender']",t:13}]}," ",{t:7,e:"blueRadiobutton",m:[{n:"id",f:"classification-1",t:13},{n:"value",f:"C_CORPORATION",t:13},{n:"groupName",f:"classification",t:13},{n:"checkedBinding",f:[{t:2,r:".classification"}],t:13},{n:"classes",f:"",t:13},{n:"label",f:[{t:2,r:".ccorporationLabel"}],t:13},{n:"rFocus",f:"['formFieldTracking']",t:13},{n:"rChange",f:"['formFieldTracking', 'chooseClassification']",t:13},{n:"error",f:[{t:2,r:".v.classification.errorMessage"}],t:13},{n:"accessibleText",f:[{t:2,r:".classificationHeader"},", ",{t:2,r:".ccorporationLabel"}],t:13},{n:"ariaDescribedby",f:"classification-header",t:13},{n:"required",f:"true",t:13},{n:"rBlur",f:"['validateField', 'disableFocusOnRender']",t:13}]}," ",{t:7,e:"blueRadiobutton",m:[{n:"id",f:"classification-2",t:13},{n:"value",f:"S_CORPORATION",t:13},{n:"groupName",f:"classification",t:13},{n:"checkedBinding",f:[{t:2,r:".classification"}],t:13},{n:"classes",f:"",t:13},{n:"label",f:[{t:2,r:".scorporationLabel"}],t:13},{n:"rFocus",f:"['formFieldTracking']",t:13},{n:"rChange",f:"['formFieldTracking', 'chooseClassification']",t:13},{n:"error",f:[{t:2,r:".v.classification.errorMessage"}],t:13},{n:"accessibleText",f:[{t:2,r:".classificationHeader"},", ",{t:2,r:".scorporationLabel"}],t:13},{n:"ariaDescribedby",f:"classification-header",t:13},{n:"required",f:"true",t:13},{n:"rBlur",f:"['validateField', 'disableFocusOnRender']",t:13}]}," ",{t:7,e:"blueRadiobutton",m:[{n:"id",f:"classification-3",t:13},{n:"value",f:"US_PARTNERSHIP",t:13},{n:"groupName",f:"classification",t:13},{n:"checkedBinding",f:[{t:2,r:".classification"}],t:13},{n:"classes",f:"",t:13},{n:"label",f:[{t:2,r:".usPartnershipLabel"}],t:13},{n:"rFocus",f:"['formFieldTracking']",t:13},{n:"rChange",f:"['formFieldTracking', 'chooseClassification']",t:13},{n:"error",f:[{t:2,r:".v.classification.errorMessage"}],t:13},{n:"accessibleText",f:[{t:2,r:".classificationHeader"},", ",{t:2,r:".usPartnershipLabel"}],t:13},{n:"ariaDescribedby",f:"classification-header",t:13},{n:"required",f:"true",t:13},{n:"rBlur",f:"['validateField', 'disableFocusOnRender']",t:13}]}," ",{t:7,e:"blueRadiobutton",m:[{n:"id",f:"classification-4",t:13},{n:"value",f:"TRUST",t:13},{n:"groupName",f:"classification",t:13},{n:"checkedBinding",f:[{t:2,r:".classification"}],t:13},{n:"classes",f:"",t:13},{n:"label",f:[{t:2,r:".trustLabel"}],t:13},{n:"rFocus",f:"['formFieldTracking']",t:13},{n:"rChange",f:"['formFieldTracking', 'chooseClassification']",t:13},{n:"error",f:[{t:2,r:".v.classification.errorMessage"}],t:13},{n:"accessibleText",f:[{t:2,r:".classificationHeader"},", ",{t:2,r:".trustLabel"}],t:13},{n:"ariaDescribedby",f:"classification-header",t:13},{n:"required",f:"true",t:13},{n:"rBlur",f:"['validateField', 'disableFocusOnRender']",t:13}]}," ",{t:7,e:"blueRadiobutton",m:[{n:"id",f:"classification-5",t:13},{n:"value",f:[{t:2,r:".limitedLiabilityCompanyLabel"}],t:13},{n:"groupName",f:"classification",t:13},{n:"checkedBinding",f:[{t:2,r:".classification"}],t:13},{n:"classes",f:"",t:13},{n:"label",f:[{t:2,r:".limitedLiabilityCompanyLabel"}],t:13},{n:"rFocus",f:"['formFieldTracking']",t:13},{n:"rChange",f:"['formFieldTracking', 'chooseClassification']",t:13},{n:"error",f:[{t:2,r:".v.classification.errorMessage"}],t:13},{n:"accessibleText",f:[{t:2,r:".classificationHeader"},", ",{t:2,r:".limitedLiabilityCompanyLabel"}],t:13},{n:"ariaDescribedby",f:"classification-header",t:13},{n:"required",f:"true",t:13},{n:"rBlur",f:"['validateField', 'disableFocusOnRender']",t:13}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"llc-subgroup",t:13}],f:[{t:4,f:[{t:7,e:"blueAlert",m:[{n:"id",f:"limitedLiabilityCompanyError",t:13},{n:"type",f:"inverted error",t:13},{n:"primary",f:"true",t:13},{n:"role",f:"region",t:13},{n:"icon",f:"exclamation-color error",t:13},{n:"title",f:[{t:2,r:".v.limitedLiabilityCompanyType.errorMessage"}],t:13},{n:"accessibleTextIcon",f:[{t:2,r:".warningAda"}],t:13}]}],r:".v.limitedLiabilityCompanyType.errorMessage"}," ",{t:7,e:"blueRadiobutton",m:[{n:"id",f:"llc-1",t:13},{n:"value",f:"LLC_C_CORPORATION",t:13},{n:"groupName",f:"llc",t:13},{n:"checkedBinding",f:[{t:2,r:".limitedLiabilityCompanyType"}],t:13},{n:"classes",f:"",t:13},{n:"label",f:[{t:2,r:".ccorporationLabel"}],t:13},{n:"rFocus",f:"['formFieldTracking']",t:13},{n:"rChange",f:"['formFieldTracking', 'chooseLLCType']",t:13},{n:"error",f:[{t:2,r:".v.limitedLiabilityCompanyType.errorMessage"}],t:13},{n:"accessibleText",f:[{t:2,r:".classificationHeader"},", ",{t:2,r:".limitedLiabilityCompanyLabel"},", ",{t:2,r:".ccorporationLabel"}],t:13},{n:"ariaDescribedby",f:"label-classification-5",t:13},{n:"required",f:"true",t:13},{n:"rBlur",f:"['validateField', 'disableFocusOnRender']",t:13}]}," ",{t:7,e:"blueRadiobutton",m:[{n:"id",f:"llc-2",t:13},{n:"value",f:"LLC_S_CORPORATION",t:13},{n:"groupName",f:"llc",t:13},{n:"checkedBinding",f:[{t:2,r:".limitedLiabilityCompanyType"}],t:13},{n:"classes",f:"",t:13},{n:"label",f:[{t:2,r:".scorporationLabel"}],t:13},{n:"rFocus",f:"['formFieldTracking']",t:13},{n:"rChange",f:"['formFieldTracking', 'chooseLLCType']",t:13},{n:"error",f:[{t:2,r:".v.limitedLiabilityCompanyType.errorMessage"}],t:13},{n:"accessibleText",f:[{t:2,r:".classificationHeader"},", ",{t:2,r:".limitedLiabilityCompanyLabel"},", ",{t:2,r:".scorporationLabel"}],t:13},{n:"ariaDescribedby",f:"label-classification-5",t:13},{n:"required",f:"true",t:13},{n:"rBlur",f:"['validateField', 'disableFocusOnRender']",t:13}]}," ",{t:7,e:"blueRadiobutton",m:[{n:"id",f:"llc-3",t:13},{n:"value",f:"LLC_PARTNERSHIP",t:13},{n:"groupName",f:"llc",t:13},{n:"checkedBinding",f:[{t:2,r:".limitedLiabilityCompanyType"}],t:13},{n:"classes",f:"",t:13},{n:"label",f:[{t:2,r:".limitedLiabilityCompanyPartnershipLabel"}],t:13},{n:"rFocus",f:"['formFieldTracking']",t:13},{n:"rChange",f:"['formFieldTracking', 'chooseLLCType']",t:13},{n:"error",f:[{t:2,r:".v.limitedLiabilityCompanyType.errorMessage"}],t:13},{n:"accessibleText",f:[{t:2,r:".classificationHeader"},", ",{t:2,r:".limitedLiabilityCompanyLabel"},", ",{t:2,r:".limitedLiabilityCompanyPartnershipLabel"}],t:13},{n:"ariaDescribedby",f:"label-classification-5",t:13},{n:"required",f:"true",t:13},{n:"rBlur",f:"['validateField', 'disableFocusOnRender']",t:13}]}]}],r:".$showLLC"}," ",{t:7,e:"blueRadiobutton",m:[{n:"id",f:"classification-6",t:13},{n:"value",f:"OTHER",t:13},{n:"groupName",f:"classification",t:13},{n:"checkedBinding",f:[{t:2,r:".classification"}],t:13},{n:"classes",f:"",t:13},{n:"label",f:[{t:2,r:".otherLabel"}],t:13},{n:"rFocus",f:"['formFieldTracking']",t:13},{n:"rChange",f:"['formFieldTracking', 'chooseClassification']",t:13},{n:"error",f:[{t:2,r:".v.classification.errorMessage"}],t:13},{n:"accessibleText",f:[{t:2,r:".classificationHeader"},", ",{t:2,r:".otherLabel"}],t:13},{n:"ariaDescribedby",f:"classification-header",t:13},{n:"required",f:"true",t:13},{n:"rBlur",f:"['validateField', 'disableFocusOnRender']",t:13}]}," ",{t:7,e:"h2",m:[{n:"class",f:"H3R",t:13}],f:[{t:2,r:".identificationNumberHeader"}]}," ",{t:7,e:"blueFieldGroup",m:[{n:"id",f:"identificationNumber",t:13},{n:"label",f:[{t:2,r:".identificationNumberLabel"}],t:13},{n:"classes",f:"",t:13},{n:"labelColumns",f:"col-sm-5",t:13},{n:"inputColumns",f:"col-sm-4",t:13},{n:"groupType",f:"validationInput horizontal",t:13},{n:"inputValue",f:[{t:2,r:".$socialSecurityNumberMasked"}],t:13},{n:"initErrorBubble",f:"true",t:13},{n:"tooltip",f:[{t:2,x:{r:[".identificationNumberHelpMessage",".$identificationNumberOpenAda",".beginHelpMessageAda",".$identificationNumberCloseAda",".endHelpMessageAda"],s:'{content:_0,adaOpenText:_1,adaBeginText:_2,adaCloseText:_3,adaEndText:_4,rClick:"requestIdentificationNumberHelpMessage",rCloseIconClick:"exitIdentificationNumberHelpMessage",rCloseIconKeydown:"exitIdentificationNumberHelpMessage"}'}}],t:13},{n:"validationInput",f:["{ 'id': 'identificationNumber', 'name': 'identificationNumber', 'type': 'tel', 'placeholder': ",{t:2,r:".$socialSecurityNumberMaskedPlaceholder"},", 'rFocus': ['unMaskSSN', 'formFieldTracking'], 'rChange': ['formatSSN', 'formFieldTracking'], 'rBlur': ['formatSSN'], 'labelErrorPrefix': ",{t:2,r:".errorAnnouncementAda",s:!0},", 'errorMessage': ",{t:2,r:"v.identificationNumber.errorMessage"},", 'minLength': '9', 'maxLength': '9', 'required': true }"],t:13}]}," ",{t:7,e:"div",m:[{n:"id",f:"orLabel",t:13},{n:"class",f:"col-xs-12 col-sm-5",t:13}],f:[{t:2,r:".orLabel"}]}," ",{t:7,e:"blueFieldGroup",m:[{n:"id",f:"employeeIdentificationNumber",t:13},{n:"label",f:[{t:2,r:".employeeIdentificationNumberLabel"}],t:13},{n:"classes",f:"",t:13},{n:"labelColumns",f:"col-sm-5",t:13},{n:"inputColumns",f:"col-sm-4",t:13},{n:"groupType",f:"validationInput horizontal",t:13},{n:"inputValue",f:[{t:2,r:".$einMasked"}],t:13},{n:"initErrorBubble",f:"true",t:13},{n:"validationInput",f:["{ 'id': 'employeeIdentificationNumber', 'name': 'employeeIdentificationNumber', 'type': 'tel', 'placeholder': ",{t:2,r:".$einMaskedPlaceholder"},", 'rFocus': ['unMaskEIN', 'formFieldTracking'], 'rChange': ['formatEIN', 'formFieldTracking'], 'rBlur': ['formatEIN'], 'labelErrorPrefix': ",{t:2,r:".errorAnnouncementAda",s:!0},", 'errorMessage': ",{t:2,r:"v.employeeIdentificationNumber.errorMessage"},", 'minLength': '9', 'maxLength': '9', 'required': true }"],t:13}]}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:4,n:53,f:[{t:8,r:"navigationButtons"}],x:{r:["$isXS",".saveLabel",".cancelLabel"],s:'{classes:"button-container",isXS:_0,primaryLabel:_1,primaryButtonId:"saveTaxClassificationButton",primaryButtonAction:["validateForm","nextStep"],secondaryButtonId:"editClassicCancelButton",secondaryLabel:_2,secondaryButtonAction:["cancelStep"],showSecondaryButton:true,showTertiaryButton:false}'}}]}]}],n:50,x:{r:[".$currentStep"],s:'_0==="taxClassificationReview"'}}],e:{}}})),define("profileArea/personalDetails/customerName/template/eDocs/partials/certification",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"section certification",t:13}],f:[{t:7,e:"h2",m:[{n:"class",f:"H3R certification-header",t:13},{n:"id",f:"certification-header",t:13}],f:[{t:2,r:".certificationHeader"}]}," ",{t:7,e:"p",m:[{n:"id",f:"certification-label",t:13}],f:[{t:2,r:".certificationLabel"}]}," ",{t:7,e:"div",m:[{n:"id",f:"certification-acknowledgement",t:13}],f:[{t:7,e:"ol",m:[{n:"aria-labelledby",f:"certification-label",t:13}],f:[{t:7,e:"li",m:[{n:"id",f:"acknowledgment-1",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"util accessible-text",t:13},{n:"id",f:"accessible-acknowledgment-1",t:13}],f:[]}," ",{t:7,e:"div",f:[{t:2,r:".identificationNumberAcknowledgment"}]}]}," ",{t:7,e:"li",f:[{t:7,e:"span",m:[{n:"class",f:"util accessible-text",t:13},{n:"id",f:"accessible-acknowledgment-2",t:13}],f:[]}," ",{t:7,e:"div",f:[{t:2,r:".notSubjectToWithholdingAcknowledgment"}]}]}," ",{t:7,e:"li",f:[{t:7,e:"span",m:[{n:"class",f:"util accessible-text",t:13},{n:"id",f:"accessible-acknowledgment-3",t:13}],f:[]}," ",{t:7,e:"div",f:[{t:2,r:".citizenshipStatusAcknowledgment"}]}]}," ",{t:7,e:"li",f:[{t:7,e:"span",m:[{n:"class",f:"util accessible-text",t:13},{n:"id",f:"accessible-acknowledgment-4",t:13}],f:[]}," ",{t:7,e:"div",f:[{t:2,r:".reportingCodeAcknowledgment"}]}]}]}]}," ",{t:7,e:"div",m:[{n:"id",f:"certification-withholding-option",t:13}],f:[{t:4,f:[{t:7,e:"blueAlert",m:[{n:"id",f:"certificationError",t:13},{n:"type",f:"inverted error",t:13},{n:"primary",f:"true",t:13},{n:"role",f:"region",t:13},{n:"icon",f:"exclamation-color error",t:13},{n:"title",f:[{t:2,r:".v.certification.errorMessage"}],t:13},{n:"accessibleTextIcon",f:[{t:2,r:".warningAda"}],t:13},{n:"focusOnRender",f:[{t:2,x:{r:[".v.classification.errorMessage",".allowFocusOnRender"],s:"!_0&&_1"}}],t:13}]}],x:{r:[".v.certification.errorMessage",".renderErrorCertification"],s:"_0&&_1"}}," ",{t:7,e:"div",f:[{t:2,r:".classificationLabel"}]}," ",{t:7,e:"blueRadiobutton",m:[{n:"id",f:"certification-5",t:13},{n:"value",f:"NO_WITHHOLDING",t:13},{n:"groupName",f:"certification",t:13},{n:"checkedBinding",f:[{t:2,r:".certification"}],t:13},{n:"classes",f:"",t:13},{n:"label",f:[{t:2,r:".notSubjectToWithholdingLabel"}],t:13},{n:"accessibleText",f:[{t:2,r:".certificationHeader"},", ",{t:2,r:".notSubjectToWithholdingLabel"}],t:13},{n:"ariaDescribedby",f:"certification-header",t:13},{n:"rFocus",f:"['formFieldTracking']",t:13},{n:"rChange",f:"['formFieldTracking', 'chooseCertification']",t:13},{n:"content",f:"true",t:13},{n:"error",f:[{t:2,r:".v.certification.errorMessage"}],t:13},{n:"required",f:"true",t:13},{n:"rKeydown",f:"checkTab",t:13}],f:[{t:7,e:"blueTooltip",m:[{n:"id",f:"not-subject-withholding-help-message",t:13},{n:"rClick",f:"requestWithholdingHelpMessage",t:13},{n:"content",f:[{t:2,r:".withholdingHelpMessage",s:!0}],t:13},{n:"adaOpenText",f:[{t:2,r:".opensDialogAda",s:!0}," ",{t:2,r:".notSubjectToWithholdingLabel",s:!0}],t:13},{n:"adaBeginText",f:[{t:2,r:".beginHelpMessageAda",s:!0}],t:13},{n:"adaCloseText",f:[{t:2,r:".exitHelpMessageAda",s:!0}," ",{t:2,r:".notSubjectToWithholdingLabel",s:!0}],t:13},{n:"adaEndText",f:[{t:2,r:".endHelpMessageAda",s:!0}],t:13},{n:"edgeDetection",f:"true",t:13}]}]}," ",{t:7,e:"blueRadiobutton",m:[{n:"id",f:"certification-6",t:13},{n:"value",f:"WITHHOLDING",t:13},{n:"groupName",f:"certification",t:13},{n:"checkedBinding",f:[{t:2,r:".certification"}],t:13},{n:"classes",f:"",t:13},{n:"label",f:[{t:2,r:".subjectToWithholdingLabel"}],t:13},{n:"accessibleText",f:[{t:2,r:".certificationHeader"},", ",{t:2,r:".subjectToWithholdingLabel"}],t:13},{n:"ariaDescribedby",f:"certification-header",t:13},{n:"rFocus",f:"['formFieldTracking']",t:13},{n:"rChange",f:"['formFieldTracking', 'chooseCertification']",t:13},{n:"error",f:[{t:2,r:".v.certification.errorMessage"}],t:13},{n:"required",f:"true",t:13},{n:"rKeydown",f:"checkTab",t:13}]}]}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:4,n:53,f:[{t:8,r:"navigationButtons"}],x:{r:["$isXS",".saveLabel",".cancelLabel"],s:'{classes:"button-container",isXS:_0,primaryLabel:_1,primaryButtonId:"saveTaxCertificationButton",primaryButtonAction:["validateForm","nextStep"],secondaryButtonId:"editCertCancelButton",secondaryLabel:_2,secondaryButtonAction:["cancelStep"],showSecondaryButton:true,showTertiaryButton:false}'}}]}]}],n:50,x:{r:[".$currentStep"],s:'_0==="taxCertificationReview"'}}],e:{}}})),define("bluespec/legal_name_change_taxpayer",[],(function(){return{name:"LEGAL_NAME_CHANGE_TAXPAYER",data:{newCustomerName:{type:"Description"},classification:{type:"Description"},limitedLiabilityCompanyType:{type:"Description"},identificationNumber:{type:"Description"},employeeIdentificationNumber:{type:"Description"},certification:{type:"Description"}},actions:{requestIdentificationNumberHelpMessage:!0,exitIdentificationNumberHelpMessage:!0,requestWithholdingHelpMessage:!0,selectClassification:!0,selectLimitedLiabilityCompany:!0,selectCertification:!0,requestCancel:!0,requestPreviousStep:!0,requestNextStep:!0,confirmTaxClassification:!0,confirmTaxCertification:!0,requestIrsWebsite:!0},states:{exitConfirmationOverlay:!0},settings:{requestedNameAdvisory:!0,formWNineHeader:!0,formWNineAdvisory:!0,classificationHeader:!0,classificationError:!0,classificationLabel:!0,individualLabel:!0,usPartnershipLabel:!0,scorporationLabel:!0,ccorporationLabel:!0,trustLabel:!0,limitedLiabilityCompanyLabel:!0,limitedLiabilityCompanyTypeError:!0,limitedLiabilityCompanyPartnershipLabel:!0,otherLabel:!0,identificationNumberHeader:!0,identificationNumberError:!0,identificationNumberLabel:!0,identificationNumberPlaceholder:!0,identificationNumberHelpMessage:!0,employeeIdentificationNumberError:!0,employeeIdentificationNumberLabel:!0,employeeIdentificationNumberPlaceholder:!0,certificationHeader:!0,certificationError:!0,certificationLabel:!0,identificationNumberAcknowledgment:!0,notSubjectToWithholdingAcknowledgment:!0,notSubjectToWithholdingLabel:!0,citizenshipStatusAcknowledgment:!0,reportingCodeAcknowledgment:!0,withholdingHelpMessage:!0,subjectToWithholdingLabel:!0}}})),define("profileArea/personalDetails/customerName/template/eDocs/legalNameChangeTaxpayer",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"containerContent",t:13},{n:"class",f:"eDocs my-profile legal-name-change taxpayer ",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"sub-title",t:13}],f:[{t:2,r:".requestedNameAdvisory"}]}," ",{t:7,e:"div",m:[{n:"class",f:"name-display horizontal-divider",t:13}],f:[{t:2,r:".newCustomerName"}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13},{n:"click",f:"triggerContentLink",t:70}],f:[{t:7,e:"h2",m:[{n:"class",f:"sub-title2 form-w9",t:13}],f:[{t:2,r:".formWNineHeader"}]}," ",{t:7,e:"p",m:[{n:"class",f:"name-display",t:13}],f:[{t:3,x:{r:["~/sanitizer",".formWNineAdvisory"],s:"_0.sanitizeHTML(_1)"}}]}]}]}],n:50,x:{r:[".$currentStep"],s:'_0==="taxPayerStep"'}}," ",{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:4,f:[{t:8,r:"classification"}],n:50,x:{r:[".$currentStep"],s:'_0==="taxPayerStep"||_0==="taxClassificationReview"'}}," ",{t:4,f:[{t:8,r:"certification"}],n:50,x:{r:[".$currentStep"],s:'_0==="taxPayerStep"||_0==="taxCertificationReview"'}}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:4,n:53,f:[{t:8,r:"navigationButtons"}],x:{r:["$isXS",".nextLabel",".backLabel",".cancelLabel","$isHybrid"],s:'{classes:"button-container",isXS:_0,primaryLabel:_1,primaryButtonId:"nextButton",primaryButtonAction:["validateForm","nextStep"],secondaryButtonId:"backButton",secondaryLabel:_2,secondaryButtonAction:["requestPreviousStep"],tertiaryButtonId:"cancelButton",tertiaryButtonLabel:_3,tertiaryButtonAction:["requestCancel"],showSecondaryButton:_4?false:true,showTertiaryButton:_4?false:true}'}}]}]}],n:50,x:{r:[".$currentStep"],s:'_0==="taxPayerStep"'}}]}],e:{}}})),define("profileArea/personalDetails/customerName/view/eDocs/legalNameChangeTaxpayer",["require","common/lib/viewHelper/viewMixins","appkit-utilities/validation/trigger","profileArea/sharedLib/viewUtil","common/lib/ada/setFocus","appkit-utilities/view/webSpecUtil","profileArea/personalDetails/customerName/template/eDocs/partials/classification","profileArea/personalDetails/customerName/template/eDocs/partials/certification","profileArea/personalDetails/customerName/template/eDocs/partials/navigationButtons","blue-ui/view/elements/button","blue-ui/view/elements/alert","blue-ui/view/elements/radiobutton","blue-ui/view/collections/fieldgroup","blue-ui/view/modules/tooltip","bluespec/legal_name_change_taxpayer","profileArea/personalDetails/customerName/template/eDocs/legalNameChangeTaxpayer"],(function(e){"use strict";return function(t){var i,n=e("common/lib/viewHelper/viewMixins"),r=e("appkit-utilities/validation/trigger"),a=e("profileArea/sharedLib/viewUtil")(t),o=e("common/lib/ada/setFocus"),s=e("appkit-utilities/view/webSpecUtil");this.areaName="profile",this.viewName="legalNameChangeTaxpayerView",this.partials={classification:e("profileArea/personalDetails/customerName/template/eDocs/partials/classification"),certification:e("profileArea/personalDetails/customerName/template/eDocs/partials/certification"),navigationButtons:e("profileArea/personalDetails/customerName/template/eDocs/partials/navigationButtons")},this.views={blueButton:e("blue-ui/view/elements/button"),blueAlert:e("blue-ui/view/elements/alert"),blueRadiobutton:e("blue-ui/view/elements/radiobutton"),blueFieldGroup:e("blue-ui/view/collections/fieldgroup"),blueTooltip:e("blue-ui/view/modules/tooltip")},this.model={areaName:"profile",$socialSecurityNumberMasked:"",$einMaskedPlaceholder:"",$socialSecurityNumberMaskedPlaceholder:"",$einMasked:"",$focusSelector:"",identificationNumber:"",employeeIdentificationNumber:"",ssnUnmaskedArray:[],einUnmaskedArray:[],formatSSN:this.formatSSN,formatEIN:this.formatEIN,unMaskSSN:this.unMaskSSN,unMaskEIN:this.unMaskEIN,$isHybrid:a.isHybridMode(),$isXS:a.isXS(),allowFocusOnRender:!0,renderErrorClassification:!1,renderErrorCertification:!1},this.onInit=function(){i=this,t.logger.info("legalNameChangeTaxpayer View onInit"),n.applyTriggerBuilderMixin(i),i.triggerBuilder.addFormFieldTrackingTrigger().addTriggers(r).addTriggers({nextStep:{action:"view.nextStep"},chooseClassification:{action:"view.chooseClassification"},cancelStep:{action:"view.cancelStep"},formatSSN:{action:"view.formatSSN",preventDefault:!0},formatEIN:{action:"view.formatEIN",preventDefault:!0},unMaskSSN:{action:"view.unMaskSSN",preventDefault:!0},unMaskEIN:{action:"view.unMaskEIN",preventDefault:!0},disableFocusOnRender:{action:"view.disableFocusOnRender"},checkTab:{action:"view.checkTab"},triggerContentLink:{action:"triggerContentLink"}}),i.bridge=s.createWebSpec(e("bluespec/legal_name_change_taxpayer"),{stopPropagation:!1,preventDefault:!1,dataBindings:{both:["$socialSecurityNumberMasked","$focusSelector","$identificationNumberOpenAda","$identificationNumberCloseAda","$einMasked","$socialSecurityNumberMaskedPlaceholder","$einMaskedPlaceholder","classification","limitedLiabilityCompanyType","identificationNumber","employeeIdentificationNumber","certification"],upstream:[]},triggers:i.triggerBuilder.getTriggers()}),i.template=e("profileArea/personalDetails/customerName/template/eDocs/legalNameChangeTaxpayer")},this.onDestroy=function(){a.removeBreakPointHandler()},this.onReady=function(){a.setBreakPointHandler(i.model);var e=a.getInitalFocusTarget();if(a.setFocus(e),t.hybrid){var n=function(){return i.trigger("requestPreviousStep"),!0},r=function(){return i.trigger("requestCancel"),!0},o={isHybridBackButtonRequired:n,isCloseSelected:r},s={BACK:n,CLOSE:r,CANCEL:r};t.hybridHelper.webNativeMessenger.updateNativeNavigationBar({showHamburgerMenu:!1,showCancel:!0,showBackArrow:!0,showProfileSettings:!1,showExitConfirmationOverlay:!1,showClose:!1}),t.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(e){return s[e]&&!s[e]()}),o)}},this.onData("v",(function(e){e&&e.classification&&e.classification.isValid&&(e.identificationNumber&&!e.identificationNumber.isValid||e.employeeIdentificationNumber&&!e.employeeIdentificationNumber.isValid)?i.model.allowFocusOnRender=!1:i.model.allowFocusOnRender=!0})),this.onData("$focusSelector",(function(e){e&&a.setFocus(e,!0)})),this.chooseClassification=function(e){i.model.$showLLC=e.context.value===i.model.limitedLiabilityCompanyLabel},this.cancelStep=function(e){var t=e.context.id;i.trigger("requestCancel",{isEditMode:"editCertCancelButton"===t||"editClassicCancelButton"===t}),"editCertCancelButton"===t&&a.setFocus("#editTaxCertificationLink"),"editClassicCancelButton"===t&&a.setFocus("#editTaxClassificationLink")},this.disableFocusOnRender=function(){i.model.allowFocusOnRender=!1,i.model.renderErrorClassification=!!i.model.v.classification.errorMessage,i.model.allowFocusOnRender=!0},this.checkTab=function(e){var t,n;e&&e.context&&e.context&&e.domEvent&&9===e.domEvent.keyCode&&(n=e.domEvent.shiftKey,("certification-5"===(t=e.context.id)&&n||"certification-6"===t&&!n)&&(i.trigger("validateField",e),i.model.allowFocusOnRender=!1,i.model.renderErrorCertification=!!i.model.v.certification.errorMessage,i.model.renderErrorClassification=!!i.model.v.classification.errorMessage))},this.nextStep=function(e){var t,n=i.model.v,r=n.isFormValid;"nextButton"===e.context.id&&(i.model.renderErrorCertification=!n.certification.isValid,i.model.renderErrorClassification=!n.classification.isValid,n.classification.isValid?n.limitedLiabilityCompanyType&&!n.limitedLiabilityCompanyType.isValid?t="#inner-limitedLiabilityCompanyError":n.identificationNumber&&!n.identificationNumber.isValid?(t="#identificationNumber-text-validate-input-field",i.model.allowFocusOnRender=!1):n.employeeIdentificationNumber&&!n.employeeIdentificationNumber.isValid?(t="#employeeIdentificationNumber-text-validate-input-field",i.model.allowFocusOnRender=!1):n.certification.isValid||(t="#inner-certificationError"):t="#inner-classificationError",t&&o.call(i,t),i.trigger("requestNextStep",{isFormValid:r})),"saveTaxClassificationButton"===e.context.id&&(i.trigger("confirmTaxClassification",{isFormValid:r}),r&&a.setFocus("#editTaxClassificationLink")),"saveTaxCertificationButton"===e.context.id&&(i.trigger("confirmTaxCertification",{isFormValid:r}),r&&a.setFocus("#editTaxCertificationLink"))},this.unMaskSSN=function(){i.model.ssnUnmaskedArray&&(i.model.$socialSecurityNumberMasked=i.model.ssnUnmaskedArray.join("").match(/\d*/g).join(""))},this.unMaskEIN=function(){i.model.einUnmaskedArray&&(i.model.$einMasked=i.model.einUnmaskedArray.join("").match(/\d*/g).join(""))},this.formatSSN=function(e){var t=e&&e.context&&e.context.value;t&&t.length>0&&(i.model.einUnmaskedArray=[]);var n,r=[],a=[],o=t;(o=o&&o.match(/[\d*]*/g).join("").match(/([\d*]{0,3})([\d*]{0,2})([\d*]{0,4})/).slice(1).join("-").replace(/-*$/g,"").split(""))&&o.forEach((function(e,t){r[t]="*"===e?i.model.ssnUnmaskedArray[t]:e,a[t]=7===t||8===t||9===t||10===t?e:3===t||6===t?"-":i.model.displaySocialSecurityNumber?e:"*"})),i.model.ssnUnmaskedArray=r,i.model.$socialSecurityNumberMasked=a.join(""),n=e,i.model.identificationNumber=i.model.ssnUnmaskedArray.join("").match(/\d*/g).join(""),i.trigger("validateField",n)},this.formatEIN=function(e){var t=e&&e.context&&e.context.value;t&&t.length>0&&(i.model.ssnUnmaskedArray=[]);var n,r=[],a=[],o=t;(o=o&&o.match(/[\d*]*/g).join("").match(/([\d*]{0,2})([\d*]{0,7})/).slice(1).join("-").replace(/-*$/g,"").split(""))&&o.forEach((function(e,t){r[t]="*"===e?i.model.einUnmaskedArray[t]:e,a[t]=6===t||7===t||8===t||9===t?e:2===t?"-":i.model.displayEinNumber?e:"*"})),i.model.einUnmaskedArray=r,i.model.$einMasked=a.join(""),n=e,i.model.employeeIdentificationNumber=i.model.einUnmaskedArray.join("").match(/\d*/g).join(""),i.trigger("validateField",n)}}})),define("bluespec/legal_name_change_review",[],(function(){return{name:"LEGAL_NAME_CHANGE_REVIEW",data:{newCustomerName:{type:"Description"},formattedAddress:{type:"Description"},selectedTaxClassification:{type:"Description"},selectedTaxCertification:{type:"Description"},esignDisclosureConsent:{type:"OnOff"}},actions:{requestEditPersonalDetails:!0,requestCancel:!0,requestEditTaxClassification:!0,requestEditTaxCertification:!0,requestPreviousStep:!0,requestESignForm:!0,requestConfirmation:!0,acceptESignDisclosure:!0,requestESignDisclosurePdf:!0},states:{exitConfirmationOverlay:!0,languageSupportDisclaimerOverlay:!0},settings:{requestedNameAdvisory:!0,reviewHeader:!0,reviewAdvisory:!0,personalDetailsLabel:!0,taxClassificationLabel:!0,certifyLabel:!0,clickToSignLabel:!0,formW9Label:!0,esignDisclosureConsentLabel:!0,esignDisclosureConsentError:!0,disclosureLinkLabel:!0}}})),define("profileArea/personalDetails/customerName/template/eDocs/legalNameChangeReview",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"containerContent",t:13},{n:"class",f:"eDocs my-profile legal-name-change review ",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"sub-title",t:13}],f:[{t:2,r:".requestedNameAdvisory"}]}," ",{t:7,e:"div",m:[{n:"class",f:"name-display horizontal-divider",t:13}],f:[{t:2,r:".newCustomerName"}]}]}]}," ",{t:7,e:"div",m:[{n:"id",f:"legalNameChange-iframe",t:13},{n:"class",f:[{t:4,f:["hide"],n:51,r:".$showIframe"}],t:13}],f:[]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:7,e:"h2",m:[{n:"class",f:"sub-title2 form-w9",t:13}],f:[{t:2,r:".reviewHeader"}]}," ",{t:7,e:"p",m:[{n:"class",f:"name-display horizontal-divider review-advisory",t:13}],f:[{t:2,r:".reviewAdvisory"}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"collapsed-row float-clear",t:13}],f:[{t:7,e:"blueDescriptionlist",m:[{n:"id",f:"personalDetailsReview",t:13},{n:"classes",f:"col-sm-8 col-xs-10",t:13},{n:"items",f:["[ { term: ",{t:2,r:".personalDetailsLabel"},", description: ",{t:3,x:{r:["sanitizer",".formattedAddress"],s:"_0.sanitizeHTML(_1)"}}," } ]"],t:13}]}," ",{t:7,e:"span",m:[{n:"class",f:"col-xs-2 col-sm-4 edit-wrapper",t:13}],f:[{t:7,e:"blueLink",m:[{n:"id",f:"editPersonalDetailsLink",t:13},{n:"classes",f:"edit-link",t:13},{n:"content",f:[{t:2,r:".editLabel"}],t:13},{n:"adatext",f:[{t:2,r:".personalDetailsLabel"}],t:13},{n:"rClick",f:"requestEditPersonalDetails",t:13},{n:"endIcon",f:"progressright",t:13}]}]}]}],n:51,r:"~/$hidePersonalDetailsHeader"}," ",{t:7,e:"div",m:[{n:"id",f:"personalDetails",t:13},{n:"class",f:"review-block",t:13}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"collapsed-row float-clear",t:13}],f:[{t:7,e:"blueDescriptionlist",m:[{n:"id",f:"taxClassificationReview",t:13},{n:"classes",f:"col-sm-8 col-xs-10",t:13},{n:"items",f:["[ { term: ",{t:2,r:".taxClassificationLabel"},", description: ",{t:3,x:{r:["sanitizer",".selectedTaxClassification"],s:"_0.sanitizeHTML(_1)"}}," } ]"],t:13}]}," ",{t:7,e:"span",m:[{n:"class",f:"col-xs-2 col-sm-4 edit-wrapper",t:13}],f:[{t:7,e:"blueLink",m:[{n:"id",f:"editTaxClassificationLink",t:13},{n:"classes",f:"edit-link",t:13},{n:"content",f:[{t:2,r:".editLabel"}],t:13},{n:"adatext",f:[{t:2,r:".taxClassificationLabel"}],t:13},{n:"rClick",f:"requestEditTaxClassification",t:13},{n:"endIcon",f:"progressright",t:13}]}]}]}],n:51,r:"~/$hideTaxClassificationHeader"}," ",{t:7,e:"div",m:[{n:"id",f:"classification",t:13},{n:"class",f:"review-block",t:13}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"collapsed-row float-clear",t:13}],f:[{t:7,e:"blueDescriptionlist",m:[{n:"id",f:"taxCertificationReview",t:13},{n:"classes",f:"col-sm-8 col-xs-10",t:13},{n:"items",f:["[ { term: ",{t:2,r:".certifyLabel"},", description: ",{t:3,x:{r:["sanitizer",".selectedTaxCertification"],s:"_0.sanitizeHTML(_1)"}}," } ]"],t:13}]}," ",{t:7,e:"span",m:[{n:"class",f:"col-xs-2 col-sm-4 edit-wrapper",t:13}],f:[{t:7,e:"blueLink",m:[{n:"id",f:"editTaxCertificationLink",t:13},{n:"classes",f:"edit-link",t:13},{n:"content",f:[{t:2,r:".editLabel"}],t:13},{n:"adatext",f:[{t:2,r:".certifyLabel"}],t:13},{n:"rClick",f:"requestEditTaxCertification",t:13},{n:"endIcon",f:"progressright",t:13}]}]}]}],n:51,r:"~/$hideTaxCertificationHeader"}," ",{t:7,e:"div",m:[{n:"id",f:"certification",t:13},{n:"class",f:"review-block",t:13}]}]}," ",{t:7,e:"div",m:[{n:"id",f:"checkboxContainer",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"id",f:"checkboxError",t:13}],f:[{t:7,e:"blueAlert",m:[{n:"id",f:"error-header",t:13},{n:"type",f:"inverted error server-error-msg",t:13},{n:"primary",f:"true",t:13},{n:"role",f:"region",t:13},{n:"icon",f:"exclamation-color error",t:13},{n:"title",f:[{t:2,r:".esignDisclosureConsentError"}],t:13},{n:"accessibleTextIcon",f:[{t:2,r:"~/importantAda"}],t:13}]}]}],r:".$showDisclosureError"}," ",{t:7,e:"div",f:[{t:7,e:"blueCheckbox",m:[{n:"id",f:"agreementCheckbox",t:13},{n:"analyticsId",f:"eSignDisclosureStatus",t:13},{n:"groupName",f:"agreementAcceptanceStatus",t:13},{n:"checked",f:[{t:2,r:".esignDisclosureConsent"}],t:13},{n:"value",f:[{t:2,r:".esignDisclosureConsent"}],t:13},{n:"accessibleText",f:[{t:2,r:"~/showLinksBelowAda",s:!0}],t:13},{n:"classes",f:["haslinkwithhat ",{t:4,f:["error"],r:".$showDisclosureError"}],t:13},{n:"label",f:[{t:2,r:".esignDisclosureConsentLabel",s:!0}],t:13},{n:"rChange",f:"['formFieldTracking', 'acceptESignDisclosureOnView']",t:13},{n:"rFocus",f:"['formFieldTracking']",t:13}]}]}," ",{t:7,e:"div",m:[{n:"id",f:"agreementLinkContainer",t:13},{n:"class",f:"agreementLink",t:13}],f:[{t:7,e:"mds-link",m:[{n:"text",f:[{t:3,x:{r:["~/sanitizer",".disclosureLinkLabel"],s:"_0.sanitizeHTML(_1)"},s:!0}],t:13},{n:"accessible-text",f:[{t:2,r:"~/opensPdfAda",s:!0}],t:13},{n:"accessible-text-prefix",f:[{t:2,r:"~/opensPdfAda",s:!0}],t:13},{n:"tab-focusable",f:"true",t:13},{n:"underline",f:"true",t:13},{n:"inverse",f:"false",t:13},{n:"click",f:"requestESignDisclosurePdf",t:70},{n:"leading-pipe",f:"false",t:13},{n:"trailing-pipe",f:"false",t:13},{n:"inactive",f:"false",t:13}],f:[]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:4,n:53,f:[{t:8,r:"navigationButtons"}],x:{r:["$isXS",".clickToSignLabel",".$disableButton",".backLabel",".cancelLabel","$isHybrid"],s:'{classes:"button-container",isXS:_0,primaryLabel:_1,primaryButtonId:"nextButton",primaryButtonAction:["requestESignFormOnView"],primaryButtonDisabled:_2,secondaryButtonId:"backButton",secondaryLabel:_3,secondaryButtonAction:["requestPreviousStep"],tertiaryButtonId:"cancelButton",tertiaryButtonLabel:_4,tertiaryButtonAction:["requestCancel"],showSecondaryButton:_5?false:true,showTertiaryButton:_5?false:true}'}}]}]}]}],n:51,r:".$showIframe"}],n:51,r:".$hidePageElementsOnError"}]}],e:{}}})),define("profileArea/personalDetails/customerName/view/eDocs/legalNameChangeReview",["require","common/lib/viewHelper/viewMixins","appkit-utilities/view/webSpecUtil","profileArea/sharedLib/viewUtil","profileArea/personalDetails/customerName/template/eDocs/partials/personalDetails","profileArea/personalDetails/customerName/template/eDocs/partials/classification","profileArea/personalDetails/customerName/template/eDocs/partials/certification","profileArea/personalDetails/customerName/template/eDocs/partials/navigationButtons","blue-ui/view/elements/button","blue-ui/view/elements/alert","blue-ui/view/elements/link","blue-ui/view/collections/fieldgroup","blue-ui/view/elements/radiobutton","blue-ui/view/modules/tooltip","blue-ui/view/elements/checkbox","blue-ui/view/elements/descriptionlist","bluespec/legal_name_change_review","profileArea/personalDetails/customerName/template/eDocs/legalNameChangeReview"],(function(e){"use strict";return function(t){var i,n=e("common/lib/viewHelper/viewMixins"),r=e("appkit-utilities/view/webSpecUtil"),a=e("profileArea/sharedLib/viewUtil")(t);function o(){if(t.hybrid){var e=function(){return i.trigger("requestPreviousStep"),!0},n=function(){return i.trigger("requestCancel"),!0},r={isHybridBackButtonRequired:e,isCloseSelected:n},a={BACK:e,CLOSE:n,CANCEL:n};t.hybridHelper.webNativeMessenger.updateNativeNavigationBar({showHamburgerMenu:!1,showCancel:!0,showBackArrow:!0,showProfileSettings:!1,showExitConfirmationOverlay:!1,showClose:!1}),t.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(e){return a[e]&&!a[e]()}),r)}}this.areaName="profile",this.viewName="legalNameChangeReviewView",this.partials={personalDetails:e("profileArea/personalDetails/customerName/template/eDocs/partials/personalDetails"),classification:e("profileArea/personalDetails/customerName/template/eDocs/partials/classification"),certification:e("profileArea/personalDetails/customerName/template/eDocs/partials/certification"),navigationButtons:e("profileArea/personalDetails/customerName/template/eDocs/partials/navigationButtons")},this.views={blueButton:e("blue-ui/view/elements/button"),blueAlert:e("blue-ui/view/elements/alert"),blueLink:e("blue-ui/view/elements/link"),blueFieldGroup:e("blue-ui/view/collections/fieldgroup"),blueRadiobutton:e("blue-ui/view/elements/radiobutton"),blueTooltip:e("blue-ui/view/modules/tooltip"),blueCheckbox:e("blue-ui/view/elements/checkbox"),blueDescriptionlist:e("blue-ui/view/elements/descriptionlist")},this.model={areaName:"profile",$showiFrame:!1,currentStep:"review",$focusSelector:"",$showDisclosureError:!1,$isHybrid:a.isHybridMode(),$isXS:a.isXS()},this.onInit=function(){i=this,t.logger.info("legalNameChangeReview View onInit"),n.applyTriggerBuilderMixin(i),i.triggerBuilder.addFormFieldTrackingTrigger().addTriggers({requestESignFormOnView:{action:"view.requestESignFormOnView"},triggerContentLink:{action:"triggerContentLink"},acceptESignDisclosureOnView:{action:"view.acceptESignDisclosureOnView"}}),i.bridge=r.createWebSpec(e("bluespec/legal_name_change_review"),{stopPropagation:!1,preventDefault:!1,dataBindings:{both:["$currentStep","esignDisclosureConsent","$hidePageElementsOnError","$focusSelector","$showIframe","$hidePersonalDetailsHeader","$hideTaxClassificationHeader","$hideTaxCertificationHeader","$showDisclosureError"],upstream:[]},triggers:i.triggerBuilder.getTriggers()}),i.template=e("profileArea/personalDetails/customerName/template/eDocs/legalNameChangeReview")},this.requestESignFormOnView=function(){if(i.model.esignDisclosureConsent)this.trigger("requestESignForm");else{i.model.$showDisclosureError=!0;a.setFocus("#inner-error-header",!0)}},this.acceptESignDisclosureOnView=function(e){e&&e.context&&e.context.checked&&i.trigger("acceptESignDisclosure")},this.onData("$focusSelector",(function(e){e&&a.setFocus(e,!0)})),this.onData("$hidePersonalDetailsHeader",(function(){o()})),this.onData("$hideTaxClassificationHeader",(function(){o()})),this.onData("$hideTaxCertificationHeader",(function(){o()})),this.onReady=function(){var e=a.getInitalFocusTarget();a.setFocus(e),o()}}})),define("profileArea/personalDetails/customerName/lib/frameRedirectViewMixin",["require","blue/root"],(function(e){"use strict";var t=e("blue/root");return function(e){var i=this;i.addEventListeners=function(){e.logger.info("Attaching onMessage listener"),t.addEventListener&&t.addEventListener("message",this.onMessage,!1)},i.removeEventListeners=function(){e.logger.info("Removing onMessage listener"),t.removeEventListener&&t.removeEventListener("message",this.onMessage,!1)},i.onMessage=function(n){var r,a={};if(n&&n.origin&&(e.logger.info("Received onMessage event from origin "+n.origin+": "+n.data),r=(t.location.protocol+"//"+t.location.hostname+(t.location.port?":"+t.location.port:"")).toLowerCase(),n.origin===r||n.origin.endsWith("chase.com"))){try{a="string"==typeof n.data?JSON.parse(n.data):n.data}catch(e){}if(a&&a.command){e.logger.info("Received command ",a.command);let t=t=>(e.logger.info("Received "+(t?"COMPLETE":"non-COMPLETE")+" postMessage"),i.trigger("requestConfirmation"),!0),n={COMPLETE:()=>t(!0),default:()=>t(!1)};(n[a.command]||n.default)()}}}}})),define("profileArea/personalDetails/customerName/template/eDocs/legalNameChangeSignW9",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"containerContent",t:13},{n:"class",f:"eDocs my-profile legal-name-change signw9",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"sub-title",t:13}],f:[{t:2,r:".requestedNameAdvisory"}]}," ",{t:7,e:"div",m:[{n:"class",f:"name-display horizontal-divider",t:13}],f:[{t:2,r:".newCustomerName"}]}]}]}," ",{t:7,e:"div",m:[{n:"id",f:"legalNameChange-iframe",t:13},{n:"class",f:[{t:4,f:["hide"],n:51,r:".$showIframe"}],t:13}],f:[]}],n:51,r:".$hidePageElementsOnError"}]}]}})),define("profileArea/personalDetails/customerName/view/eDocs/legalNameChangeSignW9",["require","common/lib/viewHelper/viewMixins","appkit-utilities/view/webSpecUtil","profileArea/sharedLib/viewUtil","profileArea/personalDetails/customerName/lib/frameRedirectViewMixin","blue-ui/view/elements/button","blue-ui/view/elements/alert","blue-ui/view/elements/link","blue-ui/view/elements/descriptionlist","bluespec/legal_name_change_review","profileArea/personalDetails/customerName/template/eDocs/legalNameChangeSignW9"],(function(e){"use strict";return function(t){var i,n=e("common/lib/viewHelper/viewMixins"),r=e("appkit-utilities/view/webSpecUtil"),a=e("profileArea/sharedLib/viewUtil")(t),o=e("profileArea/personalDetails/customerName/lib/frameRedirectViewMixin");this.areaName="profile",this.viewName="legalNameChangeSignW9View",this.views={blueButton:e("blue-ui/view/elements/button"),blueAlert:e("blue-ui/view/elements/alert"),blueLink:e("blue-ui/view/elements/link"),blueDescriptionlist:e("blue-ui/view/elements/descriptionlist")},this.model={areaName:"profile",$showiFrame:!1,currentStep:"signW9",$focusSelector:"",$isHybrid:a.isHybridMode(),$isXS:a.isXS()},this.onInit=function(){i=this,t.logger.info("legalNameChangeSignW9 View onInit"),n.applyTriggerBuilderMixin(i),i.triggerBuilder.addFormFieldTrackingTrigger(),i.bridge=r.createWebSpec(e("bluespec/legal_name_change_review"),{stopPropagation:!1,preventDefault:!1,dataBindings:{both:["$currentStep","$focusSelector","$showIframe","$hidePageElementsOnError","$iFrameLoaded"],upstream:[]},triggers:i.triggerBuilder.getTriggers()}),i.template=e("profileArea/personalDetails/customerName/template/eDocs/legalNameChangeSignW9"),o.call(i,t)},this.onData("$focusSelector",(function(e){e&&a.setFocus(e,!0)})),this.onDestroy=function(){a.removeBreakPointHandler(),i.removeEventListeners()},this.onReady=function(){a.setBreakPointHandler(i.model),i.addEventListeners();var e=a.getInitalFocusTarget();a.setFocus(e),function(){if(t.hybrid){var e=function(){return i.trigger("requestPreviousStep"),!0},n=function(){return i.trigger("requestCancel"),!0},r={isHybridBackButtonRequired:e,isCloseSelected:n},a={BACK:e,CLOSE:n,CANCEL:n};t.hybridHelper.webNativeMessenger.updateNativeNavigationBar({showHamburgerMenu:!1,showCancel:!0,showBackArrow:!0,showProfileSettings:!1,showExitConfirmationOverlay:!1,showClose:!1}),t.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(e){return a[e]&&!a[e]()}),r)}}()}}})),define("bluespec/legal_name_change_confirmation",[],(function(){return{name:"LEGAL_NAME_CHANGE_CONFIRMATION",data:{newCustomerName:{type:"Description"}},actions:{exitLegalNameChange:!0},settings:{confirmLegalNameChangeHeader:!0,confirmLegalNameChangeAdvisory:!0}}})),define("profileArea/personalDetails/customerName/template/eDocs/legalNameChangeConfirmation",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"containerContent",t:13},{n:"class",f:"eDocs my-profile legal-name-change confirmation ",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section-body",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"section",t:13}],f:[{t:7,e:"blueAlert",m:[{n:"id",f:"confirmLegalNameChangeHeader",t:13},{n:"type",f:"inverted success",t:13},{n:"primary",f:"true",t:13},{n:"role",f:"region",t:13},{n:"icon",f:"confirmation success",t:13},{n:"title",f:[{t:2,r:".confirmLegalNameChangeHeader"}],t:13},{n:"headingLevel",f:"3",t:13},{n:"focusOnRender",f:"true",t:13},{n:"isAnimate",f:"false",t:13},{n:"accessibleTextIcon",f:[{t:2,r:"~/checkmarkAda"}],t:13}]}," ",{t:7,e:"div",m:[{n:"class",f:"name-display new-name-display",t:13}],f:[{t:2,r:".newCustomerName"}]}," ",{t:7,e:"p",f:[{t:2,r:".confirmLegalNameChangeAdvisory"}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"primary-button col-sm-3 col-sm-offset-9",t:13}],f:[{t:7,e:"blueButton",m:[{n:"id",f:"exitLegalNameChange",t:13},{n:"type",f:"button",t:13},{n:"label",f:[{t:2,r:".okLabel"}],t:13},{n:"classes",f:"fluid primary white-space",t:13},{n:"rClick",f:"exitLegalNameChange",t:13}]}]}]}]}]}})),define("profileArea/personalDetails/customerName/view/eDocs/legalNameChangeConfirmation",["require","common/lib/viewHelper/viewMixins","profileArea/sharedLib/viewUtil","appkit-utilities/view/webSpecUtil","profileArea/personalDetails/customerName/template/eDocs/partials/navigationButtons","blue-ui/view/elements/button","blue-ui/view/elements/alert","bluespec/legal_name_change_confirmation","profileArea/personalDetails/customerName/template/eDocs/legalNameChangeConfirmation"],(function(e){"use strict";return function(t){var i,n=e("common/lib/viewHelper/viewMixins"),r=e("profileArea/sharedLib/viewUtil")(t),a=e("appkit-utilities/view/webSpecUtil");this.areaName="profile",this.viewName="legalNameChangeConfirmationView",this.partials={navigationButtons:e("profileArea/personalDetails/customerName/template/eDocs/partials/navigationButtons")},this.views={blueButton:e("blue-ui/view/elements/button"),blueAlert:e("blue-ui/view/elements/alert")},this.model={areaName:"profile",$isXS:r.isXS()},this.onInit=function(){i=this,t.logger.info("legalNameChangeConfirmation View onInit"),n.applyTriggerBuilderMixin(i),i.triggerBuilder.addFormFieldTrackingTrigger(),i.bridge=a.createWebSpec(e("bluespec/legal_name_change_confirmation"),{stopPropagation:!1,preventDefault:!1,dataBindings:{both:[],upstream:[]},triggers:i.triggerBuilder.getTriggers()}),i.template=e("profileArea/personalDetails/customerName/template/eDocs/legalNameChangeConfirmation")},this.onDestroy=function(){r.removeBreakPointHandler()},this.onReady=function(){r.setBreakPointHandler(i.model);var e=r.getInitalFocusTarget();if(r.setFocus(e),t.hybrid){var n=function(){return!1},a=function(){return!1},o={isHybridBackButtonRequired:n,isCloseSelected:a},s={BACK:n,CLOSE:a,CANCEL:a};t.hybridHelper.webNativeMessenger.updateNativeNavigationBar({showHamburgerMenu:!1,showCancel:!1,showBackArrow:!1,showProfileSettings:!1,showExitConfirmationOverlay:!1,showClose:!0}),t.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(e){return s[e]&&!s[e]()}),o)}}}})),define("profileArea/personalDetails/customerName/service/dataTransform/eDocsDataTransform",[],(function(){"use strict";return{transformAccountList:function(e){var t=[];return e.accounts&&e.accounts.forEach((function(e){var i,n;e.accountIdNumber=e.accountId.toString(),e.accountDisplayName=(i=e.nickname.toUpperCase(),n=e.accountMask,[i," (","",function(e,t){return e?/^[xX]+.*$/.test(e)?e.replace(/^[xX]/,"..."):e.length>4||t?"..."+e.slice(-4):"..."+e.slice(-2):e}(n,!0),")"].join("")),e.accountMaskNumber=e.mask,e.isEligibleECI=function(e){return!1===e.businessECI||"false"===e.businessECI}(e),function(e){return"true"!==e.closed&&!0!==e.closed&&(!e.accountStatus||"CLOSED"!==e.accountStatus.toUpperCase())}(e)&&t.push(e)})),t},transformDocUploadConfigs:function(e){var t,i=[];return e.documentPurposes&&e.documentPurposes.forEach((function(e){var n,r,a;n=e.businessPurposeCode,r=e.businessPurposeName,a=e.documentTypeNameList,t={id:n,displayText:r,documentTypes:a},i.push(t)})),i}}})),define("profileArea/personalDetails/customerName/service/dataProvider/customerName",["require","profileArea/sharedLib/dashboardConstants","profileArea/personalDetails/customerName/service/dataTransform/eDocsDataTransform"],(function(e){"use strict";var t,i=e("profileArea/sharedLib/dashboardConstants"),n=e("profileArea/personalDetails/customerName/service/dataTransform/eDocsDataTransform");function r(e,i,n,r){t.logger.info("processAgreementSuccess response",r);var a=i[t.getCachedData("eSignAgreementId")];a&&t.setCachedData("agreementUrl",a.pdfPath),a&&t.setCachedData("agreementVersion",a.version)}function a(e,i){t.logger.info("processCachedData response",i),t.setCachedData("tokenReferenceIdentifier",i.resourceIdentifier),t.setCachedData("eventCorrelationIdentifier",i.eventCorrelationIdentifier)}function o(e,i,r,a){t.logger.info("processCustomerName response",i);var o=n.transformAccountList(i);t.setCachedData("accountList",o),t.setCachedData("currentCustomerName",i.customerName),a.set("customerName.customerName",i.customerName)}function s(e,i){t.logger.info("processLegalName response",i),t.setCachedData("eventCorrelationIdentifier",i.eventCorrelationIdentifier),t.setCachedData("workflowTokenIdentifier",i.resourceIdentifier)}function c(e,i,n,r){t.logger.info("processWorkflowStatus response",i),t.setCachedData("eventCorrelationIdentifier",i.eventCorrelationIdentifier),t.setCachedData("signingStatusIdentifier",i.transactionIdentifier),t.setCachedData("eSignUrl",i.url),r.set("legalNameChangeSignW9.$showIframe",!0)}function l(e,i){t.logger.info("processWorkflowStatus response",i),t.hasValue(i.eventCorrelationIdentifier)&&t.setCachedData("eventCorrelationIdentifier",i.eventCorrelationIdentifier),t.setCachedData("packageSigningStatusCode",i.packageSigningStatusCode),t.setCachedData("userSigningStatusCode",i.userSigningStatusCode)}function d(e,i,n,r){t.logger.info("processMailingaddress response",i),function(e,t){t&&t.line1&&e.set("legalNameChangeFormW9.mailingAddressLineOne",t.line1),t&&t.line2&&e.set("legalNameChangeFormW9.mailingAddressLineTwo",t.line2),t&&t.line3&&e.set("legalNameChangeFormW9.mailingAddressLineThree",t.line3),e.set("legalNameChangeFormW9.cityName",t&&t.city),e.set("legalNameChangeFormW9.stateId",t&&t.stateCode),e.set("legalNameChangeFormW9.zipCode",t&&t.zipcode&&t.zipcode.length>=5&&t.zipcode.slice(0,5))}(r,i.primaryAddress)}function u(e,i,n,r){t.logger.info("processUploadFile response",r),t.setCachedData("resourceIdentifier",i.resourceIdentifier),t.setCachedData("eventCorrelationIdentifier",i.eventCorrelationIdentifier)}function p(e,i){throw t.logger.error("Error from mailing address service call",i),i}function m(e,n,r,a){if(n.status===i.servicePromiseAborted)return;switch(t.logger.error("Error from service call",n),((e=>{try{JSON.parse(e)}catch(e){return!1}return!0})(n.data)?JSON.parse(n.data):{serviceErrorCode:"SYSTEM_FAILURE"}).serviceErrorCode){case"PDF_PASSWORD_VIOLATION":t.fileUploadUtil.setFileUploadError(t.getComponent("legalNameChangeFileUpload"),"PDF_PASSWORD_VIOLATION");break;default:n.status&&a.set("errorStatus",n.status),function(e){var i=t.getComponent("customerName");t.logger.error("handling error from model",e),t.profileContainer.displayPageAlert(i,{header:"legalNameChangeErrorHeader.SYSTEM_FAILURE",advisory:"legalNameChangeErrorAdvisory.SYSTEM_FAILURE"})}(a)}throw n}function f(e,t,i,n){n.set("legalNameChangeSignW9.$hidePageElementsOnError",!0),m(0,t,0,n)}return function(e){return t=e,{eDocsService:{legalNameChangeUploadFile:{success:u,failure:m},legalNameChange:{success:s,failure:m},getCustomerProfile:{success:o,failure:m},getMailingAddress:{success:d,failure:p},cachePrivateData:{success:a,failure:m},getWorkflowStatus:{success:c,failure:m},getSigningStatus:{success:l,failure:f},getAgreementUrl:{success:r,failure:m}}}}})),define("profileArea/personalDetails/customerName/lib/fileUploadUtil",["require","blue-ui/utilities/common","appkit-utilities/formUtil/formUtil","appkit-utilities/data/converter"],(function(e){"use strict";var t=e("blue-ui/utilities/common"),i=e("appkit-utilities/formUtil/formUtil"),n=e("appkit-utilities/data/converter"),r=crypto.subtle;return{fileSizeConverter:function(e,t,i){var n="BYTES",r=t;return t>=1024&&(n="KILOBYTES",(r=t/1024)>=1024&&(r=t/1048576,n="MEGABYTES"),r=function(e,t){return t?Math.ceil(100*e)/100:Math.floor(100*e)/100}(r,i)),r+" "+(n=function(e,t){return e.context.dcu.dynamicContent.get(e,"fileSizeUnitsLabel",t)}(e,n))},splitFileName:function(e){var t=e.lastIndexOf(".");return{attachmentNameWithoutExtension:e.substring(0,t),attachmentExtension:e.substring(t)}},deleteAttachment:function(e){var t,i,n;e._handleFileUploadError(),e._hideDeleteOverlay("deleteAttachment","#add-attachment-link"),n=(t=e.fileUploads)[i=e.model.get("selectedAttachmentIndex")].attachmentSize,t.splice(i,1),e.fileUploads=t,e._handleAttachmentListUpdate("delete",n)},downloadFile:function(e,t,n){i.dynamicFormSubmit({context:e,inputData:t,formAttr:{method:"POST",title:t.messageId+"_"+t.fileName,action:n,downLoad:!1},params:{isPopUp:!1}})},byteArrayToFileObj:function(e,t){var i=n.b64toBlob(e),r=t.type||"image/png",a=new Date,o=t.name||"document_"+a.getTime();return new File([i],o,{type:r})},setFileUploadError:function(e,t){e.$showFileUploadError=!1,t&&(e.context.dcu.dynamicContent.set(e,"uploadedFileError",t),e.$showFileUploadError=!0)},isMobile:function(){return t.isMobile()},generateHash:function(e){var t=e.arrayBuffer&&e.arrayBuffer();return(t=t||function(e){return new Promise((t=>{const i=new FileReader;i.onload=()=>t(i.result),i.readAsArrayBuffer(e)}))}(e)).then((e=>r.digest("SHA-1",e).then((e=>Array.from(new Uint8Array(e)).map((e=>e.toString(16).padStart(2,"0"))).join("")))))}}})),define("profileArea/personalDetails/customerName/controller/customerName",["require","profileArea/personalDetails/customerName/view/customerName","profileArea/personalDetails/customerName/view/eDocs/legalNameChangeFileUpload","profileArea/personalDetails/customerName/view/eDocs/legalNameChangeVerify","profileArea/personalDetails/customerName/view/eDocs/legalNameChangeFormW9","profileArea/personalDetails/customerName/view/eDocs/legalNameChangeTaxpayer","profileArea/personalDetails/customerName/view/eDocs/legalNameChangeReview","profileArea/personalDetails/customerName/view/eDocs/legalNameChangeSignW9","profileArea/personalDetails/customerName/view/eDocs/legalNameChangeConfirmation","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","profileArea/sharedLib/constants","appkit-utilities/language/helper","blue/siteData","blue/siteFeature","profileArea/personalDetails/customerName/service/dataProvider/customerName","common/lib/modelUtil","profileArea/personalDetails/customerName/lib/fileUploadUtil","profileArea/sharedLib/apptelTracker"],(function(e){"use strict";var t=e("profileArea/personalDetails/customerName/view/customerName"),i=e("profileArea/personalDetails/customerName/view/eDocs/legalNameChangeFileUpload"),n=e("profileArea/personalDetails/customerName/view/eDocs/legalNameChangeVerify"),r=e("profileArea/personalDetails/customerName/view/eDocs/legalNameChangeFormW9"),a=e("profileArea/personalDetails/customerName/view/eDocs/legalNameChangeTaxpayer"),o=e("profileArea/personalDetails/customerName/view/eDocs/legalNameChangeReview"),s=e("profileArea/personalDetails/customerName/view/eDocs/legalNameChangeSignW9"),c=e("profileArea/personalDetails/customerName/view/eDocs/legalNameChangeConfirmation"),l=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd");return function(d){var u,p=d.profileContainer.constants.RENDER_TARGET,m=d.profileContainer.constants,f=e("profileArea/sharedLib/constants"),A=e("appkit-utilities/language/helper").getContentLanguage(),g=e("blue/siteData"),E=e("blue/siteFeature"),y=d.dcu.dynamicContent,h=e("profileArea/personalDetails/customerName/service/dataProvider/customerName"),v=e("common/lib/modelUtil"),C=e("profileArea/personalDetails/customerName/lib/fileUploadUtil"),_=!1,S=e("profileArea/sharedLib/apptelTracker");function T(e){return!d.is.null(e)&&!d.is.undefined(e)&&!d.is.empty(e)}function N(e,t){var i=u.model.get("eDocs.shared.cache")||{};i[e]=t,u.model.set("eDocs.shared.cache",i)}function I(){var e,t,i,n=(t={},(i=b("fileUploads"))&&i.forEach((function(i){t.documentFriendlyName=i.fileName,t.fileType=i.fileType,t.documentType=b("documentType"),t.languageCode=f.eDocs.LANGUAGE_MAPPER[A].languageCode,e=i.fullFile})),t.eventCorrelationIdentifier=b("eventCorrelationIdentifier"),{entityFile:e,metaData:t}),r=new FormData;r.append("filereference",JSON.stringify(n.metaData)),r.append("documentimage",n.entityFile),O("eDocsService.legalNameChangeUploadFile",r).then((()=>{u.model.set("legalNameChangeFileUpload.$showFileUploadSuccess",!0)}))}function b(e){var t=(u.model.get("eDocs.shared.cache")||{})[e];return T(t)?t:""}function D(){u.model.set("eDocs.shared.cache",null)}function O(e,t,i){return u.dataProvider.request(e,t,i)}function P(){var e=b("currentLegalNameLabel");return T("currentLegalNameLabel")?e:y.get(u.components.customerName,"currentLegalNameLabel")}function L(){!T(b("currentCustomerName"))&&d.state(f.eDocs.ROUTE.CUSTOMER_NAME)}function M(e){d.hybrid?function(e){d.hybridHelper.webNativeMessenger.onFinish(e||{})}(e):d.state(d.settings.get("dashboardUrl"))}this.onInit=function(){(u=this).dataProvider.mappers=h(d),d.exitEDocs=M,d.setCachedData=N,d.getCachedData=b,d.clearCachedData=D,d.hasValue=T,d.uploadLegalNameFile=I,d.setCurrentLegalName=P,d.fileUploadUtil=C,d.getCustomerNameHeader=function(){var e=b("customerNameHeader");return T(e)?e:y.get(u.components.customerName,"customerNameHeader")},d.getCurrentLegalName=function(){return O("eDocsService.getCustomerProfile",{eDocumentType:"LEGAL_NAME_CHANGE"})},d.sendLegalNameChange=function(){return d.deregisterDirtyForm("legalNameChangeSignW9"),O("eDocsService.legalNameChange",JSON.stringify((e=b("currentAddress"),t=b("taxClassification"),i=T(t.llc),n=b("taxCertification").certification,t=i?t.llc:t.classification,{eventCorrelationIdentifier:b("eventCorrelationIdentifier"),firstName:b("firstName"),middleName:b("middleName"),lastName:b("lastName"),businessName:e&&e.businessName,addressLine1:e&&e.addressLine1,addressLine2:e&&e.addressLine2,addressLine3:e&&e.addressLine3,addressCityName:e&&e.addressCityName,addressStateCode:e&&e.addressStateCode,addressPostalCode:e&&e.addressPostalCode,irsW9ExemptPayeeCode:e&&e.payeeCode,exemptFromFatcaReportingCode:e&&e.reportingCode,taxpayerClassificationCode:f.eDocs.TAX_CLASSIFICATION[t].value,tokenReferenceIdentifier:b("tokenReferenceIdentifier"),resourceIdentifier:b("resourceIdentifier"),taxWithholdingRequiredIndicator:f.eDocs.TAX_CERTIFICATION[n].value,languageCode:f.eDocs.LANGUAGE_MAPPER[A].languageCode,agreementVersionNumber:b("eSignAgreementId")+":"+b("agreementVersion"),hasEsignDisclosureConsentIndicator:!0}))).then((function(){return O("eDocsService.getWorkflowStatus",JSON.stringify({eventCorrelationIdentifier:b("eventCorrelationIdentifier"),resourceIdentifier:b("workflowTokenIdentifier")})).then((function(){var e=b("eSignUrl");return d.privateState("dashboard/profileArea/eDocsFrame/index",{pageUrl:e,pageTitle:"LNC frame",target:"#legalNameChange-iframe"})}))}));var e,t,i,n},d.sendSigningStatus=function(){var e={eventCorrelationIdentifier:b("eventCorrelationIdentifier"),transactionIdentifier:b("signingStatusIdentifier"),fileCount:f.eDocs.SIGNING_STATUS.fileCount,transactionCodeName:f.eDocs.SIGNING_STATUS.transactionCodeName};e&&e.transactionIdentifier&&e.transactionIdentifier.length>0&&function(e){O("eDocsService.getSigningStatus",JSON.stringify(e)).then((function(){var e={COMPLETED:function(){d.state(f.eDocs.ROUTE.LEGAL_NAME_CHANGE_CONFIRM)},DECLINED:function(){d.application.broadcast("clearEdocsIFrame"),d.state(f.eDocs.ROUTE.LEGAL_NAME_CHANGE_REVIEW),u.model.set("legalNameChangeReview.esignDisclosureConsent",!1)},default:function(){d.profileContainer.displayPageAlert(d.getComponent("customerName"),{header:"legalNameChangeErrorHeader.SYSTEM_FAILURE",advisory:"legalNameChangeErrorAdvisory.SYSTEM_FAILURE"}),d.application.broadcast("clearEdocsIFrame"),u.model.set("legalNameChangeSignW9.$showIframe",!1),u.model.set("legalNameChangeSignW9.$hidePageElementsOnError",!0)}};(e[b("packageSigningStatusCode")]||e.default).call(u)}))}(e)},d.cachePrivateData=function(e){var t={};return t.descriptionText=function(e){var t={ssn:function(){return JSON.stringify({ssn:e.value})},ein:function(){return JSON.stringify({ein:e.value})},default:function(){d.logger.error("Error creating Cache Data request",e)}};return(t[e.idType]||t.default).call(d)}(e),t.eventCorrelationIdentifier=b("eventCorrelationIdentifier"),N("currentCachedIdType",e.idType),O("eDocsService.cachePrivateData",JSON.stringify(t))},d.geteSignAgreementUrl=function(){var e="JPMORGAN"===g.getData("brandId")?f.eDocs.AGREEMENT_ID.JPO:f.eDocs.AGREEMENT_ID.NON_JPO,t={language:A,agreements:{},context:"library"};t.agreements[e]="",N("eSignAgreementId",e),O("eDocsService.getAgreementUrl",JSON.stringify(t))},d.getMailingAddress=function(){return O("eDocsService.getMailingAddress")},d.showDirtyFormOverlay=function(e,t,i){d.application.broadcast("dirtyOverlayAPI/showConfirmationOverlay",{data:{parentComponent:e,useMdsTemplate:!0,parentComponentAnalyticsKey:"exitConfirmationOverlay",returnFocusToSelector:"#eDocsExit",executeAction:function(){t()},executeNoAction:function(){"function"==typeof i&&i()}}})},d.showLanguageOverlay=function(e,t,i){d.application.broadcast("languageOverlayAPI/showLanguageOverlay",{data:{parentComponent:e,variation:"SPEEDBUMP",executeAction:function(){t()},executeNoAction:function(){"function"==typeof i&&i()}}})},d.setSplashState=function(){var e="SPLASH_MODE",t="SPLASH_MODE",i="legalNameChange",n="customerName";y.setMultiple(u.components[n],[{key:i+"ErrorHeader",variation:e},{key:i+"ErrorAdvisory",variation:t}]),u.model.set(n+".$splashState",!0)},d.setAccountsLookup=function(e){u.model.set("eDocs.accountsLookup",e)},d.registerDirtyFormOverlay=function(e,t){d.bubble("dirtyRegister",{controller:u,compInstanceNames:[e],target:m.RENDER_TARGET.target,whiteList:t})},d.deregisterDirtyForm=function(e){d.bubble("dirtyDeregister",{name:e})},d.editPersonalDetails=function(){var e=d.state(),t={target:"#personalDetails",isEditOrBackMode:!0};return N("isEditMode",!0),e.action={name:"_renderPersonalDetails",params:t},d.privateState(e)},d.editTaxClassification=function(){var e=d.state(),t={isEditOrBackMode:!0};return N("taxPayerTarget","#classification"),e.action={name:"legalNameChangeTaxpayer",params:t},d.privateState(e)},d.handleTaxPayerBack=function(){var e=d.state(),t={isEditOrBackMode:!0};return N("taxPayerTarget","#my-profile-page-content"),e.action={name:"legalNameChangeTaxpayer",params:t},d.state(e)},d.editTaxCertification=function(){var e=d.state(),t={isEditOrBackMode:!0};return N("taxPayerTarget","#certification"),e.action={name:"legalNameChangeTaxpayer",params:t},d.privateState(e)},d.getComponent=function(e){return u.registry.getComponent(e)},d.destroyComponent=function(e){u.registry.hasComponent(e)&&u.components[e].destroy()},d.enableEDocsLNCFLow=!1,l.getFeatureTreatments(["cxo_edocs_LNCFlow_enable"],{cxo_edocs_LNCFlow_enable:!1}).then((function(e){d.enableEDocsLNCFLow=e&&e.cxo_edocs_LNCFlow_enable})).catch((function(e){d.logger.error("LNC error retrieving splitIO flag:",e)})),d.on({eDocsIframeLoaded:function(){d.registerDirtyFormOverlay("legalNameChangeSignW9",["$iFrameLoaded"]),u.model.set("legalNameChangeSignW9.$iFrameLoaded",!0)}})},this.requestCustomerName=function(){var e,i,n;return d.clearCachedData(),u.registry.hasComponent("customerName")||v.enrichComponent(u,"customerName","legal_name_change").spec({data:{$noAccountsEligible:v.DataType.OnOff,$splashState:v.DataType.OnOff}}),u.model.set("customerName",{$noAccountsEligible:!1,$splashState:!1}),e=y.get(u.components.customerName,"customerNameHeader"),n=y.get(u.components.customerName,"currentLegalNameLabel"),N("customerNameHeader",e),N("currentLegalNameLabel",n),d.profileContainer.setPageProperties({pageTitle:d.getCustomerNameHeader()}),d.application.userProfileComplete.then((function(){T(i=E.getData("edocumentsEsignature"))&&(!1===i||"false"===i)&&d.setSplashState(),d.logger.info("LNC splash value:",i)})),d.getCurrentLegalName().then((function(){var e=b("accountList");_=e&&e.every((function(e){return!0===e.isEligibleECI})),u.model.set("customerName.$noAccountsEligible",!_)})),S.logLeaveAction("$$Profile_Details"),[this.components.customerName,t,p]},this.legalNameChangeFileUpload=function(){return L(),d.profileContainer.setPageProperties({pageTitle:d.getCustomerNameHeader()}),u.registry.hasComponent("legalNameChangeFileUpload")||v.enrichComponent(u,"legalNameChangeFileUpload","legal_name_change_file_upload").spec({data:{$currentLegalName:v.DataType.Description,$supportingDocumentTypes:v.DataType.List,$showFileUploadError:v.DataType.OnOff,$showFileUploadSuccess:v.DataType.OnOff,$placeHolderText:v.DataType.Description,$focusSelector:v.DataType.Description}}),u.model.set("legalNameChangeFileUpload",{$currentLegalName:"",$placeHolderText:"",$supportingDocumentTypes:JSON.stringify([]),$showFileUploadError:!1,$showFileUploadSuccess:!1,$focusSelector:""}),d.registerDirtyFormOverlay("legalNameChangeFileUpload",["firstName","middleName","lastName","documentType"]),[this.components.legalNameChangeFileUpload,i,{target:"#my-profile-page-content"}]},this.legalNameChangeFormW9=function(){return!T(b("currentAddress"))&&d.getMailingAddress(),d.profileContainer.setPageProperties({pageTitle:d.getCustomerNameHeader()}),this._renderPersonalDetails({target:"#my-profile-page-content"})},this.legalNameChangeVerify=function(){return L(),d.profileContainer.setPageProperties({pageTitle:d.getCustomerNameHeader()}),u.registry.hasComponent("legalNameChangeVerify")||v.enrichComponent(u,"legalNameChangeVerify","legal_name_change_verify").spec({data:{$currentLegalName:v.DataType.Description,$focusSelector:v.DataType.Description}}),u.model.set("legalNameChangeVerify",{$currentLegalName:"",$focusSelector:""}),d.registerDirtyFormOverlay("legalNameChangeVerify"),[this.components.legalNameChangeVerify,n,{target:"#my-profile-page-content"}]},this.legalNameChangeTaxpayer=function(e){L();var t=b("taxPayerTarget"),i=e.isEditOrBackMode;return d.profileContainer.setPageProperties({pageTitle:d.getCustomerNameHeader()}),N("taxPayerEditMode",!!T(i)&&i),N("taxPayerTarget",T(t)?t:"#my-profile-page-content"),this._renderlegalNameChangeTaxpayer()},this._renderlegalNameChangeTaxpayer=function(){var e=b("taxPayerTarget");return u.registry.hasComponent("legalNameChangeTaxpayer")||v.enrichComponent(u,"legalNameChangeTaxpayer","legal_name_change_taxpayer").spec({data:{$newCustomerName:v.DataType.Description,$currentStep:v.DataType.Description,$showLLC:v.DataType.OnOff,$socialSecurityNumberMasked:v.DataType.Description,$einMasked:v.DataType.Description,$socialSecurityNumberMaskedPlaceholder:v.DataType.Description,$einMaskedPlaceholder:v.DataType.Description,$isEditOrBackMode:v.DataType.OnOff,$identificationNumberOpenAda:v.DataType.Description,$identificationNumberCloseAda:v.DataType.Description,$focusSelector:v.DataType.Description}}),u.model.set("legalNameChangeTaxpayer",{$newCustomerName:"",$currentStep:"taxPayerStep",$isEditOrBackMode:b("taxPayerEditMode"),$showLLC:!1,$focusSelector:""}),"#my-profile-page-content"===e&&(u.model.set("legalNameChangeTaxpayer.$currentStep","taxPayerStep"),d.registerDirtyFormOverlay("legalNameChangeTaxpayer",["classification","identificationNumber","certification"])),"#classification"===e&&(u.model.set("legalNameChangeTaxpayer.$currentStep","taxClassificationReview"),d.deregisterDirtyForm("legalNameChangeTaxpayer")),"#certification"===e&&(u.model.set("legalNameChangeTaxpayer.$currentStep","taxCertificationReview"),d.deregisterDirtyForm("legalNameChangeTaxpayer")),[this.components.legalNameChangeTaxpayer,a,{target:e}]},this.legalNameChangeReview=function(){return L(),d.profileContainer.setPageProperties({pageTitle:d.getCustomerNameHeader()}),d.geteSignAgreementUrl(),u.registry.hasComponent("legalNameChangeReview")||v.enrichComponent(u,"legalNameChangeReview","legal_name_change_review").spec({data:{$hidePersonalDetailsHeader:v.DataType.OnOff,$hideTaxClassificationHeader:v.DataType.OnOff,$hideTaxCertificationHeader:v.DataType.OnOff,$showIframe:v.DataType.OnOff,$showDisclosureError:v.DataType.OnOff,$focusSelector:v.DataType.Description,$hidePageElementsOnError:v.DataType.OnOff}}),u.model.set("legalNameChangeReview",{$hidePersonalDetailsHeader:!1,$hideTaxClassificationHeader:!1,$hideTaxCertificationHeader:!1,$showIframe:!1,$focusSelector:"",$showDisclosureError:!1,$hidePageElementsOnError:!1}),d.registerDirtyFormOverlay("legalNameChangeReview",["newCustomerName","formattedAddress","esignDisclosureConsent"]),[this.components.legalNameChangeReview,o,{target:"#my-profile-page-content"}]},this.legalNameChangeSignW9=function(){return L(),d.profileContainer.setPageProperties({pageTitle:d.getCustomerNameHeader()}),u.registry.hasComponent("legalNameChangeSignW9")||v.enrichComponent(u,"legalNameChangeSignW9","legal_name_change_review").spec({data:{$showIframe:v.DataType.OnOff,$focusSelector:v.DataType.Description,$hidePageElementsOnError:v.DataType.OnOff,$iFrameLoaded:v.DataType.OnOff}}),u.model.set("legalNameChangeSignW9",{$showIframe:!1,$focusSelector:"",$hidePageElementsOnError:!1,$iFrameLoaded:!1}),d.sendLegalNameChange(),[this.components.legalNameChangeSignW9,s,{target:"#my-profile-page-content"}]},this._renderPersonalDetails=function(e){L();var t=e.target,i=e.isEditOrBackMode;return N("personalDetailsEditMode",!!T(i)&&i),u.registry.hasComponent("legalNameChangeFormW9")||(v.enrichComponent(u,"legalNameChangeFormW9","legal_name_change_form_w_nine").spec({data:{$states:v.DataType.Description,$payeeCodes:v.DataType.Description,$reportingCodes:v.DataType.Description,$currentStep:v.DataType.Description,$businessNameOpenAda:v.DataType.Description,$businessNameCloseAda:v.DataType.Description,$addressOpenAda:v.DataType.Description,$addressCloseAda:v.DataType.Description,$payeeCodeOpenAda:v.DataType.Description,$payeeCodeCloseAda:v.DataType.Description,$reportingCodeOpenAda:v.DataType.Description,$reportingCodeCloseAda:v.DataType.Description,$chooseCodePlaceholder:v.DataType.Description,$isEditOrBackMode:v.DataType.OnOff,$focusSelector:v.DataType.Description,$pageTitle:v.DataType.Description}}),u.model.set("legalNameChangeFormW9",{$states:"",$payeeCodes:"",$reportingCodes:"",$focusSelector:"",$isEditOrBackMode:b("personalDetailsEditMode"),$currentStep:"personalDetailReview"})),"#my-profile-page-content"===t&&(u.model.set("legalNameChangeFormW9.$currentStep","formW9"),d.registerDirtyFormOverlay("legalNameChangeFormW9",["businessName","mailingAddressLineOne","mailingAddressLineTwo","mailingAddressLineThree","cityName","stateId","zipCode","payeeCode","reportingCode"])),[this.components.legalNameChangeFormW9,r,{target:t}]},this.legalNameChangeConfirmation=function(){return L(),d.profileContainer.setPageProperties({pageTitle:d.getCustomerNameHeader()}),u.model.set("legalNameChangeConfirmation",{}),[this.components.legalNameChangeConfirmation,c,{target:"#my-profile-page-content"}]},this.onComplete=function(){}}})),define("profileArea/personalDetails/customerName/component/customerName",["require","profileArea/sharedLib/constants"],(function(e){"use strict";return function(t){var i=e("profileArea/sharedLib/constants");this.onInit=function(){t.globalContentMixin.call(this,i.globalContent)},this.onReady=function(){t.logger.info("customerName Component onReady()")},this.requestChangeNameForm=function(){t.enableEDocsLNCFLow?t.state(i.eDocs.ROUTE.EDOCS_LNC_FLOW):t.state(i.eDocs.ROUTE.LEGAL_NAME_CHANGE_FILE_UPLOAD)},this.returnToAccounts=function(){t.exitEDocs({exitToNativeEntryPoint:!1})}}})),define("profileArea/personalDetails/customerName/lib/fileUploadMixin",["require","profileArea/personalDetails/customerName/lib/fileUploadUtil"],(function(e){"use strict";return function(t,i){var n,r=e("profileArea/personalDetails/customerName/lib/fileUploadUtil"),a=[],o=50,s=this;s.fileUploadInit=function(){t.hybrid&&(t.jsBridge.uploadFile=s.handleNativeFileUpload)},s.addAlreadyUploadedFile=function(e){a.push(e)},s.clearAllFiles=function(){a=[]},s.addFileToBeUploaded=function(e,t){s.model.set("$showFileUploadError",null),t&&(n=t);var i=e.context.fileObj.violations[0];i?s._handleFileUploadError(i):s._validateFileToBeUploaded(e.context.fileObj)},s._updateFileUploadAdvisory=function(e,i){s.remainingFileSize=e,s.numberOfFiles=i,t.dcu.dynamicContent.set(s,"fileUploadAdvisory",{remainingFileSize:r.fileSizeConverter(s,e),numberOfFiles:i})},s._deleteFile=function(e){var t=e.context.dataIndex.rowIndex;s.model.set("$showFileUploadError",null);var i=s.model.get("fileUploads");i.forEach((function(e,n,r){var a=i&&i[t].fileName;e.fileName===a&&r.splice(n,1)})),s.model.set("fileUploads",i),a=i},s._validateFileToBeUploaded=function(e){var r,a,c;r=(n||i).FILE_UPLOAD_CONFIG.MAX_FILENAME_LENGTH,t.hasValue(r)&&(o=r),e.fileName=e.name&&e.name.length>o?(a=e.name,c=o-3,a.substr(0,c-1)+"."+a.split(".").pop().toLowerCase()):e.name;var l=s._checkFileToBeUploadedSize(e.size);!l&&(l=s._checkMaxFileAllowed()),t.hybrid&&!l&&(l=s.checkValidFileExtension(e.fileName)),!l&&(l=s._checkFileToBeUploadedForDuplicatedName(e.fileName)),l&&s._handleFileUploadError(l),!l&&s._uploadFileToCache(e)},s._checkMaxFileAllowed=function(){var e=(n||i).FILE_UPLOAD_CONFIG.ALLOWED_NUMBER_OF_FILES;return e&&a.length>=e?"violatedNumberOfFiles":""},s.checkValidFileExtension=function(e){for(var t=n||i,r=e.split(".").pop().toLowerCase(),a=t.FILE_UPLOAD_CONFIG.ALLOWED_EXTENSIONS,o=!1,s=0,c=a.length;s<c;s++)o=r===a[s].split(".").pop().toLowerCase()||o;return o?"":"violatedFileType"},s._handleFileUploadError=function(e){e=i.VIOLATION_MAPPER[e],t.broadcast("showHideFileUploadError",e)},s._uploadFileToCache=function(e){var i=function(e){var t=n&&n.multipleFilesEnabled;return{fileName:e.fileName,fileSize:e.size,fileType:e.type,lastModifiedDate:new Date(e.lastModified).toDateString(),isMultiEnabled:t,fullFile:e}}(e);a.push(i),s.model.set("fileUploads",a),t.setCachedData("fileUploads",a),t.setCachedData("fileName",e.fileName),t.setCachedData("fileType",e.type),t.setCachedData("lastModifiedDate",new Date(e.lastModified).toDateString()),t.setCachedData("fileSize",e.size),s.model.set("fileName",e.fileName),s.model.set("fileSize",e.size)},s._checkFileToBeUploadedSize=function(e){var t="";return e>s.remainingFileSize&&(t="violatedFileSize"),t||0===e&&(t="violatedMinimumFileSize"),t},s._checkFileToBeUploadedForDuplicatedName=function(e){var t="";return a&&a.find((function(t){return t.fileName.toLowerCase()===e.toLowerCase()}))&&(t="violatedSameFileName"),t},s.requestCameraOrGalleryAccess=function(){var e=n||i,r={MAX_FILE_SIZE:e.FILE_UPLOAD_CONFIG.MAX_FILE_SIZE,REMAINING_FILE_SIZE:e.ATTACHMENT_SIZE_MAX-s.model.get("totalAttachmentSize"),ALLOWED_EXTENSIONS:e.FILE_UPLOAD_CONFIG.ALLOWED_EXTENSIONS?e.FILE_UPLOAD_CONFIG.ALLOWED_EXTENSIONS.join(","):"NaN",eventType:"openCameraOrGallery"};t.hybridHelper.webNativeMessenger.notifyToNative(r,"openCameraOrGallery")},s.handleNativeFileUpload=function(e,i){s.model.set("$showFileUploadError",null);var n=JSON.parse(i);if(t.logger.info("Bridge response"+JSON.stringify(n)),n.errorCode)s._handleFileUploadError(n.errorCode);else{var a=r.byteArrayToFileObj(e,n);s._validateFileToBeUploaded(a)}},s.setUploadFileConfig=function(e){e&&(n=e)}}})),define("profileArea/personalDetails/customerName/lib/validators/legalNameChangeFileUploadValidator",["require","appkit-utilities/validation/util"],(function(e){"use strict";var t=e("appkit-utilities/validation/util"),i=/^[-'.A-Za-z\s]{1,26}$/g,n=function(e,t){return function(e,t){var i={};return i.isValid=new RegExp(e).test(t),i.errorType=i.isValid?" ":"INVALID_FORMAT",i}(i,t[e.item])};return{validators:{firstName:[{validator:n,type:"custom"}],middleName:[{validator:function(e,i){return""!==t.getProperty(e,i)},type:"required"},{validator:n,type:"custom"}],lastName:[{validator:n,type:"custom"}]},getWhiteList:function(){return["firstName","lastName"]}}})),define("profileArea/sharedLib/formatUtil",[],(function(){"use strict";var e;function t(t,i,n){var r="";return e.is.defined(n)&&e.is.defined(t)&&e.is.defined(i)?r=t+" "+n+" "+i:e.is.defined(t)&&e.is.defined(i)&&(r=t+" "+i),r}function i(e){return e.addressLine1+(e.addressLine2?" "+e.addressLine2+", ":"")+(e.addressLine3?" "+e.addressLine3+", ":"")+"<br>"+e.addressCityName+", "+e.addressStateCode+" "+((t=e.addressPostalCode)&&t.slice(0,5)+(t&&t.slice(5,9)?"-"+t&&t.slice(5,9):""));var t}return function(n){return e=n,{formatFullName:t,formatMailingAddress:i}}})),define("profileArea/personalDetails/customerName/component/eDocs/legalNameChangeFileUpload",["require","profileArea/sharedLib/constants","profileArea/personalDetails/customerName/lib/fileUploadMixin","profileArea/personalDetails/customerName/lib/validators/legalNameChangeFileUploadValidator","appkit-utilities/validation/componentValidate","profileArea/sharedLib/formatUtil"],(function(e){"use strict";return function(t){var i,n,r=e("profileArea/sharedLib/constants"),a=e("profileArea/personalDetails/customerName/lib/fileUploadMixin"),o=e("profileArea/personalDetails/customerName/lib/validators/legalNameChangeFileUploadValidator"),s=e("appkit-utilities/validation/componentValidate"),c=e("profileArea/sharedLib/formatUtil")(t);function l(){var e,r,a=[{label:n.get(i,"selectDocumentTypeLabel.COURT_DOCUMENT"),value:"COURT_DOCUMENT"},{label:n.get(i,"selectDocumentTypeLabel.DRIVERS_LICENSE"),value:"DRIVERS_LICENSE"},{label:n.get(i,"selectDocumentTypeLabel.STATE_ID"),value:"STATE_ID"},{label:n.get(i,"selectDocumentTypeLabel.SOCIAL_SECURITY_CARD"),value:"SOCIAL_SECURITY_CARD"},{label:n.get(i,"selectDocumentTypeLabel.PASSPORT"),value:"PASSPORT"},{label:n.get(i,"selectDocumentTypeLabel.NATURALIZATION_PAPERS"),value:"NATURALIZATION_PAPERS"}];t.setCachedData("supportingDocumentTypes",a),i.model.set("$currentLegalName",t.getCachedData("currentCustomerName")),t.setCachedData("placeholderText",n.get(i,"selectDocumentTypeLabel.DEFAULT")),i.model.set("$placeHolderText",n.get(i,"selectDocumentTypeLabel.DEFAULT")),e=t.getCachedData("supportingDocumentTypes").map((function(e){return{label:e.label,value:e.value}})),r={label:t.getCachedData("placeholderText"),value:""},e.unshift(r),i.$supportingDocumentTypes=JSON.stringify(e),i.documentType=""}this.onInit=function(){i=this,n=t.dcu.dynamicContent,a.call(i,t,r.eDocs),s.call(i,t,o.validators),i.model.set("whiteList",o.getWhiteList()),i.fileUploadInit(),t.globalContentMixin.call(i,r.globalContent),i.currentLegalNameLabel=t.setCurrentLegalName(),i.firstName=t.getCachedData("firstName"),i.middleName=t.getCachedData("middleName"),i.lastName=t.getCachedData("lastName"),i.documentType="",i.$showFileUploadSuccess=t.getCachedData("$showFileUploadSuccess"),i.fileUploads=[],i.model.onValue("fileName",(function(e){e?i.addToWhiteList(["documentType"]):i.removeFromWhiteList(["documentType"])})),i.model.onValue("middleName",(function(e){"string"==typeof e&&""!==e.trim()?i.addToWhiteList(["middleName"]):i.removeFromWhiteList(["middleName"])})),i.model.onValue("documentType",(function(e){t.setCachedData("supportingDocumentType",n.get(i,"selectDocumentTypeLabel."+e)),t.setCachedData("documentType",e)}))},this.onReady=function(){t.logger.info("LegalNameChangeFileUpload Component onReady()"),l(),t.on("showHideFileUploadError",i._showHideFileUploadError)},this._showHideFileUploadError=function(e){t.fileUploadUtil.setFileUploadError(i,e)},this.requestDocumentType=function(e){var t=e.context.data;i.documentType=t},this.requestCancel=function(){t.showDirtyFormOverlay(i,(function(){t.clearCachedData(),t.state(r.eDocs.ROUTE.CUSTOMER_NAME)}),(function(){i.$focusSelector="#cancelButton"}))},this.requestUploadFile=function(e){var n=e.context;if(i.model.set("$showFileUploadError",!1),!i.$showFileUploadSuccess&&i.fileUploads.length>0&&n.isFormValid)t.profileContainer.dismissPageAlert(),i.model.set("$showFileUploadError",!1),t.uploadLegalNameFile();else if(n.documentTypeErrorMessage)i.uploadedFileError=n.documentTypeErrorMessage;else{var r=i.fileUploads.length>0?"MISSING_MANDATORY_DATA":"MISSING_SUPPORTING_DOCUMENT";this._showHideFileUploadError(r)}},this.requestNextStep=function(e){var n=i.model,a=c.formatFullName(n.get("firstName"),n.get("lastName"),n.get("middleName")),o=e.context;n.set("$showFileUploadError",!1),t.setCachedData("firstName",n.get("firstName")),t.setCachedData("middleName",n.get("middleName")),t.setCachedData("lastName",n.get("lastName")),t.setCachedData("newCustomerName",a),!i.$showFileUploadSuccess&&i.fileUploads.length>=0&&(o.documentTypeErrorMessage?i.uploadedFileError=o.documentTypeErrorMessage:this._showHideFileUploadError("MISSING_MANDATORY_DATA")),i.$showFileUploadSuccess&&o.isFormValid&&(t.deregisterDirtyForm("legalNameChangeFileUpload"),t.state(r.eDocs.ROUTE.LEGAL_NAME_CHANGE_VERIFY))},this.deleteFile=function(e){i.documentType="",i.fileName=null,i.$supportingDocumentTypes=null,i._deleteFile(e)},this.chooseFile=function(e){t.hasValue(i.$supportingDocumentTypes)||l(),t.hybrid?i.requestCameraOrGalleryAccess():this.addFileToBeUploaded(e)}}})),define("profileArea/personalDetails/customerName/component/eDocs/legalNameChangeVerify",["require","profileArea/sharedLib/constants"],(function(e){"use strict";return function(t){var i,n=e("profileArea/sharedLib/constants");this.onInit=function(){i=this,t.globalContentMixin.call(i,n.globalContent),i.currentLegalNameLabel=t.setCurrentLegalName(),i.model.set("newCustomerName",t.getCachedData("newCustomerName").toUpperCase())},this.onReady=function(){t.logger.info("LegalNameChangeVerify Component onReady()"),i.model.set("$currentLegalName",t.getCachedData("currentCustomerName"))},this.requestNextStep=function(){t.deregisterDirtyForm("legalNameChangeVerify"),t.state(n.eDocs.ROUTE.LEGAL_NAME_CHANGE_FORM_W9)},this.requestPreviousStep=function(){t.deregisterDirtyForm("legalNameChangeVerify"),t.setCachedData("$showFileUploadSuccess",!0),t.state(n.eDocs.ROUTE.LEGAL_NAME_CHANGE_FILE_UPLOAD)},this.requestCancel=function(){t.showDirtyFormOverlay(i,(function(){t.clearCachedData(),t.state(n.eDocs.ROUTE.CUSTOMER_NAME)}),(function(){i.$focusSelector="#cancelButton"}))}}})),define("profileArea/sharedLib/sharedValidators/legalNameChangeFormW9Validator",["require","appkit-utilities/validation/util","blue-app/validate/var/ADDRESS_LINE_REGEX","blue-app/validate/var/ZIP_CODE_REGEX","blue-app/validate/var/CITY_REGEX","blue-app/validate/var/NAME_REGEX"],(function(e){"use strict";var t=e("appkit-utilities/validation/util"),i=e("blue-app/validate/var/ADDRESS_LINE_REGEX"),n=e("blue-app/validate/var/ZIP_CODE_REGEX"),r=e("blue-app/validate/var/CITY_REGEX"),a=/^[a-zA-Z0-9. '-]*$/,o=e("blue-app/validate/var/NAME_REGEX"),s=function(e,t){var i={};return i.isValid=new RegExp(e).test(t),i.errorType=i.isValid?" ":"INVALID_FORMAT",i},c=function(e,t){return s(i,t[e.item])},l=function(e,i){return""!==t.getProperty(e,i)};return{validators:{businessName:[{validator:l,type:"required"},{validator:function(e,t){return s(a,t[e.item])},type:"custom"}],mailingAddressLineOne:[{validator:c,type:"custom"}],mailingAddressLineTwo:[{validator:l,type:"required"},{validator:c,type:"custom"}],mailingAddressLineThree:[{validator:l,type:"required"},{validator:c,type:"custom"}],cityName:[{validator:function(e,t){return s(r,t[e.item])},type:"custom"}],stateId:[{validator:function(e,t){return s(o,t[e.item])},type:"custom"}],zipCode:[{validator:function(e,t){return s(n,t[e.item])},type:"custom"}],payeeCode:[{validator:l,type:"required"},{validator:a,type:"custom"}],reportingCode:[{validator:l,type:"required"},{validator:a,type:"custom"}]},getWhiteList:function(){return["businessName","mailingAddressLineOne","cityName","stateId","zipCode"]}}})),define("profileArea/sharedLib/triggerContentLink",[],(function(){"use strict";return function(e){this.triggerContentLink=function(t){var i,n,r;t&&t.domEvent&&(n=(i=t.domEvent.target).nodeName,t.domEvent.preventDefault(),"A"===n&&(r=(i.attributes["data-attr"]&&i.attributes["data-attr"].value).split(".").pop())&&e.is.function(this[r])&&this[r](t))}}})),define("profileArea/personalDetails/customerName/component/eDocs/legalNameChangeFormW9",["require","profileArea/sharedLib/constants","common/lib/mailingAddressCodes","profileArea/sharedLib/sharedValidators/legalNameChangeFormW9Validator","appkit-utilities/validation/componentValidate","profileArea/sharedLib/triggerContentLink"],(function(e){"use strict";return function(t){var i,n,r=function(){},a=e("profileArea/sharedLib/constants"),o=e("common/lib/mailingAddressCodes"),s=e("profileArea/sharedLib/sharedValidators/legalNameChangeFormW9Validator"),c=e("appkit-utilities/validation/componentValidate");function l(){var e={};e.businessName=i.businessName,e.addressLine1=i.mailingAddressLineOne,e.addressLine2=i.mailingAddressLineTwo,e.addressLine3=i.mailingAddressLineThree,e.addressCityName=i.cityName,e.addressStateCode=i.stateId,e.addressPostalCode=i.zipCode,e.payeeCode=i.payeeCode,e.reportingCode=i.reportingCode,t.setCachedData("currentAddress",e)}function d(){t.deregisterDirtyForm("legalNameChangeFormW9"),t.area.broadcast("formatMailingAddress"),t.destroyComponent("legalNameChangeFormW9")}this.onInit=function(){var r,l,d;i=this,c.call(i,t,s.validators),i.model.set("whiteList",s.getWhiteList()),e("profileArea/sharedLib/triggerContentLink").call(this,t),t.globalContentMixin.call(i,a.globalContent),n=i.model.get("$isEditOrBackMode"),i.$chooseCodePlaceholder=i.chooseCodeLabel,i.currentLegalNameLabel=t.setCurrentLegalName(),i.$businessNameOpenAda=t.dcu.dynamicContent.get(i,"opensDialogAda","BUSINESS_NAME"),i.$businessNameCloseAda=t.dcu.dynamicContent.get(i,"exitHelpMessageAda","BUSINESS_NAME"),i.$addressOpenAda=t.dcu.dynamicContent.get(i,"opensDialogAda","ADDRESS"),i.$addressCloseAda=t.dcu.dynamicContent.get(i,"exitHelpMessageAda","ADDRESS"),i.$payeeCodeOpenAda=t.dcu.dynamicContent.get(i,"opensDialogAda","PAYEE_CODES"),i.$payeeCodeCloseAda=t.dcu.dynamicContent.get(i,"exitHelpMessageAda","PAYEE_CODES"),i.$reportingCodeOpenAda=t.dcu.dynamicContent.get(i,"opensDialogAda","REPORTING_CODES"),i.$reportingCodeCloseAda=t.dcu.dynamicContent.get(i,"exitHelpMessageAda","REPORTING_CODES"),i.$pageTitle=t.getCustomerNameHeader(),r=o.stateCodes.map((function(e){return{stateName:t.dcu.dynamicContent.getGlobal("stateName",e),stateId:e}})),i.$states=r,l=a.eDocs.PAYEE_CODES.codes.map((function(e){return{payeeCodeName:e,payeeCode:e}})),d={payeeCodeName:i.chooseCodeLabel,payeeCode:""},l.unshift(d),i.$payeeCodes=l,i.payeeCode="",function(){var e=a.eDocs.REPORTING_CODES.codes.map((function(e){return{reportingCodeName:e,reportingCode:e}})),t={reportingCodeName:i.chooseCodeLabel,reportingCode:""};e.unshift(t),i.$reportingCodes=e,i.reportingCode=""}(),i.model.onValue("businessName",(function(e){"string"==typeof e&&""!==e.trim()?i.addToWhiteList(["businessName"]):i.removeFromWhiteList(["businessName"])})),i.model.onValue("mailingAddressLineTwo",(function(e){"string"==typeof e&&""!==e.trim()?i.addToWhiteList(["mailingAddressLineTwo"]):i.removeFromWhiteList(["mailingAddressLineTwo"])})),i.model.onValue("mailingAddressLineThree",(function(e){"string"==typeof e&&""!==e.trim()?i.addToWhiteList(["mailingAddressLineThree"]):i.removeFromWhiteList(["mailingAddressLineThree"])})),i.model.onValue("payeeCode",(function(e){"string"==typeof e&&""!==e.trim()?i.addToWhiteList(["payeeCode"]):i.removeFromWhiteList(["payeeCode"])})),i.model.onValue("reportingCode",(function(e){"string"==typeof e&&""!==e.trim()?i.addToWhiteList(["reportingCode"]):i.removeFromWhiteList(["reportingCode"])}))},this.onReady=function(){var e;t.logger.info("LegalNameChangeFormW9 Component onReady()"),i.newCustomerName=t.getCachedData("newCustomerName").toUpperCase(),e=t.getCachedData("currentAddress"),i.businessName=e.businessName,i.mailingAddressLineOne=e.addressLine1,i.mailingAddressLineTwo=e.addressLine2,i.mailingAddressLineThree=e.addressLine3,i.cityName=e.addressCityName,i.stateId=e.addressStateCode,i.zipCode=e.addressPostalCode,i.payeeCode=t.hasValue(e.payeeCode)?e.payeeCode:"",i.reportingCode=t.hasValue(e.reportingCode)?e.reportingCode:""},this.requestCancel=function(e){var r=e.context;r&&r.isEditMode||n?d():t.showDirtyFormOverlay(i,(function(){t.clearCachedData(),t.state(a.eDocs.ROUTE.CUSTOMER_NAME)}),(function(){i.$focusSelector="#cancelButton"}))},this.requestPreviousStep=function(){t.hybrid&&n?d():(t.setCachedData("currentAddress",""),t.deregisterDirtyForm("legalNameChangeFormW9"),t.state(a.eDocs.ROUTE.LEGAL_NAME_CHANGE_VERIFY))},this.requestNextStep=function(e){var i=e.context;i&&i.isFormValid&&(t.deregisterDirtyForm("legalNameChangeFormW9"),l(),t.state(a.eDocs.ROUTE.LEGAL_NAME_CHANGE_TAXPAYER))},this.confirmPersonalDetails=function(e){var i=e.context;i&&i.isFormValid&&(l(),t.deregisterDirtyForm("legalNameChangeFormW9"),t.area.broadcast("formatMailingAddress"),t.destroyComponent("legalNameChangeFormW9"))},this.requestIrsWebsite=function(e){var i;i=e.domEvent.target.href,t.application.broadcast("makeNavigation",{navKey:i,newTab:!0})},this.requestBusinessNameHelpMessage=r,this.requestMailingAddressHelpMessage=r,this.exitBusinessNameHelpMessage=r,this.exitMailingAddressHelpMessage=r,this.exitPayeeCodeHelpMessage=r,this.requestPayeeCodeHelpMessage=r,this.requestReportingCodeHelpMessage=r,this.exitReportingCodeHelpMessage=r}})),define("profileArea/personalDetails/customerName/lib/validators/legalNameChangeTaxpayerValidator",["require","appkit-utilities/validation/util","blue-app/validate/var/SSN_FORMAT","blue-app/validate/var/SSN_OAO_FORMAT"],(function(e){"use strict";var t=e("appkit-utilities/validation/util"),i=/^\d{9}$|^\d{2}-\d{7}$/,n=e("blue-app/validate/var/SSN_FORMAT"),r=e("blue-app/validate/var/SSN_OAO_FORMAT"),a=function(e,t){var i={};return i.isValid=new RegExp(e).test(t),i.errorType=i.isValid?" ":"INVALID_FORMAT",i};return{requiredFields:["classification","limitedLiabilityCompanyType","identificationNumber","employeeIdentificationNumber","certification"],validators:{identificationNumber:[{validator:function(e,i){var o=t.getProperty(e,i);return a(n,o)&&a(r,o)},type:"custom"}],employeeIdentificationNumber:[{validator:function(e,n){var r=t.getProperty(e,n);return a(i,r)},type:"custom"}]},getWhiteList:function(){return["classification","limitedLiabilityCompanyType","identificationNumber","employeeIdentificationNumber","certification"]}}})),define("profileArea/personalDetails/customerName/component/eDocs/legalNameChangeTaxpayer",["require","profileArea/sharedLib/constants","profileArea/personalDetails/customerName/lib/validators/legalNameChangeTaxpayerValidator","appkit-utilities/validation/componentValidate","profileArea/sharedLib/triggerContentLink"],(function(e){"use strict";return function(t){var i,n,r,a=function(){},o=t.dcu.dynamicContent,s=e("profileArea/sharedLib/constants"),c=e("profileArea/personalDetails/customerName/lib/validators/legalNameChangeTaxpayerValidator"),l=e("appkit-utilities/validation/componentValidate");function d(){var e=i.model.get("classification"),n=e===i.model.get("limitedLiabilityCompanyLabel");t.setCachedData("taxClassification",{classification:e,llc:n?i.model.get("limitedLiabilityCompanyType"):"",classificationLabel:o.get(i,n?s.eDocs.TAX_CLASSIFICATION[i.model.get("limitedLiabilityCompanyType")].contentLabel:s.eDocs.TAX_CLASSIFICATION[e].contentLabel),ssn:t.hasValue(i.model.get("$socialSecurityNumberMasked"))?i.model.get("$socialSecurityNumberMasked"):i.model.get("$socialSecurityNumberMaskedPlaceholder"),ein:t.hasValue(i.model.get("$einMasked"))?i.model.get("$einMasked"):i.model.get("$einMaskedPlaceholder")})}function u(){var e=i.model.get("certification");t.setCachedData("taxCertification",{certification:e,certificationLabel:o.get(i,s.eDocs.TAX_CERTIFICATION[e].contentLabel)})}function p(e){t.state(e)}function m(e){var t={ssn:function(){i.model.set("$socialSecurityNumberMaskedPlaceholder",i.identificationNumberPlaceholder)},ein:function(){i.model.set("$einMaskedPlaceholder",i.employeeIdentificationNumberPlaceholder)},default:function(){}};(t[e]||t.default).call(i)}function f(){t.deregisterDirtyForm("legalNameChangeTaxpayer");var e={taxClassificationReview:function(){t.area.broadcast("setSelectedTaxClassification")},taxCertificationReview:function(){t.area.broadcast("setSelectedTaxCertification")},default:function(){p(s.eDocs.ROUTE.LEGAL_NAME_CHANGE_FORM_W9)}};(e[r]||e.default).call(i),t.destroyComponent("legalNameChangeTaxpayer")}function A(){d(),t.deregisterDirtyForm("legalNameChangeTaxpayer"),t.area.broadcast("setSelectedTaxClassification"),t.destroyComponent("legalNameChangeTaxpayer")}this.onInit=function(){i=this,l.call(i,t,c.validators),t.globalContentMixin.call(i,s.globalContent),e("profileArea/sharedLib/triggerContentLink").call(this,t),i.model.set("newCustomerName",t.getCachedData("newCustomerName").toUpperCase()),i.model.set("whiteList",c.getWhiteList()),(n=i.model.get("$isEditOrBackMode"))&&t.setCachedData("taxClassification",t.getCachedData("taxClassification")),i.model.onValue("classification",(function(e){e===i.model.get("limitedLiabilityCompanyLabel")?i.addToWhiteList(["limitedLiabilityCompanyType"]):i.removeFromWhiteList(["limitedLiabilityCompanyType"])})),i.model.onValue("identificationNumber",(function(e){t.hasValue(e)&&(i.addToWhiteList(["identificationNumber"]),i.removeFromWhiteList(["employeeIdentificationNumber"]),i.$einMasked=null,i.$einMaskedPlaceholder=null,i.employeeIdentificationNumber=null)})),i.model.onValue("employeeIdentificationNumber",(function(e){t.hasValue(e)&&(i.addToWhiteList(["employeeIdentificationNumber"]),i.removeFromWhiteList(["identificationNumber"]),i.$socialSecurityNumberMaskedPlaceholder=null,i.$socialSecurityNumberMasked=null,i.identificationNumber=null)})),i.$identificationNumberOpenAda=i.opensDialogAda+" "+i.identificationNumberLabel,i.$identificationNumberCloseAda=i.exitHelpMessageAda+" "+i.identificationNumberLabel},this.onReady=function(){t.logger.info("LegalNameChangeTaxpayer Component onReady()"),r=i.model.get("$currentStep"),i.model.set("classification",t.getCachedData("taxClassification").classification),t.hasValue(t.getCachedData("taxClassification").ssn)&&m("ssn"),t.hasValue(t.getCachedData("taxClassification").ein)&&m("ein"),i.model.set("limitedLiabilityCompanyType",t.getCachedData("taxClassification").llc),i.model.set("$showLLC",!!t.getCachedData("taxClassification").llc),i.model.set("certification",t.getCachedData("taxCertification").certification),"taxClassificationReview"===r&&i.removeFromWhiteList(["certification","identificationNumber","employeeIdentificationNumber"]),"taxCertificationReview"===r&&i.removeFromWhiteList(["classification","limitedLiabilityCompanyType","identificationNumber","employeeIdentificationNumber"])},this.requestCancel=function(e){var r=e.context;r&&r.isEditMode||n?f():t.showDirtyFormOverlay(i,(function(){t.clearCachedData(),p(s.eDocs.ROUTE.CUSTOMER_NAME)}),(function(){i.$focusSelector="#cancelButton"}))},this.requestPreviousStep=function(){t.hybrid&&n?f():(t.deregisterDirtyForm("legalNameChangeTaxpayer"),p(s.eDocs.ROUTE.LEGAL_NAME_CHANGE_FORM_W9))},this.requestNextStep=function(e){var n=e.context,r=i.identificationNumber||i.employeeIdentificationNumber;n.isFormValid&&(t.deregisterDirtyForm("legalNameChangeTaxpayer"),u(),r&&t.hasValue(i.identificationNumber)&&t.cachePrivateData({idType:"ssn",value:i.identificationNumber}).then((function(){d(),p(s.eDocs.ROUTE.LEGAL_NAME_CHANGE_REVIEW)})),r&&t.hasValue(i.employeeIdentificationNumber)&&t.cachePrivateData({idType:"ein",value:i.employeeIdentificationNumber}).then((function(){d(),p(s.eDocs.ROUTE.LEGAL_NAME_CHANGE_REVIEW)})),!r&&p(s.eDocs.ROUTE.LEGAL_NAME_CHANGE_REVIEW))},this.confirmTaxClassification=function(e){var n=e.context,r=i.identificationNumber||i.employeeIdentificationNumber;n&&n.isFormValid&&(r&&t.hasValue(i.identificationNumber)&&t.cachePrivateData({idType:"ssn",value:i.identificationNumber}).then((function(){A()})),r&&t.hasValue(i.employeeIdentificationNumber)&&t.cachePrivateData({idType:"ein",value:i.employeeIdentificationNumber}).then((function(){A()})),!r&&A())},this.requestIrsWebsite=function(e){var i;i=e.domEvent.target.href,t.application.broadcast("makeNavigation",{navKey:i,newTab:!0})},this.confirmTaxCertification=function(e){var i=e.context;i&&i.isFormValid&&(u(),t.deregisterDirtyForm("legalNameChangeTaxpayer"),t.area.broadcast("setSelectedTaxCertification"),t.destroyComponent("legalNameChangeTaxpayer"))},this.requestIdentificationNumberHelpMessage=a,this.exitIdentificationNumberHelpMessage=a,this.requestWithholdingHelpMessage=a}})),define("profileArea/personalDetails/customerName/component/eDocs/legalNameChangeReview",["require","appkit-utilities/language/helper","blue/root","profileArea/sharedLib/constants","profileArea/sharedLib/sharedValidators/legalNameChangeFormW9Validator","profileArea/sharedLib/formatUtil","appkit-utilities/validation/componentValidate","profileArea/sharedLib/triggerContentLink"],(function(e){"use strict";return function(t){var i,n=e("appkit-utilities/language/helper"),r=e("blue/root"),a=e("profileArea/sharedLib/constants"),o=e("profileArea/sharedLib/sharedValidators/legalNameChangeFormW9Validator"),s=e("profileArea/sharedLib/formatUtil")(t),c=e("appkit-utilities/validation/componentValidate");this.onInit=function(){i=this,c.call(i,t,o.validators),e("profileArea/sharedLib/triggerContentLink").call(this,t),i.model.set("whiteList",o.getWhiteList()),t.globalContentMixin.call(i,a.globalContent),i.currentLegalNameLabel=t.setCurrentLegalName(),i.esignDisclosureConsentError=t.dcu.dynamicContent.get(i,"esignDisclosureConsentError","MISSING_MANDATORY_DATA"),t.on({formatMailingAddress:function(){i.model.set("$hidePersonalDetailsHeader",!1),t.registerDirtyFormOverlay("legalNameChangeReview",["newCustomerName","formattedAddress"]),i.formattedAddress=s.formatMailingAddress(t.getCachedData("currentAddress"))}}),t.on({setSelectedTaxClassification:function(){i.model.set("$hideTaxClassificationHeader",!1),t.registerDirtyFormOverlay("legalNameChangeReview",["newCustomerName","formattedAddress"]),i.selectedTaxClassification=t.getCachedData("taxClassification").classificationLabel}}),t.on({setSelectedTaxCertification:function(){i.model.set("$hideTaxCertificationHeader",!1),t.registerDirtyFormOverlay("legalNameChangeReview",["newCustomerName","formattedAddress"]),i.selectedTaxCertification=t.getCachedData("taxCertification").certificationLabel}})},this.onReady=function(){t.logger.info("legalNameChangeReview Component onReady()"),i.newCustomerName=t.getCachedData("newCustomerName").toUpperCase(),i.formattedAddress=s.formatMailingAddress(t.getCachedData("currentAddress")),i.selectedTaxClassification=t.getCachedData("taxClassification").classificationLabel,i.selectedTaxCertification=t.getCachedData("taxCertification").certificationLabel},this.requestEditPersonalDetails=function(){return t.deregisterDirtyForm("legalNameChangeReview"),i.model.set("$hidePersonalDetailsHeader",!0),i.model.set("$hideTaxClassificationHeader",!1),i.model.set("$hideTaxCertificationHeader",!1),t.destroyComponent("legalNameChangeTaxpayer"),t.editPersonalDetails()},this.requestEditTaxClassification=function(){return t.deregisterDirtyForm("legalNameChangeReview"),i.model.set("$hideTaxClassificationHeader",!0),i.model.set("$hidePersonalDetailsHeader",!1),i.model.set("$hideTaxCertificationHeader",!1),t.destroyComponent("legalNameChangeFormW9"),t.editTaxClassification()},this.requestEditTaxCertification=function(){return t.deregisterDirtyForm("legalNameChangeReview"),i.model.set("$hideTaxCertificationHeader",!0),i.model.set("$hidePersonalDetailsHeader",!1),i.model.set("$hideTaxClassificationHeader",!1),t.destroyComponent("legalNameChangeFormW9"),t.editTaxCertification()},this.requestPreviousStep=function(){return t.deregisterDirtyForm("legalNameChangeReview"),t.handleTaxPayerBack()},this.requestCancel=function(){t.showDirtyFormOverlay(i,(function(){t.clearCachedData(),t.state(a.eDocs.ROUTE.CUSTOMER_NAME)}),(function(){i.$focusSelector="#cancelButton"}))},this.requestESignForm=function(){var e=n.getContentLanguage();t.deregisterDirtyForm("legalNameChangeReview");var r={es:function(){t.showLanguageOverlay(i,(function(){t.state(a.eDocs.ROUTE.LEGAL_NAME_CHANGE_SIGN_W9)}),(function(){i.$focusSelector="#nextButton"}))},default:function(){t.state(a.eDocs.ROUTE.LEGAL_NAME_CHANGE_SIGN_W9)}};(r[e]||r.default).call(i)},this.acceptESignDisclosure=function(){i.model.set("$showDisclosureError",!1)},this.requestESignDisclosurePdf=function(){var e=t.getCachedData("agreementUrl");t.hybrid&&(e+=a.eDocs.HYBRID_EXTERNAL_PARAMETER),r.open(e,"_blank","toolbar=yes, scrollbars=yes, resizable=yes")},this.requestConfirmation=function(){t.sendSigningStatus()}}})),define("profileArea/personalDetails/customerName/component/eDocs/legalNameChangeSignW9",["require","profileArea/sharedLib/constants"],(function(e){"use strict";return function(t){var i,n=e("profileArea/sharedLib/constants");this.onInit=function(){i=this,t.globalContentMixin.call(i,n.globalContent),i.currentLegalNameLabel=t.setCurrentLegalName()},this.onReady=function(){t.logger.info("legalNameChangeSignW9 Component onReady()"),i.newCustomerName=t.getCachedData("newCustomerName").toUpperCase()},this.requestPreviousStep=function(){t.deregisterDirtyForm("legalNameChangeSignW9"),t.state(n.eDocs.ROUTE.LEGAL_NAME_CHANGE_REVIEW)},this.requestCancel=function(){t.showDirtyFormOverlay(i,(function(){t.clearCachedData(),t.state(n.eDocs.ROUTE.CUSTOMER_NAME)}),(function(){i.$focusSelector="#cancelButton"}))},this.requestConfirmation=function(){t.deregisterDirtyForm("legalNameChangeSignW9"),t.sendSigningStatus()}}})),define("profileArea/personalDetails/customerName/component/eDocs/legalNameChangeConfirmation",["require","profileArea/sharedLib/constants"],(function(e){"use strict";return function(t){var i,n=e("profileArea/sharedLib/constants");this.onInit=function(){i=this,t.globalContentMixin.call(i,n.globalContent),i.currentLegalNameLabel=t.setCurrentLegalName(),i.model.set("newCustomerName",t.getCachedData("newCustomerName").toUpperCase())},this.onReady=function(){t.logger.info("LegalNameChangeConfirmation Component onReady()")},this.exitLegalNameChange=function(){t.hybrid?t.exitEDocs({exitToNativeEntryPoint:!0}):t.state(n.eDocs.ROUTE.CUSTOMER_NAME)}}})),define("profileArea/accountSettings/defaultSortOrder/services/defaultSortOrderMappers",[],(function(){"use strict";var e;return{onInit:function(t){e=t},mappers:{defaultSortOrder:{getUserDefault:{success:function(t,i,n,r){r.set("defaultSortOrder.currentDefault",i.accountSortOrder),r.set("defaultSortOrder.$selectedAccountSortOrder",i.accountSortOrder),e.commonComponentsUtil.hideSpinner({target:"#default-sort-order-container"}),e.bubble("dirtyUpdate",{name:"defaultSortOrder"})},failure:function(t,i,n,r){r.set("defaultSortOrder.$pageError","SYSTEM_FAILURE"),r.set("defaultSortOrder.$serviceError",!0),e.commonComponentsUtil.hideSpinner({target:"#default-sort-order-container"})}},updateUserDefault:{success:function(t,i,n,r){r.set("defaultSortOrder.currentDefault",t.params.accountSortOrder),r.set("defaultSortOrder.$updateSuccess",!0),e.commonComponentsUtil.hideSpinner({target:"#my-profile-page-content"}),e.bubble("dirtyUpdate",{name:"defaultSortOrder"})},failure:function(t,i,n,r){r.set("defaultSortOrder.$pageError","SYSTEM_FAILURE"),r.set("defaultSortOrder.$serviceError",!0),e.commonComponentsUtil.hideSpinner({target:"#my-profile-page-content"})}}}}}})),define("profileArea/accountSettings/defaultSortOrder/controllers/defaultSortOrder",["require","profileArea/accountSettings/defaultSortOrder/services/defaultSortOrderMappers","profileArea/sharedLib/apptelTracker","common/lib/modelUtil","common/lib/utility/commonComponentsUtil"],(function(e){"use strict";return function(t){var i=this,n=e("profileArea/accountSettings/defaultSortOrder/services/defaultSortOrderMappers"),r=e("profileArea/sharedLib/apptelTracker"),a=e("common/lib/modelUtil"),o=a.DataType;i.onInit=function(){t.commonComponentsUtil=e("common/lib/utility/commonComponentsUtil")(i),n.onInit(t),i.dataProvider.mappers=n.mappers,t.updateDefaultOption=i.updateDefaultOption,t.cancelUpdateDefaultOption=i.cancelUpdateDefaultOption},i.requestDefaultSortOrder=function(){var e;i.enrichComponent("defaultSortOrder"),i.model.update("defaultSortOrder",{$updateSuccess:!1,$serviceError:!1,balanceSortOption:"BALANCE",nameSortOption:"NAME",currentDefault:"",$selectedAccountSortOrder:"",$pageError:""}),e=t.dcu.dynamicContent.get(i.components.defaultSortOrder,"defaultSortOrderHeader"),t.profileContainer.setPageProperties({pageTitle:e,containerClasses:"legacy-profile-styles"});var n=[i.components.defaultSortOrder,"defaultSortOrder",t.renderTarget];return i.getCurrentDefaultOption(),i.dirtyRegister(),t.application.dirtyForm.onRemove=!1,i.executeCAV(n).then((function(){t.area.broadcast("renderMyProfileMenuMobile"),r.logLeaveAction("$$Profile_Accts")}))},i.enrichComponent=function(e){a.enrichComponent(i,e,"default_sort_order").spec({data:{$serviceError:o.OnOff,$pageError:o.Description,$selectedAccountSortOrder:o.Description,$updateSuccess:o.OnOff}})},i.getCurrentDefaultOption=function(){return i.model.set("defaultSortOrder.$serviceError",!1),t.commonComponentsUtil.showSpinner({target:t.renderTarget.target,overlayType:"INSECTION"}),i.dataProvider.request("defaultSortOrder.getUserDefault")},i.updateDefaultOption=function(){i.model.set("defaultSortOrder.$serviceError",!1),i.model.set("defaultSortOrder.$updateSuccess",!1);var e=i.model.get("defaultSortOrder.$selectedAccountSortOrder");if(e!==i.model.get("defaultSortOrder.currentDefault")){var n={accountSortOrder:e};return t.commonComponentsUtil.showSpinner({target:t.renderTarget.target,overlayType:"INSECTION"}),i.dataProvider.request("defaultSortOrder.updateUserDefault",n)}},i.cancelUpdateDefaultOption=function(){var e=i.model.get("defaultSortOrder.currentDefault");i.model.set("defaultSortOrder.$selectedAccountSortOrder",e)},i.dirtyRegister=function(){t.bubble("dirtyRegister",{controller:i,compInstanceNames:["defaultSortOrder"],target:t.renderTarget.target,whiteList:["$selectedAccountSortOrder"],routeBlackList:["/dashboard/myProfileCore/defaultSortOrder/requestDefaultSortOrder"]})}}})),define("profileArea/accountSettings/defaultSortOrder/components/defaultSortOrder",["require","profileArea/sharedLib/profileMixin"],(function(e){"use strict";return function(t){var i=this,n=i.context.dcu.dynamicContent,r=e("profileArea/sharedLib/profileMixin");i.onInit=function(){i.setGlobalContent(),r.call(i),i.onData("$pageError",i.setDcuErrorContent)},i.setGlobalContent=function(){t.globalContentMixin.call(i,["cancelLabel","checkmarkAda","importantAda","requestProfileSettingsMenuAda"])},i.setDcuErrorContent=function(e){e&&n.setMultiple(i,[{key:"serviceErrorHeader",variation:"SYSTEM_FAILURE"},{key:"serviceErrorAdvisory",variation:"SYSTEM_FAILURE"}],{initial:!1})},i.saveDefaultSortUpdate=function(){t.updateDefaultOption()},i.cancelDefaultSortUpdate=function(){t.cancelUpdateDefaultOption()}}})),define("profileArea/accountSettings/hideAccounts/services/hideAccountsDataTransform",["require","appkit-utilities/content/dcu","common/lib/fakeComponent"],(function(e){"use strict";return function(){var t=e("appkit-utilities/content/dcu").dynamicContent,i=e("common/lib/fakeComponent")("ACCOUNT_DISPLAY","profileArea"),n=function(e){var t={},i=e.index;return e.groups.forEach((function(n){t[i]={},n.accountIds.forEach((function(r){var a=e.allAccs[r];t[i][r]={accountId:a.accountId,hidden:a.hidden,investment:a.investment,category:n.name,aoCount:a.aoCount||null,subAccounts:a.subAccounts||null,accountName:a.accountName,accountMask:a.accountMask,accountType:a.accountType,relatedAccounts:a.relatedAccounts,hideAllowed:a.hideAllowed}})),i+=1})),{accounts:t,index:i}},r=function(e,n,r){var a=[],o=0;for(var s in e)if(e.hasOwnProperty(s)){var c,l=e[s],d=0,u={accountCategoryId:o,accounts:[]};for(var p in l)l.hasOwnProperty(p)&&(u.accounts[d++]={accountId:l[p].accountId,accountDisplayName:l[p].accountDisplayName,hidden:l[p].hidden,subAccounts:l[p].subAccounts||null,type:n?"personal":"business",aoCount:l[p].aoCount||null,accountName:l[p].accountName,accountMask:l[p].accountMask,accountType:l[p].accountType,relatedAccounts:l[p].relatedAccounts,hideAllowed:l[p].hideAllowed},c=l[p].category);n?(u.accountCategoryId="per_"+(r-1),u.type="personal",c=t.get(i,"personalLabel")+" "+r,r+=1):(u.accountCategoryId="bus_"+o++,u.type="business"),u.accountCategoryName=c,a.push(u)}return a};return{transformHideAccountsListService:function(e){var a,o={investmentAccount:!1,allAccounts:{},multiAccountCustomerState:!1,accountCategoryOptions:[],accountCategories:{},showLinkAccounts:!1,accountsArr:[]},s={},c={},l={},d={};e.showLinkAccounts&&(o.showLinkAccounts=!0);var u=function(e){var t={business:0,personal:0,index:0,multiAccountCustomerState:!1};return t.business=e.businessCustomerGroups?e.businessCustomerGroups.length:0,t.personal=e.personalCustomerGroups?e.personalCustomerGroups.length:0,t.business&&(t.index=t.business),t.multiAccountCustomerState=t.business+t.personal>1,t}(e);e.accounts.forEach((function({id:e,shown:t,brokerage:i,nickname:n,mask:r,hideAllowed:a,relatedAccounts:c,type:l}){i&&(o.investmentAccount=!0);var d,u,p={accountId:e,hidden:t?"show":"hide",investment:i,accountName:n,accountMask:r,hideAllowed:a,relatedAccounts:c,accountType:l};if(c){var m=(d=0,{sub:(u=c.reduce((function(e,t){return t.hidden=t.shown?"show":"hide",t.authorizedOfficer?(e[0]=e[0].concat(t),d++):e[1]=e[1].concat(t),e}),[[],[]]))[0].concat(u[1]),count:d});p.aoCount=m.count,p.subAccounts=m.sub}s[e]=p})),o.multiAccountCustomerState=u.multiAccountCustomerState,o.multiAccountCustomerState&&function(e,n,r){var a=0;n.accountCategoryOptions.push({name:t.get(i,"accountCategoryOption","ALL_ACCOUNTS"),value:"all"}),e.business&&n.accountCategoryOptions.push({groupLabel:t.get(i,"businessLabel")}),e.personal&&e.business>1&&n.accountCategoryOptions.push({name:t.get(i,"accountCategoryOption","BUSINESS_ACCOUNTS"),value:"business_"+e.index}),e.business&&r.businessCustomerGroups.forEach((function(e){n.accountCategoryOptions.push({name:e.name,value:a}),a+=1})),e.personal&&n.accountCategoryOptions.push({groupLabel:t.get(i,"personalLabel")}),e.business&&e.personal>1&&n.accountCategoryOptions.push({name:t.get(i,"accountCategoryOption","PERSONAL_ACCOUNTS"),value:"personal_"+e.index}),e.personal&&r.personalCustomerGroups.forEach((function(){n.accountCategoryOptions.push({name:t.get(i,"personalLabel")+" "+(a+1),value:a}),a+=1}))}(u,o,e),a=0,e.businessCustomerGroups&&(c=(d=n({groups:e.businessCustomerGroups,index:a,allAccs:s})).accounts,a=d.index),e.personalCustomerGroups&&(l=(d=n({groups:e.personalCustomerGroups,index:a,allAccs:s})).accounts);var p,m,f,A,g={businessAccounts:c,personalAccounts:l};return o.accountCategories=(A=(m=r((p=g).businessAccounts,!1))?m.length:0,f=r(p.personalAccounts,!0,A+1),m.concat(f)),o.allAccounts=JSON.stringify(o.accountCategories),o.accounts=s,o.accountsArr=o.accountCategories.reduce((function(e,t){var i=t.accounts;return i.forEach((function(e){e.accountCategoryId=t.accountCategoryId,e.showSub=!1})),delete t.accounts,e=e.concat(i)}),[]),o}}}})),define("profileArea/accountSettings/hideAccounts/services/hideAccountsServicesMapper",["require","profileArea/accountSettings/hideAccounts/services/hideAccountsDataTransform"],(function(e){"use strict";return function(t){var i=e("profileArea/accountSettings/hideAccounts/services/hideAccountsDataTransform")(t);return{hideAccounts:{getShowHideAccountsList:{success:function(e,n){var r=i.transformHideAccountsListService(n);t.getAccountsListSuccess(r)},failure:function(){t.getAccountsListFailure()}},updateShowHideAccountsList:{success:function(e,i){t.updateAccountsListSuccess(i)},failure:function(){t.updateAccountsListFailure()}}}}}})),define("bluespec/account_display",[],(function(){return{name:"ACCOUNT_DISPLAY",data:{accounts:{type:"List",items:{accountCategoryId:"Description",accountId:{type:"Description",exportable:!0},accountDisplayName:"Description",accountMaskNumber:"Description",hidden:"OnOff",subAccounts:{type:"List",items:{accountId:{type:"Numbers",exportable:!0},accountDisplayName:"Description",accountMaskNumber:"Description",hidden:"OnOff",accountRole:"Description"}}}},accountCategories:{type:"List",items:{accountCategoryName:"Description",accountCategoryId:"Description"}},accountCategoryOptions:{type:"List",items:{accountCategoryOptionName:{type:"Description",exportable:!0},accountCategoryOptionId:"Description"}},accountCategoryOptionId:{type:"Description"},multiAccountCustomerState:{type:"OnOff"}},actions:{updateAccountDisplayDetails:!0,doNotUpdateAccountDisplayDetails:!0,skipBack:!0,requestConfirmationMessageDetails:!0,exitConfirmationMessageDetails:!0,requestErrorMessageDetails:!0,requestAccountCategoryOptions:!0,exitErrorMessageDetails:!0,requestLinkBusinessAccounts:!0,requestSubAccounts:!0,exitSubAccounts:!0,requestExclusivelyPaperlessHelpMessage:!0,selectAccount:!0,addSubAccount:!0},states:{hideAllAccountsConfirmationOverlay:!0,exitConfirmationOverlay:!0,focusPlacement:!0,viewDisplayed:!0},settings:{requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,accountDisplayHeader:!0,requestMyProfileMenuAda:!0,currentInformationForAccounts:!0,accountDisplayMessage:!0,accountDisplayAdvisory:!0,investmentAccountDisclaimer:!0,accountCategoryOptionsLabel:!0,accountCategoryOption:!0,businessLabel:!0,personalLabel:!0,accountHeader:!0,accountName:!0,accountOwnerLabel:!0,subAccountsLabel:!0,requestSubAccountsLabel:!0,displayStatusHeader:!0,hideAccountLabel:!0,showAccountLabel:!0,updateAccountDisplayDetailsLabel:!0,doNotUpdateAccountDisplayDetailsLabel:!0,accountDisplayConfirmationMessage:!0,checkmarkAda:!0,accountDisplayErrorHeader:!0,accountDisplayErrorAdvisory:!0,accountsAda:!0,importantAda:!0,skipBackLabel:!0,updatesContentBelowAda:!0,currentSelectionAda:!0,endOfSelectionAda:!0,showsContentBelowAda:!0,hidesContentBelowAda:!0,exclusivelyPaperlessHelpMessage:!0,requestExclusivelyPaperlessHelpMessageAda:!0,noAccountsAvailableAdvisory:!0,ineligibleAccountAdvisory:!0,ineligibleHideAccountHeader:!0,ineligibleHideAccountAdvisory:!0,ineligibleHideErrorHeader:!0,ineligibleHideErrorAdvisory:!0,hiddenAccountsDisclosureAdvisory:!0}}})),define("bluespec/global",[],(function(){return{name:"GLOBAL",settings:{dateAda:!0,calendarHeaderAda:!0,calendarAdvisoryAda:!0,exitCalendarAda:!0,navigateAda:!0,monthAda:!0,dayOfWeekAda:!0,currentDateAda:!0,firstAvailableDateAda:!0,lastAvailableDateAda:!0,endOfMonthDateAda:!0,emulationModeLockedAda:!0,noteAda:!0,lossAda:!0,gainAda:!0,mayUpdateContentAda:!0,requestAdvisoryDetailsAda:!0,exitAdvisoryDetailsAda:!0,hasExpandedAda:!0,hasCollapsedAda:!0,requiredAda:!0,gotoPreviousPageAda:!0,navigationAda:!0,moreOptionsAda:!0,requestFilterToCalendarAda:!0,requestFilterFromCalendarAda:!0,searchAda:!0,searchSuggestionsAda:!0,clearSearchQueryAda:!0,showsContentBelowAda:!0,updatesContentBelowAda:!0,updatesContentAda:!0,updatesContentAboveAda:!0,selectionUpdatesContentBelowAda:!0,hidesContentBelowAda:!0,showsContentAboveAda:!0,hidesContentAboveAda:!0,contentLoadingAda:!0,contentLoadedAda:!0,showLinksBelowAda:!0,hideLinksBelowAda:!0,optionSelectedAda:!0,listOptionsNavigationAda:!0,optionsAda:!0,deleteAda:!0,selectedOptionsAda:!0,selectedAda:!0,unselectedAda:!0,currentSelectionAda:!0,endOfSelectionAda:!0,opensMenuAda:!0,closesMenuAda:!0,moreActionsAda:!0,maximumCharacterLimitReachedAda:!0,actionsAda:!0,beginHelpMessageAda:!0,endHelpMessageAda:!0,exitHelpMessageAda:!0,beginDialogAda:!0,endDialogAda:!0,exitDialogAda:!0,footnoteAda:!0,referrerAda:!0,errorAnnouncementAda:!0,errorCountAnnouncementAda:!0,checkmarkAda:!0,importantAda:!0,opensPdfAda:!0,opensNewWindowAda:!0,warningAda:!0,informationAda:!0,exitAda:!0,opensDialogAda:!0,opensInformationDialogAda:!0,waitAda:!0,overlayAnnouncementAda:!0,additionalItemsAda:!0,enrollConfirmationAdvisory:!0,oneTimePasswordMaxLimitErrorHeader:!0,commaSymbol:!0,periodSymbol:!0,hyphenSymbol:!0,asteriskSymbol:!0,atSymbol:!0,doubleHyphenSymbol:!0,currencySymbol:!0,minusSymbol:!0,plusSymbol:!0,openParenthesesSymbol:!0,closeParenthesesSymbol:!0,horizontalEllipsisSymbol:!0,upArrowSymbol:!0,downArrowSymbol:!0,forwardSlashSymbol:!0,leftChevronSymbol:!0,rightChevronSymbol:!0,colonSymbol:!0,percentageSymbol:!0,mathematicalSymbolPipeLabel:!0,mathematicalSymbolNumberSignLabel:!0,currencyDollarSymbol:!0,phoneNumberMaskSymbol:!0,equalSymbol:!0,exitLabel:!0,exitFlowLabel:!0,backLabel:!0,cancelLabel:!0,nextLabel:!0,closeLabel:!0,submitLabel:!0,confirmLabel:!0,signOutLabel:!0,requestAdvisoryDetailsLabel:!0,exitAdvisoryDetailsLabel:!0,chasePersonalOnlineLabel:!0,jpMorganOnlineLabel:!0,onlineEnrollmentLabel:!0,commercialEnrollmentLabel:!0,disputeTransactionLabel:!0,reportProblemLabel:!0,californiaConsumerPrivacyActLabel:!0,forLabel:!0,childOnlinePrivacyProtectionActLabel:!0,progressBarStepPercentageCompleteAda:!0,month:!0,monthAbbreviation:!0,dayOfWeekSymbol:!0,dayOfWeek:!0,currencyName:!0,currencyAbbreviation:!0,emulationModeLabel:!0,dayOfMonth:!0,stateName:!0,provinceName:!0,militaryRegionName:!0,countryName:!0,postOfficeTypeName:!0,notAvailableLabel:!0,timeZoneAbbreviation:!0,noneLabel:!0,totalsLabel:!0,totalLabel:!0,fromLabel:!0,optionalLabel:!0,numbers:!0,monthsLabel:!0,dayLabel:!0,weekLabel:!0,quarterLabel:!0,yearLabel:!0,agoLabel:!0,vsLabel:!0,skipBackLabel:!0,relaxTableRowsLabel:!0,compactTableRowsLabel:!0,relaxTableRowsAda:!0,compactTableRowsAda:!0,informationDensityStatusAda:!0,transactionStatus:!0,transactionFrequency:!0,updatesTableAboveAda:!0,displayLanguageLabel:!0,copyrightLabel:!0,currencyLabel:!0,serviceFailureWarningHeader:!0,accountsLabel:!0,backToAccountsLabel:!0,categoryLabel:!0,spendingCategory:!0,spendingCategoryLowerCase:!0,requestProfileSettingsMenuAda:!0,onLabel:!0,offLabel:!0,inProgressLabel:!0,atLabel:!0,pointsLabel:!0,pointsAbbreviationLabel:!0,ungroupedLabel:!0,thirdPartyApplicationName:!0,deviceChannelName:!0,printAda:!0,printLabel:!0,downloadLabel:!0,enDash:!0,emDash:!0,sortByAlphabeticalOrderAda:!0,sortByDateOrderAda:!0,sortByNumericalOrderAda:!0,sortByAmountOrderAda:!0,sortByDescriptionOrderAda:!0,sortByAccountNumberOrderAda:!0,sortByTransactionTypeOrderAda:!0,sortByAscendingAlphabeticalAda:!0,sortByDescendingAlphabeticalAda:!0,sortByLowestToHighestAda:!0,sortByHighestToLowestAda:!0,sortByAscendingOrderAda:!0,sortByDescendingOrderAda:!0,sortedByDateAscendingAda:!0,sortedByDateDescendingAda:!0,sortedByLowestToHighestAda:!0,sortedByHighestToLowestAda:!0,sortedByTextAscendingAda:!0,sortedByTextDescendingAda:!0,notSortedAda:!0,toLabel:!0,notApplicableLabel:!0,notApplicableAda:!0,applicableAda:!0,checksAllBelowAda:!0,unchecksAllBelowAda:!0,uncheckedAda:!0,chaseCardAda:!0,mainAda:!0,doneLabel:!0,editLabel:!0,dateLabel:!0,okLabel:!0,orLabel:!0,skipBackToTopLabel:!0,verifyTaskLabel:!0,totalErrorsAda:!0,gotoPreviousFieldAda:!0,updateLabel:!0,saveLabel:!0,deleteLabel:!0,ofLabel:!0,stepLabel:!0,accountLogoBrandingAda:!0,confirmationLabel:!0,formNotChangedErrorMessage:!0,beginEnglishOnlyHelpMessageAda:!0,endEnglishOnlyHelpMessageAda:!0,exitEnglishOnlyHelpMessageAda:!0,showsEnglishOnlyContentBelowAda:!0,hidesEnglishOnlyContentBelowAda:!0,englishOnlyRelaxTableRowsAda:!0,englishOnlyCompactTableRowsAda:!0,englishOnlyCurrentSelectionAda:!0,updatesEnglishOnlyContentBelowAda:!0,updatesEnglishOnlyContentAda:!0,opensEnglishOnlyMenuAda:!0,closesEnglishOnlyMenuAda:!0,endEnglishOnlyDialogAda:!0,exitEnglishOnlyDialogAda:!0,englishOnlyImportantAda:!0,englishOnlySortByAmountOrderAda:!0,businessCreditCardNicknameLabel:!0,featureTitle:!0,disableMicroBrowserLabel:!0,disableMicroBrowserAda:!0,searchQueryPlaceholder:!0,searchSuggestionsError:!0,chaseMyHomeLabel:!0,remainingCharacterAdvisory:!0,remainingCharacterOfLabel:!0,remainingCharacterErrorMessage:!0,creditBureauName:!0,creditBureauPhone:!0,monthAbbreviationSingle:!0,sinceLabel:!0,yearAbbreviationLabel:!0,monthAbbreviationLabel:!0,pointAbbreviationLabel:!0,openInformationDialogAda:!0,loaderLabel:!0,startScoreAda:!0,targetScoreAda:!0,currentScoreAda:!0,authenticationResultHeader:!0,authenticationResultAdvisory:!0,authenticationResultErrorHeader:!0,authenticationResultErrorAdvisory:!0,pageLockdownHeader:!0,pageLockdownAdvisory:!0,pageLockdownContactHeader:!0,pageLockdownContactAdvisory:!0,inProgressAda:!0,upcomingAda:!0,completedAda:!0,transactionDetailsAda:!0}}})),define("profileArea/accountSettings/hideAccounts/controllers/hideAccounts",["require","profileArea/sharedLib/apptelTracker","profileArea/sharedLib/constants","profileArea/sharedLib/featureProvider","common/lib/utility/hybridMixin","common/lib/elementObserver","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","common/lib/utility/commonComponentsUtil","appkit-utilities/analytics/overlay","profileArea/accountSettings/hideAccounts/services/hideAccountsServicesMapper","common/lib/featureFlags/commonFeatureProvider","bluespec/account_display","bluespec/global"],(function(e){"use strict";return function(t){var i,n="hideAccounts",r=this,a=e("profileArea/sharedLib/apptelTracker"),o=e("profileArea/sharedLib/constants"),s=e("profileArea/sharedLib/featureProvider")(t),c=e("common/lib/utility/hybridMixin"),l=e("common/lib/elementObserver"),d=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd");r.initModel=function(){r.model.set("hideAccounts",{accountCategories:[],newAccountsList:[],accountsHidden:!1,isButtonDisabled:!0,investmentAccount:!1,allAccountsHidden:!1,errorMessage:!1,multiAccountCustomerState:!1,accountCategoryOptions:[],accounts:[],originalAccounts:"",selection:"",showLinkAccounts:!1,viewDisplayed:!1,hideAccountsEligible:!1,accountEligibilityVariation:0,requestProfileSettingsMenuAda:t.globalContent.requestProfileSettingsMenuAda})},r.init=function(){r.commonComponentsUtil=e("common/lib/utility/commonComponentsUtil")(r),r.analyticsOverlay=e("appkit-utilities/analytics/overlay"),r.dataProvider.mappers=e("profileArea/accountSettings/hideAccounts/services/hideAccountsServicesMapper")(r),t.on({showHideAccountsConfirmationModal:r.renderHideAccountsConfirmationModal,cachedCallRequest:r.cachedCallRequest}),r.featureProvider=s,r.commonFeatureProvider=e("common/lib/featureFlags/commonFeatureProvider")(t),i=r.context.dcu.dynamicContent,t.commonComponentsUtil=r.commonComponentsUtil,t.elementObserver=new l,t.updateServiceCall=r.updateServiceCall,t.cancelHideAllAccounts=r.cancelHideAllAccounts,t.confirmHideAllAccounts=r.confirmHideAllAccounts,r.stateName="requestMyAccountsDisplay",c.call(r),r.splitProvider=d},r.updateComponentRegistry=function(t){var i,n={model:r.model.lens(t.modelName),spec:(i=e("bluespec/account_display"),i.data.skipLinkSelector={type:"Description"},i)};r.registry.updateComponent(t.compName,n)},r.requestHideAccounts=function(){var e=[r.components.hideAccounts,"hideAccounts",t.renderTarget];r.initModel();return r.splitProvider.getFeatureTreatments(["cxoweb_profile_showHideAccounts_toggleHideButton","cxoweb_profile_showHide_microapp"],{cxoweb_profile_showHideAccounts_toggleHideButton:0,cxoweb_profile_showHide_microapp:!1}).then((function(n){const o=Number(n.cxoweb_profile_showHideAccounts_toggleHideButton),s=n.cxoweb_profile_showHide_microapp;return r.model.set("hideAccounts.accountEligibilityVariation",o),r._setHideAccountsEligibility(o),t.isMicroAppEnabled=s,r.model.set("hideAccounts.$isMicroAppEnabled",s),t.profileContainer.setPageProperties({pageTitle:i.get(r.components.hideAccounts,"accountDisplayHeader"),containerClasses:"legacy-profile-styles",$isMicroAppEnabled:t.isMicroAppEnabled}),s&&t.currentController===r.name?e:r.hideAccountsListService().then((function(){const i=t.siteMode.isModeEnabled("readOnly")||t.siteMode.isModeEnabled("ecdStandIn");if(r.model.update("hideAccounts.readOnlyEvent",i),t.currentController===r.name)return a.logLeaveAction("$$Profile_Accts"),a.logLeaveAction("$$Profile_AcctsShowHide"),e}))}))},r._setHideAccountsEligibility=function(e){2===e?(r.model.set("hideAccounts.hideAccountsEligible",!0),i.set(r.components.hideAccounts,"ineligibleHideErrorHeader","CONTACT_INFO_ADVISORY"),i.set(r.components.hideAccounts,"ineligibleHideErrorAdvisory","CONTACT_INFO_ADVISORY")):1===e?r.model.set("hideAccounts.hideAccountsEligible",!1):r.model.set("hideAccounts.hideAccountsEligible",!0)},r.updateServiceCall=function(e){return t.application.emit("spinner:on"),t.application.isTilesUpdated=!0,r.dataProvider.request("hideAccounts.updateShowHideAccountsList",e)},r.confirmUpdateAccountDisplay=function(){r.isBaseCompRegistered()&&r.components.hideAccounts.confirmationShown?r.components.hideAccounts.confirmationShown=!1:(r.registry.destroyComponent("hideAccounts"),r.gotoDefaultPage())},r.isBaseCompRegistered=function(){return r.components&&r.components.hideAccounts&&r.components.hideAccounts.__enabled},r.gotoDefaultPage=function(){t.state(o.profileUrls["hideAccounts.requestMyAccountsDisplay"])},r.maintainComponentModel=function(){var e=r.model.get;r.model.update(n,{accountCategories:e("hideAccounts.accountCategories"),multiAccountCustomerState:e("hideAccounts.multiAccountCustomerState"),allAccounts:e("hideAccounts.allAccounts"),originalModel:e("hideAccounts.originalModel"),selection:e("hideAccounts.selection"),showLinkAccounts:e("hideAccounts.showLinkAccounts"),newAccountsList:e("hideAccounts.newAccountsList"),accountsHidden:e("hideAccounts.accountsHidden"),isButtonDisabled:e("hideAccounts.isButtonDisabled"),allAccountsHidden:e("hideAccounts.allAccountsHidden"),errorMessage:e("hideAccounts.errorMessage"),investmentAccount:e("hideAccounts.investmentAccount")})},r.renderHideAccountsConfirmationModal=function(){var e=[];return e.push([r.components.hideAllAccountsConfirmation,"hideAllAccountsConfirmation",{target:".overlay"}]),r.analyticsOverlay.showOverlay(r.components.hideAccounts,"hideAllAccountsConfirmationOverlay"),e},r.hideAccountsListService=function(){return r.dataProvider.request("hideAccounts.getShowHideAccountsList")},r.formatNameAndMask=function(t){r.register.components(this,[{name:"global",model:{},spec:e("bluespec/global"),methods:""}]),t.forEach((function(e){e.relatedAccounts&&(e.accountName="CCF"!==e.accountType?r.model.get(n).businessCreditCardNicknameLabel:e.accountName,e.relatedAccounts.forEach((function(e){e.accountDisplayName=e.nickname+" ("+(e.mask.length>4?"":"...")+e.mask+")"}))),e.accountDisplayName=e.accountName+" ("+(e.accountMask.length>4?"":"...")+e.accountMask+")"}))},r.getSkipLinkSelector=function(e){return t.util.object.get(e,"accountsArr.0.hidden")?"#input-hide-radiobutton_0_0":"#input-show-radiobutton_0_0"},r.configurehideAccounts=function(e){r.model.update(n,{accountCategories:e.accountCategories,showRelatedAccounts:[],multiAccountCustomerState:e.multiAccountCustomerState,accountCategoryOptions:e.accountCategoryOptions,accounts:e.accountsArr,originalAccounts:JSON.stringify(e.accountsArr),selection:"all",showLinkAccounts:e.showLinkAccounts,originalCategories:e.accountCategories,skipLinkSelector:r.getSkipLinkSelector(e)})},r.cachedCallRequest=function(){t.application.services.creditCardAccountsCachedSvc.getTilesData({},{cacheData:{usage:"DELETE"}})},r.getAccountsListSuccess=function(e){r.components&&r.components.hideAccounts&&r.maintainComponentModel(),r.model.set("hideAccounts.investmentAccount",e.investmentAccount),r.formatNameAndMask(e.accountsArr),r.configurehideAccounts(e),r.model.set("hideAccounts.viewDisplayed",!0),t.bubble("dirtyRegister",{controller:r,compInstanceNames:["hideAccounts"],target:"#my-profile-page-content",whiteList:["accounts"],routeBlackList:["/dashboard/profileArea/hideAccounts/confirmUpdateAccountDisplay"]}),t.application.dirtyForm.onRemove=!1},r.getAccountsListFailure=function(){r.components.hideAccounts._handleNetworkServiceError(),r.model.set("hideAccounts.errorMessage",!0),r.model.set("hideAccounts.viewDisplayed",!0)},r.updateAccountsListSuccess=function(e){t.userPreferences.set("gwmDashboardContextParams",void 0);var i=r.components.hideAccounts,n=i.model.get("allAccountsHidden"),a=t.hybridHelper&&t.hybridHelper.webNativeMessenger;i._updateHideAccounts(),i._checkSingleOrMultipleAccountsHidden(n),i.confirmationShown=!0,i._showConfirmation(),i._removeSessionCache(),t.state(o.profileUrls["hideAccounts.confirmUpdateAccountDisplay"]),t.area.broadcast("showHideAccountsUpdated"),t.hybrid||(i.updateDefaultLandingPage(e),i.context.application.broadcast("accountsShownHidden"),t.profileContainer.refreshMenu()),t.bubble("dirtyUpdate",{name:"hideAccounts"}),n&&t.area.broadcast("hideAccountsUpdateModal"),t.hybrid&&a&&a.refreshProfile()},r.updateAccountsListFailure=function(){r.components.hideAccounts._handleNetworkServiceError(),t.bubble("dirtyDeregister",{name:"hideAccounts"})},r.cancelHideAllAccounts=function(){var e=r.components.hideAccounts;e._setFocusOnDoNotHide(),e._doNotUpdateDisplayData(),r.analyticsOverlay.hideOverlay(e,"hideAllAccountsConfirmationOverlay","doNotHideAllAccounts")},r.confirmHideAllAccounts=function(){var e=r.components.hideAccounts;r.components.hideAccounts._updateModal(),r.analyticsOverlay.hideOverlay(e,"hideAllAccountsConfirmationOverlay","confirmHideAllAccounts")}}})),define("profileArea/accountSettings/hideAccounts/components/hideAccounts",["require","blue-app/cache/sessionCache","profileArea/sharedLib/profileMixin"],(function(e){"use strict";return function(t){var i=this,n=e("blue-app/cache/sessionCache"),r=e("profileArea/sharedLib/profileMixin"),a=null,o="accounts",s="originalAccounts",c="show";i.init=function(){r.call(i),a=t.dcu.dynamicContent,i.output.on("ready",(function(){i.input.on({toggleSubAccounts:i.toggleSubAccounts})})),t.globalContentMixin.call(i,["businessCreditCardNicknameLabel","closeLabel","importantAda"])},i.onReady=function(){t.area.broadcast("renderMyProfileMenuMobile"),t.hybrid&&t.hybridHelper&&(t.hybridHelper.webNativeMessenger.updateNativeNavigationBar({showHamburgerMenu:!1,showCancel:!1,showBackArrow:!0,showProfileSettings:!1,showClose:!1,pageTitle:i.accountDisplayHeader}),t.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(){return!0}),{isHybridBackButtonRequired:function(){return!1}})),t.elementObserver.isInserted("#hide-ineligible-banner",(function(){i.output.emit("state",{value:"focusOnBanner"})}))},i.updateAccountDisplayDetails=function(){var e=i.model.get(o).reduce((function(e,t){if(t.subAccounts){var i=t.subAccounts.map((function(e){return{id:e.id,shown:e.hidden===c}}));e=e.concat(i)}return e.concat({id:t.accountId,shown:t.hidden===c})}),[]),n=e.every((function(e){return!e.shown}));i.model.set("hideConfirmationMessage",!i.model.get("hideConfirmationMessage")),i.model.set("postParam",e),i.model.set("allAccountsHidden",n),n?(i.dirtyUpdate(),t.privateState(t.constants.profileUrls["hideAccounts.renderHideAccountsConfirmationModal"]),t.elementObserver.isInserted(".dialogContent h1",(function(){i._focusOnModalDialogHeader()}))):(t.area.broadcast("allAccountsNotHidden"),i._callUpdateService({accounts:e})),delete t.application.gwmShowingDropdownDefaultValue,i.output.emit("ractiveModelCacheReset")},i._doNotUpdateDisplayData=function(){i.model.set(o,JSON.parse(i.model.get(s))),i.dirtyUpdate(),i._resetDirtyState(),i.output.emit("state",{value:"focusOnHeader"})},i.doNotUpdateAccountDisplayDetails=function(){i._doNotUpdateDisplayData()},i._setAccountVisibility=function(e,t,n){e.forEach((function(e,r){var a=t+"."+r+".hidden";i.model.set(a,n)}))},i.selectAccount=function(e){var t=e.context.id.split("_"),n=i.model.get(o),r="sub"===t[0],a=r?-2:-1,s=n[t.slice(a)[0]],c=s&&s.subAccounts,l=!!c,d=s.hidden;if(!r&&l){var u="accounts."+t[2]+".subAccounts";i._setAccountVisibility(c,u,d)}i.areSameAccountsSelected()?(i._resetDirtyState(),i.dirtyUpdate()):i.output.emit("state",{value:"enableButton"})},i.areSameAccountsSelected=function(){var e=JSON.parse(i.model.get(s)),n=i.accounts;return t.util.object.deepMatches(i.getShowHideDetails(e),i.getShowHideDetails(n))},i.getShowHideDetails=function(e){return e?e.map((function(e){return{hidden:e.hidden,accountDisplayName:e.accountDisplayName,subAccounts:e.subAccounts&&i.getShowHideDetails(e.subAccounts)}})):[]},i.addSubAccount=function(e){var t=Array.prototype.slice.call(e.context.id.split("_"),3),n=i.model.get([o,t[0]].join(".")),r=i.model.get([o,t[0],"subAccounts",t[1]].join("."));r.hidden=e.context.value,"hide"===n.hidden&&parseInt(t[1])>=0&&r.hidden===c&&i.model.set([o,t[0],"hidden"].join("."),c),i.model.set("accounts."+t[0]+".subAccounts."+t[1],r),i.selectAccount(e)},i._resetDirtyState=function(){i.output.emit("state",{value:"disableButton"})},i._getAccountList=function(e){return e.map((function(e){return{id:e.accountId,shown:e.hidden===c}}))},i._showConfirmation=function(){i._resetDirtyState(),t.application.emit("spinner:off")},i._updateModal=function(){i._callUpdateService({accounts:i.model.get("postParam")})},i._setFocusOnDoNotHide=function(){i.output.emit("state",{value:"setFocusOnDoNotHide"})},i._callUpdateService=function(e){t.updateServiceCall(JSON.stringify(e))},i._removeSessionCache=function(){var e="service-"+domainUrl+"/svc/rr/accounts/secure/v1/menu/list?context=dashboard_payments_menu",t="service-"+domainUrl+"/svc/rr/accounts/secure/v1/menu/list?context=dashboard_main_menu";n.has(e)||n.has(t)||(e=e.replace(domainUrl,""),t=t.replace(domainUrl,"")),n.remove(e),n.remove(t)},i._setErrorMessage=function(){a.set(i,"accountDisplayErrorHeader","SYSTEM_FAILURE"),a.set(i,"accountDisplayErrorAdvisory","SYSTEM_FAILURE")},i._handleNetworkServiceError=function(){t.application.emit("spinner:off"),i._setErrorMessage(),i.output.emit("state",{value:"displayNetworkServiceError"})},i._checkSingleOrMultipleAccountsHidden=function(e){var t,n;e?(t="ALL_ACCOUNTS_HIDDEN",n="all"):(t="UPDATED",n="some"),i.model.set("allAccountsHidden",e),i.model.set("accountsHidden",!e),i.output.emit("state",{value:"displayUpdateConfirmationMessage",options:n}),a.set(i,"accountDisplayConfirmationMessage",t)},i._updateHideAccounts=function(){i.model.set(s,JSON.stringify(i.model.get(o)))},i._focusOnModalDialogHeader=function(){i.output.emit("state",{value:"focusOnModalHeader"})},i.updateDefaultLandingPage=function(){t.area.broadcast("showHideAccountsUpdated"),t.application.broadcast("resetInitOverview")},i.returnFilteredByType=function(e,t){return e.filter((function(e){return e.type===t}))},i._filterAccounts=function(){var e,t=isNaN(parseInt(i.accountCategoryOptionId));i.model.set(o,JSON.parse(i.model.get(s)));var n=i.model.get("originalCategories");if(i.model.set("selection",i.accountCategoryOptionId),"all"!==i.accountCategoryOptionId&&(i.accountCategoryOptions[0].selected=!1),t)if("all"===(e=i.accountCategoryOptionId.split("_"))[0])i.accountCategories=n;else if("business"===e[0]){var r=i.returnFilteredByType(n,"business");i.accountCategories=r}else"personal"===e[0]&&(i.accountCategories=i.returnFilteredByType(n,"personal"));else e=parseInt(i.accountCategoryOptionId),i.accountCategories=n.slice(e,e+1);i.output.emit("ractiveModelCacheReset"),i.model.set("originalModel",JSON.stringify(i.accountCategories))},i._navigateToLinkBusinessAccounts=function(){t.state(t.constants.profileUrls["linkBusinessAccounts.linkBusinessAccounts"])},i.requestAccountCategoryOptions=function(){if(i.output.emit("state",{value:"hideConfirmationMessage"}),t.application.dirtyForm.dirtyCheckAll().isDirty){var e={executeAction:function(){i._resetDirtyState(),i._filterAccounts()},executeNoAction:function(){i.accountCategoryOptionId=i.model.get("selection"),i.model.set("focusPlacement","category"),i.model.set("focusPlacement","")}};t.profileUtil.showDirtyForm.call(i,e)}else i._filterAccounts()},i.requestLinkBusinessAccounts=function(){t.application.showOverlay=function(e,n,r){var a={executeAction:function(){n&&n()},executeNoAction:function(){r&&r(),i.model.set("focusPlacement","businessLink"),i.model.set("focusPlacement","")}};e?t.profileUtil.showDirtyForm.call(i,a):a.executeAction()},i._navigateToLinkBusinessAccounts()},i.toggleSubAccounts=function(e){var t=[o,e.data.path,"showSub"].join("."),n=i.model.get(t);i.model.set(t,!n),n?i.exitSubAccounts():i.requestSubAccounts(),i.areSameAccountsSelected()&&i.dirtyUpdate()},i.dirtyUpdate=function(){t.bubble("dirtyUpdate",{name:"hideAccounts"})},i.skipBack=function(){},i.requestConfirmationMessageDetails=function(){},i.exitConfirmationMessageDetails=function(){},i.requestErrorMessageDetails=function(){},i.exitErrorMessageDetails=function(){},i.requestSubAccounts=function(){},i.exitSubAccounts=function(){}}})),define("profileArea/accountSettings/hideAccounts/components/hideAllAccountsConfirmation",[],(function(){"use strict";return function(e){var t=this;t.confirmHideAllAccounts=function(){e.confirmHideAllAccounts(),t.destroyView()},t.doNotHideAllAccounts=function(){e.cancelHideAllAccounts(),t.destroyView()}}})),define("@arnaudnyc/mout/lang/isFunction",["./isKind"],(function(e){return function(t){return e(t,"Function")}})),define("@arnaudnyc/mout/array/toLookup",["../lang/isFunction"],(function(e){return function(t,i){var n={};if(null==t)return n;var r,a=-1,o=t.length;if(e(i))for(;++a<o;)n[i(r=t[a])]=r;else for(;++a<o;)n[(r=t[a])[i]]=r;return n}})),define("profileArea/accountSettings/nicknameAccounts/services/nicknameAccountsDataTransform",["require","common/lib/fakeComponent","appkit-utilities/content/dcu"],(function(e){"use strict";return function(){var t=e("common/lib/fakeComponent")("ACCOUNT_NICKNAMES","profileArea"),i=e("appkit-utilities/content/dcu").dynamicContent,n=i.getGlobal("horizontalEllipsisSymbol"),r=!1,a=function(e){return i.get(t,"newNicknameAda",{accountNicknamesInfo:{accountNicknameCurrent:e.nameAndMask}})},o=function(e){return"CTL"===e},s=function(e,t){return function(e){return e.length>20?e.substr(0,20):e}(t?t[e].trim().replace(/[^0-9a-z\s]/gi,""):"")},c=function(e){var t=[];return e.forEach((function(e){var i,c,l,d=a(e),u=a(e);!r&&(r=o(e.accountType)),t[e.id.toString()]={accountId:e.id,accountNicknameNew:"",restoreDefaultOption:!1,accountNicknameCurrent:(i=e.nameAndMask,c=e.mask,l=c.length<=4?n:"",i&&i.trim().substr(0,i.trim().length-5)+l+i.trim().substr(-5)),accountNumberMasked:(e.mask.length<=4?n:"")+e.mask,newNicknameAda:d,removeNewNicknameAda:u,isCTLAccount:o(e.accountType),propertyAddress:s("propertyAddress",e.nicknameOption),borrowerName:s("borrowerName",e.nicknameOption)}})),t},l=function(e,n,r,a){var o=[],s=[],c={};return e.forEach((function(c,l){var d=[],u=!1,p="personal"===r?i.get(t,"personalLabel").toUpperCase()+" "+(l+1):e[l].name;(c.accountIds||[]).forEach((function(e){d.push(n[e]),!u&&n[e].isCTLAccount&&(u=!0)}));var m={accountNicknamesInfo:d,accountCategoryName:p,groupHasCTLAccount:u};o.push(m),s.push({value:++a,name:m.accountCategoryName})})),c.accountCategories=o,c.options=s,c},d=function(e,n,r,a){var o=[],s={value:"all",name:i.get(t,"accountCategoryOption.ALL_ACCOUNTS")},c={groupLabel:i.get(t,"personalLabel")},l={groupLabel:i.get(t,"businessLabel")},d={value:r+","+(r+a),name:i.get(t,"accountCategoryOption.PERSONAL_ACCOUNTS")},u={value:"0,"+r,name:i.get(t,"accountCategoryOption.BUSINESS_ACCOUNTS")};return o.push(s),r>0&&o.push(l),r>1&&a>0&&o.push(u),e.options&&(o=o.concat(e.options)),a>0&&o.push(c),a>1&&r>0&&o.push(d),n.options&&(o=o.concat(n.options)),o};return{transformNicknameAccountsList:function(e){this.context=t;var i={bccUser:e.hasControlCard||!1},n=e.businessCustomerGroups?e.businessCustomerGroups:[],a=e.personalCustomerGroups?e.personalCustomerGroups:[],o=n.length,s=a.length,u=o+s;if(e.accounts){u>1&&(i.multiAccountCustomerState=!0);var p=c.call(this,e.accounts),m=l.call(this,n,p,"business",0),f=l.call(this,a,p,"personal",o);i.accountCategoryOptions=d.call(this,m,f,o,s),i.accountCategories=m.accountCategories.concat(f.accountCategories),i.ctlAccountFlag=r}else i={accounts:[],bccUser:e.hasControlCard||!1,isAllAccountsHidden:!0};return i}}}})),define("profileArea/accountSettings/nicknameAccounts/services/nickNameAccountsServicesMapper",["require","mout/array/toLookup","profileArea/accountSettings/nicknameAccounts/services/nicknameAccountsDataTransform"],(function(e){"use strict";var t=e("mout/array/toLookup");return function(i){var n=e("profileArea/accountSettings/nicknameAccounts/services/nicknameAccountsDataTransform")();function r(e,n,r,a){try{var o=JSON.parse(n.data);if(o&&400===o.status&&"PROFILE:ValidationException"===o.code)return void function(e,n,r,a){var o=/accounts\[(\d+)]/,s=r.nicknameAccounts.accountCategories[0].accountNicknamesInfo,c=t(s,"accountId"),l=Object.keys(n.attributes).map((function(e){var t=parseInt((o.exec(e)||[])[1]);if(!isNaN(t)){var i=s[t].accountId;return c[i].accountNicknameCurrent+": "+n.attributes[e]}return""})).filter((function(e){return!!e}));i.setServiceValidationErrorMessage(function(e){return"<ul>\n"+e.map((function(e){return"<li>"+e+"</li>\n"})).join("")+"</ul>"}(l))}(0,o,r)}catch(e){i.context.logger.error("Failed to parse error response body",e)}i.nickNameServicesFailure(n)}return{nicknameAccounts:{nickNameList:{success:function(e,t){var r=n.transformNicknameAccountsList(t);i.nickNameListSuccess(r)},failure:r},nickNameUpdate:{success:function(e,t){i.nickNameUpdateSuccess(t)},failure:r}}}}})),define("profileArea/accountSettings/nicknameAccounts/controllers/nicknameAccounts",["require","common/lib/flyout/flyoutUtility","profileArea/sharedLib/apptelTracker","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","common/lib/utility/commonComponentsUtil","profileArea/accountSettings/nicknameAccounts/services/nickNameAccountsServicesMapper"],(function(e){"use strict";return function(t){var i=null,n=null,r=this,a=e("common/lib/flyout/flyoutUtility"),o=e("profileArea/sharedLib/apptelTracker"),s=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd");r.init=function(){r.commonComponentsUtil=e("common/lib/utility/commonComponentsUtil")(r),i=r.context.dcu.dynamicContent,r.context.nickNameUpdate=r.nickNameUpdate,r.context.nickNameListService=r.nickNameListService,t.on({callNicknameAccountsListService:r.nickNameListService}),t.configureNicknameAccountsModel=r.configureNicknameAccountsModel,t.commonComponentsUtil=r.commonComponentsUtil,r.stateName="requestMyAccountNicknames",t.hybridMixin.call(r)},r.nickNameUpdate=function(e){r.dataProvider.request("nicknameAccounts.nickNameUpdate",e)},r.nickNameUpdateSuccess=function(e){var i=t.hybridHelper&&t.hybridHelper.webNativeMessenger;t.hybrid&&i&&i.refreshProfile(),r.components.nicknameAccounts._updateAccountNicknameList(e)},r.requestMyAccountNicknames=function(){return s.getFeatureTreatments(["cxoweb_profile_nickNameAccount_microapp"],{cxoweb_profile_nickNameAccount_microapp:!1}).then(r._renderAccountNicknames)},r._renderAccountNicknames=function(n){var s=n.cxoweb_profile_nickNameAccount_microapp;if(t.profileContainer.setPageProperties({pageTitle:i.get(r.components.nicknameAccounts,"accountNicknamesHeader"),containerClasses:"legacy-profile-styles",$isMicroAppEnabled:s}),s)return r._renderMicroAppContainer();if(a.isFlyoutNavigation(t))return!0;var c=[r.components.nicknameAccounts,"nicknameAccounts",t.renderTarget];return o.logLeaveAction("$$Profile_Accts"),r.dataProvider.mappers=e("profileArea/accountSettings/nicknameAccounts/services/nickNameAccountsServicesMapper")(r),r.modelData(),r._initHybrid(),r.model.set("nicknameAccounts.isNicknameAccountMicroAppEnabled",!1),r.components.nicknameAccounts.model.set("readOnlyEvent",t.siteMode.isModeEnabled("readOnly")||t.siteMode.isModeEnabled("ecdStandIn")),r.initNicknameAccounts().then((function(){return c})).catch(r.handleNetworkServiceError)},r._renderMicroAppContainer=function(){return r.model.set("nicknameAccounts.isNicknameAccountMicroAppEnabled",!0),r.executeCAV([r.components.nicknameAccounts,"nicknameAccounts",t.renderTarget])},r._initHybrid=function(){var e=function(){return!0};t.hybrid&&(t.hybridMixin.call(r),t.hybridHelper.webNativeMessenger.updateNativeNavigationBar({showBackArrow:!0}),t.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(t){return"BACK"===t&&e()})))},r.isBaseCompRegistered=function(){return r.components&&r.components.nicknameAccounts&&r.components.nicknameAccounts.__enabled},r.gotoDefaultPage=function(){r.context.state(t.constants.profileUrls["nicknameaccounts.requestMyAccountNicknames"])},r.confirmUpdateAccountNicknames=function(){r.isBaseCompRegistered()&&r.components.nicknameAccounts.confirmationShown?r.components.nicknameAccounts.confirmationShown=!1:(r.registry.destroyComponent("nicknameAccounts"),r.gotoDefaultPage())},r.modelData=function(){r.model.update("nicknameAccounts",{isSubUser:t.user.profile.isSubUser(),maximumLength:"",accountNicknameAdvisory:"",accountNicknameMessage:"",accountCategories:[],accountCategoryOptions:[],accountCategoriesInitialState:"",accountCategoryOptionId:"",stringifyAccountCategories:"",updateConfirmationMessage:!1,errorMessage:!1,validationErrorMessage:!1,multiAccountCustomerState:!1,selection:"",viewDisplayed:!1,showAutoPopulateNicknameOptions:!1,requestProfileSettingsMenuAda:t.globalContent.requestProfileSettingsMenuAda})},r.initNicknameAccounts=function(){return r.nickNameListService().then(r.setBranding).catch(r.handleNetworkServiceError)},r.handleNetworkServiceError=function(e){e||(e={errorMessage:!0}),r.setConfirmAndErrorMessages(e),r.components.nicknameAccounts._setErrorMessage()},r.setHiddenMessages=function(e){var t=r.components.nicknameAccounts;e.isAllAccountsHidden?(i.set(t,"hiddenAccountsMessage","ALL"),t.model.set("nicknameAccounts.isAllAccountsHidden",!0)):(i.set(t,"hiddenAccountsMessage","SOME"),t.model.set("nicknameAccounts.isAllAccountsHidden",!1))},r.setBranding=function(){n="JPMORGAN"===t.application.userInfo.brandId,r.model.set("nicknameAccounts.maximumLength",n?40:20),r.model.set("nicknameAccounts.accountNicknameMessage",n?"INVALID_FORMAT_LENGTH":"BELOW_MINIMUM"),i.set(r.components.nicknameAccounts,"accountNicknameAdvisory",n?"MAXIMUM_RANGE":"MINIMUM_RANGE")},r.nickNameListService=function(){return r.dataProvider.request("nicknameAccounts.nickNameList")},r.setConfirmAndErrorMessages=function(e){e&&e.updateConfirmationMessage?(r.model.set("nicknameAccounts.updateConfirmationMessage",!0),r.model.set("nicknameAccounts.errorMessage",!1)):e&&e.errorMessage?(r.model.set("nicknameAccounts.updateConfirmationMessage",!1),r.model.set("nicknameAccounts.errorMessage",!0)):(r.model.set("nicknameAccounts.updateConfirmationMessage",!1),r.model.set("nicknameAccounts.errorMessage",!1))},r.configureNicknameAccountsModel=function(e){var i=e.accountCategories,n=e.accountCategoryOptions,a=e.multiAccountCustomerState,o=e.accountCategories,s=e.accountCategories,c=t.dcu.dynamicContent.get(r.components.nicknameAccounts,"accountNicknamesOption","NONE"),l=r.model.get("nicknameAccounts");l.accountCategories=i,l.accountCategoryOptions=n,l.accountCategoryOptionId="all",l.multiAccountCustomerState=a,l.bccUser=e.bccUser,l.selection="all",l.unmodifiedAccountCategories=JSON.stringify(s),l.accountCategoriesInitialState=JSON.stringify(o),l.showAutoPopulateNicknameOptions=e.ctlAccountFlag,l.styledSelectPlaceHolder=c,r.model.set("nicknameAccounts",l)},r.setUpdatedAccountNicknameList=function(e){var t=e.accountCategories,i=e.accountCategories,n=e.accountCategories;r.model.set("nicknameAccounts.accountCategories",t),r.model.set("nicknameAccounts.accountCategoriesInitialState",JSON.stringify(i)),r.model.set("nicknameAccounts.unmodifiedAccountCategories",JSON.stringify(n)),r.components.nicknameAccounts._requestAccountCategoryOptions(r.model.get("nicknameAccounts.accountCategoryOptionId")),r.components.nicknameAccounts.displayUpdateConfirmationMessage()},r.nickNameListSuccess=function(e){r.model.get("nicknameAccounts.updateAccountNicknameList")?(r.setUpdatedAccountNicknameList(e),r.model.set("nicknameAccounts.updateAccountNicknameList",!1),t.bubble("dirtyUpdate",{name:"nicknameAccounts"})):(r.configureNicknameAccountsModel(e),r.setHiddenMessages(e),t.bubble("dirtyRegister",{controller:r,compInstanceNames:["nicknameAccounts"],target:"#my-profile-page-content",whiteList:["accountCategories"],routeBlackList:["/dashboard/profileArea/nicknameAccounts/confirmUpdateAccountNicknames"]})),t.hybrid||(t.application.dirtyForm.onRemove=!1),r.model.set("nicknameAccounts.viewDisplayed",!0)},r.nickNameServicesFailure=function(){r.components.nicknameAccounts&&r.components.nicknameAccounts.handleNetworkServiceError(!0),t.bubble("dirtyDeregister",{name:"nicknameAccounts"})},r.setServiceValidationErrorMessage=function(e){r.isBaseCompRegistered()?(r.model.set("nicknameAccounts.accountNicknamesErrorAdvisory",e),r.components.nicknameAccounts.handleServiceValidationError(),t.bubble("dirtyDeregister",{name:"nicknameAccounts"})):(r.registry.destroyComponent("nicknameAccounts"),r.gotoDefaultPage())}}})),define("profileArea/accountSettings/nicknameAccounts/components/nicknameAccounts",["require","profileArea/sharedLib/profileMixin"],(function(e){"use strict";return function(t){var i=e("profileArea/sharedLib/profileMixin"),n=null,r=this;r.init=function(){i.call(r),n=r.context.dcu.dynamicContent,r.commonComponentsUtil=r.context.commonComponentsUtil,r.loadAccountNickNameOptions(),r.setGlobalContent()},r.onReady=function(){t.area.broadcast("renderMyProfileMenuMobile")},r.setGlobalContent=function(){t.globalContentMixin.call(r,["selectionUpdatesContentBelowAda"])},r.loadAccountNickNameOptions=function(){r.accountNicknamesOptions=["BORROWER_NAME","PROPERTY_ADDRESS"].map((function(e,i){return{accountNicknamesOptionsName:t.dcu.dynamicSettings.get(r,"accountNicknamesOption",e),accountNicknamesOptionsId:i}}))},r.requestAccountNicknamesOptions=function(){var e=r.accountCategories,t={0:"borrowerName",1:"propertyAddress"}[r.accountNicknamesOptionsId];e.forEach((function(e){e.accountNicknamesInfo.forEach((function(e){e.isCTLAccount&&(e.accountNicknameNew=e[t]||"")}))})),r.accountCategories=e},r.displayUpdateConfirmationMessage=function(){r.output.emit("state",{value:"displayUpdateConfirmationMessage"}),r.confirmationShown=!0,r.changeState(t.state(),"confirmUpdateAccountNicknames")},r.changeState=function(e,i){e.action={name:i},t.state(e)},r.hideUpdateConfirmationMessage=function(){r.output.emit("state",{value:"hideUpdateConfirmationMessage"}),r.confirmationShown=!1},r._displayErrorMessage=function(){r.output.emit("state",{value:"displayErrorMessage"})},r._displayValidationErrorMessage=function(){r.output.emit("state",{value:"displayValidationErrorMessage"})},r._hideValidationErrorMessage=function(){r.output.emit("state",{value:"hideValidationErrorMessage"})},r.updateAccountNicknames=function(){r._hideValidationErrorMessage(),r.hideUpdateConfirmationMessage();for(var e,i={accounts:[]},n=0;n<r.accountCategories.length;n++)for(var a=r.accountCategories[n].accountNicknamesInfo,o=0;o<a.length;o++)(a[o].restoreDefaultOption||a[o].accountNicknameNew)&&((e={}).id=a[o].accountId,e.nickname=a[o].restoreDefaultOption?"":a[o].accountNicknameNew.trim(),i.accounts.push(e));i=JSON.stringify(i),t.nickNameUpdate(i)},r._updateAccountNicknameList=function(e){return e.statusCode?r.handleNetworkServiceError():(r.model.set("updateAccountNicknameList",!0),t.nickNameListService())},r.handleNetworkServiceError=function(){r.model.set("viewDisplayed",!0),r._setErrorMessage(),r._displayErrorMessage()},r.handleServiceValidationError=function(){r.model.set("viewDisplayed",!0),n.set(r,"accountNicknamesErrorHeader","FORM_VALIDATION_ERROR"),r._displayValidationErrorMessage()},r._setErrorMessage=function(){n.set(r,"accountNicknamesErrorHeader","SYSTEM_FAILURE"),n.set(r,"accountNicknamesErrorAdvisory","SYSTEM_FAILURE")},r.doNotUpdateAccountNicknames=function(){var e=JSON.parse(r.model.get("unmodifiedAccountCategories"));r.model.set("accountCategories",{}),r.model.set("accountCategories",e),r.accountNicknamesOptionsId="0",r.output.emit("state",{value:"focusOnHeadingOnCancel"}),r._hideValidationErrorMessage(),r.hideUpdateConfirmationMessage()},r.requestMyAccountsDisplay=function(e){t.application.showOverlay=function(e,i,n){var a={executeAction:function(){i&&i()},executeNoAction:function(){n&&n(),r.model.set("focusPlacement","hiddenAccountsMessage"),r.model.set("focusPlacement","")}};e?t.profileUtil.showDirtyForm.call(r,a):a.executeAction()},r._navigateToShowHideAccounts(e)},r._navigateToShowHideAccounts=function(e){var i=e.domEvent.target.nodeName;"A"===i&&t.state(t.constants.profileUrls["hideAccounts.requestMyAccountsDisplay"]),"MDS-ALERT"===i&&e.domEvent.path[0].hasAttribute("href")&&t.state(t.constants.profileUrls["hideAccounts.requestMyAccountsDisplay"])},r._requestAccountCategoryOptions=function(e){var i=JSON.parse(r.model.get("accountCategoriesInitialState"));if(r.hideUpdateConfirmationMessage(),r.model.set("accountCategoryOptionId",e),r.model.set("selection",r.accountCategoryOptionId),r.accountCategoryOptions[0].selected="all"===e,r.accountCategories=[],"all"===e)r.accountCategories=i;else if("string"==typeof e){var n=parseInt(e.split(",")[0]),a=parseInt(e.split(",")[1]);r.accountCategories=i.slice(n,a)}else{var o=i[--e];r.accountCategories=[o]}r.accountNicknamesOptionsId="0",r._updateShowAutoPopulateNicknameOptions(r.accountCategories),t.bubble("dirtyUpdate",{name:"nicknameAccounts"}),r.output.emit("ractiveModelCacheReset"),r.model.set("unmodifiedAccountCategories",JSON.stringify(r.accountCategories))},r._updateShowAutoPopulateNicknameOptions=function(e){var t=!1;e.forEach((function(e){!t&&e.groupHasCTLAccount&&(t=!0)})),r.model.set("showAutoPopulateNicknameOptions",t)},r.requestAccountCategoryOptions=function(e){var i=e.context.value;if(isNaN(i)||(i=parseInt(i)),t.application.dirtyForm.dirtyCheckAll().isDirty){var n={executeAction:function(){r._requestAccountCategoryOptions(i)},executeNoAction:function(){r.model.set("accountCategoryOptionId",r.model.get("selection")),r.model.set("focusPlacement","category"),r.model.set("focusPlacement","")}};t.profileUtil.showDirtyForm.call(r,n)}else r._requestAccountCategoryOptions(i)},r.skipBack=function(){},r.requestConfirmationMessageDetails=function(){},r.exitConfirmationMessageDetails=function(){},r.requestErrorMessageDetails=function(){},r.exitErrorMessageDetails=function(){},r.focusOut=function(e){r.updateAccountCategories(e)},r.updateAccountCategories=function(e){var t,i,n,a=e.context;if("input"===a.componentName?(t=a.name,n="accountNicknameNew",i="value"):(t=a.groupName,n="restoreDefaultOption",i="checked"),t){var o,s=t.lastIndexOf("."),c=t.substring(s+1).split("-"),l=r.accountCategories,d=l[c[0]].accountNicknamesInfo[c[1]];d&&(d[n]=e.context[i]),o=l.reduce(((e,t)=>e||t.accountNicknamesInfo.some((e=>!(!e.accountNicknameNew&&!e.restoreDefaultOption)))),!1),r.model.set("accountCategories",l),r.model.set("isSubmitButtonDisabled",!o),r.model.set("isResetButtonDisabled",!o)}},r._updateAccountCategoriesNewTemplates=function(e){var t=e&&e.domEvent&&e.domEvent.currentTarget,i=t.name,n=t.getAttribute("groupname"),a={restoreDefaultOption:"checked",accountNicknameNew:"value"}[n];if(i){var o=i.lastIndexOf("."),s=i.substring(o+1).split("-"),c=r.accountCategories,l=c[s[0]].accountNicknamesInfo[s[1]];l&&(l[n]=t[a]),r.accountCategories=c}}}})),define("profileArea/accountSettings/accountLinking/components/accountLinking",["require","common/lib/ada/setFocus","profileArea/sharedLib/constants"],(function(e){"use strict";var t,i;return function(n){var r=this,a=e("common/lib/ada/setFocus"),o=e("profileArea/sharedLib/constants").profileConstants,s="/dashboard/profileArea/accountLinking/addAccountLinking",c="#/dashboard/profileArea/menu/index",l="/dashboard/profileArea/accountLinking/requestManageLinkedAccounts",d="/dashboard/profileArea/paperless/updateMyPaperlessPreferences",u="dashboard/misc/helpCenter/requestContactUs";function p(e){var t=n.state();t.controller={name:"accountLinking"},t.action={name:e},n.state(t)}function m(e){var t,i;r.model.get("newAccountLinkingPage")?(t=e&&e.unlinkedRelationships||[],i=e&&e.linkedRelationships||[],t.sort(r.sortingRelationshipCriteria),i.sort(r.sortingRelationshipCriteria)):(t=e&&e.availableCustomers||[],i=e&&e.linkedCustomers||[]),r.model.update({availableRelationships:t,existingRelationships:i,serviceLoaded:!0,riskProfileEvaluatedFlag:!0})}function f(e){!e&&(e=o.ERROR_TYPE.SYSTEM_FAILURE),t.setMultiple(r,[{key:"manageLinkedAccountsErrorHeader",variation:e},{key:"manageLinkedAccountsErrorAdvisory",variation:e}]),r.model.set("pageError",!0),a("#page-level-error-message")}function A(){var e=n.state();n.controller.showOtpOverlay().then((()=>{r.model.set("otpBlockInView",!0),r.model.set("otpFlow",!0),n.area.enrollmentMemoryStore.set("userInfo",{businessUser:r.model.get("businessUser")}),n.area.enrollmentMemoryStore.set("parentFlow","MANAGE_LINKED_ACCOUNTS"),e.controller={name:"oneTimePassword"},e.action={name:"getCode",params:{target:"#enrollment-content"}},e.query.params={formId:"CUSTOMER_LINKAGE",path:"secure",returnTo:"/dashboard/profileArea/accountLinking/requestManageLinkedAccounts"},n.state(e)}))}r.compareStrings=function(e,t){return e<t?-1:e>t?1:0},r.sortingRelationshipCriteria=function(e,t){var i=e.businessEnterprisePartyIdentifier,n=t.businessEnterprisePartyIdentifier;return i&&!n?1:!i&&n?-1:r.compareStrings(e.displayName.toUpperCase(),t.displayName.toUpperCase())},r.onInit=function(){t=n.dcu.dynamicContent,i=n.hybridHelper&&n.hybridHelper.webNativeMessenger,n.globalContentMixin.call(r,["waitAda","checkmarkAda","importantAda","warningAda","opensInformationDialogAda","beginHelpMessageAda","exitHelpMessageAda","endHelpMessageAda"])},r.onReady=function(){n.area.broadcast("renderMyProfileMenuMobile"),n.hybrid&&(r._initNativeNavBarButtons(),r.onData("confirmAccountLinking",r._updateNativeNavBar),r.onData("otpFlow",r._updateNativeNavBar))},r.onDestroy=function(){n.initControllerModel()},r.requestIdentificationCode=function(e){var t=e.domEvent.target.dataset.relationshipIndex;r.model.set("bizCisId",e.context.bizid),r.model.set("cisId",e.context.cisid),r.model.set("customerName",e.context.name),r.linkingRelationshipIdx=t;var i=r.model.get("newAccountLinkingPage");r.model.set("businessEnterprisePartyIdentifier",e.context.data.businessEnterprisePartyIdentifier||e.context.bizid),r.model.set("individualEnterprisePartyIdentifier",e.context.data.individualEnterprisePartyIdentifier||e.context.cisid),i&&(r.model.set("otpFlow",!0),r.model.set("accountLink","link_relationships_verify"),r.model.set("customerBizCisId",r.model.get("bizCisId")),r.model.set("confirmAccountLinking",!0),p("linkRelationshipVerify"),1)||A()},r.cancelTask=function(){r.model.get("newAccountLinkingPage")&&p("requestManageLinkedAccounts"),r.model.set("otpFlow",!1),r.model.set("confirmAccountLinking",!1),a("#simple-header")},r.requestLinkedAccount=function(){r.model.get("newAccountLinkingPage")?p("addAccountLinking"):n.state(s)},r.navigateToProfileMenu=function(){n.state(c)},r.requestManageLinkedAccounts=function(){r.model.get("newAccountLinkingPage")?(r.model.set("otpFlow",!1),r.model.set("confirmAccountLinking",!1),r.requestProfileRiskLevel(),p("requestManageLinkedAccounts")):(r.model.set("manageAccountLinking.otpFlow",!1),r.model.set("manageAccountLinking.confirmAccountLinking",!1),n.state(l))},r.requestPaperlessElection=function(){r.model.set("otpFlow",!1),r.model.set("otpBlockInView",!1),n.state(d)},r._showLinkingSuccessConfirmation=function(){r.model.set("addServiceSuccess",!0),r._setSuccessConfirmationAlertContent()},r._setSuccessConfirmationAlertContent=function(){t.set(r,"manageLinkedAccountsConfirmationHeader","PAPERLESS"),t.set(r,"manageLinkedAccountsConfirmationAdvisory","PAPERLESS")},r._setFocusOnSuccessHeroHeader=()=>{a("#manage-linked-accounts-success-message")},r._secondaryButtonInteraction=function(){({verify:r.cancelTask,confirm:r.requestManageLinkedAccounts})[r.model.get("accountLink").split("_")[2]]()},r._initNativeNavBarButtons=function(){var e={isHybridBackButtonRequired:function(){return!!r.model.get("confirmAccountLinking")&&(r._secondaryButtonInteraction(),!0)},isCloseSelected:function(){return!1}};i.setShouldNativeHandleButtonPressedCallBack((function(e){return!r.model.get("confirmAccountLinking")||"BACK"!==e||(r._secondaryButtonInteraction(),!1)}),e)},r._updateNativeNavBar=function(){var e={showHamburgerMenu:!1,showCancel:!r.otpFlow&&!r.confirmAccountLinking,showBackArrow:!r.confirmAccountLinking,showProfileSettings:!1,showClose:!1,pageTitle:t.get(r,"manageLinkedAccountsHeader")};i.updateNativeNavigationBar(e)},r.requestManageLinkedAccountsHelpMessage=function(){a("#manage-linked-accounts-tooltip")},r.requestProfileRiskLevel=function(){return r.riskAccountListByRelationshipType(o.RELATIONSHIPS_TYPE.BOTH).catch((function(e){var t,i,n;r.model.set("showSpinner",!1);try{return i=(t=e&&e.data&&JSON.parse(e.data))&&t.errorCode,e.status===o.HTTP_CODES.CONFLICT&&o.accountLinkingAuthErrorCodes.includes(i)?(n=i)===o.riskStatus.AMBER?A():n===o.riskStatus.RED?f(o.ERROR_TYPE.RISK_STATUS_RED):r.getLinkedAccounts():f()}catch(e){return f()}}))},r.requestCustomerService=function(){return n.hybrid?i.goToNativePage({navKey:"requestAccountContactUs"}):n.user.profile.isPrivateBankUser()?n.application.broadcast("makeNavigation",{navKey:"requestMyInvestmentAdvisors"}):n.state(u)},r.riskAccountListByRelationshipType=function(e){var t=n.services.accountLinking.settings("riskStatusAndAccountslist"),i=n.user.profile&&n.user.profile.getProfile()&&n.user.profile.getProfile().profileId;return t.url=t.url.replace(/:profileId/,i),n.services.accountLinking.settings("riskStatusAndAccountslist",t),r.model.set("showSpinner",!0),n.services.accountLinking.riskStatusAndAccountslist({"relationship-type-code":e}).then((function(e){return r.model.set("showSpinner",!1),e?m(e):Promise.reject(e)}))},r.getLinkedAccounts=function(){return r.riskAccountListByRelationshipType(o.RELATIONSHIPS_TYPE.LINKED).catch((function(e){var t,i;r.model.set("showSpinner",!1);try{return i=(t=e&&e.data&&JSON.parse(e.data))&&t.errorCode,e.status===o.HTTP_CODES.CONFLICT&&o.accountLinkingAuthErrorCodes.includes(i)?m(e):f()}catch(e){return f()}}))}}})),define("bluespec/manage_linked_accounts",[],(function(){return{name:"MANAGE_LINKED_ACCOUNTS",data:{availableRelationships:{type:"List",items:{availableRelationshipId:"Description",availableRelationshipName:"Description"}},availableRelationshipId:{type:"Description"},existingRelationships:{type:"List",items:{existingRelationshipId:"Description",existingRelationshipName:"Description"}},existingRelationshipId:{type:"Description"},fundingAccounts:{type:"List",items:{fundingAccountId:"Description",fundingAccountDisplayName:"Description",fundingAccountMaskNumber:"AccountMaskNumber"}},fundingAccountId:{type:"Description"}},actions:{requestIdentificationCode:!0,requestAccountOverview:!0,requestManageLinkedAccountsHelpMessage:!0,requestLinkedAccount:!0,requestManageLinkedAccounts:!0,cancelTask:!0,requestPaperlessElection:!0,requestProfileRiskLevel:!0,requestCustomerService:!0},settings:{manageLinkedAccountsHeader:!0,manageLinkedAccountsMessage:!0,manageLinkedAccountsAdvisory:!0,manageLinkedAccountsHelpMessage:!0,manageLinkedAccountsHelpMessageAda:!0,relationshipOptionsLabel:!0,availableRelationshipsLabel:!0,existingRelationshipsLabel:!0,requestIdentificationCodeLabel:!0,existingLinkedRelationshipLabel:!0,requestAccountOverviewLabel:!0,noExistingRelationshipsMessage:!0,noAvailableRelationshipsMessage:!0,manageLinkedAccountsErrorHeader:!0,manageLinkedAccountsErrorAdvisory:!0,chaseLogoAda:!0,manageLinkedAccountsConfirmationHeader:!0,manageLinkedAccountsConfirmationMessage:!0,callUsAnytimeMessage:!0,manageLinkedAccountsConfirmationAdvisory:!0,cancelLabel:!0,requestLinkedAccountLabel:!0,requestManageLinkedAccountsLabel:!0,requestPaperlessElectionLabel:!0,requestProfileRiskLevelLabel:!0,verificationMessage:!0,verificationAdvisory:!0,requestCustomerServiceLabel:!0,personalAccountLinkingDisclaimerHeader:!0,personalAccountLinkingDisclaimerMessage:!0,personalAccountLinkingDisclaimerAdvisory:!0,businessAccountLinkingDisclaimerMessage:!0,accountTypeLabel:!0}}})),define("profileArea/accountSettings/accountLinking/controllers/accountLinking",["require","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","common/lib/accountInfo","appkit-utilities/content/dcu","profileArea/accountSettings/accountLinking/components/accountLinking","profileArea/sharedLib/apptelTracker","blue/store/enumerable/memory","blue/store/enumerable/session","bluespec/manage_linked_accounts"],(function(e){"use strict";return function(t){var i=this,n=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"),r=new(e("common/lib/accountInfo")),a=e("appkit-utilities/content/dcu").dynamicContent,o={methods:e("profileArea/accountSettings/accountLinking/components/accountLinking"),view:"accountLinking",spec:{},name:"accountLinkingComponent",modelName:"manageAccountLinking"},s=e("profileArea/sharedLib/apptelTracker"),c=e("blue/store/enumerable/memory"),l=e("blue/store/enumerable/session");t.area.enrollmentMemoryStore=new c("accountLinkingMemoryStore"),t.area.userInfoStorage=l("userInfo");var d="/dashboard/overviewAccounts/overview/index",u="/dashboard";function p(){i.model.set("otpBlockInView",!1)}i.onInit=function(){i.dataProvider.mappers={accountLinking:{list:{success:i.fetchAccountsSuccess,failure:i.fetchAccountsFailure},add:{success:i.addSuccess,failure:i.addFailure},addAndAlert:{success:i.addSuccess,failure:i.addFailure}}},t.initControllerModel=i.initModel,t.showOtpOverlay=i.showOtpOverlay},i.requestManageLinkedAccounts=function(){if(!i.isAccountLinkingDisabled()){var e=[];return n.getFeatureTreatments(["cxo_profileSettings_accountLinking_BBFlow"],{cxo_profileSettings_accountLinking_BBFlow:!1}).then((function(n){var r=n.cxo_profileSettings_accountLinking_BBFlow;return i.registry.hasComponent(o.name)||(i.registerComponent(o,i.model.lens("manageAccountLinking")),i.model.get("manageAccountLinking.accountLink")||i.initModel(),i.model.set("manageAccountLinking.newAccountLinkingPage",r),e.push([i.components[o.name],o.view,{target:t.renderTarget.target}])),p(),i.setOverviewVariation(),!r&&i.dataProvider.request("accountLinking.list",{spinner:{target:t.renderTarget.target}}),t.routeHistory.saveRoute("otpReturn"),t.profileContainer.setPageProperties({pageTitle:a.get(i.components.accountLinkingComponent,"manageLinkedAccountsHeader"),containerClasses:"legacy-profile-styles"}),t.elementObserver.isInsertedPromise(t.renderTarget.target).then((function(){return s.logLeaveAction("$$Profile_Accts"),e}))}))}t.state(d)},i.confirm=function(){var e=i.model.get("manageAccountLinking.newAccountLinkingPage");i.isAccountLinkingDisabled()?t.state(d):i.registry.hasComponent(o.name)?(e?(i.model.set("manageAccountLinking.otpFlow",!1),i.model.set("manageAccountLinking.confirmAccountLinking",!1),i.components.accountLinkingComponent.requestProfileRiskLevel()):i.model.set("manageAccountLinking.confirmAccountLinking",!0),p()):i.context.state(u)},i.showOtpOverlay=function(){var e=[[i.components.otpOverlayComponent,"otpOverlay",{append:!0,target:"#applicationOverlay"}]];return i.executeCAV(e)},i.addAccountLinking=function(){var e;n.getFeatureTreatments(["cxo_profileSettings_accountLinking_addAndAlert"],{cxo_profileSettings_accountLinking_addAndAlert:!1}).then((function(n){if(n.cxo_profileSettings_accountLinking_addAndAlert){var r=t.services.accountLinking.settings("addAndAlert"),a=t.user.profile&&t.user.profile.getProfile()&&t.user.profile.getProfile().profileId;r.url=r.url.replace(/:profileId/,a),t.services.accountLinking.settings("addAndAlert",r);var o=i.model.get("manageAccountLinking.businessEnterprisePartyIdentifier");e={individualEnterprisePartyIdentifier:i.model.get("manageAccountLinking.individualEnterprisePartyIdentifier"),spinner:{target:"#manage-linked-accounts-otp-overlay"}},o&&(e.businessEnterprisePartyIdentifier=o),i.dataProvider.request("accountLinking.addAndAlert",e)}else{var s=i.model.get("manageAccountLinking.bizCisId");e={cisId:i.model.get("manageAccountLinking.cisId"),spinner:{target:"#manage-linked-accounts-otp-overlay"}},s&&(e.bizCisId=s),i.dataProvider.request("accountLinking.add",e)}}))},i.fetchAccountsSuccess=function(e,t){i.model.set("manageAccountLinking.availableRelationships",t.availableCustomers),i.model.set("manageAccountLinking.existingRelationships",t.linkedCustomers),i.model.set("manageAccountLinking.serviceLoaded",!0)},i.fetchAccountsFailure=function(){i.setErrorContent(),i.model.set("manageAccountLinking.pageError",!0)},i.addSuccess=function(){var e;i.model.set("manageAccountLinking.addServiceBBError",!1),i.model.set("manageAccountLinking.addServiceError",!1),i.components.accountLinkingComponent._showLinkingSuccessConfirmation(),i.model.get("manageAccountLinking.newAccountLinkingPage")&&i.model.set("manageAccountLinking.accountLink","link_relationships_confirm"),i.model.get("manageAccountLinking.newAccountLinkingPage")&&((e=t.state()).action="linkRelationshipConfirm",t.state(e)),i.components.accountLinkingComponent._setFocusOnSuccessHeroHeader()},i.addFailure=function(){var e=!1,t=arguments[1];if(t&&"403"==`${t.status}`&&t.responseText){var n=JSON.parse(t.responseText);e="FAILED"===n.responseCode&&"UNAUTHORIZED_AC"===n.errorCode}e?(i.model.set("manageAccountLinking.addServiceError",!1),i.model.set("manageAccountLinking.addServiceBBError",!0)):(i.setErrorContent(),i.model.set("manageAccountLinking.addServiceError",!0),i.model.set("manageAccountLinking.addServiceBBError",!1)),i.model.set("manageAccountLinking.otpFlow",!1),i.model.set("manageAccountLinking.confirmAccountLinking",!1)},i.registerComponent=function(t,n){var r;i.registry.updateComponent(t.name,{model:n,spec:(r=e("bluespec/manage_linked_accounts"),r.data.otpFlow={type:"Boolean"},r.data.confirmAccountLinking={type:"Boolean"},r.data.otpBlockInView={type:"Boolean"},r.data.pageError={type:"description"},r.data.pageNoAvailableRelationshipError={type:"description"},r.data.addServiceError={type:"Boolean"},r.data.addServiceBBError={type:"Boolean"},r.data.serviceLoaded={type:"OnOff"},r.data.showSpinner={type:"Boolean"},r.data.addServiceSuccess={type:"Boolean"},r.data.riskProfileEvaluatedFlag={type:"Boolean"},r.data.customerBizCisId={type:"Boolean"},r.data.bizCisId={type:"Boolean"},r.data.accountLink={type:"description"},r.data.linkingRelationshipIdx={type:"description"},r)})},i.initModel=function(){i.model.set("manageAccountLinking",{logoUrl:t.config.APP_CQ5_HOST_CARD+"/content/dam/cpo-static/images/octogon-white.png",availableRelationships:[],existingRelationships:[],pageError:!1,pageNoAvailableRelationshipError:!1,otpFlow:!1,otpBlockInView:!1,showSpinner:!1,addServiceSuccess:!1,confirmAccountLinking:!1,bizCisId:null,cisId:null,serviceLoaded:!1,businessUser:r.isBusinessUser(),beginHelpMessageAda:t.globalContent.beginHelpMessageAda,endHelpMessageAda:t.globalContent.endHelpMessageAda,exitHelpMessageAda:t.globalContent.exitHelpMessageAda,closeParenthesesSymbol:t.globalContent.closeParenthesesSymbol,openParenthesesSymbol:t.globalContent.openParenthesesSymbol,horizontalEllipsisSymbol:t.globalContent.horizontalEllipsisSymbol,importantAda:t.globalContent.importantAda,warningAda:t.globalContent.warningAda,requestProfileSettingsMenuAda:t.globalContent.requestProfileSettingsMenuAda,newAccountLinkingPage:!1,accountLink:"",customerBizCisId:!1,linkingRelationshipIdx:"",riskProfileEvaluatedFlag:!1})},i.setErrorContent=function(){var e="SYSTEM_FAILURE";a.set(i.components.accountLinkingComponent,"manageLinkedAccountsErrorHeader",e),a.set(i.components.accountLinkingComponent,"manageLinkedAccountsErrorAdvisory",e)},i.isAccountLinkingDisabled=function(){return i.context.config.isManageLinkedAccountsDisabled},i.setOverviewVariation=function(){var e=i.model.get("manageAccountLinking.businessUser")?"BUSINESS":"PRIVATE";a.set(i.components.accountLinkingComponent,"manageLinkedAccountsAdvisory",e),a.set(i.components.accountLinkingComponent,"callUsAnytimeHeader",e),a.set(i.components.accountLinkingComponent,"callUsAnytimeMessage",e)},i.linkRelationshipVerify=function(){i.isAccountLinkingDisabled()?t.state(d):i.registry.hasComponent(o.name)||t.state(u)},i.linkRelationshipConfirm=function(){if(!i.registry.hasComponent(o.name))return i.requestManageLinkedAccounts()}}})),define("profileArea/accountSettings/accountLinking/lib/constants",{BRAND_LOGO_ADA:{LOGO_KEY:"chaseLogoAda",JPMORGAN:"JPMORGAN_ONLINE",BUSINESS:"BUSINESS",WEALTH:"JPMORGAN_ONLINE",PERSONAL:"CHASE",DEFAULT:"CHASE"},BRAND_BAR_LOGO:{JPMORGAN:"JPMORGAN",BUSINESS:"BUSINESS",WEALTH:"JPMORGAN",PERSONAL:"DEFAULT",DEFAULT:"DEFAULT"}}),define("profileArea/accountSettings/accountLinking/lib/brandMapper",{brandLogo:{WEALTH:{logoType:"wealth",logoUrl:"/content/dam/cpo-static/images/chase-private-client-white.png",logoSourceToken:"AFFLUENT_PRIVATE_CLIENT_SEGMENT"},BUSINESS:{logoType:"business",logoUrl:"/content/dam/unified-assets/logo/chase-brands/chase-for-business/additional-file-formats/logo_chase_for_business_wht.svg",logoSourceToken:"BUSINESS"},COMMERCIAL:{logoType:"commercial",logoUrl:"/content/dam/cpo-static/images/294x21-commercial-logo.png",logoSourceToken:"COMMERCIAL"},JPMORGAN:{logoType:"jpmorgan",logoUrl:"/content/dam/cpo-static/images/jpmorgan_logo_white.png",logoSourceToken:"PRIVATE_BANKING"},DEFAULT:{logoType:"public",logoUrl:"/content/dam/cpo-static/images/octogon-white.png",logoSourceToken:"MASS_CONSUMER_SEGMENT"}},brandNameSettingsKey:{JPMORGAN:"jpmorgan",JPO:"jpmorgan"}}),define("profileArea/accountSettings/accountLinking/components/otpOverlay",["profileArea/accountSettings/accountLinking/lib/constants","profileArea/accountSettings/accountLinking/lib/brandMapper","blue/store/enumerable/cookie"],(function(e,t,i){"use strict";return function(n){var r=this;n.cookieStore=new i(null,!0),this.init=function(){},this.onReady=function(){r.logoUrl=r.getBrandLogoUrl();var t=n.cookieStore.get("BRAND_1_0"),i=e.BRAND_LOGO_ADA[t]||e.BRAND_LOGO_ADA.DEFAULT;n.dcu.dynamicContent.set(r,e.BRAND_LOGO_ADA.LOGO_KEY,i)},r.destroyOverlay=function(){r.destroy()},r.getBrandLogoUrl=function(){var i=n.cookieStore.get("BRAND_1_0"),r=e.BRAND_BAR_LOGO[i]||e.BRAND_BAR_LOGO.DEFAULT,a=t.brandLogo[r];return n.config.APP_CQ5_HOST_CARD+a.logoUrl}}})),define("profileArea/accountSettings/linkBusinessAccounts/controllers/linkBusinessAccounts",["require","profileArea/sharedLib/apptelTracker","common/lib/utility/commonComponentsUtil","common/lib/modalApi"],(function(e){"use strict";return function(t){var i=null,n=this,r=e("profileArea/sharedLib/apptelTracker");n.init=function(){i=t.dcu.dynamicContent,this.commonComponentsUtil=e("common/lib/utility/commonComponentsUtil")(n),t.commonComponentsUtil=n.commonComponentsUtil,t.Api={modal:new(e("common/lib/modalApi"))(n)},t.on({"linkBusinessAccounts/setTgtData":function(e){t.Api.modal.setTgtData(e.data,!1)}})},n.requestLinkBusinessAccounts=function(){return t.profileContainer.setPageProperties({pageTitle:i.get(n.components.linkBusinessAccounts,"linkBusinessAccountsHeader"),containerClasses:"legacy-profile-styles"}),n.linkAccountsListService()},n.confirmLinkAccounts=function(){n.isBaseCompRegistered()||n.gotoDefaultPage()},n.gotoDefaultPage=function(){this.context.state(t.profileUrls["linkBusinessAccounts.linkBusinessAccounts"])},n.isBaseCompRegistered=function(){return n.components&&n.components.linkBusinessAccounts&&n.components.linkBusinessAccounts.__enabled},n.linkAccountsListService=function(){return n.commonComponentsUtil.showSpinner({target:t.renderTarget.target,overlayType:"INSECTION",append:!1}),t.services.linkBusinessAccounts["linkBusinessAccounts.linkAccounts.list.svc"]().then((function(e){return n.setModel(e),n.commonComponentsUtil.hideSpinner(t.renderTarget),n.renderLinkAccounts()}),(function(){return n.handleNetworkServiceError(),n.commonComponentsUtil.hideSpinner(t.renderTarget),n.renderLinkAccounts()}))},n.renderLinkAccounts=function(){t.exitDialogUtil.setListeners(n.components.linkBusinessAccounts);var e=[n.components.linkBusinessAccounts,"linkBusinessAccounts",t.renderTarget];if(n.model.get("linkBusinessAccounts.serviceError")){var a="SYSTEM_FAILURE";i.set(n.components.linkBusinessAccounts,"linkBusinessAccountsErrorHeader",a),i.set(n.components.linkBusinessAccounts,"linkBusinessAccountsErrorAdvisory",a)}n.executeCAV(e).then((function(){t.area.broadcast("renderMyProfileMenuMobile"),r.logLeaveAction("$$Profile_Accts")}))},n.setModel=function(e){n.model.set("linkBusinessAccounts.openADAText",t.globalContent.hidesContentBelowAda),n.model.set("linkBusinessAccounts.closedADAText",t.globalContent.showsContentBelowAda),n.model.set("linkBusinessAccounts.requestAdvisoryDetailsLabel",t.globalContent.requestAdvisoryDetailsLabel),n.model.set("linkBusinessAccounts.exitAdvisoryDetailsLabel",t.globalContent.exitAdvisoryDetailsLabel),n.model.set("linkBusinessAccounts.adminName",e.name),n.model.set("linkBusinessAccounts.emailAddress",e.email),e.phoneNumber&&n.setPhone(e.phoneNumber),n.model.set("linkBusinessAccounts.requestProfileSettingsMenuAda",t.globalContent.requestProfileSettingsMenuAda),n.model.set("linkBusinessAccounts.showMessage",!1),n.model.set("linkBusinessAccounts.serviceError",!1)},n.setPhone=function(e){e=10===e.length?e.substring(0,3)+"-"+e.substring(3,6)+"-"+e.substring(6):"+"+e,this.model.set("linkBusinessAccounts.phoneNumber",e)},n.handleNetworkServiceError=function(){n.model.set("linkBusinessAccounts.showMessage",!0),n.model.set("linkBusinessAccounts.serviceError",!0)}}})),define("profileArea/accountSettings/linkBusinessAccounts/components/linkBusinessAccounts",["require","profileArea/sharedLib/profileMixin","profileArea/sharedLib/constants"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileMixin"),i=e("profileArea/sharedLib/constants").profileUrls,n=null;return function(e){var r=this;r.init=function(){t.call(this),n=this.context.dcu.dynamicContent},r.confirmLinkBusinessAccounts=function(){return e.commonComponentsUtil.showSpinner({target:e.renderTarget.target,overlayType:"FULLSCREEN",append:!0}),e.exitDialogUtil.manageFormDirty(!1,"linkBusinessAccounts"),e.services.linkBusinessAccounts["linkBusinessAccounts.linkAccounts.update.svc"]().then((function(){e.commonComponentsUtil.hideSpinner(e.renderTarget),e.state(i["linkBusinessAccounts.confirmLinkAccounts"]),r._handleSuccess()}),(function(){e.commonComponentsUtil.hideSpinner(e.renderTarget),r._handleError()}))},r._messageView=function(e){r.output.emit("state",{value:"confirmationMessage",message:e})},r._handleSuccess=function(){r._messageView("success")},r._handleError=function(){var e="SYSTEM_FAILURE";n.set(r,"linkBusinessAccountsErrorHeader",e),n.set(r,"linkBusinessAccountsErrorAdvisory",e),r._messageView("error")},r.requestDocumentDownloaded=function(t){e.exitDialogUtil.manageFormDirty(t.context.checked,"linkBusinessAccounts")},r.downloadDocument=function(e){"A"===e.domEvent.target.tagName&&r.output.emit("state",{value:"openLinkingAgreement"})},r.skipBack=function(){}}})),define("profileArea/accountSettings/setPrimaryAccount/controllers/setPrimaryAccount",[],(function(){"use strict";return function(e){var t=this;t.requestPrimaryAccount=function(){return[t.components.setPrimaryAccount,"setPrimaryAccount",e.renderTarget]}}})),define("profileArea/accountSettings/setPrimaryAccount/components/setPrimaryAccount",[],(function(){"use strict";return{}})),define("profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsUtility",["require","blue/siteMode"],(function(e){"use strict";var t=e("blue/siteMode");return{isSiteModeEnabled:function(){return t.isModeEnabled("ecdStandIn")||t.isModeEnabled("readOnly")},makeNavigation:function(e,t){var i={navKey:t};e.broadcast("makeNavigation",i)}}})),define("profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsConstants",{maxAccountSize:200,maxCustomGroupNameLength:40,standardGroupsIds:{"group-all-":{position:1,variation:"ALL_ACCOUNTS"},"group-deposit-":{position:2,variation:"BANKING_ACCOUNTS"},"group-investment-":{position:3,variation:"INVESTMENT_ACCOUNTS"},"group-liability-":{position:4,variation:"CREDIT_ACCOUNTS"},"group-charity-":{position:5,variation:"CHARITABLE_ACCOUNTS"}},statusCodeMapper:{PROFILE_HAS_MAX_ACCOUNTGROUPS:"MAXIMUM_ACCOUNT_GROUPS"},renderTarget:"#my-profile-page-content"}),define("profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsBrandMapperConfig",["require","blue/siteData","profileArea/sharedLib/dashboardSettings"],(function(e){"use strict";const t=e("blue/siteData"),i=e("profileArea/sharedLib/dashboardSettings").brandIdMapper,n={accountGroupId:"group-charity-",accountIds:[],balance:!0,businessGroup:!1,customGroup:!1,visibility:"hidden",supportedBrands:["JPO"]},r={DEFAULT:{favoriteServiceCall:!1,serviceUrls:{getGroups:"/svc/rr/accounts/secure/v1/business/accountgroup/options/list",addGroup:"/svc/wr/dwm/secure/v1/portfolio/accountgroup/add",deleteGroup:"/svc/wr/dwm/secure/v1/portfolio/accountgroup/delete",updateGroup:"/svc/wr/dwm/secure/v1/portfolio/accountgroup/update",getAccounts:"/svc/wr/dwm/secure/v1/portfolio/accountgroup/list",makeDefault:"/svc/rr/accounts/secure/v1/business/defaultaccountgroup/update"}},JPO:{favoriteServiceCall:!1,serviceUrls:{getGroups:"/svc/rr/accounts/secure/v1/investment/accountgroup/options/list",addGroup:"/svc/wr/dwm/secure/v1/portfolio/accountgroup/add",deleteGroup:"/svc/wr/dwm/secure/v1/portfolio/accountgroup/delete",updateGroup:"/svc/wr/dwm/secure/v1/portfolio/accountgroup/update",getAccounts:"/svc/wr/dwm/secure/portfolio/v2/accountgroup/list",makeDefault:"/svc/wr/dwm/secure/v1/portfolio/defaultaccountgroup/update"}},CBO:{favoriteServiceCall:!0,serviceUrls:{getGroups:"/svc/rr/accounts/secure/v1/business/accountgroup/options/list",addGroup:"/svc/wr/dwm/secure/v1/portfolio/accountgroup/add",deleteGroup:"/svc/wr/dwm/secure/v1/portfolio/accountgroup/delete",updateGroup:"/svc/wr/dwm/secure/v1/portfolio/accountgroup/update",getAccounts:"/svc/wr/dwm/secure/v1/portfolio/accountgroup/list",makeDefault:"/svc/rr/accounts/secure/v1/business/defaultaccountgroup/update",getFavoriteList:"/svc/rr/profile/secure/v1/account/favorite/list"}},CPO:{favoriteServiceCall:!0,serviceUrls:{getGroups:"/svc/rr/accounts/secure/v1/business/accountgroup/options/list",addGroup:"/svc/wr/dwm/secure/v1/portfolio/accountgroup/add",deleteGroup:"/svc/wr/dwm/secure/v1/portfolio/accountgroup/delete",updateGroup:"/svc/wr/dwm/secure/v1/portfolio/accountgroup/update",getAccounts:"/svc/wr/dwm/secure/v1/portfolio/accountgroup/list",makeDefault:"/svc/rr/accounts/secure/v1/business/defaultaccountgroup/update",getFavoriteList:"/svc/rr/profile/secure/v1/account/favorite/list"}}},a=function(){const e=t.getData("brandId");return i[e]},o=function(){const e=a()||"DEFAULT";return r[e]};return{getCurrentUserBrandData:o(),getBrandId:a(),checkIfFavCallExisits:o().favoriteServiceCall,getServiceList:o().serviceUrls,activeAccountCountHelperGroups:["group-all-","group-personal-all-"],supportedStandardAccounts:{"group-charity-":{suppotedAccounts:["DAF","NPT"],name:"5"}},getSupportedStandardGroups:function(){const e=a();return n.supportedBrands.includes(e)?n:void 0}()}})),define("profileArea/accountSettings/manageCustomGroups/services/dataTransform/manageCustomGroupsDataTransform",["require","profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsBrandMapperConfig"],(function(e){"use strict";return function(t){const i=e("profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsBrandMapperConfig");var n=t.context.constants.standardGroupsIds;return{getAccountGroups:function(e){var i=t.model.get("customGrpSelectionModel"),n=i.customAccountIdMapper,r=i.customGroupId,a=t.context.globalContent,o=this.checkSupportingAccounts(e.accounts),s=this;return o.forEach((function(t){var i=t.accountIds.length,o=n[r],c=0;e.accounts.some((function(e){return c+=s.updateAccountDetails(t,o,e,a),i===t.accounts.length})),t.accounts.length===c&&(t.isAllAccountsSelected=!0)})),o},updateAccountDetails:function(e,t,i,n){var r=!1;return e.accountIds.indexOf(i.accountId)>-1&&(i.accountDisplayName=i.nickname+" "+n.openParenthesesSymbol+n.horizontalEllipsisSymbol+i.mask+n.closeParenthesesSymbol,i.isAccountsSelected=this.isAccountPartOfCustomGroup(t,i),e.accounts.push(i),i.isAccountsSelected&&(r=!0)),r},isAccountPartOfCustomGroup:function(e,t){return!!e&&e.indexOf(t.accountId)>-1},getAllGroups:function(e){var i,r={standardGroups:[],customGroups:[],customAccountIdMapper:{},activeAccountsCount:0},a=!1,o=t.model.get("customGrpSelectionModel.groupListRawData");return r.isFavoriteGroupExist=e.accounts&&e.accounts.length>0,r.activeAccountsCount=this.getActiveAccountCount(o),r.accounts=o.accounts||[],o.accountGroups&&o.accountGroups.length>0&&(o.accountGroups.forEach((function(e,o){var s=n[e.accountGroupId];if(e.defaultGroup&&(a=!0),e.customGroup){var c={customGroupName:e.accountGroupName,accountGroupId:e.accountGroupId,isDefaultSelected:e.defaultGroup,accountIds:e.accountIds};r.customAccountIdMapper[e.accountGroupId]=e.accountIds,r.customGroups.push(c),i="customGroups"}else if(s){let n=t.context.dcu.dynamicContent.get(t.components.customGroupSelection,"standardGroupAccountsLabel",s.variation);var l={standardGroupName:n,accountGroupId:e.accountGroupId,isDefaultSelected:e.defaultGroup,accountIds:e.accountIds,accounts:[],position:s.position,isAllAccountsSelected:!1,name:String(o),label:n,expanded:!0,visibility:e.visibility||"visiable"};r.standardGroups.push(l),i="standardGroups"}e.defaultGroup&&t.setDefaultViewModelData(i,r[i].length-1)})),!a&&!r.isFavoriteGroupExist&&this.setAllAccountAsDefault(r.standardGroups),this.sortStandardGroup(r.standardGroups)),r},sortStandardGroup:function(e){e.sort((function(e,t){return e.position-t.position}))},setAllAccountAsDefault:function(e){e[0].isDefaultSelected=!0,t.setDefaultViewModelData("standardGroups",0)},getActiveAccountCount:function(e){if(!e.accountGroups&&!e.accounts)return 0;const t=i.activeAccountCountHelperGroups,n=e.accountGroups.find((function(e){return t.find((function(t){return e.accountGroupId===t}))}));return(n?n.accountIds.length:e.accounts.length)||0},checkSupportingAccounts:function(e){const r=t.model.get("customGrpSelectionModel"),a=!!r.standardGroups.length&&1===n[r.standardGroups[0].accountGroupId].position?r.standardGroups.slice(1):r.standardGroups,o=i.supportedStandardAccounts;return a.reduce((function(t,i){if(o[i.accountGroupId]){const n=o[i.accountGroupId],r=e.filter((function(e){return n.suppotedAccounts.includes(e.accountCategoryType)}));r.length&&(i.accountIds=r.map((function(e){return e.accountId})),t.push(i))}else t.push(i);return t}),[])},updateNonJumboAccounts:function(){const e=t.model.get("manageCustomGrpAcctModel"),i=e.customGroups.find((function(t){return t.accountGroupId===e.customGroupId})).accountIds,n=e.accounts.map((function(e){return i.includes(e.accountId)&&(e.isAccountsSelected=!0),e})),r=n.every((function(e){return e.isAccountsSelected}));t.model.set("manageCustomGrpAcctModel.accounts",n),t.model.set("manageCustomGrpAcctModel.isAllAccountsSelected",r)},updateDisplayNames:function(e){const i=t.context.globalContent;return e.map((function(e){return e.accountDisplayName=e.nickname+" "+i.openParenthesesSymbol+i.horizontalEllipsisSymbol+e.mask+i.closeParenthesesSymbol,e}))}}}})),define("profileArea/accountSettings/manageCustomGroups/services/manageCustomGrpsServiceMapper",["require","profileArea/accountSettings/manageCustomGroups/services/dataTransform/manageCustomGroupsDataTransform","profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsConstants"],(function(e){"use strict";return function(t){var i=e("profileArea/accountSettings/manageCustomGroups/services/dataTransform/manageCustomGroupsDataTransform")(t),n=e("profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsConstants").statusCodeMapper,r=function(e,i,r,a){a=a||"customGrpSelectionModel.errorState",t.components[r]&&(!function(e,i,n){var r=t.context.dcu.dynamicSettings;r.set(t.components[n],i.header,e),r.set(t.components[n],i.advisory,e)}(n[e.statusCode]||"SYSTEM_FAILURE",i,r),t.model.set(a,!0),"customGrpSelectionModel.errorState"===a&&t.model.set("customGrpSelectionModel.customAccountsGroupSuccessHeader",""))},a=function(e,t){r(t,{header:"createCustomAccountsGroupErrorHeader",advisory:"createCustomAccountsGroupErrorAdvisory"},"manageCustomGroupAccounts","manageCustomGrpAcctModel.errorState")},o=function(e,t){r(t,{header:"customAccountsGroupErrorHeader",advisory:"customAccountsGroupErrorAdvisory"},"customGroupSelection")};return{manageCustomGroups:{deleteGroup:{success:function(){t.onDeleteGroupServiceComplete()},failure:o},makeDefault:{success:function(){t.onMakeDefaultCallSuccess()},failure:o},addGroup:{success:t.onAddOrEditGroupServiceComplete,failure:a},updateGroup:{success:t.onAddOrEditGroupServiceComplete,failure:a},getGroups:{success:function(e,i){t.onGetGroupsServiceSuccess(i)},failure:o},getAccounts:{success:function(e,n){t.onGetAccountsServiceSuccess(i.getAccountGroups(n))},failure:a},getInvAccounts:{success:function(e,n){t.onGetAccountsServiceSuccess(i.getAccountGroups(n))},failure:a},getFavoriteList:{success:function(e,n){t.onGetFavoriteServiceSuccess(i.getAllGroups(n))},failure:o},checkNonJumboAccounts:{success:function(e,i){t.onCheckNonJumboAccountsServiceSuccess(i)},failure:o}}}}})),define("profileArea/accountSettings/manageCustomGroups/controllers/manageCustomGroups",["require","common/lib/API/contextValidation/contextValidationAPI","profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsUtility","profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsConstants","profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsBrandMapperConfig","common/lib/elementObserver","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","common/lib/API/contextValidation/contextValidationMixin","profileArea/accountSettings/manageCustomGroups/services/manageCustomGrpsServiceMapper","profileArea/accountSettings/manageCustomGroups/services/dataTransform/manageCustomGroupsDataTransform"],(function(e){"use strict";return function(t){var i=this,n={compName:"customGroupSelection",modelName:"customGrpSelectionModel",viewName:"manageCustomGroups/customGroupSelection"},r={compName:"manageCustomGroupAccounts",modelName:"manageCustomGrpAcctModel",viewName:"manageCustomGroups/manageCustomGroupAccounts"},a={index:"#/dashboard/profileArea/manageCustomGroups/gotoCustomGroupSelection",createGroup:"#/dashboard/profileArea/manageCustomGroups/gotoManageGroupAccounts",customGroupSelection:"#/dashboard/profileArea/manageCustomGroups/requestManageCustomGroups"},o={compName:"customGroupSelection",modelName:"customGrpSelectionModel",viewName:"manageCustomGroups/customGroupSelectionInvestment"},s={viewName:"manageCustomGroups/customGroupMicroappContainer"},c=e("common/lib/API/contextValidation/contextValidationAPI");t.manageCustomGroupsUtility=e("profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsUtility"),t.constants=e("profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsConstants");const l=e("profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsBrandMapperConfig");t.elementObserver=e("common/lib/elementObserver")(i);var d=t.dcu.dynamicContent;const u=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd");i.requestManageCustomGroups=function(){e("common/lib/API/contextValidation/contextValidationMixin")(i),i.observeContainerLoad("index")},i.createGroup=function(){2===i.model.get("manageCustomGrpAcctModel.progressCurrentStep")&&(t.application.dirtyForm.dirtyIgnore=!0),i.observeContainerLoad("createGroup")},i.gotoCustomGroupSelection=async function(){let r;if((await u.getFeatureTreatments(["cxoweb_profile_manageCustomGroups_microapp"],{cxoweb_profile_manageCustomGroups_microapp:!1})).cxoweb_profile_manageCustomGroups_microapp)r=i.getCAVData(s);else{i.dataProvider.mappers=e("profileArea/accountSettings/manageCustomGroups/services/manageCustomGrpsServiceMapper")(i),i.initializeCustomGroupSelection();"CPO"===l.getBrandId&&t.userInfo&&!1===t.userInfo.jumbo?(i.model.set("customGrpSelectionModel.nonJumboInvestment",!0),i.model.set("manageCustomGrpAcctModel.nonJumboInvestment",!0),i.dataProvider.request("manageCustomGroups.checkNonJumboAccounts",{spinner:{}}),r=i.getCAVData(o)):(r=i.getCAVData(n),i.getGroups()),t.manageCustomGroupsUtility.isSiteModeEnabled()&&(i.model.set("customGrpSelectionModel.ecdModeIndicator",!0),i.showSystemFailure()),i.checkForAddOrEditGroupSuccessMessage()}return t.profileContainer.setPageProperties({pageTitle:d.get(i.components.customGroupSelection,"manageAccountGroupHeader"),containerClasses:"legacy-profile-styles"}),r},i.initializeCustomGroupSelection=function(){var e=i.model.get("customGrpSelectionModel")||{};i.model.set("customGrpSelectionModel",{ecdModeIndicator:!1,standardGroups:[],showAccountsHiddenMessage:!1,defaultView:{},addOrUpdateMessageVariation:e.addOrUpdateMessageVariation||""}),i.model.set("manageCustomGrpAcctModel",{progressCurrentStep:"",accountGroups:[]})},i.gotoManageGroupAccounts=function(){i.model.set("customGrpSelectionModel.addOrUpdateMessageVariation","");var e=i.model.get("customGrpSelectionModel"),n=i.model.get("manageCustomGrpAcctModel")||{};return 2!==n.progressCurrentStep&&(i.model.get("customGrpSelectionModel.nonJumboInvestment")||i.getAccounts(),n.customGroupId=e.customGroupId,n.newCustomGroupName=e.customGroupName,n.editGroupName=e.customGroupName,n.customAccountIdMapper=e.customAccountIdMapper),n.standardGroups=e.standardGroups,n.customGroups=e.customGroups,n.accounts=i.dataTransform.updateDisplayNames(e.accounts),n.progressCurrentStep=1,n.maxCustomGroupNameLength=t.constants.maxCustomGroupNameLength,i.model.set("manageCustomGrpAcctModel",n),i.getCAVData(r)},i.observeContainerLoad=function(e){t.elementObserver.isInserted(t.constants.renderTarget,(function(){t.privateState(a[e])}))},i.getCAVData=function(e){var n=[],r=e.compName;return i.registry.hasComponent(r)||(i.registry.updateComponent(r,{model:i.model.lens(e.modelName)}),n.push([i.components[r],e.viewName,{target:t.constants.renderTarget}])),n},i.checkForAddOrEditGroupSuccessMessage=function(){var e=i.model.get("customGrpSelectionModel"),t=e.addOrUpdateMessageVariation;if(t){var r={component:i.components[n.compName],headerKey:"customAccountsGroupSuccessHeader",advisoryKey:"customAccountsGroupSuccessAdvisory",variation:t.variation,props:t.props};i.setDynamicContent(r),e.customAccountsGroupSuccessAdvisory="",e.addOrUpdateMessageVariation="",e.errorState=!1}else e.customAccountsGroupSuccessHeader="";i.model.set("customGrpSelectionModel",e)},t._setFocusPlacement=function(e){i.model.set("manageCustomGrpAcctModel.focusPlacement",""),i.model.set("manageCustomGrpAcctModel.focusPlacement",e)},i.dirtyRegister=function(){t.bubble("dirtyRegister",{controller:i,compInstanceNames:["manageCustomGroupAccounts"],target:t.constants.renderTarget,whiteList:["newCustomGroupName","accountGroups","rearrangedCustomGroupAccounts"],routeBlackList:["/dashboard/profileArea/manageCustomGroups/customGroupAccountsArrangement","/dashboard/flyout/setupFlyout"]}),t.application.dirtyForm.onRemove=!1},i.customGroupAccountsArrangement=function(){var e=i.model.get("manageCustomGrpAcctModel");e.progressCurrentStep=2,e.rearrangedCustomGroupAccounts=i.components.manageCustomGroupAccounts._getCustomGroupAccounts(),i.model.set("manageCustomGrpAcctModel",e),t._setFocusPlacement("accountArrangementHeader")},i.updateModelCustomGroupList=function(){var e=i.model.get("customGrpSelectionModel"),t=e.customGroups,n=t&&t.filter((function(t){return t.accountGroupId!==e.customGroupId}));e.customGroups=n,i.model.set("customGrpSelectionModel",e)},i._checkAndUpdateCustomDefaultView=function(){var e=i.model.get("customGrpSelectionModel");"customGroups"===e.defaultView.groupType&&i.updateDefaultView(e)},i.updateDefaultView=function(e){e.isDefaultCustomGroupDeleted?(!e.isFavoriteGroupExist&&i.setAllAccountAsDefault(e.standardGroups),t.application.gwmShowingDropdownDefaultValue=""):e.customGroups.some((function(e,t){return e.isDefaultSelected&&i.setDefaultViewModelData("customGroups",t)}))},i.setAllAccountAsDefault=function(e){1===t.constants.standardGroupsIds[e[0].accountGroupId].position&&(i.model.set("customGrpSelectionModel.requestedDefaultView",{groupType:"standardGroups",groupIndex:0}),i.model.set("customGrpSelectionModel.requestedAccountGroupId",e[0].accountGroupId),t.makeDefaultService())},i.setDefaultViewModelData=function(e,t){i.model.set("customGrpSelectionModel.defaultView",{groupType:e,groupIndex:t})},t.updateExisitingGroupAccounts=function(){i.dataTransform.updateNonJumboAccounts()},i.getGroups=function(){i.dataProvider.request("manageCustomGroups.getGroups",{filterOption:"ALL",spinner:{}})},i.getAccounts=function(){i.model.get("customGrpSelectionModel.nonJumboInvestment")?i.dataProvider.request("manageCustomGroups.getInvAccounts",{spinner:{}}):i.dataProvider.request("manageCustomGroups.getAccounts",{spinner:{}})},t.removeCustomGroup=function(){i.dataProvider.request("manageCustomGroups.deleteGroup",{accountGroupId:i.model.get("customGrpSelectionModel.customGroupId"),spinner:{}})},t.makeDefaultService=function(){i.dataProvider.request("manageCustomGroups.makeDefault",{accountGroupId:i.model.get("customGrpSelectionModel.requestedAccountGroupId"),spinner:{}})},t.addOrUpdateCustomGroup=function(){var e=i.model.get("customGrpSelectionModel.customGroupId"),t=i.model.get("manageCustomGrpAcctModel.customGroupAccounts").map((function(e){return e.id})),n="addGroup",r="accounts",a={accountGroupName:i.model.get("manageCustomGrpAcctModel.newCustomGroupName"),spinner:{}};e&&(n="updateGroup",r="accountIds",a.accountGroupId=e),a[r]=t,i.dataProvider.request("manageCustomGroups."+n,a)},t.addOrUpdateCustomGroupInvestment=function(){var e=i.model.get("customGrpSelectionModel.customGroupId"),t=i.model.get("manageCustomGrpAcctModel.accounts").reduce((function(e,t){return t.isAccountsSelected&&e.push(t.accountId),e}),[]),n="addGroup",r="accounts",a={accountGroupName:i.model.get("manageCustomGrpAcctModel.newCustomGroupName"),spinner:{}};e&&(n="updateGroup",r="accountIds",a.accountGroupId=e),a[r]=t,i.dataProvider.request("manageCustomGroups."+n,a)},i.onGetGroupsServiceSuccess=function(e){const t=l.getSupportedStandardGroups;e.accountGroups&&t&&e.accountGroups.push(t),i.model.set("customGrpSelectionModel.groupListRawData",e),l.checkIfFavCallExisits?i.dataProvider.request("manageCustomGroups.getFavoriteList",{spinner:{}}):i.mergeStandardAndFavorites()},i.onGetFavoriteServiceSuccess=function(e){i.mergeStandardAndFavorites(e)},i.mergeStandardAndFavorites=function(t={}){i.dataTransform=e("profileArea/accountSettings/manageCustomGroups/services/dataTransform/manageCustomGroupsDataTransform")(i);const n=l.checkIfFavCallExisits&&!i.model.get("customGrpSelectionModel.nonJumboInvestment")?t:i.dataTransform.getAllGroups(t),r=i.model.get("customGrpSelectionModel");r.customGroups=n.customGroups,r.standardGroups=n.standardGroups,r.customAccountIdMapper=n.customAccountIdMapper,r.showAccountsHiddenMessage=n.activeAccountsCount<3,r.isFavoriteGroupExist=n.isFavoriteGroupExist,r.accounts=n.accounts,r.errorState=!1,i.model.set("customGrpSelectionModel",r)},i.onGetAccountsServiceSuccess=function(e){var n=i.model.get("manageCustomGrpAcctModel");n.errorState=!1,n.accountGroups=e,n.rearrangedCustomGroupAccounts=[],i.model.set("manageCustomGrpAcctModel",n),t._setFocusPlacement("createGroupStepOneHeader"),i.dirtyRegister()},i.onMakeDefaultCallSuccess=function(){t.hybrid&&t.hybridHelper&&t.hybridHelper.webNativeMessenger&&t.hybridHelper.webNativeMessenger.refreshProfile("updatePortfolioSummaryGroups"),i.components.customGroupSelection.setManageCustomAccountAsDefault()},i.onAddOrEditGroupServiceComplete=function(){t.hybrid&&t.hybridHelper&&t.hybridHelper.webNativeMessenger&&t.hybridHelper.webNativeMessenger.refreshProfile("updatePortfolioSummaryGroups");var e=i.model.get("customGrpSelectionModel.customGroupId")?{variation:"UPDATE_CONFIRMATION",props:{customGroupName:i.model.get("manageCustomGrpAcctModel.newCustomGroupName")}}:{variation:"ADD_CONFIRMATION",props:""};i.model.set("customGrpSelectionModel.addOrUpdateMessageVariation",e),i.model.set("manageCustomGrpAcctModel.errorState",!1),t.bubble("dirtyDeregister",{name:"manageCustomGroupAccounts"}),t.state(a.customGroupSelection)},i.onDeleteGroupServiceComplete=function(){t.hybrid&&t.hybridHelper&&t.hybridHelper.webNativeMessenger&&t.hybridHelper.webNativeMessenger.refreshProfile("updatePortfolioSummaryGroups"),i.updateModelCustomGroupList(),i._checkAndUpdateCustomDefaultView(),i.model.set("customGrpSelectionModel.errorState",!1);var e={component:i.components[n.compName],headerKey:"customAccountsGroupSuccessHeader",advisoryKey:"customAccountsGroupSuccessAdvisory",variation:"DELETE_CONFIRMATION",props:{customGroupName:i.model.get("customGrpSelectionModel.customGroupName")}};i.setDynamicContent(e)},i.onCheckNonJumboAccountsServiceSuccess=function(e){const t=e;i.model.set("customGrpSelectionModel.nonJumboUser",!0),i.model.set("customGrpSelectionModel.groupListRawData",e),i.mergeStandardAndFavorites(t)},i.showSystemFailure=function(){var e={component:i.components[n.compName],headerKey:"customAccountsGroupErrorHeader",advisoryKey:"customAccountsGroupErrorAdvisory",variation:"SYSTEM_FAILURE",props:""};i.setDynamicContent(e)},i.setDynamicContent=function(e){t.dcu.dynamicContent.setMultiple(e.component,[{key:e.headerKey,variation:e.variation,props:e.props},{key:e.advisoryKey,variation:e.variation}])},t.contextValidationAPI=c}})),define("profileArea/accountSettings/manageCustomGroups/components/customGroupSelection",["require","appkit-utilities/analytics/overlay","profileArea/sharedLib/profileMixin","appkit-utilities/common/mediaQueryListener"],(function(e){"use strict";return function(t){var i=this,n=e("appkit-utilities/analytics/overlay"),r=e("profileArea/sharedLib/profileMixin"),a=e("appkit-utilities/common/mediaQueryListener"),o="#/dashboard/index/index",s="#/dashboard/profileArea/manageCustomGroups/createGroup",c="#/dashboard/profileArea/manageCustomGroups/createGroup",l="#/dashboard/profileArea/hideAccounts/requestMyAccountsDisplay";i.init=function(){r.call(i),i.getDcuContent()},i.onReady=function(){t.area.broadcast("renderMyProfileMenuMobile")},i.requestDefaultView=function(e){var n=e.context;i.model.set("requestedDefaultView",{groupType:n.defaultGroupType,groupIndex:n.defaultGroupIndex}),i.errorState=!1,i.model.set("requestedAccountGroupId",n.groupId),i.customAccountsGroupSuccessHeader="",t.makeDefaultService()},i.setManageCustomAccountAsDefault=function(){var e=i.model.get(),n=e.defaultView,r=e.requestedDefaultView;n.groupType&&e[n.groupType][n.groupIndex]&&(e[n.groupType][n.groupIndex].isDefaultSelected=!1),e[r.groupType][r.groupIndex].isDefaultSelected=!0,e.defaultView={groupType:r.groupType,groupIndex:r.groupIndex},i.model.set(e),i.model.set("focusPlacement",""),i.model.set("focusPlacement","defaultCheckmark"),t.userPreferences.set("gwmDashboardContextParams",void 0);const a=e[r.groupType]&&e[r.groupType][r.groupIndex]?e[r.groupType][r.groupIndex].accountGroupId:"";t.application.gwmShowingDropdownDefaultValue=a},i.getDcuContent=function(){t.globalContentMixin.call(i,["importantAda","checkmarkAda","errorAnnouncementAda","seeMoreAda","opensMenuAda","closesMenuAda","warningAda","requestProfileSettingsMenuAda"]),a.currentBreakpoint===a.BREAKPOINT.XS&&t.dcu.dynamicContent.set(i,"manageAccountGroupAdvisory","MOBILE")},i.requestDeleteGroup=function(e){i.removeCustomGroupOverlay=!0,i.customAccountsGroupSuccessHeader="",i.customGroupName=e.context.groupName,i.model.set("customGroupId",e.context.groupId),i.model.set("isDefaultCustomGroupDeleted",e.context.isDefaultView),n.showOverlay(i,"removeCustomGroupOverlay","requestDeleteGroup"),t.dcu.dynamicContent.set(i,"removeCustomGroupMessage",{customGroupName:i.customGroupName})},i.cancelRemoveCustomGroup=function(){i.removeCustomGroupOverlay=!1,n.hideOverlay(i,"removeCustomGroupOverlay","cancelRemoveCustomGroup")},i.confirmRemoveCustomGroup=function(){n.hideOverlay(i,"removeCustomGroupOverlay","confirmRemoveCustomGroup"),t.removeCustomGroup(),i.removeCustomGroupOverlay=!1},i.requestAccountsDashboard=function(){t.state(o)},i.requestEditGroup=function(e){var n=e.domEvent.target;i.customGroupName=n.getAttribute("data-group-name"),i.model.set("customGroupId",n.getAttribute("data-group-id")),t.state(s)},i.requestCreateGroup=function(){i.customGroupName="",i.model.set("customGroupId",""),t.state(c)},i.requestShowHideAccounts=function(){t.state(l)}}})),define("profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsValidator",["require","appkit-utilities/validation/util"],(function(e){"use strict";return function(t){var i,n=e("appkit-utilities/validation/util"),r=t.context.constants;function a(e,i,n){var r=t.model.get(e);return r&&r.some((function(e){return e[i]===n}))}function o(e){t.context.dcu.dynamicContent.setMultiple(t,[{key:"createCustomAccountsGroupErrorHeader",variation:e.variation},{key:"createCustomAccountsGroupErrorAdvisory",variation:e.variation,props:e.props}])}return{validators:{newCustomGroupName:function(e,o){var s,c=n.getProperty(e,o);return(i=function(e){return(i={}).isValid=/^[a-zA-Z0-9\s]+$/.test(e),i.errorType=i.isValid?"":"INVALID_FORMAT",t.isCustomGroupNameLengthHasError=e.length>r.maxCustomGroupNameLength,i}(s=c)).isValid&&(i=function(e){return(i={}).isValid=!function(e){var i;return t.model.get("editGroupName")!==e&&(i=a("customGroups","customGroupName",e)||a("standardGroups","standardGroupName",e)),i}(e),i.errorType=i.isValid?"":"DUPLICATE_GROUP_NAME",i}(s)),i}},getWhiteList:function(){return["newCustomGroupName"]},validateCustomGroupAccounts:function(){var e,i,n,a;t.isCustomGroupHasError=!1,a=!1,t.customGroupAccounts=t._getCustomGroupAccounts(),(0===t.customGroupAccounts.length||t.isCustomGroupNameLengthHasError)&&(a=0===t.customGroupAccounts.length,o({variation:"NO_ACCOUNT_SELECTED",props:""})),(a||(i=!1,(n=t.customGroupAccounts.length)>r.maxAccountSize&&(e=n-r.maxAccountSize),t.excessAccountsSelected=e,e&&(i=!0,o({variation:"MULTIPLE_ACCOUNTS",props:{excessAccountsSelected:e}})),i))&&(t.isCustomGroupHasError=!0)},validateInvestmentCustomGroupAccounts:function(){t.isCustomGroupHasError=!1,(function(){const e=t.model.get("accounts").reduce((function(e,t){return t.isAccountsSelected&&e++,e}),0);return 0===e||e>r.maxAccountSize}()||t.isCustomGroupNameLengthHasError)&&(o({variation:"NO_ACCOUNT_SELECTED",props:""}),t.isCustomGroupHasError=!0)}}}})),define("profileArea/accountSettings/manageCustomGroups/components/manageCustomGroupAccounts",["require","appkit-utilities/analytics/overlay","appkit-utilities/validation/componentValidate","common/lib/API/dataValidation/dataValidationAPI","profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsValidator","appkit-utilities/validation/variations"],(function(e){"use strict";return function(t){var i,n=this,r=e("appkit-utilities/analytics/overlay"),a="#/dashboard/profileArea/manageCustomGroups/editGroup",o="#/dashboard/profileArea/manageCustomGroups/createGroup",s="#/dashboard/profileArea/manageCustomGroups/requestManageCustomGroups";n.onInit=function(){n.createCustomAccountsGroupErrorHeader="";var r=e("appkit-utilities/validation/componentValidate");e("common/lib/API/dataValidation/dataValidationAPI")(n,{newCustomGroupName:!0}),i=e("profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsValidator")(n),t.variations=e("appkit-utilities/validation/variations"),n.model.set("whiteList",i.getWhiteList()),r.call(n,t,i.validators),n.getDcuContent(),n.model.get("nonJumboInvestment")&&n.model.get("customGroupId")&&t.updateExisitingGroupAccounts()},n.getDcuContent=function(){t.globalContentMixin.call(n,["cancelLabel","nextLabel","backLabel","errorAnnouncementAda","hasExpandedAda","hasCollapsedAda","importantAda"])},n.exitCreateGroup=function(){n.errorState=!1,n.isConfirmationOverlayEnabled()||n.model.set("rearrangedCustomGroupAccounts",[]),t.state(s),r.showOverlay(n,"exitConfirmationOverlay")},n.rearrangeAccounts=function(e){n.model.set("rearrangedCustomGroupAccounts",e.context.newList)},n.confirmCreateAccountGroup=function(){n.validateFormData(),n.errorState=!1;let e=n.model.get("nonJumboInvestment");e?i.validateInvestmentCustomGroupAccounts():i.validateCustomGroupAccounts(),!n.v.newCustomGroupName.isValid||n.isCustomGroupHasError||n.isCustomGroupNameLengthHasError?(n.updateWhiteList(),n.validateFormData(),n.setTriggerSubmitAda(),(n.isCustomGroupHasError||n.isCustomGroupNameLengthHasError)&&(n.errorState=!0),t._setFocusPlacement("accountSelectionError")):e?t.addOrUpdateCustomGroupInvestment():t.addOrUpdateCustomGroup()},n.confirmCreateInvestmentAccountGroup=function(){n.validateFormData(),n.errorState=!1,i.validateInvestmentCustomGroupAccounts(),!n.v.newCustomGroupName.isValid||n.isCustomGroupHasError||n.isCustomGroupNameLengthHasError?(n.validateFormData(),n.setTriggerSubmitAda(),(n.isCustomGroupHasError||n.isCustomGroupNameLengthHasError)&&(n.errorState=!0),t._setFocusPlacement("accountSelectionError")):t.addOrUpdateCustomGroupInvestment()},n.updateWhiteList=function(){n.isCustomGroupHasError?n.addToWhiteList(["isCustomAccountsSelected"]):n.removeFromWhiteList(["isCustomAccountsSelected"])},n.setTriggerSubmitAda=function(){n.model.set("triggerSubmitAda",""),n.model.set("triggerSubmitAda",!0)},n.selectAllAccounts=function(e){var t=e.domEvent.target,i=t.checked,r=t.dataset.groupIndex,a=n.accountGroups[r];a.accounts.forEach((function(e){e.isAccountsSelected=i})),n.model.set("accountGroups."+r,a)},n.selectAccount=function(e){var t=e.domEvent.target,i=t.checked,r=t.dataset.accountIndex,a=t.dataset.groupIndex;n.model.set("accountGroups."+a+".accounts."+r+".isAccountsSelected",i),i?n.updateSelectAllCheckboxes(a):n.model.set("accountGroups."+a+".isAllAccountsSelected",i)},n.selectAllAccountsInvestments=function(e){var t=e.domEvent.target.checked;const i=n.model.get("accounts");i.forEach((function(e){e.isAccountsSelected=t})),n.model.set("accounts",i)},n.selectAccountInvestments=function(e){var t=e.domEvent.target,i=t.checked,r=Number(t.dataset.accountIndex);const a=n.model.get("accounts").map((function(e,t){return t===r&&(e.isAccountsSelected=i),e})),o=a.every((function(e){return e.isAccountsSelected}));n.model.set("isAllAccountsSelected",o),n.model.set("accounts",a)},n.updateSelectAllCheckboxes=function(e){var t=n.accountGroups[e].accounts.every((function(e){return e.isAccountsSelected}));n.model.set("accountGroups."+e+".isAllAccountsSelected",t)},n._getCustomGroupAccounts=function(){var e=[];return n.accountGroups.forEach((function(t){t.accounts.forEach((function(t){t.isAccountsSelected&&e.push({id:t.accountId,content:t.accountDisplayName})}))})),e},n.requestPreviousPage=function(){n.errorState=!1;var e=n.isConfirmationOverlayEnabled();n.previousPageConfirmationOverlay=e,e&&r.showOverlay(n,"previousPageConfirmationOverlay","requestPreviousPage"),!e&&n._navigateCreateOrEditCustomGroupPage()},n.isConfirmationOverlayEnabled=function(){var e=!1,t=n.model.get("rearrangedCustomGroupAccounts");return t&&0!==t.length&&(e=t.some((function(e,t){return e.id!==n.customGroupAccounts[t].id}))),e},n._navigateCreateOrEditCustomGroupPage=function(){t.application.dirtyForm.dirtyIgnore=!0,n.model.get("customGroupId")?t.state(a):t.state(o)},n.doNotExit=function(){r.hideOverlay(n,"previousPageConfirmationOverlay","doNotExit"),n.previousPageConfirmationOverlay=!1,n.model.set("focusPlacement","backButton")},n.confirmExit=function(){t.application.dirtyForm.dirtyIgnore=!0,r.hideOverlay(n,"previousPageConfirmationOverlay","confirmExit"),n.previousPageConfirmationOverlay=!1,n.model.set("rearrangedCustomGroupAccounts",[]),n.model.get("customGroupId")?t.state(a):t.state(o)},n._getCustomGroupNavObject=function(){return n.model.get("customGroupId")?{navKey:"editCustomGroup"}:{navKey:"createCustomGroup"}},n.requestSelectedAccountGroups=function(){}}})),define("profileArea/alerts/alertsHistory/controllers/alertsHistory",["@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e){"use strict";return function(t){var i=this;i.onInit=function(){},i.setPageHeader=function(e){const n=t.dcu.dynamicContent.get(i.components.alertsHistoryComponent,"myAlertsHistoryHeader");t.profileContainer.setPageProperties({pageTitle:n,isMicroAppEnabled:e}),t.hybrid&&function(e){var i=t.hybridHelper.webNativeMessenger,n={isHybridBackButtonRequired:function(){return!0}};i.updateNativeNavigationBar({showBackArrow:!0,pageTitle:e}),i.setShouldNativeHandleButtonPressedCallBack((function(e){return"BACK"===e&&n.isHybridBackButtonRequired()}),n)}(n)},i.requestMyAlertsHistory=function(){return e.getFeatureTreatments(["cxo_profile_alerts_history_microapp_enable"],{cxo_profile_alerts_history_microapp_enable:!1}).then((function(e){var n=e.cxo_profile_alerts_history_microapp_enable;return i.setPageHeader(n),n?[[i.components.alertsHistoryComponent,"alertsHistoryMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/communicationsHub/alertNotifications/alertsHistory",{target:"#my-profile-page-content",containerClasses:"legacy-profile-styles"})}))}}})),define("profileArea/alerts/alertsHistory/components/alertsHistoryComponent",[],(function(){"use strict";return function(){}})),define("profileArea/alerts/profileAlertsHistory/lib/alertsNotificationsUtils",[],(function(){"use strict";return function(){var e,t={getTimestamp:function(e){var t=e.split(" "),i=parseInt(t[0].split("/")[0])-1,n=parseInt(t[0].split("/")[1]),r=parseInt(t[0].split("/")[2]),a="PM"===t[2]?parseInt(parseInt(t[1].split(":")[0])+12):parseInt(t[1].split(":")[0]),o=parseInt(t[1].split(":")[1]);return new Date(r,i,n,a,o)},sortByDateAscending:function(t,i){var n=t.sentDate,r=i.sentDate;return(n=e.getTimestamp(n))<(r=e.getTimestamp(r))?-1:n>r?1:0},sortByMessageAscending:function(t,i){return e.sortByStringAscending(t.message,i.message)},sortByDeliveryChannelAscending:function(t,i){var n=t.sentTo.toUpperCase(),r=i.sentTo.toUpperCase();return e.sortByStringAscending(n,r)},sortByStringAscending:function(e,t){return e<t?-1:e===t?0:1},sortByDateDescending:function(t,i){return-e.sortByDateAscending(t,i)},sortByMessageDescending:function(t,i){return-e.sortByMessageAscending(t,i)},sortByDeliveryChannelDescending:function(t,i){return-e.sortByDeliveryChannelAscending(t,i)},sortByStringDescending:function(t,i){return-e.sortByStringAscending(t,i)},dateToMMDDYYYY:function(e){return("0"+(e.getMonth()+1)).slice(-2)+"/"+("0"+e.getDate()).slice(-2)+"/"+e.getFullYear()},dateToYYYYMMDD:function(e){return e.getFullYear()+"/"+("0"+(e.getMonth()+1)).slice(-2)+"/"+("0"+e.getDate()).slice(-2)},reformatDate:function(e){var t=e.split("/");return t[2]+t[0]+t[1]}};return e=t,t}})),define("bluespec/my_alerts_history_header",[],(function(){return{name:"MY_ALERTS_HISTORY_HEADER",data:{accountId:{type:"Description",exportable:!0},myAlerts:{type:"List",items:{accounts:{type:"List",items:{accountMask:"Description",accountDetailType:"Description",accountDisplayName:"Description",accountId:{type:"Description",exportable:!0},accountCategoryId:"Description"}},onlineSecurity:"Description"}},accountDisplayName:{type:"Description"},myAlertsHistoryTimeframeOptions:{type:"List",itemType:"Description"},myAlertsHistoryTimeframe:{type:"Description"},accountCategories:{type:"List",items:{accountCategoryId:"Numbers",accountCategoryName:"Description"}},accountCategoryId:{type:"Description"}},actions:{requestMyAlertsHistory:!0,requestMyAlertsHistoryBasedOnSelectedTimeframe:!0,requestMyAccountsDisplay:!0,requestConfirmationMessageDetails:!0,exitConfirmationMessageDetails:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0,print:!0},settings:{requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,myAlertsHistoryHeader:!0,myAlertsHistoryHeaderAda:!0,myAlertsLinkedAccountLabel:!0,myAlertsHistoryTimeframeLabel:!0,myAlertsHistoryTimeframeOptionsLabel:!0,accountCategoryName:!0,requestMyAlertsHistoryAda:!0,onlineSecurityLabel:!0,myAlertsHistoryErrorHeader:!0,myAlertsHistoryErrorAdvisory:!0,importantAda:!0,punctuationMarkOpenParenthesesLabel:!0,punctuationMarkCloseParenthesesLabel:!0,currentSelectionAda:!0,endOfSelectionAda:!0,selectionUpdatesContentBelowAda:!0,printAda:!0,securityAlertsLabel:!0,creditJourneyLabel:!0,allAlertsLabel:!0,myAlertsHeader:!0,myAlertsDisclousureStatementLabel:!0,accountsLabel:!0}}})),define("profileArea/alerts/profileAlertsHistory/components/alertsHistoryHeader",["require","profileArea/sharedLib/profileMixin","profileArea/sharedLib/navigation/navigation","blue/util"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileMixin"),i=function(){};return{init:function(){t.call(this),this.navigation=e("profileArea/sharedLib/navigation/navigation"),this.clone=e("blue/util").object.deepClone},requestMyAlertsHistory:function(e){var t=e.domEvent.target.selectedIndex,i=this.model.get("myAlerts.accounts."+t+".name");this.model.set("currentlySelectedAccount",i),this.context.commonComponentsUtil.showSpinner({target:this.context.renderTarget.target,overlayType:"FULLSCREEN",append:!0}),this.context.controller.emit("showAlertsHistoryTable",{accountIndex:t}),this.context.setCurrentlySelectedTimeframe(0);var n=this.model.get("myAlertsHistoryTimeframeOptions"),r=this.clone(n).map((function(e,t){return e.selected&&delete e.selected,0===t&&(e.selected=!0),e}));this.model.set("myAlertsHistoryTimeframeOptions",r)},requestMyAlertsHistoryBasedOnSelectedTimeframe:function(e){var t=e.domEvent.target.selectedIndex,i=this.model.get("myAlertsHistoryTimeframeOptions."+t+".name");this.model.set("currentlySelectedTimeframe",i),this.context.controller.emit("filterAndSortAlertsHistoryTable",{selectedIndex:t})},requestMyAccountsDisplay:function(e){var t=e.domEvent.target,i=t.nodeName,n=t.attributes["data-attr"].value;if("A"===i){var r=n.split(".")[1],a=this.navigation.getUrl.get(r);this.context.state(a.url)}},toggleConfirmationMessageDetail:function(e){this.context.profileUtil.confirmationMessageDetails(this,e)},toggleErrorMessageDetail:function(e){this.context.profileUtil.errorMessageDetails(this,e)},requestConfirmationMessageDetails:i,exitConfirmationMessageDetails:i,requestErrorMessageDetails:i,exitErrorMessageDetails:i,print:i}})),define("bluespec/my_alerts_history",[],(function(){return{name:"MY_ALERTS_HISTORY",data:{alerts:{type:"List",items:{accountId:{type:"Number",exportable:!0},accountType:{type:"Description",exportable:!0},accountDetailType:"Description",accountNumber:"Number",accountDisplayName:"Description",cardArtGuid:"Description",alertMessage:"Description",alertDeliveryProfile:"Description",alertDeliveryDate:"Date",alertDeliveryStatus:"Description",alertDeliveryMethod:"Description",alertSubject:"Description",hasBounceBackError:"Description"}},sortByCriteria:{type:"Description"},sortByOrder:{type:"Description"},alertsMoreRecordsIndicator:{type:"OnOff"},alertsPreviousRecordsIndicator:{type:"OnOff"},cardGuidCache:{type:"Description"}},actions:{sortMyAlertHistory:!0,requestAlertsDelivery:!0,requestAdditionalAlertHistory:!0,retryRequestAdditionalAlertHistory:!0,requestDeepLink:!0},settings:{alertDeliveryErrorMessage:!0,alertDeliveryErrorAdvisory:!0,alertMessageLabel:!0,alertDeliveryProfileLabel:!0,alertDeliveryDateLabel:!0,alertDeliveryStatusLabel:!0,noAlertHistoryForSelectedTimeframeMessage:!0,noAlertHistoryForSelectedAccountMessage:!0,alertDeliveryDateTimezoneLabel:!0,sortByTextAscendingAda:!0,sortByTextDescendingAda:!0,sortByDateAscendingAda:!0,sortByDateDescendingAda:!0,alertsLabel:!0,retryRequestAdditionalAlertHistoryLabel:!0,retryRequestAdditionalAlertHistoryErrorMessage:!0,alertsAda:!0,alertDeliveryMethod:!0,alertDeliveryMethodAda:!0,requestAdditionalAlertHistoryAda:!0,alertHistoryNotFoundMessage:!0,alertSubjectLabel:!0,requestAdditionalAlertHistoryLabel:!0,endOfHistoryListLabel:!0,requestDeepLinkLabel:!0,cardArtGuidAda:!0}}})),define("profileArea/alerts/profileAlertsHistory/components/alertsHistory",["require","profileArea/sharedLib/dashboardSettings","profileArea/alerts/profileAlertsHistory/lib/alertsNotificationsUtils"],(function(e){"use strict";var t=e("profileArea/sharedLib/dashboardSettings"),i=new(e("profileArea/alerts/profileAlertsHistory/lib/alertsNotificationsUtils"));return{sortMyAlertHistory:function(e){var i=e.domEvent.target.textContent.split(" ").splice(0,2).join(" ")||e.domEvent.target.parentElement.textContent.split(" ").splice(0,2).join(" "),n=this.model.get("alerts"),r=this.model.get("sortByOrder"),a=t.alertsNotifications.ASCENDING_ORDER,o=t.alertsNotifications.DESCENDING_ORDER;r===a?(i===e.context.alertDeliveryDateLabel?this._sortByDateDescending(n):i===e.context.alertDeliveryProfileLabel?this._sortByDeliveryChannelDescending(n):i===e.context.alertMessageLabel&&this._sortByDescendingMessages(n),this.alerts=n,this.model.set("sortByOrder",o)):(i===e.context.alertDeliveryDateLabel?this._sortByDateAscending(n):i===e.context.alertDeliveryProfileLabel?this._sortByDeliveryChannelAscending(n):i===e.context.alertMessageLabel&&this._sortByAscendingMessages(n),this.alerts=n,this.model.set("sortByOrder",a)),this.model.set("sortByCriteria",i),this.focusOnTableCaption(),this.context.updateAlertsADA()},focusOnTableCaption:function(){this._messageView("focusOnTableCaption")},refocusOnAlertMessage:function(){this._messageView("refocusOnAlertMessage")},refocusOnSentTo:function(){this._messageView("refocusOnSentTo")},refocusOnSentOn:function(){this._messageView("refocusOnSentOn")},focusOnAlertsHistoryHeader:function(){this._messageView("focusOnAlertsHistoryHeader")},_messageView:function(e){this.output.emit("state",{value:e})},_sortByDateAscending:function(e){e.sort(i.sortByDateAscending)},_sortByDateDescending:function(e){e.sort(i.sortByDateDescending)},_sortByAscendingMessages:function(e){e.sort(i.sortByMessageAscending)},_sortByDescendingMessages:function(e){e.sort(i.sortByMessageDescending)},_sortByDeliveryChannelDescending:function(e){e.sort(i.sortByDeliveryChannelDescending)},_sortByDeliveryChannelAscending:function(e){e.sort(i.sortByDeliveryChannelAscending)}}})),define("profileArea/alerts/profileAlertsHistory/controllers/alertsHistory",["require","common/lib/emulationUtils","profileArea/alerts/profileAlertsHistory/lib/alertsNotificationsUtils","blue/observable","bluespec/my_alerts_history_header","profileArea/alerts/profileAlertsHistory/components/alertsHistoryHeader","bluespec/my_alerts_history","profileArea/alerts/profileAlertsHistory/components/alertsHistory","common/lib/flyout/flyoutUtility","profileArea/sharedLib/featureProvider","common/lib/utility/commonComponentsUtil"],(function(e){"use strict";var t=e("common/lib/emulationUtils"),i=new(e("profileArea/alerts/profileAlertsHistory/lib/alertsNotificationsUtils"));return function(n){var r,a=e("blue/observable"),o={MY_ALERTS_HISTORY_HEADER:{spec:e("bluespec/my_alerts_history_header"),methods:e("profileArea/alerts/profileAlertsHistory/components/alertsHistoryHeader"),view:"alertsHistoryHeader"},MY_ALERTS_HISTORY:{spec:e("bluespec/my_alerts_history"),methods:e("profileArea/alerts/profileAlertsHistory/components/alertsHistory"),view:"alertsHistory"}},s=e("common/lib/flyout/flyoutUtility"),c=this,l=e("profileArea/sharedLib/featureProvider")(n);c.init=function(){r=n.dcu.dynamicContent,c.commonComponentsUtil=e("common/lib/utility/commonComponentsUtil")(c),c.model.get("alertsHistoryHeaderComponent")||c.dataModel(),n.on({myProfileStateChange:c.setState,showAlertsHistoryTable:c.showAlertsHistoryTable,filterAndSortAlertsHistoryTable:c.filterAndSortAlertsHistoryTable}),n.alertsNotificationsUtils=i,c.alertsNotificationsUtils=i,n.updateAlertsADA=c.updateAlertsADA,n.setCurrentlySelectedTimeframe=c.setCurrentlySelectedTimeframe,n.commonComponentsUtil=c.commonComponentsUtil,c.stateName="requestMyAlertsHistory"},c.setState=function(e){c.stateName===e.stateName?c._pageActive=!0:c._pageActive=!1},c.index=function(){return n.profileContainer.setPageProperties({pageTitle:n.dcu.dynamicContent.get(c.components.alertsHistoryHeaderComponent,"myAlertsHistoryHeader"),containerClasses:"legacy-profile-styles"}),!!s.isFlyoutNavigation(n)||(c._pageActive=!0,c.initAlertsHistory())},c.dataModel=function(){c.model=a.Model({alertsList:{alerts:[],sortByCriteria:"",sortByOrder:"",allHiddenAccounts:!1},originalAlertsHistoryData:{},alertsHistoryHeader:{allHiddenAccounts:!1,alertHistoryErrorHeader:"",alertHistoryErrorAdvisory:"",alertHistoryHiddenAccountsError:"",myAlerts:{},currentlySelectedAccount:"",currentlySelectedTimeframe:"",name:0,myAlertsHistoryTimeframe:0,myAlertsHistoryTimeframeOptions:[],requestProfileSettingsMenuAda:n.globalContent.requestProfileSettingsMenuAda}})},c.setStyledSelects=function(){var e=c.components.alertsHistoryHeaderComponent,t=r.get(e,"currentSelectionAda"),i=r.get(e,"endOfSelectionAda"),n=r.get(e,"selectionUpdatesContentBelowAda"),a=r.get(e,"myAlertsLinkedAccountLabel"),o=r.get(e,"myAlertsHistoryTimeframeLabel");c.model.set("alertsHistoryHeader.styledselects",[{id:"accountList",ariaConfig:{selected:t,bottomOfMenu:i,buttonLabel:a,listLabel:a+n},options:[]},{id:"timeList",ariaConfig:{selected:t,bottomOfMenu:i,buttonLabel:o,listLabel:o+n},options:[]}])},c.setCurrentlySelectedAccount=function(e){var t=c.model.get("alertsHistoryHeader.myAlerts.accounts")[e].name;c.model.set("alertsHistoryHeader.currentlySelectedAccount",t)},c.setCurrentlySelectedTimeframe=function(e){var t=c.model.get("alertsHistoryHeader.myAlertsHistoryTimeframeOptions")[e].name;c.model.set("alertsHistoryHeader.currentlySelectedTimeframe",t)},c.getCreditJourneyStatus=function(){var e=t.isEmulationMode()||!1?"dashboard.tiles.list.svc":"customers.enroll.status.svc";return n.services.alertsNotificationsHistory[e]().catch((function(){return Promise.resolve()}))},c.initAlertsHistory=function(){c.commonComponentsUtil.showSpinner({target:n.renderTarget.target,overlayType:"INSECTION",append:!1}),c.getCreditJourneyStatus().then((function(){n.services.alertsNotificationsHistory["alertsNotifications.accounts.list.svc"]().then((function(e){c.insertAlertsHistoryComponents(e),c.setCurrentlySelectedTimeframe(0),c.setCurrentlySelectedAccount(0),c.setDefaultSortCriteria(),c.updateAlertsADA(),c.initFlow=!0,c.showAlertsHistoryTable({accountIndex:"accountIndex"in e.accounts[0]?0:1}),c.components.alertsHistoryComponent.focusOnAlertsHistoryHeader()}))})).catch((function(e){n.logger.error("Error occurred in Alerts History at: "+e),c.handleNetworkServiceError(),c.commonComponentsUtil.hideSpinner({target:n.renderTarget.target})}))},c.setDefaultSortCriteria=function(){var e=r.get(c.components.alertsHistoryComponent,"alertDeliveryDateLabel");c.model.set("alertsList.sortByCriteria",e),c.model.set("alertsList.sortByOrder",n.dashboardSettings.alertsNotifications.DESCENDING_ORDER)},c.handleNetworkServiceError=function(){c.insertAlertsHistoryComponents({},{type:"error",isListServiceError:!0})},c.setErrorMessage=function(e){if(c.model.set("alertsHistoryHeader.messageInfo",e),c.model.set("alertsList.messageInfo",e),e.isListServiceError){var t="SYSTEM_FAILURE",i=r.get(c.components.alertsHistoryHeaderComponent,"myAlertsHistoryErrorHeader",t),n=r.get(c.components.alertsHistoryHeaderComponent,"myAlertsHistoryErrorAdvisory",t);c.model.set("alertsHistoryHeader.alertHistoryErrorHeader",i),c.model.set("alertsHistoryHeader.alertHistoryErrorAdvisory",n)}},c.clearErrorMessage=function(){c.model.set("alertsHistoryHeader.messageInfo",!1),c.model.set("alertsList.messageInfo",!1)},c.setAccounts=function(e){c.model.set("alertsHistoryHeader.myAlerts.accounts",e.accounts),c.model.set("alertsHistoryHeader.myAlertsHistoryTimeframeOptions",c.getTimeDropdownOptions())},c.insertAlertsHistoryComponents=function(e,t){var i=[];c.registry.unregisterComponent("alertsHistoryHeaderComponent"),c.registry.unregisterComponent("alertsHistoryComponent"),c.register.components(c,[{name:"alertsHistoryHeaderComponent",model:c.model.lens("alertsHistoryHeader"),spec:o.MY_ALERTS_HISTORY_HEADER.spec,methods:o.MY_ALERTS_HISTORY_HEADER.methods}]),c.model.set("alertsList.myAlertsHistoryHeader",r.get(c.components.alertsHistoryHeaderComponent,"myAlertsHistoryHeader")),c.setStyledSelects(),i.push([c.components.alertsHistoryHeaderComponent,o.MY_ALERTS_HISTORY_HEADER.view,{target:n.renderTarget.target}]),c.register.components(c,[{name:"alertsHistoryComponent",model:c.model.lens("alertsList"),spec:o.MY_ALERTS_HISTORY.spec,methods:o.MY_ALERTS_HISTORY.methods}]),i.push([c.components.alertsHistoryComponent,o.MY_ALERTS_HISTORY.view,{target:n.renderTarget.target,append:!0}]),t?c.setErrorMessage(t):c.clearErrorMessage(),e.accounts&&c.setAccounts(e);var a=c.model.get("alertsHistoryHeader.myAlerts.accounts");if((void 0===a||1===a.length)&&(c.model.set("alertsList.allHiddenAccounts",!0),c.model.set("alertsHistoryHeader.allHiddenAccounts",!0),"undefined"==typeof alertsList&&!t)){var s="HIDDEN_ACCOUNTS",l=r.get(c.components.alertsHistoryHeaderComponent,"myAlertsHistoryErrorHeader",s),d=r.get(c.components.alertsHistoryHeaderComponent,"myAlertsHistoryErrorAdvisory",s);c.model.set("alertsHistoryHeader.alertHistoryErrorHeader",l),c.model.set("alertsHistoryHeader.alertHistoryErrorAdvisory",d)}c._pageActive&&c.executeCAV(i).then((function(){n.area.broadcast("renderMyProfileMenuMobile")}))},c.getTimeDropdownOptions=function(){for(var e=[],t=["THIRTY_DAYS","ONE_WEEK","TWO_WEEKS","THREE_WEEKS"],i=0;i<4;i++)e.push({name:r.get(c.components.alertsHistoryHeaderComponent,"myAlertsHistoryTimeframeOptionsLabel",t[i]),value:i+1,days:t[i]});return e},c.showAlertsHistoryTable=function(e){var t=c.model.get("alertsHistoryHeader.myAlerts.accounts."+e.accountIndex),i=e.accountIndex,r=t.filter,a={accountId:-1===t.id?0:t.id,filter:r};c.model.set("alertsHistoryHeader.name",i),c.model.set("alertsHistoryHeader.myAlertsHistoryTimeframe",0);var o=l.alertsEnableNewApiFlag.getFeatureFlagValueSync()?"alertsNotifications.history.newApi.list.svc":"alertsNotifications.history.list.svc";n.services.alertsNotificationsHistory[o](a).then((function(e){c.model.set("originalAlertsHistoryData",e),c.model.set("alertsList.alerts",e.alerts),c.setDefaultSortCriteria(),c.updateAlertsADA(),c.commonComponentsUtil.hideSpinner({target:n.renderTarget.target}),c.initFlow||c.components.alertsHistoryComponent.output.emit("state",{value:"setFocusOnDropDown"}),c.initFlow=!1}),(function(){c.handleNetworkServiceError(),c.commonComponentsUtil.hideSpinner({target:n.renderTarget.target})}))},c.filterAlertsHistoryTable=function(e){var t=e.selectedIndex;c.model.set("alertsHistoryHeader.myAlertsHistoryTimeframe",t);var i=c.model.get("originalAlertsHistoryData").alerts||[],n=(new Date).getTime()-864e5*[30,7,14,21][t],r=[];i.forEach((function(e){var t=e.sentDate.split(" ")[0];new Date(t).getTime()>n&&r.push(e)})),c.model.set("alertsList.alerts",r)},c.sortAlertsHistoryTable=function(){var e,t=c.model.get("alertsList.sortByCriteria"),i=c.model.get("alertsList.sortByOrder"),a=c.model.get("alertsList.alerts"),o=r.get(c.components.alertsHistoryComponent,"alertMessageLabel"),s=r.get(c.components.alertsHistoryComponent,"alertDeliveryProfileLabel"),l=r.get(c.components.alertsHistoryComponent,"alertDeliveryDateLabel"),d=n.dashboardSettings.alertsNotifications.ASCENDING_ORDER,u=n.dashboardSettings.alertsNotifications.DESCENDING_ORDER,p={};p[o]={},p[o][d]=c.alertsNotificationsUtils.sortByMessageAscending,p[o][u]=c.alertsNotificationsUtils.sortByMessageDescending,p[s]={},p[s][d]=c.alertsNotificationsUtils.sortByDeliveryChannelAscending,p[s][u]=c.alertsNotificationsUtils.sortByDeliveryChannelDescending,p[l]={},p[l][d]=c.alertsNotificationsUtils.sortByDateAscending,p[l][u]=c.alertsNotificationsUtils.sortByDateDescending,e=p[t][i],a.sort(e)},c.filterAndSortAlertsHistoryTable=function(e){c.filterAlertsHistoryTable(e),c.sortAlertsHistoryTable(),c.updateAlertsADA()},c.updateAlertsADA=function(){var e={alertDeliveryDateLabel:r.get(c.components.alertsHistoryComponent,"alertDeliveryDateLabel"),sortByTextAscending:r.get(c.components.alertsHistoryComponent,"sortByTextAscendingAda"),sortByTextDescending:r.get(c.components.alertsHistoryComponent,"sortByTextDescendingAda"),sortByDateAscending:r.get(c.components.alertsHistoryComponent,"sortByDateAscendingAda"),sortByDateDescending:r.get(c.components.alertsHistoryComponent,"sortByDateDescendingAda"),alerts:{accountDisplayName:c.model.get("alertsHistoryHeader.currentlySelectedAccount"),alertDeliveryDate:c.model.get("alertsHistoryHeader.currentlySelectedTimeframe")},sortByCriteria:c.model.get("alertsList.sortByCriteria"),sortByOrder:c.model.get("alertsList.sortByOrder"),ascendingOrder:n.dashboardSettings.alertsNotifications.ASCENDING_ORDER,ascending:n.dashboardSettings.alertsNotifications.ASCENDING,decending:n.dashboardSettings.alertsNotifications.DESCENDING},t={alerts:e.alerts,sortByCriteria:e.sortByCriteria},i=e.sortByCriteria===e.alertDeliveryDateLabel,a=e.sortByOrder===e.ascendingOrder;t.sortByOrder=i?a?e.sortByDateAscending:e.sortByDateDescending:a?e.sortByTextDescending:e.sortByTextAscending;var o=r.get(c.components.alertsHistoryComponent,"alertsAda",t);c.model.set("alertsList.alertsAda",o)},c.requestMyAlertsHistory=c.index}})),define("profileArea/alerts/chooseAlerts/controllers/chooseAlerts",["@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e){"use strict";return function(t){var i=this;i.onInit=function(){},i._initHybrid=function(){var e=function(){return!0};t.hybrid&&(t.hybridMixin.call(i),t.hybridHelper.webNativeMessenger.updateNativeNavigationBar({showBackArrow:!0}),t.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(t){return"BACK"===t&&e()})))},i.confirmUnsubscribeFromAllAlerts=function(){return e.getFeatureTreatments(["cxo_profile_choose_alerts_microapp_enable"],{cxo_profile_choose_alerts_microapp_enable:!1}).then((function(e){return e.cxo_profile_choose_alerts_microapp_enable?[[i.components.chooseAlertsComponent,"chooseAlertsMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/chooseAlerts/confirmUnsubscribeFromAllAlerts")}))},i.confirmUpdateMyAlertsSubscription=function(n){var r=n.alertsCategory;return e.getFeatureTreatments(["cxo_profile_choose_alerts_microapp_enable"],{cxo_profile_choose_alerts_microapp_enable:!1}).then((function(e){return e.cxo_profile_choose_alerts_microapp_enable?[[i.components.chooseAlertsComponent,"chooseAlertsMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/chooseAlerts/confirmUpdateMyAlertsSubscription",{target:"#my-profile-page-content",alertsCategory:r})}))},i.setPageHeader=function(e){t.profileContainer.setPageProperties({pageTitle:t.dcu.dynamicContent.get(i.components.chooseAlertsComponent,"manageMyAlertsSubscriptionHeader"),isMicroAppEnabled:e})},i.manageMyAlerts=function(n){return e.getFeatureTreatments(["cxo_profile_choose_alerts_microapp_enable"],{cxo_profile_choose_alerts_microapp_enable:!1}).then((function(e){var r=e.cxo_profile_choose_alerts_microapp_enable;return i._initHybrid(),i.setPageHeader(r),r?[[i.components.chooseAlertsComponent,"chooseAlertsMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/chooseAlerts/manageMyAlerts",{target:"#my-profile-page-content",params:n.params})}))}}})),define("profileArea/alerts/chooseAlerts/components/chooseAlertsComponent",[],(function(){"use strict";return function(){}})),define("profileArea/alerts/myAlertsDelivery/controllers/myAlertsDelivery",["@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e){"use strict";return function(t){var i=this;i.onInit=function(){},i.setPageHeader=function(e){t.profileContainer.setPageProperties({pageTitle:t.dcu.dynamicContent.get(i.components.myAlertsDeliveryHeaderComponent,"myAlertsDeliveryLabel"),isMicroAppEnabled:e})},i.updateMyAlertsDeliverySettings=function(n){return e.getFeatureTreatments(["cxo_profile_alerts_delivery_microapp_enable"],{cxo_profile_alerts_delivery_microapp_enable:!1}).then((function(e){var r=e.cxo_profile_alerts_delivery_microapp_enable;return i.setPageHeader(r),r?[[i.components.myAlertsDeliveryHeaderComponent,"myAlertsDeliveryMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/alertsDelivery/updateMyAlertsDeliverySettings",{target:"#my-profile-page-content",params:n.params,action:n.action,fromChooseAlerts:n.fromChooseAlerts,id:n.id})}))},i.updateAlertsEmailAddress=function(n){return e.getFeatureTreatments(["cxo_profile_alerts_delivery_microapp_enable"],{cxo_profile_alerts_delivery_microapp_enable:!1}).then((function(e){var r=e.cxo_profile_alerts_delivery_microapp_enable;return i.setPageHeader(r),r?[[i.components.myAlertsDeliveryHeaderComponent,"myAlertsDeliveryMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/alertsDelivery/updateAlertsEmailAddress",{target:"#my-profile-page-content",params:n.params})}))},i.updateAlertsAppleNotifications=function(n){return e.getFeatureTreatments(["cxo_profile_alerts_delivery_microapp_enable"],{cxo_profile_alerts_delivery_microapp_enable:!1}).then((function(e){var r=e.cxo_profile_alerts_delivery_microapp_enable;return i.setPageHeader(r),r?[[i.components.myAlertsDeliveryHeaderComponent,"myAlertsDeliveryMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/alertsDelivery/updateAlertsAppleNotifications",{target:"#my-profile-page-content",params:n.params})}))},i.updateAlertsAndroidNotifications=function(n){return e.getFeatureTreatments(["cxo_profile_alerts_delivery_microapp_enable"],{cxo_profile_alerts_delivery_microapp_enable:!1}).then((function(e){var r=e.cxo_profile_alerts_delivery_microapp_enable;return i.setPageHeader(r),r?[[i.components.myAlertsDeliveryHeaderComponent,"myAlertsDeliveryMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/alertsDelivery/updateAlertsAndroidNotifications",{target:"#my-profile-page-content",params:n.params})}))},i.updateAlertsMobileNumber=function(n){return e.getFeatureTreatments(["cxo_profile_alerts_delivery_microapp_enable"],{cxo_profile_alerts_delivery_microapp_enable:!1}).then((function(e){var r=e.cxo_profile_alerts_delivery_microapp_enable;return i.setPageHeader(r),r?[[i.components.myAlertsDeliveryHeaderComponent,"myAlertsDeliveryMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/alertsDelivery/updateAlertsMobileNumber",{target:"#my-profile-page-content",params:n.params})}))},i.confirmDeleteMyAlertsDeliveryInfo=function(n){return e.getFeatureTreatments(["cxo_profile_alerts_delivery_microapp_enable"],{cxo_profile_alerts_delivery_microapp_enable:!1}).then((function(e){var r=e.cxo_profile_alerts_delivery_microapp_enable;return i.setPageHeader(r),r?[[i.components.myAlertsDeliveryHeaderComponent,"myAlertsDeliveryMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/alertsDelivery/confirmDeleteMyAlertsDeliveryInfo",{target:"#my-profile-page-content",params:n.params})}))},i.addEmailaddressForAlerts=function(n){return e.getFeatureTreatments(["cxo_profile_alerts_delivery_microapp_enable"],{cxo_profile_alerts_delivery_microapp_enable:!1}).then((function(e){var r=e.cxo_profile_alerts_delivery_microapp_enable;return i.setPageHeader(r),r?[[i.components.myAlertsDeliveryHeaderComponent,"myAlertsDeliveryMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/alertsDelivery/addEmailaddressForAlerts",{target:"#my-profile-page-content",params:n.params})}))},i.confirmAddEmailaddressForAlerts=function(n){return e.getFeatureTreatments(["cxo_profile_alerts_delivery_microapp_enable"],{cxo_profile_alerts_delivery_microapp_enable:!1}).then((function(e){var r=e.cxo_profile_alerts_delivery_microapp_enable;return i.setPageHeader(r),r?[[i.components.myAlertsDeliveryHeaderComponent,"myAlertsDeliveryMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/alertsDelivery/confirmAddEmailaddressForAlerts",{target:"#my-profile-page-content",params:n.params})}))},i.confirmUpdateAlertsEmailAddress=function(n){return e.getFeatureTreatments(["cxo_profile_alerts_delivery_microapp_enable"],{cxo_profile_alerts_delivery_microapp_enable:!1}).then((function(e){var r=e.cxo_profile_alerts_delivery_microapp_enable;return i.setPageHeader(r),r?[[i.components.myAlertsDeliveryHeaderComponent,"myAlertsDeliveryMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/alertsDelivery/confirmUpdateAlertsEmailAddress",{target:"#my-profile-page-content",params:n.params,compType:n.compType,statusCode:n.statusCode})}))},i.confirmUpdateAlertsMobileNumber=function(n){return e.getFeatureTreatments(["cxo_profile_alerts_delivery_microapp_enable"],{cxo_profile_alerts_delivery_microapp_enable:!1}).then((function(e){var r=e.cxo_profile_alerts_delivery_microapp_enable;return i.setPageHeader(r),r?[[i.components.myAlertsDeliveryHeaderComponent,"myAlertsDeliveryMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/alertsDelivery/confirmUpdateAlertsMobileNumber",{target:"#my-profile-page-content",params:n.params,compType:n.compType,statusCode:n.statusCode})}))},i.confirmUpdateAlertsAppleNotifications=function(n){return e.getFeatureTreatments(["cxo_profile_alerts_delivery_microapp_enable"],{cxo_profile_alerts_delivery_microapp_enable:!1}).then((function(e){var r=e.cxo_profile_alerts_delivery_microapp_enable;return i.setPageHeader(r),r?[[i.components.myAlertsDeliveryHeaderComponent,"myAlertsDeliveryMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/alertsDelivery/confirmUpdateAlertsAppleNotifications",{target:"#my-profile-page-content",params:n.params,compType:n.compType,statusCode:n.statusCode})}))},i.confirmUpdateAlertsAndroidNotifications=function(n){return e.getFeatureTreatments(["cxo_profile_alerts_delivery_microapp_enable"],{cxo_profile_alerts_delivery_microapp_enable:!1}).then((function(e){var r=e.cxo_profile_alerts_delivery_microapp_enable;return i.setPageHeader(r),r?[[i.components.myAlertsDeliveryHeaderComponent,"myAlertsDeliveryMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/alertsDelivery/confirmUpdateAlertsAndroidNotifications",{target:"#my-profile-page-content",params:n.params,compType:n.compType,statusCode:n.statusCode})}))}}})),define("profileArea/alerts/myAlertsDelivery/components/myAlertsDeliveryHeader",[],(function(){"use strict";return function(){}})),define("profileArea/alerts/textAlerts/controllers/textAlerts",["@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e){"use strict";return function(t){var i=this;function n(e){const i=t.hybridHelper.webNativeMessenger;i.updateNativeNavigationBar({showBackArrow:!0,pageTitle:e}),i.setShouldNativeHandleButtonPressedCallBack((function(e){return"BACK"!==e||(function(){const e=t.routeHistory;e.lastRoute&&e.goBack()}(),!1)}))}i.onInit=function(){},i.setPageHeader=function(e,i){t.profileContainer.setPageProperties({pageTitle:i,isMicroAppEnabled:e}),t.hybrid&&n(i)},i.updatePhoneBankingPreferences=function(n){const r=t.dcu.dynamicContent.get(i.components.textAlertsComponent,"phoneBankingHeader.INITIAL");return e.getFeatureTreatments(["cxo_profile_text_alerts_microapp_enable"],{cxo_profile_text_alerts_microapp_enable:!1}).then((function(e){var a=e.cxo_profile_text_alerts_microapp_enable;return i.setPageHeader(a,r),a?[[i.components.textAlertsComponent,"textAlertsMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/textBanking/updatePhoneBankingPreferences",{target:"#my-profile-page-content",params:n.params})}))},i.activatePhoneBanking=function(n){const r=t.dcu.dynamicContent.get(i.components.textAlertsComponent,"phoneBankingHeader.ENTER");return e.getFeatureTreatments(["cxo_profile_text_alerts_microapp_enable"],{cxo_profile_text_alerts_microapp_enable:!1}).then((function(e){var a=e.cxo_profile_text_alerts_microapp_enable;return i.setPageHeader(a,r),a?[[i.components.textAlertsComponent,"textAlertsMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/textBanking/activatePhoneBanking",{target:"#my-profile-page-content",params:n.params,fromAlertsDelivery:n.fromAlertsDelivery,AI:n.AI})}))},i.requestActivationCode=function(n){const r=t.dcu.dynamicContent.get(i.components.textAlertsComponent,"phoneBankingHeader.ACTIVATE");return e.getFeatureTreatments(["cxo_profile_text_alerts_microapp_enable"],{cxo_profile_text_alerts_microapp_enable:!1}).then((function(e){var a=e.cxo_profile_text_alerts_microapp_enable;return i.setPageHeader(a,r),a?[[i.components.textAlertsComponent,"textAlertsMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/textBanking/requestActivationCode",{target:"#my-profile-page-content",params:n.params})}))},i.managePhoneBanking=function(n){const r=t.dcu.dynamicContent.get(i.components.textAlertsComponent,"phoneBankingHeader.UPDATE");return e.getFeatureTreatments(["cxo_profile_text_alerts_microapp_enable"],{cxo_profile_text_alerts_microapp_enable:!1}).then((function(e){var a=e.cxo_profile_text_alerts_microapp_enable;return i.setPageHeader(a,r),a?[[i.components.textAlertsComponent,"textAlertsMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/textBanking/managePhoneBanking",{target:"#my-profile-page-content",params:n.params})}))},i.confirmPhoneBanking=function(n){const r=t.dcu.dynamicContent.get(i.components.textAlertsComponent,"phoneBankingHeader.INITIAL");return e.getFeatureTreatments(["cxo_profile_text_alerts_microapp_enable"],{cxo_profile_text_alerts_microapp_enable:!1}).then((function(e){var a=e.cxo_profile_text_alerts_microapp_enable;return i.setPageHeader(a,r),a?[[i.components.textAlertsComponent,"textAlertsMicroapp",{target:t.renderTarget.target}]]:t.privateState("dashboard/alertSubscriptions/textBanking/confirmPhoneBanking",{target:"#my-profile-page-content",params:n.params})}))}}})),define("profileArea/alerts/textAlerts/components/textAlertsComponent",[],(function(){"use strict";return function(){}})),define("profileArea/alerts/lib/settings",[],(function(){"use strict";return{alertsDeliveryProfiles:{FORMAT_HTML:"HTML",FORMAT_TEXT:"TEXT",DEVICE_TYPE_TEXT:"SMS",SERVICE_FAILURE:"SERVICE_FAILURE",SUCCESS:"SUCCESS",ACCOUNTS_FILTER:"ACCOUNTS_ALERTS",EMAIL_DELIVERY_TYPE:"EMAIL",EMAIL_DELIVERY_LIMIT:5,INDICATOR_PRIMARY:"CIS_DEVICE",INDICATOR_SECONDARY:"CUSTOMER_OWNED_DEVICE",ADDED_MESSAGE_TYPE:"added",UPDATED_MESSAGE_TYPE:"updated",REMOVED_MESSAGE_TYPE:"removed",NICKNAME_LENGTH_LIMIT:8,TIMEZONE_ET:"EASTERN",PAUSED:"PAUSED",SUSPENDED:"SUSPENDED",ELLIPSIS:"",TIME_DURATIONS:["ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN","ELEVEN","TWELVE","THIRTEEN","FOURTEEN","FIFTEEN","SIXTEEN","SEVENTEEN","EIGHTEEN","NINETEEN","TWENTY","TWENTY_ONE","TWENTY_TWO","TWENTY_THREE","TWENTY_FOUR"],TIMEZONES:["EASTERN","CENTRAL","MOUNTAIN","PACIFIC"]}}})),define("bluespec/manage_email_alerts_delivery",[],(function(){return{name:"MANAGE_EMAIL_ALERTS_DELIVERY",data:{currentNickname:{type:"Description"},currentEmailAddress:{type:"Email"},newEmailAddress:{type:"Email"},confirmedEmailAddress:{type:"Email"},alertsDeliveryNickname:{type:"AlertsProfileNickname"},emailFormatTypeOption:{type:"List",itemType:"Description"},emailFormatType:{type:"Description"},updateAlertsEmailAddressSelectedState:{type:"Description"},primaryEmailAddressDesignation:{type:"OnOff"}},actions:{addEmailAlertsDeliveryInfo:!0,doNotAddEmailAlertsDeliveryInfo:!0,updateEmailAlertsDeliveryInfo:!0,doNotUpdateEmailAlertsDeliveryInfo:!0,updateAlertsEmailAddress:!0,updatePrimaryEmailAddress:!0,skipBack:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0},states:{updateAlertsEmailAddressSelected:!0,updatePrimaryEmailAddressConfirmationOverlay:!0,exitConfirmationOverlay:!0},settings:{manageEmailAlertsDeliveryErrorHeader:!0,manageEmailAlertsDeliveryErrorAdvisory:!0,requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,addEmailAlertsDeliveryLabel:!0,addEmailAlertsDeliveryHeaderAda:!0,updateEmailAlertsDeliveryLabel:!0,updateEmailAlertsDeliveryAda:!0,currentEmailAddressLabel:!0,newEmailAddressLabel:!0,confirmedEmailAddressLabel:!0,alertsDeliveryNicknameLabel:!0,alertsDeliveryNicknameAdvisory:!0,emailFormatTypeOptionLabel:!0,emailFormatTypeLabel:!0,primaryEmailAddressDesignationLabel:!0,addEmailAlertsDeliveryInfoLabel:!0,doNotAddEmailAlertsDeliveryInfoLabel:!0,updateEmailAlertsDeliveryInfoLabel:!0,doNotUpdateEmailAlertsDeliveryInfoLabel:!0,updateAlertsEmailAddressLabel:!0,updatePrimaryEmailAddressLabel:!0,updatePrimaryEmailAddressAda:!0,newEmailAddressError:!0,confirmedEmailAddressError:!0,alertsDeliveryNicknameError:!0,importantAda:!0,alertsDeliveryNicknameAda:!0,skipBackLabel:!0,errorAnnouncementAda:!0}}})),define("bluespec/update_push_alerts_delivery",[],(function(){return{name:"UPDATE_PUSH_ALERTS_DELIVERY",data:{currentNickname:{type:"Description"},alertsDeliveryNickname:{type:"AlertsProfileNickname"},deviceType:{type:"Description"}},actions:{updatePushAlertsDeliveryInfo:!0,doNotUpdatePushAlertsDeliveryInfo:!0,skipBack:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0},states:{exitConfirmationOverlay:!0},settings:{requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,updatePushAlertsDeliveryLabel:!0,updatePushAlertsDeliveryAda:!0,updatePushAlertsDeliveryAdvisory:!0,alertsDeliveryNicknameLabel:!0,alertsDeliveryNicknameAda:!0,alertsDeliveryNicknameAdvisory:!0,alertsDeliveryNicknameError:!0,importantAda:!0,updatePushAlertsDeliveryInfoLabel:!0,doNotUpdatePushAlertsDeliveryInfoLabel:!0,skipBackLabel:!0,errorAnnouncementAda:!0,updatePushAlertsDeliveryErrorHeader:!0,updatePushAlertsDeliveryErrorAdvisory:!0}}})),define("bluespec/update_phone_alerts_delivery",[],(function(){return{name:"UPDATE_PHONE_ALERTS_DELIVERY",data:{currentNickname:{type:"Description"},alertsDeliveryNickname:{type:"AlertsProfileNickname"},alertDeliveryDateTimezoneOptions:{type:"List",itemType:"Description"},alertDeliveryDateTimezone:{type:"Description"},securityAlertsNotSentFromOptions:{type:"List",itemType:"Description"},securityAlertsNotSentFrom:{type:"Description"},securityAlertsNotSentToOptions:{type:"List",itemType:"Description"},securityAlertsNotSentTo:{type:"Description"},phoneNumber:{type:"Description"},securityAlertsSentStatus:{type:"OnOff"}},actions:{updatePhoneAlertsDeliveryInfo:!0,doNotUpdatePhoneAlertsDeliveryInfo:!0,updatePhoneNumber:!0,skipBack:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0},states:{exitConfirmationOverlay:!0},settings:{requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,updatePhoneAlertsDeliveryHeader:!0,updatePhoneAlertsDeliveryHeaderAda:!0,phoneNumberLabel:!0,alertsDeliveryNicknameLabel:!0,alertsDeliveryNicknameAda:!0,alertsDeliveryNicknameAdvisory:!0,alertsDeliveryNicknameError:!0,alertDeliveryDateTimezoneLabel:!0,alertDeliveryDateTimezonePlaceholder:!0,alertDeliveryDateTimezoneAdvisory:!0,securityAlertsSentStatusLabel:!0,securityAlertsNotSentFromLabel:!0,securityAlertsNotSentToLabel:!0,securityAlertsTimePlaceholder:!0,securityAlertsNotSentToError:!0,punctuationMarkHyphenLabel:!0,punctuationMarkOpenParanthesesLabel:!0,punctuationMarkCloseParanthesesLabel:!0,updatePhoneAlertsDeliveryErrorHeader:!0,updatePhoneAlertsDeliveryErrorAdvisory:!0,importantAda:!0,updatePhoneAlertsDeliveryInfoLabel:!0,doNotUpdatePhoneAlertsDeliveryInfoLabel:!0,updatePhoneNumberLabel:!0,updatePhoneNumberAda:!0,timeAda:!0,currentSelectionAda:!0,endOfSelectionAda:!0,selectionUpdatesContentBelowAda:!0,skipBackLabel:!0,errorAnnouncementAda:!0}}})),define("bluespec/my_alerts_delivery_summary",[],(function(){return{name:"MY_ALERTS_DELIVERY_SUMMARY",data:{alertsDeliveryProfile:{type:"Description"},emailAlertsDeliveryInfo:{type:"OnOff"}},actions:{requestMyAlertsDeliveryOptions:!0,addEmailAlertsDeliveryInfo:!0,addPhoneAlertsDeliveryInfo:!0,requestConfirmationMessageDetails:!0,exitConfirmationMessageDetails:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0},settings:{requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,myAlertsDeliveryLabel:!0,myAlertsDeliveryAda:!0,currentInformationForAlertsDeliveryAda:!0,requestMyAlertsDeliveryOptionsLabel:!0,addMyAlertsDeliveryInfoAda:!0,opensMenuAda:!0,closesMenuAda:!0,addEmailAlertsDeliveryInfoLabel:!0,addEmailAlertsDeliveryInfoAda:!0,addPhoneAlertsDeliveryInfoLabel:!0,addPhoneAlertsDeliveryInfoAda:!0,myAlertsDeliverySummaryConfirmationHeader:!0,myAlertsDeliverySummaryConfirmationAdvisory:!0,checkmarkAda:!0,myAlertsDeliverySummaryErrorHeader:!0,myAlertsDeliverySummaryErrorAdvisory:!0,importantAda:!0}}})),define("profileArea/alerts/alertsDelivery/controllers/alertsDelivery",["require","appkit-utilities/analytics/overlay","appkit-utilities/accountInfo/accountInfo","common/lib/flyout/flyoutUtility","blue/siteMode","profileArea/alerts/lib/settings","profileArea/sharedLib/constants","common/lib/variation","blue/observable","common/lib/fakeComponent","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","bluespec/manage_email_alerts_delivery","bluespec/update_push_alerts_delivery","bluespec/update_phone_alerts_delivery","bluespec/my_alerts_delivery_summary","common/lib/elementObserver","common/lib/utility/commonComponentsUtil","common/lib/modalApi"],(function(e){"use strict";var t,i,n=e("appkit-utilities/analytics/overlay"),r=new(e("appkit-utilities/accountInfo/accountInfo")),a=e("common/lib/flyout/flyoutUtility"),o=e("blue/siteMode"),s=e("profileArea/alerts/lib/settings"),c=e("profileArea/sharedLib/constants"),l=e("common/lib/variation");return function(d){var u=e("blue/observable"),p=e("common/lib/fakeComponent"),m=!1,f=this,A=r.isCommercialUser(),g=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"),E=e("bluespec/manage_email_alerts_delivery"),y=e("bluespec/update_push_alerts_delivery"),h=e("bluespec/update_phone_alerts_delivery"),v=e("bluespec/my_alerts_delivery_summary");E.states=E.states||{},E.states.showAlertError=!0,E.states.isFormDirty=!0,y.states=y.states||{},y.states.showAlertError=!0,y.states.isFormDirty=!0,h.states=h.states||{},h.states.showAlertError=!0,h.states.isFormDirty=!0,v.states=v.states||{},v.states.enableEmail=!0,v.states.messageInfo=!0,v.states.confirmationMessage=!0,f.elementObserver=e("common/lib/elementObserver")(),f.init=function(){t=d.dcu.dynamicContent,f.commonComponentsUtil=e("common/lib/utility/commonComponentsUtil")(this),d.commonComponentsUtil=f.commonComponentsUtil,d.updateNicknameList=f.updateNicknameList,d.updateEmailList=f.updateEmailList,d.showAlertsDeliveryEditPrimaryEmailConfirmation=f.showAlertsDeliveryEditPrimaryEmailConfirmation,d.splitIOFeatureFlags=g,f.settings=s,d.on({myProfileStateChange:f.setState,refreshProfilesList:f.refreshProfilesList,showAddEmailForm:f.handleShowAddEmailForm,showAlertsDeliveryEditPrimaryEmailConfirmation:f.showAlertsDeliveryEditPrimaryEmailConfirmation,deleteMyAlertsDeliveryInfo:f.deleteMyAlertsDeliveryInfo,removeDeleted:f.removeDeleted}),d.Api={modal:new(e("common/lib/modalApi"))(this)},d.showConfirmationMessage=!1,f.stateName="updateMyAlertsDeliverySettings"},f.removeDeleted=function(e){var t=e.id,i=f.model.get("alertsDeliveryComponent.myAlertsDeliveryInfo");i.forEach((function(e,n){e.id===t&&i.splice(n,1)})),f.model.set("alertsDeliveryComponent.myAlertsDeliveryInfo",i),f.components.alertsDeliveryComponent.output.emit("applyShortenEmailDecorator")},f.setState=function(e){f.stateName===e.stateName?f._pageActive=!0:f._pageActive=!1},f.showActiveRowOnly=function(e){var t=f.model.get("alertsDeliveryComponent.myAlertsDeliveryInfo");t&&t.forEach((function(t,i){var n="myAlertsDeliveryInfo."+i;f.model.set("alertsDeliveryComponent."+n+".showEditForm",i===Number(e))}))},f._initHybrid=function(){if(d.hybrid){d.hybridMixin.call(f),i=d.hybridHelper&&d.hybridHelper.webNativeMessenger;const e={showHamburgerMenu:!1,showCancel:!1,showBackArrow:!0,showProfileSettings:!1,showClose:!f.fromChooseAlerts,pageTitle:l("profileArea","MY_ALERTS_DELIVERY_SUMMARY","myAlertsDeliveryLabel")};i.updateNativeNavigationBar(e),f._initNativeNavBarButtons()}},f._secondaryButtonInteraction=function(){const e=d.routeHistory;e.lastRoute&&e.goBack()},f._initNativeNavBarButtons=function(){i.setShouldNativeHandleButtonPressedCallBack((function(e){switch(e){case"BACK":return f._secondaryButtonInteraction(),!1;default:return!0}}))},f.index=function(e){if(d.profileContainer.setPageProperties({pageTitle:l("profileArea","MY_ALERTS_DELIVERY_SUMMARY","myAlertsDeliveryLabel"),containerClasses:"legacy-profile-styles"}),a.isFlyoutNavigation(d))return!0;f._pageActive&&f.fromChooseAlerts||e.fromChooseAlerts?f.fromChooseAlerts=!0:f.fromChooseAlerts=!1,f._pageActive=!0,f._initHybrid(),e.id?f.deliveryProfileId=e.id:f.deliveryProfileId=void 0,f.elementObserver.isInserted(d.renderTarget.target,(function(){f.isBaseCompRegistered()?"doNotEditProfile"===e.action?f.handleDoNotEditProfile():"doNotDeleteProfile"!==e.action&&f.initDeliveryProfiles(e):f.initDeliveryProfiles(e)}))},f.handleDoNotEditProfile=function(){if(f.hideUpdateProfileForm(),f.destroyAllFormComponents(),f.fromChooseAlerts)f.fromChooseAlerts=!1,d.state(c.profileUrls["choosealerts.alertSubscriptionArea"]);else{var e,t=f.model.get("alertsDeliveryComponent.previousDataPath");t&&(e=t.split(".")[1]),f.elementObserver.isInserted("#editAlertsDeliveryLink"+e,(function(){d.broadcast("focusOnReturnLinkADA",{id:e})}))}},f.isBaseCompRegistered=function(){return f.registry.hasComponent("alertsDeliveryComponent")},f.gotoDefaultPage=function(){d.state(c.profileUrls["alertsDelivery.updateMyAlertsDeliverySettings"])},f.addEmailaddressForAlerts=function(){f.isBaseCompRegistered()?(f.model.set("editNicknameOnly",!1),f.handleShowAddEmailForm()):f.gotoDefaultPage()},f.confirmAddEmailaddressForAlerts=function(){f.isBaseCompRegistered()?(f.clearErrorMessage(),f.refreshProfilesList()):f.gotoDefaultPage()},f.updateAlertsEmailAddress=function(e){f.isBaseCompRegistered()?(f.model.set("editNicknameOnly",!0),f.handleUpdateFlow(f.handleShowUpdateEmailForm,e)):f.gotoDefaultPage()},f.updateAlertsMobileNumber=function(e){f.isBaseCompRegistered()?f.handleUpdateFlow(f.handleShowUpdatePhoneNotificationForm,e):f.gotoDefaultPage()},f.updateAlertsAppleNotifications=function(e){f.isBaseCompRegistered()?f.handleUpdateFlow(f.handleShowUpdatePushNotificationForm,e,"pushapple"):f.gotoDefaultPage()},f.updateAlertsAndroidNotifications=function(e){f.isBaseCompRegistered()?f.handleUpdateFlow(f.handleShowUpdatePushNotificationForm,e,"pushandroid"):f.gotoDefaultPage()},f.confirmUpdateAlertsProfile=function(e){f.isBaseCompRegistered()&&d.showConfirmationMessage?(f.clearErrorMessage(),f.handleCloseUpdateForm(e),d.showConfirmationMessage=!1):f.gotoDefaultPage()},f.updateNicknameList=function(e){var t=e.oldNickname,i=e.newNickname,n=f.model.get("nicknameList");t&&n.splice(n.indexOf(t),1),i&&n.push(i),f.model.set("nicknameList",n)},f.updateEmailList=function(e){var t=e.oldEmail,i=e.newEmail,n=f.model.get("emailList");t&&n.splice(n.indexOf(t),1),i&&n.push(i),f.model.set("emailList",n)},f.getProfileDataPath=function(e){var t="";return f.model.get("alertsDeliveryComponent.myAlertsDeliveryInfo").some((function(i,n){return i.id.toString()===e.toString()&&(t="myAlertsDeliveryInfo."+n,!0)})),t},f.handleUpdateFlow=function(e,t,i){var n=f.components.alertsDeliveryComponent.profileDataPath;if(!n){var r=f.model.get("alertsDeliveryComponent.previousDataPath");n=f.getProfileDataPath(t.params),f.model.set("alertsDeliveryComponent."+r+".showEditForm",!1),f.model.set("alertsDeliveryComponent."+n+".showEditForm",!0),f.model.set("alertsDeliveryComponent.previousDataPath",n)}e(n,i),f.components.alertsDeliveryComponent.profileDataPath=""},f.deleteMyAlertsDeliveryInfo=function(){f.showAlertsDeliveryDeleteProfileConfirmation(f.components.alertsDeliveryComponent.profileDataPath)},f.confirmDeleteMyAlertsDeliveryInfo=function(e){f.showActiveRowOnly(),f.registry.hasComponent("alertsDeliveryDeleteProfileComponent")&&f.components.alertsDeliveryDeleteProfileComponent.profileDataPath?f.handleRemoveProfile(e.statusCode,e.nickname):f.gotoDefaultPage()},f.initDeliveryProfiles=function(){return Promise.resolve(o.isModeEnabled("readOnly")||o.isModeEnabled("readOnlyUnplanned")).then((function(e){if(e){var t=f.registry.getComponent("communicationsMaintenance");return t&&t.model.set("communicationsMaintenanceState","MAINTENANCE.ALERTS_DELIVERY"),f.executeCAV([f.components.communicationsMaintenance,"communicationsMaintenance",{target:d.renderTarget.target}])}f.model.get("alertsDeliveryHeaderComponent")||f.initializeModel(),f.registry.hasComponent("alertsDeliveryManagePushComponent")&&f.model.set("alertsDeliveryManagePushComponent.alertsDeliveryNickname",""),f.registry.hasComponent("alertsDeliveryManageEmailComponent")&&f.model.set("alertsDeliveryManageEmailComponent.alertsDeliveryNickname",""),f.registry.hasComponent("alertsDeliveryHeaderComponent")&&f.model.set("alertsDeliveryHeaderComponent.alertsDeliveryProfile",""),f.clearErrorMessage(),f.getAlertsDeliveryProfiles(),d._pageActive=!0}))},f.getAlertsDeliveryProfiles=function(){var e,t,i=f.registerAlertsDeliveryComponents();return a.isFlyout(d.state())||f.commonComponentsUtil.showSpinner({target:d.renderTarget,overlayType:"INSECTION",append:!1}),d.services.alertsDelivery["alertsDelivery.profiles.list.svc"]().then((function(n){f.clearErrorMessage(),f.clearConfirmationMessage(),f.enableDisableProfileLabels(n),f.renderAlertsDeliveryComponents(i),f.model.set("alertsDeliveryComponent.myAlertsDeliveryInfo",n.alertsDeliveryProfilesList),e=n.alertsDeliveryProfilesList.map((function(e){return e.currentNickname})),t=n.alertsDeliveryProfilesList.filter((function(e){return"EMAIL"===e.alertsDeliveryMethodType})).map((function(e){return e.alertsDeliveryChannelInfo})),f.model.set("nicknameList",e),f.model.set("emailList",t),f.commonComponentsUtil.hideSpinner({target:d.renderTarget})}),(function(){f.renderAlertsDeliveryComponents(i),f.handleNetworkServiceError({type:"error",isListServiceError:!0,component:"alertsDeliveryComponent"}),f.commonComponentsUtil.hideSpinner({target:d.renderTarget})}))},f.refreshProfilesList=function(){f.commonComponentsUtil.showSpinner({target:d.renderTarget,overlayType:"INSECTION",append:!0}),d.services.alertsDelivery["alertsDelivery.profiles.list.svc"]().then((function(e){f.enableDisableProfileLabels(e),f.model.set("alertsDeliveryComponent.myAlertsDeliveryInfo",e.alertsDeliveryProfilesList);var t={messageType:f.settings.alertsDeliveryProfiles.ADDED_MESSAGE_TYPE,nickname:f.model.get("alertsDeliveryManageEmailComponent.alertsDeliveryNickname")};f.setConfirmationMessage(t),f.registry.destroyComponent("alertsDeliveryManageEmailComponent"),f.commonComponentsUtil.hideSpinner({target:d.renderTarget})}),(function(){f.handleNetworkServiceError({type:"error",isListServiceError:!0,component:"alertsDeliveryComponent"}),f.commonComponentsUtil.hideSpinner({target:d.renderTarget})}))},f.initializeModel=function(){var e=p("UPDATE_PHONE_ALERTS_DELIVERY","profileArea"),i=d.globalContent.currentSelectionAda,n=d.globalContent.endOfSelectionAda,r=t.get(e,"securityAlertsNotSentFromLabel"),a=t.get(e,"securityAlertsNotSentToLabel"),o=t.get(e,"alertDeliveryDateTimezoneLabel");f.model=u.Model({nicknameList:[],emailList:[],editNicknameOnly:null,alertsDeliveryContainerComponent:{},alertsDeliveryHeaderComponent:{messageInfo:!1,confirmationMessage:!1,alertsDeliveryProfile:"",requestProfileSettingsMenuAda:d.globalContent.requestProfileSettingsMenuAda,isAlertsEmulationEnabled:d.application.alertsEmulationModeEnableFlag},alertsDeliveryManageProfileData:{submitButtonDisabled:!1},alertsDeliveryManageProfilePhoneData:{styledselects:[{id:"doNotSendTextFrom",securityAlertsNotSentFromOptions:[],disabled:!0,ariaConfig:{describedBy:"doNotSendTextFrom-label",selected:i,bottomOfMenu:n,buttonLabel:r,listLabel:r}},{id:"doNotSendTextTo",securityAlertsNotSentToOptions:[],disabled:!0,ariaConfig:{describedBy:"doNotSendTextTo-label",selected:i,bottomOfMenu:n,buttonLabel:a,listLabel:a}},{id:"doNotSendTextTimeZone",alertDeliveryDateTimezoneOptions:[],disabled:!0,ariaConfig:{describedBy:"doNotSendTextTimeZone-label",selected:i,bottomOfMenu:n,buttonLabel:o,listLabel:o}}]},alertsDeliveryManagePhoneComponent:{styledselects:[{id:"doNotSendTextFrom",securityAlertsNotSentFromOptions:[],disabled:!0,ariaConfig:{describedBy:"doNotSendTextFrom-label",selected:i,bottomOfMenu:n,buttonLabel:r,listLabel:r}},{id:"doNotSendTextTo",securityAlertsNotSentToOptions:[],disabled:!0,ariaConfig:{describedBy:"doNotSendTextTo-label",selected:i,bottomOfMenu:n,buttonLabel:a,listLabel:a}},{id:"doNotSendTextTimeZone",alertDeliveryDateTimezoneOptions:[],disabled:!0,ariaConfig:{describedBy:"doNotSendTextTimeZone-label",selected:i,bottomOfMenu:n,buttonLabel:o,listLabel:o}}]},alertsDeliveryDeleteProfile:{},alertsDeliveryComponent:{myAlertsDeliveryLabel:t.get(p("MY_ALERTS_DELIVERY_SUMMARY","profileArea"),"myAlertsDeliveryLabel"),messageInfo:!1}}),d.model=f.model},f.registerComponent=function(e,t,i,n,r){f.registry.updateComponent(e,{model:f.model.lens(e)});var a={target:i},o=f.components[e];r&&(a.append=!0),n.push([o,t,a])},f.registerAlertsDeliveryComponents=function(){var e=[];f.registerComponent("alertsDeliveryContainerComponent","alertsDeliveryContainer",d.renderTarget.target,e),f.registerComponent("alertsDeliveryHeaderComponent","alertsDeliveryHeader","#alerts-delivery-header",e),f.registerComponent("alertsDeliveryComponent","alertsDelivery","#alerts-delivery-table",e),f.setContentByUserType();var i=t.get(f.components.alertsDeliveryComponent,"alertsDeliveryChannelInfoPlaceholder","APPLE"),n=t.get(f.components.alertsDeliveryComponent,"alertsDeliveryChannelInfoPlaceholder","ANDROID");return f.model.set("alertsDeliveryComponent.appleDeliveryChannelInfoPlaceholder",i),f.model.set("alertsDeliveryComponent.androidDeliveryChannelInfoPlaceholder",n),e},f.enableDisableProfileLabels=function(e){f.model.set("alertsDeliveryHeaderComponent.numberOfEmailAlerts",e.numberOfEmailAlerts),f.checkNumberOfEmailAlerts();var i=t.get(f.components.alertsDeliveryHeaderComponent,"addEmailAlertsDeliveryInfoLabel"),n=t.get(f.components.alertsDeliveryHeaderComponent,"addPhoneAlertsDeliveryInfoLabel"),r=e.isThereMobileProfile;f.model.set("alertsDeliveryHeaderComponent.isThereMobileProfile",r),f.model.set("alertsDeliveryHeaderComponent.items",[{id:"addEmail",name:i,disabled:""}]),f.toggleAddEmailLink(),A||d.user.profile.isSubUser()||(f.model.set("alertsDeliveryHeaderComponent.items.1",{id:"addPhone",name:n,disabled:""}),r&&f.model.set("alertsDeliveryHeaderComponent.items.1.disabled",r))},f.toggleAddEmailLink=function(){var e=f.model.get("alertsDeliveryHeaderComponent.enableEmail");f.model.set("alertsDeliveryHeaderComponent.items.0.disabled",!e)},f.setContentByUserType=function(){var e=A?"":f.model.get("alertsDeliveryComponent.myAlertsDeliveryAdvisoryVariation"),i=A?"":f.model.get("alertsDeliveryComponent.alertsDeliveryStatusHelpMessageVariation");t.set(f.components.alertsDeliveryComponent,"myAlertsDeliveryAdvisory",{textAlertVariations:{myAlertsDeliveryAdvisoryVariation:e}}),t.set(f.components.alertsDeliveryComponent,"alertsDeliveryStatusHelpMessage",{textAlertVariations:{alertsDeliveryStatusHelpMessageVariation:i}})},f.renderAlertsDeliveryComponents=function(e){if(f._pageActive)return m||f.elementObserver.isInserted(".section-title",(function(){f.components.alertsDeliveryHeaderComponent.focusOnAlertsDeliveryHeader()})),f.executeCAV(e).then((function(){f.deliveryProfileId&&f.showDefaultUpdateForm(f.deliveryProfileId),d.area.broadcast("renderMyProfileMenuMobile")}))},f.handleNetworkServiceError=function(e){if(f.showActiveRowOnly(),f.destroyAllFormComponents(),f.model.set("alertsDeliveryHeaderComponent.messageInfo",e),f.components.alertsDeliveryHeaderComponent.setMessageInfo(),"alertsDeliveryComponent"===e.component&&(f.model.set("alertsDeliveryComponent.messageInfo",e),f.components.alertsDeliveryComponent.setMessageInfo()),e.isListServiceError){var i="SYSTEM_FAILURE";t.set(f.components.alertsDeliveryHeaderComponent,"myAlertsDeliverySummaryErrorHeader",i),t.set(f.components.alertsDeliveryHeaderComponent,"myAlertsDeliverySummaryErrorAdvisory",i),f.components.alertsDeliveryHeaderComponent.setMyAlertsDeliveryUpdateError()}},f.clearErrorMessage=function(){f.model.set("alertsDeliveryHeaderComponent.messageInfo",!1),f.model.set("alertsDeliveryComponent.messageInfo",!1)},f.clearConfirmationMessage=function(){f.model.set("alertsDeliveryHeaderComponent.confirmationMessage",!1)},f.checkNumberOfEmailAlerts=function(){var e=f.model.get("alertsDeliveryHeaderComponent.numberOfEmailAlerts")<f.settings.alertsDeliveryProfiles.EMAIL_DELIVERY_LIMIT;f.model.set("alertsDeliveryHeaderComponent.enableEmail",e)},f.showDefaultUpdateForm=function(e){var t={};f.model.get("alertsDeliveryComponent.myAlertsDeliveryInfo").some((function(i,n){return i.id.toString()===e.toString()&&(t.dataPath="myAlertsDeliveryInfo."+n,!0)}))&&f.components.alertsDeliveryComponent.updateMyAlertsDeliveryInfo(t)},f.handleShowUpdateEmailForm=function(e){f.hideAddProfileForm(),f.showUpdateEmailForm(e)},f.showUpdateEmailForm=function(e){var i=e.split(".")[1],n="#editAlertsProfile"+i,r=f.model.get("alertsDeliveryComponent."+e),a=[],o="alertsDeliveryEditEmailComponent";f.destroyAllFormComponents().then((function(){f.registerComponent(o,"alertsDeliveryManageEmail",n,a),t.set(f.components.alertsDeliveryEditEmailComponent,"updateEmailAlertsDeliveryLabel",{alertsDeliveryNickname:r.currentNickname}),f.model.set(o+".isCommercialUser",A),f.model.set(o+".tableRowIndex",i),f.model.set(o+".id",r.id),f.model.set(o+".exitAda",d.globalContent.exitAda),f.model.set(o+".currentEmailAddress",r.alertsDeliveryChannelInfo),f.model.set(o+".newEmailAddress",""),f.model.set(o+".confirmedEmailAddress",""),f.model.set(o+".currentNickname",r.currentNickname),f.model.set(o+".alertsDeliveryNickname",r.alertsDeliveryNickname),f.model.set(o+".editForm",!0),f.model.set(o+".updateAlertsEmailAddressSelectedState",!1),f.model.set(o+".emailFormatType",f.settings.alertsDeliveryProfiles.FORMAT_HTML),f.model.set(o+".status",r.status),f.model.set(o+".type",r.type),f.model.set(o+".indicator",r.indicator),f.model.set(o+".deletable",r.deletable),f.model.set(o+".editable",r.editable),f.model.set(o+".alertsDeliveryMethodType",r.alertsDeliveryMethodType),f.components.alertsDeliveryEditEmailComponent.output.emit("trigger",{value:"openModal"}),f.showActiveRowOnly(i),f.executeCAV(a).then((function(){d.bubble("dirtyRegister",{controller:f,compInstanceNames:[o],dirtyIgnoreCallback:function(){return!f.fromChooseAlerts},target:n,whiteList:["alertsDeliveryNickname","emailFormatType","newEmailAddress","confirmedEmailAddress"],routeBlackList:["/dashboard/profileArea/alertsDelivery/confirmUpdateAlertsEmailAddress;compType=alertsDeliveryManageEmailComponent;statusCode=SUCCESS"]})})),f.elementObserver.isInserted("#alerts-delivery-form-header"+r.id,(function(){f.components.alertsDeliveryEditEmailComponent.focusOnManageEmailFormHeader()})),d._activeComponent="editEmail"}))},f.handleCloseUpdateForm=function(e){var t=f.model.get("alertsDeliveryComponent.previousDataPath");if(e.statusCode===f.settings.alertsDeliveryProfiles.SUCCESS){var i,n=(i="alertsDeliveryManagePhoneComponent"===e.compType?f.model.get("alertsDeliveryManageProfilePhoneData"):"alertsDeliveryManageEmailComponent"===e.compType?f.model.get("alertsDeliveryEditEmailComponent"):f.model.get("alertsDeliveryManagePushComponent")).alertsDeliveryNickname.indexOf("")>=0,r=i.type===f.settings.alertsDeliveryProfiles.EMAIL_DELIVERY_TYPE,a=f.settings.alertsDeliveryProfiles.UPDATED_MESSAGE_TYPE;f.setConfirmationMessage({messageType:a,nickname:i.alertsDeliveryNickname}),r&&f.model.set("alertsDeliveryComponent."+t+".alertsDeliveryChannelInfo",i.newEmailAddress||i.currentEmailAddress),r&&f.model.set("alertsDeliveryComponent."+t+".alertsDeliveryFormatType",i.emailFormatType),n||(f.model.set("alertsDeliveryComponent."+t+".alertsDeliveryNickname",i.alertsDeliveryNickname),f.model.set("alertsDeliveryComponent."+t+".currentNickname",i.alertsDeliveryNickname)),e&&e.messageType===a&&f.setConfirmationMessage(e)}f.destroyAllFormComponents(),f.hideUpdateProfileForm()},f.hideUpdateProfileForm=function(){f.showActiveRowOnly(),d.application.emit("initSetHeader")},f.hideAddProfileForm=function(){f.components.alertsDeliveryComponent._unhideContentForAndroid(),f.registry.hasComponent("alertsDeliveryManageEmailComponent")&&f.registry.destroyComponent("alertsDeliveryManageEmailComponent")},f.handleShowAddEmailForm=function(){f.components.alertsDeliveryComponent._hideContentForAndroid(),f.hideUpdateProfileForm(),f.showAddEmailForm()},f.destroyAllFormComponents=function(){f.components.alertsDeliveryComponent._unhideContentForAndroid();var e=[];return f.registry.hasComponent("alertsDeliveryEditEmailComponent")&&e.push(f.components.alertsDeliveryEditEmailComponent.destroy()),f.registry.hasComponent("alertsDeliveryManageEmailComponent")&&e.push(f.components.alertsDeliveryManageEmailComponent.destroy()),f.registry.hasComponent("alertsDeliveryManagePushComponent")&&e.push(f.components.alertsDeliveryManagePushComponent.destroy()),f.registry.hasComponent("alertsDeliveryManagePhoneComponent")&&e.push(f.components.alertsDeliveryManagePhoneComponent.destroy()),Promise.all(e)},f.showAddEmailForm=function(){var e="#alerts-delivery-add-email-form",t=[],i="alertsDeliveryManageEmailComponent";f.destroyAllFormComponents().then((function(){f.registerComponent(i,"alertsDeliveryManageEmail",e,t),f.model.set(i+".currentEmailAddress",""),f.model.set(i+".newEmailAddress",""),f.model.set(i+".newEmailAddress",""),f.model.set(i+".confirmedEmailAddress",""),f.model.set(i+".alertsDeliveryNickname",""),f.model.set(i+".editForm",!1),f.model.set(i+".exitAda",d.globalContent.exitAda),f.model.set(i+".type",f.settings.alertsDeliveryProfiles.EMAIL_DELIVERY_TYPE),f.model.set(i+".emailFormatType",f.settings.alertsDeliveryProfiles.FORMAT_HTML),f.model.set(i+".indicator",f.settings.alertsDeliveryProfiles.INDICATOR_SECONDARY),f.components.alertsDeliveryManageEmailComponent.output.emit("trigger",{value:"openModal"}),f.showActiveRowOnly(),f.executeCAV(t).then((function(){d.bubble("dirtyRegister",{controller:f,compInstanceNames:[i],dirtyIgnoreCallback:function(){return!f.fromChooseAlerts},target:e,whiteList:["alertsDeliveryNickname","emailFormatType","newEmailAddress","confirmedEmailAddress"],routeBlackList:["/dashboard/profileArea/alertsDelivery/confirmAddEmailaddressForAlerts"]})})),f.elementObserver.isInserted("#alerts-delivery-form-header",(function(){f.components.alertsDeliveryManageEmailComponent.focusOnManageEmailFormHeader()})),d._activeComponent="editEmail"}))},f.handleShowUpdatePushNotificationForm=function(e,t){f.hideAddProfileForm(),f.showUpdatePushNotificationForm(e,t)},f.showUpdatePushNotificationForm=function(e,i){var n=e.split(".")[1],r="#editAlertsProfile"+n,a=f.model.get("alertsDeliveryComponent."+e),o=[],s="alertsDeliveryManagePushComponent";f.destroyAllFormComponents().then((function(){f.registerComponent(s,"alertsDeliveryManagePush",r,o);var e=t.get(f.components.alertsDeliveryManagePushComponent,"updatePushAlertsDeliveryAdvisory","pushandroid"===i?"ANDROID":"APPLE");t.set(f.components.alertsDeliveryManagePushComponent,"updatePushAlertsDeliveryLabel",{currentNickname:a.currentNickname}),f.model.set(s+".update_push_alerts_delivery_advisory_setting",e),f.model.set(s+".id",a.id),f.model.set(s+".currentNickname",a.currentNickname),f.model.set(s+".alertsDeliveryNickname",a.alertsDeliveryNickname),f.model.set(s+".status",a.status),f.model.set(s+".type",a.type),f.model.set(s+".indicator",a.indicator),f.model.set(s+".contentType",a.alertsDeliveryFormatType),f.model.set(s+".tableRowIndex",n),f.components.alertsDeliveryManagePushComponent.output.emit("trigger",{value:"openModal"}),f.showActiveRowOnly(n),f.executeCAV(o).then((function(){d.bubble("dirtyRegister",{controller:f,compInstanceNames:[s],dirtyIgnoreCallback:function(){return!f.fromChooseAlerts},target:r,whiteList:["alertsDeliveryNickname"],routeBlackList:["/dashboard/profileArea/alertsDelivery/confirmUpdateAlertsAndroidNotifications;compType=alertsDeliveryManageAndroidComponent;statusCode=SUCCESS","/dashboard/profileArea/alertsDelivery/confirmUpdateAlertsAppleNotifications;compType=alertsDeliveryManageAppleComponent;statusCode=SUCCESS"]})})),f.elementObserver.isInserted("#alerts-delivery-form-header"+a.id,(function(){f.components.alertsDeliveryManagePushComponent.focusOnEditPushFormHeader()})),d._activeComponent="editPush"}))},f.handleShowUpdatePhoneNotificationForm=function(e){f.hideAddProfileForm(),f.showUpdatePhoneNotificationForm(e)},f.showUpdatePhoneNotificationForm=function(e){var i,n=e.split(".")[1],r="#editAlertsProfile"+n,a=f.model.get("alertsDeliveryComponent."+e),o=[],s="alertsDeliveryManagePhoneComponent";f.destroyAllFormComponents().then((function(){if(f.registerComponent(s,"alertsDeliveryManagePhone",r,o),t.set(f.components.alertsDeliveryManagePhoneComponent,"updatePhoneAlertsDeliveryHeader",{currentNickname:a.currentNickname}),f.model.set(s+".id",a.id),f.model.set(s+".currentNickname",a.currentNickname),f.model.set(s+".alertsDeliveryNickname",a.alertsDeliveryNickname),f.model.set(s+".status",a.status),f.model.set(s+".type",a.type),f.model.set(s+".indicator",a.indicator),f.model.set(s+".contentType",a.alertsDeliveryFormatType),f.model.set(s+".alertsDeliveryChannelInfo",a.alertsDeliveryChannelInfo),f.model.set(s+".deletable",!1),f.model.set(s+".profileDataPath",e),f.model.set(s+".tableRowIndex",n),(a.blackoutStartHour||a.blackoutEndHour)&&"UNDELIVERABLE"!==a.status){for(f.model.set(s+".securityAlertsSentStatus",!0),i=0;i<3;i++)f.model.set(s+".styledselects."+i+".disabled",!1);f.model.set(s+".securityAlertsNotSentFrom",a.blackoutStartHour),f.model.set(s+".securityAlertsNotSentTo",a.blackoutEndHour),f.model.set(s+".alertDeliveryDateTimezone",a.timeZone),f.model.set(s+".styledselects.0.securityAlertsNotSentFromOptions",f.getTimesOptionsStyledSelect(a.blackoutStartHour)),f.model.set(s+".styledselects.1.securityAlertsNotSentToOptions",f.getTimesOptionsStyledSelect(a.blackoutEndHour)),f.model.set(s+".styledselects.2.alertDeliveryDateTimezoneOptions",f.getTimeZoneOptionsStyledSelect(a.timeZone))}else{for(i=0;i<3;i++)f.model.set(s+".styledselects."+i+".disabled",!0);f.model.set(s+".securityAlertsSentStatus",!1),f.model.set(s+".securityAlertsNotSentFrom",22),f.model.set(s+".securityAlertsNotSentTo",8),f.model.set(s+".alertDeliveryDateTimezone",f.settings.alertsDeliveryProfiles.TIMEZONE_ET),f.model.set(s+".styledselects.0.securityAlertsNotSentFromOptions",f.getTimesOptionsStyledSelect(22)),f.model.set(s+".styledselects.1.securityAlertsNotSentToOptions",f.getTimesOptionsStyledSelect(8)),f.model.set(s+".styledselects.2.alertDeliveryDateTimezoneOptions",f.getTimeZoneOptionsStyledSelect(f.settings.alertsDeliveryProfiles.TIMEZONE_ET))}f.model.set(s+".originalSecurityAlertsNotSentFrom",f.model.get(s+".securityAlertsNotSentFrom")),f.model.set(s+".originalSecurityAlertsNotSentTo",f.model.get(s+".securityAlertsNotSentTo")),f.model.set(s+".originalAlertDeliveryDateTimezone",f.model.get(s+".alertDeliveryDateTimezone")),f.components.alertsDeliveryManagePhoneComponent.output.emit("trigger",{value:"openModal"}),f.showActiveRowOnly(n),f.executeCAV(o).then((function(){d.bubble("dirtyRegister",{controller:f,compInstanceNames:[s],dirtyIgnoreCallback:function(){return!f.fromChooseAlerts},target:r,whiteList:["alertsDeliveryNickname","securityAlertsSentStatus","securityAlertsNotSentFrom","securityAlertsNotSentTo","alertDeliveryDateTimezone"],routeBlackList:["/dashboard/profileArea/alertsDelivery/confirmUpdateAlertsMobileNumber;compType=alertsDeliveryManagePhoneComponent;statusCode=SUCCESS"]})})),f.elementObserver.isInserted("#alerts-delivery-form-header"+a.id,(function(){f.components.alertsDeliveryManagePhoneComponent.focusOnEditPhoneFormHeader(),f.components.alertsDeliveryManagePhoneComponent.setInitialBlackoutTimes({originalStart:a.blackoutStartHour,originalEnd:a.blackoutEndHour})})),d._activeComponent="editPhone"}))},f.showAlertsDeliveryDeleteProfileConfirmation=function(e){var i,r=e,a="alertsDeliveryComponent."+r+".id",o="alertsDeliveryComponent."+r+".alertsDeliveryNickname",s=f.model.get("alertsDeliveryComponent."+r+".type"),c=[],l="alertsDeliveryDeleteProfileComponent",d=null,u=f.model.get(a);return f.registerComponent(l,"alertsDeliveryDeleteProfile","body",c,!0),f.model.set(l+".id",f.model.get(a)),f.model.set(l+".dataPath",r),f.model.set(l+".nickname",f.model.get(o)),"EMAIL"===(i=f.model.get("alertsDeliveryComponent.myAlertsDeliveryInfo").filter((function(e){return e.id===u}))[0]).alertsDeliveryMethodType&&(d=i.alertsDeliveryChannelInfo),f.model.set(l+".email",d),t.set(f.components.alertsDeliveryDeleteProfileComponent,"deleteMyAlertsDeliveryInfoAdvisory",{alertsDeliveryNickname:f.model.get(o)},f.getDeviceTypeVariation(s)),t.set(f.components.alertsDeliveryDeleteProfileComponent,"deleteMyAlertsDeliveryInfoMessage",{alertsDeliveryNickname:f.model.get(o)}),f.elementObserver.isInserted(".dialogTitle",(function(){f.components.alertsDeliveryDeleteProfileComponent.focusOnModalHeader()})),f.executeCAV(c).then((function(){f.components.alertsDeliveryDeleteProfileComponent.model.set("stateName","deleteMyAlertsDeliveryConfirmationOverlay"),n.showOverlay(f.components.alertsDeliveryComponent,"deleteMyAlertsDeliveryConfirmationOverlay")}))},f.showAlertsDeliveryEditPrimaryEmailConfirmation=function(){var e=[];return f.registerComponent("alertsDeliveryEditPrimaryEmailComponent","updatePrimaryEmail","body",e,!0),t.set(f.components.alertsDeliveryEditPrimaryEmailComponent,"updatePrimaryEmailAddressConfirmationAdvisory","ALERTS_DELIVERY"),f.executeCAV(e).then((function(){f.components.alertsDeliveryEditPrimaryEmailComponent.model.set("stateName","updatePrimaryEmailAddressConfirmationOverlay"),n.showOverlay(f.components.alertsDeliveryEditEmailComponent,"updatePrimaryEmailAddressConfirmationOverlay")}))},f.handleRemoveProfile=function(e,t){var i;e===f.settings.alertsDeliveryProfiles.SUCCESS?(i=f.model.get("alertsDeliveryHeaderComponent.numberOfEmailAlerts")-1,f.model.set("alertsDeliveryHeaderComponent.numberOfEmailAlerts",i),f.checkNumberOfEmailAlerts(),f.toggleAddEmailLink(),f.clearErrorMessage(),f.setConfirmationMessage({messageType:f.settings.alertsDeliveryProfiles.REMOVED_MESSAGE_TYPE,nickname:t})):f.registry.hasComponent("alertsDeliveryHeaderComponent")&&f.handleNetworkServiceError({type:"error",isListServiceError:!0,component:"alertsDeliveryHeaderComponent"});f.components.alertsDeliveryDeleteProfileComponent.profileDataPath=""},f.setConfirmationMessage=function(e){var i={added:"ADD",updated:"UPDATE",removed:"DELETE"},n="alertsDeliveryHeaderComponent";t.set(f.components.alertsDeliveryHeaderComponent,"myAlertsDeliverySummaryConfirmationHeader",i[e.messageType],{alertsDeliveryProfile:e.nickname}),t.set(f.components.alertsDeliveryHeaderComponent,"myAlertsDeliverySummaryConfirmationAdvisory",i[e.messageType],{alertsDeliveryProfile:e.nickname}),f.model.set(n+".alertsDeliveryProfile",e.nickname),f.model.set(n+".confirmationMessage",!0),f.elementObserver.isInserted("#inner-confirm-add-email-alerts-delivery-info-message-heading",(function(){f.components.alertsDeliveryHeaderComponent.focusOnConfirmationMessage(m),m=!1}))},f.getDeviceTypeVariation=function(e){return{PUSHANDROID:"ANDROID_ALERTS",PUSHAPPLE:"APPLE_ALERTS",SMS:"TEXT_ALERTS",EMAIL:"EMAIL_ALERTS"}[e]},f.getTimesOptionsStyledSelect=function(e){for(var i=[],n=f.settings.alertsDeliveryProfiles.TIME_DURATIONS,r=0;r<n.length-1;r++)i.push({name:t.get(f.components.alertsDeliveryManagePhoneComponent,"securityAlertsTimePlaceholder",n[r]),value:r+1});return i.push({name:t.get(f.components.alertsDeliveryManagePhoneComponent,"securityAlertsTimePlaceholder",n[n.length-1]),value:0}),i[e].selected=!0,i},f.getTimeZoneOptionsStyledSelect=function(e){for(var i=[],n=f.settings.alertsDeliveryProfiles.TIMEZONES,r=0;r<n.length;r++){var a={name:t.get(f.components.alertsDeliveryManagePhoneComponent,"alertDeliveryDateTimezonePlaceholder",n[r]),value:n[r].split("_")[0]};e===n[r]&&(a.selected=!0),i.push(a)}return i},f.updateMyAlertsDeliverySettings=f.index,f.confirmUpdateAlertsEmailAddress=f.confirmUpdateAlertsProfile,f.confirmUpdateAlertsMobileNumber=f.confirmUpdateAlertsProfile,f.confirmUpdateAlertsAndroidNotifications=f.confirmUpdateAlertsProfile,f.confirmUpdateAlertsAppleNotifications=f.confirmUpdateAlertsProfile}})),define("profileArea/alerts/alertsDelivery/components/alertsDeliveryContainer",[],(function(){"use strict";return{init:function(){}}})),define("profileArea/alerts/alertsDelivery/components/alertsDeliveryHeader",["require","profileArea/sharedLib/profileMixin","profileArea/sharedLib/constants"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileMixin"),i=e("profileArea/sharedLib/constants"),n=function(){},r=null;return{init:function(){t.call(this),r=this},addEmailAlertsDeliveryInfo:function(){return r.context.splitIOFeatureFlags.getFeatureTreatments(["cxo_profile_alertsDelivery_lock_email"],{cxo_profile_alertsDelivery_lock_email:!0}).then((function(e){e.cxo_profile_alertsDelivery_lock_email?r.context.controller.emit("showAlertsDeliveryEditPrimaryEmailConfirmation"):r.context.state(r.context.profileUrls["alertsDelivery.addEmailaddressForAlerts"])}))},requestMyAlertsDeliveryOptions:n,addPhoneAlertsDeliveryInfo:function(){this.context.services.alertsDelivery["myProfile.phone.refresh.list.svc"](),this.context.state(i.profileUrls["textBanking.activatePhoneBanking"])},focusOnAlertsDeliveryHeader:function(){this.output.emit("state",{value:"focusOnAlertsDeliveryHeader"})},focusOnConfirmationMessage:function(e){this.output.emit("state",{value:"focusOnConfirmationMessage",refreshProfilesList:e})},setMessageInfo:function(){this.output.emit("state",{value:"setMessageInfo",messageInfo:this.model.get("messageInfo")})},setMyAlertsDeliveryUpdateError:function(){this.output.emit("state",{value:"setMyAlertsDeliveryUpdateError",myAlertsDeliveryUpdateError:this.model.get("myAlertsDeliveryUpdateError")})},_dropdownItemSelected:function(e){var t=this.model.get("isThereMobileProfile"),i=this.model.get("enableEmail");if(13===e.domEvent.keyCode||32===e.domEvent.keyCode||"click"===e.domEvent.type){var n=parseInt(e.dataPath.split(".")[1]);0===n&&i?this.addEmailAlertsDeliveryInfo():1!==n||t||this.addPhoneAlertsDeliveryInfo()}},toggleConfirmationMessageDetail:function(e){this.context.profileUtil.confirmationMessageDetails(this,e)},toggleErrorMessageDetail:function(e){this.context.profileUtil.errorMessageDetails(this,e)},requestConfirmationMessageDetails:n,exitConfirmationMessageDetails:n,requestErrorMessageDetails:n,exitErrorMessageDetails:n}})),define("profileArea/alerts/alertsDelivery/components/alertsDelivery",["require","profileArea/sharedLib/constants"],(function(e){"use strict";return function(){var t=this,i=function(){},n=e("profileArea/sharedLib/constants");t.init=function(){t.context.on({focusOnReturnLinkADA:t.focusOnReturnLinkADA})},t.updateMyAlertsDeliveryInfo=function(e){var i=t.model.get(e.dataPath+".type").toLowerCase();t._updateProfiles(e,i),t.model.set("previousDataPath",e.dataPath)},t.deleteMyAlertsDeliveryInfo=function(e){t.profileDataPath=e.dataPath,t.context.controller.emit("deleteMyAlertsDeliveryInfo")},t.setMessageInfo=function(){t.output.emit("state",{value:"setMessageInfo",messageInfo:t.model.get("messageInfo")})},t._updateProfiles=function(e,i){var r=t.model.lens(e.dataPath).get("indicator");t.profileDataPath=e.dataPath,t.profileType=i,"CIS_DEVICE"===r||"email"===i?t.context.state(n.profileUrls["alertsDelivery.updateAlertsEmailAddress"],{params:t.model.get(e.dataPath+".id").toString()}):"pushapple"===i?t.context.state(n.profileUrls["alertsDelivery.updateAlertsAppleNotifications"],{params:t.model.get(e.dataPath+".id").toString()}):"pushandroid"===i?t.context.state(n.profileUrls["alertsDelivery.updateAlertsAndroidNotifications"],{params:t.model.get(e.dataPath+".id").toString()}):"sms"===i&&t.context.state(n.profileUrls["alertsDelivery.updateAlertsMobileNumber"],{params:t.model.get(e.dataPath+".id").toString()})},t.focusOnReturnLinkADA=function(e){t.output.emit("state",{value:"focusOnReturnLinkADA",id:e.id})},t._hideContentForAndroid=function(){t._toggleContentForAndroid(!0)},t._unhideContentForAndroid=function(){t._toggleContentForAndroid(!1)},t._toggleContentForAndroid=function(e){navigator.userAgent.toLowerCase().match("android")&&t.output.emit("state",{value:"hideContentForAndroid",hideContent:e})},t.requestAlertsDeliveryStatusHelpMessage=i,t.exitAlertsDeliveryStatusHelpMessage=i,t.skipBack=i}})),define("profileArea/alerts/alertsDelivery/lib/alertsDeliveryValidations",["require","appkit-utilities/validation/util"],(function(e){"use strict";return function(t){var i=e("appkit-utilities/validation/util"),n=/^\d{11}@/;return{nicknameDuplicate:function(e,n){var r=i.getProperty(e,n),a=n.tableRowIndex&&t.model.get("alertsDeliveryComponent.myAlertsDeliveryInfo")[n.tableRowIndex].alertsDeliveryNickname,o=t.model.get("nicknameList"),s=i.checkMissingMandatory(r);return a===r||(s.isValid&&(s=i.isValidFormat(r,/^[0-9A-Za-z ]*$/)),s.isValid&&o.includes(r)&&(s.isValid=!1,s.errorType="ALREADY_EXISTS")),s},emailDuplicate:function(e,n){var r=i.getProperty(e,n),a=t.model.get("emailList"),o=i.checkMissingMandatory(r);return o.isValid&&a.includes(r)&&(o.isValid=!1,o.errorType="ALREADY_EXISTS"),o},confirmEmailMatches:function(e,t){var n=i.getProperty(e,t),r=t.newEmailAddress,a=i.checkMissingMandatory(r);return a.isValid&&n!==r&&(a.isValid=!1,a.errorType="MISMATCHED_EMAIL_ADDRESS"),a},elevenDigitPhoneAsEmail:function(e,t){var r=i.getProperty(e,t);return n.test(r)?{isValid:!1,errorType:"EMAIL_ADDRESS_CANNOT_BE_PHONE_NUMBER"}:{isValid:!0,errorType:""}}}}})),define("profileArea/alerts/alertsDelivery/components/alertsDeliveryManageEmail",["require","profileArea/sharedLib/constants","profileArea/alerts/lib/settings","appkit-utilities/validation/componentValidate","profileArea/alerts/alertsDelivery/lib/alertsDeliveryValidations"],(function(e){"use strict";var t,i=".alertDeliveryForm-spinner",n=function(){},r=e("profileArea/sharedLib/constants"),a=e("profileArea/alerts/lib/settings");return function(o){var s=this;s.init=function(){var i=e("appkit-utilities/validation/componentValidate"),n=e("profileArea/alerts/alertsDelivery/lib/alertsDeliveryValidations")(o),r={alertsDeliveryNickname:[n.nicknameDuplicate],newEmailAddress:[n.emailDuplicate,n.elevenDigitPhoneAsEmail],confirmedEmailAddress:[n.confirmEmailMatches]};i.call(s,o,r),s.v={isFormValid:!1},s._validateNicknameFieldOnly(o.model.get("editNicknameOnly")),s.model.set("showAlertError",!1),t=o.dcu.dynamicContent},s.addEmailAlertsDeliveryInfo=function(){var e=s.model.get(),t={emailAddress:e.newEmailAddress,contentType:e.emailFormatType,type:e.type,nickname:e.alertsDeliveryNickname,indicator:e.indicator};o.commonComponentsUtil.showSpinner({target:i,overlayType:"FULLSCREEN"}),o.services.alertsDelivery["alertsDelivery.profile.email.add.svc"](t).then((function(){o.commonComponentsUtil.hideSpinner({target:i}),o.updateNicknameList({newNickname:e.alertsDeliveryNickname}),o.updateEmailList({newEmail:e.newEmailAddress}),s.destroy().then((function(){o.state(r.profileUrls["alertsDelivery.confirmAddEmailaddressForAlerts"])}))}),(function(){o.commonComponentsUtil.hideSpinner({target:i}),s.handleFormLevelServiceNetworkError()}))},s.doNotAddEmailAlertsDeliveryInfo=function(){s.output.emit("state",{value:"focusOnDropdown"}),o.state(r.profileUrls["alertsDelivery.updateMyAlertsDeliverySettings"],{action:"doNotEditProfile"})},s.updateEmailAlertsDeliveryInfo=function(){var e=s.model.get(),t=e.alertsDeliveryNickname.indexOf(a.alertsDeliveryProfiles.ELLIPSIS)>=0,n={id:e.id,status:e.status.toUpperCase(),contentType:e.emailFormatType,type:e.type,nickname:t?e.currentNickname:e.alertsDeliveryNickname,indicator:e.indicator};n.status===a.alertsDeliveryProfiles.PAUSED&&(n.status=a.alertsDeliveryProfiles.SUSPENDED),e.newEmailAddress&&(n.emailAddress=e.newEmailAddress),o.commonComponentsUtil.showSpinner({target:i,overlayType:"FULLSCREEN"}),o.services.alertsDelivery["alertsDelivery.profile.email.update.svc"](n).then((function(t){o.commonComponentsUtil.hideSpinner({target:i}),t.statusCode?s.handleFormLevelServiceNetworkError():(o.updateNicknameList({oldNickname:e.currentNickname,newNickname:e.alertsDeliveryNickname}),o.updateEmailList({oldEmail:e.currentEmailAddress,newEmail:e.newEmailAddress}),o.controller.showConfirmationMessage=!0,s.destroy().then((function(){o.state(r.profileUrls["alertsDelivery.confirmUpdateAlertsEmailAddress"],{statusCode:t.code,compType:"alertsDeliveryManageEmailComponent"})})))}),(function(){o.commonComponentsUtil.hideSpinner({target:i}),s.handleFormLevelServiceNetworkError()}))},s._validateNicknameFieldOnly=function(e){e?s.model.set("whiteList",["alertsDeliveryNickname"]):s.model.set("whiteList",["alertsDeliveryNickname","newEmailAddress","confirmedEmailAddress"])},s.doNotUpdateEmailAlertsDeliveryInfo=function(){o.state(r.profileUrls["alertsDelivery.updateMyAlertsDeliverySettings"],{action:"doNotEditProfile"})},s.updateAlertsEmailAddress=function(e){13!==e.domEvent.keyCode&&"click"!==e.domEvent.type||(s._validateNicknameFieldOnly(!1),s.model.set("updateAlertsEmailAddressSelectedState",!0),s._focusEmailEditOrNickName())},s._focusEmailEditOrNickName=function(){s.output.emit("state",{value:"emailEditOrNicknameFocus"})},s.focusOnManageEmailFormHeader=function(){s.output.emit("state",{value:"focusOnManageEmailFormHeader",id:s.model.get("id")})},s.updatePrimaryEmailAddress=function(e){13!==e.domEvent.keyCode&&"click"!==e.domEvent.type||o.controller.emit("showAlertsDeliveryEditPrimaryEmailConfirmation")},s.handleFormLevelServiceNetworkError=function(){o.commonComponentsUtil.hideSpinner({target:i}),t.set(s,"manageEmailAlertsDeliveryErrorHeader","SYSTEM_FAILURE"),t.set(s,"manageEmailAlertsDeliveryErrorAdvisory","SYSTEM_FAILURE"),s.model.set("showAlertError",!0)},s._handleSkiplinkPress=function(e){o.profileUtil.skipIfEnterSpaceOrClick(s,e,"skipBack"),s._focusEmailEditOrNickName()},s.checkDirty=function(){s.model.set("isFormDirty",o.dirtyForm.dirtyCheckAll().isDirty)},s.skipBack=n,s.requestConfirmationMessageDetails=n,s.exitConfirmationMessageDetails=n,s.requestErrorMessageDetails=n,s.exitErrorMessageDetails=n}})),define("profileArea/alerts/alertsDelivery/components/alertsDeliveryManagePush",["require","profileArea/sharedLib/constants","profileArea/alerts/lib/settings","appkit-utilities/validation/componentValidate","profileArea/alerts/alertsDelivery/lib/alertsDeliveryValidations"],(function(e){"use strict";var t=null,i=function(){},n=e("profileArea/sharedLib/constants"),r=e("profileArea/alerts/lib/settings");return function(a){var o=this;o.init=function(){var i=e("appkit-utilities/validation/componentValidate"),n={alertsDeliveryNickname:[e("profileArea/alerts/alertsDelivery/lib/alertsDeliveryValidations")(a).nicknameDuplicate]};i.call(o,a,n),o.v={isFormValid:!1},o.model.set("whiteList",["alertsDeliveryNickname"]),o.model.set("showAlertError",!1),t=a.dcu.dynamicContent},o.updatePushAlertsDeliveryInfo=function(){var e=o.model.get(),t=".alertDeliveryForm-spinner",i=e.alertsDeliveryNickname.indexOf(r.alertsDeliveryProfiles.ELLIPSIS)>=0,s={id:e.id,status:e.status.toUpperCase(),contentType:e.contentType,type:e.type,nickname:i?e.currentNickname:e.alertsDeliveryNickname,indicator:e.indicator};s.status===r.alertsDeliveryProfiles.PAUSED&&(s.status=r.alertsDeliveryProfiles.SUSPENDED),a.commonComponentsUtil.showSpinner({target:t,overlayType:"FULLSCREEN"}),a.services.alertsDelivery["alertsDelivery.profile.push.update.svc"](s).then((function(i){a.commonComponentsUtil.hideSpinner({target:t}),i.statusCode?o.handleFormLevelServiceNetworkError():(a.updateNicknameList({oldNickname:e.currentNickname,newNickname:e.alertsDeliveryNickname}),a.controller.showConfirmationMessage=!0,"pushapple"===e.type||"PUSHAPPLE"===e.type?a.state(n.profileUrls["alertsDelivery.confirmUpdateAlertsAppleNotifications"],{statusCode:i.code,compType:"alertsDeliveryManageAppleComponent"}):a.state(n.profileUrls["alertsDelivery.confirmUpdateAlertsAndroidNotifications"],{statusCode:i.code,compType:"alertsDeliveryManageAndroidComponent"}),o.output.emit("ractiveModelCacheReset"),o.destroy())}),(function(){a.commonComponentsUtil.hideSpinner({target:t}),o.handleFormLevelServiceNetworkError()}))},o.doNotUpdatePushAlertsDeliveryInfo=function(){a.state(n.profileUrls["alertsDelivery.updateMyAlertsDeliverySettings"],{action:"doNotEditProfile"})},o.focusOnEditPushFormHeader=function(){o.output.emit("state",{value:"focusOnEditPushFormHeader",id:o.model.get("id")})},o.handleFormLevelServiceNetworkError=function(){t.set(o,"updatePushAlertsDeliveryErrorHeader","SYSTEM_FAILURE"),t.set(o,"updatePushAlertsDeliveryErrorAdvisory","SYSTEM_FAILURE"),o.model.set("showAlertError",!0)},o._handleSkiplinkPress=function(e){a.profileUtil.skipIfEnterSpaceOrClick(o,e,"skipBack")},o.checkDirty=function(){o.model.set("isFormDirty",a.dirtyForm.dirtyCheckAll().isDirty)},o.skipBack=i,o.requestConfirmationMessageDetails=i,o.exitConfirmationMessageDetails=i,o.requestErrorMessageDetails=i,o.exitErrorMessageDetails=i}})),define("profileArea/alerts/alertsDelivery/components/alertsDeliveryManagePhone",["require","profileArea/sharedLib/constants","profileArea/alerts/lib/settings","appkit-utilities/validation/componentValidate","profileArea/alerts/alertsDelivery/lib/alertsDeliveryValidations"],(function(e){"use strict";var t,i=function(){},n=e("profileArea/sharedLib/constants"),r=e("profileArea/alerts/lib/settings");return function(a){var o=this;o.init=function(){var i=e("appkit-utilities/validation/componentValidate"),n={alertsDeliveryNickname:[e("profileArea/alerts/alertsDelivery/lib/alertsDeliveryValidations")(a).nicknameDuplicate]};i.call(o,a,n),o.v={isFormValid:!1},o.model.set("whiteList",["alertsDeliveryNickname"]),o.model.set("showAlertError",!1),t=a.dcu.dynamicContent},o.updatePhoneAlertsDeliveryInfo=function(){var e=o.model.get(),t=".alertDeliveryForm-spinner",i=e.alertsDeliveryNickname.indexOf(r.alertsDeliveryProfiles.ELLIPSIS)>=0,s={id:e.id,status:e.status.toUpperCase(),contentType:e.contentType,type:e.type,nickname:i?e.currentNickname:e.alertsDeliveryNickname,indicator:e.indicator,timeZone:e.alertDeliveryDateTimezone,blackoutStartHour:e.securityAlertsSentStatus?e.securityAlertsNotSentFrom:0,blackoutEndHour:e.securityAlertsSentStatus?e.securityAlertsNotSentTo:0},c=o.model.get("profileDataPath");s.status===r.alertsDeliveryProfiles.PAUSED&&(s.status=r.alertsDeliveryProfiles.SUSPENDED),a.commonComponentsUtil.showSpinner({target:t,overlayType:"FULLSCREEN"}),a.services.alertsDelivery["alertsDelivery.profile.sms.update.svc"](s).then((function(i){a.commonComponentsUtil.hideSpinner({target:t}),i.statusCode?o.handleFormLevelServiceNetworkError():(a.updateNicknameList({oldNickname:e.currentNickname,newNickname:e.alertsDeliveryNickname}),a.controller.showConfirmationMessage=!0,a.model.set("alertsDeliveryManageProfilePhoneData.alertsDeliveryNickname",e.alertsDeliveryNickname),a.model.set("alertsDeliveryComponent."+c+".blackoutStartHour",s.blackoutStartHour),a.model.set("alertsDeliveryComponent."+c+".blackoutEndHour",s.blackoutEndHour),a.model.set("alertsDeliveryComponent."+c+".timeZone",s.timeZone),a.state(n.profileUrls["alertsDelivery.confirmUpdateAlertsMobileNumber"],{statusCode:i.code,compType:"alertsDeliveryManagePhoneComponent"}),o.output.emit("ractiveModelCacheReset"),o.destroy())}),(function(){a.commonComponentsUtil.hideSpinner({target:t}),o.handleFormLevelServiceNetworkError()}))},o.setInitialBlackoutTimes=function(e){o.model.set("originalStart",e.originalStart),o.model.set("originalEnd",e.originalEnd)},o.doNotUpdatePhoneAlertsDeliveryInfo=function(){a.state(n.profileUrls["alertsDelivery.updateMyAlertsDeliverySettings"],{action:"doNotEditProfile"})},o.focusOnEditPhoneFormHeader=function(){o.output.emit("state",{value:"focusOnEditPhoneFormHeader",id:o.model.get("id")})},o.handleFormLevelServiceNetworkError=function(){t.set(o,"updatePhoneAlertsDeliveryErrorHeader","SYSTEM_FAILURE"),t.set(o,"updatePhoneAlertsDeliveryErrorAdvisory","SYSTEM_FAILURE"),o.model.set("showAlertError",!0)},o.updatePhoneNumber=function(e){13!==e.domEvent.keyCode&&"click"!==e.domEvent.type||(a.services.alertsDelivery["myProfile.phone.refresh.list.svc"](),a.state(n.profileUrls["textBanking.activatePhoneBanking"],{fromAlertsDelivery:!0}))},o._toggleSubmitButton=function(e){var t=o.model.get(),i=!0,n=o.model.get("profileDataPath");if("doNotSendTextFromOptionSelected"===e){var r=o.model.get("originalEnd"),s=o.model.get("securityAlertsNotSentTo");i=a.model.get("alertsDeliveryComponent."+n+".blackoutStartHour")!==t.securityAlertsNotSentFrom||s!==r}else if("doNotSendTextToOptionSelected"===e){var c=o.model.get("originalStart"),l=o.model.get("securityAlertsNotSentFrom");i=a.model.get("alertsDeliveryComponent."+n+".blackoutEndHour")!==t.securityAlertsNotSentTo||l!==c}else{i=a.model.get("alertsDeliveryComponent."+n+".timeZone")!==t.alertDeliveryDateTimezone}o.output.emit("state",{value:"toggleSubmitButton",disabled:!i})},o._sameTimeSelected=function(e){e&&t.set(o,"securityAlertsNotSentToError",e?"FUTURE_ALERT_DELIVERY":""),o.output.emit("state",{value:"sameTimeSelected",same:e})},o.onToTimeChange=function(e){if(13===e.domEvent.keyCode||32===e.domEvent.keyCode||"tap"===e.domEvent.type){var t=o.model.get("securityAlertsNotSentFrom"),i="styledselects.1.securityAlertsNotSentToOptions."+e.dataPath.split(".")[1]+".value",n=o.model.get(i);o.model.set("securityAlertsNotSentTo",n),t!==n&&o._toggleSubmitButton("doNotSendTextToOptionSelected"),o._sameTimeSelected(t===n)}},o.onFromTimeChange=function(e){if(13===e.domEvent.keyCode||32===e.domEvent.keyCode||"tap"===e.domEvent.type){var t=o.model.get("securityAlertsNotSentTo"),i="styledselects.0.securityAlertsNotSentFromOptions."+e.dataPath.split(".")[1]+".value",n=o.model.get(i);o.model.set("securityAlertsNotSentFrom",n),n!==t&&o._toggleSubmitButton("doNotSendTextFromOptionSelected"),o._sameTimeSelected(n===t)}},o.onTimezoneChange=function(e){if(13===e.domEvent.keyCode||32===e.domEvent.keyCode||"tap"===e.domEvent.type){var t="styledselects.2.alertDeliveryDateTimezoneOptions."+e.dataPath.split(".")[1]+".value",i=o.model.get(t);o.model.set("alertDeliveryDateTimezone",i),o._toggleSubmitButton("doNotSendTextTimeZoneOptionSelected")}},o._handleSkiplinkPress=function(e){a.profileUtil.skipIfEnterSpaceOrClick(o,e,"skipBack"),o.output.emit("state",{value:"placeSkipFocus"})},o.checkDirty=function(){o.model.set("isFormDirty",a.dirtyForm.dirtyCheckAll().isDirty)},o.skipBack=i,o.requestConfirmationMessageDetails=i,o.exitConfirmationMessageDetails=i,o.requestErrorMessageDetails=i,o.exitErrorMessageDetails=i}})),define("profileArea/alerts/alertsDelivery/components/alertsDeliveryDeleteProfile",["require","appkit-utilities/analytics/overlay","profileArea/sharedLib/constants"],(function(e){"use strict";var t=e("appkit-utilities/analytics/overlay"),i=e("profileArea/sharedLib/constants");return function(e){var n=this;n.init=function(){},n.deleteMyAlertsDeliveryInfo=function(){n.destroyView(),e.commonComponentsUtil.showSpinner({target:"#alerts-delivery-container",overlayType:"FULLSCREEN",append:!0});var t={id:n.model.get("id")};return e.services.alertsDelivery["alertsDelivery.profile.delete.svc"](t).then((function(i){e.controller.emit("removeDeleted",{id:n.model.get("id")}),n._handleDeleteService(i.code,t.id)}),(function(){n._handleDeleteService(e.stringMap.get("alertsDeliveryProfiles").SERVICE_FAILURE)}))},n._handleDeleteService=function(t){e.updateNicknameList({oldNickname:n.model.get().nickname}),e.updateEmailList({oldEmail:n.model.get().email}),n.profileDataPath=n.model.get("dataPath"),e.state(i.profileUrls["alertsDelivery.confirmDeleteMyAlertsDeliveryInfo"],{statusCode:t,nickname:n.model.get("nickname")}),e.commonComponentsUtil.hideSpinner({target:"#alerts-delivery-container"})},n.doNotDeleteMyAlertsDeliveryInfo=function(){var r="#removeAlertsDeliveryLink"+n.model.get("dataPath").split(".")[1];n.output.emit("state",{value:"focusOnRemoveLinkForAlert",id:r}),t.hideOverlay(n,n.model.get("stateName"),"doNotDeleteMyAlertsDeliveryInfo"),n.destroyView(),e.state(i.profileUrls["alertsDelivery.updateMyAlertsDeliverySettings"],{action:"doNotDeleteProfile"})},n.focusOnModalHeader=function(){n.output.emit("state",{value:"focusOnModalHeader"})}}})),define("profileArea/alerts/alertsDelivery/components/updatePrimaryEmail",["require","appkit-utilities/analytics/overlay","blue/root","common/lib/utility/hybridMixin","profileArea/sharedLib/navigation/navigation"],(function(e){"use strict";var t=e("appkit-utilities/analytics/overlay"),i=e("blue/root").hybrid,n=e("common/lib/utility/hybridMixin"),r=null;return{init:function(){(r=this).commonComponentsUtil=r.context.commonComponentsUtilWrapper(r),r.navigation=e("profileArea/sharedLib/navigation/navigation"),n.call(r)},confirmUpdatePrimaryEmailAddress:function(){var e=r.model.get("fromInterceptOrInterstitial");return r.context.splitIOFeatureFlags.getFeatureTreatments(["cxo_profile_alertsDelivery_lock_email"],{cxo_profile_alertsDelivery_lock_email:!0}).then((function(t){i||e||t.cxo_profile_alertsDelivery_lock_email?r.context.state(r.context.profileUrls.emailUrl):r.context.area.broadcast("setPrimaryEmailEdit",{state:"emailAddressDetails",request:{type:"editPrimaryForAlerts"}}),r.destroyView()}))},doNotUpdatePrimaryEmailAddress:function(){this.focusOnEditPrimaryEmailLink(),t.hideOverlay(this,this.model.get("stateName"),"doNotUpdatePrimaryEmailAddress"),i&&r.context.application.broadcast("exitUpdatePrimaryEmailAddress"),this.destroyView()},focusOnEditPrimaryEmailLink:function(){this.output.emit("state",{value:"focusOnEditPrimaryEmailLink"})},focusOnEditPrimaryEmailModalHeader:function(){this.output.emit("state",{value:"focusOnEditPrimaryEmailModalHeader"})}}})),define("profileArea/alerts/alertsDelivery/components/communicationsMaintenance",[],(function(){"use strict";return function(e){this.dismissMaintenanceModeDialog=function(){e.state("dashboard/profileArea/overview/requestMyProfileOverview")}}})),define("profileArea/accountSettings/customGroups/lib/customGroupsHelper",["require","common/lib/formatter","common/lib/jsBridge"],(function(e){"use strict";var t=e("common/lib/formatter"),i=e("common/lib/jsBridge");return{predefinedAccountGroupIds:["group-deposit-","group-liability-","group-investment-","group-all-","group-cwm-investment-"],predefinedAccountMapper:{"group-deposit-":"bankAccounts","group-liability-":"creditAccounts","group-investment-":"investmentAccounts","group-all-":"allAccounts","group-cwm-investment-":"investmentAccounts",charity:"charitableAccounts"},accountsCategoryMapper:{DEPOSIT:"bankAccounts",LIABILITY:"creditAccounts",INVESTMENT:"investmentAccounts",DAF:"charitableAccounts"},selectAllMapper:{"group-deposit-":"allBankAccountsSelected","group-liability-":"allCreditAccountsSelected","group-investment-":"allInvestmentAccountsSelected","group-cwm-investment-":"allInvestmentAccountsSelected",charity:"allCharitableAccountsSelected"},predefinedContentMapper:{"group-deposit-":"allBankAccountsLabel","group-liability-":"allCreditAccountsLabel","group-investment-":"allInvestmentAccountsLabel","group-all-":"allAccountsLabel","group-cwm-investment-":"allInvestmentAccountsLabel"},customGroupTarget:"#custom-groups-content",UrlMapper:{add:"addCustomGroupUrl",edit:"editCustomGroupUrl",confirm:"confirmCustomGroupUrl",request:"requestCustomGroupUrl",order:"orderCustomGroupUrl",details:"requestCustomGroupDetailsUrl",defaultGroups:"requestdefaultGroupsUrl"},addGroupErrorMapper:{PROFILE_HAS_MAX_ACCOUNTGROUPS:"MAXIMUM_NUMBER_GROUPS_REACHED",ACCOUNTGROUP_HAS_MAX_ACCOUNTS:"MAXIMUM_NUMBER_ACCOUNTS_IN_GROUP_REACHED",ACCOUNTGROUP_NAME_ALREADY_EXISTS:"GROUP_NAME_ALREADY_USED"},groupNameMaxLength:36,CONSTANTS:{CHARITY:"charity",CHARITABLEACCOUNTS:"charitableAccounts",add:"add"},formatJumboAccountNum:function(e){var i=e.mask||"";return i.length>4?i:t.addEllipsisToMaskNumber(i)},cancelStep:function(e){return function(){i.onFinish(e,null,!0)}},componentAction:function(e,t){return function(){return e.trigger(t),!0}}}})),define("profileArea/accountSettings/customGroups/controllers/customGroups",["profileArea/accountSettings/customGroups/lib/customGroupsHelper","common/lib/focusUtil","appkit-utilities/accountInfo/accountInfo","profileArea/sharedLib/apptelTracker"],(function(e,t,i,n){"use strict";return function(r){var a=this,o=r.dashboardSettings,s=r.dcu.dynamicContent,c=e.predefinedAccountGroupIds,l=e.predefinedAccountMapper,d=e.predefinedContentMapper,u=e.UrlMapper,p=e.accountsCategoryMapper,m=e.CONSTANTS,f=new i,A={customGroups:"customGroups",addGroups:"addCustomGroups",editGroups:"addCustomGroups",confirmPage:"customGroups",container:"customGroupContainer",customGroupDetails:"customGroupDetails",defaultGroupSelection:"defaultGroupSelection",orderGroups:"orderGroups"},g=function(e,t){a.model.set(e,t)},E=function(t,i,n){var o,s,u,A=t[1].accountGroups,E=t[0].accountGroups,y=t[0].accounts,h=r.config.maxAccountGroupSize,v="group-all-",C=-1,_=f.isGWMUser(),S={},T=[],N={accountGroupId:m.CHARITY,accountGroupName:m.CHARITY,accounts:[]};if(u=function(t){return(t||[]).forEach((function(t){t.maskedAccountNumber=e.formatJumboAccountNum(t)})),t},s=function(e){return e&&e.length>h},E&&E.forEach((function(e){e.isExpanded=e.accountGroupName===n,e.groupIndex=++C,e.defaultGroup&&(v=e.accountGroupId),s(e.accounts)&&(e.isJumbo=!0,e.defaultGroup&&(v="")),e.defaultGroup&&(o=!0),e.accounts=u(e.accounts)})),A.forEach((function(e){var t=e.accountGroupId,n=_?e.balance:e.positions;if(-1!==c.indexOf(t)&&n){var r=d[t],u=l[t];e.accountGroupHeader=a.model.get(i+"."+r),e.defaultGroup&&(v=t),s(e.accountIds)&&(e.isJumbo=!0,e.defaultGroup&&(v="")),e.groupIndex=++C,!o&&e.defaultGroup&&(o=!0),S[u]=e,S[u].accounts=[]}})),!o){var I=S[l["group-all-"]];I&&(I.defaultGroup=!0)}y.forEach((function(e){var t=p[e.accountCategoryType],i=t&&S[t]||{};i&&i.accounts&&i.accounts.push(e),t===m.CHARITABLEACCOUNTS&&N.accounts.push(e),i.accounts=u(i.accounts)})),u(N.accounts),Object.keys(S).forEach((function(e){T.push(S[e])})),g(i+".defaultGroupId",v),g(i+".customGroups",E),g(i+".predefinedAccountGroup",T),g(i+".investmentAccounts",S.investmentAccounts),g(i+".bankAccounts",S.bankAccounts),g(i+".creditAccounts",S.creditAccounts),g(i+".charitableAccounts",N),g(i+".maxAccountsAllowed",h),g(i+".maxGroupsAllowed",t.maxGroupsAllowed)},y=function(e){return a.executeCAV([[a.components[e],A[e],r.renderTarget]])};a.init=function(){r.on("getAccountGroups",(function(e){var t=e.modelName;a.getAccountGroups(!0).then((function(i){E(i,t,e.groupName)}))})),r.on("updateHeaderForDetailsView",(function(e){g("customGroups.customGroupName",e.customGroupName)}))},a.requestManageCustomGroups=function(e){r.profileContainer.setPageProperties({pageTitle:s.get(a.components.customGroups,"manageCustomGroupsHeader"),containerClasses:"legacy-profile-styles"});var t=e&&e.removalCustomGroupName,i=e&&e.removeError,o=e&&e.makeDefault,c=t||o||!1,l="customGroups";return y(l).then((function(){return a.getAccountGroups(c).then((function(e){E(e,l),t&&(g("customGroups.removalCustomGroupName",decodeURIComponent(t)),g("customGroups.customGroupRemoved",!0)),i&&g("customGroups.customGroupRemovalError",!0),o&&(r.application.gwmShowingDropdownDefaultValue=a.model.get("customGroups.defaultGroupId")),n.logLeaveAction("$$Profile_Accts")}))}))},a.details=function(e){var t=e&&e.groupId;t||(r.logger.error("Custom group id not found."),r.state(o[u.request])),y("customGroupDetails").then((function(){a.getAccountGroups().then((function(e){a.components.customGroupDetails.setModelForDetailsView(e[0].accountGroups,t)}))}))},a.defaultGroups=function(){var e="defaultGroupSelection";y(e).then((function(){a.getAccountGroups().then((function(t){E(t,e)}))}))},a.add=function(e){var t="addGroups";y(t).then((function(){a.getAccountGroups().then((function(i){e.retainValue||(g("addGroups.customGroupName",""),g("addGroups.customGroupAccounts",[])),E(i,t)}))}))},a.order=function(e){var i="orderGroups",n=a.model.get(e.mode+"Groups.customGroupAccounts"),r=a.model.get(e.mode+"Groups.customGroupName"),o=a.model.get("editGroups.editGroupId");y(i).then((function(){a.getAccountGroups().then((function(e){E(e,i),g("orderGroups.customGroupAccounts",n),g("orderGroups.customGroupName",r),g("orderGroups.editGroupId",o),a.components.orderGroups.setModelForOrderView(e),t.scrollToTopOfPage()}))}))},a.confirm=function(e){var t=e.groupName,i="edit"===e.mode,n="confirmPage";y(n).then((function(){a.getAccountGroups(!0).then((function(e){E(e,n,t),g(i?"confirmPage.customGroupUpdated":"confirmPage.customGroupAdded",t)}))}))},a.edit=function(e){var t=e&&e.groupId,i="editGroups";t||(r.logger.error("Custom group id not found."),r.state(o[u.request])),y(i).then((function(){a.getAccountGroups().then((function(n){e.retainValue||a.components.editGroups.setModelForEditView(n[0].accountGroups,t),E(n,i)}))}))},a.container=function(){r.privateState("/dashboard/myProfileCore/manageCustomGroups/index")},a.getAccountGroups=function(e){var t={spinner:{target:"#spinner-container",delay:1e3}};return new Promise((function(i,n){var o=a.model.get("customGroups.accountGroups");o&&!e?i(o):Promise.all([r.services.customGroups.get(t),r.services.customGroups.list()]).then((function(e){g("customGroups.accountGroups",e),i(e)}),(function(e){n(),r.logger.error("Account group service call failed -- ",e)}))}))}}})),define("profileArea/accountSettings/customGroups/components/customGroups",["profileArea/accountSettings/customGroups/lib/customGroupsHelper","appkit-utilities/analytics/overlay","profileArea/sharedLib/profileMixin","profileArea/sharedLib/constants","appkit-utilities/common/mediaQueryListener","common/lib/ada/setFocus","common/lib/focusUtil","appkit-utilities/accountInfo/accountInfo"],(function(e,t,i,n,r,a,o,s){"use strict";return function(c){var l,d,u=c.dashboardSettings,p=e.addGroupErrorMapper,m=e.UrlMapper,f="cancelCustomGroupOverlay",A="requestCreateCustomGroupOverlay",g=n.ERROR_TYPE,E=function(){this.bankAccounts=[],this.investmentAccounts=[],this.creditAccounts=[],this.charitableAccounts=[],this.accountCustomGroupsErrorHeader="",this.customGroupAdded=!1,this.customGroupRemoved=!1,this.customGroupUpdated=!1,this.customGroupRemovalError=!1,this.manageCustomGroupsConfirmationHeader="",this.customGroupNameError="",this.dirtyComponent=!1},y=function(e){l.setMultiple(d,[{key:"accountCustomGroupsErrorHeader",variation:e},{key:"accountCustomGroupsErrorAdvisory",variation:e}])},h=function(e,t){var i={groupName:d.customGroupName},n={edit:"accountIds",add:"accounts"};"edit"===t&&(i.mode=t),d.reorderedCustomGroupAccounts.forEach((function(i,r){e[n[t]+"["+r+"]"]=i.id})),c.services.customGroupsService[{edit:"update",add:"add"}[t]](e).then((function(e){e.statusCode?y(p[e.statusCode]):(c.hybrid&&c.hybridHelper&&c.hybridHelper.webNativeMessenger&&c.hybridHelper.webNativeMessenger.refreshProfile("updatePortfolioSummaryGroups"),c.state(u[m.confirm],i))}),(function(e){c.logger.error("Service call failed",e),y(g.SYSTEM_FAILURE)}))};this.init=function(){var e=new s,t=/^[a-z0-9#^{}|,.?+_\s]+$/i,n=e.isGWMUser();d=this;var r=this.model.get(),a=c.state().action;r.isGWMUser=n,r.isEdit=[a.name,a.params.mode].indexOf("edit")>-1,this.model.set(r),E.call(this),i.call(this),l=c.dcu.dynamicContent,c.globalContentMixin.call(this,["openParenthesesSymbol","closeParenthesesSymbol","checkmarkAda","importantAda","errorAnnouncementAda","horizontalEllipsisSymbol","beginHelpMessageAda","endHelpMessageAda","exitHelpMessageAda","hyphenSymbol","requestProfileSettingsMenuAda","checkMarkAda"]),l.set(d,"customGroupAccountsAdvisory",{maximumAccountsInGroup:c.config.maxAccountGroupSize}),this.model.onValue("customGroups",(function(t){var i;i=e.isGWMUser()?"MANAGE_GROUPS":t&&t.length?"INVESTMENT_MANAGE_GROUPS":"EXPANDED_CUSTOM_GROUP",l.set(this,"manageCustomGroupsAdvisory",i)}),{scope:this}),this.model.onValue("customGroupName",(function(e){var i=this.v||{};i.isGroupNameValid=Boolean(e)&&t.test(e.trim()),this.v=i}),{scope:this}),this.model.onValue("customGroupAdded",(function(e){e&&l.set(this,"manageCustomGroupsConfirmationHeader","ADDITION")}),{scope:this}),this.model.onValue("customGroupRemoved",(function(e){e&&l.set(this,"manageCustomGroupsConfirmationHeader",{removalCustomGroupName:this.removalCustomGroupName},"REMOVAL")}),{scope:this}),this.model.onValue("customGroupUpdated",(function(e){e&&l.set(this,"manageCustomGroupsConfirmationHeader","UPDATE")}),{scope:this}),this.model.onValue("customGroupRemovalError",(function(e){e&&l.setMultiple(this,[{key:"accountCustomGroupsErrorHeader",variation:g.SYSTEM_FAILURE},{key:"accountCustomGroupsErrorAdvisory",variation:g.SYSTEM_FAILURE}])}),{scope:this}),d.output.on("ready",(function(){d.input.on("requestAddCustomGroup",(function(){d.requestAddCustomGroup()}))}))},this.requestAddCustomGroup=function(){c.state(u[m.add])},this.validateGroupName=function(){this.v.isGroupNameValid?this.customGroupNameError="":l.set(this,"customGroupNameError",this.customGroupName?"INVALID_FORMAT":"MISSING_MANDATORY_DATA")},this.requestRemoveCustomGroup=function(e){this.customGroupAdded=!1,this.customGroupRemoved=!1,t.showOverlay(this,"removeCustomGroupOverlay","requestRemoveCustomGroup"),this.removeCustomGroupOverlay=!0,this.removalCustomGroupName=e.context.groupName||this.customGroupName,this.customGroupId=e.context.groupId||this.customGroupId,l.set(this,"removeCustomGroupMessage",{removalCustomGroupName:this.removalCustomGroupName})},this.cancelStep=function(){t.showOverlay(this,f,"cancelStep"),this.cancelCustomGroupOverlay=!0},this.requestPreviousStep=function(){this.dirtyComponent?(t.showOverlay(this,A,"requestPreviousStep"),this.requestCreateCustomGroupOverlay=!0):c.state(c.routeHistory.getHistory(1).url,{retainValue:!0})},this.confirmCreateCustomGroup=function(){this.requestCreateCustomGroupOverlay=!1,t.hideOverlay(this,A,"confirmCreateCustomGroup"),c.state(c.routeHistory.getHistory(1).url,{retainValue:!0})},this.doNotConfirmCreateCustomGroup=function(){this.requestCreateCustomGroupOverlay=!1,t.hideOverlay(this,A,"doNotConfirmCreateCustomGroup")},this.confirmCancel=function(){this.cancelCustomGroupOverlay=!1,!c.hybrid&&t.hideOverlay(this,f,"confirmCancel"),c.state(u[m.request])},this.doNotCancel=function(){this.cancelCustomGroupOverlay=!1,t.hideOverlay(this,f,"doNotCancel")},this.requestEditCustomGroup=function(e){c.state(u[m.edit],{groupId:e.context.groupId||this.customGroupId})},this.exitStep=function(){this.accountCustomGroupsErrorHeader="";var e={accountGroupName:this.customGroupName,spinner:{target:"#content",delay:1e3}};h(e,"add")},this.requestNextStep=function(){var t,i=d.model.get("editGroupId"),n=c.state().action.name,r=d.customGroups||[],s=d.customGroupAccounts.length-d.model.get("maxAccountsAllowed"),u=d.customGroupAccounts.length>d.model.get("maxAccountsAllowed"),m=r.length>d.maxGroupsAllowed;l=c.dcu.dynamicContent;for(var f=0;f<r.length;f++){var A=r[f];if(("edit"!==n||-1===A.accountGroupId.indexOf(i))&&(t=A.accountGroupName===d.customGroupName))break}t?y(p.ACCOUNTGROUP_NAME_ALREADY_EXISTS):u?(d.exceedsMaxAccounts=!0,function(e,t){var i={numberOfAccounts:t};l.set(d,"accountCustomGroupsErrorHeader",e),l.set(d,"accountCustomGroupsErrorAdvisory",e,i)}(p.ACCOUNTGROUP_HAS_MAX_ACCOUNTS,s),a("#inner-add-group-error"),o.scrollToTopOfPage()):m&&n===e.CONSTANTS.add?y(p.PROFILE_HAS_MAX_ACCOUNTGROUPS):(this.setModelForOrderView(),n===e.CONSTANTS.add?this.exitStep():this.exitEditCustomGroupStep())},this.setModelForOrderView=function(){var e=[];d.predefinedAccountGroup.forEach((function(t){t.accounts&&t.accounts.forEach((function(t){-1!==d.customGroupAccounts.indexOf(t.accountId)&&e.push(d.buildAccountDetails(t))}))})),d.charitableAccounts.accounts&&d.charitableAccounts.accounts.forEach((function(t){-1!==d.customGroupAccounts.indexOf(t.accountId)&&e.push(d.buildAccountDetails(t))})),d.accounts=e,d.reorderedCustomGroupAccounts=d.accounts},this.buildAccountDetails=function(t){var i=t.mask||"",n=t.accountPrefix&&i.length<=4?t.accountPrefix:"";return{id:t.accountId,nickname:t.nickname,accountPrefix:n,accountWithMask:e.formatJumboAccountNum(t)}},this.arrangeOrderOfAccountGroup=function(){d.dirtyComponent=!0},this.exitEditCustomGroupStep=function(){this.accountCustomGroupsErrorHeader="";var e={accountGroupId:this.model.get("editGroupId"),accountGroupName:this.customGroupName,spinner:{target:"#content",delay:1e3}};h(e,"edit")},this.setModelForEditView=function(e,t){var i=e.filter((function(e){return t===e.accountGroupId}));if(0===i.length)c.state(u[m.request]);else{var n=[];i[0].accounts.forEach((function(e){n.push(e.accountId)}),this),this.model.set("editGroupId",t),this.customGroupName=i[0].accountGroupName,this.customGroupAccounts=n}},this.setModelForDetailsView=function(e,t){var i=e.filter((function(e){return t===e.accountGroupId}));0===i.length?c.state(u[m.request]):(this.customGroupId=t,this.customGroupName=i[0].accountGroupName,this.customGroupAccounts=i[0].accounts,c.controller.emit("updateHeaderForDetailsView",{customGroupName:this.customGroupName}))},this.confirmRemoveCustomGroup=function(e){c.hybrid?(d.removalCustomGroupName=e.context.groupName||d.customGroupName,d.customGroupId=e.context.groupId||d.customGroupId):t.hideOverlay(d,"removeCustomGroupOverlay","confirmRemoveCustomGroup");var i=r.currentBreakpoint===r.BREAKPOINT.XS,n={accountGroupId:d.customGroupId,spinner:{target:"#content",delay:1e3}};d.manageCustomGroupsConfirmationHeader="",d.removeCustomGroupOverlay=!1,d.accountCustomGroupsErrorHeader="",c.services.customGroupsService.delete(n).then((function(){c.hybrid&&c.hybridHelper&&c.hybridHelper.webNativeMessenger&&c.hybridHelper.webNativeMessenger.refreshProfile("updatePortfolioSummaryGroups"),i?c.state(u[m.request],{removalCustomGroupName:encodeURIComponent(d.removalCustomGroupName)}):(d.customGroupRemoved=!0,c.controller.emit("getAccountGroups",{modelName:d.key})),d.customGroupId===c.application.gwmShowingDropdownDefaultValue&&(c.application.gwmShowingDropdownDefaultValue="")}),(function(e){i?c.state(u[m.request],{removeError:"true"}):y(g.SYSTEM_FAILURE),c.logger.error("Service call failed",e)}))},this.cancelRemoveCustomGroup=function(){t.hideOverlay(this,"removeCustomGroupOverlay","cancelRemoveCustomGroup"),this.removeCustomGroupOverlay=!1,this.output.emit("state",{target:this,value:"setFocusOnRemoveLink",customGroupId:this.customGroupId})},this.requestGetStartedCustomGroup=function(){c.state(u[m.add])},this.requestAllInvestmentAccounts=function(e){this.allInvestmentAccountsSelected=e.context.checked,this.updateCustomGroupAccounts(this.investmentAccounts.accounts,e.context.checked)},this.requestAllCreditAccounts=function(e){this.allCreditAccountsSelected=e.context.checked,this.updateCustomGroupAccounts(this.creditAccounts.accounts,e.context.checked)},this.requestAllBankAccounts=function(e){this.allBankAccountsSelected=e.context.checked,this.updateCustomGroupAccounts(this.bankAccounts.accounts,e.context.checked)},this.requestAllCharitableAccounts=function(e){this.allCharitableAccountsSelected=e.context.checked,this.updateCustomGroupAccounts(this.charitableAccounts.accounts,e.context.checked)},this.updateCustomGroupAccounts=function(e,t){var i=c.util.object.deepClone(this.customGroupAccounts||[]);e.forEach((function(e){var n=i.indexOf(e.accountId);t?-1===n&&i.push(e.accountId):-1!==n&&i.splice(n,1)}),this),this.customGroupAccounts=i},this.exitManageCustomGroups=function(){c.state(this.model.get("prevUrl")||u.dashboardUrl)},this.requestAccountCustomGroups=function(e){r.currentBreakpoint===r.BREAKPOINT.XS&&c.state(u[m.details],{groupId:e.context.accountGroupId})},this.requestManageCustomGroupsPage=function(){c.state(u[m.request])},this.requestDefaultGroup=function(){c.state(u[m.defaultGroups])},this.confirmDefaultGroup=function(e){var t={accountGroupId:e.context.groupId||this.defaultGroupId,spinner:{target:"#content",delay:1e3}};c.services.customGroupsService.default(t).then((function(){c.userPreferences.set("gwmDashboardContextParams",void 0),c.hybrid&&c.hybridHelper&&c.hybridHelper.webNativeMessenger&&c.hybridHelper.webNativeMessenger.refreshProfile("updatePortfolioSummaryGroups"),c.state(u[m.request],{makeDefault:"true"});var e=c.routeHistory.lastRoute("exitMyProfile"),i=e&&e.trim(),n=i&&i.split(";");for(var r in n)if(-1!==n[r].indexOf("ai=")){n[r]="ai="+t.accountGroupId;var a=n.join(";");c.routeHistory.saveRoute("exitMyProfile",a);break}}),(function(e){c.logger.error("Service call failed",e),y(g.SYSTEM_FAILURE)}))},this.doNotConfirmDefaultGroup=function(){c.state(u[m.request])},this.exitAccountCustomGroups=function(){}}})),define("profileArea/alerts/lib/textBanking/transformPhoneNumberList",[],(function(){"use strict";function e(e){var t=e.match(/^(\d{3})(\d{3})(\d{4})$/);return`(${t[1]}) ${t[2]}-${t[3]}`}return{transformPhoneNumberList:function(t){return[t&&t.primaryPhone?t.primaryPhone:{},t&&t.secondaryPhones&&Array.isArray(t.secondaryPhones)?[...t.secondaryPhones]:[]].flat().filter((e=>e&&e.phoneNumber)).filter((e=>e.hasOwnProperty("locale")?"DOMESTIC"===e.locale&&10===e.phoneNumber.length:10===e.phoneNumber.length)).map((t=>({phoneNumber:t.phoneNumber,displayPhoneNumber:e(t.phoneNumber)})))},formatPhoneNumber:e}})),define("profileArea/alerts/lib/textBanking/jpoContentMapping",[],(function(){"use strict";return{"phoneBankingDisclaimer.ENTER":{key:"phoneBankingDisclaimer",variation:"ENTER_JPO"},"phoneBankingDisclaimer.ACTIVATE":{key:"phoneBankingDisclaimer",variation:"ACTIVATE_JPO"},"phoneBankingLegalAgreement.ENTER":{key:"phoneBankingLegalAgreement",variation:"ENTER_JPO"},"phoneBankingLegalAgreement.ACTIVATE":{key:"phoneBankingLegalAgreement",variation:"ACTIVATE_JPO"},"phoneBankingConfirmationHeader.ENROLL":{key:"phoneBankingConfirmationHeader",variation:"ENROLL_JPO"},"phoneBankingConfirmationMessage.ENROLL":{key:"phoneBankingConfirmationMessage",variation:"ENROLL_JPO"},phoneBankingEnrollmentStatusHelpMessage:{key:"phoneBankingJPOEnrollmentStatusHelpMessage",variation:null}}})),define("profileArea/alerts/textBanking/services/dataTransform/textBanking",[],(function(){"use strict";return function(e){function t(e,t){return Array.isArray(e)&&e.forEach((function(e){e.accounts.forEach((function(e){t.push({id:e.id,receiveTextMessages:e.textDelivery,accountNickname:e.smsNickname,phoneBankingNickname:"",accountName:e.name,receiveTextMessagesAda:i("receiveTextMessagesAda",e),newNicknameAda:i("newNicknameAda",e)})}))})),t}function i(t,i){return e.context.dcu.dynamicContent.get(e.components.textBanking,t,{accounts:{accountName:i.name}})}var n={ACTIVE:"ACTIVE",AWAITING_CONFIRMATION:"VERIFY",LOCKED:"UNDELIVERABLE",UNDELIVERABLE:"UNDELIVERABLE"};function r(e){var t=String(e).replace(/\D/g,"");return 10!==t.length?e:t.slice(0,3)+"-"+t.slice(3,6)+"-"+t.slice(6)}return{transformTextBankingProfile:function(i){var a=[];return a=t(i.business,a),{accounts:a=t(i.personal,a),phoneNumbers:function(t){var i=[];if(Array.isArray(t)){var a=!1;t.forEach((function(e){"ACTIVE"===e.quickPayStatus&&(a=!0)})),t.forEach((function(t){var o=n[t.status]||"UNDELIVERABLE",s=e.context.dcu.dynamicContent.get(e.components.textBanking,"phoneBankingEnrollmentStatus",o);i.push({deviceId:t.id,phoneNumber:r(t.number),phoneBankingEnrollmentStatusOption:s,status:t.status,quickPayStatus:t.quickPayStatus,showGetQuickpayLink:t.quickpay&&!a})}))}return i}(i.devices)}}}}})),define("profileArea/alerts/textBanking/services/dataProvider/textBanking",["require","profileArea/alerts/textBanking/services/dataTransform/textBanking","profileArea/alerts/textBanking/services/dataTransform/textBanking"],(function(e){"use strict";return function(t){return{textBanking:{optionsList:{success:function(e,i){t.optionsListSuccess(i)},failure:function(){t.handleNetworkServiceError(null,!0)}},alertsProfileList:{success:function(e,i){t.alertsProfileListSuccess(i)},failure:function(){t.handleNetworkServiceError(null,!0)}},mobileProfileList:{success:function(i,n){var r=e("profileArea/alerts/textBanking/services/dataTransform/textBanking")(t);t.mobileProfileListSuccess(r.transformTextBankingProfile(n))},failure:function(e,i,n){var r=n.textBanking.errorScreen;t.handleNetworkServiceError(r)}},deviceAdd:{success:function(e,i){t.deviceAddSuccess(i)},failure:function(){t.handleNetworkServiceError("enterPhoneNumber")}},deviceSecureAdd:{success:function(e,i){t.deviceAddSuccess(i)},failure:function(){t.handleNetworkServiceError("enterPhoneNumber")}},deviceVerificationList:{success:function(e,i){t.deviceVerificationListSuccess(i)},failure:function(){t.handleNetworkServiceError("enterAuthCode")}},mobileAccountUpdate:{success:function(e,i){t.mobileAccountUpdateSuccess(i)},failure:function(){t.handleNetworkServiceError("manageSettings")}},deviceChallengeList:{success:function(){t.deviceChallengeListSuccess()},failure:function(e,i,n){var r=n.textBanking.errorScreen;t.handleNetworkServiceError(r)}},deviceDelete:{success:function(e,i){t.deviceDeleteSuccess(i)},failure:function(){t.handleNetworkServiceError("manageSettings")}},textAlertsEnrollment:{success:function(i,n){var r=e("profileArea/alerts/textBanking/services/dataTransform/textBanking")(t);t.textAlertsEnrollmentSuccess(r.transformTextBankingProfile(n))},failure:function(){t.handleNetworkServiceError(null,!0)}}}}}})),define("profileArea/alerts/textBanking/controllers/textBanking",["require","profileArea/sharedLib/constants","appkit-utilities/analytics/overlay","appkit-utilities/formatters/number","profileArea/alerts/lib/textBanking/transformPhoneNumberList","blue/siteData","profileArea/alerts/lib/textBanking/jpoContentMapping","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","common/lib/utility/commonComponentsUtil","common/lib/modalApi","profileArea/alerts/textBanking/services/dataProvider/textBanking"],(function(e){"use strict";var t=e("profileArea/sharedLib/constants");return function(i){var n=this,r=e("appkit-utilities/analytics/overlay"),a=e("appkit-utilities/formatters/number").phoneFormatter,o=e("profileArea/alerts/lib/textBanking/transformPhoneNumberList").transformPhoneNumberList,s=e("blue/siteData"),c=e("profileArea/alerts/lib/textBanking/jpoContentMapping"),l=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"),d=function(e,t){i.commonComponentsUtil.showSpinner({target:i.renderTarget.target,overlayType:t||"INSECTION",append:e||!0})},u=function(){i.commonComponentsUtil.hideSpinner({target:i.renderTarget.target})};n.init=function(){i.commonComponentsUtil=e("common/lib/utility/commonComponentsUtil")(n),i.analyticsOverlay=r,i.on({myProfileStateChange:n.setState,showDeleteModal:n.deleteTextBankingPhoneNumber,handleEmitBroadcast:n.eventListener,"profileTextBanking/setTgtData":function(e){i.Api.modal.setTgtData(e.data,!1)}}),n.stateName="updatePhoneBankingPreferences",i.Api={modal:new(e("common/lib/modalApi"))(n)},n.dataProvider.mappers=e("profileArea/alerts/textBanking/services/dataProvider/textBanking")(n),i.registerDirtyForm=n.registerDirtyForm,i.splitIOFeatureFlags=l},n.eventListener=function(e){n[e.function](e.args)},n.callMobileProfileList=function(){if(!n.model.get("textBanking.phoneNumbers")||n.model.get("textBanking.mobileProfileList"))d(),n.dataProvider.request("textBanking.mobileProfileList");else{var e=n.model.get("textBanking.successRender");e&&i.state(i.profileUrls[e])}},n.textAlertsEnrollmentSuccess=function(e){if(u(),e&&e.phoneNumbers){var t=e.phoneNumbers.filter((e=>"ACTIVE"===e.status));n.model.update("textBanking",{accounts:e.accounts,originalAccountData:JSON.stringify(e.accounts),phoneNumbers:e.phoneNumbers,textAlertsEnrollment:t.length>0,phoneBanking:e.phoneNumbers.length>0})}n.setInitialHeaderAndAdvisory()},n.mobileProfileListSuccess=function(e){u(),n.model.update("textBanking",{accounts:e.accounts,originalAccountData:JSON.stringify(e.accounts),phoneNumbers:e.phoneNumbers});var r,a,o,s,c=n.model.get("textBanking.mobileProfileList");"setDeviceId"===c&&(r=e.phoneNumbers,a=n.model.get("textBanking.phoneNumber"),(o=r.find((function(e){return a===e.phoneNumber})))&&n.model.set("textBanking.deviceId",o.deviceId)),"phoneNumberDeleted"===c&&(s=0===e.phoneNumbers.length,n.model.set("textBanking.allPhoneNumbersDeleted",s),s?i.state(t.profileUrls["textBanking.updatePhoneBankingPreferences"]):n.registry.getComponent("textBanking")._repaintScreen("manageSettings","DELETE_CONFIRMATION"));var l=n.model.get("textBanking.successRender");l&&i.state(t.profileUrls[l])},n.callDeviceAdd=function(e){d(),n.dataProvider.request("textBanking.deviceSecureAdd",e)},n.deviceAddSuccess=function(e){u(),e.statusCode?"DUPLICATE_NUMBER"===e.statusCode?n.registry.getComponent("textBanking")._displaySoftError("enterPhoneNumber","DUPLICATE_PHONE_NUMBER"):n.handleNetworkServiceError("enterPhoneNumber"):i.state(t.profileUrls["textBanking.requestActivationCode"])},n.callDeviceVerificationList=function(e){d(),n.dataProvider.request("textBanking.deviceVerificationList",e)},n.deviceVerificationListSuccess=function(e){u(),"FAILURE"===e.code||e.statusCode?"INVALID_CODE"===e.statusCode?n.registry.getComponent("textBanking")._displaySoftError("enterAuthCode","IDENTIFICATION_CODE_INVALID"):n.handleNetworkServiceError("enterAuthCode"):(n.model.update("textBanking",{errorScreen:"enterAuthCode",successRender:"textBanking.confirmPhoneBanking"}),n.callMobileProfileList())},n.callMobileAccountUpdate=function(e){d(),n.dataProvider.request("textBanking.mobileAccountUpdate",e)},n.mobileAccountUpdateSuccess=function(e){var r;u(),e.statusCode?"DUPLICATE_NAME"===e.statusCode?n.registry.getComponent("textBanking")._displaySoftError("manageSettings","DUPLICATE_NICKNAME"):"INVALID_ACCOUNT"===e.statusCode?n.registry.getComponent("textBanking")._displaySoftError("manageSettings","NO_ACCOUNT_SELECTED"):n.handleNetworkServiceError("manageSettings"):(n.setContent(["phoneBankingConfirmationHeader","phoneBankingConfirmationMessage"],"MANAGE"),(r=n.model.get("textBanking.accounts")).forEach((function(e){e.phoneBankingNickname&&(e.accountNickname=e.phoneBankingNickname,e.phoneBankingNickname="")})),n.model.set("textBanking.accounts",r),n.model.set("textBanking.originalAccountData",JSON.stringify(r)),n.registry.getComponent("textBanking")._repaintScreen("manageSettings",null),n.registry.getComponent("textBanking")._repaintScreen("manageSettings","CONFIRMATION"),i.state(t.profileUrls["textBanking.confirmUpdateAccountNicknames"]))},n.callDeviceChallengeList=function(e){d(),n.dataProvider.request("textBanking.deviceChallengeList",e)},n.deviceChallengeListSuccess=function(){u(),n.model.get("textBanking.resendIdentificationCode")?(n.setContent(["identificationCodeMessage"],"RESEND"),n.registry.getComponent("textBanking")._repaintScreen("enterAuthCode",null),n.registry.getComponent("textBanking")._repaintScreen("enterAuthCode","RESEND")):i.state(t.profileUrls["textBanking.requestActivationCode"])},n.callDeviceDelete=function(e){d(!1,"FULLSCREEN"),n.dataProvider.request("textBanking.deviceDelete",e)},n.deviceDeleteSuccess=function(e){u(),e.statusCode||"SUCCESS"!==e.code?n.handleNetworkServiceError():(n.model.update("textBanking",{mobileProfileList:"phoneNumberDeleted",successRender:""}),n.callMobileProfileList(),n.setContent(["phoneBankingConfirmationHeader"],"DELETE"))},n.optionsListSuccess=function(e){u(),n.model.set("textBanking.phoneBanking",e.enrolled),n.setInitialHeaderAndAdvisory()},n.callalertsProfileList=function(){d(!1),n.dataProvider.request("textBanking.alertsProfileList")},n.alertsProfileListSuccess=function(e){u();var t=e.devices.find((function(e){return"SMS"===e.type})).address;n.model.set("textBanking.alertPhoneNumber",a(t,"-"))},n.deleteTextBankingPhoneNumber=function(e){n.model.update("deleteConfirmation",{phoneNumberToDelete:e.phoneNumber,deleteLinkId:e.id,deleteConfirmationOverlay:!0})},n.redirectToLandingPage=function(){i.state(t.profileUrls["textBanking.updatePhoneBankingPreferences"])},n.updatePhoneBankingPreferences=function(){if(i.profileContainer.setPageProperties({containerClasses:"legacy-profile-styles"}),!n.registry.hasComponent("textBanking"))return n.initTextBanking("landingPage"),n.registerComponent(),i.area.broadcast("renderMyProfileMenuMobile"),[[n.registry.getComponent("textBanking"),"textBanking",{target:i.renderTarget.target}],[n.registry.getComponent("deleteConfirmation"),"manageDeleteOverlay",{target:i.renderTarget.target,append:!0}]];n.model.get("textBanking.allPhoneNumbersDeleted")?(n.deregisterDirtyForm(),n.model.set("textBanking.phoneBanking",!1),n.model.set("textBanking.textAlertsEnrollment",!1),n.registry.getComponent("textBanking")._repaintScreen("landingPage","DELETE_CONFIRMATION"),n.setInitialHeaderAndAdvisory(),n.model.set("textBanking.allPhoneNumbersDeleted",!1)):(d(!1),n.deregisterDirtyForm(),n.dataProvider.request("textBanking.textAlertsEnrollment"),n.registry.getComponent("textBanking")._repaintScreen("landingPage",null),i.exitDialogUtil.manageFormDirty(!1))},n.getFeatureFlags=function(){return l.getFeatureTreatments(["cxo_profile_textAlerts_CR124Features_enable"],{cxo_profile_textAlerts_CR124Features_enable:!1}).then((function(e){if(e)return e})).catch((function(){return{cxo_profile_textAlerts_CR124Features_enable:!1}}))},n.activatePhoneBanking=function(e){return"true"===e.fromEasyReload&&(n.model.set("textBanking.fromEasyReload",!0),n.model.set("textBanking.userAccountInContextId",e.AI)),n.model.get("textBanking.fromLegalAgreementPage")?(n.model.set("textBanking.fromLegalAgreementPage",!1),n.registerComponent(),n.setInitialHeaderAndAdvisory(),[[n.registry.getComponent("textBanking"),"textBanking",{target:i.renderTarget.target}],[n.registry.getComponent("deleteConfirmation"),"manageDeleteOverlay",{target:i.renderTarget.target,append:!0}]]):n.registry.hasComponent("textBanking")?(i.profileContainer.setPageProperties({pageTitle:i.dcu.dynamicContent.get(n.registry.getComponent("textBanking"),"phoneBankingHeader","ENTER")}),d(!1),n.registerDirtyForm(),n.getFeatureFlags().then((function(e){return e.cxo_profile_textAlerts_CR124Features_enable&&n.model.set("textBanking.enableCR124Features",e.cxo_profile_textAlerts_CR124Features_enable),n.enableTextAlerts().then((function(){n.registry.getComponent("textBanking")._repaintScreen("enterPhoneNumber",null),n.setContent(["phoneBankingHeader","phoneBankingAdvisory","phoneBankingLegalAgreement","phoneBankingDisclaimer"],"ENTER"),u()}))}))):(n.initTextBanking("enterPhoneNumber"),"true"===e.fromAlertsDelivery&&n.callalertsProfileList(),n.registerComponent(),d(!1),n.registerDirtyForm(),n.getFeatureFlags().then((function(e){return e.cxo_profile_textAlerts_CR124Features_enable&&n.model.set("textBanking.enableCR124Features",e.cxo_profile_textAlerts_CR124Features_enable),n.enableTextAlerts().then((function(){return n.setInitialHeaderAndAdvisory(),i.area.broadcast("renderMyProfileMenuMobile"),u(),[[n.registry.getComponent("textBanking"),"textBanking",i.renderTarget],[n.registry.getComponent("deleteConfirmation"),"manageDeleteOverlay",{target:i.renderTarget.target,append:!0}]]}))})))},n.enableTextAlerts=function(){return n.model.set("textBanking.addPhoneNumberStatus",""),n.model.set("textBanking.selectedIndex",-1),n.getPhoneNumbers().then((function(e){e.length>0?(n.model.set("textBanking.phoneNumberOptions",e),n.model.set("textBanking.state","SUCCESS.SUCCESS")):n.model.set("textBanking.state","ERROR.MISSING_PHONE_NUMBERS");var t=window.location.hash.includes("?")&&new URLSearchParams(window.location.hash.split("?")[1]).get("status");"SUCCESS"===t?(n.model.set("textBanking.addPhoneNumberStatus","SUCCESS"),n.model.set("textBanking.phoneNumber",e[e.length-1].phoneNumber),n.model.set("textBanking.selectedIndex",e.length-1)):"FAILURE"===t&&n.model.set("textBanking.addPhoneNumberStatus","FAILURE")})).catch((function(){n.model.set("textBanking.state","ERROR.SYSTEM_FAILURE")}))},n.getPhoneNumbers=function(){return i.services.textBanking.phoneNumberList().then((function(e){if(e)return o(e)})).catch((function(e){return i.logger.error("textAlerts error with getPhoneNumbers"+e),Promise.reject("SYSTEM_FAILURE")}))},n.managePhoneBanking=function(){n._cleanAlertPhoneData(),n.deregisterDirtyForm(),n.registry.hasComponent("textBanking")&&n.model.get("textBanking.phoneNumbers")?.length>0?(n.registry.getComponent("textBanking")._repaintScreen("manageSettings",null),i.profileContainer.setPageProperties({pageTitle:i.dcu.dynamicContent.get(n.registry.getComponent("textBanking"),"phoneBankingHeader","UPDATE")}),n.setContent(["phoneBankingAdvisory"],"UPDATE")):n.redirectToLandingPage()},n.confirmUpdateAccountNicknames=function(){n.registry.hasComponent("textBanking")||n.redirectToLandingPage()},n.requestActivationCode=function(){if(n.model.get("textBanking.fromLegalAgreementPage")||"SUCCESS"===n.model.get("textBanking.addPhoneNumberStatus"))return n.model.set("textBanking.fromLegalAgreementPage",!1),"SUCCESS"===n.model.get("textBanking.addPhoneNumberStatus")&&(n.model.set("textBanking.currentScreen","enterAuthCode"),n.model.set("textBanking.currentAlert","ACTIVATE")),n.registerComponent(),i.profileContainer.setPageProperties({pageTitle:i.dcu.dynamicContent.get(n.registry.getComponent("textBanking"),"phoneBankingHeader","ACTIVATE")}),n.setContent(["phoneBankingAdvisory","phoneBankingLegalAgreement","identificationCodeMessage","identificationCodeAdvisory","phoneBankingDisclaimer"],"ACTIVATE"),[[n.registry.getComponent("textBanking"),"textBanking",{target:i.renderTarget.target}],[n.registry.getComponent("deleteConfirmation"),"manageDeleteOverlay",{target:i.renderTarget.target,append:!0}]];n.registry.hasComponent("textBanking")?(n.deregisterDirtyForm(),n.registry.getComponent("textBanking")._repaintScreen("enterAuthCode","ACTIVATE"),i.profileContainer.setPageProperties({pageTitle:i.dcu.dynamicContent.get(n.registry.getComponent("textBanking"),"phoneBankingHeader","ACTIVATE")}),n.setContent(["phoneBankingAdvisory","phoneBankingLegalAgreement","identificationCodeMessage","identificationCodeAdvisory","phoneBankingDisclaimer"],"ACTIVATE")):n.redirectToLandingPage()},n.confirmPhoneBanking=function(){!0===n.model.get("textBanking.fromEasyReload")?i.state(t.profileUrls["easyReload.updatePreferences"]+";fromTextBanking=true;AI="+n.model.get("textBanking.userAccountInContextId")):n.registry.hasComponent("textBanking")?(n.setContent(["phoneBankingConfirmationHeader","phoneBankingConfirmationMessage"],"ENROLL"),i.profileContainer.setPageProperties({pageTitle:i.dcu.dynamicContent.get(n.registry.getComponent("textBanking"),"phoneBankingHeader","INITIAL")}),n.registry.getComponent("textBanking")._repaintScreen("confirmTextBanking","CONFIRMATION"),i.exitDialogUtil.manageFormDirty(!1)):n.redirectToLandingPage()},n.initTextBanking=function(e){var t={currentScreen:e,alertPhoneNumber:"",deviceId:"",state:""};n.model.set("textBanking",t),n.model.set("deleteConfirmation",{phoneNumberToDelete:"",deleteLinkId:"",deleteConfirmationOverlay:!1}),d(!1),n.dataProvider.request("textBanking.textAlertsEnrollment")},n.registerComponent=function(){i.exitDialogUtil.setListeners(n.registry.getComponent("textBanking"))},n.setInitialHeaderAndAdvisory=function(){"enterPhoneNumber"===n.model.get("textBanking.currentScreen")?(i.profileContainer.setPageProperties({pageTitle:i.dcu.dynamicContent.get(n.registry.getComponent("textBanking"),"phoneBankingHeader","ENTER")}),n.setContent(["phoneBankingAdvisory","phoneBankingLegalAgreement","phoneBankingDisclaimer"],"ENTER")):n.model.get("textBanking.phoneBanking")?(i.profileContainer.setPageProperties({pageTitle:i.dcu.dynamicContent.get(n.registry.getComponent("textBanking"),"phoneBankingHeader","INITIAL")}),n.setContent(["phoneBankingAdvisory"],"MANAGE")):(i.profileContainer.setPageProperties({pageTitle:i.dcu.dynamicContent.get(n.registry.getComponent("textBanking"),"phoneBankingHeader","INITIAL")}),n.setContent(["phoneBankingAdvisory"],"ENROLL"))},n.getBrandId=function(){try{return i.application.userInfo.brandId}catch(e){return s.getData("brandId")}},n.setContent=function(e,t){const r=n.getBrandId();var a=e.map((function(e){var i=e+"."+t;return"JPMORGAN"===r&&c[i]?c[i]:{key:e,variation:t}}));i.dcu.dynamicContent.setMultiple(n.registry.getComponent("textBanking"),a)},n.handleNetworkServiceError=function(e){u(),i.profileContainer.setPageProperties({pageTitle:i.dcu.dynamicContent.get(n.registry.getComponent("textBanking"),"phoneBankingHeader","INITIAL")}),n.setContent(["phoneBankingErrorHeader","phoneBankingErrorAdvisory"],"SYSTEM_FAILURE"),e?n.registry.getComponent("textBanking")._repaintScreen(e,"ERROR"):n.registry.getComponent("textBanking")._repaintScreen()},n._cleanAlertPhoneData=function(){n.model.update("textBanking",{phoneNumber:"",confirmedPhoneNumber:"",alertPhoneNumber:""})},n.registerDirtyForm=function(){i.bubble("dirtyRegister",{controller:n,compInstanceNames:["textBanking"],dirtyIgnoreCallback:function(){return!n.model.get("textBanking.duplicateNumber")},target:"#my-profile-page-content",whiteList:["phoneNumber"],routeBlackList:["/dashboard/profileArea/textBanking/requestActivationCode","/dashboard/profileArea/textBanking/updatePhoneBankingPreferences"]})},n.deregisterDirtyForm=function(){i.bubble("dirtyDeregister",{name:"textBanking"})}}})),define("profileArea/alerts/textBanking/components/textBanking",["require","common/utility/dynamicAjaxCallUtil","appkit-utilities/accountInfo/accountInfo","profileArea/sharedLib/constants","profileArea/sharedLib/profileMixin","navigation/lib/navigationHelper"],(function(e){"use strict";var t=e("common/utility/dynamicAjaxCallUtil"),i=(new(e("appkit-utilities/accountInfo/accountInfo"))).isGWMUser(),n=e("profileArea/sharedLib/constants"),r=e("profileArea/sharedLib/profileMixin"),a=e("navigation/lib/navigationHelper"),o=function(){};return function(e){var s=this,c=function(t){e.state(n.profileUrls[t])};s.init=function(){r.call(s),e.globalContentMixin.call(s,["requestProfileSettingsMenuAda","importantAda"]),e.on({focusOnElement:s._focusOnElement})},s.onReady=function(){e.hybrid&&e.jsBridge.changeScreenTitle(s.phoneBankingHeader,e),s._focusOnElement("#simple-header")},s._repaintScreen=function(e,t){s.model.set("currentScreen",e),s.output.emit("repaintScreen",{currentScreen:e,currentAlert:t})},s._focusOnElement=function(e){s.output.emit("focusOnElement",{focusSelector:e})},s._setContent=function(t,i){t.forEach((function(t){e.dcu.dynamicContent.set(s,t,i)}))},s._displaySoftError=function(e,t){s._setContent(["phoneBankingErrorHeader","phoneBankingErrorAdvisory"],t),s._repaintScreen(e,"SOFT_ERROR")},s.requestMobileHelpDocument=function(){var t=i?"requestGWMMobileCard":"requestChaseMobileCard";e.hybrid?a.getNavData(t).then((function(t){e.jsBridge.getPDFDocument({url:t.url},e)})):e.application.broadcast("makeNavigation",{navKey:t,newTab:!0})},s.requestSecurity=function(){var t=i?"requestGWMPrivacyAndSecurity":"requestChasePrivacyAndSecurity";e.application.broadcast("makeNavigation",{navKey:t,newTab:!0})},s._formatPhoneNumberForDPS=function(e){return e.replace(/-/g,"")},s._getClickedDevice=function(e){var t=e.context.id.split("-"),i=t[t.length-1];return s.phoneNumbers[i]},s.activatePhoneBanking=function(){s.activateManagePhoneBanking()},s.activateManagePhoneBanking=function(){"enterAuthCode"!==s.model.get("currentScreen")?(s.model.update({phoneNumber:"",confirmedPhoneNumber:""}),c("textBanking.activatePhoneBanking")):(s.model.update({mobileProfileList:"setDeviceId",successRender:"textBanking.managePhoneBanking"}),e.controller.emit("handleEmitBroadcast",{function:"callMobileProfileList"}))},s.updatePhoneBanking=function(){var t;t="landingPage",s.model.update({errorScreen:t,successRender:"textBanking.managePhoneBanking"}),e.controller.emit("handleEmitBroadcast",{function:"callMobileProfileList"})},s.updatePhoneBankingPreferences=function(){c("textBanking.updatePhoneBankingPreferences")},s.verifyValidPhoneNumber=function(e){return!(!e||-1===Number(e)||""===e)&&s.model.get("phoneNumberOptions").filter((t=>t.phoneNumber===e)).length>=1},s.requestNewNumber=function(){return e.bubble("dirtyDeregister",{name:"textBanking"}),e.splitIOFeatureFlags.getFeatureTreatments(["cxo_profile_textAlerts_phoneAddModule_enable"],{cxo_profile_textAlerts_phoneAddModule_enable:!1}).then((function(e){e.cxo_profile_textAlerts_phoneAddModule_enable&&s.model.get("enableCR124Features")?window.location.hash="#/dashboard/demographics/common/module/phone?return_to=/dashboard/profileArea/textBanking/activatePhoneBanking&flowId=ALERTS":s.requestManageContactInformation()})).catch((function(){s.requestManageContactInformation()}))},s.requestManageContactInformation=function(){e.bubble("dirtyDeregister",{name:"textBanking"});var t=e.state();t.controller="phone",t.action={name:"selectMyPhoneDetails"},e.state(t)},s.requestPrivacyPolicy=function(){e.bubble("dirtyDeregister",{name:"textBanking"}),e.application.broadcast("makeNavigation",{navKey:"onlinePrivacyPolicy"})},s.verifyPhoneActivation=function(e){s.model.set("state","VALIDATING"),s.verifyValidPhoneNumber(e.context.phoneNumber)?s._addPhoneNumberAndActivate():s.model.set("state","VALIDATION_ERROR")},s.requestIdentificationCode=function(e){s.model.set("identificationCode",""),s.model.set("duplicateNumber",!1);var t=s.model.get("currentScreen");s._sameAsAlertPhoneNumber()||s._sameAsManagePhoneNumber()?(s.model.set("duplicateNumber",!0),s._displaySoftError("enterPhoneNumber","DUPLICATE_PHONE_NUMBER")):"enterPhoneNumber"===t?s.verifyPhoneActivation(e):s._justActivate(e)},s._sameAsAlertPhoneNumber=function(){return s._newPhoneNumberSameAsOld(s.model.get("alertPhoneNumber"),s.phoneNumber)},s._sameAsManagePhoneNumber=function(){return s._newPhoneNumberSameAsOld(s.model.get("phoneNumberToChange"),s.phoneNumber)},s._newPhoneNumberSameAsOld=function(e,t){return!(!e||!t)&&s._formatPhoneNumberForDPS(e)===s._formatPhoneNumberForDPS(t)},s._addPhoneNumberAndActivate=function(){var t={number:s._formatPhoneNumberForDPS(s.phoneNumber)};s.model.get("deviceId")&&(t.id=s.model.get("deviceId")),e.controller.emit("handleEmitBroadcast",{function:"callDeviceAdd",args:t})},s._justActivate=function(t){var i=s._getClickedDevice(t);s.model.update({phoneNumber:i.phoneNumber,confirmedPhoneNumber:i.phoneNumber,deviceId:i.deviceId});var n={number:s._formatPhoneNumberForDPS(i.phoneNumber),deviceId:i.deviceId};s.model.update({resendIdentificationCode:!1,errorScreen:"manageSettings"}),e.controller.emit("handleEmitBroadcast",{function:"callDeviceChallengeList",args:n})},s.requestLegalAgreements=function(t){"A"===t.domEvent.target.nodeName&&(e.hybrid?e.jsBridge.showNativeDisclosure(e):(s.requestChaseOnlineServiceAgreement(),s.model.set("fromLegalAgreementPage",!0)))},s.requestChaseOnlineServiceAgreement=function(){e.application.broadcast("makeNavigation",{navKey:"requestLegalAgreementRepo",params:{action:{type:"OnlineBanking"}}})},s.resendIdentificationCode=function(){var t={number:s._formatPhoneNumberForDPS(s.phoneNumber)};s.model.update({resendIdentificationCode:!0,errorScreen:"enterAuthCode"}),e.controller.emit("handleEmitBroadcast",{function:"callDeviceChallengeList",args:t})},s.confirmActivatePhoneBanking=function(){var t={otpValue:s.model.get("identificationCode"),number:s._formatPhoneNumberForDPS(s.phoneNumber)};e.controller.emit("handleEmitBroadcast",{function:"callDeviceVerificationList",args:t})},s.managePhoneBanking=function(e){var t=s._getClickedDevice(e);s.model.set("deviceId",t.deviceId),s.model.set("phoneNumberToChange",t.phoneNumber),s.activateManagePhoneBanking()},s.manageQuickpayPreferences=function(){e.state(e.stringMap.get("quickPayEnrollmentUrl"))},s.confirmUpdatePhoneBanking=function(){var t=JSON.stringify({accounts:s._formatAccountsForDPS(s.model.get("accounts"))});e.controller.emit("handleEmitBroadcast",{function:"callMobileAccountUpdate",args:t})},s._formatAccountsForDPS=function(e){var t=[];return e.forEach((function(e){t.push({id:e.id,textDelivery:e.receiveTextMessages,smsNickname:e.phoneBankingNickname?e.phoneBankingNickname:e.accountNickname})})),t},s.deletePhoneNumber=function(t){e.analyticsOverlay.showOverlay(s,"deleteConfirmationOverlay","deletePhoneNumber");var i=s._getClickedDevice(t);e.controller.emit("showDeleteModal",{phoneNumber:s._formatPhoneNumberForDPS(i.phoneNumber),id:"#"+t.context.id})},s._handleSkiplinkPress=function(t){e.profileUtil.skipIfEnterSpaceOrClick(s,t,"skipBack")},s.dynamicAjaxCallUtil=t,s.print=o,s.skipBack=o,s.requestConfirmationMessageDetails=o,s.exitConfirmationMessageDetails=o,s.requestErrorMessageDetails=o,s.exitErrorMessageDetails=o,s.requestPhoneBankingEnrollmentStatusHelpMessage=o,s.exitPhoneBankingEnrollmentStatusHelpMessage=o,s.requestUpdateNicknameHelpMessage=o,s.exitUpdateNicknameHelpMessage=o}})),define("profileArea/alerts/textBanking/components/manageDeleteOverlay",[],(function(){"use strict";return function(e){var t=this;t.onReady=function(){e.dcu.dynamicContent.setMultiple(t,[{key:"deleteConfirmationHeader",variation:"PHONE_BANKING"},{key:"deleteConfirmationMessage",variation:"PHONE_BANKING"}])},t.doNotDelete=function(){e.analyticsOverlay.hideOverlay(t,"deleteConfirmationOverlay","doNotDelete"),t.model.set("deleteConfirmationOverlay",!1),e.controller.broadcast("focusOnElement",t.model.get("deleteLinkId"))},t.confirmDelete=function(){e.analyticsOverlay.hideOverlay(t,"deleteConfirmationOverlay","confirmDelete");var i={number:t.model.get("phoneNumberToDelete")};e.controller.emit("handleEmitBroadcast",{function:"callDeviceDelete",args:i}),t.model.set("deleteConfirmationOverlay",!1)}}})),define("profileArea/signInSecurity/lib/constants",{resetPassword:{SITE_ID:"C30",DEVICE_COOKIE:"adtoken_qa2",CONTEXT_ID:"changepasswd",TYPE:"json",DEVICE_ADD:"true",OVERVIEW:"overview"},errorType:{INVALID_FORMAT_LENGTH:"INVALID_FORMAT_LENGTH",INVALID_LENGTH:"INVALID_FORMAT_LENGTH",INVALID_FORMAT_LENGTH_TOKEN_PASSWORD:"INVALID_FORMAT_LENGTH_TOKEN_PASSWORD",INVALID_FORMAT_TOKEN_PASSWORD:"INVALID_FORMAT_TOKEN_PASSWORD",INVALID_FORMAT:"INVALID_FORMAT",INVALID_FORMAT_CONSECUTIVE_CHARACTERS:"INVALID_FORMAT_CONSECUTIVE_CHARACTERS",INVALID_FORMAT_IDENTICAL_CHARACTERS:"INVALID_FORMAT_SEQUENCE",INVALID_FORMAT_SAME_AS_USER_ID:"INVALID_FORMAT_SAME_AS_USER_ID",PASSWORD_POLICY_MISMATCH_CHASE_NAME:"PASSWORD_POLICY_MISMATCH_CHASE_NAME",INVALID_WORD:"INVALID_WORD",MISMATCHED_CONFIRMATION_DATA:"MISMATCHED_CONFIRMATION_DATA"},checkerVariations:{userId:{BELOW_MINIMUM:"BELOW_MINIMUM",INVALID_FORMAT:"INVALID_FORMAT",MISSING_MANDATORY_DATA:"MISSING_MANDATORY_DATA"},newPassword:{INVALID_FORMAT_LENGTH:"INVALID_FORMAT_LENGTH",INVALID_FORMAT:"INVALID_FORMAT",INVALID_FORMAT_MISSING_ALPHABET:"INVALID_FORMAT_MISSING_ALPHABET",INVALID_FORMAT_MISSING_NUMBER:"INVALID_FORMAT_MISSING_NUMBER",INVALID_FORMAT_SPECIAL_CHARACTERS:"INVALID_FORMAT_SPECIAL_CHARACTERS",INVALID_FORMAT_RESTRICTED_SPECIAL_CHARACTERS:"INVALID_FORMAT_RESTRICTED_SPECIAL_CHARACTERS",INVALID_FORMAT_CONSECUTIVE_CHARACTERS:"INVALID_FORMAT_CONSECUTIVE_CHARACTERS"}},customVariations:{newPassword:{Length:"INVALID_FORMAT_LENGTH",NonRepeatingAlphaNumerics:"INVALID_FORMAT_SEQUENCE",NonConsecutiveAlphaNumerics:"INVALID_FORMAT_CONSECUTIVE_CHARACTERS"},confirmedPassword:{Length:"MISMATCHED_CONFIRMATION_DATA",Numbers:"MISMATCHED_CONFIRMATION_DATA",Characters:"MISMATCHED_CONFIRMATION_DATA",NonRepeatingAlphaNumerics:"MISMATCHED_CONFIRMATION_DATA",NonConsecutiveAlphaNumerics:"MISMATCHED_CONFIRMATION_DATA",NotBlank:"MISSING_MANDATORY_DATA",Boolean:"MISMATCHED_CONFIRMATION_DATA",Pattern:"MISMATCHED_CONFIRMATION_DATA"}},tokenUserCustomVariations:{newPassword:{Length:"INVALID_FORMAT_LENGTH_TOKEN_PASSWORD",AlphaNumeric:"INVALID_FORMAT_TOKEN_PASSWORD",Numbers:"INVALID_FORMAT_TOKEN_PASSWORD",Pattern:"INVALID_FORMAT_TOKEN_PASSWORD",Characters:"INVALID_FORMAT_TOKEN_PASSWORD",NonRepeatingAlphaNumerics:"INVALID_FORMAT_SEQUENCE",NonConsecutiveAlphaNumerics:"INVALID_FORMAT_CONSECUTIVE_CHARACTERS"},confirmedPassword:{Length:"MISMATCHED_CONFIRMATION_DATA",Numbers:"MISMATCHED_CONFIRMATION_DATA",Characters:"MISMATCHED_CONFIRMATION_DATA",NonRepeatingAlphaNumerics:"MISMATCHED_CONFIRMATION_DATA",NonConsecutiveAlphaNumerics:"MISMATCHED_CONFIRMATION_DATA",NotBlank:"MISMATCHED_CONFIRMATION_DATA",Boolean:"MISMATCHED_CONFIRMATION_DATA",Pattern:"MISMATCHED_CONFIRMATION_DATA"},securityToken:{Length:"MISSING_MANDATORY_DATA"}},requiredFields:{nonToken:{password:"",newPassword:"",confirmedPassword:""},token:{password:"",newPassword:"",confirmedPassword:"",securityToken:""}},userIdCustomVariations:{newUserId:{Length:"BELOW_MINIMUM",AlphaNumeric:"INVALID_FORMAT",Characters:"INVALID_FORMAT",Numbers:"INVALID_FORMAT"}},userIdStatusCodeVariations:{USER_ID_ALREADY_EXISTS:"ALREADY_EXISTS",USER_ID_SAME_AS_PASSWORD:"USER_ID_MATCHES_PASSWORD",USER_ID_SAME_AS_EXISTING:"ALREADY_EXISTS",NOT_MAPPED:"MISSING_MANDATORY_DATA"},reservedWords:["password","qwerty","iloveyou","letmein","photoshop","monkey","money","sunshine","shadow","trustno1","picard"],bankNames:["chase","jpm","morgan"],MY_IP_ADDRESS_POPUP_URL:"https://chaseonline.chase.com/public/misc/WhatsMyIP.aspx",MY_IP_ADDRESS_WINDOW_NAME:"WhatsMyIP",UPDATE_SECURITY_CODE_MESSAGE_VARIATION:{requestSecurityCode:"REQUEST_IDENTIFICATION",provideIdentificationCode:"SUBMIT_IDENTIFICATION"},splitIoFeatureFlags:{cxo_myProfile_signInSecurity_enable:!1}}),define("profileArea/signInSecurity/resetUserId/controllers/resetUserId",["@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","common/lib/modelUtil","profileArea/signInSecurity/lib/constants"],(function(e,t,i){"use strict";return function(n){var r=this,a=e.getFeatureTreatments,o=n.dcu.dynamicContent,s=t.DataType,c=n.profileContainer.constants,l="resetUserId";r.onInit=function(){n.updateUserId=r.updateUserId,n.getSplitIOFeatureFlags=a,r.defineMappers()},r._resetUserId=function(){return r._renderResetUserId()},r.resetUserId=function(){return n.getSplitIOFeatureFlags(["cxo_myProfile_signInSecurity_enable"],i.splitIoFeatureFlags).then((function(e,t){return e&&e.cxo_myProfile_signInSecurity_enable?n.privateState("/dashboard/updateCredentials/resetUserId/resetUserId",{targetId:"#my-profile-page-content"}):(t&&n.logger.error("getSplitIOFeatureFlags ",t),r._resetUserId())})),r._resetUserId()},r.confirmResetUserId=function(){n.profileContainer.displayPageAdvisory(r.components[l],{advisory:"userIdHelpMessage"}),n.profileContainer.displayPageAlert(r.components.resetUserId,{header:"updateMyUserIdConfirmationMessage",type:"success"})},r._renderResetUserId=function(){return r.registry.hasComponent(l)||(r.enrichComponent(),r.initModel()),n.profileContainer.setPageProperties({pageTitle:o.get(r.components[l],"userNameLabel"),containerClasses:"legacy-profile-styles"}),n.profileContainer.displayPageAdvisory(r.components[l],{advisory:"userIdHelpMessage"}),r.dataProvider.request("resetUserId.list"),n.registerDirtyFormOverlay(),[r.components[l],l,c.RENDER_TARGET]},r.updateUserId=function(e){r.dataProvider.request("resetUserId.update",e)},r.defineMappers=function(){r.dataProvider.mappers={resetUserId:{update:{success:r.onUpdateSuccess,failure:r.onServiceFailure},list:{success:r.onListSuccess,failure:r.onServiceFailure}}}},r.initModel=function(){r.model.update(l,{$userIdEditable:!1,$userIdStatusCode:"",$resolveLoader:!1,$checkerRequirements:[],$triggerSubmitAda:!1,$userIdUpdated:!1,usernameRequirementsDisplayedState:!1,userId:"",newUserId:""})},r.enrichComponent=function(){t.enrichComponent(r,l,"update_my_user_id").spec({data:{$userIdEditable:s.Description,$userIdStatusCode:s.Description,$resolveLoader:s.Description,$pageTitle:s.Description,$triggerSubmitAda:s.OnOff,$checkerRequirements:s.List,$userIdUpdated:s.OnOff}})},r.onUpdateSuccess=function(e,t,i,a){"SUCCESS"===t.code?t.statusCode?(a.set("resetUserId.$userIdStatusCode",t.statusCode),r.components.resetUserId.validateDataItems(["newUserId"]),a.set("resetUserId.$userIdStatusCode",""),a.set("resetUserId.$triggerSubmitAda",!1),a.set("resetUserId.$triggerSubmitAda",!0)):(r.model.set("resetUserId.$userIdUpdated",!0),r.model.set("resetUserId.userId",e.params.userId),r.model.set("resetUserId.newUserId",""),r.confirmResetUserId()):n.profileContainer.displayPageAlert(r.components.resetUserId,{header:"updateMyUserIdErrorHeader.SYSTEM_FAILURE",advisory:"updateMyUserIdErrorAdvisory.SYSTEM_FAILURE"})},r.onListSuccess=function(e,t,i,n){n.set("resetUserId.$resolveLoader",!0),n.set("resetUserId.userId",t.userId),!0===t.userIdEditable&&n.set("resetUserId.$userIdEditable",!0)},r.onServiceFailure=function(){n.profileContainer.displayPageAlert(r.components.resetUserId,{header:"updateMyUserIdErrorHeader.SYSTEM_FAILURE",advisory:"updateMyUserIdErrorAdvisory.SYSTEM_FAILURE"})},n.registerDirtyFormOverlay=function(){n.bubble("dirtyRegister",{controller:r,compInstanceNames:[l],target:c.RENDER_TARGET.target,whiteList:["newUserId"]})}}})),define("profileArea/signInSecurity/lib/validators/userIdCustomValidators",["appkit-utilities/validation/util","profileArea/signInSecurity/lib/constants"],(function(e,t){"use strict";var i=function(e,t){return{isValid:e,errorType:e?"":t}};return{newUserId:[function(e,n){var r=!0,a=t.userIdStatusCodeVariations[n.$userIdStatusCode];return a&&(r=!1),i(r,a)},function(t,n){var r=e.getProperty(t,n)!==n.userId;return i(r,"ALREADY_EXISTS")}]}})),define("profileArea/signInSecurity/lib/validators/resetUserIdCheckerValidators",["blue-app/validate/constraints","blue-app/validate/standardTypes"],(function(e,t){"use strict";var i=t.UserId.constraints.reduce((function(e,t){return e[t.type]={},e[t.type].params=t.params,e}),{});return{lengthValidator:function(t){return e.Length.validator(t,i.Length.params)},minNumAndCharValidator:function(t){return function(t){return e.Numbers.validator(t,i.Numbers.params)}(t)&&function(t){return e.Characters.validator(t,i.Characters.params)}(t)},noSpecialCharactersValidator:function(t){return e.AlphaNumeric.validator(t)}}})),define("profileArea/signInSecurity/resetUserId/components/resetUserId",["appkit-utilities/validation/componentValidate","profileArea/signInSecurity/lib/validators/userIdCustomValidators","appkit-utilities/validation/variations","profileArea/signInSecurity/lib/constants","profileArea/signInSecurity/lib/validators/resetUserIdCheckerValidators"],(function(e,t,i,n,r){"use strict";return function(a){var o=this,s=a.dcu.dynamicContent;o.onInit=function(){o.$pageTitle=s.get(o,"userNameLabel"),a.globalContentMixin.call(o,["importantAda","checkmarkAda","contentLoadingAda","contentLoadedAda","requiredAda"]);a.variations=Object.assign({},i,{Length:"BELOW_MINIMUM"}),e.call(o,a,t);o.v={newUserId:{isValid:!0,errorMessage:"",errorType:""}},o.whiteList={newUserId:!0},o._setupCheckerRequirements(),o.onData("userIdAdvisory",(function(){o.userIdAdvisory=a.util.string.stripHtmlTags(o.userIdAdvisory),o.userIdAdvisory=a.util.string.unescapeHtml(o.userIdAdvisory)})),a.hybrid&&(a.jsBridge.isHybridBackButtonRequired=function(){return!1})},o.onReady=function(){a.hybrid&&a.jsBridge.updateNativeNavigationBarButtons(a,{showProfileSettings:!1,showHamburgerMenu:!1,showClose:!1,showCancel:!1,showBackArrow:!0})},o.confirmUpdateMyUserId=function(){if(o.validateDataItems(["newUserId"]),o.v.newUserId.isValid){var e=o.newUserId.toLowerCase();return a.profileContainer.dismissPageAlert(),a.updateUserId({userId:e})}},o.requestUsernameRules=function(e){o.usernameRequirementsDisplayedState=!e.context.isOpen},o._setupCheckerRequirements=function(){var e=n.checkerVariations.userId,t="userIdValidationAdvisory";o.$checkerRequirements=[{text:s.get(o,t,e.BELOW_MINIMUM),validationFunction:r.lengthValidator,subRequirements:[]},{text:s.get(o,t,e.INVALID_FORMAT),validationFunction:r.minNumAndCharValidator,subRequirements:[]},{text:s.get(o,t,e.MISSING_MANDATORY_DATA),validationFunction:r.noSpecialCharactersValidator,subRequirements:[]}]}}})),define("profileArea/signInSecurity/resetPassword/controllers/resetPassword",["@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","common/lib/modelUtil","common/utility/deviceSignature","profileArea/signInSecurity/lib/constants"],(function(e,t,i,n){"use strict";return function(r){var a=this,o=e.getFeatureTreatments,s=r.profileContainer.constants,c=r.dcu.dynamicContent,l=t.DataType,d="resetPassword";a._resetPassword=function(){return a._renderResetPassword()},a._renderResetPassword=function(){return a.registry.hasComponent(d)||(t.enrichComponent(a,d,"update_my_password").data({$tokenUser:l.Description,$resolveLoader:l.Description,$userId:l.Description,$checkerRequirements:l.List,$passwordUpdated:l.OnOff,$pageTitle:l.Description,$showSpinner:l.OnOff}),a.initModel()),r.profileContainer.setPageProperties({pageTitle:c.get(a.components[d],"updateMyPasswordHeader","RESET_PASSWORD"),containerClasses:"legacy-profile-styles"}),r.profileContainer.displayPageAdvisory(a.components.resetPassword,{advisory:"passwordMessage.PROFILE"}),a.dataProvider.request("resetPassword.list"),r.registerDirtyFormOverlay(),[a.components[d],d,s.RENDER_TARGET]},a.defineMappers=function(){a.dataProvider.mappers={resetPassword:{update:{success:a.onUpdateSuccess,failure:a.onServiceFailure},list:{success:a.onListSuccess,failure:a.onServiceFailure}}}},a.onInit=function(){a.defineMappers(),r.updatePassword=a.updatePassword,r.getSplitIOFeatureFlags=o},a.resetPassword=function(){return r.getSplitIOFeatureFlags(["cxo_myProfile_signInSecurity_enable"],n.splitIoFeatureFlags).then((function(e,t){return e&&e.cxo_myProfile_signInSecurity_enable?r.privateState("/dashboard/updateCredentials/resetPassword/resetPassword",{targetId:"#my-profile-page-content"}):(t&&r.logger.error("getSplitIOFeatureFlags ",t),a._resetPassword())})),a._resetPassword()},a.confirmResetPassword=function(){r.profileContainer.displayPageAdvisory(a.components.resetPassword,{advisory:"passwordMessage.PROFILE"}),r.profileContainer.displayPageAlert(a.components.resetPassword,{header:"updateMyPasswordConfirmationMessage",type:"success"})},a.updatePassword=function(e){var t=n.resetPassword,o={auth_passwd:e.newPassword,auth_passwd_org:e.password,auth_userid:e.userId,auth_siteId:t.SITE_ID,auth_deviceSignature:i.getDeviceSignature(),auth_deviceCookie:r.config.authDeviceCookie||t.DEVICE_COOKIE,auth_contextId:t.CONTEXT_ID,type:t.TYPE,auth_deviceAdd:t.DEVICE_ADD};return e.$tokenUser&&(o.auth_tokencode=e.securityToken),a.dataProvider.request("resetPassword.update",o)},a.initModel=function(){a.model.update(d,{password:"",newPassword:"",securityToken:"",passwordRequirementsDisplayedState:!1,$passwordUpdated:!1,$tokenUser:void 0,$userId:void 0,$resolveLoader:!1,$showSpinner:!1,$checkerRequirements:[],confirmedPassword:""})},a.onUpdateSuccess=function(e,t,i,n){"success"===t.response?(a._resetWhiteListItems(),a.model.set("resetPassword.$passwordUpdated",!0),a.confirmResetPassword()):"sesinvalid"===t.response||"syserror"===t.response?r.profileContainer.displayPageAlert(a.components.resetPassword,{header:"updateMyPasswordErrorHeader.MISMATCHED_CONFIRMATION_DATA"}):r.profileContainer.displayPageAlert(a.components.resetPassword,{header:"updateMyPasswordErrorHeader.MISMATCHED_CONFIRMATION_DATA",advisory:a?.components?.resetPassword?.$tokenUser?"newPasswordError.INVALID_FORMAT_TOKEN_PASSWORD":"newPasswordError.INVALID_FORMAT"}),n.set("resetPassword.$showSpinner",!1)},a.onListSuccess=function(e,t,i,n){n.set("resetPassword.$resolveLoader",!0),n.set("resetPassword.$tokenUser",t.tokenUser),n.set("resetPassword.$userId",t.userId)},a.onServiceFailure=function(e,t,i,n){r.profileContainer.displayPageAlert(a.components.resetPassword,{header:"updateMyPasswordErrorHeader.SYSTEM_FAILURE",advisory:"updateMyPasswordErrorAdvisory.SYSTEM_FAILURE"}),n.set("resetPassword.$showSpinner",!1)},a._resetWhiteListItems=function(){a.model.update(d,{password:"",newPassword:"",confirmedPassword:"",securityToken:""})},r.registerDirtyFormOverlay=function(){r.bubble("dirtyRegister",{controller:a,compInstanceNames:["resetPassword"],target:s.RENDER_TARGET.target,whiteList:["password","newPassword","confirmedPassword","securityToken"]})}}})),define("profileArea/signInSecurity/lib/validators/resetPasswordCheckerValidators",["blue-app/validate/constraints","blue-app/validate/standardTypes"],(function(e,t){"use strict";var i=t.Password.constraints.reduce((function(e,t){return e[t.type]={},e[t.type].params=t.params,e}),{}),n=function(t){var n=i.ConstraintSet.params.constraints[1].params;return e.Numbers.validator(t,n)},r=function(t){var n=i.ConstraintSet.params.constraints[0].params;return e.Characters.validator(t,n)},a=function(t){return e.Pattern.validator(t,{regex:/[!#$%+/=@~]/})};return{lengthNonTokenValidator:function(t){return e.Length.validator(t,i.Length.params)},lengthTokenValidator:function(e){return 8===e.length},formatNonTokenValidator:function(e){return[n,r,a].reduce((function(t,i){return i(e)?++t:t}),0)>=2},formatTokenValidator:function(t){return n(t)&&r(t)&&function(t){return e.AlphaNumeric.validator(t)}(t)},consecutiveCharactersValidator:function(t){return function(t){return e.NonConsecutiveAlphaNumerics.validator(t,i.NonConsecutiveAlphaNumerics.params)}(t)&&function(t){return e.NonRepeatingAlphaNumerics.validator(t,i.NonRepeatingCharacters.params)}(t)}}})),define("profileArea/signInSecurity/lib/validators/resetPasswordValidators",["appkit-utilities/validation/util","profileArea/signInSecurity/lib/constants","blue-app/validate/constraints","profileArea/signInSecurity/lib/validators/resetPasswordCheckerValidators","blue-app/validate/standardTypes"],(function(e,t,i,n,r){"use strict";var a=t.errorType,o=r.Password.constraints.reduce((function(e,t){return e[t.type]={},e[t.type].params=t.params,e}),{}),s=function(e,t){return t.reduce((function(t,i){return!1===t?t:-1===e.indexOf(i)}),!0)};i.NonRepeatingAlphaNumerics.validator=function(e,t){for(var i="([a-z\\d!#$%+/=@~])",n=0;n<t.maxRepeating;++n)i+="\\1";return!new RegExp(i,"gi").test(e)};var c=function(e,t){return{isValid:e,errorType:e?"":t}},l=function(t,i){var n=e.getProperty(t,i).length;return 0===n?c(!1,a.MISSING_MANDATORY_DATA):i.$tokenUser&&8!==n?c(!1,a.INVALID_FORMAT_LENGTH_TOKEN_PASSWORD):n<8||n>32?c(!1,a.INVALID_FORMAT_LENGTH):c(!0)},d=function(t,n){var r=e.getProperty(t,n),s=i.NonConsecutiveAlphaNumerics.validator(r,o.NonConsecutiveAlphaNumerics.params);return c(s,a.INVALID_FORMAT_CONSECUTIVE_CHARACTERS)},u=function(t,n){var r=e.getProperty(t,n),s=i.NonRepeatingAlphaNumerics.validator(r,o.NonRepeatingCharacters.params);return c(s,a.INVALID_FORMAT_IDENTICAL_CHARACTERS)},p=function(t,i){var n=e.getProperty(t,i)!==i.$userId;return c(n,a.INVALID_FORMAT_SAME_AS_USER_ID)},m=function(i,n){var r=e.getProperty(i,n).toLowerCase(),o=s(r,t.reservedWords);return c(o,a.INVALID_WORD)},f=function(i,n){var r=e.getProperty(i,n).toLowerCase(),o=s(r,t.bankNames);return c(o,a.PASSWORD_POLICY_MISMATCH_CHASE_NAME)},A=function(t,n){var r=e.getProperty(t,n),o=i.Pattern.validator(r,{regex:/[!#$%+/=@~]/})&&n.$tokenUser,s=null;return o&&(s="confirmedPassword"===t.item?a.MISMATCHED_CONFIRMATION_DATA:n.$tokenUser?"INVALID_FORMAT_TOKEN_PASSWORD":""),c(!o,s)},g=function(t,i){var n=e.getProperty(t,i),r=i.newPassword;return c(n===r,a.MISMATCHED_CONFIRMATION_DATA)};return{token:{password:[],newPassword:[l,function(t,i){var r=e.getProperty(t,i),o=n.formatTokenValidator(r),s=a.INVALID_FORMAT_TOKEN_PASSWORD;return c(o,s)},A,d,u,p,m,f],confirmedPassword:[A,g]},nonToken:{password:[],newPassword:[l,function(t,i){var r=e.getProperty(t,i),o=n.formatNonTokenValidator(r),s=a.INVALID_FORMAT;return c(o,s)},d,u,p,m,f],confirmedPassword:[g]}}})),define("profileArea/signInSecurity/resetPassword/components/resetPassword",["appkit-utilities/validation/componentValidate","appkit-utilities/validation/variations","profileArea/signInSecurity/lib/constants","profileArea/signInSecurity/lib/validators/resetPasswordValidators","profileArea/signInSecurity/lib/validators/resetPasswordCheckerValidators"],(function(e,t,i,n,r){"use strict";return function(t){var a=this,o=t.dcu.dynamicContent;a.onInit=function(){a.$pageTitle=o.get(a,"updateMyPasswordHeader","RESET_PASSWORD"),t.globalContentMixin.call(a,["warningAda","importantAda","requiredAda"]),o.set(a,"passwordMessage","PROFILE"),a.onData("$tokenUser",a.setupCustomValidations,{init:!1}),t.hybrid&&(t.jsBridge.isHybridBackButtonRequired=function(){return!1})},a.onReady=function(){t.hybrid&&t.jsBridge.updateNativeNavigationBarButtons(t,{showProfileSettings:!1,showHamburgerMenu:!1,showClose:!1,showCancel:!1,showBackArrow:!0})},a.confirmUpdateMyPassword=function(e){a.$showSpinner=!0,a.validateDataItems(Object.keys(a.v));var n=a.$tokenUser?i.requiredFields.token:i.requiredFields.nonToken;if(a._checkRequiredFields(Object.keys(n)))return t.profileContainer.dismissPageAlert(),t.updatePassword(e.context);a.$showSpinner=!1},a.requestPasswordRules=function(e){a.passwordRequirementsDisplayedState=!e.context.isOpen},a.setupCustomValidations=function(r){var o=r?i.tokenUserCustomVariations:i.customVariations,s=r?n.token:n.nonToken;t.variations=Object.assign({},t.variations,o),e.call(a,t,s),a.v=r?a.configureValidation(i.requiredFields.token):a.configureValidation(i.requiredFields.nonToken),a._setupCheckerRequirements(r)},a.configureValidation=function(e){var t=Object.keys(e),i={},n={};return t.forEach((function(e){i[e]={isValid:!0,errorMessage:"",errorType:""},n[e]=!0})),a.whiteList=n,i},a._checkRequiredFields=function(e){return e.reduce((function(e,t){return!0===e?a.v[t].isValid:e}),!0)},a._setupCheckerRequirements=function(e){var t=i.checkerVariations.newPassword,n=e?"passwordValidationAdvisoryTokenUser":"passwordValidationAdvisory",s=e?r.lengthTokenValidator:r.lengthNonTokenValidator,c=e?r.formatTokenValidator:r.formatNonTokenValidator,l=[{text:o.get(a,n,t.INVALID_FORMAT_MISSING_ALPHABET)},{text:o.get(a,n,t.INVALID_FORMAT_MISSING_NUMBER)}];l.push({text:o.get(a,n,e?t.INVALID_FORMAT_RESTRICTED_SPECIAL_CHARACTERS:t.INVALID_FORMAT_SPECIAL_CHARACTERS)}),a.$checkerRequirements=[{text:o.get(a,n,t.INVALID_FORMAT_LENGTH),validationFunction:s,subRequirements:[]},{text:o.get(a,n,t.INVALID_FORMAT),validationFunction:c,subRequirements:l},{text:o.get(a,n,t.INVALID_FORMAT_CONSECUTIVE_CHARACTERS),validationFunction:r.consecutiveCharactersValidator,subRequirements:[]}]}}})),define("profileArea/accountSettings/servicePlan/lib/servicePlanDataMapper",[],(function(){"use strict";var e=function(e,t){return{servicePlanId:t,servicePlanName:e.subHeader,servicePlanAdvisory:e.bodyText}};return{formatPlanCTLOnly:function(t){return{servicePlans:t.result.managedService.components[0].sections[0].subSections.map(e)}}}})),define("profileArea/accountSettings/servicePlan/lib/servicePlanUtil",[],(function(){"use strict";var e={1:"&#185;",2:"&#178;",3:"&#179;",4:"&#8308;",5:"&#8309;",6:"&#8310;",7:"&#8311;",8:"&#8312;",9:"&#8313;"},t=function(t,i){return isNaN(i)?i:e[i]||i};return{loadComponents:function(e){for(var t,i,n=e.length,r=this,a=[],o=0;o<n;o+=1)i=(t=e[o]).componentName,t&&!r.registry.hasComponent(i)&&(r.registry.updateComponent(i,{model:r.model.lens(t.model)}),a.push([r.components[i],t.view,{target:t.target,append:t.append}]));return a},findFootnote:function(e,t){return e.find((function(e){return e.title===t}))},generateOverlayMessageFormat:function(e){return e.replace(/<\/?p>|\n/g,"").replace(/<sup>(.+?)<\/sup>/g,t)}}})),define("profileArea/accountSettings/servicePlan/lib/ctlServicePlanUtil",[],(function(){"use strict";var e="ctlServicePlanComponent",t=function(e){return(e=e||[]).map((function(e){return{servicePlanId:e.identifier,featureGroupHeader:e.header,features:(t=e.bodyText,i=[],i.push({featureName:t}),i)};var t,i}))};return{processSuccess:function(i,n,r,a){var o,s,c,l,d=n.result.managedService;return o={bankingServicePlans:(s=(c=d.components[0].sections,l="features",c.find((function(e){return e.identifier===l}))||{}).subSections,[{featureGroups:t(s)}])},a.update(e,o),n},processFailure:function(t,i,n,r){r.update(e,{isSystemFailure:!0})}}})),define("profileArea/accountSettings/servicePlan/controllers/servicePlan",["require","profileArea/accountSettings/servicePlan/lib/servicePlanDataMapper","profileArea/accountSettings/servicePlan/lib/servicePlanUtil","profileArea/accountSettings/servicePlan/lib/ctlServicePlanUtil","appkit-utilities/content/dcu","profileArea/sharedLib/apptelTracker","common/lib/elementObserver","profileArea/sharedLib/constants","common/lib/modalApi","common/lib/utility/commonComponentsUtil"],(function(e){"use strict";var t=e("profileArea/accountSettings/servicePlan/lib/servicePlanDataMapper"),i=e("profileArea/accountSettings/servicePlan/lib/servicePlanUtil"),n=e("profileArea/accountSettings/servicePlan/lib/ctlServicePlanUtil"),r=e("appkit-utilities/content/dcu").dynamicContent,a=e("profileArea/sharedLib/apptelTracker"),o=e("common/lib/elementObserver"),s=e("profileArea/sharedLib/constants"),c={servicePlanCTLOnlyComponent:{componentName:"servicePlanCTLOnlyComponent",view:"servicePlanCTLOnly",target:"#my-profile-page-content",model:"servicePlanCTLOnlyComponent"},ctlServicePlanComponent:{componentName:"ctlServicePlanComponent",view:"ctlServicePlan",target:"#my-profile-page-content",model:"ctlServicePlanComponent"},upgradePlanComponent:{componentName:"upgradePlanComponent",view:"upgradePlan",target:"#content",model:"upgradePlanComponent"},servicePlanComponent:{componentName:"servicePlanComponent",view:"servicePlan",target:"#my-profile-page-content",model:"servicePlanComponent"}};return function(l){var d=this;l.showContactBankerDashboard=!0;var u=function(){var e=i.loadComponents.call(d,[c.servicePlanCTLOnlyComponent]),n=d.components.servicePlanCTLOnlyComponent.model;return n.set("servicePlanCTLOnlyComponent.showError",!1),n.set("servicePlanCTLOnlyComponent.loaderBundlePlanDisplay",!0),function(){var e=d.components.servicePlanCTLOnlyComponent.model;return d.callServicePlanContentService("ctlOnly").then((function(e){return t.formatPlanCTLOnly(e)})).then((function(t){e.set("servicePlans",t.servicePlans)}),(function(){e.set("showError",!0)}))}().then((function(){return n.set("servicePlanCTLOnlyComponent.loaderBundlePlanDisplay",!1),l.elementObserver.isInsertedPromise("#my-profile-page-content").then((function(){l.area.broadcast("renderMyProfileMenuMobile"),l.profileContainer.setPageProperties({pageTitle:r.get(d.components.servicePlanCTLOnlyComponent,"updateServicePlanHeader"),containerClasses:"legacy-profile-styles"})}))})),e};d.onInit=function(){d.stateName="servicePlan",d.elementObserver=new o,l.Api={modal:new(e("common/lib/modalApi"))(d)},l.commonComponentsUtil=e("common/lib/utility/commonComponentsUtil")(d),l.dcu=l.dcu.dynamicSettings,l.elementObserver=d.elementObserver,l.profileUrls=s.profileUrls,d.dataProvider.mappers={servicePlan:{getCtlServicePlan:{success:n.processSuccess,failure:n.processFailure}}}},d.callServicePlanContentService=function(e){return l.services.servicePlan["content."+e]()},d.updateServicePlanAfterProfileDetails=function(){return l.commonComponentsUtil.showSpinner({target:"#my-profile-page-content",overlayType:"INSECTION",append:!1}),d.callServicePlanListService().then(d._handleSuccessfulListService,d._handleFailedCall).then((function(e){return l.commonComponentsUtil.hideSpinner({target:"#my-profile-page-content"}),a.logLeaveAction("$$Profile_Accts"),e}))},d.checkForCREBundles=function(e){return e.currentServiceBundle&&l.constants.profileConstants.CRE[e.currentServiceBundle]},d.checkForCtlServicePlan=function(e){return e.currentServiceBundle&&l.constants.profileConstants.CTL_BUNDLES[e.currentServiceBundle]},d.callServicePlanListService=function(){return l.services.servicePlan["plans.list"]()},d.confirmUpdateServicePlan=function(){d.callServicePlanListService().then(d._handleSuccessfulListService,d._handleFailedCall).then((function(){d.components.servicePlanComponent._updateServicePlanCb()}),d._handleFailedCall)},d._handleFailedCall=function(){return d.model.update("servicePlanComponent",d.initialModel||{}),d.model.set("servicePlanComponent.showError",!0),d._renderServicePlanComponent("servicePlanComponent")},d._handleSuccessfulListService=function(e){return"UPGRADE_INELIGIBLE"===e.statusCode&&(d.upgradeIneligible=!0),d.listResponseData=e,l.userInfoPromise.then((function(){return d.checkForCREBundles(e)?u():d.checkForCtlServicePlan(e)?(t=i.loadComponents.call(d,[c.ctlServicePlanComponent]),(n=d.components.ctlServicePlanComponent.model).set("isSystemFailure",!1),n.set("loaderCTLServicePlanDisplay",!1),d.dataProvider.request("servicePlan.getCtlServicePlan").then((function(){return n.set("loaderCTLServicePlanDisplay",!1),l.elementObserver.isInsertedPromise("#my-profile-page-content").then((function(){l.area.broadcast("renderMyProfileMenuMobile"),l.profileContainer.setPageProperties({pageTitle:r.get(d.components.servicePlanComponent,"updateServicePlanHeader"),containerClasses:"legacy-profile-styles"})}))})).catch((function(){n.set("isSystemFailure",!0)})),t):d._renderServicePlanComponent("servicePlanComponent");var t,n})).then(null,d._handleFailedCall)},d._renderServicePlanComponent=function(e){var t;return t=i.loadComponents.call(d,[c[e]]),l.profileContainer.setPageProperties({pageTitle:r.get(d.components.servicePlanComponent,"updateServicePlanHeader"),containerClasses:"legacy-profile-styles"}),d.executeCAV(t).then((function(){l.area.broadcast("renderMyProfileMenuMobile"),d.components.servicePlanComponent&&d.components.servicePlanComponent._setUpOverlay()}))},d.updateServicePlan=d.updateServicePlanAfterProfileDetails}})),define("profileArea/accountSettings/servicePlan/components/servicePlan",["require","profileArea/sharedLib/profileMixin"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileMixin");return function(e){var i=this;i.init=function(){t.call(i),i.model.set("requestProfileSettingsMenuAda",e.globalContent.requestProfileSettingsMenuAda),i.setDynamicContent()},i.setDynamicContent=function(){var t="SYSTEM_FAILURE",n=e.dcu;i.model.get("showError")&&(n.set(i,"updateServicePlanErrorHeader",t),n.set(i,"updateServicePlanErrorAdvisory",t))}}})),define("profileArea/accountSettings/servicePlan/components/servicePlanCTLOnly",["require","profileArea/sharedLib/profileMixin","appkit-utilities/content/dcu"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileMixin"),i=e("appkit-utilities/content/dcu").dynamicContent;return function(e){var n=this;n.onInit=function(){t.call(n),e.globalContentMixin.call(n,["importantAda","requestProfileSettingsMenuAda"]),i.setMultiple(n,[{key:"servicePlanLabel",variation:"COMMERCIAL_REAL_ESTATE_FREE"},{key:"updateServicePlanErrorHeader",variation:"SYSTEM_FAILURE"},{key:"updateServicePlanErrorAdvisory",variation:"SYSTEM_FAILURE"}])}}})),define("profileArea/accountSettings/servicePlan/components/ctlServicePlan",["require","profileArea/sharedLib/profileMixin","appkit-utilities/content/dcu"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileMixin"),i=e("appkit-utilities/content/dcu").dynamicContent;return function(e){var n=this;n.onInit=function(){t.call(n),i.setMultiple(n,[{key:"servicePlanHeader",variation:"COMMERCIAL_TERM_LOAN"},{key:"servicePlanAdvisory",variation:"COMMERCIAL_TERM_LOAN"},{key:"currentServicePlanMessage",variation:"COMMERCIAL_TERM_LOAN"},{key:"servicePlanErrorHeader",variation:"SYSTEM_FAILURE"},{key:"servicePlanErrorAdvisory",variation:"SYSTEM_FAILURE"}]),e.globalContentMixin.call(n,["requestProfileSettingsMenuAda","importantAda"])}}})),define("profileArea/accountSettings/servicePlan/components/upgradePlan",(function(){})),define("profileArea/accountSettings/paperless/controllers/paperless",["require","common/lib/flyout/flyoutUtility","appkit-utilities/content/dcu","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e){"use strict";return function(t){var i=this,n=e("common/lib/flyout/flyoutUtility"),r=e("appkit-utilities/content/dcu").dynamicContent,a=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd");i.init=function(){a.getFeatureTreatments(["cxoweb_profile_paperless_microapp"],{cxoweb_profile_paperless_microapp:!1}).then((function(e){e.cxoweb_profile_paperless_microapp&&i.model.set("paperless.$isMicroAppEnabled",!0)}))},i.updateMyPaperlessPreferences=function(){if(n.isFlyout(t.state()))return!0;var e=i.model.get("paperless.$isMicroAppEnabled");return t.profileContainer.setPageProperties({pageTitle:r.get(i.components.paperless,"myPaperlessPreferencesHeader"),containerClasses:"legacy-profile-styles",$isMicroAppEnabled:e}),e||i.components.paperless.renderBlock(),[i.components.paperless,"paperless",t.renderTarget]},i.confirmUpdatePaperlessPreferences=function(){i.isBaseCompRegistered()||(i.registry.destroyComponent("paperless"),i.context.state(t.profileUrls["accountPaperlessPreferences.updateMyPaperlessPreferences"]))},i.isBaseCompRegistered=function(){return i.components&&i.components.paperless&&i.components.paperless.__enabled}}})),define("profileArea/accountSettings/paperless/components/paperless",["appkit-utilities/accountInfo/accountInfo","profileArea/sharedLib/profileMixin"],(function(e,t){"use strict";return function(i){var n=(new e).isGWMUser();this.init=function(){t.call(this),i.globalContentMixin.call(this,"requestProfileSettingsMenuAda")},this.renderBlock=function(){var e=i.state();e.controller="paperlessPreferences",e.action="index",i.privateState(e,{seeJPMBranding:n,paperlessRefactorFlag:!0,serviceEnableFlag:"APIGW"})}}})),define("profileArea/signInSecurity/securityCode/services/dataTransform/securityCode",["require","appkit-utilities/content/dcu","common/lib/fakeComponent"],(function(e){"use strict";var t=e("appkit-utilities/content/dcu").dynamicContent,i=e("common/lib/fakeComponent")("UPDATE_SECURITY_CODE","profileArea");return function(){return{buildDeviceMask:function(e,n){var r=t.get(i,"phoneNumberMaskSymbol"),a=t.get(i,"horizontalEllipsisSymbol");return"EMAIL"===n?[e.prefix,a,e.suffix,"@",e.domain].join(""):[r,e.phone].join("")},transformContactList:function(e){var t=[];return"phones"in e&&e.phones.length&&e.phones.forEach((function(e){e.identificationDeliveryId=String(e.contactId),e.identificationDeliveryDeviceType="PHONE",e.identificationDeliveryDevice=this.buildDeviceMask(e,"PHONE"),e.hasExtension=!!("extension"in e),t.push(e)}),this),"emails"in e&&e.emails.length&&e.emails.forEach((function(e){e.identificationDeliveryId=String(e.contactId),e.identificationDeliveryDeviceType="EMAIL",e.identificationDeliveryDevice=this.buildDeviceMask(e,"EMAIL"),t.push(e)}),this),e.contacts=t,e}}}})),define("profileArea/signInSecurity/securityCode/controllers/securityCode",["require","common/lib/modelUtil","profileArea/signInSecurity/securityCode/services/dataTransform/securityCode","common/lib/modalApi","common/lib/utility/commonComponentsUtil"],(function(e){"use strict";var t=null,i=e("common/lib/modelUtil");return function(n){var r=this,a=e("profileArea/signInSecurity/securityCode/services/dataTransform/securityCode")(n);r.onInit=function(){t=n.dcu.dynamicContent,n.on({"profileSecurityCode/setTgtData":function(e){n.Api.modal.setTgtData(e.data,!1)}}),n.Api={modal:new(e("common/lib/modalApi"))(r)},n.commonComponentsUtil=e("common/lib/utility/commonComponentsUtil")(r)},r.updateSecurityCode=function(){return r.registry.hasComponent("securityCode")?r.components.securityCode._switchScreens("updateSecurityCode"):(i.enrichComponent(r,"securityCode","update_security_code").spec({data:{$focusPlacement:i.DataType.Description,$currentView:i.DataType.Description,$nonServiceError:i.DataType.OnOff}}),n.profileContainer.setPageProperties({pageTitle:t.get(r.components.securityCode,"updateSecurityCodeHeader")}),r._callContactsListService())},r._switchScreensOrRedirect=function(e,t){r.registry.hasComponent("securityCode")?void 0!==t?(r.components.securityCode._switchScreens(e),n.exitDialogUtil.manageFormDirty(t,"profileSecurityCode")):r.components.securityCode._switchScreens(e):n.state(n.profileUrls["securityCode.updateSecurityCode"])},r.handleRequestUrlEntered=function(){r._switchScreensOrRedirect("enterIdentificationCode")},r.handleInitiateUrlEntered=function(){r._switchScreensOrRedirect("initiateUpdateSecurityCode",!0)},r.handleConfirmUrlEntered=function(){r._switchScreensOrRedirect("confirmUpdateSecurityCode",!1)},r.handleResendUrlEntered=function(){r._switchScreensOrRedirect("updateSecurityCode")},r.handleProvideUrlEntered=function(){r._switchScreensOrRedirect("enterIdentificationCode")},r._callContactsListService=function(){return n.commonComponentsUtil.showSpinner({target:n.renderTarget,overlayType:"INSECTION",append:!1}),n.services.securityCode["contacts.list"]({reasonCode:"SECURITY_CODE"}).then((function(e){r._handleSuccessfulContactsService(a.transformContactList(e))}),(function(){r._handleFailedService()}))},r._handleSuccessfulContactsService=function(e){return r._setSecurityCodeModel(e),r._renderSecurityCodeComponent()},r._setSecurityCodeModel=function(e){var i={$focusPlacement:null,$currentView:null,$nonServiceError:!1,identificationDeliveryId:"nonEmptyString",identificationCode:"",currentView:e&&!e.isSubUser?"sendSecurityCodeView":"initiateUpdateSecurityCode",nonServiceError:!1,requestProfileSettingsMenuAda:n.globalContent.requestProfileSettingsMenuAda};e&&!e.isSubUser&&(i.identificationDelivery=e.contacts),r.model.set("securityCode",i),e||r.components.securityCode._handleFailedRequest(),t.set(r.components.securityCode,"updateSecurityCodeMessage","REQUEST_IDENTIFICATION"),n.exitDialogUtil.setListeners(r.components.securityCode)},r._handleFailedService=function(){r._setSecurityCodeModel(),r._renderSecurityCodeComponent()},r._renderSecurityCodeComponent=function(){var e=[r.components.securityCode,"securityCode",n.renderTarget];return r.executeCAV(e).then((function(){n.area.broadcast("renderMyProfileMenuMobile")}))}}})),define("profileArea/sharedLib/idCodeValidator",["appkit-utilities/validation/util","blue-app/validate/var/ADDRESS_LINE_REGEX"],(function(e,t){"use strict";var i=function(e,t){return{isValid:e,errorType:e?"":t}};return{idCode:{identificationCode:[function(t,n){var r=e.getProperty(t,n).length>0;return i(r,"MISSING_MANDATORY_DATA")},function(n,r){var a=e.getProperty(n,r),o=t.test(a)&&a.length>=8;return i(o,"INVALID_FORMAT")}]}}})),define("profileArea/signInSecurity/securityCode/components/securityCode",["require","profileArea/sharedLib/profileMixin","appkit-utilities/validation/componentValidate","appkit-utilities/validation/variations","profileArea/sharedLib/idCodeValidator"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileMixin"),i=null,n="SECURITY_CODE",r=function(){},a=e("appkit-utilities/validation/componentValidate"),o=e("appkit-utilities/validation/variations"),s=e("profileArea/sharedLib/idCodeValidator");return function(e){var c=this;c.onInit=function(){t.call(c),i=e.dcu.dynamicContent,c.output.on("ready",(function(){c._setupInitialValidation(),c.input.on({ractiveModelCacheExitDialog:function(t){"initiateUpdateSecurityCode"!==c.$currentView&&e&&e.exitDialogUtil.manageFormDirty(t.data.isDirty,"profileSecurityCode")}})}))},c._setupInitialValidation=function(){c.model.update({identificationCode:""});c.v={identificationCode:{isValid:!0,property:"identificationCode",errorMessage:""}},e.variations=o,a.call(c,c.context,s.idCode);c.model.set("whiteList",["identificationCode"])},c._switchScreens=function(e){c._clearFormData(),c._updateAdvisoryMessage(e),c._setCurrentScreen(e),c.$focusPlacement=null},c._setCurrentScreen=function(e){c.$currentView=e,c.$nonServiceError=!1},c._updateAdvisoryMessage=function(e){var t={updateSecurityCode:"REQUEST_IDENTIFICATION",enterIdentificationCode:"SUBMIT_IDENTIFICATION",initiateUpdateSecurityCode:"REQUEST_SECURITY_CODE",confirmUpdateSecurityCode:"",systemErrorView:""};t[e]&&i.set(c,"updateSecurityCodeMessage",t[e])},c._clearFormData=function(){c.identificationCode="",c.identificationDeliveryId="nonEmptyString",c.securityCode="",c.confirmSecurityCode=""},c.requestIdentificationCode=function(){var e={reasonCode:n,otpMethod:"TEXT"},t=c.identificationDeliveryId,i=String(t).split("-");e.contactId=i[0],i[1]&&(e.otpMethod=i[1]),c._callService("otp.send",e).then(c._handleSuccessfulIdentificationCodeRequest,c._handleFailedRequest)},c._callService=function(t,i){return e.commonComponentsUtil.showSpinner({target:"#my-profile-page-content",overlayType:"INSECTION",append:!0}),e.services.securityCode[t](i)},c._handleSuccessfulIdentificationCodeRequest=function(t){e.commonComponentsUtil.hideSpinner({target:e.renderTarget.target}),t.prefix&&(c.prefix=t.prefix),e.state(e.profileUrls["securityCode.requestIdentificationCode"])},c._handleFailedRequest=function(){var t="SYSTEM_FAILURE";e.commonComponentsUtil.hideSpinner({target:"#my-profile-page-content"}),i.set(c,"updateSecurityCodeErrorHeader",t),i.set(c,"updateSecurityCodeErrorAdvisory",t),c._setCurrentScreen("systemErrorView")},c.initiateUpdateSecurityCode=function(){var e={prefix:c.prefix,value:c.identificationCode,reasonCode:n};c._callService("otp.verify",e).then(c._handleSuccessfulVerification,c._handleFailedRequest)},c._handleSuccessfulVerification=function(t){e.commonComponentsUtil.hideSpinner({target:"#my-profile-page-content"}),t.statusCode?c._displayNonServiceError("IDENTIFICATION_CODE_INVALID"):e.state(e.profileUrls["securityCode.initiateUpdateSecurityCode"])},c.confirmUpdateSecurityCode=function(){var e={securityCode:c.securityCode};c._callService("seccode.update",e).then(c._handleSuccessfulUpdate,c._handleFailedRequest)},c._handleSuccessfulUpdate=function(t){e.commonComponentsUtil.hideSpinner({target:"#my-profile-page-content"}),"INVALID"===t.statusCode?c._displayNonServiceError("INVALID_CODE"):e.state(e.profileUrls["securityCode.confirmUpdateSecurityCode"])},c._displayNonServiceError=function(e){i.set(c,"updateSecurityCodeErrorHeader",e),i.set(c,"updateSecurityCodeErrorAdvisory",e),c.$nonServiceError=!0,c.$focusPlacement=null,c.$focusPlacement={selectorId:"#inner-confirmation-error-message"}},c.provideIdentificationCode=function(){var e={reasonCode:n};c._callService("prefix.list",e).then(c._handleSuccessfulPrefixList,c._handleFailedRequest)},c._handleSuccessfulPrefixList=function(t){e.commonComponentsUtil.hideSpinner({target:"#my-profile-page-content"}),t.prefix?(c.prefix=t.prefix,e.state(e.profileUrls["securityCode.provideIdentificationCode"])):c._displayNonServiceError("IDENTIFICATION_CODE_UNAVAILABLE")},c.resendIdentificationCode=function(){e.state(e.profileUrls["securityCode.resendIdentificationCode"])},c.cancelUpdateSecurityCode=function(){e.state(e.profileUrls["securityCode.updateSecurityCode"])},c._handleSkiplinkPress=function(t){e.profileUtil.skipIfEnterSpaceOrClick(c,t,"skipBack")},c.toggleConfirmationMessageDetail=function(t){e.profileUtil.confirmationMessageDetails(c,t)},c.requestConfirmationMessageDetails=r,c.exitConfirmationMessageDetails=r,c.skipBack=r}})),define("bluespec/manage_transaction_limits",[],(function(){return{name:"MANAGE_TRANSACTION_LIMITS",data:{transactionLimits:{type:"List",items:{transactionType:{type:"Description",exportable:!0},currentLimit:"Money",newLimit:"Money",updateLimitOptionName:"Description"}},updateLimitOptions:{type:"List",items:{updateLimitOptionName:"Description",updateLimitOptionId:"Description"}},transactionTypeOptions:{type:"List",items:{transactionTypeOption:"Description",transactionTypeOptionID:"Description"}},businessRelationshipManagerFullName:{type:"Description"},businessRelationshipManagerPhoneNumber:{type:"Description"}},actions:{updateTransactionLimit:!0,manageTransactionLimit:!0,requestAchPaymentServicesHelpMessage:!0},settings:{manageTransactionLimitsHeader:!0,manageTransactionLimitsMessage:!0,wireTransferLimitAdvisory:!0,transactionTypeLabel:!0,currentLimitLabel:!0,newLimitLabel:!0,updateLimitOptionsLabel:!0,updateTransactionLimitLabel:!0,updateTransactionLimitAda:!0,updateTransactionLimitLabelAda:!0,updateLimitOptionPlaceholder:!0,updateLimitOptionName:!0,updatesContentAda:!0,currencyDollarSymbolLabel:!0,transactionType:!0,transactionTypeOption:!0,updateLimitPendingApprovalMessage:!0,newLimitError:!0,errorAnnouncementAda:!0,transactionLimitsConfirmationHeader:!0,transactionLimitsConfirmationMessage:!0,transactionLimitsErrorHeader:!0,transactionLimitsErrorAdvisory:!0,manageTransactionLimitsErrorHeader:!0,manageTransactionLimitsErrorAdvisory:!0,checkmarkAda:!0,importantAda:!0,achPaymentServicesHelpMessage:!0,achPaymentServicesHelpMessageAda:!0}}})),define("profileArea/paymentPreferences/manageTransactionLimits/components/manageTransactionLimits",["require","common/lib/quickPay/qpFormatUtility","profileArea/sharedLib/profileMixin","profileArea/sharedLib/featureProvider"],(function(e){"use strict";var t=e("common/lib/quickPay/qpFormatUtility").formatCurrencyUtility,i=e("profileArea/sharedLib/profileMixin"),n=null,r="SYSTEM_FAILURE";return function(a){var o=this;const s=e("profileArea/sharedLib/featureProvider")(a);a.featureProvider=s,o.init=function(){n=a.dcu.dynamicContent,i.call(o),o.output.on("ready",(function(){o.input.on({ractiveModelCacheExitDialog:function(e){a&&a.exitDialogUtil.manageFormDirty(e.data.isDirty,"manageTransactionLimitForm")}})})),a.globalContentMixin.call(o,["beginHelpMessageAda","endHelpMessageAda","exitHelpMessageAda"])},o.manageTransactionLimit=function(e){o._resetShowHideInput(e.context.index),o[{INCREASE:"_requestLimitIncrease",DECREASE:"_requestLimitDecrease"}[e.domEvent.target.value]](e.context.index),a.exitDialogUtil.manageFormDirty(!0,"manageTransactionLimitForm")},o._requestLimitIncrease=function(e){var t="transactionLimits."+e+".showNewLimitInput",i="transactionLimits."+e+".limitUpdateTypeOptionId",n=o.model.get("transactionLimits."+e+".newLimitRequired");!n&&a.state(a.profileUrls["transactionLimits.manageTransactionLimits"],{updateLimitOptionName:"INCREASE"}),o.model.set(t,n),o.model.set(i,"INCREASE"),o._updateView(t,n)},o._requestLimitDecrease=function(e){var t="transactionLimits."+e+".decreaseLimit",i="transactionLimits."+e+".limitUpdateTypeOptionId";o.model.set(t,!0),o.model.set(i,"DECREASE"),o._updateView(t,!0)},o._resetShowHideInput=function(e){o.model.set("transactionLimits."+e+".showNewLimitInput",null),o.model.set("transactionLimits."+e+".decreaseLimit",null)},o._hideInlineMessage=function(){o.model.get("transactionLimits").forEach((function(e,t){e.updateServiceError=null,e.updateServiceSuccess=null,o._updateView("transactionLimits."+t+".updateServiceError",null),o._updateView("transactionLimits."+t+".updateServiceSuccess",null)}))},o.updateTransactionLimit=function(e){var t,i=e.context.index,n=o.model.get("transactionLimits."+i+".transactionTypeVariation"),r=o.model.get("transactionLimits."+i+".transactionTypeID"),s=o._isPendingApproval(i),c=a.is.defined(o.model.get("transactionLimits.isValid")),l=o.model.get("transactionLimits."+i+".isCustomValidationValid"),d=o.model.get("transactionLimits.validation");if(o.model.set("focusErrorInputField",void 0),o.model.set("focusAlertMessage",void 0),!s||"WIRES"===r||"WIRE"===r||("CML"===o.model.get("segment")||"CRE"===o.model.get("segment"))&&(["ACHXFER","BILL_PAY","ACH_COLLECTIONS","ACH_PAYMENTS","CASHFLOW_360"].indexOf(r)>=0||["EXTERNAL_TRANSFER","BILLPAY","ACH_COLLECTION","ACH_PAYMENT","CF360"].indexOf(r)>=0)){if(!c)return;if(!(o.model.get("transactionLimits.isValid")||a.is.undefined(a.util.array.find(d,{index:i})))||!l)return void o.model.set("focusErrorInputField",i);t=o.model.get("transactionLimits."+i+".newLimit").replace(/,/g,"")}a.commonComponentsUtil.showSpinner({target:"#transaction-limits-spinner",overlayType:"FULLSCREEN"});var u={serviceProductName:r,requestTypeCode:o.model.get("transactionLimits."+i+".limitUpdateTypeOptionId"),tokenIdentifier:o.model.get("transactionLimits."+i+".token"),productCustomerEnrollmentIdentifier:o.model.get("transactionLimits."+i+".productCustomerEnrollmentId")};return void 0!==t&&(u.requestedDailyLimitAmount=parseFloat(t)),a.services.transactionLimits["transactionlimits.update"](JSON.stringify(u)).then((function(e){if(o.handleServerResponse(n,e,i),a.exitDialogUtil.manageFormDirty(!1,"manageTransactionLimitForm"),!e.statusCode)return a.privateState(a.profileUrls["transactionLimits.refreshTransactionLimits"],{index:i})}),(function(e){409===e.status?o.handleServerResponse(n,e,i):o.handleNetworkServiceError(n,i)}))},o.handleNetworkServiceError=function(e,t){a.state(a.profileUrls["transactionLimits.updateTransactionLimit"],{transactionType:e}),o._hideInlineMessage(),o._displayInlineGenericError(t),a.commonComponentsUtil.hideSpinner({target:"#transaction-limits-spinner"})},o.handleServerResponse=function(e,t,i){a.state(a.profileUrls["transactionLimits.updateTransactionLimit"],{transactionType:e}),o._hideInlineMessage(),o._displayMessage(t,i),o._clearForm(i),a.commonComponentsUtil.hideSpinner({target:"#transaction-limits-spinner"})},o._displayInlineGenericError=function(e){o._setContent("transactionLimitsErrorHeader",r),o._setContent("transactionLimitsErrorAdvisory",r),o.model.set("transactionLimits."+e+".updateServiceError",!0),o._updateView("transactionLimits."+e+".updateServiceError",!0)},o._displayMessage=function(e,t){var i=e.issueCode,n=e.statusCode,r=e.errorCode,a="APPROVED",s="transactionTypeOption",c="transactionLimitsConfirmationMessage",l="transactionLimitsConfirmationHeader",d="INCREASE_APPROVED",u="DECREASE_APPROVED",p="INCREASE",m=o.model.get("segment");if(r){var f=r.indexOf("-");if(f>0){var A=r.slice(f+1);n=o._getErrorContentSetting(A,"NOT_MAPPED")}}o.model.set("transactionLimits."+t+".autoApproved",!1);var g="transactionLimits."+t+".transactionTypeID",E=["BMG","BOH","BPL"].indexOf(m)>-1,y="ACH_COLLECTIONS"===o.model.get(g)||"ACH_COLLECTION"===o.model.get(g);if(n){if("NOT_MAPPED"===n)return void o._displayInlineGenericError(t);var h=o._getErrorContentSetting(i,n),v=o._getErrorContentSetting(i,n);"DUPLICATE_REQUEST"===v&&y&&E&&e.firstName&&e.lastName&&e.phone?o._setContentWithDataToken("transactionLimitsErrorAdvisory",{businessRelationshipManagerFullName:e.firstName+e.lastName,businessRelationshipManagerPhoneNumber:e.phone},"DUPLICATE_REQUEST_WITH_RELATIONSHIP_MANAGER"):"DUPLICATE_REQUEST"===v&&y&&E?o._setContent("transactionLimitsErrorAdvisory","DUPLICATE_REQUEST_WITHOUT_RELATIONSHIP_MANAGER"):o._setContent("transactionLimitsErrorAdvisory",v),o._setContent("transactionLimitsErrorHeader",h),o.model.set("transactionLimits."+t+".updateServiceError",!0),o._updateView("transactionLimits."+t+".updateServiceError",!0),o.model.set("focusAlertMessage",t)}else{var C=o._isPendingApproval(t),_=o.model.get("transactionLimits."+t+".transactionTypeVariation"),S=o.model.get("transactionLimits."+t+".limitUpdateTypeOptionId");if(C&&S===p)o._setContentWithDataToken(l,{transactionTypeOptions:{transactionTypeOption:o._fetchContent(s,_)}},"INCREASE_PENDING_REVIEW"),o._setContent(c,"PENDING_REVIEW");else if(S)S===p?(o._setContentWithDataToken(l,{transactionTypeOptions:{transactionTypeOption:o._fetchContent(s,_)}},d),o._setContent(c,a)):(o._setContentWithDataToken(l,{transactionTypeOptions:{transactionTypeOption:o._fetchContent(s,_)}},u),o._setContent(c,a));else{var T=o.model.get("transactionLimits."+t+".currentLimit"),N=o.model.get("transactionLimits."+t+".newLimit");"string"==typeof T&&(T=T.replace(/,/g,"")),"string"==typeof N&&(N=N.replace(/,/g,"")),parseFloat(T)<parseFloat(N)?(o._setContentWithDataToken(l,{transactionTypeOptions:{transactionTypeOption:o._fetchContent(s,_)}},d),o._setContent(c,a)):(o._setContentWithDataToken(l,{transactionTypeOptions:{transactionTypeOption:o._fetchContent(s,_)}},u),o._setContent(c,a),"CML"!==m&&"CRE"!==m||o.model.set("transactionLimits."+t+".autoApproved",!0))}o.model.set("transactionLimits."+t+".updateServiceSuccess",!0),y&&E&&e.firstName&&e.lastName&&e.phone?o._setContentWithDataToken(c,{businessRelationshipManagerFullName:e.firstName+" "+e.lastName,businessRelationshipManagerPhoneNumber:e.phone},"BUSINESS_RELATIONSHIP_MANAGER_AVAILABLE"):y&&E&&o._setContent(c,"BUSINESS_RELATIONSHIP_MANAGER_NOT_AVAILABLE"),o._updateView("transactionLimits."+t+".updateServiceSuccess",!0),!C&&o._showNewLimit(t),o.model.set("focusAlertMessage",t)}},o._getErrorContentSetting=function(e,t){return{10058:"ACH_TRANSACTION_LIMIT_INCREASE_REQUEST_PENDING_REVIEW",50417:"INSUFFICIENT_SECURITY",50418:"INSUFFICIENT_SECURITY",50419:"INSUFFICIENT_SECURITY",50420:"INSUFFICIENT_SECURITY",50421:"INSUFFICIENT_SECURITY",50422:"INSUFFICIENT_SECURITY",70058:"DUPLICATE_REQUEST",59002:"DECREASE_AMOUNT_BELOW_MINIMUM",59003:"DECREASE_AMOUNT_GREATER_THAN_OR_EQUAL_TO_CURRENT_LIMIT",59004:"INCREASE_AMOUNT_LESS_THAN_OR_EQUAL_TO_CURRENT_LIMIT",59005:"INCREASE_AMOUNT_GREATER_THAN_DEFAULT_LIMIT",59001:"LIMIT_REQUIRED",50416:"MISSING_DUAL_CONTROL",59006:"WIRE_AMOUNT_EXCEEDED_STANDARD",59007:"WIRE_AMOUNT_EXCEEDED_PREMIUM",59008:"WIRE_AMOUNT_EXCEEDED_PREMIUM_PLUS",10056:"WIRE_AMOUNT_LESS_THAN_PENDING_WIRE",50423:"WIRE_AMOUNT_ABOVE_MAXIMUM",59e3:"WIRE_AMOUNT_MATCHED_CURRENT_LIMIT",120:"INSUFFICIENT_SECURITY",122:"INSUFFICIENT_SECURITY",123:"INSUFFICIENT_SECURITY",124:"INSUFFICIENT_SECURITY",125:"INSUFFICIENT_SECURITY",126:"INSUFFICIENT_SECURITY",127:"INSUFFICIENT_SECURITY",109:"DUPLICATE_REQUEST",114:"DECREASE_AMOUNT_BELOW_MINIMUM",111:"DECREASE_AMOUNT_GREATER_THAN_OR_EQUAL_TO_CURRENT_LIMIT",110:"INCREASE_AMOUNT_LESS_THAN_OR_EQUAL_TO_CURRENT_LIMIT",121:"MISSING_DUAL_CONTROL",115:"WIRE_AMOUNT_ABOVE_MAXIMUM",113:"WIRE_AMOUNT_MATCHED_CURRENT_LIMIT"}[e]||t},o._isPendingApproval=function(e){var t="transactionLimits."+e+".showNewLimitInput",i="transactionLimits."+e+".transactionTypeID",n="WIRES"===o.model.get(i)||"WIRE"===o.model.get(i),r="ACH_COLLECTIONS"===o.model.get(i)||"ACH_COLLECTION"===o.model.get(i);return!(!n&&(!r||"CML"!==o.model.get("segment")&&"CRE"!==o.model.get("segment")))||!1===o.model.get(t)},o._showNewLimit=function(e){var i=o.model.get("transactionLimits."+e+".newLimit"),n=t.commonCurrency(i,"");o.model.set("transactionLimits."+e+".currentLimit",i),o.model.set("transactionLimits."+e+".formattedCurrentLimit",n)},o._clearForm=function(e){o.model.set("transactionLimits."+e+".newLimit","")},o._setErrorMessage=function(){o._setContent("manageTransactionLimitsErrorHeader",r),o._setContent("manageTransactionLimitsErrorAdvisory",r),o.model.set("serviceError",!0),o._updateView("serviceError",!0)},o._updateView=function(e,t){o.output.emit("state",{value:"updateView",data:t,path:e})},o._fetchContent=function(e,t){return n.get(o,e,t)},o._setContent=function(e,t){return n.set(o,e,t)},o._setContentWithDataToken=function(e,t,i){return n.set(o,e,t,i)},o.setContentToDataModel=function(){function e(e){this.limitUpdateTypeOptions=[];for(var t=0;t<e.length;t++){var i={};i.name=e[t].name,i.value=e[t].id,this.limitUpdateTypeOptions.push(i)}}o.model.get("transactionLimits").forEach((function(t){if(t.transactionType=o._fetchContent("transactionType",t.transactionTypeVariation),t.limitUpdateTypeOptions){for(var i=t.limitUpdateTypeOptions,n=[],r=0;r<i.length;r++)n.push({name:o._fetchContent("updateLimitOptionName",i[r].limitUpdateTypeOptionId),id:i[r].limitUpdateTypeOptionId});t.limitUpdateTypeOptions=new e(n).limitUpdateTypeOptions}}))},o.requestAchPaymentServicesHelpMessage=function(){}}})),define("profileArea/paymentPreferences/manageTransactionLimits/controllers/transactionLimits",["require","blue/siteData","profileArea/sharedLib/featureProvider","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","common/lib/elementObserver","appkit-utilities/content/dcu","blue/event/channel/analytics","bluespec/manage_transaction_limits","profileArea/paymentPreferences/manageTransactionLimits/components/manageTransactionLimits","common/lib/utility/commonComponentsUtil","common/lib/modalApi"],(function(e){"use strict";var t=e("blue/siteData");return function(i){const n=e("profileArea/sharedLib/featureProvider")(i);var r=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"),a=e("common/lib/elementObserver"),o=e("appkit-utilities/content/dcu").dynamicContent,s=e("blue/event/channel/analytics");i.featureProvider=n;var c=this;c.elementObserver=new a;var l,d,u={MANAGE_TRANSACTION_LIMITS:{name:"manageTransactionLimitsComponent",spec:(l=e("bluespec/manage_transaction_limits"),d=l,d.segment={type:"Description"},d.data.focusErrorInputField={type:"description"},d.data.focusAlertMessage={type:"description"},d.data.isPTMLimitsMicroAppEnabled={type:"Description"},d),methods:e("profileArea/paymentPreferences/manageTransactionLimits/components/manageTransactionLimits"),view:"manageTransactionLimits"}};c.init=function(){c.commonComponentsUtil=e("common/lib/utility/commonComponentsUtil")(c),c.splitProvider=r,i.Api={modal:new(e("common/lib/modalApi"))(c)},i.on({myProfileStateChange:c.setState,"manageTransactionLimitForm/setTgtData":function(e){i.Api.modal.setTgtData(e.data,!1)}}),i.commonComponentsUtil=c.commonComponentsUtil,c.stateName="manageTransactionLimits"},c.manageTransactionLimits=function(){if(!c.isBaseCompRegistered())return c.elementObserver.isInserted("#my-profile-page-content",(function(){return c.splitProvider.getFeatureTreatments(["cxo_payments_limits_microapp_enable"],{cxo_payments_limits_microapp_enable:!1}).then(c.initManageTransactionLimits)}))},c.refreshTransactionLimits=function(e){return i.services.transactionLimits["transactionlimits.list"]().then((function(t){if(t&&t.transactionLimitDetails){var i=c.model.get("transactionLimits"),n=e.index,r=c.model.get("transactionLimits."+n+".transactionTypeID");t.transactionLimitDetails.forEach((function(e){e.transactionTypeID===r&&(i[n].token=e.token,i[n].currentLimit=e.currentLimit,i[n].formattedCurrentLimit=e.formattedCurrentLimit)})),c.model.set("transactionLimits",i)}}),(function(){c._listServiceError()}))},c.updateTransactionLimit=function(){c.isBaseCompRegistered()||i.state(i.profileUrls["transactionLimits.manageTransactionLimits"])},c.isBaseCompRegistered=function(){return c.components&&c.components.manageTransactionLimitsComponent&&c.components.manageTransactionLimitsComponent.__enabled},c.initManageTransactionLimits=function(e){return i.isMicroAppEnabled=e.cxo_payments_limits_microapp_enable,i.isMicroAppEnabled?(c.registerTransactionLimits(),i.profileContainer.setPageProperties({pageTitle:o.get(c.components.manageTransactionLimitsComponent,"manageTransactionLimitsHeader")}),c.model.set("isPTMLimitsMicroAppEnabled",i.isMicroAppEnabled),c.renderTransactionLimits()):(c.splitProvider.getFeatureTreatments(["cxo_payments_limits_microapp_experimentation"],{cxo_payments_limits_microapp_experimentation:"default"}).then((e=>{c._triggerImpressionEvent(e.cxo_payments_limits_microapp_experimentation)})),c.commonComponentsUtil.showSpinner({target:"#my-profile-page-content",overlayType:"INSECTION",append:!1}),i.services.transactionLimits["transactionlimits.list"]().then((function(e){e.segment=t.getData("segment"),c._listServiceSuccess(e)}),(function(){c._listServiceError()})))},c._triggerImpressionEvent=function(e){if(!("true"===sessionStorage.getItem("paymentLimits#webExperiment"))&&"variant_control"===e){var t={product:"Split",category:"AB_Screen_Test",elementName:"payment_limits_web_experiment",elementContext:"cxo_payments_limits_microapp_experimentation:"+e};s.emit("sendPersonalizationImpression",{splitIoPersonalizationData:t}),sessionStorage.setItem("paymentLimits#webExperiment","true")}},c._listServiceSuccess=function(e){c.model.set("serviceError",e.serviceError),c.model.set("showDisclosure",e.showDisclosure),c.model.set("requestProfileSettingsMenuAda",i.globalContent.requestProfileSettingsMenuAda),c.model.set("segment",e.segment),c.model.set("transactionLimits",e.transactionLimitDetails),c.registerTransactionLimits(),c.model.set("isPTMLimitsMicroAppEnabled",i.isMicroAppEnabled),c.components.manageTransactionLimitsComponent.setContentToDataModel(),c.renderTransactionLimits(),c.commonComponentsUtil.hideSpinner({target:"#my-profile-page-content"})},c._listServiceError=function(){c.registerTransactionLimits(),c.components.manageTransactionLimitsComponent._setErrorMessage(),c.renderTransactionLimits(),c.commonComponentsUtil.hideSpinner({target:"#my-profile-page-content"})},c.registerTransactionLimits=function(){c.components&&c.components.manageTransactionLimitsComponent?c.components.manageTransactionLimitsComponent.model=c.model.lens():c.register.components(c,[{name:u.MANAGE_TRANSACTION_LIMITS.name,model:c.model.lens(),spec:u.MANAGE_TRANSACTION_LIMITS.spec,methods:u.MANAGE_TRANSACTION_LIMITS.methods}]),i.isMicroAppEnabled||(i.profileContainer.setPageProperties({pageTitle:c.components.manageTransactionLimitsComponent.manageTransactionLimitsHeader,containerClasses:"legacy-profile-styles"}),i.exitDialogUtil.setListeners(c.components.manageTransactionLimitsComponent))},c.renderTransactionLimits=function(){return c.executeCAV([c.components.manageTransactionLimitsComponent,u.MANAGE_TRANSACTION_LIMITS.view,{target:"#my-profile-page-content"}]).then((function(){i.area.broadcast("renderMyProfileMenuMobile")}))}}})),define("profileArea/paymentPreferences/cashflowSettings/lib/cashflowSettingsUtils",["require","appkit-utilities/content/dcu"],(function(e){"use strict";var t=e("appkit-utilities/content/dcu"),i=function(e,t){var i,n,r,a=t.length,o=[];for(i=0;i<a;i+=1)n=(r=t[i]).componentName,(r&&!e.registry.hasComponent(n)||r.forced)&&(e.registry.updateComponent(n,{model:e.model.lens(r.model)}),o.push([e.components[n],r.view,{target:r.target,append:r.append}]));return o},n=function(e,t){Object.keys(t).forEach((function(i){e.set(i,t[i])}))};return{loadComponents:i,populateDetails:function(e,t,i){Object.keys(i).forEach((function(n){e.set(t+"."+n,i[n])}))},populateDetailsInModel:n,showOverlay:function(e,r,a,o){var s=i(e,[r]);return function(e,i,n){var r;n&&(r=n.keys.map((function(e){return{key:e,variation:n.variation}})),t.dynamicContent.setMultiple(e.components[i.componentName],r))}(e,r,o),function(e,t,i){i&&n(e.components[t.componentName].model,i)}(e,r,a),s},generateAccountVerification:function(e){return{companyDisplayName:e.companyDisplayName,companyId:e.companyId,eciStatus:e.eciStatus,unenrolledAccounts:[],enrolledAccounts:e.enrolledAccounts.map((function(e){return{accountDisplayName:e.accountDisplayName}}))}}}})),define("profileArea/paymentPreferences/cashflowSettings/lib/cashflowConstants",{MAINTENANCE_OPERATIONS:{UPGRADE:"upgrade",UNENROLL:"unenroll",ENROLL:"enroll"},MAINTENANCE_ALERT_VARIATIONS:{SYSTEM_FAILURE:"SYSTEM_FAILURE",UPGRADED:"UPGRADED",ENROLLED:"ENROLLED",NOT_ENROLLED:"NOT_ENROLLED",PAYMENT_IN_PROCESS:"PAYMENT_IN_PROCESS",PLAN_SELECTED:"PLAN_SELECTED"},CASHFLOW_ECI_ACCOUNT_STATUS:{ENROLLED:"ENROLLED",ELIGIBLE:"NOT_ENROLLED"},CASHFLOW_PACKAGES_REFERENCES:{DOWNGRADE:"CASHFLOW_PLAN_DOWNGRADE",UPGRADE:"CASHFLOW_PLAN_UPGRADE",CURRENT:"ENROLLED"},COMPANY_STATUS_ORDER:{ENROLLED:0,ELIGIBLE:1},COMPANY_STATUSES:{ELIGIBLE:"ELIGIBLE",ENROLLED:"ENROLLED"},PACKAGES:{BASIC:"BASIC",ADVANCED:"ADVANCED",ENTERPRISE:"ENTERPRISE"},CASHFLOW_VERIFICATION:{VERIFY:"VERIFY",CASHFLOW_COMPANY_UNENROLLMENT:"CASHFLOW_COMPANY_UNENROLLMENT",ACCOUNT_UNENROLLMENT:"ACCOUNT_UNENROLLMENT"},CASHFLOW_DYNAMIC_SETTINGS:{companyAccounts:"COMPANY_ACCOUNTS",systemFailure:"SYSTEM_FAILURE",cashflow:"CASHFLOW",sortedByTransactionsAdaSendOnDesc:"TRANSACTION_INITIATION_DATE_DESCENDING",sortedByTransactionsAdaSendOnAsc:"TRANSACTION_INITIATION_DATE_ASCENDING",sortedByTransactionsAdaStatusDesc:"TRANSACTION_STATUS_DESCENDING",sortedByTransactionsAdaStatusAsc:"TRANSACTION_STATUS_ASCENDING",sortedByTransactionsAdaPayeeDesc:"PAYEE_NAME_DESCENDING",sortedByTransactionsAdaPayeeAsc:"PAYEE_NAME_ASCENDING",sortedByTransactionsAdaAmountDesc:"TRANSACTION_AMOUNT_DESCENDING",sortedByTransactionsAdaAmountAsc:"TRANSACTION_AMOUNT_ASCENDING",descending:"DESCENDING",ascending:"ASCENDING",minimumCompanyEnrolled:"MINIMUM_COMPANIES_ENROLLED",minimumAccountsEnrolled:"MINIMUM_ACCOUNTS_ENROLLED"},CASHFLOW_COMPONENT_CONTEXT:{},OFFBOARD_PROFILE:{PROFILE_UNENROLLMENT:"PROFILE_UNENROLLMENT",NOT_ENROLLED:"NOT_ENROLLED",ENROLLED:"ENROLLED",PAYMENT_IN_PROCESS:"PAYMENT_IN_PROCESS"}}),define("profileArea/paymentPreferences/cashflowSettings/lib/accountConfigurationUtils",["require","profileArea/paymentPreferences/cashflowSettings/lib/cashflowSettingsUtils","profileArea/paymentPreferences/cashflowSettings/lib/cashflowConstants","profileArea/sharedLib/profileConstants"],(function(e){"use strict";var t=e("profileArea/paymentPreferences/cashflowSettings/lib/cashflowSettingsUtils"),i=e("profileArea/paymentPreferences/cashflowSettings/lib/cashflowConstants"),n=i.CASHFLOW_ECI_ACCOUNT_STATUS,r=i.COMPANY_STATUS_ORDER,a=e("profileArea/sharedLib/profileConstants").CASHFLOW_PACKAGES,o=function(e,t){var i,n=parseInt(t);for(i=e.length-1;i>=0;i-=1)if(parseInt(e[i].companyId)===n)return e[i];return null},s=function(e){return 0<=a.indexOf(e)&&a.indexOf(e)<2},c=function(e,t){return!e&&t===n.ENROLLED},l=function(e,t){return(c(e.isOwner,e.eciStatus)?2:r[e.eciStatus])-(c(t.isOwner,t.eciStatus)?2:r[t.eciStatus])},d=function(e){return{verifyTaskEnabledState:!1,cashflowSettingsErrorDisplayedState:!1,unEnrollSuccess:!1,companies:e.sort(l),companyId:e[0]?e[0].companyId:null}},u=function(e,t){var i=e.companies.map((function(e){return function(e,t,i,n){return{companyDisplayName:e.name,name:e.name,companyId:e.id,accountsDisplayedState:!0,unenrolledAccounts:t.unenrolledAccounts,enrolledAccounts:t.enrolledAccounts,minimumAccountsEnrolledMessageDisplayed:"ENROLLED"===e.status,companyErrorHighlightState:!1,confirmationState:e.id===n,isCashflowPlanSelected:t.enrolledAccounts.length>0,isAccountUnchanged:!0,numberOfAccounts:i,package:e.packageType||"",upgradeEligible:s(e.packageType)&&t.enrolledAccounts.length>0,eciStatus:e.status,isOwner:e.owner}}(e,e.accounts.reduce((function(e,t){var i=function(e){return{accountId:e.id,accountDisplayName:e.nickname+"..."+e.mask,accountChosen:e.enrolled,toggleSwitch:e.enrolled}}(t);return(i.accountChosen?e.enrolledAccounts:e.unenrolledAccounts).push(i),e}),{unenrolledAccounts:[],enrolledAccounts:[]}),e.accounts.length,t)}));return d(i)},p=function(e,t){return t&&"SUCCESS"===t.code},m=function(e){return e.reduce((function(e,t){return t.accountChosen!==t.toggleSwitch&&e.push(function(e){return{accountId:e.accountId,accountDisplayName:e.accountDisplayName,accountChosen:e.toggleSwitch}}(t)),e}),[])},f=function(e){return e.every((function(e){return!e.toggleSwitch}))},A=function(e){return e.toggleSwitch!==e.accountChosen},g=function(e){e.forEach((function(e){e.toggleSwitch=e.accountChosen}))};return{processSuccess:function(e,i,n,r){var a,o;return!!p(0,i)&&(a=function(e){var t,i;for(t=0;t<e.length;t++)if((i=e[t]).confirmationState)return i.companyId;return-1}(n.cashflowSettings.companies),o=u(i,a),r.set("cashflowSettings.companies",[]),t.populateDetails(r,"cashflowSettings",o),!0)},processFailure:function(e,t,i,n){return n.set("cashflowSettings.cashflowSettingsErrorDisplayedState",!0),!1},processPostRequestFailure:function(){return!1},defaultSuccess:p,unenrollCompanySuccess:function(e,t){return!(!t||"SUCCESS"!==t.code&&t.companyStatus)&&t},generateCashflowSettingsFormat:d,getUpgradeEligiblity:s,selectAccount:function(e){e.toggleSwitch=!e.toggleSwitch},getReviewAccountsFromCompany:function(e){var t=m(e.enrolledAccounts),i=m(e.unenrolledAccounts);return t.length||i.length?function(e,t,i){return{companyDisplayName:e.name,name:e.name,companyId:e.companyId,accountsDisplayedState:!0,enrolledAccounts:t,unenrolledAccounts:i,eciStatus:e.status}}(e,t,i):null},createServiceRequest:function(e){var t=e.enrolledAccounts.concat(e.unenrolledAccounts),i=t.reduce((function(e,t){return t.toggleSwitch&&e.push(t.accountId),e}),[]),n=[];return i.length&&n.push(function(e,t){return{id:e.companyId,accountIds:t}}(e,i)),function(e){return{companies:e}}(n)},anyAccountSwitched:function(e){return e.unenrolledAccounts.some(A)||e.enrolledAccounts.some(A)},getIndexesToggleSwitchOff:function(e){return e.reduce((function(e,t,i){return t.enrolledAccounts.length&&f(t.unenrolledAccounts)&&f(t.enrolledAccounts)&&e.push(i),e}),[])},segregateCompaniesEnrollmentState:function(e,t){return e.reduce((function(e,i){var n=function(e,t){return e.enrolledAccounts.concat(e.unenrolledAccounts).reduce((function(e,i){return i.accountChosen===t&&e.push(i),e}),[])}(i,t);return n.length&&e.push(function(e,t){return{accountsDisplayedState:e.accountsDisplayedState,companyDisplayName:e.companyDisplayName,name:e.name,accounts:t}}(i,n)),e}),[])},resetCompanySelections:function(e){return g(e.enrolledAccounts),g(e.unenrolledAccounts),e},getPackageId:function(e){return a.indexOf(e)},getPackageType:function(e){return a[e]},areAllAccountsOff:function(e){return f(e.unenrolledAccounts)&&f(e.enrolledAccounts)},buildEnrollmentObject:function(e,t){return{companies:e.map((function(e){return{id:e.companyId,bdcPackage:t,accountIds:e.unenrolledAccounts.map((function(e){return e.accountId}))}}))}},buildOffBoardProfileObject:function(e){return e.map((function(e){return function(e){return{companyDisplayName:e.companyName}}(e)}))},isEnrolledByOtherSA:c,showPackageLabel:function(e,t,i){return t===n.ENROLLED&&e&&!i},hasInFlightPayment:function(e){return e&&e.some((function(e){return 4704===e.code}))},unsubscribeProfileCompanies:function(e){return e.reduce((function(e,t){return c(t.isOwner,t.eciStatus)||e.push(t),e}),[])},findCompanyById:o,triggerOnData:function(e,t){e.set(t,!e.get(t))},unenrollECILocally:function(e,t){var i=e.get("cashflowSettings.companies"),n=o(i,t);n.eciStatus="NOT_ENROLLED",n.unenrolledAccounts=n.unenrolledAccounts.concat(n.enrolledAccounts),n.unenrolledAccounts.forEach((function(e){e.toggleSwitch=!1,e.accountChosen=!1})),n.enrolledAccounts=[],n.minimumAccountsEnrolledMessageDisplayed=!1,n.isCashflowPlanSelected=!1,n.upgradeEligible=!1,n.confirmationState=!0,e.set("cashflowSettings.companies",i)},enrollECILocally:function(e,t){var i,n,r=e.get("cashflowSettings.companies"),a=o(r,t);a.eciStatus="ENROLLED",n=(i=a).enrolledAccounts.concat(i.unenrolledAccounts).reduce((function(e,t){return t.accountChosen=t.toggleSwitch,(t.accountChosen?e.enrolledAccounts:e.unenrolledAccounts).push(t),e}),{enrolledAccounts:[],unenrolledAccounts:[]}),i.enrolledAccounts=n.enrolledAccounts,i.unenrolledAccounts=n.unenrolledAccounts,a.upgradeEligible=s(a.package)&&a.enrolledAccounts.length>0,a.isCashflowPlanSelected=a.enrolledAccounts.length>0,a.confirmationState=!0,a.isAccountUnchanged=!0,a.minimumAccountsEnrolledMessageDisplayed=!0,e.set("cashflowSettings.companies",r)}}})),define("profileArea/paymentPreferences/cashflowSettings/lib/activateCashflowUtils",["require","profileArea/paymentPreferences/cashflowSettings/lib/cashflowSettingsUtils","profileArea/paymentPreferences/cashflowSettings/lib/accountConfigurationUtils"],(function(e){"use strict";var t=e("profileArea/paymentPreferences/cashflowSettings/lib/cashflowSettingsUtils"),i=e("profileArea/paymentPreferences/cashflowSettings/lib/accountConfigurationUtils"),n=function(e){return e.reduce((function(e,t){return t.toggleSwitch&&e.push({accountIdentifier:t.accountId,accountStatusCode:"ENROLLED",accountName:t.accountName,accountNumber:t.accountNumber}),e}),[])},r=function(e){var t,i;for(t=0;t<e.length;t++)if((i=e[t]).confirmationState)return i.companyId;return-1},a=function(e,t,i,n){return{companyDisplayName:e.customerProfileName,name:e.customerProfileName,companyId:e.customerIdentifier,accountsDisplayedState:!0,unenrolledAccounts:t.unenrolledAccounts,enrolledAccounts:t.enrolledAccounts,minimumAccountsEnrolledMessageDisplayed:"ENROLLED"===e.accountStatusCode,companyErrorHighlightState:!1,confirmationState:e.customerIdentifier===n,isCashflowPlanSelected:t.enrolledAccounts.length>0,isAccountUnchanged:!0,numberOfAccounts:i,package:e.packageType||"",upgradeEligible:!1,eciStatus:e.accountStatusCode,isOwner:!e.enrolledByOtherIndicator,priceListName:e.priceListName,cisCustomerIdentifier:e.cisCustomerIdentifier}};return{generateCompaniesFormatListBDC:a,getChangedCompanyId:r,processListBDCSuccess:function(e,n,o,s){var c;return function(e,t){var i;if(t.hasOwnProperty("bdcCustomerList")&&t.bdcCustomerList.length)for(i=0;i<t.bdcCustomerList.length;i++)if("ENROLLED"===t.bdcCustomerList[i].accountStatusCode)return!0;return!1}(0,n)&&(c=function(e,t){var n=e.bdcCustomerList.map((function(e){var i=e.bdcAccountList.reduce((function(e,t){var i=function(e){var t="ENROLLED"===e.accountStatusCode;return{accountId:e.accountIdentifier,accountDisplayName:`${e.accountName} (${e.accountNumber})`,accountNumber:e.accountNumber,accountName:e.accountName,accountChosen:t,toggleSwitch:t}}(t);return(i.accountChosen?e.enrolledAccounts:e.unenrolledAccounts).push(i),e}),{unenrolledAccounts:[],enrolledAccounts:[]});return a(e,i,e.bdcAccountList.length,t)}));return i.generateCashflowSettingsFormat(n)}(n,r(o.cashflowSettings.companies??[])),s.set("cashflowSettings.companies",[]),t.populateDetails(s,"cashflowSettings",c)),{status:!0,response:n}},processFailure:function(e,t,i,n){return n.set("cashflowSettings.cashflowSettingsErrorDisplayedState",!0),{status:!1,response:t}},processSuccess:function(e,t){return"SUCCESS"===t.code},processPostRequestFailure:function(){return!1},getAccountsIdSwitched:n,createServiceRequest:function(e){var t=e.enrolledAccounts.concat(e.unenrolledAccounts),i=n(t),r=[];return i.length&&r.push(function(e,t){return{bdcAccountList:t,customerIdentifier:e.companyId,accountStatusCode:"ENROLLED",customerProfileName:e.companyName,priceListName:e.priceListName,cisCustomerIdentifier:e.cisCustomerIdentifier,enrolledByOtherIndicator:e.isOwner}}(e,i)),{agreementVersionNumber:"",bdcCustomerList:r}}}})),define("profileArea/paymentPreferences/cashflowSettings/lib/productInfoUtil",[],(function(){"use strict";var e=function(e,t){return e.sections.map((function(e){return e.subSections.map(t)}))},t=function(e){return{planIdentifier:e.identifier.toUpperCase(),planHeader:e.header,planPricingDetails:e.subHeader.replace(/<sup>.*?<\/sup>/gi,'<sup><a class="footnote" title="1" href="#">1</a></sup>'),planTrialPeriodMessage:e.bodyText,planItemsHeader:e.messageText,planDescription:e.additionalText,planAdditionalFees:[]}},i=function(e){return{planIdentifier:e.identifier.toUpperCase(),feeMessage:e.subHeader,feeHeader:e.header}},n={"offer-plans":function(i,n){n.cashflowPlansHeader=i.heading,n.cashflowPlans=e(i,t)[0]},"fee-plans":function(t,n){n.planAdditionalFeesHeader=t.heading,n.planAdditionalFees=e(t,i)}},r=function(e){var t,i,r,a,o,s,c={},l=(t=e.footNotes,r=1,t.reduce((function(e,t){return(i=t.description.replace("<sup>3</sup>",""))!==t.description&&(i=i.replace(/<[^>]*>/g,""),e.push({footnoteTitle:r,footnoteDescription:i}),r++),e}),[]));return a=e.components,o=c,a.forEach((function(e){var t=n[e.identifier];t&&t(e,o)})),s=o.planAdditionalFees,o.cashflowPlans=o.cashflowPlans||[{planIdentifier:"ENTERPRISE",planAdditionalFees:[]}],o.cashflowPlans.forEach((function(e){e.planAdditionalFeesHeader=o.planAdditionalFeesHeader,e.planAdditionalFees=function(e,t){var i,n;for(i=e.length-1;i>=0;i-=1)if((n=e[i])[0].planIdentifier===t)return n;return null}(s,e.planIdentifier)})),l.length&&(c.cashflowFootnotes=l),c};return{processInfoSuccess:function(e,t){return t&&t.success?Promise.resolve(r(t.result.productOffer)):null},processFailure:function(){return null}}})),define("profileArea/paymentPreferences/cashflowSettings/template/cashflowPackageOverlay",[],(function(){return{v:4,t:[{t:7,e:"section",m:[{n:"role",f:"region",t:13}],f:[{t:7,e:"blueModal",m:[{n:"id",f:"cashflow-package-upgrade-overlay",t:13},{n:"customDialogLayout",f:"true",t:13},{n:"classes",f:"chase-ux-modal",t:13},{n:"fullWidthContainer",f:"true",t:13},{n:"closeIconHat",f:[{t:2,r:"exitAda",s:!0}],t:13},{n:"closeIcon",f:"true",t:13},{n:"customButtonModalClose",f:"cancelStep",t:13},{n:"setFocusToSelector",f:"planHeader-0",t:13}],f:[{t:7,e:"businessPlans",m:[{n:"cashflowPlans",f:[{t:2,r:".cashflowPlans"}],t:13},{n:"getPlanADA",f:[{t:2,r:".getPlanADA"}],t:13},{n:"requestNextStepLabel",f:[{t:2,r:"requestNextStepLabel",s:!0}],t:13},{n:"requestPlanLabel",f:[{t:2,r:".requestPlanLabel"}],t:13},{n:"packageId",f:[{t:2,r:".packageId"}],t:13}]}," ",{t:7,e:"div",m:[{n:"class",f:"row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"col-sm-4 col-sm-offset-4 col-lg-2 col-lg-offset-5",t:13}],f:[{t:7,e:"blueButton",m:[{n:"id",f:"cancelBtn",t:13},{n:"rClick",f:"cancelStep",t:13},{n:"type",f:"button",t:13},{n:"classes",f:"fluid",t:13},{n:"label",f:[{t:2,r:".cancelLabel",s:!0}],t:13},{n:"operation",f:[{t:4,f:["upgrade"],n:50,x:{r:["packageId"],s:"_0>=0"}},{t:4,n:51,f:["enroll"],l:1}],t:13}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"row footnote-section",t:13}],f:[{t:4,f:[{t:7,e:"div",f:[{t:7,e:"span",m:[{n:"class",f:"inline",t:13}],f:[{t:7,e:"blueLink",m:[{n:"id",f:["footnoteLink-",{t:2,x:{r:["i"],s:"_0+1"}}],t:13},{n:"classes",f:"footnote-link",t:13},{n:"rClick",f:"referCashflowFootnote",t:13},{n:"content",f:[{t:2,r:".footnoteTitle"}],t:13},{n:"adatext",f:[{t:2,r:".footnoteDescription"}," ",{t:2,r:"referCashflowFootnoteLabel"}],t:13}]}]}," ",{t:7,e:"span",m:[{n:"class",f:"inline",t:13}],f:[{t:3,r:".footnoteDescription"}]}]}],n:52,i:"i",r:".cashflowFootnotes"}]}]}]}],e:{}}})),define("profileArea/paymentPreferences/cashflowSettings/webspec/cashflowPackageOverlay",{name:"CASHFLOW_ENROLLMENT_OFFERS",defaultBindings:!0,bindings:{},triggers:{referCashflowFootnote:{action:"view.backToTop"}}}),define("profileArea/paymentPreferences/cashflowSettings/template/businessPlans",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"plan-header col-sm-10 col-sm-offset-1",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"col-lg-4",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"plan-info",t:13}],f:[{t:7,e:"div",f:[{t:7,e:"div",m:[{n:"class",f:"plan-heading",t:13}],f:[{t:7,e:"h3",m:[{n:"id",f:["planHeader-",{t:2,r:"i"}],t:13},{n:"class",f:"jpui header util center aligned plan-name",t:13},{n:"tabindex",f:"-1",t:13}],f:[{t:3,r:".planHeader"}]}," ",{t:7,e:"h3",m:[{n:"class",f:"jpui header util center aligned",t:13}],f:[{t:3,r:".planPricingDetails"}]}," ",{t:7,e:"h4",m:[{n:"class",f:"jpui header util center aligned plan-bonus",t:13}],f:[{t:3,r:".planTrialPeriodMessage"}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"plan-details",t:13}],f:[{t:7,e:"p",m:[{n:"class",f:"plan-items-header",t:13}],f:[{t:3,r:".planItemsHeader"}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"enroll-btn",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"upgrade-label",t:13}],f:[{t:2,x:{r:["~/requestPlanLabel","i"],s:"_0(_1)"}}]}],n:50,x:{r:["packageId","i"],s:"_0>=_1"}},{t:4,n:51,f:[{t:7,e:"blueButton",m:[{n:"id",f:["requestNextStep_",{t:2,r:".planIdentifier",s:!0}],t:13},{n:"type",f:"button",t:13},{n:"label",f:[{t:2,r:"~/requestNextStepLabel",s:!0}],t:13},{n:"rClick",f:"requestNextStep",t:13},{n:"classes",f:"primary",t:13},{n:"newPackageId",f:[{t:2,r:"i"}],t:13},{n:"value",f:[{t:2,r:".planIdentifier"}],t:13},{n:"adatext",f:[{t:2,x:{r:["~/getPlanADA",".planIdentifier"],s:"_0(_1)"}}],t:13}]}],l:1}]}],n:51,x:{r:["packageId"],s:"_0===undefined"}}," ",{t:7,e:"div",m:[{n:"class",f:[{t:4,f:["margin-top-xxxl"],n:50,x:{r:["packageId"],s:"_0===undefined"}}],t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"plan-description",t:13}],f:[{t:3,r:".planDescription",s:!0}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"fee-wrapper",t:13}],f:[{t:7,e:"h4",m:[{n:"class",f:"fee-header",t:13}],f:[{t:3,r:".planAdditionalFeesHeader"}]}," ",{t:7,e:"div",m:[{n:"class",f:"plan-fees row",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"col-xs-12 col-sm-6 col-lg-12",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"feeInfo",t:13}],f:[{t:7,e:"span",m:[{n:"class",f:"feeHeader",t:13}],f:[{t:3,r:".feeHeader"}]}," ",{t:3,r:".feeMessage"}]}]}],n:52,r:".planAdditionalFees"}]}]}]}]}],n:52,i:"i",r:".cashflowPlans"}]}]}],e:{}}})),define("profileArea/paymentPreferences/cashflowSettings/webspec/businessPlans",{name:"CASHFLOW_BUSINESSPLANS",defaultBindings:!0,bindings:{},triggers:{}}),define("profileArea/paymentPreferences/cashflowSettings/views/businessPlans",["require","profileArea/paymentPreferences/cashflowSettings/template/businessPlans","profileArea/paymentPreferences/cashflowSettings/webspec/businessPlans","blue-ui/view/elements/button"],(function(e){"use strict";return function(){var t=e("profileArea/paymentPreferences/cashflowSettings/template/businessPlans"),i=e("profileArea/paymentPreferences/cashflowSettings/webspec/businessPlans"),n=e("blue-ui/view/elements/button"),r=this;r.template=t,r.bridge=i,r.init=function(){r.viewName="businessPlans",r.views={blueButton:n}}}})),define("profileArea/sharedLib/throttle",[],(function(){"use strict";function e(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}function t(t,i){var n=0,r=e(i,10),a=function(){if(Date.now()-n>r)return n=Date.now(),t.apply(this,arguments);n=Date.now()};return Object.defineProperty(a,"delay",{writable:!1,value:r}),a}function i(t,i){var n=void 0,r=e(i,10),a=function(){var e=this,i=arguments;void 0!==n&&clearTimeout(n),n=setTimeout((function(){n=void 0,t.apply(e,i)}),r)};return Object.defineProperty(a,"delay",{writable:!1,value:r}),a}function n(e){return{execFirst:function(i){return t(i,e)},execLast:function(t){return i(t,e)}}}return n.execFirst=t,n.execLast=i,n.execEvery=function(t,i){var n=null,r=0,a=e(i,10),o=function(){var e=this,i=arguments;clearTimeout(n),Date.now()-r>a&&(r=Date.now(),t.apply(e,i)),n=setTimeout((function(){t.apply(e,i)}),a+1)};return Object.defineProperty(o,"delay",{writable:!1,value:a}),o},n})),define("profileArea/paymentPreferences/cashflowSettings/views/cashflowPackageOverlay",["require","profileArea/paymentPreferences/cashflowSettings/template/cashflowPackageOverlay","blue-ui/view/elements/button","blue-ui/view/elements/link","blue-ui/view/modules/modal","profileArea/paymentPreferences/cashflowSettings/webspec/cashflowPackageOverlay","profileArea/paymentPreferences/cashflowSettings/views/businessPlans","common/lib/ada/setFocus","appkit-utilities/common/mediaQueryListener","profileArea/sharedLib/throttle"],(function(e){"use strict";var t=e("profileArea/paymentPreferences/cashflowSettings/template/cashflowPackageOverlay"),i=e("blue-ui/view/elements/button"),n=e("blue-ui/view/elements/link"),r=e("blue-ui/view/modules/modal"),a=e("profileArea/paymentPreferences/cashflowSettings/webspec/cashflowPackageOverlay"),o=e("profileArea/paymentPreferences/cashflowSettings/views/businessPlans"),s=e("common/lib/ada/setFocus"),c=e("appkit-utilities/common/mediaQueryListener"),l=[".plan-heading",".plan-items-header",".plan-details",".fee-wrapper"],d=e("profileArea/sharedLib/throttle");return function(e){var u,p=this,m=e.parent.$;p.template=t,p.viewName="CashflowPackageOverlay";var f=function(){l.forEach((function(e){m(e).height("auto")})),c.currentBreakpoint===c.BREAKPOINT.LG&&l.forEach((function(e){!function(e){var t=m(e),i=0;t.each((function(){var e=m(this).outerHeight();i=e>i?e:i})).each((function(){m(this).outerHeight(i)}))}(e)}))},A=function(e){var t=m(e).offset().top;m("#cashflow-package-upgrade-overlay").animate({scrollTop:t},150,(function(){s(e)}))},g=function(e){e.preventDefault(),u="#"+e.target.id,A("#footnoteLink-1")};p.onInit=function(){p.bridge=a,p.views={blueModal:r,blueButton:i,businessPlans:o,blueLink:n}},p.onReady=function(){var e,t;e=m("a.footnote"),t=p.model.requestMoreInformationAda,p.$planSection=m(".plan-header"),e.each((function(e){var i=m(this),n=i.attr("title");i.attr("id")||i.attr("aria-label",t+" "+n).attr("id","footnote-"+e)})),e.addClass("footnoteLink"),p.$planSection.on("click.footnote","a.footnote",g),f(),m(window).on("resize.businessPlanHeight",d.execLast(f,100)),s({selector:"#planHeader-0",delay:50})},p.backToTop=function(){A(u=u||"#planHeader-0"),u=void 0},p.onDestroy=function(){s({selector:"#open-package-overlay",delay:0}),p.$planSection.off("click.footnote"),m(window).off("resize.businessPlanHeight"),p.$planSection=null}}})),define("profileArea/paymentPreferences/cashflowSettings/lib/cashflowSettingsComponentUtils",["require","profileArea/paymentPreferences/cashflowSettings/views/cashflowPackageOverlay"],(function(e){"use strict";var t={cashflowSettingsContainer:{componentName:"cashflowSettingsContainerComponent",view:"cashflowSettingsContainer",target:"#my-profile-page-content",model:"cashflowSettingsContainer"},cashflowSettings:{componentName:"cashflowSettingsComponent",view:"cashflowSettings",target:"#cashflow-accounts-settings",model:"cashflowSettings",forced:!0},cashflowPackageUpgradeVerificationOverlay:{componentName:"cashflowPackageUpgradeVerificationOverlayComponent",view:"cashflowPackageUpgradeConfirmation",target:"#content",model:"cashflowSettingsVerification",append:!0},cashflowSettingsVerificationOverlay:{componentName:"cashflowSettingsVerificationOverlayComponent",view:"cashflowSettingsVerification",target:"#content",model:"cashflowSettingsVerification",append:!0},cashflowPackageOverlay:{componentName:"cashflowPackageOverlayComponent",view:e("profileArea/paymentPreferences/cashflowSettings/views/cashflowPackageOverlay"),target:"#content",model:"cashflowPackageOverlay",append:!0},cashflowSettingsUnenrollProfileConfirmationOverlay:{componentName:"cashflowSettingsUnenrollProfileConfirmationOverlayComponent",view:"cashflowOffBoardProfile",target:"#content",model:"cashflowSettingsProfileOffBoard",append:!0},genericOverlay:{componentName:"genericOverlay",view:"genericOverlay",target:"#content",model:"enrollment",append:!0},cashflowSettingsUnenrollProfileResultsOverlay:{componentName:"cashflowSettingsUnenrollProfileResultsOverlayComponent",view:"cashflowOffBoardProfileResults",target:"#content",model:"cashflowSettingsUnenrollProfileResults",append:!0}};return{components:t,BASE_COMPONENTS:[t.cashflowSettingsContainer],commonSpinnerRequest:{spinner:{target:"#cashflowSpinner",overlayType:"INSECTION"}}}})),define("profileArea/paymentPreferences/cashflowSettings/lib/controlUtils",[],(function(){"use strict";var e={};return{getProperty:function(t){return e[t]},setProperty:function(t,i){e[t]=i}}})),define("profileArea/paymentPreferences/cashflowSettings/lib/productStatusInfoUtil",["require","profileArea/paymentPreferences/cashflowSettings/lib/controlUtils","profileArea/paymentPreferences/cashflowSettings/lib/cashflowConstants"],(function(e){"use strict";var t=e("profileArea/paymentPreferences/cashflowSettings/lib/controlUtils"),i=e("profileArea/paymentPreferences/cashflowSettings/lib/cashflowConstants").PACKAGES;return{getPackageEligibility:function(e){return e.dataProvider.request("packageEligibility.getPackageEligibility").then((function(e){return e?{isDualControl:{basic:t.getProperty(i.BASIC)}}:Promise.reject(new Error("Unsuccessful call"))}))},processSuccessBasicPackage:function(e,i){return i.packageStatuses.forEach((function(e){t.setProperty(e.packageType,!e.eligible&&e.dualControl)})),!0}}})),define("profileArea/paymentPreferences/cashflowSettings/lib/profileUtils",["require","profileArea/sharedLib/dashboardConstants","appkit-utilities/accountInfo/accountInfo"],(function(e){"use strict";var t,i=e("profileArea/sharedLib/dashboardConstants").BRAND_ID,n=e("appkit-utilities/accountInfo/accountInfo");return{setProfileInfo:function(e){var r;t||(r=new n({profileType:e.profileType,segmentType:e.segment}),(t={commercialUser:r.isCommercialUser(),businessUser:r.isBusinessBankingUser()}).commercialUser?t.brand=i.COMMERCIAL.toLowerCase():t.businessUser&&(t.brand=i.BUSINESS.toLowerCase()))},getProfileInfo:function(){return{commercialUser:t.commercialUser,businessUser:t.businessUser}},getBrand:function(){return t.brand},getServiceBrandName:function(){return(e=t.brand).charAt(0).toUpperCase()+e.slice(1);var e},brandNames:{COMMERCIAL:"commercial",BUSINESS:"business"},brandsInverted:{commercial:"business",business:"commercial"}}})),define("profileArea/paymentPreferences/cashflowSettings/controllers/cashflowSettings",["require","profileArea/paymentPreferences/cashflowSettings/lib/accountConfigurationUtils","profileArea/paymentPreferences/cashflowSettings/lib/activateCashflowUtils","profileArea/paymentPreferences/cashflowSettings/lib/productInfoUtil","profileArea/paymentPreferences/cashflowSettings/lib/cashflowSettingsComponentUtils","profileArea/paymentPreferences/cashflowSettings/lib/cashflowSettingsUtils","profileArea/paymentPreferences/cashflowSettings/lib/cashflowConstants","common/lib/modalApi","profileArea/paymentPreferences/cashflowSettings/lib/productStatusInfoUtil","profileArea/paymentPreferences/cashflowSettings/lib/profileUtils","profileArea/sharedLib/featureProvider","common/lib/elementObserver","common/lib/utility/commonComponentsUtil"],(function(e){"use strict";var t=e("profileArea/paymentPreferences/cashflowSettings/lib/accountConfigurationUtils"),i=e("profileArea/paymentPreferences/cashflowSettings/lib/activateCashflowUtils"),n=e("profileArea/paymentPreferences/cashflowSettings/lib/productInfoUtil"),r=e("profileArea/paymentPreferences/cashflowSettings/lib/cashflowSettingsComponentUtils"),a=e("profileArea/paymentPreferences/cashflowSettings/lib/cashflowSettingsUtils"),o=e("profileArea/paymentPreferences/cashflowSettings/lib/cashflowConstants"),s=e("common/lib/modalApi"),c=e("profileArea/paymentPreferences/cashflowSettings/lib/productStatusInfoUtil"),l=e("profileArea/paymentPreferences/cashflowSettings/lib/profileUtils"),d=e("profileArea/sharedLib/featureProvider"),u=e("common/lib/elementObserver"),p=r.components,m=r.BASE_COMPONENTS,f=o.MAINTENANCE_OPERATIONS,A=o.MAINTENANCE_ALERT_VARIATIONS;return function(r){var o=this;o.elementObserver=new u,o.cashflowFeatureProvider=d(r);var g=function(e,t){var i=o.model;i.set("cashflowSettings.contentVariation",t),i.set("cashflowSettings.isSuccessServiceCall",e),i.set("cashflowSettings.statusChange",!i.get("cashflowSettings.statusChange"))},E=function(e,i,n,r){var a=o.model,s=a.get("cashflowSettings.companies"),c=t.findCompanyById(s,e);g(i,r),a.set("cashflowSettings.companyId",e),a.set("cashflowSettings.targetFocusId",""),a.set("cashflowSettings.showConfirmationMessage",n),c.confirmationState=!0,a.set("cashflowSettings.companies",s)},y=function(){var e=o.model;return e.get("cashflowSettings.companyId")&&(r.Api.modal.setIsDirty(!1),t.triggerOnData(e,"cashflowSettings.requestClick")),r.exitDialogUtil.manageFormDirty(!1,"enrollmentToggle"),Promise.resolve([])},h=function(){return o.model.set("cashflowSettings.companies",[]),o.dataProvider.request("activateCashflowService.getListBDC").then(y)},v=function(e){var i=o.model,n=i.get("cashflowSettings.companies"),a=i.get("cashflowPackageOverlay.companyId"),s=t.findCompanyById(n,a);i.get("cashflowSettings.minimumAccountsEnrolledMessageDisplayed")||i.set("cashflowSettings.targetFocusId","advisory-info-c-"+a),s.package=e.newPackageType,i.set("cashflowSettings.companies",n),r.exitDialogUtil.manageFormDirty(!0,"enrollmentToggle"),g(!0,A.PLAN_SELECTED),o.closeOverlay({overlayName:"cashflowPackageOverlayComponent"}),s.isCashflowPlanSelected=!0,i.set("cashflowSettings.companies",n)},C=function(e){return c.getPackageEligibility(o).then((function(t){var i;t.isDualControl.basic?(i=o.model,o.model.set("currentGenericOverlayData",{overlay:p.genericOverlay,data:{exitNotification:"exitNotification",returnFocusToSelector:"#header-anchor-company_ECI_"+i.get("cashflowPackageOverlay.companyId")},dynamicSettings:{variation:"CASHFLOW_DUAL_CONTROL_ON",keys:["notificationHeader","notificationMessage","exitNotificationLabel"]}}),r.privateState(r.settings.get("showGenericOverlay"))):v(e)}))},_=function(){var e=o.model,t=e.get("cashflowSettings.companies");t.forEach((function(e){e.confirmationState=!1,e.companyErrorHighlightState=!1})),e.set("cashflowSettings.companies",t)};o.onInit=function(){r.commonComponentsUtil=e("common/lib/utility/commonComponentsUtil")(o),o.stateName="requestBillingPartnerServices",o.dataProvider.mappers={accountService:{getAccountsConfiguration:{success:t.processSuccess,failure:t.processFailure}},cashflowContent:{getProductInfoContentCommercial:{success:n.processInfoSuccess,failure:n.processFailure},getProductInfoContentBusiness:{success:n.processInfoSuccess,failure:n.processFailure}},enrollmentService:{confirmEnrollment:{success:t.defaultSuccess,failure:t.processPostRequestFailure}},cashflowService:{updateEnrollment:{success:t.defaultSuccess,failure:t.processPostRequestFailure},upgradePackage:{success:t.defaultSuccess,failure:t.processPostRequestFailure},unenrollCompany:{success:t.unenrollCompanySuccess,failure:t.processPostRequestFailure},unsubscribeProfile:{success:t.unenrollCompanySuccess,failure:t.processFailure}},activateCashflowService:{getListBDC:{success:i.processListBDCSuccess,failure:i.processFailure},updateEnrollment:{success:i.processSuccess,failure:i.processPostRequestFailure},unenrollCompany:{success:i.processSuccess,failure:i.processPostRequestFailure},unsubscribeProfile:{success:i.processSuccess,failure:i.processFailure}},packageEligibility:{getPackageEligibility:{success:c.processSuccessBasicPackage,failure:t.processPostRequestFailure}}},r.Api={modal:new s(o)},r.on({"cashflowSettingsDirtyFormOverlay/setTgtData":function(e){r.Api.modal.setTgtData(e.data,!0)},destroyComponent:function(e){o.closeOverlay({overlayName:e.name})}})},o.index=function(){o._pageActive=!0},o.requestBillingPartnerServices=function(){r.profileContainer.setPageProperties({pageTitle:r.dcu.dynamicContent.get(o.components.cashflowSettingsComponent,"cashflowSettingsHeader"),containerClasses:"legacy-profile-styles"});var e=o.model,t=m.concat(p.cashflowSettings),i=a.loadComponents(o,t);return e.set("cashflowSettings.companies",[]),h(),r.area.broadcast("renderMyProfileMenuMobile"),i},o.showPackageUpgradeConfirmationOverlay=function(e){var i=o.model,n=i.get("cashflowPackageOverlay.packageId"),r=e.newPackageType,s=i.lens("cashflowSettingsVerification");a.populateDetailsInModel(s,{packageUpgrade:!0,oldPackage:t.getPackageType(n),newPackage:r})},o.showReviewOverlay=function(e){var i,n,s=[],c=o.model,l=e.companyId||c.get("cashflowPackageOverlay.companyId"),d=t.findCompanyById(c.get("cashflowSettings.companies"),l),u=[];switch(c.set("cashflowSettingsVerification.cancelLabel",r.globalContent.cancelLabel),_(),e.operation){case f.UNENROLL:u.push(a.generateAccountVerification(d)),s.push(p.cashflowSettingsVerificationOverlay);break;case f.UPGRADE:c.set("cashflowSettingsVerification.previouslySelectedPlanName",d.package),c.set("cashflowSettingsVerification.currentlySelectedPlanName",e.newPackageType),c.set("cashflowSettings.currentlySelectedPlanName",e.newPackageType),o.showPackageUpgradeConfirmationOverlay(e),s.push(p.cashflowPackageUpgradeVerificationOverlay);break;case f.ENROLL:i=t.getReviewAccountsFromCompany(d),c.set("cashflowSettingsVerification.planIdentifier",d.package),i&&u.push(i),s.push(p.cashflowSettingsVerificationOverlay)}return n=c.lens("cashflowSettingsVerification"),a.populateDetailsInModel(n,{unenrollEciList:!1,packageUpgrade:!1,companies:u,companyId:l,operation:e.operation}),a.loadComponents(o,s)},o.updateEnrollment=function(e){var n,a=e.companyId,s=o.model,c=t.findCompanyById(s.get("cashflowSettings.companies"),a);return n=JSON.stringify(i.createServiceRequest(c)),o.dataProvider.request("activateCashflowService.updateEnrollment",n).then((function(e){var t,i;return e?i=h():(t=A.SYSTEM_FAILURE,r.exitDialogUtil.manageFormDirty(!1,"cashflowSettingsVerificationOverlay")),E(a,e,!e,t),i||Promise.resolve([])}))},o.closeOverlay=function(e){var t=o.model;t.set("cashflowSettings.setFocusOnCancel",!t.get("cashflowSettings.setFocusOnCancel")),o.registry.destroyComponent(e.overlayName)},o.showPackageOverlay=function(e){var i=o.model;return _(),i.set("cashflowSettings.currentlySelectedPlanName",""),r.application.userInfoPromise.then((function(){l.setProfileInfo(r.userInfo)})).then((function(){return e="cashflowContent.getProductInfoContent",o.dataProvider.request(e+l.getServiceBrandName(),t);var e,t})).then((function(n){var r;return n?(r=i.lens("cashflowPackageOverlay"),a.populateDetailsInModel(r,n),a.populateDetailsInModel(r,{companyId:e.companyId,packageId:t.getPackageId(e.packageType)}),a.loadComponents(o,[p.cashflowPackageOverlay])):(E(e.companyId,!1,!0,A.SYSTEM_FAILURE),[])}))},o.showAccountSwitchOptions=function(e){return"BASIC"===e.newPackageType?C(e):v(e)},o.manageReviewRequest=function(){var e=o.model.lens("cashflowSettingsVerification"),n=e.get("companies"),a=e.get("companyId");switch(o.registry.destroyComponent("cashflowSettingsVerificationOverlayComponent"),e.get("operation")){case f.ENROLL:!function(e,n){var a,s=o.model,c=s.get("cashflowSettings.companies"),l=t.findCompanyById(c,n);l.showCompanyName=!0,s.set("cashflowSettings.companies",c),a=JSON.stringify(i.createServiceRequest(l)),o.dataProvider.request("activateCashflowService.updateEnrollment",a).then((function(e){var i=A.SYSTEM_FAILURE;e&&(r.exitDialogUtil.manageFormDirty(!1,"cashflowSettingsDirtyFormOverlay"),i=A.ENROLLED,t.enrollECILocally(s,n),r.Api.modal.setIsDirty(!1)),E(n,e,!e,i)}))}(0,a);break;case f.UNENROLL:!function(e,i){var n=o.model,a=n.get("cashflowSettings.isCommercialUser"),s=n.get("cashflowSettings.companies"),c=o.components.cashflowSettingsComponent;t.findCompanyById(s,i).showCompanyName=!0,n.set("cashflowSettings.companies",s),o.dataProvider.request("activateCashflowService.unenrollCompany",{urlParams:{customerIdentifier:e[0].companyId}}).then((function(o){var s=!1;if(!1!==o){if(r.exitDialogUtil.manageFormDirty(!1,"cashflowSettingsDirtyFormOverlay"),"ENROLLED"===(l=e[0]).eciStatus&&!l.enrolledAccounts.length)return t.unenrollECILocally(n,i),n.set("cashflowSettings.unEnrollSuccess",!0),void r.dcu.dynamicContent.setMultiple(c,[{key:"confirmationHeader",variation:"CASHFLOW_COMPANY_UNENROLLMENT"},{key:"confirmationAdvisory",variation:"CASHFLOW_COMPANY_UNENROLLMENT"}]);var l;s=!0,t.unenrollECILocally(n,i),E(i,s,!(a&&s),A.NOT_ENROLLED)}else E(i,s,!(a&&s),A.SYSTEM_FAILURE)}))}(n,a);break;case f.UPGRADE:!function(e){var t=o.model.get("cashflowSettingsVerification.newPackage");o.dataProvider.request("cashflowService.upgradePackage",{companyId:e,bdcPackage:t}).then((function(t){var i=A.SYSTEM_FAILURE;t&&(i=A.UPGRADED,h()),E(e,t,!t,i),o.closeOverlay({overlayName:"cashflowPackageUpgradeVerificationOverlayComponent"})}))}(a)}},o.showOffBoardProfileReviewOverlay=function(){var e,i=o.model,n=t.unsubscribeProfileCompanies(i.get("cashflowSettings.companies"));return e=a.loadComponents(o,[p.cashflowSettingsUnenrollProfileConfirmationOverlay]),i.set("cashflowSettingsProfileOffBoard.companies",n),e},o.offBoardProfileSubscription=function(){return o.dataProvider.request("activateCashflowService.unsubscribeProfile").then((function(e){return o.registry.destroyComponent("cashflowSettingsUnenrollProfileConfirmationOverlayComponent"),e?function(e,i){var n,r=o.model,s=e.companyStatus;if(e&&("object"!=typeof e||e.status||e.code))return i?(r.set("cashflowSettingsUnenrollProfileResults.cashflowSettingsConfirmationDisplayedState",!1),n=t.buildOffBoardProfileObject(s),r.set("cashflowSettingsUnenrollProfileResults.companies",n)):r.set("cashflowSettingsUnenrollProfileResults.cashflowSettingsConfirmationDisplayedState",!0),a.loadComponents(o,[p.cashflowSettingsUnenrollProfileResultsOverlay]);r.set("cashflowSettingsUnenrollProfileResults.cashflowSettingsConfirmationDisplayedState",!1)}(e,!1):Promise.resolve([])}))},o.getAccountsConfiguration=function(){return o.registry.destroyComponent("cashflowSettingsUnenrollProfileResultsOverlayComponent"),h()},o.showGenericOverlay=function(){var e=o.model.get("currentGenericOverlayData");return a.showOverlay(o,p[e.overlay],e.data||{},e.dynamicSettings)}}})),define("profileArea/paymentPreferences/cashflowSettings/components/cashflowSettingsContainer",["require","profileArea/sharedLib/profileMixin"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileMixin");return function(){var e=this;e.onInit=function(){t.call(e)}}})),define("profileArea/paymentPreferences/cashflowSettings/components/cashflowSettings",["require","profileArea/paymentPreferences/cashflowSettings/lib/accountConfigurationUtils","appkit-utilities/accountInfo/accountInfo","profileArea/paymentPreferences/cashflowSettings/lib/cashflowConstants","profileArea/sharedLib/commonMethodsUtil"],(function(e){"use strict";var t=e("profileArea/paymentPreferences/cashflowSettings/lib/accountConfigurationUtils"),i=e("appkit-utilities/accountInfo/accountInfo"),n=e("profileArea/paymentPreferences/cashflowSettings/lib/cashflowConstants"),r=e("profileArea/sharedLib/commonMethodsUtil");return function(e){var a,o=this,s=e.dcu.dynamicSettings,c=e.dcu.dynamicContent,l=n.CASHFLOW_DYNAMIC_SETTINGS.systemFailure,d=n.CASHFLOW_DYNAMIC_SETTINGS.minimumCompanyEnrolled,u=n.CASHFLOW_DYNAMIC_SETTINGS.minimumAccountsEnrolled,p=new i({profileType:e.userInfo.profileType,segmentType:e.userInfo.segment}),m=function(e,i){var n=o.companies;i(t.findCompanyById(n,e)),o.companies=n},f=function(e){var t=o.companies;t.forEach(e),o.companies=t},A=function(){return t.findCompanyById(o.companies,a.get("companyId")).minimumAccountsEnrolledMessageDisplayed},g=function(){m(a.get("companyId"),(function(e){e.isCashflowPlanSelected=!1,e.package="",e.showCompanyName=!1})),t.triggerOnData(a,"statusChange")},E=function(e){return e[0].toUpperCase()+e.slice(1).toLowerCase()},y=function(){c.setMultiple(o,[{key:"cashflowSettingsErrorHeader",variation:l},{key:"cashflowSettingsErrorMessage",variation:l}])},h=function(e,t){return s.get(o,"accountsLabel",e,t)},v=function(e){return s.get(o,"planName",e)},C=function(e){var t={numberOfAccounts:e};return e?h(1===e?"SINGLE":"MULTIPLE",t):h("NONE")},_=function(e){return s.get(o,"companyConfirmationMessage",n.CASHFLOW_ECI_ACCOUNT_STATUS[e])},S=function(e){return s.get(o,"noAccountsEnrolledMessage",e)},T=function(e){return S("ENROLLED"===e?"ENROLLED":"NOT_ENROLLED")},N=function(e,i){var n={};return t.isEnrolledByOtherSA(e,i)&&(n.content=s.get(o,"companyEnrollmentStatusLabel")),n},I=function(i,n,r){e.Api.modal.getIsDirty()?e.exitDialogUtil.globalNavDirtyCheck(o,(function(){o.resetCompanies(),A()||g(),r(i)}),"",(function(){a.set("targetFocusId",n),t.triggerOnData(a,"setFocusOnCancel")})):r(i)},b=function(i){var n=i.context.companyId,r=e.Api.modal.getIsDirty();a.set("isAccordionLocked",r),function(e){f((function(t){t.companyExpandedState=t.companyId===e&&!t.companyExpandedState}))}(n),r?e.exitDialogUtil.globalNavDirtyCheck(o,(function(){o.resetCompanies(),a.set("isAccordionLocked",!1),A()||g(),a.set("companyId",n),t.triggerOnData(a,"requestClick")}),"",(function(){a.set("targetFocusId","button-company_ECI_"+a.get("companyId")),t.triggerOnData(a,"setFocusOnCancel")})):a.set("companyId",n)},D=function(e,t){return p.isCommercialUser()||e===n.PACKAGES.BASIC||t>0?s.get(o,"unenrollCompanyAdvisory","NO_FEES"):s.get(o,"unenrollCompanyAdvisory","FEE")};o.onInit=function(){e.globalContentMixin.call(o,["opensDialogAda","cancelLabel","checkmarkAda","informationAda","importantAda","warningAda"]),y(),(a=o.model).set("getCompanyConfirmationMessage",_),a.set("getNoAccountsEnrolledMessage",T),a.set("getAccountsLabel",C),a.set("getPackageLabel",v),a.set("getUnenrollCompanyAdvisory",D),a.set("isCommercialUser",p.isCommercialUser()),a.set("isAccordionLocked",!1),a.set("isSuccessServiceCall",!0),e.exitDialogUtil.setListeners(o),a.set("showPackageLabel",t.showPackageLabel),a.set("isEciEnrolledByOtherSA",t.isEnrolledByOtherSA),a.set("getAccordionSubtitle",N),a.set("isEciEnrolled",(function(e){return e===n.COMPANY_STATUSES.ENROLLED})),a.set("lockFunction",(function(){return!a.get("isAccordionLocked")})),o.onData("statusChange",(function(){var e,i,n=a.get(),r=n.contentVariation,c="companyErrorHeader",l="companyErrorMessage",d={};n.isSuccessServiceCall&&(c="companyConfirmationHeader",l="companyConfirmationMessage",i=n.companyId,e=t.findCompanyById(n.companies,n.companyId),void 0!==i&&(n.currentlySelectedPlanName?d.planName=E(n.currentlySelectedPlanName):e.showCompanyName?d.companyDisplayName=e.companyDisplayName:e.package&&(d.planName=E(e.package)))),s.set(o,c,r,d),s.set(o,l,r)}),{init:!1})},o.clearAlertCompanies=function(){f((function(e){e.companyErrorHighlightState=!1,e.confirmationState=!1})),o.cashflowSettingsErrorDisplayedState=!1,a.set("unEnrollSuccess",!1)},o.verifyTask=function(i){var n=i.context.companyId,r=t.findCompanyById(o.companies,n),s=t.areAllAccountsOff(r);if(o.clearAlertCompanies(),a.set("targetFocusId",i.context.id),s)return c.setMultiple(o,[{key:"companyErrorHeader",variation:u},{key:"companyErrorMessage",variation:u}]),m(n,(function(e){e.companyErrorHighlightState=!0,e.confirmationState=!0,e.showConfirmationMessage=!0})),void(o.isSuccessServiceCall=!1);A()?e.privateState(e.dashboardSettings.updateEnrollment,{companyId:n}):e.privateState(e.dashboardSettings.showReviewOverlay,{companyId:n,operation:"enroll"})},o.cancelTask=function(i){m(i.context.companyId,(function(e){t.resetCompanySelections(e),e.isAccountUnchanged=!0,e.confirmationState=!1})),o.clearAlertCompanies(),y(),A()||g(),e.exitDialogUtil.manageFormDirty(!1,"cashflowSettingsDirtyFormOverlay")},o.selectAccountChosenOption=function(i){var n=i.context;m(n.companyId,(function(i){var r,a=(n.isEnrolled?i.enrolledAccounts:i.unenrolledAccounts)[n.accountIndex];t.selectAccount(a),r=t.anyAccountSwitched(i),i.companyErrorHighlightState=!1,i.isAccountUnchanged=!r,e.exitDialogUtil.manageFormDirty(function(e){return!A()||e}(r),"cashflowSettingsDirtyFormOverlay")}))},o.launchUpgradePlan=function(t){var i=t.context;a.set("targetFocusId",i.id),o.clearAlertCompanies(),e.privateState(e.dashboardSettings.showPackageOverlay,{packageType:i.packageType,companyId:i.companyId})},o.launchUnenrollPlan=function(t){var i=t.context;o.clearAlertCompanies(),!function(e){var t,i=0;for(t=0;t<e.length;t++)if("ENROLLED"===e[t].eciStatus&&!0===e[t].isOwner&&++i>1)return!1;return!0}(o.companies)?(o.model.set("targetFocusId",i.id),e.privateState(e.dashboardSettings.showReviewOverlay,{companyId:i.companyId,operation:"unenroll"})):(c.setMultiple(o,[{key:"companyErrorHeader",variation:d},{key:"companyErrorMessage",variation:d}]),m(i.companyId,(function(e){e.companyErrorHighlightState=!0,e.confirmationState=!0,e.showConfirmationMessage=!0})),a.set("isSuccessServiceCall",!1))},o.launchEnrollPlan=function(t){var i=t.context.companyId;a.set("targetFocusId",t.context.id),o.clearAlertCompanies(),e.privateState(e.dashboardSettings.showPackageOverlay,{companyId:i})},o.launchUnenrollProfile=function(){o.clearAlertCompanies(),a.set("targetFocusId","unenrollProfile a"),e.privateState(e.dashboardSettings.showOffBoardProfileReviewOverlay)},o.enrollCompany=function(e){I(e,e.context.id,o.launchEnrollPlan)},o.unenrollProfile=function(e){(r.isTouchStart(e)||r.isMouseClick(e)&&"A"===e.domEvent.target.tagName)&&I(e,"unenrollProfile a",o.launchUnenrollProfile)},o.upgradePlan=function(e){I(e,e.context.id,o.launchUpgradePlan)},o.unenrollCompany=function(e){I(e,e.context.id,o.launchUnenrollPlan)},o.resetCompanies=function(){f((function(e){t.resetCompanySelections(e),e.isAccountUnchanged=!0,e.confirmationState=!1})),o.clearAlertCompanies(),y()},o.collapseAccounts=b,o.expandAccounts=b}})),define("profileArea/paymentPreferences/cashflowSettings/components/cashflowPackageUpgradeConfirmation",[],(function(){"use strict";return function(e){var t=this,i=e.dcu.dynamicContent,n="CASHFLOW_PLAN_UPGRADE",r="cashflowSettingsPlanUpgradeConfirmationOverlay";t.onInit=function(){t.setDynamicSettings(),e.analyticsOverlay.showOverlay(t,r)},t.setDynamicSettings=function(){var e={previouslySelectedPlanName:t.previouslySelectedPlanName,currentlySelectedPlanName:t.currentlySelectedPlanName};i.setMultiple(t,[{key:"requestConfirmationHeader",variation:n},{key:"requestConfirmationMessage",variation:n,props:e},{key:"confirmRequestLabel",variation:n},{key:"doNotConfirmRequestLabel",variation:n}])},t.doNotConfirmRequest=function(){e.privateState(e.dashboardSettings.closeOverlay,{overlayName:"cashflowPackageUpgradeVerificationOverlayComponent"}),e.analyticsOverlay.hideOverlay(t,r,"doNotConfirmRequest")},t.confirmRequest=function(){e.privateState(e.dashboardSettings.manageReviewRequest),e.analyticsOverlay.hideOverlay(t,r,"confirmRequest")}}})),define("profileArea/paymentPreferences/cashflowSettings/components/cashflowSettingsVerification",["require","profileArea/paymentPreferences/cashflowSettings/lib/cashflowConstants"],(function(e){"use strict";var t=e("profileArea/paymentPreferences/cashflowSettings/lib/cashflowConstants").CASHFLOW_VERIFICATION;return function(e){var i,n=this,r="cashflowSettingsVerificationOverlay";n.onInit=function(){i=e.dcu.dynamicContent,n.setDynamicSettings()},n.setDynamicSettings=function(){i.setMultiple(n,[{key:"enrolledAccountsSectionHeader",variation:t.VERIFY},{key:"unenrolledAccountsSectionHeader",variation:t.ACCOUNT_UNENROLLMENT},{key:"cashflowProfileUnenrollmentMessage",variation:t.CASHFLOW_COMPANY_UNENROLLMENT}]),e.analyticsOverlay.showOverlay(n,r)},n.cancelTask=function(){e.privateState(e.dashboardSettings.closeOverlay,{overlayName:"cashflowSettingsVerificationOverlayComponent"}),e.analyticsOverlay.hideOverlay(n,r,"cancelTask")},n.confirmTask=function(){e.privateState(e.dashboardSettings.manageReviewRequest),e.analyticsOverlay.hideOverlay(n,r,"confirmTask")}}})),define("profileArea/paymentPreferences/cashflowSettings/components/cashflowPackageOverlay",[],(function(){"use strict";var e="CASHFLOW_PLAN_DOWNGRADE",t="CASHFLOW_PLAN_UPGRADE",i="ENROLLED",n="cashflowPlansOverlay";return function(r){var a=this,o=r.dcu.dynamicSettings,s=function(){r.controller.emit("destroyComponent",{name:"cashflowPackageOverlayComponent"}),r.analyticsOverlay.hideOverlay(a,n)},c=function(n){var r=a.model.get("packageId");return o.get(a,"requestNextStepLabel",r>-1?function(n,r){return r<n?e:n===r?i:t}(r,n):void 0)};a.onInit=function(){r.globalContentMixin.call(a,["exitAda","cancelLabel"]),a.model.set("requestPlanLabel",c),a.model.set("getPlanADA",(function(e){return o.get(a,"cashflowPlansAda",null,{planHeader:e})})),r.analyticsOverlay.showOverlay(a,n)},a.cancelStep=function(){a.model.set("setFocusOnCancel",!a.model.get("setFocusOnCancel")),s()},a.requestNextStep=function(e){var t=e.context.value;-1!==a.model.get("packageId")?(r.privateState(r.dashboardSettings.showReviewOverlay,{operation:"upgrade",newPackageType:t}),s()):r.privateState(r.dashboardSettings.showAccountSwitchOptions,{newPackageType:t})}}})),define("profileArea/paymentPreferences/cashflowSettings/components/cashflowOffBoardProfile",["require","profileArea/paymentPreferences/cashflowSettings/lib/cashflowConstants"],(function(e){"use strict";var t=e("profileArea/paymentPreferences/cashflowSettings/lib/cashflowConstants").OFFBOARD_PROFILE;return function(e){var i=this,n="cashflowSettingsUnenrollProfileConfirmationOverlay",r=e.dcu.dynamicContent,a=function(e,t){return r.get(i,"accountsLabel",e,t)},o=function(e){var t={numberOfAccounts:e};return e?a(1===e?"SINGLE":"MULTIPLE",t):a("NONE")};i.onInit=function(){var a=t.PROFILE_UNENROLLMENT;r.setMultiple(i,[{key:"accountsLabel",variation:"MULTIPLE"},{key:"unenrolledAccountsSectionHeader",variation:a},{key:"confirmTaskLabel",variation:a},{key:"cancelTaskLabel",variation:a}]),e.analyticsOverlay.showOverlay(i,n),i.model.set("getAccountsLabel",o)},i.cancelTask=function(){e.privateState(e.dashboardSettings.closeOverlay,{overlayName:"cashflowSettingsUnenrollProfileConfirmationOverlayComponent"}),e.analyticsOverlay.hideOverlay(i,n,"cancelTask")},i.confirmTask=function(){e.privateState(e.dashboardSettings.offBoardProfile),e.analyticsOverlay.hideOverlay(i,n,"confirmTask")}}})),define("profileArea/paymentPreferences/cashflowSettings/components/genericOverlay",[],(function(){"use strict";return function(e){var t=this;t.onInit=function(){e.analyticsOverlay.showOverlay(t,"notificationOverlay")},t.exitNotification=function(){e.privateState(e.settings.get("closeOverlay"),{overlayName:"genericOverlay"}),e.analyticsOverlay.hideOverlay(t,"notificationOverlay","exitNotification")}}})),define("profileArea/paymentPreferences/cashflowSettings/components/cashflowOffBoardProfileResults",["require","profileArea/paymentPreferences/cashflowSettings/lib/cashflowConstants"],(function(e){"use strict";var t=e("profileArea/paymentPreferences/cashflowSettings/lib/cashflowConstants").OFFBOARD_PROFILE;return function(e){var i=this,n="cashflowSettingsUnenrollProfileResponseOverlay",r=e.dcu.dynamicContent;i.onInit=function(){i.cashflowSettingsConfirmationDisplayedState?r.setMultiple(i,[{key:"confirmationHeader",variation:t.NOT_ENROLLED},{key:"confirmationAdvisory",variation:t.NOT_ENROLLED}]):r.setMultiple(i,[{key:"confirmationHeader",variation:t.ENROLLED},{key:"confirmationAdvisory",variation:t.ENROLLED},{key:"companiesHeader",variation:t.PAYMENT_IN_PROCESS}]),e.analyticsOverlay.showOverlay(i,n)},i.exitCashflowSettings=function(){return e.analyticsOverlay.hideOverlay(i,n),i.cashflowSettingsConfirmationDisplayedState?e.profileContainer.exitMyProfile():e.privateState(e.dashboardSettings.getAccountsConfiguration),Promise.resolve([])}}})),define("profileArea/paymentPreferences/atm/lib/constants",{receiptVariations:["NOT_SET","ALWAYS_PROMPT","ALWAYS_PRINT","NEVER_PRINT"],langCodes:["EN","ZH","FR","DE","EL","IT","JA","KO","PL","PT","RU","ES","TL","VI"],languageMap:{EN:"ENGLISH",ZH:"CHINESE",FR:"FRENCH",DE:"GERMAN",EL:"GREEK",IT:"ITALIAN",JA:"JAPANESE",KO:"KOREAN",PL:"POLISH",PT:"PORTUGUESE",RU:"RUSSIAN",ES:"SPANISH",TL:"TAGALOG",VI:"VIETNAMESE"},ALA_ALS_PAYMENT_DETAILS_SERVICE_MAPPER:{AUTO_LOAN:"payment-amount-details.ala",AUTO_LEASE:"payment-amount-details.als"},ALA_ALS_RES_MAPPER:{AUTO_LOAN:"loanAccountPaymentAmountDetails",AUTO_LEASE:"leaseAccountPaymentAmountDetails"},paymentsActivityIndexCheck:["initiateCancelPaymatics","successfulCancelPaymatics","noUpdate","doNotCancelPaymatics","cancelPaymatics","initiateEditPaymatics","initiateEditAutoLease","verifyEditAutoLease","verifyEditAutoLoan","confirmEditAutoLease","confirmEditAutoLoan","initiateEditAutoLoan","successfulCancelAutoLoanPayment","successfulCancelAutoLeasePayment"],ISCOLLECTION:"COLLECTIONS",VARIATION_COLLECTION:"CREDIT_ACCOUNT_IN_COLLECTION_PAYMENT",spanishAgreementVariationMapper:{MINIMUM_PAYMENT_DUE:"MINIMUM_AMOUNT",FIXED_AMOUNT:"FIXED_AMOUNT",STATEMENT_BALANCE:"FULL_AMOUNT",BLUEPRINT_PAYMENT:"BLUEPRINT_AMOUNT",BLUEPRINT_AMOUNT:"BLUEPRINT_AMOUNT",INTEREST_SAVING_BALANCE:"INTEREST_SAVING_BALANCE",PAY_IN_FULL_CREDIT_CARD:"PAY_IN_FULL_CREDIT_CARD",INTEREST_SAVING_BALANCE_PAY_IN_FULL_CREDIT_CARD:"INTEREST_SAVING_BALANCE_PAY_IN_FULL_CREDIT_CARD"},statusCodeServiceKeys:{IN_PROCESS_CHASE_FROM_NON_CHASE:!0,IN_PROCESS_NON_CHASE:!0,IN_PROCESS_CHASE:!0,IN_PROCESS_CXE:!0,PAYMENT_THRESHOLD_DATE:!0,REPEATING_PAYMENT_THRESHOLD_DATE:!0,FUNDING_IN_PROCESS:!0},FUNDING_IN_PROCESS:"FUNDING_IN_PROCESS",ECD_STAND_IN_MODE:"ECD_STAND_IN_MODE",HOME_MORTGAGE:"MORTGAGE",CREDIT_FACILITY_PAYEE_TYPE:"CREDIT_FACILITY",ANNUAL_FEE:"ANNUAL_FEE_AMOUNT",CANCEL_WITHIN_THREE_DRAFT_DAYS:"CANCEL_WITHIN_THREE_DRAFT_DAYS",CANCEL_WITHIN_THREE_DAYS_OF_NEXT_PAYMENT_DRAFT_DATE:"CANCEL_WITHIN_THREE_DAYS_OF_NEXT_PAYMENT_DRAFT_DATE",CANCELED:"CANCELED",INTEREST_SAVING_BALANCE:"INTEREST_SAVING_BALANCE",FIXED_AMOUNT:"FIXED_AMOUNT",PAY_IN_FULL_CREDIT_CARD:"PAY_IN_FULL_CREDIT_CARD",INTEREST_SAVING_BALANCE_PAY_IN_FULL_CREDIT_CARD:"INTEREST_SAVING_BALANCE_PAY_IN_FULL_CREDIT_CARD",STATEMENT_BALANCE:"STATEMENT_BALANCE",MISSED_PAST_DUE:"PAST_DUE",paymentTypeOptions:{MINIMUM_AMOUNT_DUE:"MINIMUM_AMOUNT_DUE",OTHER_AMOUNT:"OTHER_AMOUNT",AMOUNT_DUE:"AMOUNT_DUE",ANNUAL_FEE_AMOUNT:"ANNUAL_FEE_AMOUNT",TRIAL_PAYMENT:"TRIAL_PAYMENT",MISSED_PAST_DUE:"PAST_DUE",PARTIAL_AMOUNT:"PARTIAL_AMOUNT",FIFTEEN_YEAR_AMORTIZED:"FIFTEEN_YEAR_AMORTIZED",FULLY_AMORTIZED:"FULLY_AMORTIZED",INTEREST_ONLY:"INTEREST_ONLY",PRINCIPAL_AND_ESCROW_ONLY_PAYMENT:"PRINCIPAL_AND_ESCROW_ONLY_PAYMENT",TOTAL_AMOUNT_DUE:"TOTAL_AMOUNT_DUE",OUTSTANDING_BALANCE_AMOUNT_DUE:"OUTSTANDING_BALANCE_AMOUNT_DUE",PRINCIPAL_ONLY_PAYMENT:"PRINCIPAL_ONLY_PAYMENT"},partialPaymentOptions:{11:"TRIAL_PAYMENT",12:"PAST_DUE",2:"PARTIAL_AMOUNT"},sortOrder:{STATEMENT_BALANCE:1,CURRENT_BALANCE:2,TOTAL_AMOUNT_DUE:3,BLUEPRINT_PAYMENT:4,MINIMUM_AMOUNT_DUE:5,MINIMUM_PAYMENT_DUE:6,OTHER_AMOUNT:7,ANNUAL_FEE_AMOUNT:8,ADDITIONAL_PRINCIPAL:9,PRINCIPAL_ONLY_PAYMENT:10,OUTSTANDING_BALANCE_AMOUNT_DUE:11,PRINCIPAL_AND_INTEREST:12,PRINCIPAL_AND_ESCROW_ONLY_PAYMENT:13,TRIAL_PAYMENT:14,MISSED_PAST_DUE:15},MAINTENANCE_MODES:{C3_STAND_IN:"c3StandIn",ECD_STAND_IN:"ecdStandIn",FUNDING_IN_PROCESS:"FUNDING_IN_PROCESS",READ_ONLY:"readOnly"},paymentTypeMapper:{STATEMENT_BALANCE:"STATEMENT_BALANCE",CURRENT_BALANCE:"CURRENT_BALANCE",REMAINING_STATEMENT_BALANCE:"REMAINING_STATEMENT_BALANCE",FIXED_AMOUNT:"OTHER_AMOUNT"},variationMapper:{BLUEPRINT_PAYMENT:"BLUEPRINT_AMOUNT",INTEREST_SAVING_BALANCE:"INTEREST_SAVING_BALANCE"},CREDIT_CARD:"CREDIT_CARD",serviceResponseMappers:{ADDITIONAL_PRINCIPAL_LOCK_NOT_ALLOWED:"ADDITIONAL_PRINCIPAL_LOCK_NOT_ALLOWED",ADDITIONAL_PRINCIPAL_LOCK_OR_ANNUAL_FEE_PAYMENT_NOT_ALLOWED:"ADDITIONAL_PRINCIPAL_LOCK_OR_ANNUAL_FEE_PAYMENT_NOT_ALLOWED"},getFormDetails:"getFormDetails",getCCFormDetails:"getCCFormDetails",serviceMap:{addOptions:{false:"billpay.card.autopayment.add.options.list",true:"add.billpay.card.autopayment.options.list"},add:{false:"billpay.card.autopayment.add",true:"add.billpay.card.autopayment"},addValidate:{false:"billpay.card.autopayment.add.validate",true:"add.billpay.card.autopayment.validate"},updateOptions:{false:"updateAutomaticCreditCardPaymentOptions",true:"automaticCreditCardPaymentUpdateOptions"},update:{false:"updateAutomaticCreditCardPayment",true:"automaticCreditCardPaymentUpdate"},updateValidate:{false:"updateAutomaticCreditCardPaymentValidate",true:"automaticCreditCardPaymentUpdateValidate"}},tooltipEligible:["FIXED_AMOUNT","BLUEPRINT_AMOUNT","FLEX_CREDIT_ACCOUNT","PAY_IN_FULL_CREDIT_CARD","INTEREST_SAVING_BALANCE_PAY_IN_FULL_CREDIT_CARD"],dateFormats:{US_MEDIUM:"MMM D, YYYY",YYYYMMDD:"YYYYMMDD"},legalAgreementParams:{agreementType:"TRANSFER_AGREEMENT",messageVariation:"TRANSFER_AGREEMENT",headerVariation:"TRANSFER_AGREEMENT",advisoryVariation:"TRANSFER_AGREEMENT"},NOT_MAPPED:"NOT_MAPPED",EMPTY_SPACE:" ",AUTO_LOAN:"AUTO_LOAN",TRANSFER_ENROLLMENT_REQUIRED:"TRANSFER_ENROLLMENT_REQUIRED",NO_ELIGIBLE_ACCOUNTS:"NO_ELIGIBLE_ACCOUNTS",CONFIRM:"CONFIRM",ZERO_VALUE:0,homeLoans:"homeLoans",mortgageEditPay:"mortgageEditPay",PMR_SINGLE_PAYMENT:"/#/dashboard/pmr/singlePaymentContainer/index",HOME_FASTPAY:"#/dashboard/paymentsHomeLendingArea/hmgPayments/index",PAY_IN_FOUR_FASTPAY:"#/dashboard/paymentsPayInFourLendingArea/payInFourPayments/index",LOAN:"loan",HELOC:"HELOC",HMG:"HMG",OLC:"OLC",HOME_EQUITY_LOAN:"HOME_EQUITY_LOAN",RETURNTO_SETUP_URL:"returnTo_SetUp_Url",RETURNTO_PAYBILLS_UPDATE_URL:"payBills_Update_Url",ELIGIBLE_YODLEE_PAYEES:["HOME_EQUITY_LOAN","HELOC","MORTGAGE","AUTO_LOAN","AUTO_LEASE","PERSONAL_LOAN","CREDIT_CARD"],PERSONAL_LOAN:"PERSONAL_LOAN",EXTERNAL_ACCOUNT_KEY:"EXTERNAL_ACCOUNT_KEY",dirtyOverlayParams:{isDirectOverride:!0,exitConfirmationHeader:"NAVIGATE_AWAY",exitConfirmationMessage:"ACH_PAYMENTS_ENROLLMENT"},openParentheses:"(",closeParentheses:")",FLYOUT_ACCOUNT_TYPES:["AUTO_LOAN","AUTO_LEASE","CREDIT_CARD"],FLYOUT_FASTPAY:";flyout=payLoan,",FASTPAY_FLYOUT_MAPPER:{AUTO_LOAN:";flyout=payLoan,",AUTO_LEASE:";flyout=payLoan,",CREDIT_CARD:";flyout=payCard,",OLC:";flyout=payCard,"},NEW_PMB_FASTPAY_FLYOUT_MAPPER:{AUTO_LOAN:";flyout=manageMultiplePayLoan,",AUTO_LEASE:";flyout=manageMultiplePayLoan,",CREDIT_CARD:";flyout=manageMultipleBillsPayCard,",OLC:";flyout=manageMultipleBillsPayCard,"},COMMA:",",CHANGE_FORMAT:{AUTO_LOAN:"ALA",AUTO_LEASE:"ALS",CREDIT_CARD:"BAC"},LONG_FORM:{ALA:"AUTO_LOAN",ALS:"AUTO_LEASE",BAC:"CREDIT_CARD"},CREDIT_CARD_CONSOLIDATED:"CREDIT_CARD_CONSOLIDATED",CREDIT_CARD_CONTENT_CHRONICLE_ID:"090000728127870f",CREDIT_CARD_CONTENT_VERSION_NUMBER:"1.0",OLC_CONSOLIDATED_VARIATION:"PERSONAL_LOAN",AUTO_PRODUCTS:["AUTO_LOAN","AUTO_LEASE"],FROM_URL_MBP_EDIT_PAYMENT:{1:"#/dashboard/payBills/paymentsActivity/index;params=billPay,all",2:"#/dashboard/payBills/paymentsActivity/index;params=billPay,repeating",3:"#/dashboard/payBills/paymentsActivity/index",4:"#/dashboard/managePayee/managePayeeNav/managePayeesList"}}),define("profileArea/paymentPreferences/atm/controllers/atm",["common/lib/modalApi","common/lib/utility/commonComponentsUtil","profileArea/sharedLib/nativeButtonNavigationMixin","profileArea/paymentPreferences/atm/lib/constants","blue/siteMode","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e,t,i,n,r,a){"use strict";return function(o){var s=this,c=r.isModeEnabled("readOnly")||r.isModeEnabled("ecdStandIn");s.dataProvider||(s.dataProvider={}),s.dataProvider.mappers={atm:{msadd:{success:()=>s.components.atm._handleSuccessfulUpdate(),failure:()=>s.components.atm._displayErrorMessage()},msupdate:{success:()=>s.components.atm._handleSuccessfulUpdate(),failure:()=>s.components.atm._displayErrorMessage()},msupdatev2:{success:()=>s.components.atm._handleSuccessfulUpdate(),failure:()=>s.components.atm._displayErrorMessage()}}},s.init=function(){return a.getFeatureTreatments(["cxoweb_profile_atm_newSealEnable","cxoweb_profile_atmPreferences_microapp"],{cxoweb_profile_atm_newSealEnable:0,cxoweb_profile_atmPreferences_microapp:!1}).then((function(n){o.isAtmPreferencesMicroappEnabled=n.cxoweb_profile_atmPreferences_microapp,!0===n.cxoweb_profile_atm_newSealEnable&&(o.msUrlV2=!0),o.hybrid&&i.call(s,o,o.hybrid),o.on({"atm/setTgtData":function(e){o.Api.modal.setTgtData(e.data,!1)}}),o.Api={modal:new e(s)},o.commonComponentsUtil=t(s),o.dcu=o.dcu.dynamicContent,o.updateNativeButtonsAndNavigation=s.updateNativeButtonsAndNavigation,o.getHeaderContent=s.getHeaderContent}))},s._renderMicroAppContainer=function(){return s.model.set("atm.isAtmPreferencesEnabled",!0),s._setAtmPageProperties(),s.executeCAV([s.components.atm,"atm",o.renderTarget])},s.requestUpdateMyAtmPreferences=function(){return o.isAtmPreferencesMicroappEnabled?s._renderMicroAppContainer():((s.registry.hasComponent("atm")||s.model.get("atm.fundingAccounts")?.length)&&(s.components.atm._setCurrentScreen("showAccountsView"),s.components.atm._setAccountToDefault()),o.dirtyForm.dirtyIgnore=!1,s._setAtmPageProperties(),s.model.update("atm",{readOnlyEvent:c,preferencesChanged:!1,singleAtmAccount:!1,atmSkipSelector:"input-atmWithdrawalRdoBtn1",currentView:"showAccountsView",requestProfileSettingsMenuAda:o.globalContent.requestProfileSettingsMenuAda,currentSelectionAda:o.globalContent.currentSelectionAda,endOfSelectionAda:o.globalContent.endOfSelectionAda,closeLabel:o.globalContent.closeLabel,importantAda:o.globalContent.importantAda,warningAda:o.globalContent.warningAda,requiredAda:o.globalContent.requiredAda,submitButtonDisabled:!1,whitelist:["preferences"]}),o.hybrid&&o.updateNativeButtonsAndNavigation("atm.selectPreferences"),s._callAtmAccountListService().then(s._handleSuccessfulService).catch(s._handleFailedService))},s.getHeaderContent=function(){return s.components.atm.updateMyAtmPreferencesHeader},s._setAtmPageProperties=function(){o.profileContainer.setPageProperties({pageTitle:o.dcu.get(s.components.atm,"updateMyAtmPreferencesHeader"),containerClasses:"legacy-profile-styles",$isMicroAppEnabled:o.isAtmPreferencesMicroappEnabled})},s.updateMyAtmPreferences=function(){if(!s.registry.hasComponent("atm")||""===s.model.get("atm.fundingAccountId"))return o.replaceState(o.profileUrls.requestUpdateMyAtmPreferences);s._setAtmPageProperties();var e=s.model.get("atm.fundingAccountId");return""!==e?s.components.atm._callAtmPreferenceListService({accountId:e}).then((function(e){return s.components.atm._handleSuccessfulPreferenceListService(e),o.bubble("dirtyDeregister",{name:"atm"}),s.registerDirtyForm(!1),s._renderAtmComponent()})).catch((function(){return o.bubble("dirtyDeregister",{name:"atm"}),s.components.atm._displayErrorMessage(),s._renderAtmComponent()})):void 0},s.confirmUpdateMyAtmPreferences=function(){s.registry.hasComponent("atm")||o.replaceState("/dashboard/profileArea/atm/requestUpdateMyAtmPreferences")},s._callAtmAccountListService=function(){return o.commonComponentsUtil.showSpinner({target:o.renderTarget.target,overlayType:"INSECTION",append:!0}),o.services.atm["account.list"]()},s.registerDirtyForm=function(e){var t=s.model.get("atm.whitelist");e&&t.push("fundingAccountId"),o.bubble("dirtyRegister",{controller:s,compInstanceNames:["atm"],target:"#my-profile-page-content",whiteList:t,routeBlackList:["/dashboard/profileArea/atm/confirmUpdateMyAtmPreferences"]})},s._handleSuccessfulService=function(e){var t=e.accounts,i=!(1===t?.length);return s._setDropdownOptions(),i?(s._registerExitDialog(),t?.length>1?(o.dcu.set(s.components.atm,"updateMyAtmPreferencesMessage","SELECT"),s.model.set("atm.fundingAccounts",e.accounts)):s.components.atm._displayNoAccountsMessage(),s.registerDirtyForm(i),s._renderAtmComponent()):(s.model.update("atm",{singleAtmAccount:!0,fundingAccountId:t[0].fundingAccountId}),void o.replaceState(o.profileUrls.updateMyAtmPreferences))},s._setDropdownOptions=function(){var e=[],t=[],i=n.receiptVariations,r=n.langCodes;o.languageMap=n.languageMap,i.forEach((function(t){e.push({name:o.dcu.get(s.components.atm,"receiptPreferenceName",t),value:t})})),r.forEach((function(e){t.push({name:o.dcu.get(s.components.atm,"languageName",o.languageMap[e]),value:e})})),s.model.set("atm.receiptPreferences",e),s.model.set("atm.languages",t)},s._handleFailedService=function(){s._registerExitDialog(),s.components.atm._displayErrorMessage(),s._renderAtmComponent()},s._registerExitDialog=function(){o.exitDialogUtil.setListeners(s.components.atm)},s._renderAtmComponent=function(){var e=[s.components.atm,"atm",o.renderTarget];if(o.currentController===s.name)return s.executeCAV(e).then((function(){o.area.broadcast("renderMyProfileMenuMobile")}))},o.requestMicroservice=function(e,t){return s.dataProvider.request("atm."+e,t)}}})),define("profileArea/paymentPreferences/atm/components/atm",["require","profileArea/sharedLib/profileMixin"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileMixin"),i=function(){};return function(e){var n=this;n.init=function(){t.call(n),n.output.on("ready",(function(){n.input.on({ractiveModelCacheExitDialog:function(e){n.model.set("preferencesChanged",e.data.isDirty),n._syncViewModel()}})}))},n._syncViewModel=function(){n.output.emit("message",{value:"syncViewModel",preferences:n.model.get("preferences"),currentView:n.model.get("currentView"),preferencesChanged:n.model.get("preferencesChanged")})},n._focusOnElement=function(e){n.output.emit("message",{value:"focusOnElement",focusSelector:e})},n._messageView=function(e){n.output.emit("message",{value:e})},n._setCurrentScreen=function(t){n.model.set("currentView",t);var i={showAccountsView:"SELECT",showUpdateView:"ENTER",showConfirmationView:"CONFIRM"};e.dcu.set(n,"updateMyAtmPreferencesMessage",i[t]),"SELECT"!==i[t]&&e.dcu.set(n,"requestUpdateMyAtmPreferencesLabel",i[t]),n._syncViewModel()},n._displayErrorMessage=function(){e.bubble("dirtyDeregister",{name:"atm"}),e.commonComponentsUtil.hideSpinner({target:e.renderTarget.target}),e.dcu.set(n,"updateMyAtmPreferencesErrorHeader","SYSTEM_FAILURE"),e.dcu.set(n,"updateMyAtmPreferencesErrorAdvisory","SYSTEM_FAILURE"),n.model.set("currentView","serviceErrorView"),n._syncViewModel()},n._displayNoAccountsMessage=function(){e.commonComponentsUtil.hideSpinner({target:e.renderTarget.target}),e.dcu.set(n,"updateMyAtmPreferencesErrorHeader","NO_ATM_CARD"),e.dcu.set(n,"updateMyAtmPreferencesErrorAdvisory","NO_ATM_CARD"),n.model.set("currentView","noAccountsView"),n._syncViewModel()},n._setSelectedAccount=function(e){var t=e.domEvent.target.value;n.model.set("fundingAccountId",t),n._enableOrDisableSelectAccountButtons(t)},n.resetFundingAccount=function(){n._setAccountToDefault()},n._setAccountToDefault=function(){n.model.get("singleAtmAccount")||n.model.set("fundingAccountId",""),n._enableOrDisableSelectAccountButtons("")},n._enableOrDisableSelectAccountButtons=function(e){n.output.emit("message",{value:"enableOrDisableButtons",enable:""!==e})},n.updateMyAtmPreferences=function(){e.dirtyForm.dirtyIgnore=!0,e.state(e.profileUrls.updateMyAtmPreferences)},n._callAtmPreferenceListService=function(t){var i=e.msUrlV2?"ms.preference.list.v2":"ms.preference.list";return e.commonComponentsUtil.showSpinner({target:e.renderTarget.target,overlayType:"INSECTION",append:!0}),e.services.atm[i]({urlParams:t})},n._handleSuccessfulPreferenceListService=function(t){var i,r;e.hybrid&&!n.model.get("singleAtmAccount")&&e.updateNativeButtonsAndNavigation("atm.addPreferences"),t.fastCashAmount?(i="enterAmount",r=t.fastCashAmount):(i="noWithdrawalPreference",r=""),t.displayFastCashPlaceHolder||n.model.set("atmSkipSelector","header-atmLangPrefOptions"),n.model.set("atmPreferenceExistsIndicator",t.atmPreferenceExistsIndicator),n.model.set("quickChoiceMaximumWithdrawalAmount",Math.min(t.atmPrefLimit,t.dailyMaxWithdrawlLimit)),n.model.set("stringifiedInitialPreferences",JSON.stringify({fastCashAmount:r,checkedRadioButton:i,atmLanguagePreference:t.atmLanguagePreference,originalAtmLanguagePreference:t.atmLanguagePreference,atmRecieptPreference:t.atmRecieptPreference,originalAtmRecieptPreference:t.atmRecieptPreference,displayFastCashPlaceHolder:t.displayFastCashPlaceHolder})),n._setPreferencesToOriginal(),n._setCurrentScreen("showUpdateView"),e.commonComponentsUtil.hideSpinner({target:e.renderTarget.target})},n.resetAtmPreferences=function(){n._setPreferencesToOriginal()},n._setPreferencesToOriginal=function(){n.model.set("preferences",JSON.parse(this.model.get("stringifiedInitialPreferences"))),n.model.set("preferencesChanged",!1),n._syncViewModel(),n.output.emit("trigger",{value:"clearValidation"})},n.requestUpdateMyAtmPreferences=function(){e.dirtyForm.dirtyIgnore=!0,e.state("/dashboard/profileArea/atm/requestUpdateMyAtmPreferences")},n.confirmUpdateMyAtmPreferences=function(){var e={accountId:n.model.get("fundingAccountId"),atmLanguagePreference:n.model.get("preferences.atmLanguagePreference"),atmReceiptPreference:n.model.get("preferences.atmRecieptPreference")},t=n.model.get("preferences.fastCashAmount");return t&&(e.fastCashAmount=t.toString().replace(",","")),n._callAtmPreferenceUpdateService(e)},n._callAtmPreferenceUpdateService=function(t){e.commonComponentsUtil.showSpinner({target:e.renderTarget.target,overlayType:"INSECTION",append:!0});var i={urlParams:{accountId:t.accountId},jsonRequestBody:{languageCode:t.atmLanguagePreference,quickCashAmount:t.fastCashAmount,receiptPreferenceCode:t.atmReceiptPreference}};if(!n.model.get("atmPreferenceExistsIndicator"))return e.requestMicroservice("msadd",i);var r=e.msUrlV2?"msupdatev2":"msupdate";e.requestMicroservice(r,i)},n._handleSuccessfulUpdate=function(){var t=n.model.get(),i=e.languageMap[t.preferences.atmLanguagePreference],r=t.preferences.atmRecieptPreference;n.model.set("language",e.dcu.get(n,"languageName",i)),n.model.set("receiptPreference",e.dcu.get(n,"receiptPreferenceName",r)),e.commonComponentsUtil.hideSpinner({target:e.renderTarget.target}),e.hybrid&&e.updateNativeButtonsAndNavigation("atm.confirmPreferences"),n._setCurrentScreen("showConfirmationView"),e.bubble("dirtyDeregister",{name:"atm"}),t.singleAtmAccount?e.state(e.constants.profileUrls.confirmUpdateMyAtmPreferences):e.replaceState(e.constants.profileUrls.confirmUpdateMyAtmPreferences)},n._isOtherSelectionOrModelDirty=function(t){var i=t[0].toUpperCase()+t.slice(1),r=e.Api.modal.getIsDirty(),a=JSON.parse(n.model.get("stringifiedInitialPreferences"))["original"+i];return!(n.model.get("preferences."+t)===a&&!r)},n._styledSelectLanguagePrefChange=function(e){var t=e.context.id,i=e.domEvent.target.value,r={atmReceiptPrefOptions:"atmLanguagePreference",atmLangPrefOptions:"atmRecieptPreference"}[t],a={atmReceiptPrefOptions:"originalAtmRecieptPreference",atmLangPrefOptions:"originalAtmLanguagePreference"}[t],o={atmReceiptPrefOptions:"atmRecieptPreference",atmLangPrefOptions:"atmLanguagePreference"}[t],s=n._isOtherSelectionOrModelDirty(r),c=JSON.parse(n.model.get("stringifiedInitialPreferences"))[a];c===i?(n.model.set(`preferences.${o}`,i),s?n._messageView("enableCancelButton"):s||n._messageView("disableCancelButton")):c!==i&&(n.model.set(`preferences.${o}`,i),n._messageView("enableCancelButton"))},n._clearFastCashAmount=function(){n.model.set("preferences.checkedRadioButton","noWithdrawalPreference");var e=n._isOtherSelectionOrModelDirty("atmLanguagePreference"),t=n._isOtherSelectionOrModelDirty("atmRecieptPreference");(e||t)&&n._messageView("enableCancelButton"),n.model.set("preferences.fastCashAmount",""),n.output.emit("trigger",{value:"clearValidation"})},n._handleSkiplinkPress=function(t){e.profileUtil.skipIfEnterSpaceOrClick(this,t,"skipBack")},n.skipBack=i,n.exitUpdateMyAtmPreferences=function(){e.profileContainer.exitMyProfile()},n.requestReceiptPreferenceHelpMessage=i,n.exitReceiptPreferenceHelpMessage=i,n.toggleErrorMessageDetail=function(t){e.profileUtil.errorMessageDetails(n,t)},n.requestErrorMessageDetails=i,n.exitErrorMessageDetails=i}})),define("profileArea/paymentPreferences/pinChange/services/pinChangeDataTransform",[],(function(){"use strict";return function(){function e(e,t){return e.openParenthesesSymbol+e.horizontalEllipsisSymbol+t+e.closeParenthesesSymbol}function t(e){return e.length>20&&(e=e.substring(0,20).trim()+" "),e}return{accountsListDataTransform:function(i,n,r){if(r&&r.accounts&&r.accounts.length){var a=r.accounts.filter((function(e){return!e.investment})).map((function(i){var r=(i.nickname||"")+" ";return r=n.pinChange.isXSorHybrid?t(r):r,{pinAccount:r+=e(n.pinChange,i.mask),pinAccountId:i.accountId}}));a.length?i.set("pinChange.accounts",a):i.set("pinChange.pageError","HIDDEN_ACCOUNTS")}},cardsListDataTransform:function(i,n,r){if(r&&r.debitCards&&r.debitCards.length){var a=r.debitCards.map((function(i){var r=(i.nameOnCard?i.nameOnCard+n.pinChange.colonSymbol+" ":"")+(i.nickname||"")+" ";return r=n.pinChange.isXSorHybrid?t(r):r,{pinCardData:r+=e(n.pinChange,i.cardMask),pinCardId:i.cardAccountId}}));i.set("pinChange.subAccounts",a),i.set("pinChange.noEligibleCards",!1)}else r&&r.debitCards&&!r.debitCards.length&&i.set("pinChange.noEligibleCards",!0)}}}})),define("profileArea/paymentPreferences/pinChange/services/pinChangeServicesMapper",["require","profileArea/paymentPreferences/pinChange/services/pinChangeDataTransform"],(function(e){"use strict";return function(t){var i=e("profileArea/paymentPreferences/pinChange/services/pinChangeDataTransform")(t),n="pinChange";return{pinChange:{accountsList:{success:function(e,t,r,a){t.accounts.length?i.accountsListDataTransform(a,r,t):a.set(n+".pageError","HIDDEN_ACCOUNTS"),a.set(n+".pageLoaded",!0)},failure:function(e,t,i,r){r.set(n+".pageError","SYSTEM_FAILURE"),r.set(n+".pageLoaded",!0)}},cardsList:{success:function(e,t,r,a){i.cardsListDataTransform(a,r,t),a.set(n+".focusWhere",""),a.set(n+".focusWhere","#header-accountSelectPinChange-styledselect")},failure:function(e,t,i,r){r.set(n+".pageError","SYSTEM_FAILURE")}},update:{success:function(e,t,i,r){var a={MAX_ATTEMPTS_EXCEEDED:"MAX_ATTEMPTS_EXCEEDED",PIN_NOT_UPDATED:"PIN_NOT_UPDATED",UPDATE_IN_PROCESS:"UPDATE_IN_PROCESS"};"INVALID_PIN"===t.status&&(t.status=t.maxAttemptExceeded?"MAX_ATTEMPTS_EXCEEDED":"PIN_NOT_UPDATED"),"UPDATE_IN_PROCESS"===t.status?(r.set(n+".updateCallStatus",a[t.status]),r.set(n+".updateProcessing",!0)):t.status?r.set(n+".pageError",a[t.status]):(r.set(n+".updateCallStatus","SUCCESS"),r.set(n+".updateSuccess",!0))},failure:function(e,t,i,r){r.set(n+".pageError","SYSTEM_FAILURE")}}}}}})),define("profileArea/paymentPreferences/pinChange/controllers/pinChange",["require","appkit-utilities/common/mediaQueryListener","profileArea/sharedLib/nativeButtonNavigationMixin","profileArea/paymentPreferences/pinChange/services/pinChangeServicesMapper"],(function(e){"use strict";return function(t){var i=this,n=e("appkit-utilities/common/mediaQueryListener"),r=e("profileArea/sharedLib/nativeButtonNavigationMixin");i.onInit=function(){i.dataProvider.mappers=e("profileArea/paymentPreferences/pinChange/services/pinChangeServicesMapper")(i),r.call(i,t),t.getCardsList=i.getCardsList,t.makeUpdateCall=i.makeUpdateCall,t.updateNativeButtonsAndNavigation=i.updateNativeButtonsAndNavigation},i.requestUpdateAtmPin=function(e){var n=t.dcu.dynamicContent.get(i.components.pinChange,"updateAtmPinHeader");return t.enableNewAppNavigation=t.enableNewAppNavigation||t.hybrid&&"true"===e.enableNewAppNavigation,t.updateNativeButtonsAndNavigation("pinChange.updatePin"),i._initModel(),t.profileContainer.setPageProperties({pageTitle:n,containerClasses:"legacy-profile-styles"}),i.dataProvider.request("pinChange.accountsList"),[i.components.pinChange,"pinChange",t.renderTarget]},i.confirmUpdateAtmPin=function(){i.registry.hasComponent("pinChange")||t.state(t.settings.get("pinChangeUrl"))},i.getCardsList=function(e){i.dataProvider.request("pinChange.cardsList",e)},i.makeUpdateCall=function(e){i.dataProvider.request("pinChange.update",e)},i._initModel=function(){var e=n.currentBreakpoint===n.BREAKPOINT.XS,r=t.hybrid;i.model.update("pinChange",{accounts:[],subAccounts:[],accountId:"",subAccountId:"",newPin:"",confirmPin:"",pageLoaded:!1,accountBlurb:"",cardBlurb:"",updateCallStatus:"",updateSuccess:!1,updateProcessing:!1,focusWhere:"",pageError:"",noEligibleCards:!1,showPinRequirements:!1,isXSorHybrid:e||r})}}})),define("profileArea/sharedLib/pinChangeValidations",["require","appkit-utilities/validation/util"],(function(e){"use strict";var t=e("appkit-utilities/validation/util"),i=function(e,t){return{isValid:e,errorType:e?"":t}},n=function(e,i){var n=t.getProperty({item:e.item},i);return t.checkMissingMandatory(n)},r=function(e,n){var r=t.getProperty({item:"newPin"},n),a=!0,o="";return[["0123456789","INVALID_FORMAT_SEQUENCE"],["9876543210","INVALID_FORMAT_SEQUENCE"],["02468","INVALID_FORMAT_EVEN_SEQUENCE"],["86420","INVALID_FORMAT_EVEN_SEQUENCE"],["13579","INVALID_FORMAT_ODD_SEQUENCE"],["97531","INVALID_FORMAT_ODD_SEQUENCE"]].forEach((function(e){-1!==e[0].indexOf(r)&&(o=e[1],a=!1)})),a?i(!0):i(!1,o)},a=function(e,n){var r=t.getProperty({item:"newPin"},n).split("");return r.every((function(e){return e===r[0]}))?i(!1,"REPEATING"):i(!0)},o=function(e,n){return t.getProperty({item:"newPin"},n)!==t.getProperty({item:"confirmPin"},n)?i(!1,"MISMATCHED_CONFIRMATION_DATA"):i(!0)};return{validatorMethods:{sequentialPinCheck:r,repeatPinCheck:a,confirmationMatches:o},customValidators:{newPin:[n,a,r],confirmPin:[n,o],requiredFields:["newPin","confirmPin"]}}})),define("profileArea/paymentPreferences/pinChange/components/pinChange",["require","common/lib/utility/hybridMixin","common/lib/jsBridge","profileArea/sharedLib/pinChangeValidations","appkit-utilities/encryption/util","appkit-utilities/validation/componentValidate"],(function(e){"use strict";return function(t){var i=this,n=t.dcu.dynamicContent,r=e("common/lib/utility/hybridMixin"),a=e("common/lib/jsBridge"),o=e("profileArea/sharedLib/pinChangeValidations").customValidators,s=e("appkit-utilities/encryption/util").getInstance({e:t.config.appkitEncryptExponent,n:t.config.appkitEncryptModulus});i.onInit=function(){var n=e("appkit-utilities/validation/componentValidate");t.globalContentMixin.call(i,["checkmarkAda","closeParenthesesSymbol","colonSymbol","currentSelectionAda","endOfSelectionAda","errorAnnouncementAda","hasCollapsedAda","hasExpandedAda","horizontalEllipsisSymbol","importantAda","openParenthesesSymbol","requestProfileSettingsMenuAda","selectionUpdatesContentBelowAda","skipBackLabel"]),r.call(i),!t.enableNewAppNavigation&&i.dispatchHybridEvent("updateNativeNavigationBarButtons",t,{showHamburgerMenu:!0,showCancel:!1,showBackArrow:!1}),n.call(i,t,o),i._setupVObject(),i.model.set("whiteList",["newPin","confirmPin"]),i.onData("pageError",(function(e){i.setDcuContent(e)})),i.onData("updateCallStatus",(function(e){i.setUpdateCallStatus(e)})),i.onData("v",i._showReqsOnError,{initial:!1})},i.setDcuContent=function(e){e&&n.setMultiple(i,[{key:"updateAtmPinErrorHeader",variation:e},{key:"updateAtmPinErrorAdvisory",variation:e}])},i.setUpdateCallStatus=function(e){"UPDATE_IN_PROCESS"===e&&n.set(i,"updateAtmPinErrorHeader",e),e&&(t.updateNativeButtonsAndNavigation("pinChange.confirmPin"),t.state(t.settings.get("pinChangeConfirmUrl")))},i._exitPinChange=function(){t.state(t.settings.get("profileMenuUrl"))},i.requestAccounts=function(e){var n=e.domEvent.target.value;i.accountId=n,i.accountBlurb=i._getBlurbById("accounts","pinAccountId",n).pinAccount,i.subAccountId="",i.subAccounts=[],i._resetPinInputs(),t.getCardsList({accountId:n})},i.requestSubAccounts=function(e){i.subAccountId=e.domEvent.target.value,i.cardBlurb=i._getBlurbById("subAccounts","pinCardId",i.subAccountId).pinCardData,i._resetPinInputs()},i.requestPinRequirements=function(){i.showPinRequirements=!i.showPinRequirements},i.doNotUpdateAtmPin=function(){i._resetPinInputs()},i.confirmUpdateAtmPin=function(){i._encryptPin(i.newPin).then((function(e){var n=String.fromCharCode.apply(null,new Uint8Array(e));t.makeUpdateCall({accountId:i.subAccountId,encryptionKeyVersion:s.getPinEncryptionKeyPairVersion(),encryptedPin:btoa(n)}),t.enableNewAppNavigation||(i.dispatchHybridEvent("updateNativeNavigationBarButtons",t,{showHamburgerMenu:!1,showCancel:!1,showBackArrow:!0}),a.isHybridBackButtonRequired=function(){return i.requestAnotherPinUpdate(),!1})})).catch((function(){i.model.set("pinChange.pageError",!0)}))},i.requestAccountsOverview=function(){t.hybrid?t.enableNewAppNavigation?t.jsBridge.onFinish(t,void 0,void 0,void 0,!0):t.jsBridge.onFinish(t):t.state(t.settings.get("accountsSummaryUrl"))},i.requestAnotherPinUpdate=function(){var e=i.accounts.slice();i.accounts="",i.accounts=e,i.subAccounts=[],i.accountId="",i.subAccountId="",i._resetPinInputs(),i.updateCallStatus="",i.accountBlurb="",i.cardBlurb="",i.showPinRequirements=!1,t.state(t.settings.get("pinChangeUrl")),i.focusWhere=""},i._navigateAwayFromPinChange=function(e){var t=e.domEvent.target,n=t.nodeName,r=t.attributes["data-attr"]&&t.attributes["data-attr"].value;"A"===n&&r.indexOf("requestShowHideAccounts")>-1&&i.requestShowHideAccounts()},i.requestShowHideAccounts=function(){t.state(t.settings.get("requestMyAccountsDisplay"))},i._getBlurbById=function(e,t,n){return i[e].filter((function(e){return e[t]===n||e[t].toString()===n}))[0]},i._resetVObject=function(e){e.forEach((function(e){var t=i.v[e];t&&(t.errorType="",t.errorMessage="")})),i.verifyForm()},i._showReqsOnError=function(){var e=i.v.newPin;i.showPinRequirements=Boolean(e&&e.errorType&&!{INVALID_FORMAT:!0,MISSING_MANDATORY_DATA:!0}[e.errorType])},i._resetPinInputs=function(){i.newPin="",i.confirmPin="",i.v&&i._resetVObject(["newPin","confirmPin"])},i._setupVObject=function(){i.v={newPin:{isValid:!0,errorType:"",errorMessage:"",property:"newPin"},confirmPin:{isValid:!0,errorType:"",errorMessage:"",property:"confirmPin"},isFormValid:!1}},i._encryptPin=function(e){var t=s.encode(e);return s.encrypt(t)},i.skipBack=function(){}}})),define("profileArea/businessDetails/businessRevenueCapture/controllers/businessRevenueCapture",[],(function(){"use strict";return function(e){var t=this,i=e.dcu.dynamicContent,n=e.profileContainer.constants.RENDER_TARGET;function r(){t.registry.hasComponent("businessRevenueCapture")||e.state("/dashboard/profileArea/businessRevenueCapture/updateMyBusinessRevenue")}t.updateMyBusinessRevenue=function(){e.profileContainer.setPageProperties({pageTitle:i.get(t.components.businessRevenueCapture,"updateBusinessRevenueHeader"),containerClasses:"legacy-profile-styles"}),e.privateState("dashboard/creditLineIncrease/businessRevenue/index",{targetId:n.target&&n.target.substring(1),routeArea:"profileArea"})},t.confirmation=function(){r()},t.error=function(){r()}}})),define("profileArea/businessDetails/businessRevenueCapture/components/businessRevenueCapture",["require","profileArea/sharedLib/profileMixin"],(function(e){"use strict";return function(){var t=this,i=e("profileArea/sharedLib/profileMixin");t.init=function(){i.call(t)}}})),define("profileArea/personalDetails/incomeCapture/dataTransform/myIncomeCapture",["require","moment-timezone","profileArea/sharedLib/constants.profile"],(function(e){"use strict";return function(){var t=e("moment-timezone"),i=e("profileArea/sharedLib/constants.profile").INCOME_VALIDATION_CONST;return{setGrossAnnualIncome:function(e){var n="",r=e.captureTimestamp,a=i.CAPTURE_TIME_STAMP[e.applicationSystemComponentIdentifier];return e.partyIncomeAmountFrequencyName===i.ANNUAL&&e.incomeAmount&&t.tz(r,"America/New_York").isSameOrAfter(t.tz(a,"America/New_York"))&&(n=e.incomeAmount),n}}}})),define("profileArea/personalDetails/incomeCapture/dataProvider/myIncomeCapture",["require","profileArea/personalDetails/incomeCapture/dataTransform/myIncomeCapture"],(function(e){"use strict";return function(t){var i=e("profileArea/personalDetails/incomeCapture/dataTransform/myIncomeCapture")();return{myIncomeCapture:{incomeUpdateMS:{success:function(e,i){"SUCCESS"===i.responseName?t.onIncomeUpdateSuccess():t.serviceFailure(i)},failure:function(e,i){t.serviceFailure(i)}},incomeListMS:{success:function(e,n){"SUCCESS"===n.responseName&&t.onIncomeListSuccess(i.setGrossAnnualIncome(n))},failure:function(){}}}}}})),define("profileArea/personalDetails/incomeCapture/controllers/myIncomeCapture",["require","appkit-utilities/formatters/number","profileArea/personalDetails/incomeCapture/dataProvider/myIncomeCapture"],(function(e){"use strict";return function(t){var i=this,n=e("appkit-utilities/formatters/number").currencyFormatter,r=e("profileArea/personalDetails/incomeCapture/dataProvider/myIncomeCapture")(i);i.updateFocusPlacementModel=function(e){i.model.set("myIncomeCapture.focusPlacement",""),i.model.set("myIncomeCapture.focusPlacement",e)},i.updateModel=function(){i.model.set("myIncomeCapture.serviceException",!1),i.model.set("myIncomeCapture.showConfirmation",!0),i.updateFocusPlacementModel("CONFIRM_HEADER")},t.renderMobileProfileMenu=function(){t.area.broadcast("renderMyProfileMenuMobile"),t.hybrid||t.exitDialogUtil.setListeners(i.components.myIncomeCapture)},t.makeUpdateServiceCall=function(e){var t=i.model.get("myIncomeCapture");t.incomeData=e.param,i.model.set("myIncomeCapture",t),i.makeServiceCall("incomeUpdateMS",JSON.stringify(t.incomeData))},t.makeListServiceCall=function(){i.makeServiceCall("incomeListMS")},i.initModel=function(){i.model.update("myIncomeCapture",{grossAnnualIncome:"",showConfirmation:!1,serviceException:!1})},i.init=function(){i.dataProvider.mappers=r,t.Api={modal:t.modalApi(i)},t.hybrid&&t.hybridMixin.call(i)},i.index=function(){return t.profileContainer.setPageProperties({pageTitle:t.dcu.dynamicContent.get(i.components.myIncomeCapture,"myIncomeHeader"),containerClasses:"legacy-profile-styles"}),i.initModel(),i.updateFocusPlacementModel("PROFILE_HEADER"),[i.components.myIncomeCapture,"myIncomeCapture",t.renderTarget]},i.makeServiceCall=function(e,t){i.dataProvider.request("myIncomeCapture."+e,t)},i.onIncomeUpdateSuccess=function(){t.state({action:{name:"confirmation"}})},i.confirmation=function(){return i.registry.hasComponent("myIncomeCapture")?i.updateModel():t.state("#/dashboard/profileArea/myIncomeCapture/index"),[]},i.onIncomeListSuccess=function(e){i.model.set("myIncomeCapture.grossAnnualIncome",e?n(e,{dollarSign:!1}):""),i.updateFocusPlacementModel("PROFILE_MESSAGE")},i.serviceFailure=function(){i.model.set("myIncomeCapture.serviceException",!0),i.model.set("myIncomeCapture.showConfirmation",!1),i.updateFocusPlacementModel("ERROR_HEADER")}}})),define("profileArea/personalDetails/incomeCapture/lib/incomeUtil",[],(function(){"use strict";return{moneyStringToDecimal:function(e){return Number(e.replace(/[^0-9\.]+/g,""))}}})),define("profileArea/personalDetails/incomeCapture/lib/incomeValidator",["require","profileArea/sharedLib/constants.profile"],(function(e){"use strict";var t=e("profileArea/sharedLib/constants.profile"),i=function(e){return e&&Number(e.replace(/,|\$/g,""))};return{validators:{grossAnnualIncome:[{validator:function(e,n){var r=i(n[e.item])<t.INCOME_VALIDATION_CONST.TEN_MILLION;return{isValid:r,errorType:r?"":t.INCOME_VALIDATION_CONST.ABOVE_MAXIMUM}},type:"custom"},{validator:function(e,n){var r=i(n[e.item])>t.INCOME_VALIDATION_CONST.ZERO;return{isValid:r,errorType:r?"":t.INCOME_VALIDATION_CONST.BELOW_MINIMUM}},type:"custom"}]}}})),define("profileArea/personalDetails/incomeCapture/components/myIncomeCapture",["require","profileArea/sharedLib/profileMixin","appkit-utilities/validation/componentValidate","appkit-utilities/validation/variations","appkit-utilities/content/globalContentMixin","profileArea/personalDetails/incomeCapture/lib/incomeUtil","profileArea/personalDetails/incomeCapture/lib/incomeValidator","profileArea/sharedLib/constants.profile"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileMixin"),i=e("appkit-utilities/validation/componentValidate"),n=e("appkit-utilities/validation/variations"),r=function(){},a=e("appkit-utilities/content/globalContentMixin");return function(o){var s=this;s.utils=e("profileArea/personalDetails/incomeCapture/lib/incomeUtil"),s.incomeValidator=e("profileArea/personalDetails/incomeCapture/lib/incomeValidator"),s.CONST=e("profileArea/sharedLib/constants.profile"),s.onInit=function(){t.call(s),s.dcu=o.dcu.dynamicContent,s.getDcuContent(),s.initializeValidation()},s.onReady=function(){if(o.renderMobileProfileMenu(),o.makeListServiceCall(),o.hybrid){var e=o.hybridHelper.webNativeMessenger,t={showCancel:!1,showBackArrow:!0,showClose:!1,showExitConfirmationOverlay:!1,pageTitle:s.myIncomeHeader},i=function(){return!1},n={BACK:i},r={isHybridBackButtonRequired:i};e.updateNativeNavigationBar(t),e.setShouldNativeHandleButtonPressedCallBack((function(e){return n[e]&&!n[e]()}),r)}},s.initializeValidation=function(){o.variations=n,i.call(s,o,s.incomeValidator.validators),s.model.set("whiteList",["grossAnnualIncome"])},s.getDcuContent=function(){a.call(s,["importantAda","checkmarkAda","currencyDollarSymbol","errorAnnouncementAda","beginHelpMessageAda","exitHelpMessageAda","endHelpMessageAda","exitAda","requestProfileSettingsMenuAda","totalErrorsAda"])},s.updateMyIncome=function(){if(s.validateFormData(),s.v.isFormValid){var e={incomeAmount:s.utils.moneyStringToDecimal(s.grossAnnualIncome||"")};o.makeUpdateServiceCall({param:e})}else s.model.set("showConfirmation",!1),s.model.set("focusPlacement",""),s.model.set("focusPlacement","ANNUAL_INCOME")},s.requestOffers=function(){o.application.broadcast("makeNavigation",{navKey:"reviewOffers",confirmFunction:function(){s.destroy()}})},s.requestNonTaxableGrossIncomeHelpMessage=r,s.exitMyProfileIncome=r,s.requestNonTaxableMessage=r}})),define("profileArea/personalDetails/incomeCapture/controllers/incomeCaptureContainer",["require","profileArea/sharedLib/apptelTracker","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e){"use strict";return function(t){var i=this,n=e("profileArea/sharedLib/apptelTracker"),r=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd");i.updateMyIncome=function(){var e="incomeCapture",a=[i.components.incomeCapture,"incomeCapture",t.renderTarget];return i.model.set(e+".model",i.model.lens(e)),t.profileContainer.setPageProperties({pageTitle:t.dcu.dynamicContent.get(i.components.incomeCapture,"myIncomeHeader"),containerClasses:"legacy-profile-styles"}),r.getFeatureTreatments(["cxo_incomeCaptureMicroapp_enable"],{cxo_incomeCaptureMicroapp_enable:!1}).then((function(e){return n.logLeaveAction("$$Profile_Details"),e&&e.cxo_incomeCaptureMicroapp_enable?a=[i.components.incomeCapture,"incomeCapture",t.renderTarget]:t.privateState("dashboard/profileArea/incomeCapture/index"),a}))}}})),define("profileArea/personalDetails/incomeCapture/components/incomeCapture",[],(function(){"use strict";return function(e){this.init=function(){e.profileMixin.call(this),e.globalContentMixin.call(this,["requestProfileSettingsMenuAda","opensMenuAda"])}}})),define("profileArea/investments/trustedContact/lib/trustedContactConstants",[],(function(){"use strict";return{suffixNameMapper:{JR:"JUNIOR",SR:"SENIOR",I:"FIRST",II:"SECOND",III:"THIRD",IV:"FOURTH",ATY:"ATY",ESQ:"ESQ",MD:"MD"},suffixNameMapperForModel:{JUNIOR:"JR",SENIOR:"SR",FIRST:"I",SECOND:"II",THIRD:"III",FOURTH:"IV",ATY:"ATY",ESQ:"ESQ",MD:"MD",OTHER:""},suffixOptions:["JR","SR","I","II","III","IV","ATY","ESQ","MD"],relationshipOptions:["SPOUSE","CHILD","PARENT","RELATIVE","FRIEND","CAREGIVER","LAWYER","ACCOUNTANT","OTHER"],mailingAddressTypesNameOptions:["UNITED_STATES","CANADA","INTERNATIONAL","MILITARY"],militaryZipCodeMapper:{340:0,"090":1,"091":1,"092":1,"093":1,"094":1,"095":1,"096":1,"097":1,"098":1,962:2,963:2,964:2,965:2,966:2},militaryStateOptions:["AA","AE","AP"],countryOptions:["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","VGB","BRN","BGR","BFA","MMR","BDI","KHM","CMR","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","PRK","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","KOR","GEO","MKD","COG","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","UMI","URY","UZB","VUT","VAT","VEN","VNM","WLF","WSM","VIR","ESH","YEM","ZMB","ZWE"],countryIdMap:{ASL:"AUS",ASA:"AUT",BLG:"BEL",CHA:"CHN",SWI:"CHE",SAR:"SAU",SPN:"ESP",GRE:"GRC",GRM:"DEU",JAP:"JPN"}}})),define("profileArea/investments/trustedContact/lib/trustedContactSerializers",["profileArea/investments/trustedContact/lib/trustedContactConstants","appkit-utilities/rapidash/rapidash"],(function(e,t){"use strict";var i=function(e){var t={QC:"PQ",YT:"YK"};return t[e]?t[e]:e},n=function(e){for(var t in e)""===e[t]&&delete e[t]},r=function(e){var t=String(e.zipCode);return t=t.indexOf("-")>-1?e.zipCode.replace(/-/g,""):e.zipCodeExtension?t+String(e.zipCodeExtension):t};return{serializeContact:function(a){var o;return o={relationship:t.setValueOrDefault(a.relationshipOption),relationshipDescription:t.setValueOrDefault(a.otherRelationship),email:t.setValueOrDefault(a.emailAddress),firstName:t.setValueOrDefault(a.firstName),middleInitial:t.setValueOrDefault(a.middleName),lastName:t.setValueOrDefault(a.lastName),suffix:t.setValueOrDefault(e.suffixNameMapper[a.suffixName]),countryCode:t.setValueOrDefault(a.countryName),addressType:a.mailingAddressTypeName,phoneNumber:String(a.phoneNumber).replace(/\D+/g,""),secondaryPhoneNumber:String(a.additionalContactPhoneNumber).replace(/\D+/g,""),addressLine1:t.setValueOrDefault(a.mailingAddressLineOne),addressLine2:t.setValueOrDefault(a.mailingAddressLineTwo),city:"MILITARY"===a.mailingAddressTypeName?"APO/FPO":a.cityName,action:t.setValueOrDefault(a.action)},a.phoneNumber&&(o.phoneLocaleType=a.phoneNumberRegion),a.additionalContactPhoneNumber&&(o.secondaryPhoneLocaleType=a.additionalContactPhoneNumberRegion),a.trustedContactId&&(o.partyId=String(a.trustedContactId)),"USA"===a.mailingAddressTypeName||"MILITARY"===a.mailingAddressTypeName?(o.countryCode="USA",o.stateCode=t.setValueOrDefault(a.stateName),o.zipCode=r(a)):"CANADA"===a.mailingAddressTypeName?(o.countryCode="CAN",o.stateCode=t.setValueOrDefault(i(a.provinceName)),o.zipCode=a.postalCode):(o.stateCode=t.setValueOrDefault(a.provinceName),o.zipCode=a.postalCode),n(o),o},serializeContactSDAI:function(a){var o;return o={accountHolderRelationshipTypeCode:t.setValueOrDefault(a.relationshipOption),accountHolderRelationshipTypeName:t.setValueOrDefault(a.otherRelationship),emailAddressText:t.setValueOrDefault(a.emailAddress),firstName:t.setValueOrDefault(a.firstName),middleInitialName:t.setValueOrDefault(a.middleName),lastName:t.setValueOrDefault(a.lastName),suffixName:t.setValueOrDefault(e.suffixNameMapper[a.suffixName]),countryCode:t.setValueOrDefault(a.countryName),addressTypeCode:a.mailingAddressTypeName,phoneNumber:String(a.phoneNumber).replace(/\D+/g,""),secondaryPhoneNumber:String(a.additionalContactPhoneNumber).replace(/\D+/g,""),addressLine1Text:t.setValueOrDefault(a.mailingAddressLineOne),addressLine2Text:t.setValueOrDefault(a.mailingAddressLineTwo),cityName:"MILITARY"===a.mailingAddressTypeName?"APO/FPO":a.cityName,actionTypeCode:t.setValueOrDefault(a.action)},a.phoneNumber&&(o.internationalPhoneIndicator=a.phoneNumberRegion),a.additionalContactPhoneNumber&&(o.secondaryInternationalPhoneIndicator=a.additionalContactPhoneNumberRegion),a.trustedContactId&&(o.partyIdentifier=String(a.trustedContactId)),"USA"===a.mailingAddressTypeName||"MILITARY"===a.mailingAddressTypeName?(o.countryCode="USA",o.stateName=t.setValueOrDefault(a.stateName),o.plusFourZipCode=r(a)):"CANADA"===a.mailingAddressTypeName?(o.countryCode="CAN",o.stateName=t.setValueOrDefault(i(a.provinceName)),o.plusFourZipCode=a.postalCode):(o.stateName=t.setValueOrDefault(a.provinceName),o.plusFourZipCode=a.postalCode),n(o),o}}})),define("profileArea/investments/trustedContact/lib/trustedContactAddressUtil",["require","appkit-utilities/content/dcu"],(function(e){"use strict";var t=e("appkit-utilities/content/dcu").dynamicContent,i=function(e){return!{USA:!0,MILITARY:!0}[e.mailingAddressTypeName]},n=function(e){return i(e)?e.provinceName:e.stateName},r=function(e,i){var n=e.countryName;return"CANADA"===e.mailingAddressTypeName&&(n="CAN"),t.get(i,"iso3CountryName",n)},a=function(e){return i(e)?e.postalCode:e.zipCodeExtension?e.zipCode+"-"+e.zipCodeExtension:e.zipCode};return{deserializeProvinceName:function(e,t){var i={PQ:"QC",YK:"YT"};return"CANADA"===e&&i[t]?i[t]:t},buildContactMailingAddress:function(e,t){var o="",s=e.mailingAddressLineOne,c=e.mailingAddressLineTwo,l=e.cityName,d=n(e),u=a(e);return o+=s?s+" <br>":"",o+=c?c+" <br>":"",o+=l?l+", ":"",o+=d?d+" ":"",o+=u||"",o+=i(e)?"<br>"+r(e,t):""},isInternationalOrCanada:i,parseZipCode:function(e,t){var i;return e&&(e=e.toString()).length&&t&&("INTERNATIONAL"===t||"CANADA"===t?i="":"USA"===t||"MILITARY"===t?(i=e.length>=9?e.slice(-4):"",e=e.slice(0,5)||""):(e="",i="")),{zipCode:e,zipCodeExtension:i}},transformForMailingVerification:function(e){return{line1:e.mailingAddressLineOne,line2:e.mailingAddressLineTwo,type:e.mailingAddressTypeName,city:e.cityName,zipcode:"USA"===e.mailingAddressTypeName?e.zipCode:e.postalCode,stateCode:"USA"===e.mailingAddressTypeName?e.stateName:e.provinceName,country:e.countryName,postOfficeType:"MILITARY"===e.mailingAddressTypeName?"APO/FPO":""}},formatZipForOverlay:function(e){return e.length>5?e.substring(0,5)+"-"+e.substring(5):e},checkForPOBox:function(e,t){var i=/^\s*(PO|P\.O\.|P O|P\. O\.|P\. O|POST OFFICE) /i;return!!e.match(i)||!!t.match(i)},_getStateOrProvince:n,_getCountryInternationalCanada:r,_buildZipCode:a,isServiceRespondedAddressSame:function(e,t){var i=Object.assign({},t.address),n=[];return n.push(i.addressLine1Text===e.addressLine1.toUpperCase()),n.push(i.cityName===e.city.toUpperCase()),n.push(i.stateProvinceCode===e.stateCode.toUpperCase()),n.push(i.postalCode.length===e.zipCode.length?i.postalCode===e.zipCode:i.postalCode.slice(0,5)===e.zipCode.slice(0,5)&&i.postalCode.slice(5,9)===e.zipCode.slice(5,9)),e.addressLine2&&n.push(i.addressLine2Text===e.addressLine2.toUpperCase()),e.countryCode&&n.push(i.countryCode===e.countryCode.toUpperCase()),-1===n.indexOf(!1)}}})),define("profileArea/investments/trustedContact/lib/trustedContactUtil",["appkit-utilities/content/dcu","profileArea/investments/trustedContact/lib/trustedContactAddressUtil","profileArea/investments/trustedContact/lib/trustedContactConstants","appkit-utilities/common/mediaQueryListener","blue/$"],(function(e,t,i,n,r){"use strict";var a=e.dynamicContent,o=function(e,t){var i=a.get(t,"relationshipOption",e.relationshipOption);return"Other"===i&&(i+=" - "+e.otherRelationship),i},s=function(e,t){var i=e.phoneNumber,n=e.phoneNumberRegion||e.phoneLocaleType;return i?(i=i.toString(),"DOMESTIC"===n?i=i.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"):t&&(i="+"+i),i):""},c=function(e,t){var i=e.secondaryPhoneNumber||e.additionalContactPhoneNumber,n=e.secondaryPhoneNumberRegion||e.secondaryPhoneLocaleType||e.additionalContactPhoneNumberRegion;return i?(i=i.toString(),"DOMESTIC"===n?i=i.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"):t&&(i="+"+i),i):""},l=function(e){var t="";return e.suffixName&&(t=i.suffixNameMapperForModel[e.suffixName]),e.suffix&&(t=i.suffixNameMapperForModel[e.suffix]),t},d=function(e,t){var i="",n=e.middleInitial||e.middleName;n=n?n+" ":"";var r=l(e);return r&&(i=" "+a.get(t,"suffixName",r)),e.firstName+" "+n+e.lastName+i},u=function(){return n.currentBreakpoint===n.BREAKPOINT.XS},p=function(e){var t=e.match(/row/).index+3,i=e[t];return Number(i)};return{buildOptionList:function(e,t,i,n,r){for(var o,s,c=[],l=0;l<i.length;l++)s={},o=a.get(e,t,i[l]),s[n]=o,s[r]=i[l],c.push(s);return c},returnRelationship:o,getTrustedContactsAccessAdvisory:function(e,t){return{VIEW_ONLY:!0,NO_ACCESS:!0}[t]&&a.get(e,"trustedContactsAccessAdvisory",t)},getTrustedContactsAdvisory:function(e,t,i){var n=null;return 0===t.length?n=a.get(e,"trustedContactsAdvisory","NONE"):2===t.length&&"ALL"===i&&(n=a.get(e,"trustedContactsAdvisory","MAXIMUM")),n},getPendingUpdateAdvisory:function(e,t,i){var n=null;return"INPROGRESS"===t&&{ALL:!0,VIEW_ONLY:!0}[i]&&(n=a.get(e,"trustedContactsStatusAdvisory","PENDING")),n},populateDataList:function(e,t){var i=[],n=function(i,n){return{term:t.model.get(i),description:e[n]}};return i.push(n("fullNameLabel","trustedContactName")),i.push(n("relationshipOptionsLabel","trustedContactRelationship")),i.push(n("addressLabel","mailingAddress")),e.phoneNumber&&i.push(n("phoneNumberLabel","phoneNumber")),e.additionalContactPhoneNumber&&i.push(n("additionalContactPhoneNumberLabel","additionalContactPhoneNumber")),e.emailAddress&&i.push(n("emailAddressLabel","emailAddress")),i},buildPhoneNumber:s,buildAdditionalContactPhoneNumber:c,createNewTrustedContact:function(){return{trustedContactName:"",firstName:"",middleName:"",lastName:"",suffixName:"",relationshipOption:"",otherRelationship:"",mailingAddressTypeName:"USA",mailingAddressLineOne:"",mailingAddressLineTwo:"",mailingAddress:"",cityName:"",stateName:"",provinceName:"",zipCode:"",zipCodeExtension:"",postalCode:"",countryName:"",phoneNumberRegion:"DOMESTIC",phoneNumber:"",additionalContactPhoneNumberRegion:"DOMESTIC",additionalContactPhoneNumber:"",emailAddress:"",aboveMinimumAgeStatus:!1,termsAcceptanceStatus:!1}},createTrustedContactCopy:function(e){var t={};return Object.keys(e).forEach((function(i){t[i]=e[i]})),t},transformTcpForConfirmStep:function(e,i){return e.trustedContactName=d(e,i),e.trustedContactRelationship=o(e,i),e.phoneNumber=s(e,!0),e.additionalContactPhoneNumber=c(e,!0),e.mailingAddress=t.buildContactMailingAddress(e,i),e},checkForSpaceEnterClick:function(e){return e&&(13===e.domEvent.keyCode||32===e.domEvent.keyCode||"click"===e.domEvent.type)},getTcpAccountIndex:function(e){if(u())return e.context.trustedContactIndex||(e.domEvent.currentTarget||e.domEvent.target).getAttribute("trustedContactIndex");var t=e.domEvent.currentTarget||e.domEvent.target,i=r(t).closest("td").attr("id");return p(i)},createTrustedContactName:d,getSuffixKey:l,_parseRowNumber:p,isXS:u}})),define("profileArea/investments/trustedContact/controllers/trustedContact",["profileArea/sharedLib/investmentsLib/investmentDisclosuresUtility","profileArea/investments/trustedContact/lib/trustedContactSerializers","profileArea/investments/trustedContact/lib/trustedContactAddressUtil","appkit-utilities/rapidash/rapidash","profileArea/investments/trustedContact/lib/trustedContactUtil","profileArea/sharedLib/profileUrls","common/lib/utility/commonComponentsUtil","common/lib/modalApi","profileArea/sharedLib/featureProvider","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e,t,i,n,r,a,o,s,c,l){"use strict";var d,u,p,m;return function(f){var A,g=this,E="trustedContact",y=f.renderTarget;f.profileUrls=a,g.onInit=function(){this.featureProvider=c(f),g.split=l,g.split?.getFeatureTreatments(["cxo_uswmserv_investmentsTcpExp_enable"],{cxo_uswmserv_investmentsTcpExp_enable:"USWMSERV"}).then((function(e){f.tcpSdaiApiEnable=e?.cxo_uswmserv_investmentsTcpExp_enable?.treatment})).catch((function(){f.tcpSdaiApiEnable="USWMSERV"})),f.enableTcpMicroApp=!0,f.commonComponentsUtil=o(this),f.Api={modal:new s(g)},A=f.dcu.dynamicContent,f.on({loadTrustedContactsForAccount:function(e){g.loadTrustedContactsForAccount(e.accountId,e.accountIndex)},updateTcpList:function(e){g.updateTcpList(e)},getDisclosuresPdfUrlAndVersion:function(e){g.getDisclosuresPdfUrlAndVersion(e)},"trustedContactConfirm/setTargetData":function(e){f.Api.modal.setTargetData(e.data,!1)},setupInvestmentDisclosures:function(){g.setupInvestmentDisclosures()},updateStateOfInvestmentDisclosureOverlay:function(e){g.updateStateOfInvestmentDisclosureOverlay(e)}})},g.compCheck=function(e){return e=e||E,!!g.registry.hasComponent(e)||(f.logger.error(e+" component no longer in DOM"),!1)},g.requestTrustedContact=function(){return f.profileContainer.setPageProperties({containerClasses:"legacy-profile-styles"}),f.enableTcpMicroApp?[g.components.trustedContact,"trustedContact",f.renderTarget]:g.registry.hasComponent(E)?(u?(g.loadTrustedContactsForAccount(p,m),m=null,p=null):"account"===g.components.trustedContact.model.get("viewModeXS")?(g.components.trustedContact._changeViewModeOnXS("view"),g.setupInvestmentDisclosures()):g.components.trustedContact._closeOpenedForm(),null):(g.registerComponent(),g.renderComponent())},g._isPreviousRouteTrustedContact=function(){var e=f.routeHistory;return(e.getHistory(1)&&e.getHistory(1).url||"").indexOf("/dashboard/profile/trustedContact/")>-1},g.createTcpModelForTrustedContactComponent=function(){g.components.trustedContact.model.set("addAddressVerificationHeader",A.get(g.components.mailingVerification,"addAddressVerificationHeader")),g.components.trustedContact.model.set("addAddressVerificationAdvisory",A.get(g.components.mailingVerification,"addAddressVerificationAdvisory")),g.components.trustedContact.model.set("addAddressLabel",A.get(g.components.mailingVerification,"addAddressLabel")),g.components.trustedContact.model.set("doNotAddAddressLabel",A.get(g.components.mailingVerification,"doNotAddAddressLabel")),g.components.trustedContact.model.set("customerEnteredAddressLabel",A.get(g.components.mailingVerification,"customerEnteredAddressLabel")),g.components.trustedContact.model.set("recommendedAddressLabel",A.get(g.components.mailingVerification,"recommendedAddressLabel")),g.components.trustedContact.model.set("punctuationMarkCommaLabel",A.get(g.components.mailingVerification,"punctuationMarkCommaLabel")),g.components.trustedContact.model.set("postalAddressOption","0"),g.components.trustedContact.model.set("recommendedPostalAddress",0),g.components.trustedContact.model.set("customerEnteredPostalAddress",1),g.components.trustedContact.model.set("checkmarkAda",f.globalContent.checkmarkAda)},g.registerComponent=function(){f.exitDialogUtil.setListeners(g.components.trustedContact),d=g.components.trustedContact,g.createTcpModelForTrustedContactComponent()},g.renderComponent=function(){g.executeCAV([[g.components.trustedContact,"trustedContact",y]]).then((function(){g.setupInvestmentDisclosures(),g.loadAccountList(),f.area.broadcast("renderMyProfileMenuMobile")}))},g.setupInvestmentDisclosures=function(){e.setupInvestmentDisclosures.call(g)},g.transformTrustedContactList=function(e){var t,a,o,s=[],c=[];return e.forEach((function(e){t=r.createTrustedContactName(e,g.components.trustedContact),o=i.parseZipCode(e.zipCode,e.addressType),a=A.get(g.components.trustedContact,"relationshipOption",e.relationship),"OTHER"===e.relationship&&(a+=" - "+e.relationshipDescription),s.push({trustedContactId:e.partyId,trustedContactName:t,trustedContactRelationship:a,trustedContactActions:""});var l={trustedContactId:e.partyId,trustedContactName:t,trustedContactRelationship:a,firstName:e.firstName,middleName:e.middleInitial,lastName:e.lastName,suffixName:r.getSuffixKey(e),relationshipOption:e.relationship,otherRelationship:e.relationshipDescription,mailingAddressTypeName:e.addressType,mailingAddressLineOne:e.addressLine1,mailingAddressLineTwo:e.addressLine2,mailingAddress:"",cityName:e.city,stateName:e.stateCode,zipCode:o.zipCode,zipCodeExtension:o.zipCodeExtension,countryName:e.countryCode,phoneNumberRegion:e.phoneLocaleType,phoneNumber:e.phoneNumber,additionalContactPhoneNumberRegion:e.secondaryPhoneLocaleType,additionalContactPhoneNumber:e.secondaryPhoneNumber,emailAddress:e.email,provinceName:e.stateCode,postalCode:o.zipCode};Object.keys(l).forEach((function(e){"phoneNumberRegion"!==e&&"additionalContactPhoneNumberRegion"!==e||l[e]?l[e]=n.setValueOrDefault(l[e]):l[e]=n.setValueOrDefault(l[e],"DOMESTIC")})),l.phoneNumber=r.buildPhoneNumber(e),l.additionalContactPhoneNumber=r.buildAdditionalContactPhoneNumber(e),l.provinceName=i.deserializeProvinceName(l.mailingAddressTypeName,l.provinceName),c.push(l)})),{trustedContacts:s,trustedContactDetails:c}},g.transformTrustedContactListSDAI=function(e){var t,a,o,s=[],c=[];return e.forEach((function(e){t=r.createTrustedContactName(e,g.components.trustedContact),o=i.parseZipCode(e.plusFourZipCode,e.addressTypeCode),a=A.get(g.components.trustedContact,"relationshipOption",e.accountHolderRelationshipTypeCode),"OTHER"===e.accountHolderRelationshipTypeCode&&(a+=" - "+e.accountHolderRelationshipDescription),s.push({trustedContactId:e.partyIdentifier,trustedContactName:t,trustedContactRelationship:a,trustedContactActions:""});var l={trustedContactId:e.partyIdentifier,trustedContactName:t,trustedContactRelationship:a,firstName:e.firstName,middleName:e.middleInitialName,lastName:e.lastName,suffixName:r.getSuffixKey(e),relationshipOption:e.accountHolderRelationshipTypeCode,otherRelationship:e.accountHolderRelationshipTypeName,mailingAddressTypeName:e.addressTypeCode,mailingAddressLineOne:e.addressLine1Text,mailingAddressLineTwo:e.addressLine2Text,mailingAddress:"",cityName:e.cityName,stateName:e.stateName,zipCode:o.zipCode,zipCodeExtension:o.zipCodeExtension,countryName:e.countryCode,phoneNumberRegion:e.internationalPhoneIndicator,phoneNumber:e.phoneNumber,additionalContactPhoneNumberRegion:e.secondaryPhoneLocaleType,additionalContactPhoneNumber:e.secondaryPhoneNumber,emailAddress:e.emailAddressText,provinceName:e.stateName,postalCode:o.zipCode};Object.keys(l).forEach((function(e){"phoneNumberRegion"!==e&&"additionalContactPhoneNumberRegion"!==e||l[e]?l[e]=n.setValueOrDefault(l[e]):l[e]=n.setValueOrDefault(l[e],"DOMESTIC")})),l.phoneNumber=r.buildPhoneNumber(e),l.additionalContactPhoneNumber=r.buildAdditionalContactPhoneNumber(e),l.provinceName=i.deserializeProvinceName(l.mailingAddressTypeName,l.provinceName),c.push(l)})),{trustedContacts:s,trustedContactDetails:c}},g.serializeTrustedContactList=function(e){return e.map(t.serializeContactSDAI)},g.loadTrustedContactsForAccountSuccess=function(e,t,i){var n,a,o,s,c,l,d,p=e.entitlement,m="VIEW_ONLY"!==p&&"NO_ACCESS"!==p,A=e.verifyTCP&&"COMPLETED"===e.updateStatus&&m;if(e&&e.trustedContacts&&e.trustedContacts.length){var E=g.transformTrustedContactList(e.trustedContacts);n=E.trustedContacts,a=E.trustedContactDetails}else n=[],a=[];o=e&&e.updateStatus,s=r.getTrustedContactsAccessAdvisory(g.components.trustedContact,p),c=r.getTrustedContactsAdvisory(g.components.trustedContact,n,p),l=r.getPendingUpdateAdvisory(g.components.trustedContact,o,p);var h=g.components.trustedContact.model.get("brokerageAccounts");h[t].accountClassCode=e.accountClassCode,h[t].entitlement=p,h[t].verifyTCPList=A,h[t].trustedContacts=n,h[t].trustedContactDetails=a,h[t].trustedContactsAccessAdvisory=s,h[t].trustedContactsAdvisory=c,h[t].pendingUpdateAdvisory=l,h[t].updateInProgress="INPROGRESS"===o,h[t].dataError=!1,!1!==h[t].accordionOpenStatus?g._resetBrokerageAccountData(h):(h[t].accordionOpenStatus=!0,g._resetBrokerageAccountData(h),g.components.trustedContact._toggleAccordion(t)),f.commonComponentsUtil.hideSpinner({target:y.target}),r.isXS()&&u&&g.components.trustedContact._setConfirmationAlertContent(),d=t>0?i:"#simple-header",r.isXS()||g.components.trustedContact.trustedContactConfirmationMessage||g.components.trustedContact.setFocus(d)},g.loadTrustedContactsForAccountSuccessSDAI=function(e,t,i){var n,a,o,s,c,l,d,p=e.digitalProfileAccountEntitlementCode,m="VIEW_ONLY"!==p&&"NO_ACCESS"!==p,A=e.trustedContactIndicator&&"COMPLETED"===e.lastUpdateAttemptStatusCode&&m;if(e&&e.trustedContactPersons&&e.trustedContactPersons.length){var E=g.transformTrustedContactListSDAI(e.trustedContactPersons);n=E.trustedContacts,a=E.trustedContactDetails}else n=[],a=[];o=e&&e.lastUpdateAttemptStatusCode,s=r.getTrustedContactsAccessAdvisory(g.components.trustedContact,p),c=r.getTrustedContactsAdvisory(g.components.trustedContact,n,p),l=r.getPendingUpdateAdvisory(g.components.trustedContact,o,p);var y=g.components.trustedContact.model.get("brokerageAccounts");y[t].accountClassCode=e.accountClassCode,y[t].entitlement=p,y[t].verifyTCPList=A,y[t].trustedContacts=n,y[t].trustedContactDetails=a,y[t].trustedContactsAccessAdvisory=s,y[t].trustedContactsAdvisory=c,y[t].pendingUpdateAdvisory=l,y[t].updateInProgress="INPROGRESS"===o,y[t].dataError=!1,!1!==y[t].accordionOpenStatus?g._resetBrokerageAccountData(y):(y[t].accordionOpenStatus=!0,g._resetBrokerageAccountData(y),g.components.trustedContact._toggleAccordion(t)),f.commonComponentsUtil.hideSpinner({target:i}),r.isXS()&&u&&g.components.trustedContact._setConfirmationAlertContent(),d=t>0?i:"#simple-header",r.isXS()||g.components.trustedContact.trustedContactConfirmationMessage||g.components.trustedContact.setFocus(d)},g._resetBrokerageAccountData=function(e){g.components.trustedContact.model.set("brokerageAccounts",null),g.components.trustedContact.model.set("brokerageAccounts",e)},g.loadTrustedContactsForAccountError=function(e,t){f.logger.error("LOAD_TRUSTED_CONTACTS_ERROR",e),g.components.trustedContact._setAccountLevelError(t,!0);var i=g.components.trustedContact.model.get("brokerageAccounts");!0!==i[t].accordionOpenStatus&&(i[t].accordionOpenStatus=!0,g._resetBrokerageAccountData(i),g.components.trustedContact._toggleAccordion(t)),f.commonComponentsUtil.hideSpinner({target:y.target})},g.loadTrustedContactsForAccountErrorSDAI=function(e,t,i){f.logger.error("LOAD_TRUSTED_CONTACTS_ERROR",e),g.components.trustedContact._setAccountLevelError(t,!0);var n=g.components.trustedContact.model.get("brokerageAccounts");!0!==n[t].accordionOpenStatus&&(n[t].accordionOpenStatus=!0,g._resetBrokerageAccountData(n),g.components.trustedContact._toggleAccordion(t)),f.commonComponentsUtil.hideSpinner({target:i})},g.loadTrustedContactsForAccount=function(e,t){let i={accountId:e};var n="#button-tcp-list-item-"+(t=t||0);f.commonComponentsUtil.showSpinner({id:"tcp-accordion-list-spinner",target:n,overlayType:"INSECTION",append:!0}),"SDAI"===f.tcpSdaiApiEnable?(i={"account-identifier":e},f.services.trustedContactPerson.trustedContactAccountDetailsServiceSDAI(i).then((function(e){g.compCheck()&&g.loadTrustedContactsForAccountSuccessSDAI(e,t,n),u=!1}),(function(e){g.compCheck()&&g.loadTrustedContactsForAccountErrorSDAI(e,t,n),u=!1}))):(i={"account-identifier":e},f.services.trustedContactPerson.trustedContactAccountDetailsServiceAWS(i).then((function(e){g.compCheck()&&g.loadTrustedContactsForAccountSuccessSDAI(e,t,n),u=!1}),(function(e){g.compCheck()&&g.loadTrustedContactsForAccountErrorSDAI(e,t,n),u=!1})))},g.trustedContactAccountListSuccess=function(e){f.commonComponentsUtil.hideSpinner({target:y.target});var t=e.accountOptions.reduce((function(e,t){var i=g.components.trustedContact.model.get("horizontalEllipsisSymbol");return e.concat([{accountId:t.id,accountDisplayName:t.nickName+" ("+i+t.mask+")",accountViewMode:"view",accountIndex:e.length,initialAccordionOpenStatus:!1,accordionOpenStatus:!1,verifyTCP:t.verifyTCP,verifyTCPList:!0,dataError:!1}])}),[]);g.components.trustedContact.model.set("brokerageAccounts",t),g.loadTrustedContactsForAccount(t[0].accountId)},g.trustedContactAccountListSuccessSDAI=function(e){f.commonComponentsUtil.hideSpinner({target:"#profile-details"});var t=e.accountOptions.reduce((function(e,t){var i=g.components.trustedContact.model.get("horizontalEllipsisSymbol");return e.concat([{accountId:t.accountIdentifier,accountDisplayName:t.accountNickname+" ("+i+t.maskedAccountNumber+")",accountViewMode:"view",accountIndex:e.length,initialAccordionOpenStatus:!1,accordionOpenStatus:!1,verifyTCP:t.trustedContactIndicator,verifyTCPList:!0,dataError:!1}])}),[]);g.components.trustedContact.model.set("brokerageAccounts",t),g.loadTrustedContactsForAccount(t[0].accountId)},g.trustedContactAccountListError=function(e){f.commonComponentsUtil.hideSpinner({target:y.target}),f.logger.error("LOAD_TRUSTED_CONTACT_ACCOUNTS_ERROR",e),g.components.trustedContact._setServiceError(!0)},g.loadAccountList=function(){return f.commonComponentsUtil.showSpinner({target:"#profile-details",overlayType:"INSECTION",append:!0}),"SDAI"===f.tcpSdaiApiEnable?f.services.trustedContactPerson.trustedContactAccountsListServiceSDAI().then((function(e){g.compCheck()&&g.trustedContactAccountListSuccessSDAI(e)})).catch((function(e){g.compCheck()&&g.trustedContactAccountListErrorSDAI(e)})):f.services.trustedContactPerson.trustedContactAccountsListServiceAWS().then((function(e){g.compCheck()&&g.trustedContactAccountListSuccessSDAI(e)})).catch((function(e){g.compCheck()&&g.trustedContactAccountListErrorSDAI(e)}))},g.trustedContactUpdateListSuccess=function(e){if(f.commonComponentsUtil.hideSpinner({target:y.target}),d._cleanupAfterUpdateListSuccess(),u=!0,p=e,f.application.dirtyForm.dirtyIgnore=!0,g.components.trustedContact._setPendingServiceCallFlag(!1),r.isXS()){var t=g.components.trustedContact.model.get("activeBrokerageAccountXS");g.components.trustedContact._routeToTCPsForBrokerageAccountXS(t)}else f.state(f.profileUrls["trustedContact.requestTrustedContact"])},g.trustedContactUpdateListError=function(e,t){f.commonComponentsUtil.hideSpinner({target:y.target}),f.logger.error("UPDATE_TRUSTED_CONTACT_TCPS_ERROR",e),g.components.trustedContact._setPendingServiceCallFlag(!1),g.components.trustedContact._setAccountLevelError(t,!0)},g.updateTcpList=function(e){var t,i=e.params;return m=e.accountIndex,i.trustedContactPersons=g.serializeTrustedContactList(i.trustedContacts),delete i.trustedContacts,i.accountIdentifier=i.accountId,delete i.accountId,i.agreementVersionNumber=i.version,delete i.version,t=JSON.stringify(i),f.commonComponentsUtil.showSpinner({target:y.target,overlayType:"INSECTION",append:!0}),f.services.trustedContactPerson.trustedContactUpdateListServiceSDAI(t).then((function(){g.compCheck()&&g.trustedContactUpdateListSuccess(i.accountIdentifier)})).catch((function(e){g.compCheck()&&g.trustedContactUpdateListError(e,m)}))},g.getDisclosuresPdfUrlAndVersionSuccess=function(e,t){var i={delete:"_displayDeleteConfirmStep",add:"_displayAddConfirmStep",update:"_displayAddConfirmStep",verifyContacts:"_verifyContactsPdfInfo"}[t];i&&g.components.trustedContact[i](e.result.legalAgreement.pdfPath,e.result.legalAgreement.uniqueVersionId,t)},g.getDisclosuresPdfUrlAndVersionError=function(e){f.logger.error("GET_DISCLOSURES_PDF_LINK_AND_VERSION_ERROR",e)},g.getDisclosuresPdfUrlAndVersion=function(e){f.services.trustedContactPerson.getDisclosuresPdfUrlAndVersionService().then((function(t){g.getDisclosuresPdfUrlAndVersionSuccess(t,e)})).catch((function(e){g.getDisclosuresPdfUrlAndVersionError(e)}))},g._rerouteIfPageNotInitialized=function(e,t,i){g.registry.hasComponent("trustedContact")?e&&(g.components.trustedContact[e](i),t&&f.bubble("dirtyRegister",{controller:g,compInstanceNames:["trustedContact"],target:y.target,whiteList:["brokerageAccounts"],preCallback:g.components.trustedContact._syncForDirtyCheck})):f.state(f.profileUrls["trustedContact.requestTrustedContact"])},g.addTrustedContact=function(){g._rerouteIfPageNotInitialized("_handleAddTrustedContact",!0)},g.requestMailingAddressVerification=function(){},g.requestTrustedContactsForBrokerageAccount=function(e){g._rerouteIfPageNotInitialized("_handleRequestTrustedContactsForBrokerageAccount",!1,e.ai)},g.deleteTrustedContact=function(){g._rerouteIfPageNotInitialized("_handleDelete",!0)},g.updateTrustedContact=function(){g._rerouteIfPageNotInitialized("_handleUpdateTrustedContact",!0)},g.confirmAddTrustedContact=function(){g._rerouteIfPageNotInitialized()},g.confirmUpdateTrustedContact=function(){g._rerouteIfPageNotInitialized()},g.updateStateOfInvestmentDisclosureOverlay=function(e){g.components.trustedContact.updateStateOfInvestmentDisclosureOverlay(e)}}})),define("profileArea/investments/trustedContact/lib/trustedContactHybridUtil",[],(function(){"use strict";var e;return{initHybridHeaderBar:function(t,i){e=i;var n=t.model.get("viewModeXS"),r=t.model.get("trustedContactAdvisoryOverlay")||t.model.get("showMailingVerification")||t.model.get("trustedContactVerificationOverlay"),a=function(e,t){return e.model.get("showMailingVerification")?e.model.get("confirmAddTrustedContactLabel")+e.model.get("addressLabel"):e.model.get("isInvestmentDisclosureOpen")?e.model.get("investmentDisclosuresOverlayTitle"):"account"===t?e.model.get("brokerageAccounts")[e.model.get("activeBrokerageAccountXS")].accountDisplayName:"view"===t?e.model.get("trustedContactHeader"):e.model.get("manageTrustedContactHeader")}(t,n),o={showHamburgerMenu:!1,showBackArrow:!r&&!!{view:!0,account:!0,addConfirm:!0,updateConfirm:!0}[n],showCancel:!!{add:!0,update:!0,addConfirm:!0,updateConfirm:!0,deleteConfirm:!0}[n],showClose:!!r,pageTitle:a};(t.context.hybridHelper&&t.context.hybridHelper.webNativeMessenger).updateNativeNavigationBar(o)},setupNativeButtonCallbacks:function(t){var i=t.context.hybridHelper&&t.context.hybridHelper.webNativeMessenger,n=function(){var i,n=!1,r=t.model.get("viewModeXS");return t.model.get("trustedContactAdvisoryOverlay")?(n=!0,t.exitTrustedContactAdvisory()):t.model.get("showMailingVerification")?t.doNotAddAddress():t.model.get("isInvestmentDisclosureOpen")?(n=!0,e.exitAdditionalDisclosures(),t.updateStateOfInvestmentDisclosureOverlay({isOpen:!1})):(i={account:"requestTrustedContact",addConfirm:"_handleConfirmationBackButton",updateConfirm:"_handleUpdateTrustedContact",add:"_cancelAddUpdateTrustedContact",update:"_cancelAddUpdateTrustedContact",deleteConfirm:"doNotDeleteTrustedContact"}[r])&&t[i](),n||"view"!==r},r=function(){var i,n=t.model.get("viewModeXS");t.model.get("trustedContactAdvisoryOverlay")?t.exitTrustedContactAdvisory():t.model.get("showMailingVerification")?t.doNotAddAddress():t.model.get("isInvestmentDisclosureOpen")?(e.exitAdditionalDisclosures(),t.updateStateOfInvestmentDisclosureOverlay({isOpen:!1})):t.model.get("trustedContactVerificationOverlay")?t.cancelAttestation():(i={add:"_cancelAddUpdateTrustedContact",update:"_cancelAddUpdateTrustedContact",addConfirm:"_cancelAddUpdateTrustedContact",updateConfirm:"_cancelAddUpdateTrustedContact",deleteConfirm:"doNotDeleteTrustedContact"}[n])&&t[i]()},a={isHybridBackButtonRequired:function(){return n()},isCloseSelected:function(){return r(),!0}};i.setShouldNativeHandleButtonPressedCallBack((function(e){return"BACK"===e?!n():"CLOSE"!==e||(r(),!1)}),a)}}})),define("profileArea/investments/trustedContact/lib/tcpValidator",["require","blue-app/validate/var/NAME_REGEX","blue-app/validate/var/ALPHA_REGEX","blue-app/validate/var/ADDRESS_LINE_REGEX","blue-app/validate/var/CITY_REGEX","blue-app/validate/var/ZIP_CODE_REGEX","blue-app/validate/var/EMAIL_REGEX","blue-app/validate/var/PHONE_NORTH_AMERICA","blue-app/validate/var/NUMERIC_REGEX","profileArea/investments/trustedContact/lib/trustedContactConstants","blue-app/validate/var/NOT_PHONE_EMAIL_REGEX"],(function(e){"use strict";var t,i=e("blue-app/validate/var/NAME_REGEX"),n=e("blue-app/validate/var/ALPHA_REGEX"),r=e("blue-app/validate/var/ADDRESS_LINE_REGEX"),a=e("blue-app/validate/var/CITY_REGEX"),o=e("blue-app/validate/var/ZIP_CODE_REGEX"),s=/^[a-zA-Z0-9]{0,6}$/,c=/^[A-Za-z0-9\- ]{0,10}$/,l=e("blue-app/validate/var/EMAIL_REGEX"),d=e("blue-app/validate/var/PHONE_NORTH_AMERICA"),u=e("blue-app/validate/var/NUMERIC_REGEX"),p=e("profileArea/investments/trustedContact/lib/trustedContactConstants").militaryZipCodeMapper,m=e("blue-app/validate/var/NOT_PHONE_EMAIL_REGEX"),f=function(e,t){return new RegExp(e).test(t)},A=function(e){return void 0!==e&&e.toString().trim()},g=function(e){t.validateDataItem({context:{name:e}})},E=function(e,t){var i={};return i.errorType=e?"":t,i.isValid=e,i},y=function(e,t){var n=A(t.validationObject[e.item]),r=f(i,n);return E(r,"INVALID_FORMAT")},h=function(e,t){var i=A(t.validationObject[e.item]),n=f(r,i);return E(n,"INVALID_FORMAT")},v=function(e,t){var i=A(t.validationObject[e.item]),n=""===i;return i.length&&!n?E(!0):E(!1,"MISSING_MANDATORY_DATA")};return{firstName:[v,y],middleName:[function(e,t){var i=A(t.validationObject[e.item]),r=i.length<1||i.length&&f(n,i);return E(r,"INVALID_FORMAT")}],lastName:[v,y],relationshipOption:[v],otherRelationship:[function(e,t){var i=A(t.validationObject[e.item]),r=f(n,i);return"OTHER"===t.validationObject.relationshipOption?i?E(r,"INVALID_FORMAT"):E(!1,"MISSING_MANDATORY_DATA"):E(!0)}],mailingAddressLineOne:[v,h],mailingAddressLineTwo:[h],city:[function(e,t){var i=A(t.validationObject[e.item]),n=f(a,i),r="MILITARY"!==t.validationObject.mailingAddressTypeName;return r?r&&!i?E(!1,"MISSING_MANDATORY_DATA"):E(n,"INVALID_FORMAT"):E(!0)}],state:[function(e,t){var i=A(t.validationObject[e.item]),n=t.validationObject.mailingAddressTypeName;return("USA"===n||"MILITARY"===n)&&!i?E(!1,"MISSING_MANDATORY_DATA"):E(!0)}],zipCode:[function(e,t){var i=A(t.validationObject[e.item]),n=f(o,i),r=t.validationObject.mailingAddressTypeName,a="USA"===r||"MILITARY"===r,s=t.zipCodeInvalidFromService;return a?a&&!i?E(!1,"MISSING_MANDATORY_DATA"):"MILITARY"===r&&void 0===p[i.slice(0,3)]?E(!1,"INVALID_MILITARY_ZIP_CODE"):s?E(!1,s):E(n,"INVALID_FORMAT"):E(!0)}],zipCodeExtension:[function(){return E(!0,"INVALID_FORMAT")}],emailAddress:[function(e,t){var i=A(t.validationObject[e.item]),n=Boolean(i.length),r=f(l,i),a=A(t.validationObject.phoneNumber),o=Boolean(a.length);return n||o?n&&!r?E(!1,"INVALID_FORMAT"):m.test(i)?E(!1,"EMAIL_ADDRESS_CANNOT_BE_PHONE_NUMBER"):E(!0):E(!1,"MISSING_MANDATORY_DATA")}],phoneNumber:[function(e,t){var i=A(t.validationObject[e.item]),n="DOMESTIC"===t.phoneNumberRegion,r=function(e,t){var i=A(t.validationObject.phoneNumber),n="DOMESTIC"===t.phoneNumberRegion;return f(n?d:u,i)}(0,t);if(A(t.validationObject.additionalContactPhoneNumber).length&&!i)return E(!1,"MISSING_MANDATORY_DATA");if(!i)return t.emailHasError&&g("emailAddress"),t.emailHasError=!0,E(!0);var a=(i=i.replace(/-/g,"")).substring(1).split("").some((function(e){return e!==i[0]}));var o,s=i&&n&&("0"===i[0]||"1"===i[0]),c=i&&n&&i[0]===i[1]&&i[1]===i[2],l={INVALID_FORMAT:!a||"1234567890"===i,INVALID_AREA_CODE:s||c,INVALID_LENGTH_INTERNATIONAL:!n&&i.length<2,BELOW_MINIMUM:n&&i.length<9};return Object.keys(l).forEach((function(e){l[e]&&(o=e)})),o?E(!1,o):(r&&g("emailAddress"),E(r,n?"INVALID_FORMAT":"INVALID_INTERNATIONAL_PHONE"))}],additionalContactPhoneNumber:[function(e,t){var i=A(t.validationObject[e.item]),n="DOMESTIC"===t.additionalContactPhoneNumberRegion,r=function(e,t){var i=A(t.validationObject.additionalContactPhoneNumber),n="DOMESTIC"===t.additionalContactPhoneNumberRegion;return f(n?d:u,i)}(0,t);if(!i)return E(!0);var a=(i=i.replace(/-/g,"")).substring(1).split("").some((function(e){return e!==i[0]}));var o,s=i&&n&&("0"===i[0]||"1"===i[0]),c=i&&n&&i[0]===i[1]&&i[1]===i[2],l={INVALID_FORMAT:!a||"1234567890"===i,INVALID_AREA_CODE:s||c,INVALID_LENGTH_INTERNATIONAL:!n&&i.length<2,BELOW_MINIMUM:n&&i.length<9};return Object.keys(l).forEach((function(e){l[e]&&(o=e)})),o?E(!1,o):E(r,n?"INVALID_FORMAT":"INVALID_INTERNATIONAL_PHONE")}],postalCode:[function(e,t){var i={CANADA:s,INTERNATIONAL:c},n=A(t.validationObject[e.item]),r=t.validationObject.mailingAddressTypeName,a=f(i[r],n),o="INTERNATIONAL"===r||"CANADA"===r;return o?o&&!n?E(!1,"MISSING_MANDATORY_DATA"):E(a,"INVALID_FORMAT"):E(!0)}],country:[function(e,t){var i=A(t.validationObject[e.item]);return"INTERNATIONAL"===t.validationObject.mailingAddressTypeName&&!i?E(!1,"MISSING_MANDATORY_DATA"):E(!0)}],province:[function(e,t){var i=A(t.validationObject[e.item]),n=t.validationObject.mailingAddressTypeName,a=f(r,i);return("INTERNATIONAL"===n||"CANADA"===n)&&!i?E(!1,"MISSING_MANDATORY_DATA"):E(a,"INVALID_FORMAT")}],aboveMinimumAgeStatus:[function(e,t){return t.validationObject[e.item]?E(!0):E(!1,"MISSING_MANDATORY_DATA")}],isFormValid:[function(){var e=!0,i=function(){var e=["phoneNumberRegion","additionalContactPhoneNumberRegion","termsAcceptanceStatus"],i=t.model.get("validationObject.mailingAddressTypeName");return"INTERNATIONAL"===i||"CANADA"===i?e.push("state"):e.push("state","city"),e}(),n=[];return Object.keys(t.model.get("validationObject")).forEach((function(r){!t.v[r].isValid&&i.indexOf(r)<0&&(e=!1,n.push(r))})),{isValid:e,invalidFields:n}}],runSpecificValidation:[g],saveComponentReference:[function(e){t=e}]}})),define("profileArea/investments/trustedContact/components/trustedContact",["profileArea/investments/trustedContact/lib/trustedContactConstants","profileArea/investments/trustedContact/lib/trustedContactSerializers","profileArea/investments/trustedContact/lib/trustedContactAddressUtil","profileArea/investments/trustedContact/lib/trustedContactHybridUtil","profileArea/investments/trustedContact/lib/trustedContactUtil","appkit-utilities/common/mediaQueryListener","appkit-utilities/validation/componentValidate","profileArea/investments/trustedContact/lib/tcpValidator","common/lib/utility/hybridMixin","appkit-utilities/analytics/overlay","profileArea/sharedLib/profileConstants","profileArea/sharedLib/profileUrls","profileArea/sharedLib/featureProvider","blue/$","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e,t,i,n,r,a,o,s,c,l,d,u,p,m,f){"use strict";var A,g,E,y,h,v,C,_={},S={},T=null,N=d.MILITARY_POST_OFFICE_TYPES.APO_FPO;return function(p){var I,b,D=this;D.split=f,D.onInit=function(){if(p.parent.enableTcpMicroApp)D.model.set("enableTcpMicroApp",p.parent.enableTcpMicroApp);else{A=p.dcu.dynamicContent,o.call(D,D.context,s);var e=/Mobi/.test(navigator.userAgent)||/Android/i.test(navigator.userAgent);h=a.currentBreakpoint===a.BREAKPOINT.XS,D._updateModel("isXSandMobile",h&&e),p.profileUrls=u,D._updateModel("showTCPPrimaryAddressCheckbox",!0),D._updateModel("showTCPAttestation",!0),D._updateModel("showTCPSecondaryPhone",!0),A.set(D,"attestationRequiredErrorHeader","ATTESTATION_REQUIRED");try{C=D.split?.getFeatureFlagsSync({cxo_uswmserv_investmentsTcpExp_enable:"USWMSERV"})?.cxo_uswmserv_investmentsTcpExp_enable?.treatment,D._updateModel("tcpSdaiApiEnable",C)}catch(e){D._updateModel("tcpSdaiApiEnable","USWMSERV")}D._resetConfirmationAlertContent(),D._updateModel("dataForConfirmScreenDescriptionList",null),D._updateModel("dataToVerifyFirstTrustedContact",null),D._updateModel("dataToVerifySecondTrustedContact",null),D._updateModel("trustedContactVerificationError",null),D._updateModel("disclosuresPdfLink",null),D._updateModel("disclosuresPdfVersionNumber",null),D._updateModel("tcpToAdd",null),D._updateModel("loadErrorsOnDemand",!0),D._updateModel("isXS",r.isXS()),D._updateModel("activeVerifyBrokerageAccount",null),D._updateModel("activeBrokerageAccountXS",null),D._updateModel("trustedContactIndexForUpdate",null),D._updateModel("viewModeXS","view"),D._updateModel("actionTriggered",null),D._updateModel("isInvestmentDisclosureOpen",!1),D._updateModel("investmentDisclosuresOverlayTitle",""),D._updateModel("aboveMinimumAgeError",null),D._updateModel("emailHasError",null),D.model.set("termsAcceptanceStatusError",null),D._updateModel("phoneNumberRegion",null),D._updateModel("primaryAddressStatus",null),D._updateModel("primaryAddressAvailable",null),D._updateModel("disablePrimaryAddress",!1),D.model.set("trustedContactAdvisoryOverlay",!1),D.model.set("trustedContactVerificationOverlay",!1),D.model.set("accountViewMode","view"),D._setPendingServiceCallFlag(!1),p.globalContentMixin.call(D,["backLabel","requestProfileSettingsMenuAda","cancelLabel","closeLabel","exitAda","opensMenuAda","warningAda","horizontalEllipsisSymbol","stateName","countryName","provinceName","currentSelectionAda","endOfSelectionAda","selectionUpdatesContentBelowAda","importantAda","exitAdvisoryDetailsLabel","requestAdvisoryDetailsLabel","exitAdvisoryDetailsAda","requestAdvisoryDetailsAda","hasExpandedAda","hasCollapsedAda","errorAnnouncementAda","errorCountAnnouncementAda","noneLabel"]),D._setServiceError(!1),D.output.on("ready",(function(){D.input.on({addressTypeUpdated:D._changeMailingAddressType,cancelAddEditTrustedContact:D._cancelAddUpdateTrustedContact})})),D._setFormOptions(),D.setFocus=function(e){D.output.emit("setFocus",{focusSelector:e})},hybrid&&(c.call(D),n.setupNativeButtonCallbacks(D),n.initHybridHeaderBar(D))}},D.requestTrustedContactDisclosuresPdf=function(){var e=D.model.get("disclosuresPdfLink");D.output.emit("openPdf",{url:e,openOption:"_newtab"})},D._setUpValidationObject=function(e){var t=r.createNewTrustedContact(),i=[];e=e||{};["state","city","province","country"].forEach((function(i){t[i]=e&&e[i+"Name"]?e[i+"Name"]:""})),delete t.termsAcceptanceStatus,delete t.phoneNumberRegion,delete t.additionalContactPhoneNumberRegion,i.push("termsAcceptanceStatus","phoneNumberRegion","additionalContactPhoneNumberRegion"),Object.keys(t).forEach((function(n){i.push(n),e.hasOwnProperty(n)&&(t[n]=e[n])})),D._updateModel("validationObject",t);var n=Object.assign({},t);Object.keys(n).forEach((function(e){n[e]={isValid:!0,property:e,errorMessage:""}})),D.v=n,s.saveComponentReference[0](D),D.model.set("whiteList",[]),D.addToWhiteList(i)},D._clearValidation=function(e){var t=[];e.forEach((function(){t.push("")})),D._setErrorField(e,t)},D._setFormItems=function(e,t,i){t.forEach((function(t){D._updateModel(e+"."+t,i)}))},D._setErrorField=function(e,t,i){e.forEach((function(e,n){D.output.emit("setErrorField",{field:e,errorMessage:A.get(D,e+"Error",t[n]),errorMessageForce:i})}))},D._validateField=function(e){s.runSpecificValidation[0](e)},D._updateValidationObject=function(e){if(9!==e.domEvent.keyCode){var t=e.context.value||e.context.checked||"";D._updateModel("validationObject."+e.context.name,t),D._updateModel("errorMessageForce",!1),D._validateField(e.context.name),"relationshipOption"===e.context.name&&D._validateField("otherRelationship"),"additionalContactPhoneNumber"===e.context.name&&D._validateField("phoneNumber")}},D._resetPhoneFieldCallback=function(e,t){var i=D.model.get("brokerageAccounts");if(i=D._syncOpenFormData(e,i),D.model.set("brokerageAccounts",i),"phoneNumberRegion"===t.event.context.name){var n=E||"";E=D.model.get(t.event.context.dataPath+".phoneNumber")||"",D._updateModel("validationObject.phoneNumber",n),D._updateModel("phoneNumberRegion",t.event.context.value),D._setFormItems(t.event.context.dataPath,["phoneNumber"],n),D._clearValidation(["phoneNumber"]),D._validateField("phoneNumber")}else{var r=y||"";y=D.model.get(t.event.context.dataPath+".additionalContactPhoneNumber")||"",D._updateModel("validationObject.additionalContactPhoneNumber",r),D._updateModel("additionalContactPhoneNumberRegion",t.event.context.value),D._setFormItems(t.event.context.dataPath,["additionalContactPhoneNumber"],r),D._clearValidation(["additionalContactPhoneNumber"]),D._validateField("additionalContactPhoneNumber")}},D._resetPhoneField=function(e){D._syncEmitter("brokerageAccounts",D._resetPhoneFieldCallback,{event:e})},D.requestPrimaryAddress=function(){var t=e.countryIdMap[v.countryId];D._updateModel("validationObject.mailingAddressTypeName",v.mailingAddressType),D._updateModel("validationObject.mailingAddressLineOne",v.mailingAddressLineOne),D._updateModel("validationObject.mailingAddressLineTwo",v.mailingAddressLineTwo),D._updateModel("validationObject.zipCode",v.zipCode),D._updateModel("validationObject.zipCodeExtension",v.zipCodeExtension),I=null,D.cityNames="",D.stateNames="",D.model.set("zipCodeInvalidFromService",!1),D._updateModel("validationObject.cityName",v.city),D._updateModel("validationObject.city",v.city),D._updateModel("validationObject.stateName",v.stateId),D._updateModel("validationObject.state",v.stateId),D._updateModel("validationObject.province",v.provinceId),D._updateModel("validationObject.provinceName",v.provinceId),D._updateModel("validationObject.postalCode",v.postalCode),D._updateModel("validationObject.countryName",t||v.countryId);var i=D.model.get("brokerageAccounts");D._syncOpenFormData(D.model.get("validationObject"),i),D.model.set("brokerageAccounts",i),"MILITARY"===v.mailingAddressType&&D.handleZipCodeEntered(),{CANADA:!0,INTERNATIONAL:!0}[v.mailingAddressType]&&D._validateField("province"),D._validateField("zipCode"),D._validateField("mailingAddressLineOne"),D._validateField("mailingAddressLineTwo")},D.requestVerifyContacts=function(e){var t,i;D._requestUrlAndVersionForPdf("verifyContacts");var n,a=D.model.get("brokerageAccounts"),o=e.context.accountIndex;h&&(o=e.context.activeBrokerageAccountXS),D._updateModel("activeAccountForVerifyContacts",o),t=(n=a[o].trustedContactDetails)[0],i=n[1],t&&t.trustedContactId?(t=r.transformTcpForConfirmStep(t,D),D._updateModel("dataToVerifyFirstTrustedContact",r.populateDataList(t,D))):D._updateModel("dataToVerifyFirstTrustedContact",""),i&&i.trustedContactId?(i=r.transformTcpForConfirmStep(i,D),D._updateModel("dataToVerifySecondTrustedContact",r.populateDataList(i,D))):D._updateModel("dataToVerifySecondTrustedContact",""),D._updateModel("trustedContactVerificationError",!1),l.showOverlay(D,"trustedContactVerificationOverlay","requestVerifyContacts"),D.model.set("trustedContactVerificationOverlay",!0),D.model.set("trustedContactOverlayRequestId",e.context.accountIndex),D._ifHybridInitHybridHeaderBar(D)},D.cancelAttestation=function(){l.hideOverlay(D,"trustedContactVerificationOverlay","cancelAttestation"),D.model.set("trustedContactVerificationOverlay",!1),D._ifHybridInitHybridHeaderBar(D),D.setFocus("#request-overlay-"+D.model.get("trustedContactOverlayRequestId"))},D.verifyAttestation=function(){var e=D.model.get("brokerageAccounts"),t=D.model.get("activeAccountForVerifyContacts");D.trustedContactVerificationService(e[t]).then((function(){l.hideOverlay(D,"trustedContactVerificationOverlay","verifyAttestation"),D.model.set("trustedContactVerificationOverlay",!1),D._ifHybridInitHybridHeaderBar(D),e[t].verifyTCPList=!1,D.model.set("brokerageAccounts",e),D._setAttestationConfirmationAlertContent(e[t].accountDisplayName)})).catch((function(){D._setSystemErrorKeys(),D._updateModel("trustedContactVerificationError",!0)}))},D.trustedContactVerificationService=function(e){const t={accountClassCode:e.accountClassCode,accountIdentifier:e.accountId,agreementVersionNumber:D.model.get("disclosuresPdfVersionNumber")},i=JSON.stringify(t);return p.services.trustedContactPerson.verifyTrustedContactServiceSDAI(i)},D._verifyMailingSvc=function(e){var i=e.context,n=t.serializeContact(i),r=D._returnActiveBrokerageAccountIndex(),a={addressLine1:n.addressLine1,addressLine2:n.addressLine2,zipCode:n.zipCode,city:n.city,stateCode:n.stateCode,countryCode:n.countryCode};D._clearValidation(["state","zipCode","mailingAddressLineOne"]);var o={MISMATCHED_STATE_ZIP:{message:"MULTIPLE_FIELDS_IN_ERROR",token:{trustedContactDetails:{dataError:D.model.get("stateLabel")+"</br>"+D.model.get("zipCodeLabel")}},fields:["state","zipCode"],errorMessages:["MISMATCHED_STATE_ZIP","MISMATCHED_STATE_ZIP"]},STREET_NAME_NOT_FOUND:{message:"SINGLE_FIELD_IN_ERROR",token:{trustedContactDetails:{dataError:D.model.get("mailingAddressLineOneLabel")}},fields:["mailingAddressLineOne","zipCode"],errorMessages:["STREET_NAME_NOT_FOUND","MISMATCHED_STATE_ZIP"]},MILITARY_ADDRESS_NOT_PERMITTED:{message:"SINGLE_FIELD_IN_ERROR",token:{trustedContactDetails:{dataError:D.model.get("mailingAddressLineOneLabel")}},fields:["mailingAddressLineOne","zipCode"],errorMessages:["MILITARY_ADDRESS_NOT_PERMITTED","MISMATCHED_STATE_ZIP"]},USER_PO_BOX_FOUND:{message:"SINGLE_FIELD_IN_ERROR",token:{trustedContactDetails:{dataError:D.model.get("mailingAddressLineOneLabel")}},fields:["mailingAddressLineOne","zipCode"],errorMessages:["USER_PO_BOX_FOUND","MISMATCHED_STATE_ZIP"]},INVALID_COUNTRY_ADDRESS:{message:"INVALID_COUNTRY_ADDRESS",token:{trustedContactDetails:{dataError:D.model.get("countryLabel")}},fields:[],errorMessages:[]}};return D._normalizePartyAddress(a,o,r,e)},D._normalizePartyAddress=function(e,t,n,r){return p.services.trustedContactPerson.trustedContactNormalizePartyAddressService(e).then((function(t){D._setAccountLevelError(n,!1),i.isServiceRespondedAddressSame(e,t)?(D._updateListItemLevelErrorStatus(n,!1),D._goToConfirmStep(r.context,r.dataPath,r.currentViewMode)):(D._updateListItemLevelErrorStatus(n,!1),D._showVerificationOverlayForNormalizePartyAddress(t,r))})).catch((function(e){if(e&&e.responseText){var i=JSON.parse(e.responseText),r=i&&i.errors&&i.errors[0]&&i.errors[0].serviceErrorCode||"";if(r===d.PARTY_NORMALIZER_ERROR_CODES.ES_CIS_CST_NORM_BUS_102||r===d.PARTY_NORMALIZER_ERROR_CODES.ES_CIS_CST_NORM_BUS_103){var a="STREET_NAME_NOT_FOUND";D._setErrorField(["mailingAddressLineOne"],[a],!0),A.set(D,"manageTrustedContactErrorHeader",t[a].message,t[a].token),D._updateListItemLevelErrorStatus(n,!0)}}else D._updateListItemLevelErrorStatus(n,!1),D._setAccountLevelError(n,!0)}))},D._updateListItemLevelErrorStatus=function(e,t){var i=D.model.get("brokerageAccounts"),n=i[e].activeIndex;i[e].trustedContactDetails[n].dataError=t,D.model.set("brokerageAccounts",i)},D._showVerificationOverlay=function(e,t){D._updateModel("showMailingVerification",!0),D._ifHybridInitHybridHeaderBar(D),p.state(p.profileUrls["trustedContact.requestMailingAddressVerification"]);var n=t.context,r={line1:"addressLine1",line2:"addressLine2",city:"city",country:"countryCode",stateCode:"stateCode",zipcode:"zipCode"},a=i.transformForMailingVerification(n),o=i.transformForMailingVerification(n);"USA"===a.type&&(a.zipcode=i.formatZipForOverlay(n.zipCode+n.zipCodeExtension)),Object.keys(o).forEach((function(t){t in r&&(o[t]=e[r[t]])})),o.zipcode=i.formatZipForOverlay(o.zipcode),D._updateModel("postalAddressOption",0),D._updateModel("userEntered",a),D._updateModel("systemRecommended",o),D.cachedVerificationData={originalFormData:n,svcResponse:e,dataPath:t.dataPath,currentViewMode:t.currentViewMode}},D._showVerificationOverlayForNormalizePartyAddress=function(e,t){D._updateModel("showMailingVerification",!0),D._ifHybridInitHybridHeaderBar(D),p.state(p.profileUrls["trustedContact.requestMailingAddressVerification"]);var n=t.context,r={line1:"addressLine1Text",line2:"addressLine2Text",city:"cityName",country:"countryCode",stateCode:"stateProvinceCode",zipcode:"postalCode"},a=i.transformForMailingVerification(n),o=i.transformForMailingVerification(n);"USA"===a.type&&(a.zipcode=i.formatZipForOverlay(n.zipCode+n.zipCodeExtension)),Object.keys(o).forEach((function(t){t in r&&(o[t]=e.address[r[t]])})),o.zipcode=i.formatZipForOverlay(o.zipcode),D._updateModel("postalAddressOption",0),D._updateModel("userEntered",a),D._updateModel("systemRecommended",o),D.cachedVerificationData={originalFormData:n,svcResponse:e,dataPath:t.dataPath,currentViewMode:t.currentViewMode}},D.doNotAddAddress=function(){T&&(p.application.dirtyForm.dirtyIgnore=!0,p.state(T),T=null),g=!0,D._updateModel("showMailingVerification",!1),D._ifHybridInitHybridHeaderBar(D),h?D.setFocus("#tcp-add-edit-form-header-xs"):D.setFocus("#trusted-contact-first-name-input-input-field")},D.addAddress=function(){D.addAddressForNormalizePartyAddress()},D.addAddressLegacy=function(){var e;D._updateModel("showMailingVerification",!1),D._ifHybridInitHybridHeaderBar(D),D.output.emit("getViewData",{key:"postalAddressOption",callback:function(t){e=t}});var t=D.cachedVerificationData.originalFormData,n=D.cachedVerificationData.svcResponse;if(0===e){var r={mailingAddressLineOne:"addressLine1",mailingAddressLineTwo:"addressLine2",cityName:"city",countryName:"countryCode",stateName:"stateCode"};Object.keys(t).forEach((function(e){r[e]&&(t[e]=n[r[e]])}));var a=i.parseZipCode(n.zipCode,t.mailingAddressTypeName);t.zipCode=a.zipCode,t.zipCodeExtension=a.zipCodeExtension}D._goToConfirmStep(t,D.cachedVerificationData.dataPath,D.cachedVerificationData.currentViewMode)},D.addAddressForNormalizePartyAddress=function(){var e;D._updateModel("showMailingVerification",!1),D._ifHybridInitHybridHeaderBar(D),D.output.emit("getViewData",{key:"postalAddressOption",callback:function(t){e=t}});var t=D.cachedVerificationData.originalFormData,n=D.cachedVerificationData.svcResponse;if(0===e){var r={mailingAddressLineOne:"addressLine1Text",mailingAddressLineTwo:"addressLine2Text",cityName:"cityName",countryName:"countryCode",stateName:"stateProvinceCode"};Object.keys(t).forEach((function(e){r[e]&&(t[e]=n.address[r[e]])}));var a=i.parseZipCode(n.address.postalCode,t.mailingAddressTypeName);t.zipCode=a.zipCode,t.zipCodeExtension=a.zipCodeExtension}D._goToConfirmStep(t,D.cachedVerificationData.dataPath,D.cachedVerificationData.currentViewMode)},D._goToConfirmStep=function(e,t,i){var n={add:p.profileUrls["trustedContact.confirmAddTrustedContact"],update:p.profileUrls["trustedContact.confirmUpdateTrustedContact"]};e=r.transformTcpForConfirmStep(e,D),D._updateModel(t,e),D._updateModel("dataForConfirmScreenDescriptionList",r.populateDataList(e,D)),D._updateModel("brokerageAccounts",D.model.get("brokerageAccounts")),D._requestUrlAndVersionForPdf(i),p.application.dirtyForm.dirtyIgnore=!0,p.state(n[i])},D._requestMailingAddressVerificationCallback=function(e,t){p.application.dirtyForm.dirtyIgnore=!0,T=p.state();var n,r,a=D.model.get("brokerageAccounts");h?(n=D.model.get("activeBrokerageAccountXS"),r=D.model.get("viewModeXS")):r=a[n=D._returnActiveBrokerageAccountIndex()].accountViewMode,a=D._syncOpenFormData(e,a),D.model.set("brokerageAccounts",a),t.event.currentViewMode=r,D._setAccountLevelError(n,!1);var o=t.event.context.mailingAddressLineOne||"",s=t.event.context.mailingAddressLineTwo||"",c=i.checkForPOBox(o,s);({MILITARY:!0,CANADA:!0,INTERNATIONAL:!0})[t.event.context.mailingAddressTypeName]||c?D._goToConfirmStep(t.event.context,t.event.dataPath,r):D._verifyMailingSvc(t.event)},D._validateAllProperties=function(e){e.forEach((function(e){D._validateField(e),D._updateModel("errorMessageForce",!1),"relationshipOption"===e&&D._validateField("otherRelationship"),"aboveMinimumAgeStatus"===e&&!D.model.get("validationObject.aboveMinimumAgeStatus")&&D._updateModel("aboveMinimumAgeError",D.model.get("aboveMinimumAgeStatusError"))})),D.output.emit("getAdaValidation",{})},D._validateAboveMinimumAgeStatus=function(e){var t=e.context.checked;D._updateModel("validationObject."+e.context.groupName,t),D._validateField(e.context.groupName);var i=D.model.get("brokerageAccounts"),n=D._returnActiveBrokerageAccountIndex();t?D._updateModel("aboveMinimumAgeError",null):D._updateModel("aboveMinimumAgeError",D.model.get("aboveMinimumAgeStatusError")),i[n].aboveMinimumAgeStatus=t},D.requestMailingAddressVerification=function(e){var t=s.isFormValid[0]();t.isValid?(e.context.cityName=D.model.get("validationObject").city,e.context.stateName=D.model.get("validationObject").state,D._syncEmitter("brokerageAccounts",D._requestMailingAddressVerificationCallback,{event:e})):D._validateAllProperties(t.invalidFields)},D._submitAddEditTrustedContact=function(e){if(r.checkForSpaceEnterClick(e)){var t=D._returnActiveBrokerageAccountIndex(),i=D.model.get("brokerageAccounts"),n=i[t].accountViewMode,a=i[t].termsAcceptanceStatus;a?(D._updateModel("actionTriggered","confirm"),D[{addConfirm:"confirmAddTrustedContact",updateConfirm:"confirmUpdateTrustedContact"}[n]]()):(A.set(D,"termsAcceptanceStatusError"),i[t].termsAcceptanceStatus=a,D.setFocus("#input-tcp-confirm-acceptance-status-checkbox-validate"))}},D._setPendingServiceCallFlag=function(e){D._updateModel("updateServiceCallInProgress",e)},D._createUpdateServiceCall=function(e){if(!D.model.get("updateServiceCallInProgress")){var t,i=[],n=_.clickedBrokerageAccountIndex,r=D.model.get("brokerageAccounts")[n],a=r.activeIndex,o=r.accountId,s=r.accountClassCode,c=r.trustedContactDetails[a];D._setPendingServiceCallFlag(!0),c.action=e,i.push(c),t={accountId:o,trustedContacts:i,accountClassCode:s,version:D.model.get("disclosuresPdfVersionNumber")},p.controller.broadcast("updateTcpList",{accountIndex:n,params:t})}},D.confirmAddTrustedContact=function(){D._createUpdateServiceCall("ADD")},D.confirmUpdateTrustedContact=function(){D._createUpdateServiceCall("MODIFY")},D._cancelAddUpdateTrustedContact=function(e){var t,i,n,a,o;I=null,hybrid?(D._dirtyIgnore(),D._updateModel("actionTriggered","cancel"),D._routeToTCPsForBrokerageAccountXS(D.model.get("activeBrokerageAccountXS"))):e&&r.checkForSpaceEnterClick(e.event)&&(h&&"account"!==D.model.get("viewModeXS")?(D._dirtyIgnore(),D._updateModel("actionTriggered","cancel"),D._routeToTCPsForBrokerageAccountXS(D.model.get("activeBrokerageAccountXS"))):(i=e.event.context.accountIndex||D._returnActiveBrokerageAccountIndex(),t=(n=D.model.get("brokerageAccounts"))[i].accountViewMode,a=n[i].activeIndex,o=D._createSyncedComponentModel(i,e.brokerageAccounts),_.clickEvent=e.event,_.clickedBrokerageAccountIndex=e.event.context.accountIndex||(e.event.domEvent.currentTarget||e.event.domEvent.target).getAttribute("accountIndex"),n[i].trustedContactDetails[a]=o,D.model.set("brokerageAccounts",n),D[{add:"doNotAddTrustedContact",update:"doNotUpdateTrustedContact",addConfirm:"doNotAddTrustedContact",updateConfirm:"doNotUpdateTrustedContact"}[t]](e),D._dirtyIgnore(i),D.model.set("termsAcceptanceStatus",null),D.model.set("emailHasError",!1),D._updateModel("aboveMinimumAgeError",null),D._updateModel("primaryAddressStatus",null),p.state(p.profileUrls["trustedContact.requestTrustedContact"])))},D._dirtyIgnore=function(e){var t;h?t=D.model.get("viewModeXS"):t=D.model.get("brokerageAccounts")[e].accountViewMode;p.application.dirtyForm.dirtyIgnore={add:!0,update:!0,deleteConfirm:!0}[t]},D._cancelAddForm=function(e,t){var i=e[t].trustedContactDetails.length-1,n=_.clickEvent;e[t].termsAcceptanceStatus=null,D.model.set("termsAcceptanceStatusError",null),e[t].accountViewMode="view",e[t].activeIndex=null,e[t].trustedContactDetails=e[t].trustedContactDetails.slice(0,i),D._updateModel("dataForConfirmScreenDescriptionList",null),D.model.set("brokerageAccounts",e),n&&{"tcp-confirm-cancel-button":!0,"trusted-contact-form-cancel-button":!0}[n.context.id]?D.setFocus("#header-tcp-list-item-add-button-"+n.context.accountIndex):D.setFocus("#simple-header")},D._cancelUpdateForm=function(e,t){var i=e[t].activeIndex,n=_.clickEvent;e[t].accountViewMode="view",e[t].activeIndex=null,e[t].termsAcceptanceStatus=null,D._updateModel("termsAcceptanceStatusError",null),e[t].trustedContactDetails[i]=S,D._updateModel("dataForConfirmScreenDescriptionList",null),D.model.set("brokerageAccounts",e),{"tcp-confirm-cancel-button":!0,"trusted-contact-form-cancel-button":!0}[n.context.id]&&D.output.emit("setTableLinkFocus",{accountIndex:t,activeIndex:i,linkType:"edit"})},D._addTrustedContactCallback=function(e,t){var i,n,r=D.model.get("brokerageAccounts");h?(i=D.model.get("activeBrokerageAccountXS"),n=D.model.get("viewModeXS")):(n=r[i=void 0!==t.event.context.accountIndex?t.event.context.accountIndex:(t.event.domEvent.currentTarget||t.event.domEvent.target).getAttribute("accountIndex")].accountViewMode,r=D._syncOpenFormData(e,r)),D.model.set("brokerageAccounts",r),D._resetConfirmationAlertContent(),"addConfirm"===n?(p.application.dirtyForm.dirtyIgnore=!0,g=!0):(_.newClickEvent=t.event,_.newClickedBrokerageAccountIndex=i),D.cityNames="",D.stateNames="",p.state(p.profileUrls["trustedContact.addTrustedContact"],{ai:i})},D.addTrustedContact=function(e){(hybrid||r.checkForSpaceEnterClick(e))&&(A.set(D,"manageTrustedContactHeader","ADD"),D._syncEmitter("brokerageAccounts",D._addTrustedContactCallback,{event:e}))},D.requestCityAndState=function(e){var t=e.domEvent,i=t.type||"",n={9:!0,16:!0}[t.keyCode],r=e.context.value||"";if("keyup"===i){if(r.length<5||n)return;D.model.set("zipCodeInvalidFromService",!1),D._updateValidationObject(e)}D.v.zipCode.isValid?D.handleZipCodeEnteredisDirty():(I=D.model.get("validationObject.zipCode"),D.resetCityState())},D.handleZipCodeEnteredisDirty=function(){!D.checkIsDirty(I,D.model.get("validationObject.zipCode"))&&b||D.handleZipCodeEntered(),I=D.model.get("validationObject.zipCode")},D.handleZipCodeEntered=function(){5===D.model.get("validationObject.zipCode").length&&("MILITARY"!==D.model.get("validationObject.mailingAddressTypeName")?D.getCityState(D.model.get("validationObject.zipCode")).then((function(e){D.displayCityStateFailureError("",!1),b=!0,D.requestCityAndStateSuccess(e)&&(D.v.zipCode.errorType=""),D._validateField("zipCode")})).catch((function(e){D.displayCityStateFailureError("ZIP_CODE_SERVICE_FAILURE",!0),I=null,D.resetCityState()})):D.handleMilitaryZipCode())},D.handleZipCodeFieldError=function(e){var t={property:"zipCode",isValid:!1,errorType:e,errorMessage:A.get(D,"zipCodeError",e)};return D.model.set("v.zipCode",t),b=!1,D.model.set("zipCodeInvalidFromService",e),D.resetCityState(),!1},D.handleMilitaryZipCode=function(){var t,i=D.model.get("validationObject.zipCode").slice(0,3),n=e.militaryZipCodeMapper[i];t=D.militaryRegionNames[n];let r={pricingRegions:[{city:N,state:t}]};D.setCityState(r)},D.addForFutureValidation=function(e){D.removeFromWhiteList(e),s.runSpecificValidation[0](e),D.addToWhiteList(e)},D.resetCityState=function(){var e=D.model.get("brokerageAccounts");D.cityId="",D.cityNames="",D.stateId="",D.stateNames="",D._updateModel("validationObject.city",""),D._updateModel("validationObject.state",""),D._updateModel("validationObject.cityName",""),D._updateModel("validationObject.stateName",""),D._syncOpenFormData(D.model.get("validationObject"),e),D.model.set("brokerageAccounts",e),D.addForFutureValidation("city"),D.addForFutureValidation("state")},D.checkIsDirty=function(e,t){return e!==t},D.getCityState=function(e){var t={zipCode:e};return p.services.trustedContactPerson.getCityState(t)},D.setCityState=function(e){let t=e.pricingRegions.map((e=>e.city)),i=[],n=[],r="",a="",o=D.cityId||t[0].toUpperCase();t.forEach((function(e){r=o===e.toUpperCase()?e.toUpperCase():t[0].toUpperCase(),i.push({name:e,value:e.toUpperCase()})}));let s=e.pricingRegions[0].state;""!==s&&("MILITARY"===D.model.get("validationObject.mailingAddressTypeName")?(a=s.militaryRegionId,n.push({name:s.militaryRegionName,value:s.militaryRegionName})):(n.push({name:s,value:e.pricingRegions[0].state}),a=n[0].value)),D._updateModel("validationObject.city",r),D._updateModel("validationObject.state",a),D.cityNames=i,D.stateNames=n,D._validateField("city"),D._validateField("state")},D.requestCityAndStateSuccess=function(t){return t&&(!t||!t.statusCode&&t.pricingRegions&&t.pricingRegions[0].city&&t.pricingRegions[0].state)?t&&e.militaryStateOptions.includes(t.pricingRegions[0].state)?D.handleZipCodeFieldError("MISMATCHED_MILITARY_ZIP_CODE"):(D.model.set("zipCodeInvalidFromService",!1),D.setCityState(t),!0):D.handleZipCodeFieldError("INVALID_ZIP_CODE")},D.requestMyAccountsDisplay=function(e){p.application.broadcast("makeNavigation",{navKey:e.context})},D.displayCityStateFailureError=function(e,t){t&&A.set(D,"manageTrustedContactErrorHeader",e);var i=D._returnActiveBrokerageAccountIndex(),n=D.model.get("brokerageAccounts"),r=n[i].activeIndex;(n=D._syncOpenFormData(D.model.get("validationObject"),n))[i].trustedContactDetails[r].dataError=t,D.model.set("brokerageAccounts",n)},D._handleConfirmationBackButton=function(e){var t,i=D.model.get("brokerageAccounts");h?(D.model.get("activeBrokerageAccountXS"),t=D.model.get("viewModeXS")):t=i[e.context.accountIndex||(e.domEvent.target||e.domEvent.currentTarget).getAttribute("accountIndex")].accountViewMode,"addConfirm"!==t&&D._showCellContent(_.lastHiddenCell),D.model.set("termsAcceptanceStatus",null);var n={addConfirm:"addTrustedContact",updateConfirm:"updateTrustedContact"}[t];n&&D[n](e)},D.requestTrustedContact=function(){p.state(p.profileUrls["trustedContact.requestTrustedContact"]);D.model.get("brokerageAccounts").forEach((function(e){e.accountViewMode="view"}))},D._handleBackBtnFromTCPBrokeragesListXS=function(){p.state(p.settings.get("profileMenuUrl")),D._changeViewModeOnXS("null")},D._handleComingBackFromConfirmation=function(e){var t=_.clickedBrokerageAccountIndex,i=D.model.get("brokerageAccounts");D._setAccountLevelError(t,!1),i[t].accountViewMode=e,i[t].termsAcceptanceStatus=null,D._updateModel("termsAcceptanceStatusError",null),D.model.set("brokerageAccounts",i),h?D.setFocus("#tcp-add-edit-form-header-xs"):D.setFocus("#trusted-contact-first-name-input-input-field"),g=!1},D._updateCachedEventData=function(){D._updateCachedClickEvent(),D._updateCachedClickedBrokerageAccountIndex()},D._updateCachedClickEvent=function(){_.newClickEvent&&(_.clickEvent=_.newClickEvent,_.newClickEvent=null)},D._updateCachedClickedBrokerageAccountIndex=function(){void 0!==_.newClickedBrokerageAccountIndex&&(_.clickedBrokerageAccountIndex=_.newClickedBrokerageAccountIndex,_.newClickedBrokerageAccountIndex=null)},D._getPrimaryMailingAddress=function(){return D._updateModel("primaryAddressStatus",null),v?(D._updateModel("primaryAddressAvailable",!0),null):p.services.trustedContactPerson.getMailingAddress().then((function(e){(v=e.mailingAddressComponent.mailingAddresses.find((function(e){return!0===e.isPrimary})))&&D._updateModel("primaryAddressAvailable",!0)})).catch((function(){D._updateModel("primaryAddressAvailable",!1)}))},D._handleAddTrustedContact=function(){var e,t,i;D._changeViewModeOnXS("add"),D._updateModel("phoneNumberRegion","DOMESTIC"),D._updateModel("additionalContactPhoneNumberRegion","DOMESTIC"),D._updateModel("disablePrimaryAddress",!1),g?(e=D.model.get("brokerageAccounts"),t=D._returnActiveBrokerageAccountIndex(),D._updateListItemLevelErrorStatus(t,!1),D._handleComingBackFromConfirmation("add")):(D._updateCachedEventData(),D._setUpValidationObject(),D.model.get("isXS")||D._closeOpenedForm(),D._getPrimaryMailingAddress(),void 0===(t=_.clickEvent.context.accountIndex)&&(t=D.model.get("activeBrokerageAccountXS")),i=(e=D.model.get("brokerageAccounts"))[t].trustedContacts.length,D._setAccountLevelError(t,!1),e[t].accountViewMode="add",e[t].activeIndex=i,e[t].trustedContactDetails.push(r.createNewTrustedContact()),D._updateModel("brokerageAccounts",e),D._updateModel("trustedContactIndexForUpdate",i),D.model.get("isXS")?D.setFocus("#tcp-add-edit-form-header-xs"):D.setFocus("#trusted-contact-first-name-input-input-field")),D.output.emit("getFormAdaValidationSetup")},D._updateTrustedContactCallback=function(e,t){var i,n,a,o=D.model.get("brokerageAccounts");h?(i=D.model.get("activeBrokerageAccountXS"),n=D.model.get("viewModeXS")):(n=o[i=(t.event.domEvent.currentTarget||t.event.domEvent.target).getAttribute("accountIndex")].accountViewMode,o=D._syncOpenFormData(e,o)),D.model.set("brokerageAccounts",o),A.set(D,"manageTrustedContactHeader","EDIT"),"updateConfirm"===n?(g=!0,a=o[i].activeIndex,p.application.dirtyForm.dirtyIgnore=!0):(_.newClickEvent=t.event,_.newClickedBrokerageAccountIndex=i,a=r.getTcpAccountIndex(_.newClickEvent)),p.state(p.profileUrls["trustedContact.updateTrustedContact"],{ai:i,row:a}),D.cityNames="",D.stateNames="",h&&(D._resetConfirmationAlertContent(),"updateConfirm"===n?D._changeViewModeOnXS("update"):"addConfirm"===n&&D._changeViewModeOnXS("add"))},D.updateTrustedContact=function(e){r.checkForSpaceEnterClick(e)&&D._syncEmitter("brokerageAccounts",D._updateTrustedContactCallback,{event:e})},D._handleUpdateTrustedContact=function(){if(g){var e=D._returnActiveBrokerageAccountIndex();D._updateListItemLevelErrorStatus(e,!1),D._handleComingBackFromConfirmation("update")}else{D._updateCachedEventData(),D.model.get("isXS")||D._closeOpenedForm();var t=_.clickEvent,i=(t.domEvent.currentTarget||t.domEvent.target).getAttribute("accountIndex"),n=D.model.get("brokerageAccounts"),a=r.getTcpAccountIndex(t),o=n[i].trustedContactDetails[a];D._setAccountLevelError(i,!1),S=r.createTrustedContactCopy(o),n[i].accountViewMode="update",n[i].activeIndex=a,D._updateModel("phoneNumberRegion",o.phoneNumberRegion),D._updateModel("additionalContactPhoneNumberRegion",o.additionalContactPhoneNumberRegion),D._setUpValidationObject(S),D._updateModel("brokerageAccounts",n),this._updateModel("trustedContactIndexForUpdate",a),D.model.get("isXS")?D.setFocus("#tcp-add-edit-form-header-xs"):D.setFocus("#trusted-contact-first-name-input-input-field"),D._changeViewModeOnXS("update")}D._updateModel("disablePrimaryAddress",!0),D.output.emit("getFormAdaValidationSetup"),D._updateModel("primaryAddressStatus",null)},D._syncForDirtyCheckCallback=function(e){var t=D.model.get("brokerageAccounts");t=D._syncOpenFormData(e,t),D.model.set("brokerageAccounts",t)},D._syncForDirtyCheck=function(){D._syncEmitter("brokerageAccounts",D._syncForDirtyCheckCallback)},D._changeMailingAddressType=function(e){var t,i=e.event.context.accountIndex,n=D.model.get("brokerageAccounts"),r=e.brokerageAccounts;t=D.model.get("trustedContactIndexForUpdate");var a=D._createSyncedComponentModel(i,r),o=["stateName","state","provinceName","province","zipCode","zipCodeExtension","countryName","country","postalCode","city"];a.cityName="MILITARY"===a?"APO/FPO":"",o.forEach((function(e){a[e]="",D._updateModel("validationObject."+e,"")})),"CANADA"===a.mailingAddressTypeName&&(a.countryName="CAN"),n[i].trustedContactDetails[t]=a,D._updateModel("brokerageAccounts",n),D._updateModel("validationObject.mailingAddressTypeName",a.mailingAddressTypeName),["province","zipCode","country","postalCode"].forEach((function(e){D.addForFutureValidation(e)})),D.displayCityStateFailureError("",!1),I=null,D.resetCityState(),D._clearValidation(o)},D._createSyncedComponentModel=function(e,t){var i,n=D.model.get("brokerageAccounts");if(t[e]){i=t[e].activeIndex;var r=n[e].trustedContactDetails[i];if(void 0!==i){var a=t[e].trustedContactDetails[i];Object.keys(a).forEach((function(e){r[e]=a[e]}))}return r}i=n[D._returnActiveBrokerageAccountIndex()].activeIndex;var o=n[e].trustedContactDetails[i];return Object.keys(t).forEach((function(e){o[e]=t[e]})),o},D._syncComponentModelToFormSubmitContext=function(e,t,i){var n=D.model.get("brokerageAccounts"),r=n[e].activeIndex,a=n[e].trustedContactDetails[r];return Object.keys(i).forEach((function(e){a[e]=i[e]})),a},D.deleteTrustedContact=function(e){if(r.checkForSpaceEnterClick(e)){var t=r.getTcpAccountIndex(e),i=(e.domEvent.currentTarget||e.domEvent.target).getAttribute("accountIndex"),n=D.model.get("brokerageAccounts");_.newClickEvent=e,n[i].activeIndex=t,p.state(p.profileUrls["trustedContact.deleteTrustedContact"],{ai:i,row:t}),A.set(D,"manageTrustedContactHeader","DELETE")}},D.confirmDeleteTrustedContact=function(e){if(r.checkForSpaceEnterClick(e)){var t=D._returnActiveBrokerageAccountIndex();D.model.get("brokerageAccounts")[t].termsAcceptanceStatus?(D._updateModel("actionTriggered","confirm"),D._createUpdateServiceCall("REMOVE")):(D._updateModel("termsAcceptanceStatusError",D.model.get("termsAndConditionsHeader")),D.setFocus("#input-tcp-confirm-acceptance-status-checkbox-validate"))}},D.doNotDeleteTrustedContact=function(e){h?(D._dirtyIgnore(),D._updateModel("actionTriggered","cancel"),D._routeToTCPsForBrokerageAccountXS(D.model.get("activeBrokerageAccountXS"))):(_.newClickEvent=e,_.newClickedBrokerageAccountIndex=e.context.accountIndex,D._showCellContent(_.lastHiddenCell),p.state(p.profileUrls["trustedContact.requestTrustedContact"]))},D.requestTrustedContactAdvisory=function(){l.showOverlay(D,"trustedContactAdvisoryOverlay","requestTrustedContactAdvisory"),D.model.set("trustedContactAdvisoryOverlay",!0),D._ifHybridInitHybridHeaderBar(D)},D.exitTrustedContactAdvisory=function(){l.hideOverlay(D,"trustedContactAdvisoryOverlay","exitTrustedContactAdvisory"),D.model.set("trustedContactAdvisoryOverlay",!1),D._ifHybridInitHybridHeaderBar(D)},D._ifHybridInitHybridHeaderBar=function(e,t){hybrid&&n.initHybridHeaderBar(e,t)},D._changeViewModeOnXS=function(e){h&&this._updateModel("viewModeXS",e),D._ifHybridInitHybridHeaderBar(D)},D._showCellContent=function(e){h||D.output.emit("showCell",{itemToShow:e})},D._hideCellContent=function(e){if(!h){var t=e.domEvent.currentTarget||e.domEvent.target,i=m(t).closest("td").attr("id"),n=document.getElementById(i).childNodes[0];_.lastHiddenCell=n,D.output.emit("hideCell",{itemToHide:n})}},D._handleDelete=function(){D._updateCachedEventData(),D._requestUrlAndVersionForPdf("delete")},D._verifyContactsPdfInfo=function(e,t){D._updateModel("disclosuresPdfLink",e),D._updateModel("disclosuresPdfVersionNumber",t)},D._displayAddConfirmStep=function(e,t,i){var n=Number(_.clickEvent.context.accountIndex||(_.clickEvent.domEvent.currentTarget||_.clickEvent.domEvent.target).getAttribute("accountIndex")),r={add:"addConfirm",update:"updateConfirm"};h&&(n=_.clickedBrokerageAccountIndex||_.clickEvent.context.activeBrokerageAccountXS||D.model.get("activeBrokerageAccountXS")),D._updateModel("disclosuresPdfLink",e),D._updateModel("disclosuresPdfVersionNumber",t),D._resetConfirmationAlertContent(),_.clickedBrokerageAccountIndex=n,"add"!==i&&D._hideCellContent(_.clickEvent),A.set(D,"verificationMessage","DEFAULT"),D._setViewMode(r[i]),D._changeViewModeOnXS(r[i]),D.setFocus("#tcp-confirm-main-heading")},D._displayDeleteConfirmStep=function(e,t){D.model.get("isXS")||D._closeOpenedForm();var i=p.state().action.params,n=D.model.get("brokerageAccounts"),r=Number(i.ai),a=n[r],o=Number(i.row),s=a.accountDisplayName,c=a.trustedContacts[o].trustedContactName;a.activeIndex=o,D._updateModel("disclosuresPdfLink",e),D._updateModel("disclosuresPdfVersionNumber",t),D._hideCellContent(_.clickEvent),D._resetConfirmationAlertContent(),_.clickedBrokerageAccountIndex=r,_.clickedTcpRowIndex=o,A.set(D,"verificationMessage","REMOVED",{brokerageAccounts:{accountDisplayName:s,trustedContacts:{trustedContactName:c}}}),D._setViewMode("deleteConfirm"),D.model.get("isXS")&&(D._resetConfirmationAlertContent(),D._changeViewModeOnXS("deleteConfirm")),D.setFocus("#tcp-confirm-main-heading")},D._setViewMode=function(e){var t=_.clickedBrokerageAccountIndex,i=D.model.get("brokerageAccounts");i[t].accountViewMode=e,D.model.set("brokerageAccounts",i),D._ifHybridInitHybridHeaderBar(D)},D._resetTermsAcceptanceStatus=function(){var e=_.clickedBrokerageAccountIndex,t=D.model.get("brokerageAccounts");t[e].termsAcceptanceStatus=null,D.model.set("termsAcceptanceStatus",null),D.model.set("termsAcceptanceStatusError",null),D.model.set("brokerageAccounts",t)},D._resetCachedEventData=function(){_={}},D._returnActiveBrokerageAccountIndex=function(){var e=D.model.get("brokerageAccounts"),t=-1;return e.forEach((function(e,i){"view"!==e.accountViewMode&&(t=i)})),t},D._closeOpenedForm=function(){var e=D._returnActiveBrokerageAccountIndex();if(E="",-1!==e){var t=D.model.get("brokerageAccounts"),i=t[e].accountViewMode;D._setAccountLevelError(e,!1),"deleteConfirm"!==i&&"updateConfirm"!==i||D._showCellContent(_.lastHiddenCell),g||(D._dirtyDeregister(),D[{add:"_cancelAddForm",update:"_cancelUpdateForm",deleteConfirm:"_closeDeleteConfirm",addConfirm:"_cancelAddForm",updateConfirm:"_cancelUpdateForm"}[i]](t,e))}},D._closeDeleteConfirm=function(e,t){D._updateCachedEventData();var i=e[t],n=i.activeIndex,r=_.clickEvent;i.accountViewMode="view",i.activeIndex=null,i.termsAcceptanceStatus=null,D.model.set("termsAcceptanceStatusError",null),D.model.set("brokerageAccounts",e),!h&&{"tcp-confirm-cancel-button":!0}[r.context.id]&&D.output.emit("setTableLinkFocus",{accountIndex:t,activeIndex:n,linkType:"remove"})},D._setConfirmationAlertContent=function(){A.set(D,"trustedContactConfirmationHeader"),A.set(D,"trustedContactConfirmationMessage")},D._setAttestationConfirmationAlertContent=function(e){A.set(D,"trustedContactConfirmationHeader","CONTACT_ATTESTATION",{brokerageAccounts:{accountDisplayName:e}}),A.set(D,"trustedContactConfirmationMessage","CONTACT_ATTESTATION")},D._resetConfirmationAlertContent=function(){D.model.set("trustedContactConfirmationHeader",null),D.model.set("trustedContactConfirmationMessage",null)},D._setServiceError=function(e){e&&D._setSystemErrorKeys(),D.model.set("dataError",e)},D._setSystemErrorKeys=function(){A.set(D,"trustedContactErrorHeader","SYSTEM_FAILURE"),A.set(D,"trustedContactErrorAdvisory","SYSTEM_FAILURE")},D._setAccountLevelError=function(e,t){t&&D._setSystemErrorKeys();var i=D.model.get("brokerageAccounts"),n="#inner-tcp-list-error-message-"+e;i[e].dataError=t,D.model.set("brokerageAccounts",i),D.setFocus(n)},D._updateModel=function(e,t){D.model.set(e,t),D.output.emit("state",{value:"updateView",key:e,keyValue:t})},D._syncEmitter=function(e,t,i){D.output.emit("getViewData",{key:e,options:i,callback:t})},D._handleAccordionInteraction=function(e){D._syncEmitter("brokerageAccounts",D._handleAccordionInteractionCallback,{event:e})},D._syncOpenFormData=function(e,t){var i=D._returnActiveBrokerageAccountIndex();if(-1!==i){var n=D._createSyncedComponentModel(i,e),r=t[i].activeIndex;t[i].trustedContactDetails[r]=n}return t},D._handleAccordionInteractionCallback=function(e,t){var i=t.event.context.accountIndex,n=D.model.get("brokerageAccounts");n=D._syncOpenFormData(e,n),t.event.context.open?(n[i].accordionOpenStatus=!1,D.model.set("brokerageAccounts",n),D.exitTrustedContactsForBrokerageAccount(),D._toggleAccordion(i)):D.requestTrustedContactsForBrokerageAccount(t.event,i)},D._toggleAccordion=function(e){h||D.output.emit("state",{value:"toggleAccordion",accountIndex:e})},D._setFormOptions=function(){var t=r.buildOptionList(D,"suffixName",e.suffixOptions,"suffixName","suffixId"),i=r.buildOptionList(D,"relationshipOption",e.relationshipOptions,"relationshipOption","relationshipOptionId"),n=r.buildOptionList(D,"mailingAddressTypesName",e.mailingAddressTypesNameOptions,"mailingAddressTypeName","mailingAddressTypeId"),a={suffixName:D.model.get("noneLabel"),suffixId:""};t.unshift(a),n=n.map((function(e){return"UNITED_STATES"===e.mailingAddressTypeId&&(e.mailingAddressTypeId="USA"),e}));var o=A.getList(D,"stateName","stateName","stateId"),s=A.getList(D,"provinceName","provinceName","provinceId"),c=r.buildOptionList(D,"iso3CountryName",e.countryOptions,"countryName","countryId"),l=A.getList(D,"militaryRegionName","militaryRegionName","militaryRegionId");D.model.set("nameSuffixes",t),D.model.set("relationshipOptions",i),D.model.set("mailingAddressTypes",n),D.model.set("stateNames",o),D.model.set("provinces",s),D.model.set("countries",c),D.model.set("militaryRegionNames",l)},D._requestUrlAndVersionForPdf=function(e){p.controller.broadcast("getDisclosuresPdfUrlAndVersion",e)},D._cleanupAfterUpdateListSuccess=function(){h||D._setViewMode("view"),D._setConfirmationAlertContent(),D._resetTermsAcceptanceStatus(),D._resetCachedEventData(),D._dirtyDeregister()},D.updateStateOfInvestmentDisclosureOverlay=function(e){D._updateModel("isInvestmentDisclosureOpen",e.isOpen),D._updateModel("investmentDisclosuresOverlayTitle",e.title),D._ifHybridInitHybridHeaderBar(D,e.investmentDisclosuresComponent)},D.requestTrustedContactsForBrokerageAccount=function(e,t){if(t=t>=0?t:e.context.accountIndex,D._updateModel("activeBrokerageAccountXS",t),h)D._routeToTCPsForBrokerageAccountXS(t);else{var i=D.model.get("brokerageAccounts");i&&i[t]&&i[t].trustedContacts?(i[t].accordionOpenStatus=!0,D.model.set("brokerageAccounts",i),D._toggleAccordion(t)):D._loadTrustedContactsServiceCall(i,t)}},D._loadTrustedContactsServiceCall=function(e,t){p.controller.emit("loadTrustedContactsForAccount",{accountIndex:t,accountId:e[t].accountId})},D._dirtyDeregister=function(){return p.bubble("dirtyDeregister",{name:"trustedContact"}),!0},D._handleRequestTrustedContactsForBrokerageAccount=function(e){var t=D.model.get("viewModeXS"),i=D.model.get("actionTriggered"),n=D.model.get("brokerageAccounts"),r=function(){var t;D._setAccountLevelError(e,!1),t=n[e].trustedContactDetails.length-1,n[e].trustedContactDetails=n[e].trustedContactDetails.slice(0,t),D.setFocus("#header-tcp-list-item-add-button-"+e)},a=function(){D._setAccountLevelError(e,!1);var t=n[e].activeIndex;n[e].trustedContactDetails[t]=S,D.setFocus("#tcp-edit-button-"+n[e].activeIndex)},o={deleteConfirm:function(){D._setAccountLevelError(e,!1),D.setFocus("#tcp-remove-button-"+n[e].activeIndex)},addConfirm:r,updateConfirm:a,add:r,update:a},s="view"===t;D._resetConfirmationAlertContent(),{view:!0,deleteConfirm:!0,addConfirm:!0,updateConfirm:!0}[t]&&("confirm"===i||"view"===t)&&D._loadTrustedContactsServiceCall(n,e),"cancel"===i&&D._dirtyDeregister()&&o[t](),n[e].accountViewMode="account",D.model.set("termsAcceptanceStatus",null),D.model.set("emailHasError",!1),D._updateModel("aboveMinimumAgeError",null),D._updateModel("primaryAddressStatus",null),D.model.set("termsAcceptanceStatusError",null),D.model.set("brokerageAccounts",n),D.model.set("actionTriggered",null),D._changeViewModeOnXS("account"),s&&(D.setFocus("#back-nav-header-title"),s=!1)},D._routeToTCPsForBrokerageAccountXS=function(e){p.state("/dashboard/profileArea/trustedContact/requestTrustedContactsForBrokerageAccount",{ai:e})},D.acceptTermsAndConditions=function(e){var t=D.model.get("brokerageAccounts"),i=D._returnActiveBrokerageAccountIndex(),n=e.context.checked;n?D.model.set("termsAcceptanceStatusError",null):A.set(D,"termsAcceptanceStatusError"),t[i].termsAcceptanceStatus=n},D.exitTrustedContactsForBrokerageAccount=function(){},D._preventDefault=function(){},D.skipBack=function(){},D.doNotAddTrustedContact=function(){},D.doNotUpdateTrustedContact=function(){}}})),define("profileArea/investments/trustedContact/components/trustedMailingVerification",[],(function(){"use strict";return{addAddress:function(){},doNotAddAddress:function(){}}})),define("profileArea/investments/suitability/lib/constants",[],(function(){"use strict";var e={setupConstants:function(t="investmentProfile"){const i=`/dashboard/${t}/`,n={SUITABILITY_CONTENT:"#suitabilityContent",DISCLOSURES_BB_SELECTOR:"#pageDisclosures",SETUP_INVESTMENT_DISCLOSURES_URL:`${i}investmentDisclosures/setupInvestmentDisclosures`,URLS:{requestInvestmentProfile:`${i}suitability/requestInvestmentProfile`,editInvestmentProfile:`${i}suitability/editInvestmentProfile`,editInvestmentProfileWorkflow:`${i}workflow/editInvestmentProfile`,workflowContinueEdit:`${i}workflow/continueEdit`,editInvestmentExperience:`${i}suitability/editInvestmentExperience`,cleanUpAccordionOpenState:`${i}suitability/cleanUpAccordionOpenState`,editAccountProfile:`${i}suitability/editAccountProfile`,editConfirmation:`${i}suitability/editConfirmation`,editFormUrls:new RegExp(`/dashboard/${t}/suitability/edit`),flyoutPrivateUrls:new RegExp(`/dashboard/${t}/helpWithThis/`),investmentProfileUpdated:`${i}suitability/investmentProfileUpdated`},CONVO_DECK_PRIVATE_URL:"/dashboard/convoDeck/conversationDeckPrimarySearch/destroyComponents",WORKFLOW_URL:`${i}workflow/index`,WORKFLOW_OPEN_PLAYBACK:`${i}workflow/loadPlayback`,WORKFLOW_CLOSE_PLAYBACK:`${i}workflow/closePlayback`,STRUCTURED_CONTENT_URL_MAPPER:{disclosures:"/content/legal-disclaimers/digital-ui/en/categories/box-disclaimers.json"},MY_PROFILE_OVERVIEW:`#${i}overview/requestMyProfileOverview`,MAKE_NAVIGATION_SETTINGS:{requestMyAdvisoryTeam:{navKey:"requestMyInvestmentAdvisors"}},spinnerParam:{target:"#spinner-container",delay:300},warningMsgTypes:{MANAGED:"managedAccountUpdateWarningAdvisory",BROKERAGE:"brokerageAccountUpdateWarningAdvisory"},progressStepHeader:{1:"FINANCIAL_PROFILE",2:"INVESTMENT_EXPERIENCE",3:"ACCOUNT_PROFILE",4:"CONFIRMATION"},urlMapToName:{1:"editInvestmentProfile",2:"editInvestmentExperience",3:"editAccountProfile",4:"editConfirmation"},stepMapToName:{editInvestmentProfile:1,editInvestmentExperience:2,editAccountProfile:3,editConfirmation:4},dynamicPartials:{1:"financialInformationEdit",2:"investmentExperienceEdit",3:"accountInformationEdit",4:"confirmationPage"},FLYOUT_ELEMENTS:{spinnerContainer:"#flyoutSpinnerContainer",wrapper:"#flyoutWrapper",slideInWrapper:"#slideInWrapper",content:"#flyoutContent",header:"#flyoutHeaderContent",footer:"#flyoutFooterContent",closeButton:"#flyoutClose"},FLYOUT_SETTINGS:{helpWithThis:{route:`${i}helpWithThis/index`,classes:"help-with-this-flyout",size:"flyoutSize-standard",closeAdaHATKey:"MANAGE_INVESTMENT_PROFILE",displayHeaderText:!0,closePrivateState:`${i}helpWithThis/closeFlyout`}},DYNAMIC_CONTENT:{financialInformationMessage:{DEFAULT:"DEFAULT",CUSTODIAN:"CUSTODIAN",ENTITY:"ENTITY"},financialInformationHeader:{DEFAULT:"DEFAULT",JOINT:"JOINT"},investmentExperienceLabel:{DEFAULT:"DEFAULT",JOINT:"JOINT"},investmentExperienceMessage:{DEFAULT:"DEFAULT",CUSTODIAN:"CUSTODIAN"}},financialInformationMicroCopyMap:{assetsCash:"cashAndCashEquivalentsAdvisory",investableAssets:"totalInvestableAssetsAdvisory",totalDebt:"totalDebtAdvisory",totalNetWorth:"totalNetWorthAdvisory",grossAnnualIncome:"grossAnnualIncomeAdvisory"},investmentExperienceOption:["NONE","LIMITED","INTERMEDIATE","EXTENSIVE"],investmentExperienceYearOption:{NONE:"ZERO_YEAR",LIMITED:"ONE_TO_THREE_YEARS",INTERMEDIATE:"THREE_TO_SEVEN_YEARS",EXTENSIVE:"ABOVE_SEVEN_YEARS"},federalTaxBracketMap:{},federalTaxBracketOptionIdMap:{dcu:"federalTaxBracketOption",updateConstantsVar:"federalTaxBracketMap",Yes:!0,No:!1},currentFederalTaxRangeResponse:{YES:"YES",NO:"NO"},radioButtonList:["annualExpensesExceedAnnualIncome","comfortableToFundNearTermExpense","federalTaxBracketOptionId"],settingMap:{federalTaxBracketOptionId:"federalTaxBracketOption",accountInvestmentObjective:"accountInvestmentObjectiveOption",riskTolerance:"riskToleranceOption",accountValueChange:"accountValueChangeOption",investmentValueChangeResponse:"investmentValueChangeResponseOption",investmentTenure:"investmentTenureOption",accountWithdrawalTimeline:"accountWithdrawalTimelineOption"},financialInfoModelMap:{grossAnnualIncome:"grossAnnualIncome",totalDebt:"totalDebt",totalNetWorth:"totalNetWorth",investibleAssets:"investableAssets",investableAssets:"investibleAssets",cashEquivalents:"assetsCash",assetsCash:"cashEquivalents",comfortableToFundNearTermExpense:"comfortableToFundNearTermExpense",expenseExceeds:"annualExpensesExceedAnnualIncome",annualExpensesExceedAnnualIncome:"expenseExceeds",currentFederalTaxRange:"federalTaxBracketOptionId",federalTaxBracketOptionId:"currentFederalTaxRange"},amountFieldMdsInputIds:["#grossAnnualIncome-id","#totalDebt-id","#totalNetWorth-id","#investableAssets-id","#assetsCash-id"],annualExpensesExceedAnnualIncomeMap:{Yes:!0,No:!1},comfortableToFundNearTermExpenseMap:{Yes:!0,No:!1},invExpModelMap:{depositAccountKnowledge:"certificateOfDeposit",certificateOfDeposit:"depositAccountKnowledge",mutualFundsETFsKnowledge:"mutualFunds",mutualFunds:"mutualFundsETFsKnowledge",marginKnowledge:"margin",margin:"marginKnowledge",alternativeInvestmentKnowledge:"alternativeInvestments",alternativeInvestments:"alternativeInvestmentKnowledge",fixedIncomeKnowledge:"fixedIncome",fixedIncome:"fixedIncomeKnowledge",stocksKnowledge:"stocks",stocks:"stocksKnowledge",listedOptionsKnowledge:"listedOptions",listedOptions:"listedOptionsKnowledge",fixedAnnuitiesKnowledge:"fixedAnnuities",fixedAnnuities:"fixedAnnuitiesKnowledge",variableAnnuitiesKnowledge:"variableAnnuities",variableAnnuities:"variableAnnuitiesKnowledge",foreignExchangeKnowledge:"foreignExchange",foreignExchange:"foreignExchangeKnowledge",futuresCommoditiesKnowledge:"futures",futures:"futuresCommoditiesKnowledge",otcDerivativesKnowledge:"derivatives",derivatives:"otcDerivativesKnowledge",structuredProductsKnowledge:"structuredProducts",structuredProducts:"structuredProductsKnowledge"},helpIdentifierMap:{accountInvestmentObjective:"investmentObjective",riskTolerance:"riskTolerance"},customerAccountsQuestionnaireMap:{investmentObjective:"accountInvestmentObjective",accountInvestmentObjective:"investmentObjective",riskTolerance:"riskToleranceLevel",riskToleranceLevel:"riskTolerance",accountValueChange:"riskToleranceLikeLevel",riskToleranceLikeLevel:"accountValueChange",investmentValueChangeResponse:"tradeActionOnMktValueDown",tradeActionOnMktValueDown:"investmentValueChangeResponse",accountWithdrawalTimeline:"liquidityNeeds",liquidityNeeds:"accountWithdrawalTimeline",investmentTimeHorizon:"investmentTenure",investmentTenure:"investmentTimeHorizon"},maxAccountsReachedVariation:"MAXIMUM_ACCOUNTS_REACHED",accountListQuestionnaireErrorCodes:{4198:"RETRIEVAL_FAILURE",4199:"RETRIEVAL_FAILURE"},investmentProfileUpdateFailureErrorCodes:{4198:"UPDATE_FAILURE",4199:"UPDATE_FAILURE"},investableAssetsCheckFields:["investableAssets","assetsCash"],investableAssetsAboveMaximumCheckFields:["investableAssets","assetsCash"],FAQHeaders:{financialProfile:"Financial profile",investmentExperience:"Investment experience",accountProfile:"Account profile"},helpWithThisAccordionGroupIds:{financialProfile:"#financialProfileAccordion",investmentExperience:"#investmentExperienceAccordion",accountProfile:"#accountProfileAccordion"},INVALID_DATA:"INVALID_DATA",MULTIPLE_INVALID_DATA:"MULTIPLE_INVALID_DATA",MISSING_MANDATORY_DATA:"MISSING_MANDATORY_DATA",INVESTABLE_ASSETS_BELOW_CASH:"INVESTABLE_ASSETS_BELOW_CASH",INVESTABLE_ASSETS_ABOVE_MAXIMUM:"INVESTABLE_ASSETS_ABOVE_MAXIMUM",ASSETS_HELD_AWAY_ABOVE_MAXIMUM:"ASSETS_HELD_AWAY_ABOVE_MAXIMUM",updateInvestmentProfileErrorHeader:"updateInvestmentProfileErrorHeader",updateInvestmentProfileErrorAdvisory:"updateInvestmentProfileErrorAdvisory"};return Object.assign(e.setupConstants,n),n}};return e.setupConstants(),e.setupConstants})),define("profileArea/investments/suitability/dataTransforms/suitabilityTransform",["require","appkit-utilities/formatters/dateTime","profileArea/investments/suitability/lib/constants"],(function(e){"use strict";var t=function(e){return(e||[]).map((function(e){return{key:e.invalidExpressionText,value:e.invalidExpressionResponseText}}))},i=function(e){const i={questionDescription:e.questionDescriptionText,questionType:e.questionTypeText,sequenceNumber:e.displaySequenceNumber};return i.answerOptions=(e.answerOptions||[]).map((function(e){var i,n=[];return i=t(e.invalidExpressions),e.ineligibleAccountTypes&&(n=e.ineligibleAccountTypes),{answerDescription:e.answerDescriptionText,sequenceNumber:e.displaySequenceNumber,invalidExpressions:i,ineligibleAccountTypes:n}})),i.invalidExpressions=t(e.invalidExpressions),i};return{transformAccountsData:function(t,i,n){var r=n.context,a=e("appkit-utilities/formatters/dateTime").dateFormatter,o=e("profileArea/investments/suitability/lib/constants")(r.state().area.name),s=o.settingMap,c=r.dcu.dynamicContent,l=t.customerProfileQuestionnaire.financialProfileQuestionnaire,d=t.customerProfileQuestionnaire.investmentExperienceQuestionnaire,u=t.customerAccountQuestionnaires;l.currentFederalTaxRange=l.currentFederalTaxRange&&l.currentFederalTaxRange===o.currentFederalTaxRangeResponse.YES;const p={displayAccountType:u.displayAccountType,warningMsg:o.warningMsgTypes[u.displayAccountType],clientLastUpdatedDate:t.customerProfileQuestionnaire.lastUpdatedDate||"",grossAnnualIncome:JSON.stringify(l.grossAnnualIncome),totalNetWorth:JSON.stringify(l.totalNetWorth),investableAssets:JSON.stringify(l.investibleAssets),totalDebt:JSON.stringify(l.totalDebt),assetsCash:JSON.stringify(l.cashEquivalents),comfortableToFundNearTermExpense:l.comfortableToFundNearTermExpense,annualExpensesExceedAnnualIncome:l.expenseExceeds,federalTaxBracketOptionId:l.currentFederalTaxRange,certificateOfDeposit:d.depositAccountKnowledge,mutualFunds:d.mutualFundsETFsKnowledge,fixedAnnuities:d.fixedAnnuitiesKnowledge,foreignExchange:d.foreignExchangeKnowledge,derivatives:d.otcDerivativesKnowledge,structuredProducts:d.structuredProductsKnowledge,variableAnnuities:d.variableAnnuitiesKnowledge,fixedIncome:d.fixedIncomeKnowledge,stocks:d.stocksKnowledge,futures:d.futuresCommoditiesKnowledge,listedOptions:d.listedOptionsKnowledge,margin:d.marginKnowledge,alternativeInvestments:d.alternativeInvestmentKnowledge,accountInvestmentObjective:u.investmentObjective,riskTolerance:u.riskToleranceLevel,accountValueChange:u.riskToleranceLikeLevel,investmentValueChangeResponse:u.tradeActionOnMktValueDown,investmentTenure:u.investmentTimeHorizon,accountWithdrawalTimeline:u.liquidityNeeds,accountsLastUpdatedDate:u.lastUpdatedDate||"",nonResidentForeignBusinessCustomer:t.nonResidentForeignBusinessCustomer||!1};p[s.federalTaxBracketOptionId]=l.currentFederalTaxRange&&c.set(n,s.federalTaxBracketOptionId,o.federalTaxBracketOptionIdMap[l.currentFederalTaxRange]),p[s.accountInvestmentObjective]=u.investmentObjective&&c.set(n,s.accountInvestmentObjective,u.investmentObjective),p[s.riskTolerance]=u.riskToleranceLevel&&c.set(n,s.riskTolerance,u.riskToleranceLevel),p[s.accountValueChange]=u.riskToleranceLikeLevel&&c.set(n,s.accountValueChange,u.riskToleranceLikeLevel),p[s.investmentValueChangeResponse]=u.tradeActionOnMktValueDown&&c.set(n,s.investmentValueChangeResponse,u.tradeActionOnMktValueDown),p[s.investmentTenure]=u.investmentTimeHorizon&&c.set(n,s.investmentTenure,u.investmentTimeHorizon),p[s.accountWithdrawalTimeline]=u.liquidityNeeds&&c.set(n,s.accountWithdrawalTimeline,u.liquidityNeeds),p.clientInformationLastUpdatedDateLabel=p.clientLastUpdatedDate?r.dcu.dynamicSettings.get(n,"clientInformationLastUpdatedDateLabel",{clientInformationLastUpdatedDate:a(p.clientLastUpdatedDate)}):"",p.accountInformationLastUpdatedDateLabel=p.accountsLastUpdatedDate?r.dcu.dynamicSettings.get(n,"accountInformationLastUpdatedDateLabel",{accountInformationLastUpdatedDate:a(p.accountsLastUpdatedDate)}):"",i.update("playback",p),i.set("playback.initModel",p)},transformDCMQuestionnaireResponseToLegacyResponse:function(e){return e.errorResponses&&0!==e.errorResponses.length?{issueCode:e.errorResponses[0].serviceErrorCode}:{customerAccountQuestionnaires:(a=e.customerAccountQuestionnaires[0],{liquidityNeeds:i(a.liquidityNeeds),investmentObjective:i(a.investmentObjective),riskToleranceLevel:i(a.riskToleranceLevel),riskToleranceLikeLevel:i(a.riskToleranceAcceptanceLevel),investmentTimeHorizon:i(a.investmentTimeHorizon),tradeActionOnMktValueDown:i(a.marketValueDownTradeAction)}),customerProfileQuestionnaire:(t=e.customerProfileQuestionnaire,{financialProfileQuestionnaire:(r=t.financialProfileQuestionnaire,{cashEquivalents:i(r.cashEquivalent),currentFederalTaxRange:i(r.currentFederalTaxAvailable),expenseExceeds:i(r.expenseExceedIncome),investibleAssets:i(r.investibleAssets),grossAnnualIncome:i(r.totalAnnualIncome),totalDebt:i(r.totalDebt),totalNetWorth:i(r.totalNetWorth),comfortableToFundNearTermExpense:i(r.comfortableToFundNearTermExpense)}),investmentExperienceQuestionnaire:(n=t.investmentExperienceQuestionnaire,{alternativeInvestmentKnowledge:i(n.alternativeInvestmentKnowledge),depositAccountKnowledge:i(n.depositAccountKnowledge),fixedAnnuitiesKnowledge:i(n.fixedAnnuityKnowledge),fixedIncomeKnowledge:i(n.fixedIncomeKnowledge),foreignExchangeKnowledge:i(n.foreignExchangeKnowledge),futuresCommoditiesKnowledge:i(n.futuresCommodityKnowledge),listedOptionsKnowledge:i(n.listedOptionsKnowledge),marginKnowledge:i(n.marginKnowledge),mutualFundsETFsKnowledge:i(n.mutualFundExchangeTradedFundKnowledge),stocksKnowledge:i(n.stockTradingKnowledge),structuredProductsKnowledge:i(n.structuredProductKnowledge),otcDerivativesKnowledge:i(n.overTheCounterDerivativeKnowledge),variableAnnuitiesKnowledge:i(n.variableAnnuityKnowledge)})})};var t,n,r,a},transformDCMResponseToLegacyResponse:function(e){return(e||[]).map((function(e){return{defaultECI:e.defaultEnterprisePartyIndicator,eci:e.enterprisePartyIdentifier,name:e.customerFullName,accounts:(t=e.accounts,(t||[]).map((function(e){return{mask:e.last4AccountNumber,nickname:e.accountNickname,accountTypeCategory:e.accountTypeCategoryCode,accountId:e.digitalAccountIdentifier}})))};var t}))}}})),define("profileArea/investments/suitability/dataProviders/areaContainer",["require","profileArea/investments/suitability/dataTransforms/suitabilityTransform"],(function(e){"use strict";var t,i,n=e("profileArea/investments/suitability/dataTransforms/suitabilityTransform"),r=function(e,t){return Promise.reject(t)};return{mappers:{areaContainer:{requestClientDataExpApi:{success:function(e,a,o,s){var c=a;c.profiles=n.transformDCMResponseToLegacyResponse(a.profiles);var l,d,u,p={context:{}},m=0,f=[],A={},g=[],E=t.registry.hasComponent("landingPage")&&t.registry.getComponent("landingPage"),y=t.context,h=y.constants.accountListQuestionnaireErrorCodes,v=a.issueCode||c.errorResponses?.[0]?.serviceErrorCode,C=y.config.suitabilityAccountsLimit;return v&&i.error("Suitability account list service response received issue code "+v,e,a),v&&h[v]?(a.errorVariation=h[v],r(0,a)):v?r(0,a):(u=0===(l=c.profiles||[]).length,l.forEach((function(e){g=[],e.accounts.forEach((function(t){var i=t.mask&&t.mask.length>4?"":E.horizontalEllipsisSymbol,n=(t.accountPrefix||"")+i,r=t.nickname+" ("+n+t.mask+")";g.push({accountName:r,accordionOpenState:!1,eci:e.eci,accountType:t.accountTypeCategory,accountId:t.accountId}),m++})),A[e.eci]=g,d={value:e.eci,name:e.name},e.hiddenAccount&&!e.accounts.length&&(d.hiddenAccounts=!0),(e.defaultECI||1===l.length)&&(p={context:d}),f.push(d)})),s.set("landingPage.accounts",null),s.set("landingPage.accountsLimitExceeded",m>C),s.set("landingPage.eciAccountMap",A),s.set("landingPage.multipleOptions",f.length>1),!u&&E.requestClientNameOptions(p),s.set("landingPage.clientNameOptions",f),s.set("landingPage.clientName",p.context.value),s.set("landingPage.showNoPermission",u),!0)},failure:r}}},init:function(e){i=(t=e).context.logger}}})),define("profileArea/investments/suitability/lib/areaUtility",["require","appkit-utilities/common/mediaQueryListener","blue/root","blue/$"],(function(e){"use strict";var t,i=e("appkit-utilities/common/mediaQueryListener"),n=e("blue/root"),r=e("blue/$"),a=function(e){var t;e.context.$(".missing-accounts-alert a").off("click").on("click",(function(i){i.preventDefault(),t=i.currentTarget.dataset.attr,e.trigger(t,i.target.getAttribute("data-attr"))}))},o=function(e){return!!(e&&e.action&&e.action.params&&e.action.params.flyout)},s=function(e){return!e.routeHistory.getHistory(1)},c={0:!0,false:!0},l={comfortableToFundNearTermExpense:function(e){return e.annualExpensesExceedAnnualIncome}},d=[{}];return{bindClickEventToHiddenLink:a,getAccountInfoUserType:function(e){return e.area.userType?Promise.resolve():e.application.userInfoPromise.then((function(){e.area.userType={isJPO:e.userInfo&&"JPMORGAN"===e.userInfo.brandId}}))},isFlyout:o,isFlyoutRoute:function(e){var t=e.routeToObject(e.routeHistory.lastRoute(1));return o(e.state())||e.is.defined(t.action.params.flyout)},focusOnAlert:function(e){if("next-button"===e.domEvent.target.id){let e;setTimeout((()=>{e=n.document.querySelector("#mds-updateInvestmentProfileErrorHeader"),e&&e.focus(),r("html,body").animate({scrollTop:200},"fast")}),200)}},isRefresh:s,openFlyoutPrivateState:function(e,t){let i=e.state();return!(!i.action||!i.action.params.flyout)&&(s(e)?(function(e){let t=e.state();delete t.action.params.flyout,e.state(t)}(e),!1):(e.privateState(t[i.action.params.flyout].route),!0))},isXS:function(){return i&&i.currentBreakpoint===i.BREAKPOINT.XS},labelCheck:function(e){return!c[e]&&!e},nativeAction:function(){return!0},setContext:function(e){t=e},setHybrid:function(e){var i,n,r=t.hybridHelper.webNativeMessenger;i=t.util.object.deepClone(d[0]=e?(e.navButtonParams={pageTitle:e.pageTitle||d[0].pageTitle,showHamburgerMenu:!!e.showHamburgerMenu,showProfileSettings:!!e.showProfileSettings,showBackArrow:!!e.showBackArrow,showCancel:!!e.cancel,showExitConfirmationOverlay:!!e.showExitConfirmationOverlay,showClose:!!e.close},e.closeCancelAction=e.close||e.cancel,d[1]=d[0],e):d[1]),r.updateNativeNavigationBar(i.navButtonParams),r.setShouldNativeHandleButtonPressedCallBack((function(e){var t=!0,n=String(e).toLowerCase();return["back","close","cancel","leave"].indexOf(n)>=0&&"function"==typeof i[n]&&(t=i[n]()),!!t}),(n={},i.back&&(n.isHybridBackButtonRequired=function(){return!i.back()}),i.closeCancelAction&&(n.isCloseSelected=i.closeCancelAction),n))},setMissingAccountsAction:function(e){e.onData("hiddenAccounts",(function(t){t&&(a(e),function(e){var t,i=function(i){i.detail.original.preventDefault(),t=i.detail.target.dataset.attr,e.trigger(t,i.detail.target.getAttribute("data-attr"))};e.elementObserver.isInserted("#missingAccountsAlert",(function(){e.context.findElements("#missingAccountsAlert")[0].addEventListener("click-link",i)}))}(e))}),{defer:!0}),e.onData("accounts",(function(t){t&&t.length>=0&&a(e)}),{defer:!0})},showField:function(e,t,i){var n=i.isClientW8!==t.nonResidentForeignBusinessCustomer+"";return l[e]?l[e](t)&&n:n},stripCurrency:function(e){var t=new RegExp("[^\\d.\\-]","g");return e?e.toString().replace(t,""):""},triggerFlyOut:function(e,t,i){var n=e.routeToObject();n.action.params.flyout=["helpWithThis"],e.constants.flyoutIdentifier=t||null,e.constants.flyoutTriggerId=i||null,e.state(n)},transformSuitabilitySuccessResponse:function(e){var t,i,n;return e.nonResidentForeignBusinessCustomer=e.foreignBusinessCustomerIndicator,e.customerProfileQuestionnaire.financialProfileQuestionnaire={grossAnnualIncome:(t=e.customerProfileQuestionnaire.financialProfileQuestionnaire).totalAnnualIncomeAmount,totalNetWorth:t.totalNetWorthAmount,investibleAssets:t.investibleAssetAmount,totalDebt:t.totalDebtAmount,cashEquivalents:t.cashEquivalentAmount,comfortableToFundNearTermExpense:t.comfortableToFundNearTermExpenseIndicator,expenseExceeds:t.expenseExceedIncomeIndicator,currentFederalTaxRange:t.currentFederalTaxAvailableText},e.customerProfileQuestionnaire.investmentExperienceQuestionnaire={depositAccountKnowledge:(i=e.customerProfileQuestionnaire.investmentExperienceQuestionnaire).depositAccountKnowledgeText,mutualFundsETFsKnowledge:i.mutualFundExchangeTradedFundKnowledgeText,fixedAnnuitiesKnowledge:i.fixedAnnuityKnowledgeText,foreignExchangeKnowledge:i.foreignExchangeKnowledgeText,otcDerivativesKnowledge:i.overTheCounterDerivativeKnowledgeText,structuredProductsKnowledge:i.structuredProductKnowledgeText,variableAnnuitiesKnowledge:i.variableAnnuityKnowledgeText,fixedIncomeKnowledge:i.fixedIncomeKnowledgeText,stocksKnowledge:i.stockTradingKnowledgeText,futuresCommoditiesKnowledge:i.futuresCommodityKnowledgeText,listedOptionsKnowledge:i.listedOptionsKnowledgeText,marginKnowledge:i.marginKnowledgeText,alternativeInvestmentKnowledge:i.alternativeInvestmentKnowledgeText},e.customerProfileQuestionnaire.lastUpdatedDate=e.customerProfileQuestionnaire.questionnaireLastUpdateDate,e.customerAccountQuestionnaires={investmentObjective:(n=e.customerAccountQuestionnaires).investmentObjectiveText,riskToleranceLevel:n.riskToleranceLevelText,riskToleranceLikeLevel:n.riskToleranceAcceptanceLevelText,tradeActionOnMktValueDown:n.marketValueDownTradeActionText,investmentTimeHorizon:n.investmentTimeHorizonText,liquidityNeeds:n.liquidityNeedsText,lastUpdatedDate:n.questionnaireLastUpdateDate,displayAccountType:n.investmentAccountTypeName},e},transformSuitabilityUpdateParams:function(e){var t,i,n;return{digitalAccountIdentifier:e.accountId,foreignBusinessCustomerIndicator:e.nonResidentForeignBusinessCustomer,customerProfileQuestionnaireUpdates:{financialProfileQuestionnaireUpdates:(n=e.customerProfileQuestionnaireUpdates.financialProfileQuestionnaireUpdates,{totalAnnualIncomeAmount:n.grossAnnualIncome,totalNetWorthAmount:n.totalNetWorth,investibleAssetAmount:n.investibleAssets,totalDebtAmount:n.totalDebt,cashEquivalentAmount:n.cashEquivalents,comfortableToFundNearTermExpenseIndicator:n.comfortableToFundNearTermExpense,expenseExceedIncomeIndicator:n.expenseExceeds,currentFederalTaxAvailableText:n.currentFederalTaxRange}),investmentExperienceQuestionnaireUpdates:(i=e.customerProfileQuestionnaireUpdates.investmentExperienceQuestionnaireUpdates,{depositAccountKnowledgeText:i.depositAccountKnowledge,mutualFundExchangeTradedFundKnowledgeText:i.mutualFundsETFsKnowledge,fixedAnnuityKnowledgeText:i.fixedAnnuitiesKnowledge,foreignExchangeKnowledgeText:i.foreignExchangeKnowledge,overTheCounterDerivativeKnowledgeText:i.otcDerivativesKnowledge,structuredProductKnowledgeText:i.structuredProductsKnowledge,variableAnnuityKnowledgeText:i.variableAnnuitiesKnowledge,fixedIncomeKnowledgeText:i.fixedIncomeKnowledge,stockTradingKnowledgeText:i.stocksKnowledge,futuresCommodityKnowledgeText:i.futuresCommoditiesKnowledge,listedOptionsKnowledgeText:i.listedOptionsKnowledge,marginKnowledgeText:i.marginKnowledge,alternativeInvestmentKnowledgeText:i.alternativeInvestmentKnowledge})},customerAccountQuestionnaires:(t=e.customerAccountQuestionnaireUpdates,{investmentObjectiveText:t.investmentObjective,riskToleranceLevelText:t.riskToleranceLevel,riskToleranceAcceptanceLevelText:t.riskToleranceLikeLevel,marketValueDownTradeActionText:t.tradeActionOnMktValueDown,investmentTimeHorizonText:t.investmentTimeHorizon,liquidityNeedsText:t.liquidityNeeds,questionnaireLastUpdateDate:t.lastUpdatedDate,investmentAccountTypeName:t.displayAccountType})}}}})),define("profileArea/investments/suitability/controllers/areaContainer",["require","profileArea/investments/suitability/dataProviders/areaContainer","profileArea/investments/suitability/dataTransforms/suitabilityTransform","profileArea/investments/suitability/lib/constants","appkit-utilities/content/globalContentMixin","appkit-utilities/formatters/dateTime","profileArea/investments/suitability/lib/areaUtility"],(function(e){"use strict";var t=e("profileArea/investments/suitability/dataProviders/areaContainer"),i=e("profileArea/investments/suitability/dataTransforms/suitabilityTransform");return function(n){var r=this,a=e("profileArea/investments/suitability/lib/constants")(n.state().area.name),o=e("appkit-utilities/content/globalContentMixin"),s=e("appkit-utilities/formatters/dateTime"),c=e("profileArea/investments/suitability/lib/areaUtility");r.onInit=function(){t.init(r),r.dataProvider.mappers=t.mappers,r.dataProvider.suitabilityServiceTransform=i,n.suitabilityConstants=a,n.areaUtil=c,!n.hybrid&&(n.areaUtil.setHybrid=n.areaUtil.nativeAction),n.areaUtil.setContext(n),n.globalContentMixin=o,n.formatDateUtil=s},r.requestInvestmentProfile=function(e){return n.profileContainer.setPageProperties({containerClasses:"legacy-profile-styles"}),r.reloadLanding=e.reloadLanding,r.indexLogic()},r.landingSuccess=function(){r.model.set("landingPage.loader",!0)},r.cleanUpAccordionOpenState=function(){r.components.landingPage.cleanUpAccordionOpenState()},r.landingError=function(e){var t="object"==typeof e&&e.errorVariation;r.model.set("landingPage",{loader:{serviceFailure:t||"SYSTEM_FAILURE"}})},r.callLandingServices=function(){n.privateState(a.WORKFLOW_URL),Promise.all([r.dataProvider.request("areaContainer.requestClientDataExpApi",{spinner:a.spinnerParam})]).then(r.landingSuccess,r.landingError)},r.indexLogic=function(e){var t=n.routeHistory.lastRoute(),i=r.registry.hasComponent("areaContainer"),o=r.registry.hasComponent("landingPage");return!!c.openFlyoutPrivateState(n,a.FLYOUT_SETTINGS)||(!(r.reloadLanding||!i||!function(e){return!!(e&&e.indexOf("suitability")>-1)&&c.isFlyoutRoute(n)}(t))||(r.model.set("landingPage.accountDisplayName",a.lastUpdatedAccount=e),i?!!o||[r.components.landingPage,"landingPage",{target:a.SUITABILITY_CONTENT}]:c.getAccountInfoUserType(n).then((function(){return t=r.components.areaContainer,r.model.set("landingPage.loader",!1),r.model.set("landingPage.currentAccountId",null),e=r.components.landingPage,r.callLandingServices(),n.profileContainer&&n.profileContainer.setPageProperties({containerClasses:"investmentProfile-area",pageTitle:e.manageInvestmentProfileHeader}),[[t,"areaContainer",{target:"#my-profile-page-content"}],[e,"landingPage",{target:a.SUITABILITY_CONTENT}]];var e,t}))))},r.investmentProfileUpdated=function(e){return e.lastUpdatedAccount?r.indexLogic(e.lastUpdatedAccount):n.replaceState(a.URLS.requestInvestmentProfile)},r.editInvestmentProfile=function(){n.privateState(a.URLS.editInvestmentProfileWorkflow,{target:a.SUITABILITY_CONTENT})},r.editInvestmentExperience=function(){n.privateState(a.URLS.workflowContinueEdit,{target:a.SUITABILITY_CONTENT})},r.editAccountProfile=function(){n.privateState(a.URLS.workflowContinueEdit,{target:a.SUITABILITY_CONTENT})},r.editConfirmation=function(){n.privateState(a.URLS.workflowContinueEdit,{target:a.SUITABILITY_CONTENT})}}})),define("profileArea/investments/suitability/components/areaContainer",[],(function(){"use strict";return function(e){var t=e.suitabilityConstants;this.onReady=function(){var i,n="blue:route:viewRenderComplete";t.areaReady=!0,e.application.broadcast(n,{contextPath:"#/dashboard/myProfileCore/profileContainer/index",msgType:n}),i={target:t.DISCLOSURES_BB_SELECTOR,type:"default"},e.privateState(t.SETUP_INVESTMENT_DISCLOSURES_URL,i)},this.onDestroy=function(){t.areaReady=!1}}})),define("profileArea/investments/suitability/components/landingPage",[],(function(){"use strict";return function(e){var t,i=this,n=e.dcu.dynamicContent,r=e.suitabilityConstants;i.onInit=function(){let n=e.areaUtil.isXS();e.globalContentMixin.call(i,["importantAda","horizontalEllipsisSymbol","warningAda","checkmarkAda","currentSelectionAda","endOfSelectionAda","backLabel"]),i.setManageInvestmentProfileWarningMessage(),i.setInvestmentProfileMessage(),t=i.clientName,i.model.onValue("loader",i.loaderReady),i.model.set("contactTeamJPO",e.userType.isJPO),i.model.onValue("accounts",(function(e){let t;!n&&e&&(t=e.map(((e,t)=>({label:e.accountName,name:`accountContent-${t}`}))),i.model.set("accordionItems",JSON.stringify(t)))}))},i.onReady=function(){i.clientName="",i.clientName=t},i.loaderReady=function(e){e&&e.serviceFailure&&n.setMultiple(i,[{key:"investmentProfileErrorHeader",variation:e.serviceFailure},{key:"investmentProfileErrorAdvisory",variation:e.serviceFailure}])},i.setManageInvestmentProfileWarningMessage=function(){var e="NO_ACCESS";n.setMultiple(i,[{key:"manageInvestmentProfileWarningHeader",variation:e},{key:"manageInvestmentProfileWarningAdvisory",variation:e}])},i.setInvestmentProfileMessage=function(e){var t="SINGLE_CLIENT";e&&(i.currentClientName=e),i.model.get("multipleOptions")&&!i.model.get("accountsLimitExceeded")&&(t="MULTIPLE_CLIENTS"),i.manageInvestmentProfileMessage="",n.set(i,"manageInvestmentProfileMessage",t,{clientName:i.currentClientName})},i.requestMyAccountsDisplay=function(t){e.application.broadcast("makeNavigation",{navKey:t.context})},i.requestMyAdvisoryTeam=function(){e.application.broadcast("makeNavigation",{navKey:r.MAKE_NAVIGATION_SETTINGS.requestMyAdvisoryTeam.navKey})},i.requestClientNameOptions=function(e){var t=e.context,a=e.domEvent,o=a?a.target:null,s=a?o.value:t.value,c=a?o.options[o.selectedIndex].name:t.name,l=i.model.get("eciAccountMap"),d=r.maxAccountsReachedVariation;i.setInvestmentProfileMessage(c||t.headerName),i.model.set("hiddenAccounts",t.hiddenAccounts),i.accountsLimitExceeded&&n.setMultiple(i,[{key:"manageInvestmentProfileWarningHeader",variation:d},{key:"manageInvestmentProfileWarningAdvisory",variation:d}]),i.model.set("accounts",l[s])},i.requestInvestmentProfileInformation=function(t){let n,a=i.model.get("accounts"),o=t.eventIndex;!t.isXS&&i.model.set("accounts",i.updateAccordionStateByIndex(a,o)),n=a&&a[o],n&&(i.currentAccountId=o,e.privateState(r.WORKFLOW_OPEN_PLAYBACK,{accordianHeader:n.accountName,accordionIndex:o,accountId:n.accountId,accountType:n.accountType,eci:n.eci}))},i.exitInvestmentProfileInformation=function(t){let n=i.model.get("accounts"),a=t.eventIndex;!t.isXS&&i.model.set("accounts",i.updateAccordionStateByIndex(n,a)),e.privateState(r.WORKFLOW_CLOSE_PLAYBACK)},i.updateAccordionStateByIndex=function(e,t){return e[t]&&e.map(((e,i)=>(e.accordionOpenState=i===t&&!e.accordionOpenState,e))),e},i.cleanUpAccordionOpenState=function(){let e=i.model.get("accounts");i.model.set("accounts",e.map((e=>(e.accordionOpenState=!1,e))))},i.requestHubNavigation=function(){e.state(r.MY_PROFILE_OVERVIEW)}}})),define("profileArea/investments/suitability/dataProviders/helpWithThis",["require","profileArea/investments/suitability/lib/constants"],(function(e){"use strict";var t=e("profileArea/investments/suitability/lib/constants"),i={financialProfile:t.FAQHeaders.financialProfile,investmentExperience:t.FAQHeaders.investmentExperience,accountProfile:t.FAQHeaders.accountProfile},n=function(e,t,i){return e.split(t).join(i)};return{helpWithThis:{getHelp:{success:function(e,t,r,a){var o,s,c=t.result.managedService.components,l=a.get("openIdentifier"),d="<p>",u="</p>",p=[],m=0,f=[],A=[],g=[];c.forEach((function(e){o=e.title,p.push({groupHeader:o}),e.components.forEach((function(e){var t=e.identifier===l;s=s||t&&"#idFAQ_"+m,o.localeCompare(i.financialProfile)?o.localeCompare(i.investmentExperience)?o.localeCompare(i.accountProfile)||g.push({name:"helpFAQ_"+m,label:n(n(e.heading,d,""),u,""),id:"idFAQ_"+m,FAQAnswer:e.bodyText}):A.push({name:"helpFAQ_"+m,label:n(n(e.heading,d,""),u,""),id:"idFAQ_"+m,FAQAnswer:e.bodyText}):f.push({name:"helpFAQ_"+m,label:n(n(e.heading,d,""),u,""),id:"idFAQ_"+m,FAQAnswer:e.bodyText}),m+=1}))})),a.set("helpWithThis.investmentProfileHelpHeaders",null),a.set("helpWithThis.investmentProfileHelpHeaders",p),a.set("helpWithThis.scrollTarget",s),a.set("helpWithThis.financialProfileHelpAccordions",f),a.set("helpWithThis.investmentExperienceHelpAccordions",A),a.set("helpWithThis.accountProfileHelpAccordions",g)},failure:function(e,t,i,n){n.set("helpWithThis.investmentProfileHelpHeaders",{failure:!0})}},dataCondition:{replaceAll:n}}}})),define("profileArea/investments/suitability/controllers/helpWithThis",["require","profileArea/investments/suitability/dataProviders/helpWithThis","profileArea/investments/suitability/lib/constants"],(function(e){"use strict";var t=e("profileArea/investments/suitability/dataProviders/helpWithThis");return function(i){var n=this,r=e("profileArea/investments/suitability/lib/constants")("profileArea"),a=n.name;n.init=function(){n.dataProvider.mappers=t,i.closeHelp=function(){n.components.helpWithThis.exitInvestmentProfileInformation(),n.registry.destroyComponent(a)}},i.closeFlyout=function(){n.registry.hasComponent(a)&&i.closeHelp()},n.helpWithThisRouteChangeListener=function(e){if(Object.hasOwnProperty.call(e,"privateDataObject"))return;let t=i.state();n.registry.hasComponent(a)&&!i.areaUtil.isFlyout(t)&&(i.closeFlyout(),i.off("blue:routeChange",n.helpWithThisRouteChangeListener))},n.index=function(){return i.profileContainer.setPageProperties({containerClasses:"legacy-profile-styles"}),!!n.registry.hasComponent(a)||(i.on("blue:routeChange",n.helpWithThisRouteChangeListener),n.model.set("helpWithThis.scrollTarget",null),n.model.set("openIdentifier",i.constants.flyoutIdentifier||null),n.model.set("helpWithThis.triggerId",i.constants.flyoutTriggerId||null),n.dataProvider.request(a+".getHelp"),[n.components.helpWithThis,a,{target:r.FLYOUT_ELEMENTS.slideInWrapper}])}}})),define("profileArea/investments/suitability/components/helpWithThis",["require","profileArea/investments/suitability/lib/areaUtility"],(function(e){"use strict";return function(t){var i=this,n=e("profileArea/investments/suitability/lib/areaUtility");t.areaUtil=n,i.onReady=function(){t.areaUtil.setHybrid({back:i.removeFlyoutParams,showBackArrow:!0})},i.exitInvestmentProfileInformation=function(){t.areaUtil.setHybrid()},i.removeFlyoutParams=function(){var e=t.routeToObject();return delete e.action.params.flyout,t.state(e),!1},i.closeFlyout=function(){t.closeFlyout(),i.removeFlyoutParams()},i.requestInvestmentProfileHelpDetail=function(){return!0},i.exitInvestmentProfileHelpDetail=function(){return!0}}})),define("profileArea/investments/suitability/dataTransforms/metadata",["require","profileArea/investments/suitability/lib/constants","profileArea/investments/suitability/lib/constants","profileArea/investments/suitability/lib/constants"],(function(e){"use strict";return function(t,i,n){return function(t,i,n){var r,a=n.context,o=e("profileArea/investments/suitability/lib/constants")(a.state().area.name),s=[],c=[],l=[],d=t.customerProfileQuestionnaire.investmentExperienceQuestionnaire,u=[];Object.keys(d).forEach((function(e){var t,i;t=(r=d[e]).sequenceNumber-1,(i=o.invExpModelMap[e])&&(s[t]={name:r.questionDescription,groupName:i}),i&&u.push(i)})),r.answerOptions.forEach((function(e){c.push({headerLabel:a.dcu.dynamicContent.get(n,"investmentExperienceOption",e.answerDescription),levelOfExperience:a.dcu.dynamicContent.get(n,"investmentExperienceYearsOption",o.investmentExperienceYearOption[e.answerDescription])})})),s=s.filter((function(e){return!!e})),c&&c.forEach((e=>l.push({label:e.headerLabel,value:String(e.headerLabel.toUpperCase())}))),i.set("playback.investmentExperienceRadioButtons",JSON.stringify(l)),i.set("playback.investmentExperienceOptionList",c),i.set("playback.experienceTableData",s),i.set("playback.investmentExperienceEditWhitelist",u)}(t,i,n),function(t,i,n){var r,a=n.context,o=e("profileArea/investments/suitability/lib/constants")(a.state().area.name),s=o.settingMap,c=[],l={federalTaxBracketOptionId:1},d=t.customerProfileQuestionnaire.financialProfileQuestionnaire,u={},p=Object.keys(d),m=new Array(p.length);p.forEach((function(e){var t=d[e],p=t.sequenceNumber-1,f=t.answerOptions,A=t.invalidExpressions,g=o.financialInfoModelMap[e],E={},y=[],h=o.financialInformationMicroCopyMap.hasOwnProperty(g);return f&&f.forEach((function(e){var t,r,s=o[g+"Map"],c=s&&s[e.answerDescription],l=[];if(c&&s.dcu&&(r=a.dcu.dynamicContent.get(n,s.dcu,c),s.updateConstantsVar&&(o[s.updateConstantsVar][e.answerDescription]=r)),y.push({name:g,label:r,answerLabel:e.answerDescription,value:e.answerDescription,answerValue:c}),o.radioButtonList.includes(y[0].name)){for(t=0;t<y.length;t++)l.push({label:y[t].answerLabel,value:String(y[t].answerValue)});t++}i.set("playback.radioGroup",JSON.stringify(l))})),A&&A.forEach((function(e){return E[e.key]=e.value,E})),r={setting:s[g],label:t.questionDescription,modelName:g,usePartial:!(y.length>2),answerList:y,invalidExpressionsObj:E,questionType:t.questionType,microcopy:h&&a.dcu.dynamicContent.get(n,o.financialInformationMicroCopyMap[g])},g&&(l[g]?m.splice(m.length-l[g],0,r):m[p]=r,u[g]=r,c.push(g)),!0})),m=m.filter((function(e){return!!e})),i.set("playback.financialInfoList",m),i.set("playback.financialInfoObj",u),i.set("playback.financialInformationEditWhitelist",c)}(t,i,n),function(t,i,n){var r=n.context,a=e("profileArea/investments/suitability/lib/constants")(r.state().area.name),o=a.settingMap,s=a.helpIdentifierMap,c=[],l=[],d=[],u={},p={},m=Array.isArray(t.customerAccountQuestionnaires)&&t.customerAccountQuestionnaires[0]||t.customerAccountQuestionnaires;m&&Object.keys(m).forEach((function(e){var t=m[e],i=t.sequenceNumber-1,f=a.customerAccountsQuestionnaireMap[e],A=[];return!!f&&(p[f]={modelIndex:i,answerMap:{}},t.answerOptions.forEach((function(e,t){var i=e.invalidExpressions,o={},s=e.answerDescription;e.ineligibleAccountTypes&&e.ineligibleAccountTypes.forEach((function(e){o[e]=!0})),A.push({ineligibleAccountMap:o,disabledFlag:!1,value:s,label:r.dcu.dynamicContent.get(n,f+"Option",s)}),p[f].answerMap[s]=t,i&&i.forEach((function(t){var i=a.customerAccountsQuestionnaireMap[t.key]+"."+t.value,n={key:f,value:e.answerDescription};u[i]?u[i].push(n):u[i]=[n],d.push(n)}))})),c[i]={label:t.questionDescription,answerList:A,setting:o[f],modelName:f,showHelpLink:s[f]},l.push(f),!0)})),c=c.filter((function(e){return!!e})),i.set("playback.ruleMap",u),i.set("playback.allRules",d),i.set("playback.modelIndexMap",p),i.set("playback.investmentAccounts",c),i.set("playback.accountInformationEditWhitelist",l)}(t,i,n),!0}})),define("profileArea/investments/suitability/dataProviders/workflow",["require","profileArea/investments/suitability/dataTransforms/metadata","profileArea/investments/suitability/dataTransforms/suitabilityTransform","profileArea/investments/suitability/lib/areaUtility"],(function(e){"use strict";var t,i,n,r=e("profileArea/investments/suitability/dataTransforms/metadata"),a=e("profileArea/investments/suitability/dataTransforms/suitabilityTransform"),o=e("profileArea/investments/suitability/lib/areaUtility"),s=function(e,i,n,r){r.set("playback",{}),t.context.metadataServicePromiseReject(i)},c=function(e,t,i,n){var r="object"==typeof t&&t.errorVariation;n.set("playback.initModel",{serviceFailure:r||"SYSTEM_FAILURE"})},l=function(e,t,i,n){var r="object"==typeof t&&t.errorVariation;n.update("suitabilityEditor.initModel",{serviceFailure:r||"SYSTEM_FAILURE"})};return{mappers:{workflow:{requestMetadataExpApi:{success:function(e,i,r,o){i=a.transformDCMQuestionnaireResponseToLegacyResponse(i);var c=t.registry.getComponent("playback"),l=i.issueCode;return l&&n[l]?(i.errorVariation=n[l],s(0,i,0,o)):(t.metaTransform(i,o,c),t.context.metadataServicePromiseResolve())},failure:s},getAccountDataExpApi:{success:function(e,i,r,a){var s=t.registry.getComponent("playback"),l=i.issueCode;if(l&&n[l])return i.errorVariation=n[l],c(0,i,0,a);const d=o.transformSuitabilitySuccessResponse(i);return t.suitabilityTransform.transformAccountsData(d,a,s)},failure:c},updateSuitabilityExpApi:{success:function(e,i,n,r){var a=t.registry.getComponent("suitabilityEditor"),o=t.context.suitabilityConstants,s=i.issueCode||i.errorResponses?.[0]?.serviceErrorCode;return s?(o.investmentProfileUpdateFailureErrorCodes[s]&&(i.errorVariation=o.investmentProfileUpdateFailureErrorCodes[s]),l(0,i,0,r)):(a.dirtyIgnore(),t.context.state(o.URLS.investmentProfileUpdated,{lastUpdatedAccount:n.suitabilityEditor.accountDisplayName}))},failure:l}}},init:function(e){i=(t=e).context,n=i.constants.accountListQuestionnaireErrorCodes,t.metaTransform=r,t.suitabilityTransform=a}}})),define("profileArea/investments/suitability/controllers/workflow",["require","profileArea/investments/suitability/dataProviders/workflow","appkit-utilities/common/mediaQueryListener","profileArea/investments/suitability/lib/constants","profileArea/investments/suitability/lib/areaUtility"],(function(e){"use strict";var t=e("profileArea/investments/suitability/dataProviders/workflow"),i=e("appkit-utilities/common/mediaQueryListener");return function(n){var r=this,a=e("profileArea/investments/suitability/lib/constants")(n.state().area.name),o="playback",s="suitabilityEditor",c=e("profileArea/investments/suitability/lib/areaUtility");r.init=function(){t.init(r),r.dataProvider.mappers=t.mappers,n.suitabilityConstants=a,n.areaUtil=c,!n.hybrid&&(n.areaUtil.setHybrid=n.areaUtil.nativeAction),n.areaUtil.setContext(n),n.resetMetadataPromise=function(){n.metadataServicePromise=new Promise((function(e,t){n.metadataServicePromiseResolve=e,n.metadataServicePromiseReject=t}))},n.resetMetadataPromise(),n.updateSuitabilityInfo=function(e){const t=c.transformSuitabilityUpdateParams(e);r.dataProvider.request("workflow.updateSuitabilityExpApi",JSON.stringify(t))}},r.index=function(){n.profileContainer.setPageProperties({containerClasses:"legacy-profile-styles"}),r.model.get("playback.ruleMap")?n.metadataServicePromiseResolve():r.dataProvider.request("workflow.requestMetadataExpApi",{spinner:a.spinnerParam})},r.closePlayback=function(){return r.registry.hasComponent(o)?r.registry.destroyComponent(o):Promise.resolve()},r.loadPlayback=function(e){return r.closePlayback().then((function(){let t=i.currentBreakpoint===i.BREAKPOINT.XS;return r.model.update("playback",{accountDisplayName:e.accordianHeader,accountId:e.accountId,eci:e.eci,initModel:null,suitabilityAccordionIndex:e.accordionIndex}),r.dataProvider.request("workflow.getAccountDataExpApi",{"digital-account-identifier":e.accountId,"enterprise-customer-identifier":e.eci,spinner:a.spinnerParam}),[r.components.playback,o,{target:t?a.SUITABILITY_CONTENT:`div[slot='accountContent-${e.accordionIndex}']`}]}))},r.continueEdit=function(){var e=n.state().action,t=a.stepMapToName[e.name],i=r.model.get("suitabilityEditor.nextStepAfterAuth"),o=r.model.get("suitabilityEditor.preStep"),l=r.registry.hasComponent(s),d=n.routeHistory.lastRoute();return l?(c.openFlyoutPrivateState(n,a.FLYOUT_SETTINGS)||r.isFlyout(d)||(i===t||t<o?r.components.suitabilityEditor.goToStep(t):r.components.suitabilityEditor.navToNextStep(o)),!0):n.state(a.URLS.requestInvestmentProfile)},r.editInvestmentProfile=function(){var e=r.registry.hasComponent(s),t=n.routeHistory.lastRoute();return r.model.set("suitabilityEditor.isGWMEmulationModeFlag",n.user.profile.isGWMEmulationMode()||!1),r.model.get("playback.initModel")?e?!!c.openFlyoutPrivateState(n,a.FLYOUT_SETTINGS)||(!!r.isFlyout(t)||r.continueEdit()):(r.model.update("suitabilityEditor",r.model.get("playback")),r.dirtyRegister(),[r.components.suitabilityEditor,s,{target:a.SUITABILITY_CONTENT}]):n.state(a.URLS.requestInvestmentProfile)},r.isFlyout=function(e){return!!(e&&e.indexOf("suitability")>-1)&&c.isFlyoutRoute(n)},r.dirtyRegister=function(){n.bubble("dirtyRegister",{controller:r,compInstanceNames:[s],target:a.SUITABILITY_CONTENT,routeBlackList:[a.URLS.editFormUrls,a.URLS.flyoutPrivateUrls,a.CONVO_DECK_PRIVATE_URL],whiteList:["editInvestmentExperience"]}),n.application.dirtyForm.onRemove=!1}}})),define("profileArea/investments/suitability/lib/suitabilityValidator",[],(function(){"use strict";var e=function(e,t){var i={};return i.errorType=t||"",i.isValid=e,i},t=function(t,i){return i.nonResidentForeignBusinessCustomer&&i.investableAssets&&i.assetsCash&&parseInt(i.investableAssets)<parseInt(i.assetsCash)||i.investableAssets&&i.assetsCash&&parseInt(i.investableAssets)<parseInt(i.assetsCash)?e(!1,"INVALID_DATA"):e(!0)};return{investableAssets:[t],assetsCash:[t],requiredFields:["grossAnnualIncome","totalNetWorth","investableAssets","totalDebt","assetsCash","federalTaxBracketOptionId","annualExpensesExceedAnnualIncome","comfortableToFundNearTermExpense","certificateOfDeposit","mutualFunds","fixedAnnuities","foreignExchange","derivatives","structuredProducts","variableAnnuities","fixedIncome","stocks","margin","alternativeInvestments","listedOptions","futures","accountInvestmentObjective","riskTolerance","accountValueChange","investmentValueChangeResponse","investmentTenure","accountWithdrawalTimeline"]}})),define("profileArea/investments/suitability/components/suitabilityEditor",["require","appkit-utilities/validation/componentValidate","profileArea/investments/suitability/lib/suitabilityValidator"],(function(e){"use strict";var t=e("appkit-utilities/validation/componentValidate"),i=e("profileArea/investments/suitability/lib/suitabilityValidator");return function(e){var n=this,r=e.dcu.dynamicContent,a=e.suitabilityConstants,o={1:"Step 1 of 4",2:"Step 2 of 4",3:"Step 3 of 4",4:"Step 4 of 4"};n.onInit=function(){var s,c;t&&t.call(n,e,i),e.globalContentMixin.call(n,["errorAnnouncementAda","cancelLabel","saveLabel","yesLabel","noLabel","editLabel","nextLabel","backLabel","confirmLabel","warningAda","importantAda","exitHelpMessageAda","beginHelpMessageAda","endHelpMessageAda"]),n.model.onValue("initModel",(function(e){e&&e.serviceFailure&&r.setMultiple(n,[{key:"investmentProfileInformationErrorHeader",variation:e.serviceFailure},{key:"investmentProfileInformationErrorAdvisory",variation:e.serviceFailure}])})),n.model.onValue("federalTaxBracketOptionId",(function(e){e&&a.federalTaxBracketMap[e]&&(n.federalTaxBracketOption=a.federalTaxBracketMap[e])})),s=function(e){var t=n.model.get("whiteList")||{};e?!t.comfortableToFundNearTermExpense&&n.addToWhiteList("comfortableToFundNearTermExpense"):(n.removeFromWhiteList("comfortableToFundNearTermExpense"),n.comfortableToFundNearTermExpense=undefined)},c={accountInvestmentObjective:n.accountInvestmentObjective,riskTolerance:n.riskTolerance,accountValueChange:n.accountValueChange,investmentValueChangeResponse:n.investmentValueChangeResponse,investmentTenure:n.investmentTenure,accountWithdrawalTimeline:n.accountWithdrawalTimeline},n.model.set("prevCheckedBindingValues",c),n.clearOldRules(n.model.get("allRules")),Object.keys(c).forEach((function(e){var t;n.clearInvalidInputValues(e),t={context:{groupName:e,value:n[e],name:e}},n.checkRules(t)})),n.model.onValue("annualExpensesExceedAnnualIncome",s),n.model.set("accessibleTextProgressBar",o[1]),n.model.set("totalSteps",4),n.goToStep(1,!0)},n.onReady=function(){e.bubble("dirtyUpdate",{name:n.key})},n.clearInvalidInputValues=function(e){var t=n[e],i=n.model.get("modelIndexMap")[e],r=i.answerMap[t],a=n.model.get("investmentAccounts."+i.modelIndex+".answerList."+r+".ineligibleAccountMap");a&&a[n.displayAccountType]&&n.model.set(e,null)},n.clearOldRules=function(e){var t=n.model.get("modelIndexMap");e&&e.forEach((function(e){var i=t[e.key],r=i.answerMap[e.value];n.model.set("investmentAccounts."+i.modelIndex+".answerList."+r+".disabledFlag",!1),n.model.set("investmentAccounts."+i.modelIndex+".answerList."+r+".inactive",!1)}))},n.checkRules=function(e){var t=n.ruleMap||n.model.get("ruleMap"),i=n.modelIndexMap||n.model.get("modelIndexMap"),o=e.context,s=o.groupName?o.groupName:e.context.modelName,c="prevCheckedBindingValues."+s,l=e.domEvent&&e.domEvent.srcElement?e.domEvent.srcElement.checked:o.value,d=n.model.get(c),u=d&&t[s+"."+d],p=t[s+"."+l];n.model.set(c,l),l&&r.set(n,a.settingMap[s],l),n.clearOldRules(u),p&&p.forEach((function(e){var t=i[e.key],r=t.answerMap[e.value];n.model.get(e.key)===e.value&&n.model.set(e.key,null),n.model.set("investmentAccounts."+t.modelIndex+".answerList."+r+".disabledFlag",!0),n.model.set("investmentAccounts."+t.modelIndex+".answerList."+r+".inactive",!0)}))},n.cancelTask=function(){e.state(a.URLS.requestInvestmentProfile)},n.runAssetClassValidations=function(e){a.investableAssetsAboveMaximumCheckFields.indexOf(e)>-1&&a.investableAssetsAboveMaximumCheckFields.forEach((function(e){n.validateDataItem({context:{groupName:e}})}))},n._mdsInputValidate=function(e){var t=e.context.modelName;a.investableAssetsCheckFields.indexOf(t)>-1&&(n.runAssetClassValidations(t),n.handleInvalidFormErrorHeaders(e))},n._mdsRadioButtonValidate=function(e){let t=e.context.groupName;a.invExpModelMap[t]&&!n.v[t].isValid&&n.validateFormData()},n.isMandatoryFieldMissing=function(){var e=!1;return Object.keys(n.v).forEach((function(t){n.v[t].errorType===a.MISSING_MANDATORY_DATA&&(e=!0)})),e},n.handleInvalidFormErrorHeaders=function(t){var i=!1,o=[];a.investableAssetsCheckFields.forEach((function(e){n.v&&n.v[e]&&n.v[e].errorType===a.INVALID_DATA&&(i=!0)})),i?(r.set(n,a.updateInvestmentProfileErrorHeader,a.MULTIPLE_INVALID_DATA),n.v.assetsCash&&n.v.assetsCash.errorType===a.INVALID_DATA&&o.push(r.get(n,a.updateInvestmentProfileErrorAdvisory,a.INVESTABLE_ASSETS_BELOW_CASH)),n.isMandatoryFieldMissing()&&o.push(r.get(n,a.updateInvestmentProfileErrorAdvisory,a.MISSING_MANDATORY_DATA))):r.set(n,a.updateInvestmentProfileErrorHeader,a.MISSING_MANDATORY_DATA),n.updateInvestmentProfileErrorList=o,e.areaUtil.focusOnAlert(t)},n.requestNextStep=function(e){let t=n.model.get("preStep");n.validateFormData(),n.v.isFormValid?(n.navToNextStep(++t),n.model.set("v",{isFormValid:!0}),n.model.update("initModel",{serviceFailure:!1})):n.handleInvalidFormErrorHeaders(e)},n.requestPreviousStep=function(){var e=n.model.get("preStep");e--,n.navToPrevStep(e)},n.confirmInvestmentProfileInformation=function(){var t,i,r=n.model.get("nonResidentForeignBusinessCustomer"),o={accountId:n.model.get("accountId"),nonResidentForeignBusinessCustomer:r},s={},c={},l={},d={},u=a.financialInfoModelMap,p=a.invExpModelMap,m=a.customerAccountsQuestionnaireMap;n.financialInfoList.forEach((function(e){return t=u[e.modelName],i=n[e.modelName],!(r&&e.invalidExpressionsObj&&e.invalidExpressionsObj.isClientW8)&&("currentFederalTaxRange"===t?(c[t]=i?a.currentFederalTaxRangeResponse.YES:a.currentFederalTaxRangeResponse.NO,!0):(c[t]=isNaN(i)||"boolean"==typeof i?i:Number(i),!0))})),n.experienceTableData.forEach((function(e){t=p[e.groupName],l[t]=n[e.groupName]})),n.investmentAccounts.forEach((function(e){t=m[e.modelName],d[t]=n[e.modelName]})),d.displayAccountType=n.model.get("displayAccountType"),s.financialProfileQuestionnaireUpdates=c,s.investmentExperienceQuestionnaireUpdates=l,o.customerAccountQuestionnaireUpdates=d,o.customerProfileQuestionnaireUpdates=s,e.updateSuitabilityInfo(o)},n.navToNextStep=function(t){n.model.set("nextStepAfterAuth",t),e.state(a.URLS[a.urlMapToName[t]])},n.navToPrevStep=function(t){n.model.set("nextStepAfterAuth",t),e.state(a.URLS[a.urlMapToName[t]])},n.goToStep=function(e,t){n.model.set("accessibleTextProgressBar",o[e]),n.model.set("currentStep",e),n.model.set("preStep",e),n.progressBarHeader=null,r.set(n,"progressBarHeader",a.progressStepHeader[e]),n.updateInvestmentProfileErrorHeader="",n.dynamicPartial=a.dynamicPartials[e],n.setWhiteList(n.dynamicPartial,t)},n.setWhiteList=function(t,i){var r,a=n.whiteList||n.model.get("whiteList"),o=n.model.get("financialInfoObj"),s=t+"Whitelist",c=n.model.get(s);n.removeFromWhiteList(a),!i&&n.model.set("whiteList",{}),"financialInformationEdit"===t?(r=c&&c.filter((function(t){return e.areaUtil.showField(t,n,o[t].invalidExpressionsObj)})),n.addToWhiteList(r)):n.addToWhiteList(c)},n.requestInvestmentProfileHelp=function(t){let i=t.domEvent.target&&t.domEvent.target.dataset&&t.domEvent.target.dataset.identifier,n=t.domEvent.target&&t.domEvent.target.id;e.areaUtil.triggerFlyOut(e,i||t.context.showHelpLink,n)},n.dirtyIgnore=function(){e.application.dirtyForm.dirtyIgnore=!0},n.requestAccountUpdateWarningAdvisoryHelpMessage=function(){return!0}}})),define("profileArea/investments/suitability/components/playback",[],(function(){"use strict";return function(e){var t=this,i=e.dcu.dynamicContent,n=e.suitabilityConstants;t.onInit=function(){e.globalContentMixin.call(t,["importantAda","closeLabel","editLabel","yesLabel","noLabel","warningAda","optionSelectedAda","endOfSelectionAda","exitHelpMessageAda","beginHelpMessageAda","endHelpMessageAda","backLabel"]),t.model.onValue("initModel",t.initModelReady)},t.initModelReady=function(e){e&&e.serviceFailure&&i.setMultiple(t,[{key:"investmentProfileInformationErrorHeader",variation:e.serviceFailure},{key:"investmentProfileInformationErrorAdvisory",variation:e.serviceFailure}])},t.exitInvestmentProfileInformation=function(){e.privateState(n.URLS.requestInvestmentProfile,{reloadLanding:!0})},t.updateInvestmentProfileInformation=function(){!e.areaUtil.isXS()&&e.privateState(n.URLS.cleanUpAccordionOpenState),e.state(n.URLS.editInvestmentProfile)},t.requestInvestmentProfileHelp=function(t){let i=t.domEvent.target&&t.domEvent.target.dataset&&t.domEvent.target.dataset.identifier,n=t.domEvent.target&&t.domEvent.target.id;e.areaUtil.triggerFlyOut(e,i||t.context.showHelpLink,n)},t.requestAccountUpdateWarningAdvisoryHelpMessage=function(){return!0}}})),define("profileArea/sharedLib/investmentsLib/investmentErrorCodes",{DRIP:{accountsServiceFailure:{code:"DRIP_1001",message:"Failure in getAccountDetails service"},positionsServiceFailure:{code:"DRIP_1002",message:"Failure in getPositionDetails service"},updateDripServiceFailure:{code:"DRIP_1003",message:"Failure in update DRIP preferences service"},accountsServicePromiseFailure:{code:"DRIP_1004",message:"Failure in Get Accounts DRIP Preferences promise"},positionsServicePromiseFailure:{code:"DRIP_1005",message:"Failure in Get Positions DRIP Preferences promise"}},ASSET_CLASS:{assetClassServiceFailure:{code:1004,message:"listAssetClassDetailService error"},assetClassServicePromiseFailure:{code:1005,message:"AssetClassDetailService promise error"}}}),define("bluespec/my_investment_distribution_settings",[],(function(){return{name:"MY_INVESTMENT_DISTRIBUTION_SETTINGS",data:{accountDistributionSettings:{type:"List",items:{accountId:{type:"Description",exportable:!0},accountDisplayName:"Description",dividendDistributionId:"Description",capitalGainsDistributionId:"Description",positionDistributionSettingsDisplayed:"OnOff"}},positionDistributionSettings:{type:"List",items:{assetShortDescription:"Description",accountId:{type:"Description",exportable:!0},instrumentId:"Description",investmentSymbol:"Description",dividendDistributionId:"Description",capitalGainsDistributionId:"Description"}},sortByCriteria:{type:"Description"},sortByOrder:{type:"Description"},errorState:{type:"OnOff"},informationProvided:{type:"OnOff"}},actions:{requestPositionDistributionSettings:!0,exitPositionDistributionSettings:!0,saveDistributionSettings:!0,resetDistributionSettings:!0,sortByAssetShortDescription:!0,requestPositionDividendDistributionSetting:!0,requestPositionCapitalGainsDistributionSetting:!0,requestAccountDividendDistributionSetting:!0,requestAccountCapitalGainsDistributionSetting:!0,skipBack:!0,requestTermsAndConditions:!0},states:{exitConfirmationOverlay:!0},settings:{accountDisplayNameLabel:!0,assetShortDescriptionLabel:!0,dividendDistributionSettingsLabel:!0,capitalGainsDistributionSettingsLabel:!0,reinvestDistributionSettingLabel:!0,cashDistributionSettingLabel:!0,saveDistributionSettingsLabel:!0,resetDistributionSettingsLabel:!0,positionDistributionSettingsAdvisory:!0,accountDistributionSettingsMessage:!0,myInvestmentDistributionSettingsHeader:!0,myInvestmentDistributionSettingsHeaderAda:!0,accountDistributionSettingsHeader:!0,requestPositionDistributionSettingsLabel:!0,exitPositionDistributionSettingsLabel:!0,updateDistributionSettingsConfirmationMessage:!0,checkmarkAda:!0,updatesContentBelowAda:!0,hidesContentBelowAda:!0,sortByAssetShortDescriptionAda:!0,sortedByPositionDistributionSettingsAda:!0,accountDistributionSettingsAda:!0,skipBackLabel:!0,myInvestmentDistrbutionSettingsErrorHeader:!0,myInvestmentDistributionSettingsErrorAdvisory:!0,noPositionsMessage:!0,importantAda:!0,informationAda:!0,accountDistributionSettingsAdvisory:!0,automaticReinvestmentSettingsAdvisory:!0}}})),define("profileArea/investments/dividendsAndCapitalGains/spec/myInvestmentDistributionSettings",["require","blue/util","bluespec/my_investment_distribution_settings"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/my_investment_distribution_settings");return t.object.merge(i,{actions:{closeTermsAndConditions:!0},data:{positionAlertMessageEnableList:{type:"list"},showTermsSlidein:{type:"Boolean"},isProfileDripPreferencesRedesignEnabled:{type:"Description"}},settings:{slideInTitle:!0,slideInHeading:!0,slideInBody:!0,closeLabel:!0}})})),define("profileArea/sharedLib/utils/HybridNavConfig",["require","blue/util"],(function(e){"use strict";const t=e("blue/util"),i=()=>{};return class{constructor(e,t){this._isHybrid=e,this._webNativeMessenger=t,this._INITIAL_CONFIG={pageTitle:"",showHamburgerMenu:!1,showProfileSettings:!1,showCancel:!1,showClose:!0,showBackArrow:!1,back:()=>this.exitHybridFlow(),close:()=>this.exitHybridFlow(),cancel:i},this._configStack=[]}exitHybridFlow(){if(!this._isHybrid)return!1;this._webNativeMessenger.onFinish({exitToNativeEntryPoint:!0});return!0}initializeHybridBar(){this._isHybrid&&(this._configStack=[],this.updateHybridBar(this._INITIAL_CONFIG,!1))}updateHybridBar(e,t){if(!this._isHybrid)return;t&&this._configStack.pop();const i=this._generateAndSaveNewConfigs(e);this._updateHybridBarWithConfigs(i)}_generateAndSaveNewConfigs(e){const i=this._configStack.length?t.object.deepClone(this._configStack[this._configStack.length-1]):{};for(const[t,n]of Object.entries(e))i[t]=n;return this._configStack.push(i),i}_updateHybridBarWithConfigs(e){const t={pageTitle:e.pageTitle,showHamburgerMenu:e.showHamburgerMenu,showProfileSettings:e.showProfileSettings,showCancel:e.showCancel,showClose:e.showClose,showBackArrow:e.showBackArrow};this._webNativeMessenger.updateNativeNavigationBar(t);const i={back:function(){return e.back()},cancel:function(){return e.cancel()},close:function(){return e.close()}},n={isHybridBackButtonRequired:function(){return!i.back()},isCloseSelected:function(){return!i.close()},isCancelSelected:function(){return!i.cancel()}};this._webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((e=>{let t=!0;const n=String(e).toLowerCase();return["back","close","cancel"].indexOf(n)>=0&&i[n]&&(t=i[n]()),!!t}),n)}restorePreviousHybridBarState(){if(!this._isHybrid)return;this._configStack.pop();const e=t.object.deepClone(this._configStack[this._configStack.length-1]);this._updateHybridBarWithConfigs(e)}getPeakOfHybridBarStateAndUpdateHybridBarWithConfigs(){if(!this._isHybrid)return;const e=t.object.deepClone(this._configStack[this._configStack.length-1]);this._updateHybridBarWithConfigs(e)}}})),define("profileArea/sharedLib/investmentsLib/investmentErrorUtility",["require","profileArea/sharedLib/investmentsLib/investmentErrorConstants","appkit-utilities/content/dcu","appkit-utilities/content/dcu"],(function(e){"use strict";var t=e("profileArea/sharedLib/investmentsLib/investmentErrorConstants"),i=e("appkit-utilities/content/dcu"),n=e("appkit-utilities/content/dcu").dynamicContent,r=t.variationsMapper,a=t.statusCode,o={getErrorInfo:function(e,i){var n,o={criticalWarning:!1,softWarning:!1,batchError:!1,statusCode:e&&e.statusCode?e.statusCode:""};return e&&e.code===a.SUCCESS&&!e.statusCode?o:!e||e.code!==a.SUCCESS&&!e.statusCode?(o.criticalWarning=!0,o.statusCode=t.errorType.SYSTEM_FAILURE,o):(n=e.statusCode,r[i].criticalStatusCodes.indexOf(n)>-1?o.criticalWarning=!0:!function(e){return r[i].softStatusCodes.indexOf(e)>-1}(e.statusCode)?!function(e){return e===t.errorType.UNSUPPORTED_ACCOUNTS_IN_GROUP}(e.statusCode)?(o.statusCode=r[i].defaultCodeVariation||t.errorType.NOT_MAPPED,o.criticalWarning=!0):o.statusCode=t.errorType.NOT_MAPPED:o.softWarning=!0,o)},getCode:function(e){return e.criticalWarning?a.SERVICE_ERROR:e.softWarning?a.WARNING:a.SUCCESS},isBatchError:function(e,i){return r[e].batchErrorCodes.indexOf(t.issueCodeMapper[i])>-1},emitToController:function(e){this.context.controller.emit("statusHandleEvent",e)}},s=function(e,t,a){var o=function(e,t,i){var r;return e&&(r=n.set(e,t,{},i)),r};return function(){var n=function(t){return t.keys&&t.keys.find((function(t){return t.type===e}))||{}}(r[t]),s=n.header,c=n.advisory;return{header:o(this,s,a),advisory:o(this,c,a),importantAda:i.dynamicContent.getGlobal("importantAda")}}};return{setErrorMessage:function(e,t){var i,n=o.getErrorInfo(e,t),r=o.getCode(n),a={statusCode:n.statusCode,code:r,module:t,isSoftWarning:n.softWarning,isCriticalWarning:n.criticalWarning,isSuccess:!n.softWarning&&!n.criticalWarning};return a.isSuccess||(i=s(r,t,a.statusCode))&&(a.dynamicContent=i.call(this)),a},setDynamicContent:s,util:o}})),define("profileArea/investments/dividendsAndCapitalGains/components/accountDripDetails",["require","blue/util","profileArea/sharedLib/profileConstants","profileArea/sharedLib/utils/HybridNavConfig","profileArea/sharedLib/investmentsLib/investmentErrorCodes","profileArea/sharedLib/investmentsLib/investmentErrorUtility","profileArea/sharedLib/profileMixin","common/lib/API/contextValidation/contextValidationAPI","common/lib/API/dataValidation/dataValidationAPI"],(function(e){"use strict";var t,i=e("blue/util"),n=e("profileArea/sharedLib/profileConstants"),r=e("profileArea/sharedLib/utils/HybridNavConfig"),a=e("profileArea/sharedLib/investmentsLib/investmentErrorCodes"),o=e("profileArea/sharedLib/investmentsLib/investmentErrorUtility"),s=e("profileArea/sharedLib/profileMixin"),c=e("common/lib/API/contextValidation/contextValidationAPI"),l=function(e){if(e.statusCode===n.LIST_OPTIONS_STATUSCODES.AGREEMENT_REQUIRED_SERVICE_STATUSCODE){var t=this.context.settings.get("investmentAgreementUrl");return t=t.replace("{{type}}",n.AGREEMENT_TYPE.brokerageAgreement),this.context.state(t),!0}return!1},d=function(){for(var e=this.accountDistributionSettings,t=[],i=!1,n=!1,r=0;r<e.length;r++)if(i=this.initialData.accountDistributionSettings.original[r].dividendDistributionId!==this.initialData.accountDistributionSettings.current[r].dividendDistributionId,n=this.initialData.accountDistributionSettings.original[r].capitalGainsDistributionId!==this.initialData.accountDistributionSettings.current[r].capitalGainsDistributionId,i||n){var a={accountId:e[r].accountId};i&&(a.dividendPreference=e[r].dividendDistributionId),n&&(a.capitalGainPreference=e[r].capitalGainsDistributionId),t.push(a)}return t},u=function(e){var t=!e;this.context.exitDialogUtil.manageFormDirty(t,"profileInvestmentsDrip")};return{init:function(){const t=this.context.hybridHelper&&this.context.hybridHelper.webNativeMessenger,i=this.context.hybrid,n=this.model.get("myInvestmentDistributionSettingsHeader");this.showTermsSlidein=!1,s.call(this),e("common/lib/API/dataValidation/dataValidationAPI")(this,{accountDistributionSettings:!0}),this.context.profileContainer.setPageProperties({pageTitle:n,containerClasses:"legacy-profile-styles"}),this.context.hybridNavConfig=new r(i,t),this.context.hybridNavConfig.initializeHybridBar(),this.context.hybridNavConfig.updateHybridBar({showBackArrow:!0,showClose:!1,pageTitle:n},!1),this.context.globalContentMixin.call(this,["closeLabel"]),this.context.controller.contextValidationAPI=c},requestPositionDistributionSettings:function(e){this.accountDistributionSettings[e.context.index].positionDistributionSettingsDisplayed=!0;var t=this.accountDistributionSettings[e.context.index].accountId;this.initialData&&this.initialData.accountDistributionSettings&&(this.initialData.accountDistributionSettings.original[e.context.index].positionDistributionSettingsDisplayed=!0),this.context.controller.emit("loadPositionDetails",t)},exitPositionDistributionSettings:function(e){this.accountDistributionSettings[e.context.index].positionDistributionSettingsDisplayed=!1,this.initialData&&this.initialData.accountDistributionSettings&&(this.initialData.accountDistributionSettings.original[e.context.index].positionDistributionSettingsDisplayed=!1)},loadDetails:function(e){t=this.context.dcu.dynamicContent;var r=this;r.context.services.dividendsAndCapitalGains.getAccountDetailsExpApi({spinner:{target:"#main",delay:300}}).then((function(t){if(!l.call(r,t)){for(var a=(t.reinvestPreferenceList||[]).map((function(e){return{accountId:e.digitalAccountIdentifier,accountName:e.accountName,dividendPreference:e.dividendStrategyTypeName,capitalGainPreference:e.capitalGainsDistributionCode,positionDistributionSettingsDisplayed:!1}})),s=[],c=[],d=a.length,u=0;u<d;u++){var p={accountId:a[u].accountId,accountDisplayName:a[u].accountName,dividendDistributionId:a[u].dividendPreference,capitalGainsDistributionId:a[u].capitalGainPreference,positionDistributionSettingsDisplayed:!1};s.push(p),c[u]=!1}if(r.accountDistributionSettings=s,r.positionAlertMessageEnableList=c,r.initialAccountState=i.object.deepClone(s),r.informationProvided=!1,r.formInitialized(!0),r.errorState=!1,e){var m=o.setErrorMessage.call(r,e,"accountDetails");r.output.emit("state",{value:"statusMessage",error:m}),r.checkFormDirty()}else r.output.emit("state",{value:"focusOnElement",selector:n.MY_PROFILE_PAGE_HEADER})}}),(function(e){r.context.logger.error(a.DRIP.accountsServicePromiseFailure.code,a.DRIP.accountsServicePromiseFailure.message),r.setErrorState(e)})).catch((function(e){r.context.logger.error(a.DRIP.accountsServiceFailure.code,a.DRIP.accountsServiceFailure.message),r.setErrorState(e)}))},destroyDrip:function(){this.context.destroyPositionDetails(),this.destroy()},resetDistributionSettings:function(){var e=(0,this.context.util.object.get)(this,"initialData.accountDistributionSettings");this.accountDistributionSettings=e&&i.object.deepClone(e.original),this.context.controller.emit("resetComponents"),u.call(this,!0),this.output.emit("state",{value:"focusOnElement",selector:n.MY_PROFILE_PAGE_HEADER}),this.removeAccountAlertMessage(),this.clearStatusMessage(),this.checkFormDirty()},addAccountAlertMessage:function(e){this.positionAlertMessageEnableList[e]=!0},removeAccountAlertMessage:function(){this.positionAlertMessageEnableList=this.positionAlertMessageEnableList.map((function(){return!1}))},requestAccountDividendDistributionSetting:function(e){var t=e.context,i=this.accountDistributionSettings;i[t.index].dividendDistributionId=t.checkedBinding,this.addAccountAlertMessage(t.index),this.accountDistributionSettings=i,this.clearStatusMessage(),this.checkFormDirty()},requestAccountCapitalGainsDistributionSetting:function(e){var t=e.context,i=this.accountDistributionSettings;i[t.index].capitalGainsDistributionId=t.checkedBinding,this.addAccountAlertMessage(t.index),this.accountDistributionSettings=i,this.clearStatusMessage(),this.checkFormDirty()},saveDistributionSettings:function(){var e=d.call(this);this.removeAccountAlertMessage(),this.context.controller.emit("savePreferences",e)},checkFormDirty:function(){c.isDirty(this.context.controller,{level:"CONTROLLER"})?(this.informationProvided=!0,u.call(this,!1)):(this.informationProvided=!1,u.call(this,!0))},requestTermsAndConditions:function(){this.context.services.dividendsAndCapitalGains.getTermsAndConditions().then((e=>{const t=e.result.managedService;this.slideInTitle=t.header.replace(/(<([^>]+)>)/gi,""),this.slideInHeading=t.components[0].bodyText,this.slideInBody=t.components[0].additionalTextDetails.slice(0,-1),this.errorState=!1,this.context.hybridNavConfig.updateHybridBar({pageTitle:this.slideInTitle,showBackArrow:!1,showClose:!0,close:this.closeTermsAndConditions,back:this.closeTermsAndConditions},!1),this.showTermsSlidein=!0}),(e=>{this.context.logger.error(a.DRIP.accountsServicePromiseFailure.code,a.DRIP.accountsServicePromiseFailure.message),this.setErrorState(e)})).catch((e=>{this.context.logger.error(a.DRIP.accountsServiceFailure.code,a.DRIP.accountsServiceFailure.message),this.setErrorState(e)}))},closeTermsAndConditions:function(){this.showTermsSlidein&&(this.context.hybridNavConfig.restorePreviousHybridBarState(),this.showTermsSlidein=!1)},clearStatusMessage:function(){this.output.emit("state",{value:"statusMessage",success:!1,error:{softError:!1,criticalError:!1}})},setInitialData:function(){this.initialData&&this.initialData.accountDistributionSettings&&(this.initialData.accountDistributionSettings.original=this.accountDistributionSettings&&i.object.deepClone(this.accountDistributionSettings))},setErrorState:function(e){this.errorState=!0,o.setErrorMessage.call(this,e,"accountDetails")},setSuccessState:function(){this.errorState=!1,this.setInitialData(),this.checkFormDirty(),t.set(this,"updateDistributionSettingsConfirmationMessage"),this.output.emit("state",{value:"statusMessage",success:!0})},skipBack:function(){}}})),define("profileArea/investments/dividendsAndCapitalGains/components/positionDripDetails",["require","blue/util","appkit-utilities/dataSet/util","blue/util","profileArea/sharedLib/profileConstants","profileArea/sharedLib/investmentsLib/investmentErrorCodes","profileArea/sharedLib/investmentsLib/investmentErrorUtility","common/lib/API/dataValidation/dataValidationAPI"],(function(e){"use strict";var t,i,n=e("blue/util"),r=e("appkit-utilities/dataSet/util"),a=e("blue/util"),o=e("profileArea/sharedLib/profileConstants").SORT_ORDER,s=o.asc,c=o.des,l=e("profileArea/sharedLib/investmentsLib/investmentErrorCodes").DRIP.positionsServiceFailure,d=e("profileArea/sharedLib/investmentsLib/investmentErrorUtility"),u=!1,p=function(e){u=!1,this.errorState=!0,this.context.logger.error(l.code,l.message),d.setErrorMessage.call(this,e,"positionDripDetails"),this.output.emit("state",{value:"focusOnErrorMessage"})},m=function(e,t,n){var l=a.object.deepClone(this.positionDistributionSettings),d=this.sortByOrder===c?s:c;d===s?(i.set(this,t,o.DESCEND),i.set(this,"sortedByPositionDistributionSettingsAda",n+"_"+o.ASCEND)):(i.set(this,t,o.ASCEND),i.set(this,"sortedByPositionDistributionSettingsAda",n+"_"+o.DESCEND)),l=r.sort(l,e,d===s),this.initialData.positionDistributionSettings.original=r.sort(this.initialData.positionDistributionSettings.original,e,d===s),this.sortByOrder=d,this.positionDistributionSettings=l},f=function(){var e=this.positionDistributionSettings,t={},i=[],n=!1,r=!1;if(e)for(var a=0;a<e.length;a++){var o=this.initialData.positionDistributionSettings,s=o.current[a],c=o.original[a];if(n=c.dividendDistributionId!==s.dividendDistributionId,r=c.capitalGainsDistributionId!==s.capitalGainsDistributionId,n||r){var l={accountId:e[a].accountId,securityId:e[a].instrumentId,securityType:e[a].securityType,accountType:e[a].accountType,instrumentId:e[a].instrumentId,dividendPreference:e[a].dividendDistributionId,capitalGainPreference:e[a].capitalGainsDistributionId};i.push(l)}}return i.length&&(t={accountId:i[0].accountId,positionReinvestPreferences:i}),t},A=function(e){this.context.controller.emit("checkFormDirty"),this.context.controller.emit("clearStatusMessage",this.positionDistributionSettings[e.context.index].accountId)};return{init:function(){e("common/lib/API/dataValidation/dataValidationAPI")(this,{positionDistributionSettings:!0})},sortByAssetShortDescription:function(){m.call(this,"assetShortDescription","sortByAssetShortDescriptionAda","ASSET_SHORT_DESCRIPTION")},requestPositionDividendDistributionSetting:function(e){var t=e.context,i=this.positionDistributionSettings;i[t.index].dividendDistributionId=t.checkedBinding,this.positionDistributionSettings=i,A.call(this,e)},requestPositionCapitalGainsDistributionSetting:function(e){var t=e.context,i=this.positionDistributionSettings;i[t.index].capitalGainsDistributionId=t.checkedBinding,this.positionDistributionSettings=i,A.call(this,e)},getUpdatedPositionsSettings:function(){return f.call(this)},dataLoaded:function(){return u},setInitialData:function(){this.initialData&&this.initialData.positionDistributionSettings&&(this.initialData.positionDistributionSettings.original=this.positionDistributionSettings&&n.object.deepClone(this.positionDistributionSettings))},clearStatusMessage:function(){this.output.emit("state",{value:"statusMessage",error:{softError:!1,criticalError:!1}})},destroyPositionDetails:function(){this.destroy()},loadDetails:function(e,n){t=e,i=this.context.dcu.dynamicContent;var r=this,a={"digital-account-identifier":t,spinner:{target:n,delay:300,doNotFocus:!0}};r.context.services.dividendsAndCapitalGains.getPositionDetailsExpApi(a).then((function(e){var n=(e.reInvestPreferenceList||[]).map((function(e){return{capitalGainPreference:e.capitalGainsDistributionCode,dividendPreference:e.dividendStrategyTypeName,positionName:e.optionRootName,securityId:e.securityIdentifier,securityType:e.securityTypeCode,type:e.holdingTypeName,accountId:e.digitalAccountIdentifier,accountName:e.accountName}})),a=[];if(n){for(var o=n.length,c=0;c<o;c++){var l={accountId:t,capitalGainsDistributionId:n[c].capitalGainPreference,dividendDistributionId:n[c].dividendPreference,assetShortDescription:n[c].positionName,instrumentId:n[c].securityId,securityType:n[c].securityType,accountType:n[c].type,uniquePositionId:t+n[c].securityId+n[c].securityType};a.push(l)}r.formInitialized(!0)}if(r.positionDistributionSettings=a,u=!0,r.errorState=!1,r.sortByOrder=s,i.set(r,"sortByAssetShortDescriptionAda","DESCENDING"),i.set(r,"sortedByPositionDistributionSettingsAda","ASSET_SHORT_DESCRIPTION_ASCENDING"),e.statusCode){var p=d.setErrorMessage.call(r,e,"positionDripDetails");r.output.emit("state",{value:"statusMessage",error:p})}}),(function(e){p.call(r,e)})).catch((function(e){p.call(r,e)}))},resetPositionComponent:function(){this.initialData&&this.initialData.positionDistributionSettings&&(this.positionDistributionSettings=n.object.deepClone(this.initialData.positionDistributionSettings.original))}}})),define("profileArea/investments/dividendsAndCapitalGains/controllers/dividendsAndCapitalGains",["require","blue/util","profileArea/sharedLib/investmentsLib/investmentErrorConstants","profileArea/sharedLib/investmentsLib/investmentDisclosuresUtility","profileArea/sharedLib/investmentsLib/investmentFocusManagerUtility","profileArea/sharedLib/investmentsLib/investmentErrorCodes","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","profileArea/investments/dividendsAndCapitalGains/spec/myInvestmentDistributionSettings","profileArea/investments/dividendsAndCapitalGains/components/accountDripDetails","bluespec/my_investment_distribution_settings","profileArea/investments/dividendsAndCapitalGains/components/positionDripDetails","common/lib/API/contextValidation/contextValidationMixin","common/lib/modalApi"],(function(e){"use strict";return function(t){var i=this,n=[],r=e("blue/util"),a=e("profileArea/sharedLib/investmentsLib/investmentErrorConstants"),o=e("profileArea/sharedLib/investmentsLib/investmentDisclosuresUtility"),s=e("profileArea/sharedLib/investmentsLib/investmentFocusManagerUtility"),c=e("profileArea/sharedLib/investmentsLib/investmentErrorCodes"),l=function(e){return"positionDetails_"+e},d=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd");const u=a.statusCode,p=a.dripStatusCodeMapper,m=a.errorType;var f={accountDetails:{name:"accountDetails",spec:e("profileArea/investments/dividendsAndCapitalGains/spec/myInvestmentDistributionSettings"),methods:e("profileArea/investments/dividendsAndCapitalGains/components/accountDripDetails"),viewPath:"accountDripDetails",target:"#my-profile-page-content"},positionDetails:{name:"",spec:e("bluespec/my_investment_distribution_settings"),methods:e("profileArea/investments/dividendsAndCapitalGains/components/positionDripDetails"),viewPath:"positionDripDetails",target:""}},A=function(e){if(f[e])return{name:f[e].name,model:{requestProfileSettingsMenuAda:t.globalContent.requestProfileSettingsMenuAda},spec:f[e].spec,methods:f[e].methods,viewPath:f[e].viewPath,target:f[e].target}},g=function(e){return i.executeCAV([[i.components[e.name],e.viewPath,{target:e.target}]])},E=function(e){e=e||!1;var t=A("accountDetails");i.register.components(this,[t]),i.executeCAV([[i.components[t.name],t.viewPath,{target:t.target}]]).then(function(){i.components&&i.components.accountDetails&&(i.components.accountDetails.loadDetails(e),i.context.exitDialogUtil.setListeners(i.components.accountDetails)),i.context.area.broadcast("renderMyProfileMenuMobile"),o.setupInvestmentDisclosures.call(this).then(function(){s.triggerInvestmentFocus.call(this)}.bind(this),function(e){i.context.logger.warn("Failed to setup Disclosures, still triggering focus",e),s.triggerInvestmentFocus.call(this)}.bind(this))}.bind(this))},y=function(){i.registry.destroyComponents()};i.onInit=function(){e("common/lib/API/contextValidation/contextValidationMixin")(this),t=i.context,i.context.on({loadPositionDetails:function(e){var t=l(e);if(!i.components[t]||!i.components[t].dataLoaded()){var r=A("positionDetails");r.name=t,r.target="#"+t,i.register.components(this,[r]),n.push(r.name),g.call(this,r).then(function(){i.components&&i.components[r.name]&&i.components[r.name].loadDetails(e,r.target)}.bind(this))}}.bind(this),savePreferences:function(e){n.forEach((function(t){var n=i.components[t].getUpdatedPositionsSettings();if(n.accountId){var a=r.array.find(e,(function(e){return e.accountId===n.accountId}));a?a.positionReinvestPreferences=n.positionReinvestPreferences:(a={accountId:n.accountId,positionReinvestPreferences:n.positionReinvestPreferences},e.push(a))}}));const t=function(e){return{reinvestPreferences:e?.map((e=>{const t={digitalAccountIdentifier:e?.accountId};return e.dividendPreference&&(t.dividendStrategyTypeName=e.dividendPreference),e.capitalGainPreference&&(t.capitalGainsDistributionCode=e.capitalGainPreference),e?.positionReinvestPreferences?.length&&(t.positionReinvestPreferences=e.positionReinvestPreferences.map((e=>{const t={securityIdentifier:e?.instrumentId,holdingTypeName:e?.securityType,securityTypeCode:e?.accountType};return e.dividendPreference&&(t.dividendStrategyTypeName=e.dividendPreference),e.capitalGainPreference&&(t.capitalGainsDistributionCode=e.capitalGainPreference),t}))),t}))}}(e),a=JSON.stringify(t);i.context.services.dividendsAndCapitalGains.updateReinvestmentSettingsExpApi(a).then(function(e){if(e.code=e.dripPreferenceActionStatusCode,e?.code!==u.SUCCESS||e?.errorResponses?.length){const t=p[e?.errorResponses?.[0]?.serviceErrorCode];return e.statusCode=t||m.NOT_MAPPED,i.context.logger.info("Partially saved drip preferences"),e}i.context.logger.info("Successfully saved drip preferences"),n.forEach((function(e){i.components[e].setInitialData()}),this),i.components.accountDetails.setSuccessState()}.bind(this),function(e){i.context.logger.error(c.DRIP.updateDripServiceFailure.code,c.DRIP.updateDripServiceFailure.message),i.components.accountDetails.setErrorState(e)}.bind(this)).then(function(e){e?.statusCode&&(y.call(this),n=[],E.call(this,e))}.bind(this)).catch(function(e){i.context.logger.error(c.DRIP.updateDripServiceFailure.code,c.DRIP.updateDripServiceFailure.message),i.components.accountDetails.setErrorState(e)}.bind(this))}.bind(this),checkFormDirty:function(){i.components.accountDetails.checkFormDirty()}.bind(this),clearStatusMessage:function(e){i.components.accountDetails.clearStatusMessage(),i.components[l(e)].clearStatusMessage()}.bind(this),"profileInvestmentsDrip/setTgtData":function(e){i.context.Api.modal.setTgtData(e.data,!1)}.bind(this),resetComponents:function(){for(var e=0;e<n.length;e++)i.components[n[e]].resetPositionComponent()}.bind(this)}),t.destroyPositionDetails=function(){for(var e=0,t=n.length;e<t;e++)i.components[n[e]].destroyPositionDetails()},i.context.Api={modal:new(e("common/lib/modalApi"))(this)}},i.index=function(e){if(e.cxo_profile_DripPreferencesRedesign)return i._renderMicroAppContainer();t.profileContainer.setPageProperties({containerClasses:"legacy-profile-styles"}),i.context.elementObserver.isInserted("#my-profile-page-content",function(){i.components&&(y.call(this),n=[]),E.call(this)}.bind(this)),i.components.accountDetails.model.set("isProfileDripPreferencesRedesignEnabled",!1)},i._renderMicroAppContainer=function(){return i.components.accountDripDetails.model.set("isProfileDripPreferencesRedesignEnabled",!0),i.executeCAV([i.components.accountDripDetails,"accountDripDetails",t.renderTarget])},i.requestMyInvestmentDistributionSettings=function(){return d.getFeatureTreatments(["cxo_profile_DripPreferencesRedesign"],{cxo_profile_DripPreferencesRedesign:!1}).then(i.index)}}})),define("profileArea/investments/fullyPaidLending/controllers/fullyPaidLending",[],(function(){"use strict";return function(e){var t=this;t.requestFullyPaidLending=function(){return[t.components.fullyPaidLending,"fullyPaidLending",e.renderTarget]}}})),define("profileArea/investments/fullyPaidLending/components/fullyPaidLending",[],(function(){"use strict";return{}})),define("profileArea/investments/beneficiaries/lib/beneficiariesFormatUtil",["require","profileArea/sharedLib/profileConstants","moment","appkit-utilities/formatters/number"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileConstants"),i=e("moment"),n=e("appkit-utilities/formatters/number"),r=function(e){return e||""},a=function(e,t,i,n){return r(e)+" "+r(t)+" "+r(i)+" "+r(n)},o=function(e){return e&&e.replace(/-/gi,"")};return{getBeneficiaryName:function(e){var t=e.type||e.beneficiaryType,i={INDIVIDUAL:function(){return a(e.firstName,e.middleName,e.lastName,e.suffixName)},TRUST:function(){return r(e.trustName)},ENTITY:function(){return r(e.entityName)}};return i[t]&&i[t]()||""},getFullName:a,formatPercentage:function(e){return n.percentageFormatter(e,!1,"hyphenSymbol")},formatDOB:function(e){return(e||"").match(/\d*/g).join("").match(/(\d{0,2})(\d{0,2})(\d{0,4})/).slice(1).join("/").replace(/\/*$/g,"")},formatDate:function(e,t,n){return t=t||"L",n=n||"",e?i(e).format(t):n},unFormatIdentificationType:o,formatIdentificationType:function(e,t){return t?e.substr(0,2)+"-"+e.substr(2,7):e.substr(0,3)+"-"+e.substr(3,2)+"-"+e.substr(5)},getTaxId:function(e){var t={SSN:function(){return e.socialSecurityNumber},TIN:function(){return e.employerIdentificationNumber},ITIN:function(){return e.individualTaxpayerIdentificationNumber}};return t[e.identificationType]&&t[e.identificationType]()},getTaxIdType:function(e){return e.identificationType||t.NO_VALUE},formatMaskTaxIdNumbers:function(e,i){i=i===t.NO_VALUE?"SSN":i;var n=e&&o(e).substr(-4),r=t.IDENTIFICATION_TYPES[i].mask;return r.substring(0,r.length-4)+n},allocationFormat:function(e){return(e||"").replace(/[^\d.]/g,"")}}})),define("profileArea/investments/beneficiaries/lib/beneficiariesUtil",["require","profileArea/sharedLib/profileConstants","blue/util","blue/siteMode","common/utility/alertUtility","profileArea/investments/beneficiaries/lib/beneficiariesFormatUtil","appkit-utilities/common/mediaQueryListener"],(function(e){"use strict";var t,i=e("profileArea/sharedLib/profileConstants"),n=e("blue/util"),r=e("blue/siteMode"),a=e("common/utility/alertUtility"),o=e("profileArea/investments/beneficiaries/lib/beneficiariesFormatUtil"),s={},c={},l={},d={},u=i.BENEFICIARIES_TYPES.INDIVIDUAL,p=i.BENEFICIARIES_CATEGORIES.PRIMARY,m=i.BENEFICIARIES_CATEGORIES.CONTINGENT,f="manageBeneficiaries",A="beneficiariesUpdate",g="manageBeneficiaries.confirmedAccounts",E=e("appkit-utilities/common/mediaQueryListener"),y=function(e,t){var i={SSN:function(){e.socialSecurityNumber=o.formatIdentificationType(t)},TIN:function(){e.employerIdentificationNumber=o.formatIdentificationType(t,!0)},ITIN:function(){e.individualTaxpayerIdentificationNumber=o.formatIdentificationType(t)}};i[e.identificationType]&&i[e.identificationType](t)},h=function(e){var t=function(e){return n.array.groupBy(e,(function(e){return e.beneficiaryDesignation}))}(e);return Object.keys(t).forEach((function(e){t[e]=function(e){return(e||[]).sort((function(e,t){return parseFloat(e.beneficiaryAllocationPercentage)>=parseFloat(t.beneficiaryAllocationPercentage)?-1:1}))}(t[e])})),t},v=function(e,t,i){return{key:e,target:t,isImportant:i}},C=function(e){return"#"+a.getFocusElementId(e)},_={SUMMARY_INITIAL_FOCUS:v(f,"#beneficiariesSummaryHeader"),VIEW_TABLE_INITIAL_FOCUS:v(f,"#beneficiariesViewTableHeader"),BENEFICIARIES_SUMMARY_ERROR:v(f,C("beneficiariesSummaryErrorHeader")),BENEFICIARIES_DETAILS_ERROR:v(f,C("beneficiariesDetailsErrorHeader")),UPDATE_INITIAL_FOCUS:v(A,"#beneficiariesUpdateHeader"),ADDEDIT_INITIAL_FOCUS:v(A,"#addEditBeneficiaryHeader"),ADDEDIT_TRUSTEE_INITIAL_FOCUS:v(A,"#addEditTrusteeHeader"),REVIEW_INITIAL_FOCUS:v(A,"#beneficiariesUpdateHeader"),AUTHORIZE_INITIAL_FOCUS:v(A,"#beneficiariesUpdateHeader"),CONFIRMATION_INITIAL_FOCUS:v(A,"#beneficiariesUpdateHeader"),CANCEL_UPDATE_FOCUS:v(f,"#beneficiariesSummaryHeader"),CLOSE_CONFIRMATION_FOCUS:v(f,"#beneficiariesSummaryHeader"),BACK_TO_REVIEW_FOCUS:v(A,".beneficiaries-update-footer #benFooterNext"),BACK_TO_UPDATE_FOCUS:v(A,"beneficiaries-update-footer #benFooterNext"),CANCEL_DIRTY_FORM_UPDATE_FOCUS:v(A,".beneficiaries-update-footer #benFooterCancel"),CANCEL_DIRTY_FORM_OVERLAY_FOCUS:v(A,"#cancelBeneficiaryDetails"),BENEFICIARY_TYPE_INDIVIDIAL_FOCUS:v(A,"#header-beneficiaryType"),UPDATE_BENEFICIARIES_HEADER_FOCUS:v(A,C("beneficiaries-update-header-error")),BENEFICIARY_FORM_ERROR:v(A,C("beneficiaryFormError")),BENEFICIARY_CITY_STATE_ERROR:v(A,C("addressServiceError")),TRUSTEE_FORM_ERROR:v(A,C("trusteeFormError")),AUTHORIZE_BENEFICIARIES_HEADER_FOCUS:v(A,C("beneficiaries-authorize-header-error"),!0),CANCEL_VIEW_TABLE_FOCUS:v(f,"#beneficiariesViewLink"),ACCOUNT_BENEFICIARIES_ERROR_FOCUS:"",BENEFICIARIES_DETAILS_ERROR_FOCUS:"",VALIDATE_ADDRESS_SERVICE_ERROR_FOCUS:""},S=function(e){return"string"==typeof e?_[e]:e},T=function(e){return Object.keys(e).forEach((function(t){void 0!==e[t]&&0!==e[t].length||delete e[t]})),e},N=function(e,t){var n=t===u,r=i.PER_STIRPES_STATUSES,a=e?r.SELECTED:r.NOT_SELECTED;return n?a:r.NOT_APPLICABLE},I={INTERNATIONAL:function(){return!1},DOMESTIC:function(){var e=this.model.get("domesticAddressBlock"),t={addressLine1:e.streetAddress,addressLine2:e.apartmentNumber,zipCode:e.zipCode,city:e.cityId,stateCode:e.stateId,countryCode:"USA"};return!(!e.stateId||!e.cityId)&&t},CANADA:function(){return!1},MILITARY:function(){return!1}},b={generateBenComName:function(e){return"componentBeneficiariesDetails_"+e},generateBenViewName:function(e){return"viewBeneficiariesDetails_"+e},getBeneficiaryDesignationContent:function(e){return s[e]},setBeneficiaryDesignationContent:function(e,t){s[e]=t},getBeneficiaryTypeContent:function(e){return c[e]},setBeneficiaryTypeContent:function(e,t){c[e]=t},getIdentificationTypeContent:function(e){return l[e]},setIdentificationTypeContent:function(e,t){l[e]=t},getPerStirpesStatusContent:function(e){return d[e]},setPerStirpesStatusContent:function(e,t){d[e]=t},getSortedGroupBeneficiaries:h,getSortedUngroupBeneficiaries:function(e){var t=h(e),i=[];return[p,m].forEach((function(e){(t[e]||[]).forEach((function(e){i.push(e)}))})),i},getValidAccountId:function(e,t){var i=e||[],n=parseInt(t);return i.filter((function(e){return e.accountId===n})).length>0?n:i[0]&&i[0].accountId},setTaxId:y,getAccountDetails:function(e,t){var i=e||[],n=parseInt(t);return i.filter((function(e){return e.id===n}))[0]},fetchContentKeyVariationsList:function(e,t,i,n){var r=this.context.settings,a=r.get("LOCALIZED_CONTENT_app",r.Type.ENV).GLOBAL,o=[];if(a)return Object.keys(a).forEach((function(i){if(i.split(".")[0]===e){var n={};n.value=t?a[i]:i.split(".")[1],n.name=a[i],o.push(n)}})),i&&function(e,t){e.sort((function(e,i){var n=e[t].toLowerCase(),r=i[t].toLowerCase();return n>r?1:n<r?-1:0}))}(o,n),o},focusTypeConstants:{SUMMARY_INITIAL_FOCUS:"SUMMARY_INITIAL_FOCUS",VIEW_TABLE_INITIAL_FOCUS:"VIEW_TABLE_INITIAL_FOCUS",BENEFICIARIES_SUMMARY_ERROR:"BENEFICIARIES_SUMMARY_ERROR",BENEFICIARIES_DETAILS_ERROR:"BENEFICIARIES_DETAILS_ERROR",UPDATE_INITIAL_FOCUS:"UPDATE_INITIAL_FOCUS",ADDEDIT_INITIAL_FOCUS:"ADDEDIT_INITIAL_FOCUS",ADDEDIT_TRUSTEE_INITIAL_FOCUS:"ADDEDIT_TRUSTEE_INITIAL_FOCUS",REVIEW_INITIAL_FOCUS:"REVIEW_INITIAL_FOCUS",AUTHORIZE_INITIAL_FOCUS:"AUTHORIZE_INITIAL_FOCUS",CONFIRMATION_INITIAL_FOCUS:"CONFIRMATION_INITIAL_FOCUS",CANCEL_UPDATE_FOCUS:"CANCEL_UPDATE_FOCUS",CLOSE_CONFIRMATION_FOCUS:"CLOSE_CONFIRMATION_FOCUS",BACK_TO_REVIEW_FOCUS:"BACK_TO_REVIEW_FOCUS",BACK_TO_UPDATE_FOCUS:"BACK_TO_UPDATE_FOCUS",CANCEL_DIRTY_FORM_OVERLAY_FOCUS:"CANCEL_DIRTY_FORM_OVERLAY_FOCUS",CANCEL_DIRTY_FORM_UPDATE_FOCUS:"CANCEL_DIRTY_FORM_UPDATE_FOCUS",BENEFICIARY_TYPE_INDIVIDIAL_FOCUS:"BENEFICIARY_TYPE_INDIVIDIAL_FOCUS",MAXIMUM_ERROR_BENEFICIARIES_FOCUS:"MAXIMUM_ERROR_BENEFICIARIES_FOCUS",BENEFICIARY_FORM_ERROR:"BENEFICIARY_FORM_ERROR",BENEFICIARY_CITY_STATE_ERROR:"BENEFICIARY_CITY_STATE_ERROR",TRUSTEE_FORM_ERROR:"TRUSTEE_FORM_ERROR",AUTHORIZE_BENEFICIARIES_HEADER_FOCUS:"AUTHORIZE_BENEFICIARIES_HEADER_FOCUS",CANCEL_VIEW_TABLE_FOCUS:"CANCEL_VIEW_TABLE_FOCUS"},focusDetail:_,doFocus:function(e,i){var n;(n=i?S(i):t)&&e.set(n.key+".focusType",n.target),n&&e.set(n.key+".focusType",null),t=null},configFocus:function(e){var i=S(e);t&&t.isImportant&&i&&!i.isImportant||(t=i)},modelServiceBeneficiaryMapping:function(e,t,n,r){var a=i.BENEFICIARY_MODEL_SERVICE_MAPPING;return n?(Object.keys(a).forEach((function(i){var n=a[i];t[n]=e[i]})),r?T(t):t):(Object.keys(a).forEach((function(i){var n=a[i];e[i]=t[n]})),r?T(e):e)},modelServiceBeneficiaryMappingSDAI:function(e,t,n,r){var a=i.BENEFICIARY_MODEL_SERVICE_MAPPING_SDAI;return n?(Object.keys(a).forEach((function(i){var n=a[i];t[n]=e[i]})),r?T(t):t):(Object.keys(a).forEach((function(i){var n=a[i];e[i]=t[n]})),r?T(e):e)},formatRequestFormData:function(e,t){var n=o.getTaxId(t);n&&(e.taxId=n.replace(/-/g,"")),e.type=i.BENEFICIARY_TYPE_SERVICE_DATA_MAP[t.beneficiaryType],t.addressCategoryId&&(e.addressType=i.ADDRESS_SERVICE_DATA_MAP[t.addressCategoryId]),t.beneficiaryRelationship&&(e.relationship=i.SPOUSE_SERVICE_DATA_MAP[t.beneficiaryRelationship]),t.suffixName&&(e.suffix=i.BENEFICIARY_SUFFIX_MODEL_SERVICE_MAPPING[t.suffixName]),t.dateOfBirth&&(e.dob=o.formatDate(t.dateOfBirth,"YYYYMMDD")),t.trustEstablishedDate&&(e.trustCreationDate=o.formatDate(t.trustEstablishedDate,"YYYYMMDD")),e.allocation=parseFloat(e.allocation),t.beneficiaryType===u&&(e.perStirpesIndicator=t.perStirpesStatus===i.PER_STIRPES_STATUSES.SELECTED),t.trusteeDetails&&t.trusteeDetails.length&&(e.trustees=[],t.trusteeDetails.forEach((function(t){var n=i.BENEFICIARY_TRUSTEE_MODEL_SERVICE_MAPPING,r={};Object.keys(n).forEach((function(e){var a=n[e];r[a]=t[e],t.suffixName&&(r.suffix=i.BENEFICIARY_SUFFIX_MODEL_SERVICE_MAPPING[t.suffixName])})),e.trustees.push(r)})))},formatResponseFormData:function(e,t){t.dob&&(e.dateOfBirth=o.formatDate(t.dob)),t.trustCreationDate&&(e.trustEstablishedDate=o.formatDate(t.trustCreationDate)),e.addressCategoryId=i.ADDRESS_VIEW_DATA_MAP[t.addressType],e.beneficiaryType=i.BENEFICIARY_TYPE_VIEW_DATA_MAP[t.type],t.relationship&&(e.beneficiaryRelationship=i.SPOUSE_VIEW_DATA_MAP[t.relationship]),t.suffix&&(e.suffixName=i.BENEFICIARY_SUFFIX_SERVICE_MODEL_MAPPING[t.suffix]),t.taxId&&y(e,t.taxId),e.beneficiaryName=o.getBeneficiaryName(e),e.perStirpesStatus=N(t.perStirpesIndicator,t.type),e.trusteeDetails&&e.trusteeDetails.length&&t.trustees.forEach((function(e){e.suffix&&(e.suffixName=i.BENEFICIARY_SUFFIX_SERVICE_MODEL_MAPPING[e.suffix],delete e.suffix)}))},formatResponseFormDataSDAI:function(e,t){t.birthDate&&(e.dateOfBirth=o.formatDate(t.birthDate)),t.trustCreationDate&&(e.trustEstablishedDate=o.formatDate(t.trustCreationDate)),t.relationshipIdentifier&&(e.beneficiaryRelationship=i.SPOUSE_VIEW_DATA_MAP[t.relationshipIdentifier]),t.suffixName&&(e.suffixName=i.BENEFICIARY_SUFFIX_SERVICE_MODEL_MAPPING[t.suffixName]),t.taxIdentifier&&y(e,t.taxIdentifier),e.addressCategoryId=i.ADDRESS_VIEW_DATA_MAP[t.addressTypeCode],e.beneficiaryType=i.BENEFICIARY_TYPE_VIEW_DATA_MAP[t.beneficiaryRoleTypeCode],e.beneficiaryName=o.getBeneficiaryName(e),e.perStirpesStatus=N(t.probateAvailableIndicator,t.beneficiaryRoleTypeCode),e.trusteeDetails&&e.trusteeDetails.length&&t.trustees.forEach((function(e){e.suffixName&&(e.suffixName=i.BENEFICIARY_SUFFIX_SERVICE_MODEL_MAPPING[e.suffixName])}))},byPassComponentFields:function(e,t){var i={};Object.keys(e.spec.data).forEach((function(e){-1===t.indexOf(e)&&(i[e]=1)})),e.model.set("byPass",i)},handleAddressTrilium:function(e){return I[e].call(this)},getSiteMode:function(e){return r&&r.isModeEnabled(e)},isXs:()=>E.currentBreakpoint===E.BREAKPOINT.XS,splitBeneficiaries:function(e){var t={};return t[i.BENEFICIARIES_CATEGORIES.PRIMARY]=[],t[i.BENEFICIARIES_CATEGORIES.CONTINGENT]=[],e.forEach((function(e){e.trusteeDetails&&(e.trusteeDetailsExpand=!1),e.beneficiaryDesignation===i.BENEFICIARIES_CATEGORIES.PRIMARY&&t[i.BENEFICIARIES_CATEGORIES.PRIMARY].push(e),e.beneficiaryDesignation===i.BENEFICIARIES_CATEGORIES.CONTINGENT&&t[i.BENEFICIARIES_CATEGORIES.CONTINGENT].push(e)})),t},getBeneficiaryContent:function(e,t,i){return e.get({area:{name:"profileArea"},spec:{name:"MANAGE_BENEFICIARIES"}},t,i)},getAttestationState:function(e,t,n,r){var a=e.get(g);if(a){if(r&&!0===a[r])return i.BENEFICIARY_ATTESTATION_STATE.CONFIRMED;if(n!==i.BENEFICIARIES_UPDATE_STATUS.COMPLETED)return i.BENEFICIARY_ATTESTATION_STATE.PENDING;if(!0===t)return i.BENEFICIARY_ATTESTATION_STATE.REQUIRED}return i.BENEFICIARY_ATTESTATION_STATE.ATTESTED},initAttestedStorage:function(e){var t=null;if(e.context.attestationDcFlag){var i=e.context.memoryStore;(t=i.get(g))||(t={},i.set(g,t))}return e.model.set(g,t),t},getPerStirpesStatus:N,getOverlayNameSuffix:function(e){return e?"_"+e:""},isAttestationOverlay:function(e){return e&&e===i.BENEFICIARY_TABLE_VIEW_OVERLAY_NAME.ATTESTATION||e===i.BENEFICIARY_TABLE_VIEW_OVERLAY_NAME.CONFIRMATION}};return n.object.extend(b,o),b})),define("profileArea/investments/beneficiaries/dataProviders/benDataProviderHelper",["require","blue/util","profileArea/sharedLib/profileConstants"],(function(e){"use strict";var t,i,n,r=e("blue/util"),a=e("profileArea/sharedLib/profileConstants"),o=a.UPDATE_SERVICE_ERROR_TYPES.SYSTEM_FAILURE,s=a.UPDATE_SERVICE_ERROR_TYPES.BENEFICIARY_DETAILS_NOT_AVAILABLE,c={target:"#spinner-container",delay:300},l=function(){return{spinner:c}},d=function(){return r.object.extend.apply(null,arguments)},u=function(e){if(Array.isArray(e)){var t=[];return e.forEach((function(e){var i={};Object.keys(e).forEach((function(t){a.BENEFICIARY_MODEL_SERVICE_MAPPING_LEGACY_TO_SDAI[t]&&(i[a.BENEFICIARY_MODEL_SERVICE_MAPPING_LEGACY_TO_SDAI[t]]=e[t])})),t.push(i)})),t}return e},p=function(e,t,i,n){return{accountIdentifier:e.accountId,beneficiaries:u(t),applicationAttestationIndicator:!0,accountClassCode:i,version:n}};return{initContext:function(e){t=e,n=e.context.dcu.dynamicContent},initUpdateContext:function(e){i=e},requestBenAccountData:function(){var e=t.context.attestationDcFlag;return e={"retrieve-beneficiary-accounts-indicator":!!t.context.attestationDcFlag},t.dataProvider.request("beneficiaries.getBeneficiariesAccountOptionsSDAI",d(l(),e))},requestBeneficiariesDetailsData:function(e,i){return t.dataProvider.request("beneficiaries.getBeneficiariesDetailsSDAI",d(l(),{"account-identifier":e}),{focusGoPageTitle:i})},getBeneficiariesLegalAgreement:function(e){var i,n=t.context.memoryStore,r=n.get("beneficiaryLegalAgreement."+e);if(i=(i=r?Promise.resolve(r):t.context.services.beneficiaries[{TAXABLE:"getBeneficiariesTodLegalAgreement",RETIREMENT:"getBeneficiariesRetireLegalAgreement"}[e]]().then((function(t){var i=t.result.category;return n.set("beneficiaryLegalAgreement."+e,i),i}))).then((function(e){return{legalAgreementDisclosures:e.legalAgreements[0].sections[0].subSection,legalAgreementHeader:e.legalAgreements[0].title,consentVersion:e.uniqueVersionId}})),e===a.ACCOUNT_TYPES.TAXABLE){var o,s=n.get("beneficiaryPdfJson");o=s?Promise.resolve(s):t.context.services.beneficiaries.getBeneficiariesTodLegalAgreementPdf().then((function(e){return n.set("beneficiaryPdfJson",e),e})),i=Promise.all([i,o]).then((function(e){var t=e[0],i=e[1];return t.todPdfLink=i.result.legalAgreement.pdfPath,t.consentVersion=i.result.legalAgreement.uniqueVersionId,t}))}return i},saveBeneficiaries:function(e,t,n,r){var a=p(e,t,n,r);return i.dataProvider.request("beneficiaries.saveBeneficiariesSDAI",JSON.stringify(a))},authorizeBeneficiaries:function(e,i,n,r){0===i.length&&(i=null);var a=p(e,i,n,r);return t.context.services.beneficiaries.saveBeneficiariesSDAI(JSON.stringify(a))},dcuDynamicContent:function(e,i,r){n.set(t.components[e],i,r)},getUpdateServiceError:function(e){var t,i=o;return(400===(t=e.status)||403===t)&&(i=s),i}}})),define("profileArea/investments/beneficiaries/dataProviders/beneficiariesSummary",["require","profileArea/investments/beneficiaries/lib/beneficiariesUtil","profileArea/investments/beneficiaries/dataProviders/benDataProviderHelper","profileArea/sharedLib/profileConstants"],(function(e){"use strict";var t=e("profileArea/investments/beneficiaries/lib/beneficiariesUtil"),i=e("profileArea/investments/beneficiaries/dataProviders/benDataProviderHelper"),n=e("profileArea/sharedLib/profileConstants"),r=n.MILITARY_POST_OFFICE_TYPES.APO,a="SYSTEM_FAILURE";function o(e,i){var n=[];return i.forEach((function(i){var r={};r.accountName=i.accountNickname,r.accountMaskNumber=i.maskedAccountNumber,r.accountType=i.accountCategoryCode,r.accountId=i.accountIdentifier,r.attestationRequired=i.applicationAttestationIndicator,r.updateStatus=i.lastUpdateAttemptStatusCode,r.accountEntitlement=i.digitalProfileAccountEntitlementCode,r.attestationState=t.getAttestationState(e,i.applicationAttestationIndicator,i.lastUpdateAttemptStatusCode,i.accountIdentifier),n.push(r)})),n}function s(e){var t={MILITARY:function(){e.countryCode="",e.cityName=r}};t[e.addressCategoryId]&&t[e.addressCategoryId]()}return{beneficiaries:{getBeneficiariesAccountOptionsSDAI:{success:function(e,i,n,r){const a=t.isXs()?r.get("manageBeneficiaries.xsViewMode"):"view";r.set("manageBeneficiaries",{investmentAccounts:o(r,i.accountOptions),accountListAvailable:!0,xsViewMode:a,isXs:t.isXs()}),t.doFocus(r,t.focusTypeConstants.SUMMARY_INITIAL_FOCUS)},failure:function(e,n,r,o){var s="manageBeneficiaries",c="manageBeneficiariesErrorAdvisory",l="manageBeneficiariesErrorHeader",d="READ_ONLY_MODE";o.set("manageBeneficiaries",{accountListAvailable:!1}),t.getSiteMode("readOnly")?(i.dcuDynamicContent(s,c,d),i.dcuDynamicContent(s,l,d)):(i.dcuDynamicContent(s,c,a),i.dcuDynamicContent(s,l,a)),t.doFocus(o,t.focusTypeConstants.BENEFICIARIES_SUMMARY_ERROR)}},getBeneficiariesDetailsSDAI:{success:function(e,i,r,a){var o,c,l,d=function(e){var i=[];return e.forEach((function(e){var n={};t.modelServiceBeneficiaryMappingSDAI(n,e),t.formatResponseFormDataSDAI(n,e),s(n),i.push(n)})),i}(i.beneficiaries),u=i.electronicConsentVersionIdentifier,p=i.lastUpdateAttemptStatusCode,m=e.params["account-identifier"];a.set(t.generateBenComName(m),{accountBeneficiaries:t.getSortedUngroupBeneficiaries(d),accountBeneficiariesGroup:t.splitBeneficiaries(d),accountEntitlement:u,updateStatus:p,accountInfo:(o=a.get("manageBeneficiaries.investmentAccounts"),c=m,l=o.filter((function(e){return e.accountId===c}))||[],l[0]),classCode:i.accountClassCode,isXs:t.isXs(),accountId:m,beneficiariesDescription:a.get("manageBeneficiaries.beneficiariesDescription"),requestBeneficiariesTypeDetailsLabel:a.get("manageBeneficiaries.requestBeneficiariesTypeDetailsLabel"),attestationRequired:i.applicationAttestationIndicator,attestationState:t.getAttestationState(a,i.applicationAttestationIndicator,p,m)}),e.options.focusGoPageTitle?t.doFocus(a,t.focusTypeConstants.SUMMARY_INITIAL_FOCUS):u&&u!==n.BENEFICIARIES_ENTITLEMENTS.ALL||p===n.BENEFICIARIES_UPDATE_STATUS.INPROGRESS?t.doFocus(a,t.focusTypeConstants.BENEFICIARIES_DETAILS_ERROR):t.doFocus(a,{key:"manageBeneficiaries",target:"#button-beneficiaryAccount_"+m})},failure:function(e,n,r,o){o.set(t.generateBenComName(e.params.accountId),{beneficiariesDetailsNotAvailable:!0}),i.dcuDynamicContent(t.generateBenComName(e.params.accountId),"manageBeneficiaryDetailsErrorHeader",a),i.dcuDynamicContent(t.generateBenComName(e.params.accountId),"manageBeneficiaryDetailsErrorAdvisory",a),t.doFocus(o,t.focusTypeConstants.BENEFICIARIES_DETAILS_ERROR)}}}}})),define("profileArea/investments/beneficiaries/dataProviders/benCommonMapper",[],(function(){"use strict";return{beneficiaries:{getBeneficiariesTypeDetails:{success:function(e,t,i,n){var r=function(e){var t={};return t.primaryBeneficiariesDescription=e[0].description,t.contingentBeneficiariesDescription=e[1].description,t.transferOfDeathBeneficiariesDescription=e[2].description,t}(t.result["common-content-group"].contents);n.set("beneficiariesImportantInfo",r),n.set("beneficiariesImportantInfo.updateFormLink",Date.now())},failure:function(){}}}}})),define("profileArea/investments/beneficiaries/lib/beneficiariesHybridUtil",["require","common/lib/utility/hybridMixin","appkit-utilities/jsBridge/handlers"],(function(e){"use strict";var t=e("common/lib/utility/hybridMixin"),i=e("appkit-utilities/jsBridge/handlers"),n="xsViewMode",r="UPDT_BENE",a="REVW_BENE",o="BENE_LAND",s="CONF_BENE",c="AUTH_BENE",l="ADET_BENE",d="VIEW_ACCT",u="ACCT_DETA",p="IMPT_INFO",m=function(e,t,d){if(hybrid){var m=e.context.hybridHelper&&e.context.hybridHelper.webNativeMessenger,f=function(){e.model.get(n);var r,s={VIEW_ACCT:"handleBackButtonAction",REVW_BENE:"requestPreviousPage",AUTH_BENE:"requestPreviousStep"};return[a,c].indexOf(t)>-1?e.registry.getComponent("beneficiariesUpdateFooter")[s[t]]():(r=s[t])&&e&&e[r](d),[o].indexOf(t)>-1&&i.jsHandlers.shouldNativeHandleButtonPressed("BACK"),[o].indexOf(t)>-1},A=e=>{const t=document.getElementById(e);t&&t.close()},g=function(){t===u?e.closeBeneficiariesViewTable():t===l?A("addEditBeneficiarySlideIn"):t===p?A("beneficiariesImportantInfoOverlay"):t===s&&e.registry.getComponent("beneficiariesUpdateFooter").requestSummaryBeneficiaries()},E={isHybridBackButtonRequired:function(){return f()},isCloseSelected:function(){return g(),!0}};m.setShouldNativeHandleButtonPressedCallBack((function(i){return"BACK"===i?!f():"CLOSE"===i?(g(),!1):"CANCEL"!==i||([r,a,c].indexOf(t)>-1&&e.registry.getComponent("beneficiariesUpdateFooter").exitBeneficiariesUpdate(),!1)}),E)}};return{initBeneHybridHeaderBar:function(e,i,f,A,g){if(hybrid){t.call(e),m(e,i),g;var E=e.model.get(n)||e.model.get("manageBeneficiaries.xsViewMode"),y=((e,t)=>({showHamburgerMenu:!1,showBackArrow:[o,d,a,c].indexOf(e)>-1,showCancel:[r,a,c].indexOf(e)>-1,showClose:[u,l,p,s].indexOf(e)>-1,pageTitle:t}))(i,f||function(e,t){var i="";return("view"===t||"account"===t)&&(i=e.model.get("beneficiariesHeader")),i}(e,E));(e.context.hybridHelper&&e.context.hybridHelper.webNativeMessenger).updateNativeNavigationBar(y)}},setupNativeButtonCallbacks:m,UPDT_BENE:r,REVW_BENE:a,AUTH_BENE:c,BENE_LAND:o,CONF_BENE:s,ADET_BENE:l,VIEW_ACCT:d,ACCT_DETA:u,IMPT_INFO:p}})),define("profileArea/investments/beneficiaries/components/beneficiariesSummaryDetails",["profileArea/sharedLib/profileConstants","appkit-utilities/analytics/overlay","profileArea/investments/beneficiaries/lib/beneficiariesUtil","profileArea/investments/beneficiaries/lib/beneficiariesHybridUtil","profileArea/sharedLib/dashboardSettings"],(function(e,t,i,n,r){"use strict";var a,o,s,c=e.BENEFICIARIES_TYPES.INDIVIDUAL,l=e.BENEFICIARIES_TYPES.TRUST,d=e.BENEFICIARIES_TYPES.ENTITY,u=e.BENEFICIARIES_CATEGORIES.PRIMARY,p=e.BENEFICIARIES_CATEGORIES.CONTINGENT,m=e.IDENTIFICATION_TYPES.SSN,f=e.IDENTIFICATION_TYPES.ITIN,A=e.IDENTIFICATION_TYPES.TIN,g=e.PER_STIRPES_STATUSES.NOT_APPLICABLE,E=e.PER_STIRPES_STATUSES.SELECTED,y=e.PER_STIRPES_STATUSES.NOT_SELECTED,h=e.BENEFICIARIES_ENTITLEMENTS.ALL,v={VIEW_ONLY:{header:"USER_NOT_AUTHORIZED_TO_UPDATE",advisory:"USER_NOT_AUTHORIZED_TO_UPDATE"},NO_ACCESS:{header:"USER_NOT_AUTHORIZED_TO_VIEW",advisory:"USER_NOT_AUTHORIZED_TO_VIEW"},NOT_APPLICABLE:{header:"USER_NOT_AUTHORIZED",advisory:"USER_NOT_AUTHORIZED"}},C=function(e,i){return a.context.controller.emit("requestAccountBeneficiariesInformation",{accountInfo:a.model.get("accountInfo"),accountBeneficiaries:a.model.get("accountBeneficiaries"),tableViewOverlayName:e,classCode:a.model.get("classCode")}),t.showOverlay(a,e,i)};return{init:function(){a=this,o=r.requestBeneficiariesDetailsUpdateUrl,a.context.globalContentMixin.call(a,["percentageSymbol","warningAda","importantAda","informationAda","overlayAnnouncementAda","checkMarkAda","yesLabel","doubleHyphenSymbol","notApplicableLabel"]),a.model.set("accountBeneficiariesHeader",""),a.model.set("accountBeneficiariesAdvisory",""),a.model.set("manageBeneficiaryDetailsErrorHeader",""),a.model.set("manageBeneficiaryDetailsErrorAdvisory",""),a.model.set("enableBeneficiaryAttestation",a.context.attestationDcFlag),s=a.context.dcu.dynamicContent,i.setBeneficiaryTypeContent(c,s.get(a,"beneficiaryTypeOption",c)),i.setBeneficiaryTypeContent(d,s.get(a,"beneficiaryTypeOption",d)),i.setBeneficiaryTypeContent(l,s.get(a,"beneficiaryTypeOption",l)),i.setBeneficiaryDesignationContent(u,s.get(a,"beneficiaryDesignationOption",u)),i.setBeneficiaryDesignationContent(p,s.get(a,"beneficiaryDesignationOption",p)),i.setIdentificationTypeContent(m.key,s.get(a,"identificationTypeOptions",m.variation)),i.setIdentificationTypeContent(f.key,s.get(a,"identificationTypeOptions",f.variation)),i.setIdentificationTypeContent(A.key,s.get(a,"identificationTypeOptions",A.variation)),i.setPerStirpesStatusContent(g,a.model.get("notApplicableLabel")),i.setPerStirpesStatusContent(E,a.model.get("yesLabel")),i.setPerStirpesStatusContent(y,a.model.get("doubleHyphenSymbol")),["confirmBeneficiariesWarningHeader","beneficiariesConfirmedHeader"].forEach((e=>{a.model.set(e,i.getBeneficiaryContent(s,e))}))},requestAccountBeneficiariesInformation:function(){a=this,C(e.BENEFICIARY_TABLE_VIEW_OVERLAY_NAME.INFORMATION,"requestAccountBeneficiariesInformation")},requestConfirmBeneficiaries:function(){a=this,C(e.BENEFICIARY_TABLE_VIEW_OVERLAY_NAME.ATTESTATION,"requestConfirmBeneficiaries")},setBeneficiariesMessageData:function(){var e=a.model.get("accountEntitlement");e&&e!==h&&s.setMultiple(a,[{key:"accountBeneficiariesHeader",variation:v[e].header},{key:"accountBeneficiariesAdvisory",variation:v[e].advisory}])},updateAccountBeneficiaries:function(){(a=this).context.state(o,{ai:a.model.get("accountInfo").accountId+""}),a.context.area.broadcast("dataOnUpdateBeneficiaries",{accountBeneficiaries:a.model.get("accountBeneficiaries"),accountInfo:a.model.get("accountInfo"),classCode:a.model.get("classCode")})},requestBeneficiariesTypeDetails:function(){n.initBeneHybridHeaderBar(a,n.IMPT_INFO,a.model.get("beneficiariesHeader")),a.context.controller.emit("registerBeneficiariesImportantInfo"),t.showOverlay(a,"beneficiaryAdvisoriesOverlay","requestBeneficiariesTypeDetails")},handleBackButtonAction:function(){a.context.controller.emit("handleBackButtonAction")}}})),define("bluespec/manage_beneficiary_details",[],(function(){return{name:"MANAGE_BENEFICIARY_DETAILS",data:{accountId:{type:"Numbers",exportable:!0},accountName:{type:"Description"},accountMaskNumber:{type:"Description"},accountType:{type:"Description",exportable:!0},accountBeneficiaries:{type:"List",items:{beneficiaryDesignation:"Description",beneficiaryName:"Description",beneficiaryType:"Description",firstName:"Description",middleName:"Description",lastName:"Description",suffixName:"Description",beneficiaryAllocationPercentage:"Percentage",beneficiaryInformation:"Description",mailingAddressLineOne:"AddressLine",mailingAddressLineTwo:"AddressLine",mailingAddressLineThree:"AddressLine",beneficiaryRelationship:"Description",accountBeneficiaryMessage:"Description",dateOfBirth:"Noop",trustName:"Description",entityName:"Description",identificationType:"Description",socialSecurityNumber:"Description",individualTaxpayerIdentificationNumber:"Description",employerIdentificationNumber:"Description",trustEstablishedDate:"Noop",cityName:"Description",stateId:"Description",stateName:"Description",countryId:"Description",countryName:{type:"Description",exportable:!0},zipCode:"Description",trusteeDetails:{type:"List",items:{firstName:"Description",middleName:"Description",lastName:"Description",suffixName:"Description"}},perStirpesStatus:"Noop"}},trusteeDetails:{type:"List",items:{firstName:"Noop",middleName:"Noop",lastName:"Noop",suffixName:"Noop"}},primaryBeneficiariesTotalAllocation:{type:"Percentage"},contingentBeneficiariesTotalAllocation:{type:"Percentage"},transferOfDeathBeneficiariesTotalAllocation:{type:"Percentage"},beneficiaryDesignations:{type:"List",items:{beneficiaryDesignationId:"Description",beneficiaryDesignation:"Description"}},beneficiaryTypes:{type:"List",items:{beneficiaryTypeId:"Description",beneficiaryType:"Description"}},identificationTypes:{type:"List",items:{identificationTypeId:"Description",identificationType:"Description"}},nameSuffixes:{type:"List",items:{suffixId:"Description",suffixName:"Description"}},relationshipOptions:{type:"List",items:{relationshipOptionId:"Description",relationshipOption:"Description"}},beneficiaryDesignationId:{type:"Description"},beneficiaryTypeId:{type:"Description"},identificationTypeId:{type:"Description"},suffixId:{type:"Description"},relationshipOptionId:{type:"Description"},addNewTrusteeIndicator:{type:"OnOff"},beneficiaryDisclaimers:{type:"Description"},spousalAdvisories:{type:"Description"},spousalInformationShownState:{type:"OnOff"},trustAdvisories:{type:"Description"},trustInformationShownState:{type:"OnOff"},transferOnDeathAdvisories:{type:"Description"},transferOnDeathInformationShownState:{type:"OnOff"},unmaskIdentificationNumber:{type:"OnOff"},accountEntitlement:{type:"Description"},accountBeneficiariesGroup:{type:"Noop"},termsAcceptanceStatus:{type:"OnOff"},progressBarCurrentStepDescription:{type:"Description"},legalAgreementDisclosures:{type:"Description"},confirmBeneficiariesWarningHeader:{type:"Description"},beneficiariesConfirmedHeader:{type:"Description"}},actions:{requestAccountBeneficiariesInformation:!0,updateAccountBeneficiaries:!0,exitAccountBeneficiariesInformation:!0,updateBeneficiary:!0,requestTrustDetails:!0,exitTrustDetails:!0,addTrusteeName:!0,updateTrusteeName:!0,deleteTrusteeName:!0,exitTrusteeUpdate:!0,confirmTrusteeUpdate:!0,requestBeneficiaryDesignationOption:!0,requestBeneficiaryTypeOption:!0,requestIdentificationTypeOptions:!0,requestSuffixNameOptions:!0,deleteBeneficiary:!0,deleteAllPrimaryBeneficiaries:!0,deleteAllContingentBeneficiaries:!0,deleteAllTransferOfDeathBeneficiaries:!0,cancelBeneficiaryUpdate:!0,closeBeneficiaryUpdate:!0,saveBeneficiaryDetails:!0,addBeneficiaryDetails:!0,cancelTrustBeneficiaryUpdate:!0,saveTrustBeneficiaryDetails:!0,addTrustBeneficiaryDetails:!0,cancelEntityBeneficiaryUpdate:!0,saveEntityBeneficiaryDetails:!0,addEntityBeneficiaryDetails:!0,updatePrimaryBeneficiaryAllocation:!0,updateContingentBeneficiaryAllocation:!0,confirmDelete:!0,doNotDelete:!0,requestBeneficiaryDesignationHelpMessage:!0,requestBeneficiaryTypeHelpMessage:!0,sharePrimaryBeneficiaryAllocationsEqually:!0,shareContingentBeneficiaryAllocationsEqually:!0,shareTransferOnDeathBeneficiaryAllocationsEqually:!0,requestPdf:!0,requestConfirmBeneficiaries:!0,requestExitConfirmBeneficiaries:!0,acceptPerStirpes:!0,requestTransferOfDeathAgreementsDisclosures:!0,authorizeBeneficiariesDetails:!0,acceptTermsConditions:!0,requestAttestationConfirmationOverlay:!0},states:{exitConfirmationOverlay:!0,deleteBeneficiaryOverlay:!0,deleteBeneficiariesOverlay:!0,addBeneficiaryOverlay:!0,updateBeneficiaryOverlay:!0,addTrusteeOverlay:!0,updateTrusteeOverlay:!0,viewBeneficiaryOverlay:!0,enableBeneficiaryAttestation:!0,attestationState:!0,tableViewOverlayName:!0,viewBeneficiaryAttestationOverlay:!0,viewBeneficiaryAttestationConfirmationOverlay:!0},settings:{primaryBeneficiariesLabel:!0,contingentBeneficiariesLabel:!0,transferOnDeathBeneficiariesLabel:!0,beneficiaryDesignationLabel:!0,beneficiaryNameLabel:!0,beneficiaryTypeLabel:!0,beneficiaryAllocationPercentageLabel:!0,requestAccountBeneficiariesInformationLabel:!0,updateAccountBeneficiariesLabel:!0,beneficiaryInformationLabel:!0,beneficiaryAddressLabel:!0,actionsLabelAda:!0,beneficiaryDesignationOption:!0,beneficiaryTypeOption:!0,beneficiaryOptionsPlaceholder:!0,addAccountBeneficiariesHeader:!0,updateAccountBeneficiariesHeader:!0,suffixNameOptions:!0,confirmDeleteLabel:!0,doNotDeleteLabel:!0,firstNameLabel:!0,lastNameLabel:!0,middleNameLabel:!0,suffixNameLabel:!0,individualTaxpayerIdentificationNumberLabel:!0,employerIdentificationNumberLabel:!0,informationHeader:!0,beneficiaryAddressHeader:!0,unmaskSocialSecurityNumberLabel:!0,unmaskIndividualTaxpayerIdentificationNumberLabel:!0,unmaskEmployerIdentificationNumberLabel:!0,trustNameLabel:!0,identificationTypeLabel:!0,identificationTypeOptions:!0,socialSecurityNumberLabel:!0,trustEstablishedDateLabel:!0,trustAddressAdvisory:!0,trusteeDetailsHeader:!0,trusteeNamelabel:!0,trusteeNotAvailableAdvisory:!0,addTrusteeLabel:!0,updateTrusteeLabel:!0,deleteTrusteeLabel:!0,cancelLabel:!0,saveLabel:!0,saveToProceedLabel:!0,confirmTaskLabel:!0,beneficiaryRelationshipLabel:!0,beneficiaryRelationshipOptions:!0,dateOfBirthLabel:!0,beneficiaryAddressAdvisory:!0,entityNameLabel:!0,accountBeneficiariesAda:!0,primaryBeneficiariesAda:!0,contingentBeneficiariesAda:!0,transferOfDeathBeneficiariesAda:!0,reviewBeneficiariesAda:!0,confirmBeneficiariesAda:!0,totalLabel:!0,totalAllocationAdvisory:!0,deleteBeneficiaryLabel:!0,deleteAccountBeneficiariesLabel:!0,deleteAllPrimaryBeneficiariesLabelAda:!0,deleteAllContingentBeneficiariesLabelAda:!0,deleteAllTransferOfDeathBeneficiariesLabelAda:!0,shareBeneficiaryAllocationsEquallyLabel:!0,sharePrimaryBeneficiaryAllocationsEquallyLabelAda:!0,shareContingentBeneficiaryAllocationsEquallyLabelAda:!0,shareTransferOnDeathBeneficiaryAllocationsEquallyLabelAda:!0,deleteBeneficiariesConfirmationHeader:!0,beneficiaryDesignationHelpMessage:!0,requestBeneficiaryDesignationHelpMessageAda:!0,beneficiaryTypeHelpMessage:!0,requestBeneficiaryTypeHelpMessageAda:!0,allocationPercentageError:!0,accountBeneficiariesHeader:!0,accountBeneficiariesAdvisory:!0,noBeneficiariesMessage:!0,noPrimaryBeneficiariesMessage:!0,noContingentBeneficiariesMessage:!0,noTransferOnDeathBeneficiariesMessage:!0,manageBeneficiaryDetailsErrorHeader:!0,manageBeneficiaryDetailsErrorAdvisory:!0,accountBeneficiariesWarningHeader:!0,accountBeneficiariesWarningAdvisory:!0,beneficiariesUpdateStatusHeader:!0,beneficiariesUpdateStatusMessage:!0,zipCodeAdvisory:!0,beneficiaryNameError:!0,socialSecurityNumberError:!0,employerIdentificationNumberError:!0,individualTaxpayerIdentificationNumberError:!0,trustEstablishedDateError:!0,firstNameError:!0,lastNameError:!0,middleNameError:!0,trustNameError:!0,entityNameError:!0,dateOfBirthError:!0,beneficiaryDesignationError:!0,beneficiaryTypeError:!0,beneficiaryRelationshipError:!0,updateBeneficiaryError:!0,zipCodeError:!0,countryError:!0,beneficiaryAddressErrorHeader:!0,updateBeneficiaryAda:!0,deleteBeneficiaryAda:!0,addTrusteeNameAda:!0,updateTrusteeNameAda:!0,deleteTrusteeNameAda:!0,socialSecurityNumberAda:!0,individualTaxpayerIdentificationNumberAda:!0,employerIdentificationNumberAda:!0,showsContentBelowAda:!0,hidesContentBelowAda:!0,notApplicableAda:!0,warningAda:!0,exitAda:!0,confirmBeneficiariesWarningAdvisory:!0,requestConfirmBeneficiariesLabel:!0,confirmBeneficiaryInformationHeader:!0,beneficiaryInformationConfirmedHeader:!0,confirmMissingBeneficiariesWarningHeader:!0,confirmMissingBeneficiariesWarningAdvisory:!0,perStirpesLabel:!0,perStirpesAdvisory:!0,withPerStirpesLabel:!0,termsAcceptanceStatusLabel:!0,termsAcceptanceStatusError:!0,addBeneficiaryLabel:!0,legalAgreementHeader:!0,editBeneficiariesLabel:!0,ssnEncouragementAdvisory:!0,ssnDisclosure:!0}}})),define("profileArea/investments/beneficiaries/components/spec/investment_beneficiary_details",["require","blue/util","bluespec/manage_beneficiary_details"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/manage_beneficiary_details");return t.object.merge(i,{states:{beneficiariesDetailsNotAvailable:!0,spousalConsentFormLink:!0,focusType:!0,removeBeneficiaryOverlay:!0,updateStatus:!0,isAddTrusteeDisabled:!0,showAddEditTrust:!0},data:{isXs:{type:"OnOff"},beneficiaryValidationErrorStatus:{type:"OnOff"},todPdfLink:{type:"Description"}}})})),define("profileArea/investments/beneficiaries/controllers/beneficiariesSummary",["profileArea/sharedLib/investmentsLib/investmentDisclosuresUtility","profileArea/investments/beneficiaries/dataProviders/beneficiariesSummary","profileArea/investments/beneficiaries/lib/beneficiariesUtil","profileArea/investments/beneficiaries/dataProviders/benDataProviderHelper","profileArea/investments/beneficiaries/dataProviders/benCommonMapper","profileArea/sharedLib/profileConstants","blue/util","profileArea/investments/beneficiaries/lib/beneficiariesHybridUtil","profileArea/investments/beneficiaries/components/beneficiariesSummaryDetails","profileArea/investments/beneficiaries/components/spec/investment_beneficiary_details","common/lib/utility/commonComponentsUtil","profileArea/sharedLib/featureProvider","blue/store/enumerable/memory","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e,t,i,n,r,a,o,s,c,l,d,u,p,m){"use strict";var f,A,g=i.focusTypeConstants,E=o.object.extend,y={SUMMARY_BENEFICIARIES_DETAILS:{methods:c,spec:l,keepAlive:!0}},h={target:"#spinner-container",overlayType:"INSECTION",append:!0},v=function(e,t){f.registry.hasComponent(e)||f.registry.updateComponent(e,{model:f.model.lens(t)})},C=function(e,t,i){if(f.registry.hasComponent(e))return Promise.resolve();v(e,e);var n=[[f.components[e],t,{target:i}]];return f.executeCAV(n)},_=function(){f.model.set("manageBeneficiaries.accountId",A)},S=function(){var e=f.model.get("manageBeneficiaries.investmentAccounts");e&&e.forEach((function(e){f.registry.destroyComponent(i.generateBenComName(e.accountId))}))};return function(o){f=this;var c=o.renderTarget;o.memoryStore=new p("profileMemoryStore"),f.init=function(){f.featureProvider=u(o),f.splitIOFeatureFlags=m,E(t.beneficiaries,r.beneficiaries),f.dataProvider.mappers=t,f.context.showBeneficiariesSummaryDetails=f.showBeneficiariesSummaryDetails,f.context.closeBeneficiariesSummaryDetails=f.closeBeneficiariesSummaryDetails,f.context.showXsBeneficiariesSummaryDetails=f.showXsBeneficiariesSummaryDetails,f.context.authorizeBeneficiariesDetails=f.authorizeBeneficiariesDetails,f.context.doFocus=f.doFocus,f.context.configFocus=f.configFocus,f.context.commonComponentsUtil=d(f),n.initContext(f),o.on({requestAccountBeneficiariesInformation:function(e){f.openBeneficiariesViewTable(e)},exitAccountBeneficiariesInformation:function(){f.closeBeneficiariesViewTable()},destroyBeneficiariesSummary:function(){var e;S(),e="manageBeneficiaries",f.registry.destroyComponent(e)},registerBeneficiariesImportantInfo:function(){C("beneficiariesImportantInfo","beneficiariesImportantInfo","#beneficiariesImportantInfo").then((function(){f.dataProvider.request("beneficiaries.getBeneficiariesTypeDetails")}))},exitBeneficiaryTypeDetails:function(){f.exitBeneficiaryTypeDetails()},handleBackButtonAction:function(){f.handleBackButtonAction()}})},f.doFocus=function(e){i.doFocus(f.model,e)},f.configFocus=function(e){i.configFocus(e)},f.authorizeBeneficiariesDetails=function(e,t,r,o){return f.context.commonComponentsUtil.showSpinner(h),n.authorizeBeneficiaries(e,t,r,o).then((function(t){return function(e){var t=i.generateBenComName(e),n=f.model.get(t+".attestationRequired"),r=i.initAttestedStorage(f);if(r){r[e]=!0;var o=f.model.get("manageBeneficiaries.investmentAccounts")||[];o.forEach((e=>e.attestationState=i.getAttestationState(f.model,e.attestationRequired,e.updateStatus,e.accountId))),f.model.set("manageBeneficiaries.investmentAccounts",o)}var s=a.BENEFICIARIES_UPDATE_STATUS.INPROGRESS;f.model.set(t+".attestationState",i.getAttestationState(f.model,n,s,e)),f.model.set(t+".updateStatus",s)}(e.accountId),f.context.commonComponentsUtil.hideSpinner(h),t})).catch((function(e){return f.context.commonComponentsUtil.hideSpinner(h),Promise.reject(e)}))},f.openBeneficiariesViewTable=function(e){C("beneficiariesViewTable","beneficiariesViewTable","#beneficiariesOverlay").then((function(){var t=e.accountInfo,r=t.accountName+"("+f.context.dcu.dynamicContent.getGlobal("horizontalEllipsisSymbol")+t.accountMaskNumber+")";s.initBeneHybridHeaderBar(f,s.ACCT_DETA,r,!0),f.model.update("beneficiariesViewTable",{isXs:i.isXs(),accountInfo:t,classCode:e.classCode,accountName:t.accountName,accountMaskNumber:t.accountMaskNumber,tableViewOverlayName:e.tableViewOverlayName,progressBarCurrentStepDescription:null,todPdfLink:null}),e.tableViewOverlayName===a.BENEFICIARY_TABLE_VIEW_OVERLAY_NAME.ATTESTATION?n.getBeneficiariesLegalAgreement(t.accountType).then((function(t){f.components.beneficiariesViewTable.setViewData(e.accountBeneficiaries,t)})):f.components.beneficiariesViewTable.setViewData(e.accountBeneficiaries,null),f.doFocus(g.VIEW_TABLE_INITIAL_FOCUS)}))},f.closeBeneficiariesViewTable=function(){var e=f.model.get("beneficiariesViewTable.accountName")+"("+f.context.dcu.dynamicContent.getGlobal("horizontalEllipsisSymbol")+f.model.get("beneficiariesViewTable.accountMaskNumber")+")";s.initBeneHybridHeaderBar(f,s.VIEW_ACCT,e,!1),f.model.set("manageBeneficiaries.xsViewMode","account"),f.registry.isComponent("beneficiariesViewTable")&&(f.registry.destroyComponent("beneficiariesViewTable"),f.doFocus(g.CANCEL_VIEW_TABLE_FOCUS))},f.showBeneficiariesSummaryDetails=function(e,t,r){if(e){S();var a=i.generateBenComName(e);f.executeCAV(function(e){var t=i.generateBenComName(e),n=i.generateBenViewName(e);return f.registry.hasComponent(t)||(f.registry.registerComponent(t,y.SUMMARY_BENEFICIARIES_DETAILS,!0),v(t,t)),[[f.components[t],"beneficiariesSummaryDetails",{target:"#"+n}]]}(e)).then((function(){i.initAttestedStorage(f),f.model.set(a+".updateStatus",null),f.model.set("manageBeneficiaries.selectedAccountId",e),n.requestBeneficiariesDetailsData(e,r).then((function(){t&&t();var e=f.model.get(a+".accountInfo.accountName")+"("+f.context.dcu.dynamicContent.getGlobal("horizontalEllipsisSymbol")+f.model.get(a+".accountInfo.accountMaskNumber")+")";s.initBeneHybridHeaderBar(f,s.VIEW_ACCT,e,!1),f.components[a].setBeneficiariesMessageData()}))}))}},f.closeBeneficiariesSummaryDetails=function(e){var t=i.generateBenComName(e);f.registry.hasComponent(t)&&f.registry.destroyComponent(t),f.model.set("manageBeneficiaries.selectedAccountId",null)},f.exitBeneficiaryTypeDetails=function(){s.initBeneHybridHeaderBar(f,s.BENE_LAND,f.model.get("manageBeneficiaries.beneficiariesHeader")),f.registry.destroyComponent("beneficiariesImportantInfo")},f.checkManageBeneficiariesUrl=function(){if(f.context.config.enableProfileBeneficiaries){var e=f.context.state().action.params;f.context.privateState("profileArea/beneficiaries/index",e)}else f.context.state(f.context.settings.get("accountsSummaryUrl"))},f.manageBeneficiaries=f.index=function(t){o.profileContainer.setPageProperties({containerClasses:"legacy-profile-styles"}),f.checkManageBeneficiariesUrl();var r=t.ai;f.configFocus(g.SUMMARY_INITIAL_FOCUS),new Promise((function(e){f.context.attestationDcFlag=!0,e(!0)})).then((function(){C("manageBeneficiaries","beneficiariesSummary",c.target).then((function(){e.setupBeneficiariesDisclosures.call(f,"#beneficiariesSummaryDisclosures"),i.initAttestedStorage(f),f.model.get("manageBeneficiaries.isXs")?n.requestBenAccountData().then((function(){A=i.getValidAccountId(f.model.get("manageBeneficiaries.investmentAccounts"),r),f.model.set("manageBeneficiaries.selectedAccountId",A),s.initBeneHybridHeaderBar(f,s.BENE_LAND,f.model.get("manageBeneficiaries.beneficiariesHeader"))})):n.requestBenAccountData().then((function(){A=i.getValidAccountId(f.model.get("manageBeneficiaries.investmentAccounts"),r),f.model.set("manageBeneficiaries.selectedAccountId",A),f.showBeneficiariesSummaryDetails(A,_,!0)}))}))}))},f.showXsBeneficiariesSummaryDetails=function(e){e&&(f.model.set("manageBeneficiaries.accountId",e),f.model.set("manageBeneficiaries.xsViewMode","account"),A=i.getValidAccountId(f.model.get("manageBeneficiaries.investmentAccounts"),e),f.showBeneficiariesSummaryDetails(A,_,!0))},f.viewBeneficiaries=function(e){f.model.set("queryString",e)},f.handleBackButtonAction=function(){f.model.set("manageBeneficiaries.xsViewMode","view")}}})),define("profileArea/investments/beneficiaries/components/beneficiariesSummary",["require","profileArea/sharedLib/investmentsLib/investmentDisclosuresUtility","appkit-utilities/content/globalContentMixin","appkit-utilities/analytics/overlay","profileArea/investments/beneficiaries/lib/beneficiariesUtil","profileArea/investments/beneficiaries/lib/beneficiariesHybridUtil"],(function(e){"use strict";var t,i=e("profileArea/sharedLib/investmentsLib/investmentDisclosuresUtility"),n=e("appkit-utilities/content/globalContentMixin"),r=e("appkit-utilities/analytics/overlay"),a=e("profileArea/investments/beneficiaries/lib/beneficiariesUtil"),o=e("profileArea/investments/beneficiaries/lib/beneficiariesHybridUtil");return{init:function(){(t=this).model.set("isXs",a.isXs()),t.model.set("xsViewMode","view"),n.call(t,["importantAda","horizontalEllipsisSymbol"]),this.accountListAvailable=!0,o.initBeneHybridHeaderBar(t,o.BENE_LAND,t.model.get("beneficiariesHeader"))},requestAccountBeneficiariesDetails:function(e){t.context.showBeneficiariesSummaryDetails(e.context.accountId),t.context.configFocus({key:"manageBeneficiaries",target:"#"+e.context.id+" > .header-link >.header"}),i.toggleDisplay(!0)},exitAccountBeneficiariesDetails:function(e){t.closeBeneficiariesDetails(e)},closeBeneficiariesDetails:function(e){t.context.closeBeneficiariesSummaryDetails(e.context.accountId)},requestBeneficiariesTypeDetails:function(){o.initBeneHybridHeaderBar(t,o.IMPT_INFO,t.model.get("beneficiariesHeader")),t.context.controller.emit("registerBeneficiariesImportantInfo"),r.showOverlay(t,"beneficiaryAdvisoriesOverlay","requestBeneficiariesTypeDetails")},destroyBeneficiariesSummary:function(){t.context.controller.emit("destroyBeneficiariesSummary")},showXsBeneficiariesSummaryDetails:function(e){t.context.showXsBeneficiariesSummaryDetails(e.context.accountId)},handleBackButtonAction:function(e){t.context.handleBackButtonAction(e)}}})),define("profileArea/investments/beneficiaries/components/beneficiariesImportantInfo",["require","appkit-utilities/analytics/overlay"],(function(e){"use strict";var t,i=e("appkit-utilities/analytics/overlay");return{init:function(){(t=this).context.globalContentMixin.call(t,["closeLabel"])},exitBeneficiaryTypeDetails:function(){t.context.doFocus({key:t.key,target:"#beneficiariesimportantInfoLink"}),i.hideOverlay(t,"beneficiaryAdvisoriesOverlay","exitBeneficiaryTypeDetails").then((function(){t.context.controller.emit("exitBeneficiaryTypeDetails")}))}}})),define("profileArea/investments/beneficiaries/lib/validators/taxIdentificationValidations",["require","appkit-utilities/validation/util"],(function(e){"use strict";var t=e("appkit-utilities/validation/util"),i="INVALID_FORMAT",n="INVALID_DATA",r={ssn:{format:/^(\d{3}-\d{2}-\d{4})/,zero:/^(012-34-5678)$/,one:/^(123-45-6789)$/,reverse:/^(987-65-4321)$/},itin:{format:/^(\d{3}-\d{2}-\d{4})/,invalid:/^9\d{2}-([7]\d|8[0-8]|9([0-2]|[4-9]))-\d{4}$/,zero:/^(012-34-5678)$/,one:/^(123-45-6789)$/,reverse:/^(987-65-4321)$/},ein:{format:/^(\d{2}-\d{7})/},numbers:/^[0-9]*$/};return{einValidations:{checkMandatory:function(e,i){var n=t.checkMissingMandatory(i);e.isValid=n.isValid,e.errorType=n.errorType},invalidFormat:function(e,t){e.isValid=r.ein.format.test(t),e.errorType=e.isValid?"":i},inValidEIN:function(e,t){var n=t.charAt(0),r=t.replace(/-/gi,"");e.isValid=!1;for(var a=1;a<9;a++){r.charAt(a)!==n&&(e.isValid=!0)}e.errorType=e.isValid?"":i}},ssnValidations:{checkMandatory:function(e,i){var n=t.checkMissingMandatory(i);e.isValid=n.isValid,e.errorType=n.errorType},isValidFormat:function(e,t){e.isValid=r.ssn.format.test(t),e.errorType=e.isValid?"":i},invalidSSN:function(e,t){var i=t.charAt(0);if("0"!==i){e.isValid=!1;for(var r=t.replace(/-/gi,""),a=1;a<9;a++){r.charAt(a)!==i&&(e.isValid=!0)}e.errorType=e.isValid?"":n}},sqeuentialValidate:function(e,t){var i=parseInt(t.substring(0,3));i>0&&666!==i&&(i>=800&&i<900||i<=772)&&"00"!==t.substring(4,6)&&"0000"!==t.substring(7,11)?(r.ssn.zero.test(t)||r.ssn.one.test(t)||r.ssn.reverse.test(t))&&(e.isValid=!1,e.errorType=n):(e.isValid=!1,e.errorType=n)}},itinValidations:{checkMandatory:function(e,i){var n=t.checkMissingMandatory(i);e.isValid=n.isValid,e.errorType=n.errorType},inValidFormat:function(e,t){e.isValid=r.itin.format.test(t),e.errorType=e.isValid?"":i},inValidITIN:function(e,t){(r.itin.zero.test(t)||r.itin.one.test(t)||r.itin.reverse.test(t)||!r.itin.invalid.test(t))&&(e.isValid=!1,e.errorType=n)}}}})),define("profileArea/investments/beneficiaries/lib/validators/formValidation",["require","appkit-utilities/validation/util","profileArea/investments/beneficiaries/lib/validators/taxIdentificationValidations","moment"],(function(e){"use strict";var t=e("appkit-utilities/validation/util"),i=e("profileArea/investments/beneficiaries/lib/validators/taxIdentificationValidations"),n=e("moment"),r="INVALID_FORMAT",a="INVALID_DATA",o="INVALID_DATE_RANGE",s={date:/^\d{2}\/\d{2}\/\d{4}$/,name:/^[a-zA-Z',. -]*$/,entityName:/^[a-zA-Z'\d \-()]*$/,percent:/^\d{1,3}%{0,1}$/,firstName:/^[a-zA-Z'\d \-()]*$/,middleName:/^[a-zA-Z'\d \-()]*$/,lastName:/^[a-zA-Z'\d \-()]*$/,beneficiaryName:/^[a-zA-Z '-]{1,30}$/},c=function(e,i){var n=t.getProperty(e,i),r=t.checkMissingMandatory(n);return r.isValid&&(r=t.isValidFormat(n,s[e.item])),r},l=function(e,i){var n=t.getProperty(e,i);return t.checkMissingMandatory(n)},d={inValidFormat:function(e,t){s.date.test(t)||(e.isValid=!1,e.errorType=r)},invalidDate:function(e,t,i,n){(i.year()<1900&&"trustEstablishedDate"!==n||!i.isValid())&&(e.isValid=!1,e.errorType=a)},invalidFutureDate:function(e,t,i){i.unix()>n().unix()&&(e.isValid=!1,e.errorType=o)}},u=function(e,i){var r=t.getProperty(e,i),a={isValid:!0,errorType:""},o=n(r,"MM/DD/YYYY",!0);return r&&Object.keys(d).some((function(t){return d[t](a,r,o,e.item),!a.isValid})),a},p=function(e,i,n){var r=t.getProperty(e,i),a=l(e,i);return a.isValid&&Object.keys(n).some((function(e){return n[e](a,r),!a.isValid})),a};return{beneficiaryFormValidators:{accountBeneficiaries:{beneficiaryName:function(e,i){var n=t.getProperty(e,i),r=t.checkMissingMandatory(n);return r.isValid&&(r.isValid=s.entityName.test(n),r.errorType=r.isValid?"":a),r},trustEstablishedDate:u,dateOfBirth:u,socialSecurityNumber:function(e,t){return p(e,t,i.ssnValidations)},individualTaxpayerIdentificationNumber:function(e,t){return p(e,t,i.itinValidations)},employerIdentificationNumber:function(e,t){return p(e,t,i.einValidations)},beneficiaryRelationship:function(e,t){return l(e,t)},beneficiaryDesignation:function(e,t){return l(e,t)},beneficiaryType:function(e,t){return l(e,t)}}},trusteeFormValidators:{trusteeDetails:{firstName:function(e,t){return c(e,t)},lastName:function(e,t){return c(e,t)},middleName:function(e,i){return function(e,i){var n={isValid:!0,errorType:""},r=t.getProperty(e,i);return r&&n.isValid&&(n=t.isValidFormat(r,s[e.item])),n}(e,i)}}}}})),define("form-blocks-common/validationUtil",["require","appkit-utilities/validation/util"],(function(e){"use strict";var t=e("appkit-utilities/validation/util");return t.validateDataFormat=function(e,i,n){return e.isValid&&(e=t.isValidFormat(i,n)),e},t.validateProperty=function(e,i){var n=t.getProperty(e,i),r=t.checkMissingMandatory(n);return r=t.validateDataFormat(r,n,this.regex)},t.validateOptionalProperty=function(e,i){var n={isValid:!0,errorType:""},r=t.getProperty(e,i);return r&&(n=t.validateDataFormat(n,r,this.regex)),n},t.validateSelection=function(e,i){var n=t.getProperty(e,i);return t.checkMissingMandatory(n)},t})),define("nameInformation-cmpt/validator",["require","form-blocks-common/validationUtil"],(function(e){"use strict";var t=e("form-blocks-common/validationUtil"),i={firstName:/^[a-zA-Z '-]{1,30}$/,middleName:/^[a-zA-Z '-]{1,10}$/,lastName:/^[a-zA-Z '-]{1,30}$/},n=function(e,n){var r=t.getProperty(e,n),a=t.checkMissingMandatory(r);return a=t.validateDataFormat(a,r,i[e.item])};return{firstName:n,middleName:function(e,n){var r={isValid:!0,errorType:""},a=t.getProperty(e,n);return a&&(r=t.validateDataFormat(r,a,i[e.item])),r},lastName:n}})),define("address-cmpt/validator",["require","form-blocks-common/validationUtil"],(function(e){"use strict";var t=e("form-blocks-common/validationUtil"),i={streetAddress:/^[a-zA-Z0-9,:/$&#'\-. ]{0,40}$/,apartmentNumber:/^[a-zA-Z0-9,:/$&#'\-. ]{0,40}$/,POBox:/^\s*(PO|P\.O\.|P O|P\. O\.|P\. O|POST OFFICE) /i,COAddress:/(C\.O\.|C\. O\.|C\/O|CARE OF|CARE-OF)/i,zipCode:/^[0-9]{5}$/},n=function(e,n){var r=function(e,n){var r={isValid:!0,errorType:""},a=t.getProperty(e,n);return a&&(r=t.validateDataFormat(r,a,i[e.item])),r}(e,n),a=t.getProperty(e,n);return r.isValid&&"streetAddress"===e.item&&(r=t.checkMissingMandatory(a)),a&&r.isValid&&(n.POBoxes||(r=t.checkInvalidData(a,i.POBox,"INVALID_WORD")),r.isValid&&!n.COAddresses&&(r=t.checkInvalidData(a,i.COAddress,"CARE_OF_ADDRESS_NOT_ALLOWED"))),r};return{streetAddress:n,apartmentNumber:n,zipCode:function(e,n){var r=t.getProperty(e,n),a=t.checkMissingMandatory(r);return a=t.validateDataFormat(a,r,i[e.item])}}})),define("canadaAddress-cmpt/validator",["require","form-blocks-common/validationUtil"],(function(e){"use strict";var t=e("form-blocks-common/validationUtil"),i={addressLine1:/^[a-zA-Z0-9,:/$&#'\-. ]{0,30}$/,addressLine2:/^[a-zA-Z0-9,:/$&#'\-. ]{0,30}$/,postalCode:/^[a-zA-Z0-9 ]{1,20}$/,cityId:/^[a-zA-Z0-9.,:/$&#'\- ]{1,30}$/},n=function(e,n){var r=t.getProperty(e,n),a=t.checkMissingMandatory(r);return a=t.validateDataFormat(a,r,i[e.item])};return{addressLine1:n,addressLine2:function(e,n){var r={isValid:!0,errorType:""},a=t.getProperty(e,n);return a&&(r=t.validateDataFormat(r,a,i[e.item])),r},postalCode:n,cityId:n,provinceId:t.validateSelection}})),define("militaryAddress-cmpt/validator",["require","form-blocks-common/validationUtil"],(function(e){"use strict";var t=e("form-blocks-common/validationUtil"),i={addressLine1:/^[a-zA-Z0-9,:/$&#'\-. ]{0,30}$/,addressLine2:/^[a-zA-Z0-9,:/$&#'\-. ]{0,30}$/,postalCode:/^[a-zA-Z0-9 ]{1,20}$/},n={AA:["340"],AP:["962","963","964","965","966"],AE:["090","091","092","093","094","095","096","097","098"]},r=function(e,n){var r=t.getProperty(e,n),a=t.checkMissingMandatory(r);return a=t.validateDataFormat(a,r,i[e.item])};return{addressLine1:r,addressLine2:function(e,n){var r={isValid:!0,errorType:""},a=t.getProperty(e,n);return a&&(r=t.validateDataFormat(r,a,i[e.item])),r},postOfficeTypeId:t.validateSelection,militaryRegionId:t.validateSelection,postalCode:function(e,i){var a=r(e,i),o=i.militaryRegionId,s=t.getProperty(e,i);return o&&n[o]&&a.isValid&&(a.isValid=n[o].filter((function(e){return s.startsWith(e)})).length>0,a.errorType=a.isValid?"":"MILITARY_ADDRESS_NOT_ALLOWED"),a}}})),define("internationalAddress-cmpt/validator",["require","form-blocks-common/validationUtil"],(function(e){"use strict";var t=e("form-blocks-common/validationUtil"),i={addressLine1:/^[a-zA-Z0-9,:/$&#'\-. ]{0,30}$/,addressLine2:/^[a-zA-Z0-9,:/$&#'\-. ]{0,30}$/,provinceId:/^[a-zA-Z0-9.,:/$&#'\- ]{1,20}$/,postalCode:/^[a-zA-Z0-9 ]{1,20}$/,cityId:/^[a-zA-Z0-9.,:/$&#'\- ]{1,30}$/},n=function(e,n){var r=t.getProperty(e,n),a=t.checkMissingMandatory(r);return a=t.validateDataFormat(a,r,i[e.item])};return{addressLine1:n,addressLine2:function(e,n){var r={isValid:!0,errorType:""},a=t.getProperty(e,n);return a&&(r=t.validateDataFormat(r,a,i[e.item])),r},provinceId:n,postalCode:n,cityId:n,countryId:t.validateSelection}})),define("profileArea/investments/beneficiaries/lib/validators/beneficiariesValidator",["appkit-utilities/validation/util","profileArea/investments/beneficiaries/lib/validators/formValidation","nameInformation-cmpt/validator","address-cmpt/validator","canadaAddress-cmpt/validator","militaryAddress-cmpt/validator","internationalAddress-cmpt/validator","form-blocks-common/validationUtil"],(function(e,t,i,n,r,a,o,s){var c,l,d,u;validateDomesticStreetAddress=n.streetAddress,validateDomesticApartmentNumber=n.apartmentNumber,validateCanadaAddressLine1=r.addressLine1,validateCanadaAddressLine2=r.addressLine2,validateCanadaPostalCode=r.postalCode,validateCanadaCityId=r.cityId,validateCanadaProvinceId=r.provinceId,validateMilitaryAddress1=a.addressLine1,validateMilitaryAddress2=a.addressLine2,validateMilitaryPostOfficeTypeId=a.postOfficeTypeId,validateMilitaryRegionId=a.militaryRegionId,validateMilitaryPostalCode=a.postalCode,validateInternationalAddress1=o.addressLine1,validateInternationalAddress2=o.addressLine2,validateInternationalProvinceId=o.provinceId,validateInternationalPostalCode=o.postalCode,validateInternationalCityId=o.cityId,validateInternationalCountryId=o.countryId,validateFirstNameInfo=i.firstName,validateMiddleNameInfo=i.middleName,validateLastNameInfo=i.lastName,beneficiariesValidators=t.beneficiaryFormValidators.accountBeneficiaries,validateBeneficiaryName=beneficiariesValidators.beneficiaryName,validateSocialSecurityNumber=beneficiariesValidators.socialSecurityNumber,validateIndividualTaxpayerIdentificationNumber=beneficiariesValidators.individualTaxpayerIdentificationNumber,validateEmployerIdentificationNumber=beneficiariesValidators.employerIdentificationNumber;var p=function(e,t,i){return function(n){var r=i&&i(n)||n;return t({item:e},r)}},m=function(e,t,i){return function(n){var r=i&&i(n)||n;return t(r[e])}},f=function(e,t){if(e){var i=!0;return Object.keys(e).forEach((function(n){e[n](t).isValid||(i=!1)})),{isValid:i}}return{isValid:!1}},A=function(e){return f(c,e)},g=function(e){return{streetAddress:e.mailingAddressLineOne,apartmentNumber:e.mailingAddressLineTwo,zipCode:e.zipCode,stateId:e.stateName,cityId:e.cityName}},E=function(e){return{addressLine1:e.mailingAddressLineOne,addressLine2:e.mailingAddressLineTwo,postalCode:e.zipCode,provinceId:e.stateName,cityId:e.cityName}},y=function(e){return{addressLine1:e.mailingAddressLineOne,addressLine2:e.mailingAddressLineTwo,postalCode:e.zipCode,militaryRegionId:e.stateName,postOfficeTypeId:e.cityName}},h=function(e){return{addressLine1:e.mailingAddressLineOne,addressLine2:e.mailingAddressLineTwo,postalCode:e.zipCode,provinceId:e.stateName,cityId:e.cityName,countryId:e.countryCode}};return u={DOMESTIC:{streetAddress:p("streetAddress",validateDomesticStreetAddress,g),apartmentNumber:p("apartmentNumber",validateDomesticApartmentNumber,g),zipCode:m("zipCode",e.checkMissingMandatory,g),stateId:m("stateId",e.checkMissingMandatory,g),cityId:m("cityId",e.checkMissingMandatory,g)},CANADA:{addressLine1:p("addressLine1",validateCanadaAddressLine1,E),addressLine2:p("addressLine2",validateCanadaAddressLine2,E),postalCode:p("postalCode",validateCanadaPostalCode,E),provinceId:p("provinceId",validateCanadaProvinceId,E),cityId:p("cityId",validateCanadaCityId,E)},MILITARY:{addressLine1:p("addressLine1",validateMilitaryAddress1,y),addressLine2:p("addressLine2",validateMilitaryAddress2,y),postalCode:p("postalCode",validateMilitaryPostalCode,y),militaryRegionId:p("militaryRegionId",validateMilitaryRegionId,y),postOfficeTypeId:p("postOfficeTypeId",validateMilitaryPostOfficeTypeId,y)},INTERNATIONAL:{addressLine1:p("addressLine1",validateInternationalAddress1,h),addressLine2:p("addressLine2",validateInternationalAddress2,h),postalCode:p("postalCode",validateInternationalPostalCode,h),provinceId:p("provinceId",validateInternationalProvinceId,h),cityId:p("cityId",validateInternationalCityId,h),countryId:p("countryId",validateInternationalCountryId,h)}},l={firstName:p("firstName",validateFirstNameInfo),middleName:p("middleName",validateMiddleNameInfo),lastName:p("lastName",validateLastNameInfo)},d={SSN:p("socialSecurityNumber",validateSocialSecurityNumber),ITIN:p("individualTaxpayerIdentificationNumber",validateIndividualTaxpayerIdentificationNumber),TIN:p("employerIdentificationNumber",validateEmployerIdentificationNumber)},c={beneficiaryName:function(e){var t={INDIVIDUAL:function(){return f(l,e)},defaultHandler:function(){return validateBeneficiaryName({item:"beneficiaryName"},e)}};return(t[e.beneficiaryType]||t.defaultHandler)()},identificationType:function(e){return e.identificationType&&"0"!=e.identificationType?d[e.identificationType](e):{isValid:!0}},addressCategoryId:function(e){return f(u[e.addressCategoryId],e)}},{validateBeneficiaries:function(e,t){var i,n=e.context.dcu.dynamicContent,r={isValid:!0,errorType:""};return(t=t||[]).forEach((function(t,a){(i=A(t).isValid)||(r.isValid=!1,r.isShowHeaderError=!0,r.errorType="MISSING_MANDATORY_DATA"),n.set(e,"updateBeneficiaryError","ACTION_REQUIRED"),e.model.set("accountBeneficiaries."+a+".isAddressValid",i)})),r},getInvalidBeneficiaries:function(e){var t=[];return(e=e||[]).forEach((function(e,i){A(e).isValid||t.push({index:i,errorType:"MISSING_MANDATORY_DATA"})})),t}}})),define("profileArea/investments/beneficiaries/lib/validators/beneficiairesUpdateValidatorHelper",["require","profileArea/sharedLib/profileConstants"],(function(e){"use strict";var t,i=e("profileArea/sharedLib/profileConstants"),n=i.BENEFICIARIES_CATEGORIES.PRIMARY,r=i.BENEFICIARIES_CATEGORIES.CONTINGENT,a=function(e,t,i){(e[i].errorElements||[]).forEach((function(e){t(e.dataPath)}))},o=function(e,t,i){t({key:"beneficiariesUpdate",target:"#update-table-allocation-"+e[i].errorElements[0].index+" input"})};return{init:function(e){t={},e.forEach((function(e){t[e.designation]||(t[e.designation]=[]),e.index=function(e){var t=e.split(".");return parseInt(t[t.length-1])}(e.dataPath),t[e.designation].push(e)})),[n,r].forEach((function(e){t[e]=(t[e]||[]).sort((function(e,t){return e.index-t.index>=0?1:-1}))}))},analyzeIssues:function(){var e={};return[n,r].forEach((function(i){e[i]=function(e){for(var i={designation:e,errorElements:[]},n=t[e],r=0;r<n.length;r++)i.errorElements.push(n[r]);return i}(i)||{}})),e},highlightBaseOnReport:function(e,t){[n,r].forEach((function(i){a(e,t,i)}))},highlightBaseOnDesignation:a,focusBaseOnReport:function(e,t){var i=e[n],a=e[r];i.errorElements.length?o(e,t,n):a.errorElements.length&&o(e,t,r)},focusBaseOnDesignation:o}})),define("profileArea/investments/beneficiaries/lib/validators/beneficiariesUpdateValidator",["require","appkit-utilities/validation/util","appkit-utilities/content/dcu","profileArea/sharedLib/profileConstants","profileArea/investments/beneficiaries/lib/validators/beneficiairesUpdateValidatorHelper"],(function(e){"use strict";var t,i=e("appkit-utilities/validation/util"),n=e("appkit-utilities/content/dcu").dynamicContent,r=e("profileArea/sharedLib/profileConstants"),a=r.ERROR_TYPE.ABOVE_MAXIMUM,o=r.ERROR_TYPE.BELOW_MINIMUM,s=r.ERROR_TYPE.INVALID_DATA,c=r.MAX_VALID_ALLOCATION,l=r.MIN_VALID_ALLOCATION,d=e("profileArea/investments/beneficiaries/lib/validators/beneficiairesUpdateValidatorHelper"),u=function(e,t,i){var n=t.model.get(e+".beneficiaryDesignation"),a=parseFloat(t.model.get(r.TOTAL_ALLOCATION_MAP[n])),o=!!isNaN(a)||i(a);return{isValid:o,errorType:o?"":s}},p=function(e,t){return u(e,t,(function(e){return e>=c}))},m=[function(e,t){return i.checkMissingMandatory(t.model.get(e+".beneficiaryAllocationPercentage"))},function(e,t){var n=r.NUMBER_REX;return i.isValidFormat(t.model.get(e+".beneficiaryAllocationPercentage")+"",n)},function(e,t){var i=t.model.get(e+".beneficiaryAllocationPercentage"),n=parseFloat(i)>=l;return{isValid:n,errorType:n?"":o}},function(e,t){var i=t.model.get(e+".beneficiaryAllocationPercentage"),n=parseFloat(i)<=c;return{isValid:n,errorType:n?"":a}},function(e,t){return u(e,t,(function(e){return e<=c}))}],f=function(e,i,r){var a=n.get(r,"allocationPercentageError",i.errorType)||i.errorType;r.model.set(e+".errorMessage",a),t.push({dataPath:e,designation:r.model.get(e+".beneficiaryDesignation"),result:i,errorMessage:a})},A=function(e,t,i){var n;if(!t.model.get(e+".beneficiaryDesignation"))return{isValid:!0};for(var r=0;r<i.length;r++)if(!(n=i[r](e,t)).isValid)return f(e,n,t),n;return function(e,t){t.model.set(e+".errorMessage",""),t.model.set(e+".highlightError","")}(e,t),{isValid:!0}},g=[function(e){return i.checkMissingMandatory(e.beneficiaryAllocationPercentage)},function(e){return i.isValidFormat(e.beneficiaryAllocationPercentage+"",r.NUMBER_REX)},function(e){var t=parseFloat(e.beneficiaryAllocationPercentage),i=!isNaN(t)&&function(e){return e>=l&&e<=c}(t);return{isValid:i,errorType:i?null:s}}];return{validateBeneficiaries:function(e,i){var n,r=e.model.get("accountBeneficiaries"),a=!0;t=[];for(var o=0;o<r.length;o++)n=e.model.get("accountBeneficiaries."+o+".beneficiaryDesignation"),i&&n!==i||A("accountBeneficiaries."+o,e,!i?m.concat([p]):m).isValid||(a=!1);return a},highlightAndFocus:function(e,i){var n,r=function(t){e.model.set(t+".highlightError",!0)},a=function(t){e.context.doFocus(t)};d.init(t),n=d.analyzeIssues(),i?(d.highlightBaseOnDesignation(n,r,i),d.focusBaseOnDesignation(n,a,i)):(d.highlightBaseOnReport(n,r),d.focusBaseOnReport(n,a))},setAnalyticEvent:function(e,i){var n="accountBeneficiaries."+e,r=t.filter((function(e){return e.dataPath===n}));r.length&&i.context.dcu.dynamicContent.set(i,"allocationPercentageError",r[0].result.errorType)},getInvalidBeneficiaries:function(e){var t=[],i={};for(category in r.BENEFICIARIES_CATEGORIES)i[category]={totalAllocation:0,count:0};return(e||[]).forEach((function(e,n){(function(e,t){return!t.some((function(t){return!t(e).isValid}))})(e,g)||t.push({index:n,errorType:"INVALID_BENEFICIARY_ALLOCATION_DATA"});var r=parseFloat(e.beneficiaryAllocationPercentage);i[e.beneficiaryDesignation].totalAllocation+=isNaN(r)?0:r,i[e.beneficiaryDesignation].count++})),function(e){var t=!0,i=function(e){return e.totalAllocation!=c&&e.count>0};for(totalAllocation in e)i(e[totalAllocation])&&(t=!1);return t}(i)||t.push({index:null,errorType:"INVALID_TOTAL_ALLOCATION_DATA"}),t},getValidationResult:function(){return t}}})),define("profileArea/investments/beneficiaries/lib/validators/beneficiariesModelHelper",["require","profileArea/sharedLib/profileConstants","blue/util"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileConstants"),i=t.BENEFICIARY_MODEL_SERVICE_MAPPING,n=t.BENEFICIARIES_CATEGORIES.PRIMARY,r=t.BENEFICIARIES_CATEGORIES.CONTINGENT,a=t.BENEFICIARIES_ACTIONS.ADD,o=t.BENEFICIARIES_ACTIONS.MODIFY,s=t.BENEFICIARIES_ACTIONS.REMOVE,c=t.BENEFICIARIES_ACTIONS.CONFIRM,l=e("blue/util"),d=function(e,t){return(e||[]).filter((function(e){return e.beneficiaryDesignation===t}))},u=function(e){var t,n=[];return(e||[]).forEach((function(e){t=function(e){var t,n={};e&&(Object.keys(i).concat(["beneficiaryName","socialSecurityNumber","employerIdentificationNumber","individualTaxpayerIdentificationNumber","perStirpesStatus"]).forEach((function(t){n[t]=e[t]||""})),n.beneficiaryAllocationPercentage="number"==typeof(t=e.beneficiaryAllocationPercentage)?t.toFixed(2):t);return n}(e),n.push(t)})),n},p=function(e,t){return l.object.extend({},{action:e},t)};return{findPrimaryBeneficiaries:function(e){return d(e,n)},findContingentBeneficiaries:function(e){return d(e,r)},getDifferentAccountBeneficiaries:function(e,t){var i=[];e=u(e),(t=u(t)).forEach((function(e){e.beneficiaryId||i.push(p(a,e))}));var n={},r={},c={},d={};return e.forEach((function(e){n[e.beneficiaryId]=e})),t.forEach((function(e){e.beneficiaryId&&(r[e.beneficiaryId]=e)})),Object.keys(n).forEach((function(e){r[e]?d[e]=!0:c[e]=!0})),e.forEach((function(e){if(c[e.beneficiaryId]&&i.push(p(s,e)),d[e.beneficiaryId]){var t=r[e.beneficiaryId];n=e,a=t,l.object.deepEquals(n,a)||i.push(p(o,t))}var n,a})),i},addBeneficiariesToAttest:function(e,t){var i=(t||[]).slice(),n={};return e=u(e),i.forEach((function(e){e.beneficiaryId&&(n[e.beneficiaryId]=e)})),e.forEach((function(e){n[e.beneficiaryId]||i.push(p(c,e))})),i}}})),define("profileArea/investments/beneficiaries/lib/validators/beneficiariesMaximumValidator",["require","profileArea/sharedLib/profileConstants","profileArea/investments/beneficiaries/lib/validators/beneficiariesModelHelper"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileConstants"),i=t.MAXIMUM_BENEFICIARIES.MAXIMUM_RETIREMENT_PRIMARY,n=t.MAXIMUM_BENEFICIARIES.MAXIMUM_RETIREMENT_CONTINGENT,r=t.MAXIMUM_BENEFICIARIES.MAXIMUM_TOD_PRIAMRY,a=t.MAXIMUM_BENEFICIARIES.MAXIMUM_TOD_CONTINGENT,o=t.ERROR_TYPE.ABOVE_RETIREMENT_MAXIMUM_PRIMARY_BENEFICIARIES,s=t.ERROR_TYPE.ABOVE_RETIREMENT_MAXIMUM_CONTINGENT_BENEFICIARIES,c=t.ERROR_TYPE.ABOVE_TAXABLE_MAXIMUM_PRIMARY_BENEFICIARIES,l=t.ERROR_TYPE.ABOVE_TAXABLE_MAXIMUM_CONTINGENT_BENEFICIARIES;c=t.ERROR_TYPE.ABOVE_TAXABLE_MAXIMUM_PRIMARY_BENEFICIARIES;var d,u=e("profileArea/investments/beneficiaries/lib/validators/beneficiariesModelHelper"),p=u.findPrimaryBeneficiaries,m=u.findContingentBeneficiaries,f={RETIREMENT:[function(e){var t=p(e).length<i;return{isValid:t,errorType:t?"":o}},function(e){var t=m(e).length<n;return{isValid:t,errorType:t?"":s}}],TAXABLE:[function(e){var t=p(e).length<r;return{isValid:t,errorType:t?"":c}},function(e){var t=m(e).length<a;return{isValid:t,errorType:t?"":l}}]},A=function(e,t){e.errorType=t},g={RETIREMENT:function(e,t,i){var n={};return 2===t.length&&(n.errorTypes=[t[0].errorType,t[1].errorType],n.mainErrorType=o,A(n,"ABOVE_MAXIMUM")),1===t.length&&(n.errorTypes=[t[0].errorType],n.mainErrorType=n.errorTypes[0]),n.isExceededMaximum=!!n.errorTypes,n.isShowHeaderError=n.isDisableAddFunctionality=n.isExceededMaximum&&2===n.errorTypes.length,n.isValid=!n.isExceededMaximum,n.accountType=i,n},TAXABLE:function(e,t,i){var n={};return 2===t.length&&(n.errorTypes=[t[0].errorType,t[1].errorType],n.mainErrorType=c,A(n,"ABOVE_MAXIMUM")),1===t.length&&(n.errorTypes=[t[0].errorType],n.mainErrorType=n.errorTypes[0]),n.isExceededMaximum=!!n.errorTypes,n.isShowHeaderError=n.isDisableAddFunctionality=n.isExceededMaximum&&2===n.errorTypes.length,n.isValid=!n.isExceededMaximum,n.accountType=i,n},defaultHanlder:function(e){return function(e){e.context.showHeaderError("")}(e),{isValid:!0}}},E=function(e,t,i){d.push({isValid:t.isValid,errorType:t.errorType,accountType:i})};return{validateBeneficiariesMaxium:function(e,t,i){var n,r=f[i]||[];d=[];for(var a=0;a<r.length;a++)(n=r[a](t)).isValid||E(0,n,i);return function(e,t){var i=d.filter((function(e){return e.accountType===t})),n=g[t]||g.defaultHanlder;return i.length>0?n(e,i,t):g.defaultHanlder(e)}(e,i)},getBeneficiaryMaximumFailures:function(e,t){var i=[];return(f[t]||[]).forEach((function(t){var n=t(e);n.isValid||i.push({index:null,errorType:n.errorType})})),i}}})),define("profileArea/investments/beneficiaries/components/beneficiariesViewTable",["require","profileArea/sharedLib/profileConstants","appkit-utilities/analytics/overlay","profileArea/investments/beneficiaries/lib/beneficiariesUtil","profileArea/investments/beneficiaries/dataProviders/benDataProviderHelper","profileArea/investments/beneficiaries/lib/validators/beneficiariesValidator","profileArea/investments/beneficiaries/lib/validators/beneficiariesUpdateValidator","profileArea/investments/beneficiaries/lib/validators/beneficiariesMaximumValidator","profileArea/sharedLib/dashboardSettings"],(function(e){"use strict";var t,i=e("profileArea/sharedLib/profileConstants"),n=e("appkit-utilities/analytics/overlay"),r=e("profileArea/investments/beneficiaries/lib/beneficiariesUtil"),a=e("profileArea/investments/beneficiaries/dataProviders/benDataProviderHelper"),o=e("profileArea/investments/beneficiaries/lib/validators/beneficiariesValidator"),s=e("profileArea/investments/beneficiaries/lib/validators/beneficiariesUpdateValidator"),c=e("profileArea/investments/beneficiaries/lib/validators/beneficiariesMaximumValidator"),l=e("profileArea/sharedLib/dashboardSettings"),d=i.TERMS_AND_CONDITIONS_LABEL_TYPES.NO_BENEFICIARIES,u=i.TERMS_AND_CONDITIONS_LABEL_TYPES.DEFAULT,p=i.UPDATE_SERVICE_ERROR_TYPES.SYSTEM_FAILURE,m=i.UPDATE_SERVICE_ERROR_TYPES.BENEFICIARY_DETAILS_NOT_AVAILABLE,f=function(e,t){var n=this,a=n.context.dcu.dynamicContent,l=r.splitBeneficiaries(e),p={},m=n.model.get("accountInfo").accountType,f=m===i.ACCOUNT_TYPES.TAXABLE&&0===e.length;(Object.keys(l).forEach((function(e){p[e]=l[e].map((function(e){return e.countryName=a.get(n,"iso3CountryName."+e.countryCode),e}))})),n.model.set("isXs",r.isXs()),n.model.set("originalAccountBeneficiaries",e),n.model.set("accountBeneficiaries",p),n.model.set("accountBeneficiariesGroup",l),n.model.set("termsAcceptanceStatusLabel",r.getBeneficiaryContent(a,"termsAcceptanceStatusLabel",f?d:u)),["legalAgreementDisclosures","legalAgreementHeader","todPdfLink"].forEach((e=>{n.model.set(e,f?null:t&&t[e])})),n.model.set("consentVersion",f?i.NO_BENEFICIARIES_FOR_TAXABLE_ACCT_CONSENT_VERSION.V1:t&&t.consentVersion),n.model.get("tableViewOverlayName")===i.BENEFICIARY_TABLE_VIEW_OVERLAY_NAME.ATTESTATION)&&(function(e,t){var i=o.getInvalidBeneficiaries(e);return 0===(i=(i=i.concat(s.getInvalidBeneficiaries(e))).concat(c.getBeneficiaryMaximumFailures(e,t))).length}(e,m)||(n.model.set("beneficiaryValidationErrorStatus",!0),n.model.set("manageBeneficiaryDetailsErrorHeader",null),a.set(n,"manageBeneficiaryDetailsErrorAdvisory","BENEFICIARY_DETAILS_INVALID"),a.set(n,"manageBeneficiaryDetailsErrorHeader","BENEFICIARY_DETAILS_INVALID")))},A=function(e){return n.hideOverlay(t,t.model.get("tableViewOverlayName"),e).then((function(){t.model.set("viewBeneficiaryOverlay",!1),t.context.controller.emit("exitAccountBeneficiariesInformation")}))};return{init:function(){var e=(t=this).context.dcu.dynamicContent;t.context.globalContentMixin.call(t,["doneLabel","closeLabel","percentageSymbol","horizontalEllipsisSymbol","checkMarkAda","exitDialogAda"]),t.model.set("manageBeneficiaryDetailsErrorHeader",null),t.model.set("manageBeneficiaryDetailsErrorAdvisory",null),t.model.set("termsAcceptanceStatus",null),t.model.set("beneficiaryValidationErrorStatus",!1),t.model.set("termsAcceptanceStatusError",r.getBeneficiaryContent(e,"termsAcceptanceStatusError",i.ERROR_TYPE.MISSING_MANDATORY_DATA)),t.model.set("termsAcceptanceStatusLabel",r.getBeneficiaryContent(e,"termsAcceptanceStatusLabel",u)),t.model.set("addBeneficiaryLabel",r.getBeneficiaryContent(e,"addBeneficiaryLabel")),t.model.set("enableBeneficiaryAttestation",t.context.attestationDcFlag),e.set(t,"manageBeneficiaryDetailsErrorAdvisory","SYSTEM_FAILURE"),t.requestAttestationConfirmationOverlay=function(){}},exitAccountBeneficiariesInformation:function(){A("exitAccountBeneficiariesInformation")},requestExitConfirmBeneficiaries:function(){A("requestExitConfirmBeneficiaries")},updateAccountBeneficiaries:function(){A("updateAccountBeneficiaries").then((function(){var e=l.requestBeneficiariesDetailsUpdateUrl;t.context.state(e,{ai:t.model.get("accountInfo").accountId+""}),t.context.area.broadcast("dataOnUpdateBeneficiaries",{accountBeneficiaries:t.model.get("originalAccountBeneficiaries"),accountInfo:t.model.get("accountInfo"),classCode:t.model.get("classCode")})}))},authorizeBeneficiariesDetails:function(){var e=t.context.dcu.dynamicContent;if(t.model.get("termsAcceptanceStatus")){var o=t.model.get("accountInfo"),s=t.model.get("originalAccountBeneficiaries"),c=t.model.get("consentVersion"),l=t.model.get("classCode"),d=[];s.forEach((function(e){if(e.beneficiaryId){var t={};r.modelServiceBeneficiaryMapping(e,t,!0,!0),r.formatRequestFormData(t,e),t.action=i.BENEFICIARIES_ACTIONS.CONFIRM,d.push(t)}})),n.hideOverlay(t,i.BENEFICIARY_TABLE_VIEW_OVERLAY_NAME.ATTESTATION,"requestAttestationConfirmationOverlay").then((function(){n.showOverlay(t,i.BENEFICIARY_TABLE_VIEW_OVERLAY_NAME.CONFIRMATION)})),t.context.authorizeBeneficiariesDetails(o,d,l,c).then((function(){t.model.update({progressBarCurrentStepDescription:i.BENEFICIARIES_ATTESTATION_STEPS.DONE,accountBeneficiaries:t.model.get("originalAccountBeneficiaries"),tableViewOverlayName:i.BENEFICIARY_TABLE_VIEW_OVERLAY_NAME.CONFIRMATION}),t.requestAttestationConfirmationOverlay()}),(function(i){var n,r;try{n=JSON.parse(i.responseText),r=a.getUpdateServiceError(n)}catch(e){r=p}var o=r===m;t.model.set("beneficiaryValidationErrorStatus",o),t.model.set("manageBeneficiaryDetailsErrorHeader",null),e.set(t,"manageBeneficiaryDetailsErrorAdvisory",o?"BENEFICIARY_DETAILS_INVALID":"SYSTEM_FAILURE"),e.set(t,"manageBeneficiaryDetailsErrorHeader",o?"BENEFICIARY_DETAILS_INVALID":"SYSTEM_FAILURE")}))}else t.model.set("termsAcceptanceStatus",!1)},requestTransferOfDeathAgreementsDisclosures:function(){},acceptTermsConditions:function(){t.model.set("termsAcceptanceStatus",!t.model.get("termsAcceptanceStatus")),t.model.set("manageBeneficiaryDetailsErrorHeader",null)},requestTrustDetails:function(e){var i=e.domEvent.currentTarget.getAttribute("data-index"),n=i.split("-")[0],r=i.split("-")[1];e.context.trusteeDetailsExpand?t.model.set("accountBeneficiaries."+n+"."+r+".trusteeDetailsExpand",!1):t.model.set("accountBeneficiaries."+n+"."+r+".trusteeDetailsExpand",!0)},setViewData:function(e,t){f.call(this,e,t)}}})),define("profileArea/investments/employmentStatus/controllers/employmentStatus",["@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"],(function(e){"use strict";return function(t){var i=this,n="cxoweb_profile_investments_empStatus_enrolled";i.requestEmploymentStatus=function(){return t.profileContainer.setPageProperties({containerClasses:"legacy-profile-styles"}),e.getFeatureTreatments([n],{[n]:!1}).then((function(e){if(e[n])return[i.components.employmentStatus,"employmentStatus",t.renderTarget];t.profileContainer.exitMyProfile()}))}}})),define("profileArea/investments/employmentStatus/components/employmentStatus",[],(function(){"use strict";return function(){}})),define("profileArea/investments/estateBeneficiary/controllers/estateBeneficiary",[],(function(){"use strict";return function(e){var t=this;t.requestEstateBeneficiaryCenter=function(){return e.profileContainer.setPageProperties({containerClasses:"legacy-profile-styles"}),[t.components.estateBeneficiary,"estateBeneficiary",e.renderTarget]}}})),define("profileArea/investments/estateBeneficiary/components/estateBeneficiary",[],(function(){"use strict";return function(){}})),define("profileArea/investments/beneficiaries/lib/formHelper",["profileArea/sharedLib/profileConstants","profileArea/investments/beneficiaries/lib/beneficiariesUtil","blue/object/extend","common/utility/canadaProvinceUtil"],(function(e,t,i,n){"use strict";var r,a,o,s,c=n.mapCanadaProvince,l=[],d=e.BENEFICIARY_COUNTRY_CODE.DOMESTIC,u=function(e,t,i){p.call(this,e,e);var n=[[this.components[e],t,{target:i}]];return this.executeCAV(n)},p=function(e,t){this.registry.hasComponent(e)||this.registry.updateComponent(e,{model:this.model.lens(t)})},m=function(){var e=this.context.globalContent,i=e.endOfSelectionAda,n=e.currentSelectionAda,r=e.errorAnnouncementAda;return{layoutDirection:t.isXs()||hybrid?"vertical":"horizontal",endOfSelectionAda:i,currentSelectionAda:n,errorAnnouncementAda:r}},f=function(t){var i,n={},r=this.model.get("addressVerificationOverlay");return i=1===t?r.recommendedAddress:r.originalAddress,n.mailingAddressLineOne=i.line1,n.mailingAddressLineTwo=i.line2,n.zipCode=i.zipcode,n.stateName=i.stateCode,n.cityName=i.city,n.countryCode=e.BENEFICIARY_COUNTRY_CODE.DOMESTIC,n},A=function(){var e=this.model.get("militaryAddressBlock"),t={};return t.mailingAddressLineOne=e.addressLine1,t.mailingAddressLineTwo=e.addressLine2,t.militaryRegionId=e.militaryRegionId,t.zipCode=e.postalCode,t.stateName=e.militaryRegionId,t.cityName=e.postOfficeTypeId,t.countryCode="",t},g=function(){var e=this.model.get("internationalAddressBlock"),t={};return t.mailingAddressLineOne=e.addressLine1,t.mailingAddressLineTwo=e.addressLine2,t.zipCode=e.postalCode,t.stateName=e.provinceId,t.cityName=e.cityId,t.countryCode=e.countryId,t},E=function(){var t=this.model.get("canadaAddressBlock"),i={};return i.mailingAddressLineOne=t.addressLine1,i.mailingAddressLineTwo=t.addressLine2,i.zipCode=t.postalCode,i.stateName=c(t.provinceId),i.cityName=t.cityId,i.countryCode=e.BENEFICIARY_COUNTRY_CODE.CANADA,i},y=function(e){var t=this.model.get("domesticAddressBlock");t.streetAddress=e.mailingAddressLineOne,t.apartmentNumber=e.mailingAddressLineTwo,t.zipCode=e.zipCode,t.stateId=e.stateName,t.cityId=e.cityName,this.model.set("domesticAddressBlock",t)},h=function(t){var i=this.model.get("militaryAddressBlock");i.addressLine1=t.mailingAddressLineOne,i.addressLine2=t.mailingAddressLineTwo,i.postalCode=t.zipCode,i.militaryRegionId=t.stateName,i.postOfficeTypeId=e.MILITARY_POST_OFFICE_TYPES.APO,this.model.set("militaryAddressBlock",i)},v=function(e){var t=this.model.get("internationalAddressBlock");t.addressLine1=e.mailingAddressLineOne,t.addressLine2=e.mailingAddressLineTwo,t.postalCode=e.zipCode,t.provinceId=e.stateName,t.cityId=e.cityName,t.countryId=e.countryCode,this.model.set("internationalAddressBlock",t)},C=function(e){var t=this.model.get("canadaAddressBlock");t.addressLine1=e.mailingAddressLineOne,t.addressLine2=e.mailingAddressLineTwo,t.postalCode=e.zipCode,t.provinceId=c(e.stateName),t.cityId=e.cityName,this.model.set("canadaAddressBlock",t)},_=function(t,i){t.beneficiaryType===e.BENEFICIARIES_TYPES.INDIVIDUAL&&(i.firstName=t.firstName,i.lastName=t.lastName,i.middleName=t.middleName,i.suffixId=t.suffixName)},S=function(n){var a,o={},s=this.model.get("addEditBeneficiary.accountBeneficiaries")[0];return o.beneficiaryDesignation=s.beneficiaryDesignation,o.beneficiaryType=s.beneficiaryType,o.perStirpesStatus=t.getPerStirpesStatus(!1,o.beneficiaryType),s.beneficiaryType===e.BENEFICIARIES_TYPES.INDIVIDUAL?(a=this.model.get("nameInformationBlock"),o.firstName=a.firstName,o.middleName=a.middleName,o.lastName=a.lastName,o.suffixName=a.suffixId,o.dateOfBirth=s.dateOfBirth,o.beneficiaryRelationship=s.beneficiaryRelationship,o.beneficiaryName=t.getBeneficiaryName(o)):s.beneficiaryType===e.BENEFICIARIES_TYPES.TRUST?(o.trustName=o.beneficiaryName=s.beneficiaryName,o.trusteeDetails=s.trusteeDetails,o.trustEstablishedDate=s.trustEstablishedDate):o.entityName=o.beneficiaryName=s.beneficiaryName,s.identificationType?(o.identificationType=s.identificationType,o.socialSecurityNumber=s.socialSecurityNumber,o.individualTaxpayerIdentificationNumber=s.individualTaxpayerIdentificationNumber,o.employerIdentificationNumber=s.employerIdentificationNumber):(o.identificationType="",o.socialSecurityNumber="",o.individualTaxpayerIdentificationNumber="",o.employerIdentificationNumber=""),o.addressCategoryId=r,o=i(o,T[r].call(this,!1,null,n))},T={MILITARY:function(e,t){return e?h.call(this,t):A.call(this)},DOMESTIC:function(e,t,i){return e?y.call(this,t):f.call(this,i)},INTERNATIONAL:function(e,t){return e?v.call(this,t):g.call(this)},CANADA:function(e,t){return e?C.call(this,t):E.call(this)}},N=function(){var e,t=this.model.get("multiTypeAddressBlock.addressCategoryId"),i=this.model.get("isEditOverlayInit");t&&r!==t&&(r=t,e=a[t].component,u.call(this,e,e+"/"+a[t].view,"#blx-multiAddressBlock-addr-container"),this.components[e].model.set("byPass.stateOrProvince",1)),this.model.set("internationalAddressBlock.byPass.stateId",1),this.model.set("internationalAddressBlock.byPass.provinceId",0),this.model.set("internationalAddressBlock.byPass.countries",1),i||I.call(this),this.model.set("isEditOverlayInit",!1)},I=function(){y.call(this,{mailingAddressLineOne:"",mailingAddressLineTwo:"",zipCode:"",stateName:"",cityName:""}),h.call(this,{mailingAddressLineOne:"",mailingAddressLineTwo:"",zipCode:"",stateName:"",cityName:""}),C.call(this,{mailingAddressLineOne:"",mailingAddressLineTwo:"",zipCode:"",stateName:"",cityName:""}),v.call(this,{mailingAddressLineOne:"",mailingAddressLineTwo:"",zipCode:"",stateName:"",cityName:"",countryCode:""}),this.model.set("domesticAddressBlock.stateNames",""),this.model.set("domesticAddressBlock.cityNames",""),this.model.set("domesticAddressBlock.v",null),this.model.set("militaryAddressBlock.v",null),this.model.set("internationalAddressBlock.v",null),this.model.set("canadaAddressBlock.v",null)},b=function(){var e=this;!P(o,e.model.get("domesticAddressBlock.zipCode"))&&s||D.call(e),o=e.model.get("domesticAddressBlock.zipCode")},D=function(){var e=this;e.components.addEditBeneficiary.clearFormError(),this.dataProvider.request("beneficiaries.getCityState",{zipCode:this.model.get("domesticAddressBlock.zipCode"),spinner:{target:"#addEditBeneficiaryModal",focusId:"cancelBeneficiaryDetails"}}).then((function(t){if(t){var i=e.model.get("domesticAddressBlock");e.model.set("domesticAddressBlock",i),e.model.get("domesticAddressBlock.zipCodeErrorDisplayed")?(e.components.domesticAddressBlock._invalidateField({property:"zipCode",errorType:"INVALID_ZIP_CODE"}),s=!1,O.call(e),e.components.addEditBeneficiary.displayCityStateFailureError("INVALID_ZIP_CODE")):s=!0,i.cityNames&&(1===i.cityNames.length?e.doFocus({key:"beneficiariesUpdate",target:"#blx-domesticAddressBlock-city-fldgrp"}):e.doFocus({key:"beneficiariesUpdate",target:"#header-blx-domesticAddressBlock-city-fldgrp-styledselect"}))}else e.components.addEditBeneficiary.displayCityStateFailureError("CITY_AND_STATE_NOT_AVAILABLE"),o=null,O.call(e)})).catch((function(t){e.context.logger.error("Beneficiaries - Get City State Service Failed: ",t)}))},O=function(){this.model.set("domesticAddressBlock.cityId",""),this.model.set("domesticAddressBlock.stateId","")},P=function(e,t){return e!==t},L=function(e,t){var i=!1;e.validateFormData(),M(e,l);for(var n=0;n<t.length&&(i=e.v[t[n].split(".").join("")].isValid);n++);return i},M=function(e,t){["accountBeneficiaries.0.dateOfBirth","accountBeneficiaries.0.trustEstablishedDate"].forEach((i=>{var n=e.model.get(i);if((!n||""===n)&&t.indexOf(i)>-1){var r=i.split("."),a=document.querySelector("#"+r[2]);a&&a._textInput._clearErrorMessages();var o=e.v[r.join("")];void 0!==o&&(o.isValid=!0,o.errorType="",o.errorMessage="")}}))},R=function(e,t){var i=this.components.addEditBeneficiary.triggerHideAnalyticOverlayEvent,n=this;i((function(){n.context.saveAddressVerifiedBeneficiary(S.call(n,t))}))},U=function(){this.doFocus({key:"beneficiariesUpdate",target:"#saveBeneficiaryDetails"})},k=function(e,t,i){return e&&e.address[t]?e.address[t]:i},F={SSN:"accountBeneficiaries.0.socialSecurityNumber",ITIN:"accountBeneficiaries.0.individualTaxpayerIdentificationNumber",TIN:"accountBeneficiaries.0.employerIdentificationNumber"};return{registerAddressBlock:function(n,s,c){var l,d,u,p,f=this,A=f.model,g=m.call(f);f.model.set("multiTypeAddressBlock",i({blockId:"blx-multiAddressBlock",addressTypes:e.ADDRESS_CATEGORY_TYPES_LIST,addressCategoryId:c?s.addressCategoryId:e.ADDRESS_CATEGORY_TYPES.DOMESTIC},g)),f.model.set("domesticAddressBlock",i({blockId:"blx-domesticAddressBlock",POBoxes:!1,COAddresses:!1},g)),f.model.set("canadaAddressBlock",i({blockId:"blx-canadaAddressBlock"},g)),f.model.set("internationalAddressBlock",i({blockId:"blx-internationalAddressBlock"},g)),f.model.set("militaryAddressBlock",i({blockId:"blx-militaryAddressBlock",postOfficeTypes:[]},g)),f.model.set("isEditOverlayInit",c),f.changeAddressBlock=N.bind(f),f.context.handleZipCodeEntered=b.bind(f),f.context.addressVerificationOverlaySelected=R.bind(f),f.context.addressVerificationOverlayExited=U.bind(f),o=null,p=f.model.get("multiTypeAddressBlock.addressCategoryId")||e.ADDRESS_CATEGORY_TYPES.DOMESTIC,r=p,u=(l=A.get()).domesticAddressBlock,d=l.militaryAddressBlock,l.multiTypeAddressBlock.addressCategories=e.ACCOUNT_ADDRESS_CATEGORIES[n],l.internationalAddressBlock.countries=t.fetchContentKeyVariationsList.call(f,"iso3CountryName",!1,!0,"name"),d.militaryRegions=t.fetchContentKeyVariationsList.call(f,"militaryRegionName"),d.selectDataPlaceholder=f.model.get("addEditBeneficiary.beneficiaryOptionsPlaceholder"),d.postOfficeTypes=[{name:e.MILITARY_POST_OFFICE_TYPES.APO_FPO,value:e.MILITARY_POST_OFFICE_TYPES.APO}],l.canadaAddressBlock.provinceNames=t.fetchContentKeyVariationsList.call(f,"provinceName"),a=e.ACCOUNT_ADDRESS_CATEGORY_COMPS[n],c&&(l.multiTypeAddressBlock.addressCategoryId=s.addressCategoryId,u.cityNames=[{name:s.cityName,value:s.cityName}],u.stateNames=[{name:s.stateName,value:s.stateName}],T[p].call(f,c,s)),f.registry.hasComponent("multiTypeAddressBlock")||f.registry.updateComponent("multiTypeAddressBlock",{model:f.model.lens("multiTypeAddressBlock")}),f.registry.hasComponent(a[p].component)||f.registry.updateComponent(a[p].component,{model:f.model.lens(a[p].component)});var E=f.components[a[p].component],y=[[f.components.multiTypeAddressBlock,"multiTypeAddressBlock/multiTypeView",{target:"#investments-beneficiaries-addressComp-Block"}],[E,a[p].component+"/"+a[p].view,{target:"#blx-multiAddressBlock-addr-container"}]];E.model.set("byPass.stateOrProvince",1),f.executeCAV(y)},registerNameBlock:function(e,t){var i,n;this.model.set("nameInformationBlock",{nameInformationBlock:{blockId:"blx-nameInformationBlock",layoutDirection:"horizontal"}}),(n=(i=this.model.lens("nameInformationBlock")).get()).nameSuffixes=this.context.dcu.dynamicContent.getList(this.components.addEditBeneficiary,"suffixNameOptions","value","name"),t&&_(e,n),i.set(n),u.call(this,"nameInformationBlock","nameInformationBlock/nameInformationView","#investments-beneficiaries-nameInfoComp-Block")},registerAddressVerificationOverlay:function(e,t,i){this.model.set("addressVerificationOverlay",{blockId:"blx-addressVerificationOverlay",addresses:e.addresses,addressId:e.addressId,beneficiaryEditIndex:i,isEdit:t}),u.call(this,"addressVerificationOverlay","addressVerificationOverlay/addressVerificationOverlayView","#addressVerificationOverlay")},getBeneficiaryFormData:S,isFormValid:L,resetAddressBlock:I,createAddressOverlayData:function(t,i){return void 0===t.addressLine2&&(t.addressLine2=""),{addresses:[{address:{city:t.city,countryCode:d,line1:t.addressLine1,line2:t.addressLine2?t.addressLine2:"",stateCode:t.stateCode,zipcode:t.zipCode,type:d},addressId:2,addressType:e.ADDRESS_TYPES.ORIGINAL},{address:{city:k(i,"cityName",t.city),countryCode:d,line1:k(i,"addressLine1Text",t.addressLine1.toUpperCase()),line2:k(i,"addressLine2Text",""),stateCode:k(i,"stateProvinceCode",t.stateCode),zipcode:i&&i.address.postalCode?i.address.postalCode.slice(0,5):t.zipCode,type:d},addressId:1,addressType:e.ADDRESS_TYPES.RECOMMENDED}],addressId:1}},validateBenficiaryForm:function(e){var t=!0,i=!0;return e.forEach((function(e){e.isNonBlock?(e.model.set("accountBeneficiaries.0.whiteList",l),i=L(e,l)):(e.validateFormData(),t=t&&e.v.isFormValid)})),t&&i},setFieldsToValidate:function(e,t){l=[],l=function(e){var t="accountBeneficiaries.0.",i=t+"beneficiaryDesignation",n=t+"beneficiaryName";return{TRUST:[i,n,t+"trustEstablishedDate"],ENTITY:[i,n],INDIVIDUAL:[i,t+"beneficiaryRelationship",t+"dateOfBirth"],DEFAULT:[t+"beneficiaryType",i]}[e||"DEFAULT"]}(e),t&&l.push(F[t])},setBlockFieldError:function(e,t,i,n){var r=e.context.dcu.dynamicContent.get(e,i+"."+n);e.model.set("v."+t+".isValid",!1),e.model.set("v."+t+".errorMessage",r),e.model.set("v."+t+".errorType",n),e.validateFormData()}}})),define("profileArea/investments/beneficiaries/dataProviders/beneficiariesUpdate",["require","profileArea/investments/beneficiaries/lib/formHelper","profileArea/investments/beneficiaries/dataProviders/benDataProviderHelper","profileArea/sharedLib/profileConstants"],(function(e){"use strict";var t=e("profileArea/investments/beneficiaries/lib/formHelper"),i=e("profileArea/investments/beneficiaries/dataProviders/benDataProviderHelper"),n=e("profileArea/sharedLib/profileConstants"),r=function(e,t){return t.result.category},a=function(){},o=function(e,t){return{success:e,failure:t}};return{beneficiaries:{getCityState:o((function(e,t,i,n){var r=n.get("domesticAddressBlock");return t&&(!t||!t.statusCode&&t.pricingRegions&&t.pricingRegions[0].city&&t.pricingRegions[0].state)?function(e,t){let i=e.pricingRegions.map((e=>e.city)),n=[],r=[],a="",o="",s=t.cityId||i[0].toUpperCase();for(var c in i)i.hasOwnProperty(c)&&(a=s===i[c].toUpperCase()?i[c].toUpperCase():i[0].toUpperCase(),n.push({name:i[c],value:i[c].toUpperCase()}));let l=e.pricingRegions[0].state;""!==l&&(r.push({name:l,value:e.pricingRegions[0].state}),o=r[0].value),t.cityNames=n,t.stateNames=r,t.cityId=a,t.stateId=o}(t,r):r.zipCodeErrorDisplayed=!0,!0}),(function(e,t,i,n){return n.set("domesticAddressBlock.zipCodeErrorDisplayed",!0),!1})),getBeneficiariesTypeDisclaimers:o((function(e,t){return t.result["legal-disclaimer-page"].disclosures}),(function(){})),validateAddress:o((function(e,i){return i&&i.statusCode?i:(n=e.params,r=i,t.createAddressOverlayData(n,r));var n,r}),(function(e,t){var i=n.ADDRESS_TRILIUM_ERRORS.SYSTEM_FAILURE;if(t&&t.responseText){var r=JSON.parse(t.responseText),a=r&&r.errors&&r.errors[0]&&r.errors[0].serviceErrorCode||"";a!==n.PARTY_NORMALIZER_ERROR_CODES.ES_CIS_CST_NORM_BUS_102&&a!==n.PARTY_NORMALIZER_ERROR_CODES.ES_CIS_CST_NORM_BUS_103||(i="STREET_NAME_NOT_FOUND")}return{statusCode:i}})),getBeneficiariesRetireLegalAgreement:o(r,a),getBeneficiariesTodLegalAgreement:o(r,a),getBeneficiariesTodLegalAgreementPdf:o((function(e,t){return t}),(function(){})),saveBeneficiariesSDAI:o((function(e,t,i,n){n.set("beneficiariesUpdate.isServiceError",!1)}),(function(e,t,n,r){r.set("beneficiariesUpdate.isServiceError",!0),r.set("beneficiariesUpdateFooter.serviceErrorVariation",i.getUpdateServiceError(JSON.parse(t.responseText)))}))}}})),define("profileArea/investments/beneficiaries/lib/beneficiariesUpdateHelper",["require","profileArea/investments/beneficiaries/lib/formHelper","profileArea/sharedLib/profileConstants","profileArea/investments/beneficiaries/lib/beneficiariesUtil"],(function(e){"use strict";var t=e("profileArea/investments/beneficiaries/lib/formHelper"),i=e("profileArea/sharedLib/profileConstants"),n=e("profileArea/investments/beneficiaries/lib/beneficiariesUtil"),r={STREET_NAME_NOT_FOUND:function(e){t.setBlockFieldError(this.components[e],"zipCode","zipCodeError","INVALID_ZIP_CODE"),t.setBlockFieldError(this.components[e],"streetAddress","streetAddressError","STREET_NAME_NOT_FOUND")},INVALID_COUNTRY_ADDRESS:function(){},SYSTEM_FAILURE:function(){}},a={DOMESTIC:function(e,i,n){t.registerAddressVerificationOverlay.call(this,n,e,i)},INTERNATIONAL:function(e,i,n,r){r(e,i,t.getBeneficiaryFormData.call(this))}};return{saveBeneficiaryDetails:function(e,o,s,c){var l=this,d=this.model.get("multiTypeAddressBlock.addressCategoryId"),u={DOMESTIC:"domesticAddressBlock",INTERNATIONAL:"internationalAddressBlock",CANADA:"canadaAddressBlock",MILITARY:"militaryAddressBlock"},p=[this.components.addEditBeneficiary];if(e.beneficiaryType&&(e.beneficiaryType===i.BENEFICIARIES_TYPES.INDIVIDUAL&&p.push(this.components.nameInformationBlock),p.push(this.components[u[d]])),this.components.addEditBeneficiary.isNonBlock=!0,t.validateBenficiaryForm(p)){var m=n.handleAddressTrilium.call(this,d),f=i.ADDRESS_TRILIUM_ERRORS;this.components.addEditBeneficiary.clearFormError(),m&&"object"==typeof m?this.dataProvider.request("beneficiaries.validateAddress",m).then((function(e){e&&e.statusCode?(l.components.addEditBeneficiary.displayFormError(f[e.statusCode]),r[e.statusCode].call(l,u[d])):a[d].call(l,o,s,e,c)})).catch((function(e){l.context.logger.error("Beneficiaries Validate Address Service Failed: ",e)})):d===i.ADDRESS_CATEGORY_TYPES.DOMESTIC?this.components.addEditBeneficiary.displayFormError(i.ADDRESS_TRILIUM_ERRORS.STREET_NAME_NOT_FOUND):c(o,s,t.getBeneficiaryFormData.call(this))}else this.components.addEditBeneficiary.displayFormError("MISSING_MANDATORY_DATA")}}})),define("profileArea/investments/beneficiaries/components/addEditBeneficiary",["require","profileArea/sharedLib/profileConstants","moment","appkit-utilities/validation/componentValidate","profileArea/investments/beneficiaries/lib/validators/formValidation","profileArea/investments/beneficiaries/lib/formHelper","profileArea/investments/beneficiaries/lib/beneficiariesUtil","appkit-utilities/analytics/overlay"],(function(e){"use strict";var t,i,n,r,a=!1,o=e("profileArea/sharedLib/profileConstants"),s=e("moment"),c=e("appkit-utilities/validation/componentValidate"),l=e("profileArea/investments/beneficiaries/lib/validators/formValidation"),d=e("profileArea/investments/beneficiaries/lib/formHelper"),u=e("profileArea/investments/beneficiaries/lib/beneficiariesUtil"),p=e("appkit-utilities/analytics/overlay"),m=u.focusTypeConstants,f=o.IDENTIFICATION_TYPES,A=o.BENEFICIARIES_TYPES,g=o.BENEFICIARIES_CATEGORIES,E=o.BENEFICARIES_DESIGNATIONS_STATUS,y=o.BENEFICIARIES_INDIVIDUAL_RELATIONSHIP,h={label:f.SSN.name,value:f.SSN.key},v={label:f.TIN.name,value:f.TIN.key},C={label:f.ITIN.name,value:f.ITIN.key},_=function(){},S=function(e){var i=[],n=t.beneficiaryOptionsPlaceholder;return i.push({label:n,value:"0"}),e===A.ENTITY?i.push(h,v):e===A.INDIVIDUAL?i.push(h,C):i.push(h,C,v),i},T=function(e,i){var n=t.v||{};return e=e.length?e:Object.keys(n),Object.keys(n).forEach((function(t){e.indexOf(t)>=0&&i.indexOf(t)<0&&delete n[t]})),n},N=function(e){return e>=o.MAXIMUM_TRUSTEES};return{init:function(){n=(t=this).context.dcu.dynamicContent,t.context.globalContentMixin.call(t,["optionalLabel","openParenthesesSymbol","closeParenthesesSymbol","horizontalEllipsisSymbol","currentSelectionAda","endOfSelectionAda","importantAda","beginHelpMessageAda","exitHelpMessageAda","endHelpMessageAda","errorAnnouncementAda"]),t.model.set("beneficiaryTypes",[{beneficiaryTypeName:n.get(t,"beneficiaryTypeOption",A.INDIVIDUAL),beneficiaryType:A.INDIVIDUAL},{beneficiaryTypeName:n.get(t,"beneficiaryTypeOption",A.ENTITY),beneficiaryType:A.ENTITY},{beneficiaryTypeName:n.get(t,"beneficiaryTypeOption",A.TRUST),beneficiaryType:A.TRUST}]),t.model.set("relationshipOptions",[{relationshipOption:n.get(t,"beneficiaryRelationshipOptions",y.SPOUSE),relationshipOptionId:y.SPOUSE},{relationshipOption:n.get(t,"beneficiaryRelationshipOptions",y.BENEFICIARY_NOT_SPOUSE),relationshipOptionId:y.BENEFICIARY_NOT_SPOUSE}]);var e={area:{name:"profile"},spec:{name:"EXIT_CONFIRMATION"}};t.model.set("exitConfirmationHeader",t.context.dcu.dynamicContent.get(e,"exitConfirmationHeader")),t.model.set("exitConfirmationMessage",t.context.dcu.dynamicContent.get(e,"exitConfirmationMessage")),c.call(this,this.context,l.beneficiaryFormValidators),t.model.set("maxDateOfBirth",s().format("MM/DD/YYYY"))},syncModel:function(){t.model.set("accountBeneficiaries",t.model.get("accountBeneficiaries"))},setBeneficiaryData:function(e,r,s,c){var l="beneficiaryRelationshipOptions",d="beneficiaryTypeOption",p="beneficiaryDesignationHelpMessage",m=r&&r.beneficiaryType,f=r?[r]:[{beneficiaryDesignation:"",beneficiaryName:"",beneficiaryType:"",beneficiaryAllocationPercentage:"",trusteeDetails:[],identificationTypes:[],trustEstablishedDate:"",socialSecurityNumber:"",individualTaxpayerIdentificationNumber:"",employerIdentificationNumber:"",dateOfBirth:""}],h=t.openParenthesesSymbol+t.horizontalEllipsisSymbol+e.accountMaskNumber+t.closeParenthesesSymbol,v={accountName:e.accountName,accountMaskNumber:h};if(a=s,i=c,e.accountType!==o.ACCOUNT_TYPES.RETIREMENT?(f[0].isNonRetirementAccount=!0,n.set(t,p,"TAXABLE_BROKERAGE_ACCOUNT")):n.set(t,p,"RETIREMENT_BROKERAGE_ACCOUNT"),f[0].isEditMode=s,t.model.set("relationshipOptions",[{relationshipOption:n.get(t,l,y.SPOUSE),relationshipOptionId:y.SPOUSE},{relationshipOption:n.get(t,l,y.BENEFICIARY_NOT_SPOUSE),relationshipOptionId:y.BENEFICIARY_NOT_SPOUSE}]),t.model.set("beneficiaryTypes",[{beneficiaryTypeName:n.get(t,d,A.INDIVIDUAL),beneficiaryType:A.INDIVIDUAL},{beneficiaryTypeName:n.get(t,d,A.ENTITY),beneficiaryType:A.ENTITY},{beneficiaryTypeName:n.get(t,d,A.TRUST),beneficiaryType:A.TRUST}]),t.model.set("beneficiaryDesignations",function(e,i){var r="beneficiaryDesignationOption",a={beneficiaryDesignationName:n.get(t,r,g.PRIMARY),beneficiaryDesignation:g.PRIMARY},o={beneficiaryDesignationName:n.get(t,r,g.CONTINGENT),beneficiaryDesignation:g.CONTINGENT},s=t.model.get("designationOptionsConfig")||E;return i?e.isNonRetirementAccount=s.isEditModeDisabled&&s.isEditModeDisabled(e.beneficiaryDesignation):(a.disabled=!s.PRIMARY,o.disabled=!s.CONTINGENT,e.beneficiaryDesignation=s.selectedOption,e.isNonRetirementAccount=s.isDisabled),[a,o]}(f[0],s)),u.byPassComponentFields(t,["accountBeneficiaries"]),s&&(t.model.set("identificationTypes",S(m)),n.set(t,"informationHeader",f[0].beneficiaryType),m===A.TRUST&&t.model.set("isAddTrusteeDisabled",N(r.trusteeDetails.length)),f[0].trusteeDetails=f[0].trusteeDetails||[]),t.model.set("accountBeneficiaries",f),m===A.TRUST&&f[0].trustEstablishedDate){var C=document.querySelector("#trustEstablishedDate");C&&(C.selectedDate=f[0].trustEstablishedDate)}else if(m===A.INDIVIDUAL&&f[0].dateOfBirth){var _=document.querySelector("#dateOfBirth");_&&(_.selectedDate=f[0].dateOfBirth)}n.setMultiple(this,[{key:"updateAccountBeneficiariesHeader",props:v},{key:"addAccountBeneficiariesHeader",props:v}])},requestBeneficiaryDesignationOption:_,requestBeneficiaryTypeOption:function(e){var i="accountBeneficiaries.0.";t.model.set("identificationTypes",[]),t.model.set(i+"identificationType",""),t.model.set("identificationTypes",S(e.domEvent.currentTarget.value)),t.model.set(i+"beneficiaryName",""),t.model.set(i+"dateOfBirth",""),t.model.set(i+"trustEstablishedDate",""),t.model.set(i+"socialSecurityNumber",""),t.model.set(i+"employerIdentificationNumber",""),t.model.set(i+"individualTaxpayerIdentificationNumber",""),t.model.set(i+"beneficiaryRelationship",""),t.context.requestBeneficiaryTypeOption(t.model.get("accountBeneficiaries")[0].beneficiaryType),n.set(t,"informationHeader",t.model.get("accountBeneficiaries")[0].beneficiaryType),t.v=T([],["accountBeneficiaries0beneficiaryDesignation"]),t.model.set("isAddTrusteeDisabled",!1),t.model.formatOptions=function(e){let t=e||[];return t.forEach((e=>{Object.keys(e).forEach((t=>{e[t]=`${e[t]}`}))})),JSON.stringify(t)}},requestIdentificationTypeOption:function(e){t.model.set("accountBeneficiaries.0.socialSecurityNumber",""),t.model.set("accountBeneficiaries.0.individualTaxpayerIdentificationNumber",""),t.model.set("accountBeneficiaries.0.employerIdentificationNumber",""),t.v=T(["accountBeneficiaries0socialSecurityNumber","accountBeneficiaries0individualTaxpayerIdentificationNumber","accountBeneficiaries0employerIdentificationNumber"],[]),d.setFieldsToValidate(t.model.get("accountBeneficiaries")[0].beneficiaryType,!(!e.domEvent.currentTarget.value||"0"===e.domEvent.currentTarget.value)&&e.domEvent.currentTarget.value)},cancelBeneficiaryUpdate:function(){t.context.exitBeneficiaryDetails()},backToAddEditBeneficiary:function(){t.model.set("showAddEditTrust",!1)},saveBeneficiaryDetails:function(){t.context.saveBeneficiaryDetails(t.model.get("accountBeneficiaries")[0],a,i)},triggerHideAnalyticOverlayEvent:function(e){p.hideOverlay(t,r,"closeBeneficiaryUpdate").then((function(){e()})),t.closeBeneficiaryUpdate()},closeBeneficiaryUpdate:_,updateTrusteeName:function(e){var i=t.model.get("accountBeneficiaries")[0].trusteeDetails;t.model.set("accountBeneficiaries.0.trusteeDetails",i),t.context.updateTrusteeName(e.context.targetKey,e.context.trustee,e.context.index)},addTrusteeName:function(){t.model.set("showAddEditTrust",!0),t.context.addTrusteeName()},saveTrusteeName:function(e,i,n){var r=t.model.get("accountBeneficiaries");i?r[0].trusteeDetails[e]=n:r[0].trusteeDetails.push(n),t.model.set("isAddTrusteeDisabled",N(r[0].trusteeDetails.length)),t.model.set("accountBeneficiaries",r)},deleteTrusteeName:function(e){t.context.deleteTrusteeName(e.context.index),t.model.set("isAddTrusteeDisabled",!1)},displayFormError:function(e){n.set(t,"manageBeneficiaryDetailsErrorHeader",e),t.model.set("accountBeneficiaries.0.displayError",!0),t.context.doFocus(m.BENEFICIARY_FORM_ERROR)},clearFormError:function(){t.v=null,t.model.set("accountBeneficiaries.0.displayError",!1),t.model.set("accountBeneficiaries.0.displayCityStateError",!1)},displayCityStateFailureError:function(e){n.set(t,"beneficiaryAddressErrorHeader",e),t.model.set("accountBeneficiaries.0.displayCityStateError",!0),t.context.doFocus(m.BENEFICIARY_CITY_STATE_ERROR)},requestBeneficiaryDesignationHelpMessage:_,requestBeneficiaryTypeHelpMessage:_,handleAnalytics:function(e){r=e?"addBeneficiaryOverlay":"updateBeneficiaryOverlay",p.showOverlay(t,r)},formatDOB:function(e){var i=u.formatDOB(e.domEvent.currentTarget._value);t.model.get("accountBeneficiaries")[0][e.domEvent.currentTarget.id]=i,""!==i&&i||(t.v=T(["accountBeneficiaries0"+e.domEvent.currentTarget.id],[])),t.trigger("validateField",e)}}})),define("profileArea/investments/beneficiaries/components/addEditTrustee",["require","appkit-utilities/validation/componentValidate","profileArea/investments/beneficiaries/lib/validators/formValidation","profileArea/investments/beneficiaries/lib/formHelper","profileArea/investments/beneficiaries/lib/beneficiariesUtil","appkit-utilities/analytics/overlay"],(function(e){"use strict";var t,i,n,r,a=e("appkit-utilities/validation/componentValidate"),o=e("profileArea/investments/beneficiaries/lib/validators/formValidation"),s=e("profileArea/investments/beneficiaries/lib/formHelper"),c=e("profileArea/investments/beneficiaries/lib/beneficiariesUtil"),l=c.focusTypeConstants,d=e("appkit-utilities/analytics/overlay");return{init:function(){r=(t=this).context.dcu.dynamicContent,t.context.globalContentMixin.call(t,["closeLabel","optionalLabel","currentSelectionAda","endOfSelectionAda","errorAnnouncementAda","importantAda"]),a.call(this,this.context,o.trusteeFormValidators),t.model.set("v",null)},setTrusteeData:function(e,a){var o,s,l=[];i=a,(n=!!e)?(l.push(e),o=l):o=[{firstName:"",lastName:"",middleName:""}],c.byPassComponentFields(t,["trusteeDetails"]),o[0].displayError=!1,t.model.set("trusteeDetails",o),t.model.set("trusteeSuffixOptions",((s=r.getList(t,"suffixNameOptions","value","label")).splice(0,0,{label:t.beneficiaryOptionsPlaceholder,value:""}),s)),t.model.set("trusteeDetails.0.whiteList",["trusteeDetails.0.firstName","trusteeDetails.0.lastName","trusteeDetails.0.middleName"])},confirmTrusteeUpdate:function(){s.isFormValid(t,t.model.get("trusteeDetails.0.whiteList"))?t.context.confirmTrusteeUpdate(i,n,t.model.get("trusteeDetails")[0]):(r.set(t,"manageBeneficiaryDetailsErrorHeader","MISSING_MANDATORY_DATA"),t.model.set("trusteeDetails.0.displayError",!0),t.context.doFocus(l.TRUSTEE_FORM_ERROR))},exitTrusteeUpdate:function(){t.context.exitTrusteeUpdate(i,n)},handleAnalytics:function(e){d.showOverlay(t,e?"addTrusteeOverlay":"updateTrusteeOverlay")}}})),define("profileArea/investments/beneficiaries/components/beneficiariesTypeDisclaimers",[],(function(){"use strict";return{init:function(){},requestPdf:function(e){this.context.application.broadcast("makeNavigation",{navKey:e.href})}}})),define("profileArea/investments/beneficiaries/controllers/beneficiariesUpdate",["profileArea/investments/beneficiaries/dataProviders/beneficiariesUpdate","profileArea/investments/beneficiaries/dataProviders/benCommonMapper","profileArea/investments/beneficiaries/dataProviders/benDataProviderHelper","blue/util","profileArea/investments/beneficiaries/lib/formHelper","profileArea/investments/beneficiaries/lib/beneficiariesUtil","profileArea/sharedLib/profileConstants","profileArea/sharedLib/investmentsLib/investmentDisclosuresUtility","common/lib/utility/commonComponentsUtil","profileArea/investments/beneficiaries/lib/beneficiariesUpdateHelper","profileArea/investments/beneficiaries/lib/validators/beneficiariesModelHelper","profileArea/investments/beneficiaries/lib/beneficiariesHybridUtil","profileArea/investments/beneficiaries/components/spec/investment_beneficiary_details","profileArea/investments/beneficiaries/components/addEditBeneficiary","profileArea/investments/beneficiaries/components/addEditTrustee","profileArea/investments/beneficiaries/components/beneficiariesTypeDisclaimers","common/lib/API/contextValidation/contextValidationAPI","profileArea/sharedLib/featureProvider","profileArea/sharedLib/dashboardSettings","common/lib/elementObserver","blue/store/enumerable/memory"],(function(e,t,i,n,r,a,o,s,c,l,d,u,p,m,f,A,g,E,y,h,v){"use strict";var C,_,S,T,N,I,b,D,O,P=new h,L=a.focusTypeConstants,M=n.object.extend,R=o.BENEFICIARIES_UPDATE_STEPS.UPDATE,U=o.BENEFICIARIES_UPDATE_STEPS.REVIEW,k=o.BENEFICIARIES_UPDATE_STEPS.AUTHORIZE,F=o.BENEFICIARIES_UPDATE_STEPS.CONFIRMATION,w={UPDATE:function(){return C.context.state().action.params.ai===(_&&_.accountInfo&&_.accountInfo.accountId)+""}},x={target:"#spinner-container",overlayType:"INSECTION",append:!0},B=["addEditBeneficiary","nameInformationBlock","domesticAddressBlock","militaryAddressBlock","internationalAddressBlock","canadaAddressBlock"],H="Edit Beneficiaries",V=function(e,t,i,n){C.registry.hasComponent(e)||(i&&C.registry.registerComponent(e,n,!0),C.registry.updateComponent(e,{model:C.model.lens(t)}))},G=function(){var e=T.memoryStore,t=e.get("beneficiaryPdfJson");t?(C.model.set("beneficiariesAuthorize.todPdfLink",null),C.model.set("beneficiariesAuthorize.todPdfLink",t.result.legalAgreement.pdfPath),C.model.set("beneficiariesAuthorize.consentVersion",t.result.legalAgreement.uniqueVersionId)):C.dataProvider.request("beneficiaries.getBeneficiariesTodLegalAgreementPdf").then((function(t){e.set("beneficiaryPdfJson",t),C.model.set("beneficiariesAuthorize.todPdfLink",t.result.legalAgreement.pdfPath),C.model.set("beneficiariesAuthorize.consentVersion",t.result.legalAgreement.uniqueVersionId)}))},q=function(e){C.registry.destroyComponent(e)},Y=function(e){return e.forEach(q),Promise.resolve()},W=function(){u.initBeneHybridHeaderBar(C,u.UPDT_BENE,H),Y(B).then((function(){q("multiTypeAddressBlock")}))},K=function(e,t,i,n,r,a){V(e,e,n,r);var o=[[C.components[e],t,{target:i,append:a}]];return C.executeCAV(o)},j={ADD_EDIT_BENEFICIARY:{spec:p,methods:m},ADD_EDIT_TRUSTEE:{spec:p,methods:f},BENEFICIARIES_TYPE_DISCLAIMERS:{spec:p,methods:A}},Q=function(e,t,i){C.model.set("beneficiariesTypeDisclaimers.spousalInformationShownState",e),C.model.set("beneficiariesTypeDisclaimers.trustInformationShownState",t),C.model.set("beneficiariesTypeDisclaimers.transferOnDeathInformationShownState",i),C.model.set("beneficiariesTypeDisclaimers.spousalConsentFormLink",null),C.model.set("beneficiariesTypeDisclaimers.spousalConsentFormLink",e)},z=function(e,t){return e.filter((function(e){return e.identifier===t}))},X=function(){var e,t,i,n,r=C.model.get("beneficiariesUpdateTable.accountBeneficiaries");e=t=b.accountType===o.ACCOUNT_TYPES.TAXABLE;for(var s=0;s<r.length&&(i||(i=r[s].beneficiaryType===o.BENEFICIARIES_TYPES.TRUST,e=!0),n||(n=r[s].beneficiaryType===o.BENEFICIARIES_TYPES.INDIVIDUAL&&r[s].beneficiaryRelationship!==o.BENEFICIARIES_INDIVIDUAL_RELATIONSHIP.SPOUSE,e=!0),!n||!i);s++);e&&!C.registry.hasComponent("beneficiariesTypeDisclaimers")?K("beneficiariesTypeDisclaimers","beneficiariesTypeDisclaimers","#beneficiariesTypeDisclaimers",!0,j.BENEFICIARIES_TYPE_DISCLAIMERS).then((function(){C.model.set("beneficiariesTypeDisclaimers.isXs",a.isXs()),function(e,t,i){D?Q(i,t,e):C.dataProvider.request("beneficiaries.getBeneficiariesTypeDisclaimers").then((function(n){D=!0,C.model.set("beneficiariesTypeDisclaimers.spousalAdvisories",z(n,o.BENEFICIARY_TYPE_DISCLAIMERS.SPOUSALADVISORIES)),C.model.set("beneficiariesTypeDisclaimers.trustAdvisories",z(n,o.BENEFICIARY_TYPE_DISCLAIMERS.TRUSTADVISORIES)),C.model.set("beneficiariesTypeDisclaimers.transferOnDeathAdvisories",z(n,o.BENEFICIARY_TYPE_DISCLAIMERS.TODADVISORIES)),Q(i,t,e)}))}(t,i,n)})):D&&Q(n,i,t)},$=function(){return K("beneficiariesReview","beneficiariesReview","#beneficiariesUpdateTable").then((function(){u.initBeneHybridHeaderBar(C,u.REVW_BENE,H),C.doFocus()}))},J=function(){return K("beneficiariesAuthorize","beneficiariesAuthorize","#beneficiariesUpdateTable").then((function(){var e,t,i;u.initBeneHybridHeaderBar(C,u.AUTH_BENE,H),e=C.model.get("beneficiariesUpdate.accountInfo").accountType,t=T.memoryStore,(i=t.get("beneficiaryLegalAgreement."+e))?(C.model.set("beneficiariesAuthorize.legalAgreementDisclosures",i.legalAgreements[0].sections[0].subSection),C.model.set("beneficiariesAuthorize.legalAgreementHeader",i.legalAgreements[0].title),C.model.set("beneficiariesAuthorize.consentVersion",i.uniqueVersionId),e===o.ACCOUNT_TYPES.TAXABLE&&G()):C.dataProvider.request("beneficiaries."+{TAXABLE:"getBeneficiariesTodLegalAgreement",RETIREMENT:"getBeneficiariesRetireLegalAgreement"}[e]).then((function(i){t.set("beneficiaryLegalAgreement."+e,i),C.model.set("beneficiariesAuthorize.legalAgreementDisclosures",i.legalAgreements[0].sections[0].subSection),C.model.set("beneficiariesAuthorize.legalAgreementHeader",i.legalAgreements[0].title),C.model.set("beneficiariesAuthorize.consentVersion",i.uniqueVersionId),e===o.ACCOUNT_TYPES.TAXABLE&&G()})),C.doFocus()}))},Z=function(){return K("beneficiariesConfirmation","beneficiariesConfirmation","#beneficiariesUpdateTable").then((function(){u.initBeneHybridHeaderBar(C,u.CONF_BENE,H),C.doFocus()}))},ee=function(e,t,i){var n=!w[e]||w[e]();_&&n?new Promise((function(e){C.context.attestationDcFlag=!0,e(!0)})).then((function(){t(),i&&i(),function(e){C.model.set("beneficiariesUpdate.progressBarCurrentStepDescription",e)}(e)})):(C.context.logger.error("try access invalid step"),C.context.state(S))},te=function(){C.model.set("beneficiariesReview",{accountBeneficiaries:a.getSortedUngroupBeneficiaries(_.accountBeneficiaries),accountBeneficiariesGroup:a.splitBeneficiaries(_.accountBeneficiaries),enableBeneficiaryAttestation:C.context.attestationDcFlag})},ie=function(){C.context.logger.info("(Beneficiaries): setAuthorizeProcessData: updating changedAccountBeneficiaries");var e=C.model.get("beneficiariesUpdateTable.changedAccountBeneficiaries");e=d.addBeneficiariesToAttest(N,e),(I=C.components.beneficiariesAuthorize.getMappedToServiceBen(e))||C.context.logger.info("(Beneficiaries): mappedSaveServiceAccountBeneficiaries should not be undefined")},ne=function(){C.model.set("beneficiariesConfirmation",{accountBeneficiaries:a.getSortedUngroupBeneficiaries(_.accountBeneficiaries)})},re=function(e,t,i){e?C.model.get("beneficiariesUpdateTable.accountBeneficiaries")[t]=n.object.merge(C.model.get("beneficiariesUpdateTable.accountBeneficiaries")[t],i):i&&C.model.get("beneficiariesUpdateTable.accountBeneficiaries").push(i),C.model.set("beneficiariesUpdateTable.accountBeneficiaries",C.model.get("beneficiariesUpdateTable.accountBeneficiaries")),C.validateBeneficiariesMaxiumAndMandatoryInfo(C.model.get("beneficiariesUpdate.accountBeneficiaries")),C.updateBeneficiariesTotalAndValidate(),X(),W(),C.configFocus({key:"beneficiariesUpdate",target:"#"+O}),C.doFocus()},ae=function(e,t){C.doFocus({key:"beneficiariesUpdate",target:t?"#trustee-edit-"+e:"#trustee-add-link"})};return function(d){C=this,(T=d).memoryStore=new v("profileMemoryStore");var p=T.renderTarget;M(e.beneficiaries,t.beneficiaries),C.dataProvider.mappers=e,C.init=function(){C.context.contextValidationAPI=g,C.featureProvider=E(d),C.model.connect(C.model,{"beneficiariesUpdate.accountInfo":"beneficiariesUpdateFooter.accountInfo","beneficiariesUpdate.progressBarCurrentStepDescription":"beneficiariesUpdateFooter.progressBarCurrentStepDescription","beneficiariesUpdate.isServiceError":"beneficiariesUpdateFooter.isServiceError","beneficiariesAuthorize.termsAcceptanceStatus":"beneficiariesUpdateFooter.termsAcceptanceStatus","beneficiariesUpdate.isDisplayError":"beneficiariesUpdateFooter.isDisplayError","beneficiariesAuthorize.isDisplayError":"beneficiariesUpdateFooter.isDisplayError","beneficiariesUpdateTable.accountBeneficiaries":"beneficiariesUpdate.accountBeneficiaries","beneficiariesUpdateTable.changedAccountBeneficiaries":"beneficiariesUpdate.changedAccountBeneficiaries","beneficiariesUpdateFooter.termsAcceptanceStatusError":"beneficiariesUpdate.termsAcceptanceStatusError"}),T.on({dataOnUpdateBeneficiaries:function(e){_=e,C.model.set("beneficiariesUpdate.accountInfo",_.accountInfo),C.model.set("beneficiariesUpdate.classCode",_.classCode),b=_.accountInfo,N=n.object.deepClone(_.accountBeneficiaries),C.model.set("beneficiariesUpdateTable",{accountBeneficiaries:_.accountBeneficiaries,accountInfo:_.accountInfo,originAccountBeneficiaries:N})},destroyBeneficiariesUpdate:function(){Y(["beneficiariesUpdate","beneficiariesTypeDisclaimers","beneficiariesReview","beneficiariesUpdateFooter","beneficiariesAuthorize","beneficiariesConfirmation","addEditTrustee"]),W(),_=null,D=null},registerBeneficiariesImportantInfo:function(){K("beneficiariesImportantInfo","beneficiariesImportantInfo","#beneficiariesImportantInfo"),C.dataProvider.request("beneficiaries.getBeneficiariesTypeDetails")},exitBeneficiaryTypeDetails:function(){C.registry.destroyComponent("beneficiariesImportantInfo")}}),i.initUpdateContext(C),S=y.manageBeneficiariesUrl},T.addBeneficiary=function(e){if(K("addEditBeneficiary","addEditBeneficiary","#addEditBeneficiaryOverlay",!0,j.ADD_EDIT_BENEFICIARY),C.model.set("addEditBeneficiary.designationOptionsConfig",C.model.get("beneficiariesUpdate.designationOptionsConfig")),C.model.set("addEditBeneficiary.isXs",a.isXs()),C.model.set("addEditBeneficiary.showAddEditTrust",!1),C.components.addEditBeneficiary.setBeneficiaryData(b),hybrid){var t=C.model.get("addEditBeneficiary.addAccountBeneficiariesHeader").split(" ");u.initBeneHybridHeaderBar(C,u.ADET_BENE,t[0]+" "+t[1],!0)}C.doFocus(L.ADDEDIT_INITIAL_FOCUS),O=e.domEvent.currentTarget.id,r.setFieldsToValidate(),C.components.addEditBeneficiary.handleAnalytics(!0)},T.backNavigation=function(e){U===e?C.components.beneficiariesUpdateFooter.requestPreviousPage():R===e?C.components.beneficiariesUpdateFooter.requestBeneficiariesSummary():C.components.beneficiariesUpdateFooter.requestPreviousStep()},T.editBeneficiary=function(e,t,i){K("addEditBeneficiary","addEditBeneficiary","#addEditBeneficiaryOverlay",!0,j.ADD_EDIT_BENEFICIARY).then((function(){if(C.registry.hasComponent("multiTypeAddressBlock")||(t.beneficiaryType===o.BENEFICIARIES_TYPES.INDIVIDUAL&&r.registerNameBlock.call(C,t,!0),r.registerAddressBlock.call(C,b.accountType,t,!0)),C.model.set("addEditBeneficiary.isXs",a.isXs()),C.model.set("addEditBeneficiary.designationOptionsConfig",C.model.get("beneficiariesUpdate.designationOptionsConfig")),C.components.addEditBeneficiary.setBeneficiaryData(b,t,!0,e),hybrid){C.model.get("addEditBeneficiary.updateAccountBeneficiariesHeader");"Edit Beneficiaries",u.initBeneHybridHeaderBar(C,u.ADET_BENE,"Edit Beneficiaries",!0)}C.doFocus(L.ADDEDIT_INITIAL_FOCUS),O=i,r.setFieldsToValidate(t.beneficiaryType,t.identificationType),C.components.addEditBeneficiary.handleAnalytics()}))},T.requestBeneficiaryTypeOption=function(e){e===o.BENEFICIARIES_TYPES.INDIVIDUAL?C.registry.hasComponent("nameInformationBlock")||(r.registerNameBlock.call(C),C.doFocus(L.BENEFICIARY_TYPE_INDIVIDIAL_FOCUS)):a.isXs()||hybrid||q("nameInformationBlock"),C.registry.hasComponent("multiTypeAddressBlock")||r.registerAddressBlock.call(C,b.accountType),r.setFieldsToValidate(e)},T.exitBeneficiaryDetails=function(){W(),C.doFocus({key:"beneficiariesUpdate",target:"#"+O})},T.saveBeneficiaryDetails=function(e,t,i){l.saveBeneficiaryDetails.call(C,e,t,i,re)},T.saveAddressVerifiedBeneficiary=function(e){var t=C.model.get("addressVerificationOverlay.beneficiaryEditIndex"),i=C.model.get("addressVerificationOverlay.isEdit");re(i,t,e)},T.updateTrusteeName=function(e,t,i){K("addEditTrustee","addEditTrustee","#addEditTrusteeWrapper",!0,j.ADD_EDIT_TRUSTEE,!0),C.model.set("addEditBeneficiary.showAddEditTrust",!0),C.components.addEditTrustee.setTrusteeData(t,i),C.doFocus(L.ADDEDIT_TRUSTEE_INITIAL_FOCUS),C.components.addEditTrustee.handleAnalytics()},T.addTrusteeName=function(){K("addEditTrustee","addEditTrustee","#addEditTrusteeWrapper",!0,j.ADD_EDIT_TRUSTEE),C.model.set("addEditBeneficiary.showAddEditTrust",!0),C.components.addEditTrustee.setTrusteeData(),C.doFocus(L.ADDEDIT_TRUSTEE_INITIAL_FOCUS),C.components.addEditTrustee.handleAnalytics(!0)},T.confirmTrusteeUpdate=function(e,t,i){C.model.set("addEditBeneficiary.showAddEditTrust",!1),C.components.addEditBeneficiary.saveTrusteeName(e,t,i),ae(e,t)},T.exitTrusteeUpdate=function(e,t){C.model.set("addEditBeneficiary.showAddEditTrust",!1),ae(e,t)},T.deleteTrusteeName=function(e){C.model.get("addEditBeneficiary.accountBeneficiaries")[0].trusteeDetails.splice(e,1),C.components.addEditBeneficiary.syncModel()},T.goToStep=function(e){C[e]&&C[e]()},T.commonComponentsUtil=c(C),T.saveBeneficiaries=function(){return T.commonComponentsUtil.showSpinner(x),i.saveBeneficiaries(b,I,C.model.get("beneficiariesUpdate.classCode"),C.model.get("beneficiariesAuthorize.consentVersion")).then((function(){T.commonComponentsUtil.hideSpinner(x)}))},T.handleBeneficiariesDisclaimers=function(){X()},T.showHeaderError=function(e){C.components.beneficiariesUpdate.showHeaderError(e)},T.showAdvisoryError=function(e){C.components.beneficiariesUpdate.showAdvisoryError(e)},T.validateUpdate=function(){return C.components.beneficiariesUpdateTable.validateAll()},C.validateBeneficiariesMaxiumAndMandatoryInfo=T.validateBeneficiariesMaxiumAndMandatoryInfo=function(e){C.components.beneficiariesUpdate.validateBeneficiariesMaxiumAndMandatoryInfo(C.components.beneficiariesUpdateTable,e)},C.updateBeneficiariesTotalAndValidate=T.updateBeneficiariesTotalAndValidate=function(){return C.components.beneficiariesUpdateTable.updateBeneficiariesTotalAndValidate()},C.doFocus=T.doFocus=function(e){a.doFocus(C.model,e)},C.configFocus=T.configFocus=function(e){a.configFocus(e)},C.checkBeneficiariesUrl=function(){!_&&C.context.state(S)},C.registerUpdateComponents=function(){V("beneficiariesUpdate","beneficiariesUpdate"),V("beneficiariesUpdateTable","beneficiariesUpdateTable"),V("beneficiariesTypeDisclaimers","beneficiariesTypeDisclaimers"),V("beneficiariesUpdateFooter","beneficiariesUpdateFooter");var e=[];return C.registry.hasComponent("beneficiariesUpdate")||(e=[[C.components.beneficiariesUpdate,"beneficiariesUpdate",{target:p.target}]]),e.push([C.components.beneficiariesUpdateTable,"beneficiariesUpdateTable",{target:"#beneficiariesUpdateTable"}]),C.registry.hasComponent("beneficiariesUpdateFooter")||e.push([C.components.beneficiariesUpdateFooter,"beneficiariesUpdateFooter",{target:"#beneficiariesUpdateFooter"}]),C.executeCAV(e).then((function(){u.initBeneHybridHeaderBar(C,u.UPDT_BENE,H),C.validateBeneficiariesMaxiumAndMandatoryInfo(C.model.get("beneficiariesUpdate.accountBeneficiaries")),X(),s.setupBeneficiariesDisclosures.call(C,"#updateBeneficiariesDisclosures"),C.doFocus()}))},C.updateBeneficiaries=C.index=function(){C.configFocus(L.UPDATE_INITIAL_FOCUS),P.isInserted(p.target,(function(){ee(R,C.registerUpdateComponents)}))},C.review=function(){C.configFocus(L.REVIEW_INITIAL_FOCUS),P.isInserted(p.target,(function(){ee(U,$,te)}))},C.authorize=function(){C.configFocus(L.AUTHORIZE_INITIAL_FOCUS),P.isInserted(p.target,(function(){ee(k,J,ie)}))},C.confirmation=function(){C.configFocus(L.CONFIRMATION_INITIAL_FOCUS),P.isInserted(p.target,(function(){ee(F,Z,ne)}))},C.reviewBeneficiaries=C.authorizeBeneficiaries=C.confirmBeneficiaries=function(){C.checkBeneficiariesUrl()}}})),define("profileArea/investments/beneficiaries/components/beneficiariesUpdate",["require","profileArea/sharedLib/investmentsLib/investmentDisclosuresUtility","profileArea/investments/beneficiaries/lib/beneficiariesUtil","profileArea/investments/beneficiaries/lib/validators/beneficiariesMaximumValidator","profileArea/investments/beneficiaries/lib/validators/beneficiariesValidator","appkit-utilities/analytics/overlay","profileArea/investments/beneficiaries/lib/beneficiariesHybridUtil","profileArea/sharedLib/profileConstants"],(function(e){"use strict";var t,i,n=e("profileArea/sharedLib/investmentsLib/investmentDisclosuresUtility"),r=e("profileArea/investments/beneficiaries/lib/beneficiariesUtil"),a=e("profileArea/investments/beneficiaries/lib/validators/beneficiariesMaximumValidator"),o=e("profileArea/investments/beneficiaries/lib/validators/beneficiariesValidator"),s=e("appkit-utilities/analytics/overlay"),c=a.validateBeneficiariesMaxium,l=o.validateBeneficiaries,d=e("profileArea/investments/beneficiaries/lib/beneficiariesHybridUtil"),u=e("profileArea/sharedLib/profileConstants"),p=u.BENEFICIARIES_UPDATE_STEPS.UPDATE,m=u.BENEFICIARIES_UPDATE_STEPS.REVIEW,f=u.BENEFICIARIES_UPDATE_STEPS.AUTHORIZE,A=u.BENEFICIARIES_UPDATE_STEPS.CONFIRMATION,g={UPDATE:[p],REVIEW:[p,m],AUTHORIZE:[p,m,f],CONFIRMATION:[p,m,f,A]},E={UPDATE:"UPDATE",REVIEW:"REVIEW",AUTHORIZE:"SIGN_AND_AUTHORIZE",CONFIRMATION:"CONFIRM"},y=u.BENEFICIARIES_CATEGORIES.PRIMARY,h=u.BENEFICIARIES_CATEGORIES.CONTINGENT,v=u.BENEFICARIES_DESIGNATIONS_STATUS,C=u.ERROR_TYPE.ABOVE_RETIREMENT_MAXIMUM_PRIMARY_BENEFICIARIES,_=u.ERROR_TYPE.ABOVE_RETIREMENT_MAXIMUM_CONTINGENT_BENEFICIARIES,S=u.ERROR_TYPE.ABOVE_TAXABLE_MAXIMUM_CONTINGENT_BENEFICIARIES,T=u.ERROR_TYPE.ABOVE_TAXABLE_MAXIMUM_PRIMARY_BENEFICIARIES,N={RETIREMENT:function(e){e.isDisableAddFunctionality||e.mainErrorType!==C||t.model.set("designationOptionsConfig",{PRIMARY:!1,CONTINGENT:!0,isDisabled:!0,selectedOption:h,isEditModeDisabled:function(e){return e===h}}),e.isDisableAddFunctionality||e.mainErrorType!==_||t.model.set("designationOptionsConfig",{PRIMARY:!0,CONTINGENT:!1,isDisabled:!0,selectedOption:y,isEditModeDisabled:function(e){return e===y}}),e.isDisableAddFunctionality&&t.model.set("designationOptionsConfig",{PRIMARY:!1,CONTINGENT:!1,isDisabled:!0,selectedOption:y,isEditModeDisabled:function(){return!0}}),e.isValid&&t.model.set("designationOptionsConfig",v)},TAXABLE:function(e){e.isDisableAddFunctionality||e.mainErrorType!==T||t.model.set("designationOptionsConfig",{PRIMARY:!1,CONTINGENT:!0,isDisabled:!0,selectedOption:h,isEditModeDisabled:function(e){return e===h}}),e.isDisableAddFunctionality||e.mainErrorType!==S||t.model.set("designationOptionsConfig",{PRIMARY:!0,CONTINGENT:!1,isDisabled:!0,selectedOption:y,isEditModeDisabled:function(e){return e===y}}),e.isDisableAddFunctionality&&t.model.set("designationOptionsConfig",{PRIMARY:!1,CONTINGENT:!1,isDisabled:!0,selectedOption:y,isEditModeDisabled:function(){return!0}}),e.isValid&&t.model.set("designationOptionsConfig",v)}};return{init:function(){t=this,i=this.context.dcu.dynamicContent,n.toggleDisplay(!0),t.model.onValue("progressBarCurrentStepDescription",t.updateProgressBar),t.context.globalContentMixin.call(t,["percentageSymbol","importantAda","horizontalEllipsisSymbol","opensPdfAda"])},validateBeneficiariesMaxium:function(e){var i,n;return i=t.model.get("accountInfo").accountType,n=c(t,e,i),N[i](n),t.model.set("addBeneficiaryDisabled",n.isDisableAddFunctionality),n},validateBeneficiarieRequired:function(e,t){return l(e,t)},validateBeneficiariesMaxiumAndMandatoryInfo:function(e,i){var n=t.validateBeneficiariesMaxium(i),a=t.validateBeneficiarieRequired(e,i);a.isShowHeaderError?(t.showHeaderError(a.errorType),t.context.configFocus(r.focusDetail.UPDATE_BENEFICIARIES_HEADER_FOCUS)):n.isShowHeaderError?(t.showHeaderError(n.errorType),t.context.configFocus(r.focusDetail.UPDATE_BENEFICIARIES_HEADER_FOCUS)):t.showHeaderError("")},updateProgressBar:function(e){if(e){var n=[];[p,m,f,A].forEach((function(t){n.push({active:g[e].indexOf(t)>=0})})),t.progressBarSteps=[],t.progressBarSteps=n,i.set(t,"progressBarAda",E[e]),i.set(t,"progressBarStepName",E[e])}},addBeneficiary:function(e){t.context.addBeneficiary(e)},backNavigation:function(){var e=t.model.get("progressBarCurrentStepDescription");t.context.backNavigation(e)},destroyBeneficiariesUpdate:function(){t.context.controller.emit("destroyBeneficiariesUpdate")},requestBeneficiariesTypeDetails:function(){d.initBeneHybridHeaderBar(t,d.IMPT_INFO,t.model.get("beneficiariesHeader")),t.context.controller.emit("registerBeneficiariesImportantInfo"),s.showOverlay(t,"beneficiaryAdvisoriesOverlay","requestBeneficiariesTypeDetails")},showHeaderError:function(e){t.model.set("showPageLevelError",Boolean(e)),i.set(t,"manageBeneficiariesErrorHeader",e)},showAdvisoryError:function(e){i.set(t,"manageBeneficiariesErrorAdvisory",e)}}})),define("profileArea/investments/beneficiaries/components/beneficiariesUpdateFooter",["profileArea/investments/beneficiaries/lib/beneficiariesUtil","profileArea/investments/beneficiaries/lib/beneficiariesHybridUtil","profileArea/sharedLib/dashboardSettings"],(function(e,t,i){"use strict";var n,r,a,o,s,c,l,d=e.focusTypeConstants,u=function(){return n.model.get("accountInfo").accountId+""};return{init:function(){r=(n=this).context.dcu.dynamicContent,n.model.set("termsAcceptanceStatus",!1),n.model.set("isDisplayError",!1),a=i.manageBeneficiariesUrl,l=i.requestBeneficiariesDetailsUpdateUrl,o=i.requestBeneficiariesDetailsReviewUrl,s=i.requestBeneficiariesDetailsAuthorizeUrl,c=i.requestBeneficiariesDetailsConfirmUrl,n.context.globalContentMixin.call(n,["nextLabel","backLabel","closeLabel"])},updateBeneficiariesDetails:function(){n.context.validateUpdate()&&(n.context.goToStep("review"),n.context.configFocus(d.REVIEW_INITIAL_FOCUS),n.context.state(o,{ai:u()}))},requestPreviousPage:function(){n.context.state(l,{ai:u()})},verifyBeneficiariesDetails:function(){n.context.goToStep("authorize"),n.context.configFocus(d.AUTHORIZE_INITIAL_FOCUS),n.context.state(s,{ai:u()}),n.context.configFocus(d.AUTHORIZE_INITIAL_FOCUS),n.context.showHeaderError(""),n.model.set("isDisplayError",!1)},authorizeBeneficiariesDetails:function(){n.model.get("termsAcceptanceStatus")?(n.model.set("isDisplayError",!1),n.context.saveBeneficiaries().then((function(){var e=n.model.get("isServiceError"),t=n.model.get("serviceErrorVariation");e?(n.context.showHeaderError(t),n.context.showAdvisoryError(t),n.context.doFocus(d.AUTHORIZE_BENEFICIARIES_HEADER_FOCUS)):(n.context.goToStep("confirmation"),n.context.configFocus(d.CONFIRMATION_INITIAL_FOCUS),n.context.state(c,{ai:u()}))}))):(n.context.showHeaderError(""),n.model.set("isDisplayError",!0),r.set(n,"termsAcceptanceStatusError","MISSING_MANDATORY_DATA"),n.context.doFocus(d.AUTHORIZE_BENEFICIARIES_HEADER_FOCUS))},requestPreviousStep:function(){n.context.goToStep("review"),n.context.state(o,{ai:u()})},exitBeneficiariesUpdate:function(){var e=n.requestBeneficiariesSummary;n.context.contextValidationAPI.showConfirmationOverlay(n.context.controller,n,"exitConfirmationOverlay",e.bind(n),function(){n.context.doFocus(d.CANCEL_DIRTY_FORM_UPDATE_FOCUS)}.bind(n))},requestBeneficiariesSummary:function(){n.context.state(a,{ai:u()}),n.context.configFocus(d.CANCEL_UPDATE_FOCUS)},requestSummaryBeneficiaries:function(){n.requestBeneficiariesSummary()}}})),define("profileArea/investments/beneficiaries/components/beneficiariesAuthorize",["require","profileArea/sharedLib/profileConstants","profileArea/investments/beneficiaries/lib/beneficiariesUtil"],(function(e){"use strict";var t,i=e("profileArea/sharedLib/profileConstants"),n=e("profileArea/investments/beneficiaries/lib/beneficiariesUtil");return{init:function(){(t=this).model.set("termsAcceptanceStatus",!1),t.context.globalContentMixin.call(t,["warningAda"]),t.context.dcu.dynamicContent.set(t,"termsAcceptanceStatusLabel",i.TERMS_AND_CONDITIONS_LABEL_TYPES.DEFAULT)},requestTransferOfDeathAgreementsDisclosures:function(){},acceptTermsConditions:function(){var e=t.model.get("termsAcceptanceStatus");t.model.set("termsAcceptanceStatus",!e)},getMappedToServiceBen:function(e){return t=[],(e||[]).forEach((function(e){var r={};r.action=e.action,r.id=e.beneficiaryId,r.action===i.BENEFICIARIES_ACTIONS.REMOVE&&(r.category=e.beneficiaryDesignation),r.action!==i.BENEFICIARIES_ACTIONS.REMOVE&&(n.modelServiceBeneficiaryMapping(e,r,!0,!0),n.formatRequestFormData(r,e)),t.push(r)})),t;var t}}})),define("profileArea/investments/beneficiaries/components/beneficiariesUpdateTable",["require","profileArea/sharedLib/profileConstants","profileArea/investments/beneficiaries/lib/beneficiariesUtil","profileArea/investments/beneficiaries/lib/validators/beneficiariesUpdateValidator","profileArea/investments/beneficiaries/lib/validators/beneficiariesModelHelper","appkit-utilities/analytics/overlay"],(function(e){"use strict";var t,i,n,r,a,o=e("profileArea/sharedLib/profileConstants"),s=o.BENEFICIARIES_CATEGORIES.PRIMARY,c=o.BENEFICIARIES_CATEGORIES.CONTINGENT,l=e("profileArea/investments/beneficiaries/lib/beneficiariesUtil"),d=e("profileArea/investments/beneficiaries/lib/validators/beneficiariesUpdateValidator"),u=e("profileArea/investments/beneficiaries/lib/validators/beneficiariesModelHelper"),p=d.validateBeneficiaries,m=u.getDifferentAccountBeneficiaries,f=d.highlightAndFocus,A=d.setAnalyticEvent,g=o.NO_VALUE,E=e("appkit-utilities/analytics/overlay");return{init:function(){(t=this).model.onValue("accountBeneficiaries",(function(e){i=e})),t.model.onValue("originAccountBeneficiaries",(function(e){n=e})),t.closeRemoveOverlay(),t.updateAllocationTotalPercentage(o.BENEFICIARIES_CATEGORIES.PRIMARY),t.updateAllocationTotalPercentage(o.BENEFICIARIES_CATEGORIES.CONTINGENT),t.context.globalContentMixin.call(t,["errorAnnouncementAda","notAvailableLabel","informationAda"]),t.model.set("enableBeneficiaryAttestation",t.context.attestationDcFlag)},isRemoveOrRemoveAll:function(){return-1===r.indexOf(o.REMOVE_ALL)?"deleteBeneficiaryOverlay":"deleteBeneficiariesOverlay"},updateBeneficiary:function(e){var i=Number(e.context.index)||Number(this.getAttribute(e,"index")),n=e.context.beneficiary||e.context;t.context.controller.editBeneficiary(i,n,e.domEvent.currentTarget.id)},getAttribute:(e,t)=>(e.domEvent.currentTarget||e.domEvent.target).getAttribute(t),openRemoveOverlay:function(e){E.showOverlay(t,t.isRemoveOrRemoveAll(),e),t.removeBeneficiaryOverlay=!0},closeRemoveOverlay:function(){t.removeBeneficiaryOverlay=!1},doNotDelete:function(){t.closeRemoveOverlay(),E.hideOverlay(t,t.isRemoveOrRemoveAll(),"doNotDelete"),t.context.doFocus({key:"beneficiariesUpdateTable",target:"#"+r})},confirmDelete:function(){var e;!0===Array.isArray(a)?(e=i[a[0]].beneficiaryDesignation,a.reverse().forEach((function(e){i.splice(e,1)}))):(e=i[a].beneficiaryDesignation,i.splice(a,1)),t.updateAllocationTotalPercentage(e),t.model.set("accountBeneficiaries",i),t.context.validateBeneficiariesMaxiumAndMandatoryInfo(t.model.get("accountBeneficiaries")),E.hideOverlay(t,t.isRemoveOrRemoveAll(),"confirmDelete"),t.closeRemoveOverlay(),t.context.handleBeneficiariesDisclaimers(),p(t,e)?t.context.doFocus({key:"beneficiariesUpdateTable",target:"#"+e+"-table"}):f(t,e)},deleteBeneficiary:function(e){r=e.domEvent.target.id,a=e.context.index,t.openRemoveOverlay("deleteBeneficiary")},numberOfBeneficiaries:function(e){var t=0;return i.forEach((function(i){i.beneficiaryDesignation===e&&t++})),t},xsBeneAllocationValidator:function(e){t.trigger("formFieldTracking",e),t.updateBeneficiaryAllocation(e),t.triggerAnalyticEvent(e)},splitEqually:function(e){var n=0,r=Math.floor(100/t.numberOfBeneficiaries(e)*100)/100;i.forEach((function(i){i.beneficiaryDesignation===e&&(i.beneficiaryAllocationPercentage=0===n?(100-r*(t.numberOfBeneficiaries(e)-1)).toFixed(2):r.toFixed(2),n++)})),t.updateAllocationTotalPercentage(e),t.model.set("accountBeneficiaries",i),p(t)},removeAllBeneficiaries:function(e,n,o){if(r=e.domEvent.target.id,-1!==e.domEvent.target.id.indexOf(n)){var s=0;a=[],i.forEach((function(e){e.beneficiaryDesignation===n&&a.push(s),s++}))}t.openRemoveOverlay(o)},sharePrimaryBeneficiaryAllocationsEqually:function(){t.splitEqually(o.BENEFICIARIES_CATEGORIES.PRIMARY)},shareContingentBeneficiaryAllocationsEqually:function(){t.splitEqually(o.BENEFICIARIES_CATEGORIES.CONTINGENT)},shareTransferOnDeathBeneficiaryAllocationsEqually:function(){t.splitEqually(o.BENEFICIARIES_CATEGORIES.PRIMARY)},deleteAllPrimaryBeneficiaries:function(e){t.removeAllBeneficiaries(e,o.BENEFICIARIES_CATEGORIES.PRIMARY,"deleteAllPrimaryBeneficiaries")},deleteAllContingentBeneficiaries:function(e){t.removeAllBeneficiaries(e,o.BENEFICIARIES_CATEGORIES.CONTINGENT,"deleteAllContingentBeneficiaries")},deleteAllTransferOfDeathBeneficiaries:function(e){t.removeAllBeneficiaries(e,o.BENEFICIARIES_CATEGORIES.PRIMARY,"deleteAllTransferOfDeathBeneficiaries")},updateAllocationFormat:function(e){for(var t,i,n=o.NUMBER_REX,r=0;r<e.length;r++)i=(t=e[r]).beneficiaryAllocationPercentage+"",n.test(i)&&(t.beneficiaryAllocationPercentage=i&&parseFloat(i).toFixed(2)||"")},updateAllocationTotalPercentage:function(e){for(var n,r,a=0,s=o.NUMBER_REX,c=0;c<i.length;c++)if((n=i[c]).beneficiaryDesignation===e){if(r=n.beneficiaryAllocationPercentage?n.beneficiaryAllocationPercentage+"":0,!s.test(r)){a=g;break}a+=parseFloat(r)}t.updateAllocationFormat(i),t.model.set(o.TOTAL_ALLOCATION_MAP[e],a===g?a:a.toFixed(2)),t.model.set("accountBeneficiaries",i)},updateBeneficiaryAllocation:function(e){var n=Number(e.context.name)||Number((e.domEvent.target||e.domEvent.currentTarget).name),r=i[n].beneficiaryDesignation,a=i[n].beneficiaryAllocationPercentage;Number(a)<1&&!a.startsWith("0")&&(a="0"+a,i[n].beneficiaryAllocationPercentage=a),t.updateAllocationTotalPercentage(r),p(t,r)},acceptPerStirpes:function(e){var n=Number(e.context.name)||Number((e.domEvent.target||e.domEvent.currentTarget).name),r=i[n],a=r.beneficiaryDesignation,s=(e.domEvent.target||e.domEvent.currentTarget).checked,c=o.PER_STIRPES_STATUSES;r.perStirpesStatus=s?c.SELECTED:c.NOT_SELECTED,t.model.update("accountBeneficiaries",i),p(t,a)},triggerAnalyticEvent:function(e){A(e.context.name||(e.domEvent.currentTarget||e.domEvent.Target).name,t)},isDirtyForm:function(){var e=m(n,t.model.get("accountBeneficiaries"));return e.length?(t.model.set("changedAccountBeneficiaries",e),t.context.showHeaderError(""),!0):(t.context.showHeaderError("BENEFICIARIES_NOT_UPDATED"),t.context.doFocus(l.focusDetail.UPDATE_BENEFICIARIES_HEADER_FOCUS),!1)},validateAll:function(){return!!t.isDirtyForm()&&(0===t.numberOfBeneficiaries(s)&&0!==t.numberOfBeneficiaries(c)?(t.context.showHeaderError("BELOW_MINIMUM"),t.context.doFocus(l.focusDetail.UPDATE_BENEFICIARIES_HEADER_FOCUS),!1):p(t)?(t.context.showHeaderError(""),!0):(f(t),!1))},updateBeneficiariesTotalAndValidate:function(){[s,c].forEach((function(e){t.updateAllocationTotalPercentage(e),p(t,e)}))}}})),define("profileArea/investments/beneficiaries/components/beneficiariesReview",[],(function(){"use strict";return{}})),define("profileArea/investments/beneficiaries/components/beneficiariesConfirmation",[],(function(){"use strict";return{}})),define("profileArea/investments/optionsApplication/lib/constants",{OPTIONS_APPLICATION_STATUS_LIST:{APPLICATION_AVAILABLE:"APPLICATION_AVAILABLE",APPLICATION_PENDING:"APPLICATION_PENDING",APPLICATION_UPDATE_UNSUCCESSFUL:"APPLICATION_UPDATE_UNSUCCESSFUL",APPLICATION_PENDING_UNAVAILABLE:"APPLICATION_PENDING_UNAVAILABLE"},HELP:"help",SHOW_OVERVIEW:"showOverview",VERSION_KEY:":version"}),define("profileArea/investments/optionsApplication/lib/optionsApplicationConstants",[],(function(){"use strict";return{ANNUAL_INCOME_OPTIONS:{CWM:["UNDER_TWENTY_FIVE","TWENTY_FIVE_TO_FIFTY","FIFTY_TO_ONE_HUNDRED","ONE_HUNDRED_TO_TWO_FIFTY","TWO_FIFTY_TO_FIVE_HUNDRED","MORE_THAN_FIVE_HUNDRED"],JPO:["LESS_THAN_FIFTY","FIFTY_TO_LESS_THAN_SEVENTY_FIVE","SEVENTY_FIVE_TO_LESS_THAN_ONE_HUNDRED","ONE_HUNDRED_TO_LESS_THAN_ONE_HUNDRED_FIFTY","ONE_HUNDRED_FIFTY_TO_LESS_THAN_TWO_HUNDRED","TWO_HUNDRED_TO_LESS_THAN_THREE_HUNDRED","THREE_HUNDRED_TO_LESS_THAN_FOUR_HUNDRED","FOUR_HUNDRED_TO_LESS_THAN_FIVE_HUNDRED","FIVE_HUNDRED_TO_LESS_THAN_SEVEN_HUNDRED_FIFTY","SEVEN_HUNDRED_FIFTY_TO_LESS_THAN_ONE_MILLION","ONE_MILLION_TO_LESS_THAN_THREE_MILLION","THREE_MILLION_TO_LESS_THAN_FIVE_MILLION","ABOVE_FIVE_MILLION"]},LIQUID_NET_WORTH_OPTIONS:{CWM:["UNDER_FIVE","FIVE_TO_TEN","TEN_TO_TWENTY_FIVE","TWENTY_FIVE_TO_FIFTY","FIFTY_TO_ONE_HUNDRED","ONE_HUNDRED_TO_TWO_HUNDRED","MORE_THAN_TWO_HUNDRED"],JPO:["LESS_THAN_ONE_HUNDRED","ONE_HUNDRED_TO_LESS_THAN_ONE_HUNDRED_FIFTY","ONE_HUNDRED_FITY_TO_LESS_THAN_TWO_HUNDRED_FIFTY","TWO_HUNDRED_FIFTY_TO_LESS_THAN_FIVE_HUNDRED","FIVE_HUNDRED_TO_LESS_THAN_SEVEN_HUNDRED_FIFTY","SEVEN_HUNDRED_FIFTY_TO_LESS_THAN_ONE_MILLION","ONE_MILLION_TO_LESS_THAN_TWO_AND_HALF_MILLION","TWO_AND_HALF_MILLION_TO_LESS_THAN_FIVE_MILLION","FIVE_MILLION_TO_LESS_THAN_SEVEN_AND_HALF_MILLION","SEVEN_AND_HALF_MILLION_TO_LESS_THAN_TEN_MILLION","TEN_MILLION_TO_LESS_THAN_FIFTEEN_MILLION","FIFTEEN_MILLION_TO_LESS_THAN_TWENTY_MILLION","ABOVE_TWENTY_MILLION"]},NET_WORTH_OPTIONS:{CWM:["UNDER_FIFTY","FIFTY_TO_ONE_HUNDRED","ONE_HUNDRED_TO_TWO_FIFTY","TWO_FIFTY_TO_FIVE_HUNDRED","FIVE_HUNDRED_TO_ONE_MILLION","ONE_MILLION_TO_TWO_HALF_MILLION","TWO_HALF_MILLION_TO_FIVE_MILLION","MORE_THAN_FIVE_MILLION"],JPO:["LESS_THAN_ONE_HUNDRED","ONE_HUNDRED_TO_LESS_THAN_ONE_HUNDRED_FIFTY","ONE_HUNDRED_FITY_TO_LESS_THAN_TWO_HUNDRED_FIFTY","TWO_HUNDRED_FIFTY_TO_LESS_THAN_FIVE_HUNDRED","FIVE_HUNDRED_TO_LESS_THAN_SEVEN_HUNDRED_FIFTY","SEVEN_HUNDRED_FIFTY_TO_LESS_THAN_ONE_MILLION","ONE_MILLION_TO_LESS_THAN_TWO_AND_HALF_MILLION","TWO_AND_HALF_MILLION_TO_LESS_THAN_FIVE_MILLION","FIVE_MILLION_TO_LESS_THAN_SEVEN_AND_HALF_MILLION","SEVEN_AND_HALF_MILLION_TO_LESS_THAN_TEN_MILLION","TEN_MILLION_TO_LESS_THAN_FIFTEEN_MILLION","FIFTEEN_MILLION_TO_LESS_THAN_TWENTY_MILLION","ABOVE_TWENTY_MILLION"]},TRADING_EXPERIENCE:{CWM:["UNDER_ONE_YEAR","ONE_YEAR_PLUS","THREE_YEARS_PLUS","FIVE_YEARS_PLUS"],JPO:["UP_TO_THREE_YEARS","FOUR_TO_SEVEN_YEARS","EIGHT_TO_TEN_YEARS","ABOVE_TEN_YEARS"]},MARITAL_STATUS_OPTIONS:["SINGLE","MARRIED"],DEPENDENTS_OPTIONS:["ZERO","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","TEN"],EMPLOYMENT_STATUS_OPTIONS:["EMPLOYED","RETIRED","UNEMPLOYED"],EMPLOYMENT_STATUS_MAPPER:{EMPLOYED:"EMPLOYED",RETIRED:"RETIRED",UNEMPLOYED:"UNEMPLOYED"},ESTIMATED_ANNUAL_INCOME_MAPPER:{CWM:{UNDER_TWENTY_FIVE:"LESS_THAN_25001",TWENTY_FIVE_TO_FIFTY:"BETWEEN_25001_50000",FIFTY_TO_ONE_HUNDRED:"BETWEEN_50001_100000",ONE_HUNDRED_TO_TWO_FIFTY:"BETWEEN_100001_250000",TWO_FIFTY_TO_FIVE_HUNDRED:"BETWEEN_250001_500000",MORE_THAN_FIVE_HUNDRED:"GREATER_THAN_500000"},JPO:{LESS_THAN_FIFTY:"LESS_THAN_50000",FIFTY_TO_LESS_THAN_SEVENTY_FIVE:"BETWEEN_50000_74999",SEVENTY_FIVE_TO_LESS_THAN_ONE_HUNDRED:"BETWEEN_75000_99999",ONE_HUNDRED_TO_LESS_THAN_ONE_HUNDRED_FIFTY:"BETWEEN_100000_149999",ONE_HUNDRED_FIFTY_TO_LESS_THAN_TWO_HUNDRED:"BETWEEN_150000_199999",TWO_HUNDRED_TO_LESS_THAN_THREE_HUNDRED:"BETWEEN_BTW_200000_299999",THREE_HUNDRED_TO_LESS_THAN_FOUR_HUNDRED:"BETWEEN_BTW_300000_399999",FOUR_HUNDRED_TO_LESS_THAN_FIVE_HUNDRED:"BETWEEN_BTW_400000_499999",FIVE_HUNDRED_TO_LESS_THAN_SEVEN_HUNDRED_FIFTY:"BETWEEN_BTW_500000_749999",SEVEN_HUNDRED_FIFTY_TO_LESS_THAN_ONE_MILLION:"BETWEEN_BTW_750000_999999",ONE_MILLION_TO_LESS_THAN_THREE_MILLION:"BETWEEN_BTW_1000000_2999999",THREE_MILLION_TO_LESS_THAN_FIVE_MILLION:"BETWEEN_BTW_3000000_4999999",ABOVE_FIVE_MILLION:"GREATER_THAN_5MILLION"}},ESTIMATED_LIQUID_NET_WORTH_MAPPER:{CWM:{UNDER_FIVE:"LESS_THAN_5001",FIVE_TO_TEN:"BETWEEN_5001_10000",TEN_TO_TWENTY_FIVE:"BETWEEN_10001_25000",TWENTY_FIVE_TO_FIFTY:"BETWEEN_25001_50000",FIFTY_TO_ONE_HUNDRED:"BETWEEN_50001_100000",ONE_HUNDRED_TO_TWO_HUNDRED:"BETWEEN_100001_200000",MORE_THAN_TWO_HUNDRED:"GREATER_THAN_200000"},JPO:{LESS_THAN_ONE_HUNDRED:"LESS_THAN_100000",ONE_HUNDRED_TO_LESS_THAN_ONE_HUNDRED_FIFTY:"BETWEEN_100000_149999",ONE_HUNDRED_FITY_TO_LESS_THAN_TWO_HUNDRED_FIFTY:"BETWEEN_150000_249999",TWO_HUNDRED_FIFTY_TO_LESS_THAN_FIVE_HUNDRED:"BETWEEN_250000_499999",FIVE_HUNDRED_TO_LESS_THAN_SEVEN_HUNDRED_FIFTY:"BETWEEN_500000_749999",SEVEN_HUNDRED_FIFTY_TO_LESS_THAN_ONE_MILLION:"BETWEEN_750000_999999",ONE_MILLION_TO_LESS_THAN_TWO_AND_HALF_MILLION:"BETWEEN_1000000_2499999",TWO_AND_HALF_MILLION_TO_LESS_THAN_FIVE_MILLION:"BETWEEN_2500000_4999999",FIVE_MILLION_TO_LESS_THAN_SEVEN_AND_HALF_MILLION:"BETWEEN_5000000_7499999",SEVEN_AND_HALF_MILLION_TO_LESS_THAN_TEN_MILLION:"BETWEEN_7500000_9999999",TEN_MILLION_TO_LESS_THAN_FIFTEEN_MILLION:"BETWEEN_10000000_14999999",FIFTEEN_MILLION_TO_LESS_THAN_TWENTY_MILLION:"BETWEEN_15000000_19999999",ABOVE_TWENTY_MILLION:"GREATER_THAN_20MILLION"}},ESTIMATED_NET_WORTH_MAPPER:{CWM:{UNDER_FIFTY:"LESS_THAN_50001",FIFTY_TO_ONE_HUNDRED:"BETWEEN_50001_100000",ONE_HUNDRED_TO_TWO_FIFTY:"BETWEEN_100001_250000",TWO_FIFTY_TO_FIVE_HUNDRED:"BETWEEN_250001_500000",FIVE_HUNDRED_TO_ONE_MILLION:"BETWEEN_500001_1000000",ONE_MILLION_TO_TWO_HALF_MILLION:"BETWEEN_1000001_2500000",TWO_HALF_MILLION_TO_FIVE_MILLION:"BETWEEN_2500001_5000000",MORE_THAN_FIVE_MILLION:"GREATER_THAN_5000000"},JPO:{LESS_THAN_ONE_HUNDRED:"LESS_THAN_100000",ONE_HUNDRED_TO_LESS_THAN_ONE_HUNDRED_FIFTY:"BETWEEN_100000_149999",ONE_HUNDRED_FITY_TO_LESS_THAN_TWO_HUNDRED_FIFTY:"BETWEEN_150000_249999",TWO_HUNDRED_FIFTY_TO_LESS_THAN_FIVE_HUNDRED:"BETWEEN_250000_499999",FIVE_HUNDRED_TO_LESS_THAN_SEVEN_HUNDRED_FIFTY:"BETWEEN_500000_749999",SEVEN_HUNDRED_FIFTY_TO_LESS_THAN_ONE_MILLION:"BETWEEN_750000_999999",ONE_MILLION_TO_LESS_THAN_TWO_AND_HALF_MILLION:"BETWEEN_1000000_2499999",TWO_AND_HALF_MILLION_TO_LESS_THAN_FIVE_MILLION:"BETWEEN_2500000_4999999",FIVE_MILLION_TO_LESS_THAN_SEVEN_AND_HALF_MILLION:"BETWEEN_5000000_7499999",SEVEN_AND_HALF_MILLION_TO_LESS_THAN_TEN_MILLION:"BETWEEN_7500000_9999999",TEN_MILLION_TO_LESS_THAN_FIFTEEN_MILLION:"BETWEEN_10000000_14999999",FIFTEEN_MILLION_TO_LESS_THAN_TWENTY_MILLION:"BETWEEN_15000000_19999999",ABOVE_TWENTY_MILLION:"GREATER_THAN_20MILLION"}},TRADING_EXPERIENCE_MAPPER:{CWM:{UNDER_ONE_YEAR:"LESS_THAN_ONE_YEAR",ONE_YEAR_PLUS:"MORE_THAN_ONE_YEAR",THREE_YEARS_PLUS:"MORE_THAN_THREE_YEARS",FIVE_YEARS_PLUS:"MORE_THAN_FIVE_YEARS"},JPO:{UP_TO_THREE_YEARS:"ZERO",FOUR_TO_SEVEN_YEARS:"FOUR",EIGHT_TO_TEN_YEARS:"EIGHT",ABOVE_TEN_YEARS:"TEN"}},NETWORTH_LESS_THAN_LIQUIDNETWORTH_ERROR_MAPPER:{UNDER_FIFTY:{FIFTY_TO_ONE_HUNDRED:"FIFTY_TO_ONE_HUNDRED",ONE_HUNDRED_TO_TWO_HUNDRED:"ONE_HUNDRED_TO_TWO_HUNDRED",MORE_THAN_TWO_HUNDRED:"MORE_THAN_TWO_HUNDRED"},FIFTY_TO_ONE_HUNDRED:{ONE_HUNDRED_TO_TWO_HUNDRED:"ONE_HUNDRED_TO_TWO_HUNDRED",MORE_THAN_TWO_HUNDRED:"MORE_THAN_TWO_HUNDRED"}},PAGE_URLS:{requestOptionsApplication:"/dashboard/profileArea/optionsApplication/requestOptionsApplication",selectAccount:"/dashboard/profileArea/optionsApplication/selectAccount",confirmation:"/dashboard/profileArea/optionsApplication/confirmation",pending:"/dashboard/profileArea/optionsApplication/pending"},PAGE_STEPS:{accountSummary:"accountSummary",questionnaire:"questionnaire",pending:"pending",submission:"submission",marginPending:"marginPending",marginApproved:"marginApproved"},MARGIN_APPLICATION_SHARED_FIELDS:["financialEstimatedAnnualIncome","financialEstimatedLiquidNetWorth","tradingStocksExperience","tradingFixedIncomeExperience","tradingOptionsExperience"],PARENT_CONTAINER_ELEMENT:"#options-application-container",SERVICE_STATUS:{SUCCESS:"SUCCESS",FAILURE:"FAILURE"},MDS_OPTIONS_ILLUSTRATIONS:{gauge_support_circle:"mds_ill_gauge_supporting_circle"},MARGIN_HELP_FLYOUT:"marginHelp",COMMA:",",FULLY_ENABLED:"FULLY_ENABLED",MARGIN_FULLY_ENABLED_EXCLUSIONS:["CSPORDER","CSPPOS","PIP","JPMPDORDER","JPMPDPOS"]}})),define("profileArea/investments/marginApplication/lib/constants",[],(function(){"use strict";var e="/dashboard/profileArea/marginApplication";return{MARGIN_HELP_FLYOUT:"marginHelp",HELP:"help",SHOW_OVERVIEW:"showOverview",MARGIN_APPLICATION_FORM_HEADERS:{NEW_APPLICATION:"NEW_APPLICATION",APPROVED_APPLICATION:"APPROVED_APPLICATION",NEW_APPLICATION_OPTIONS_ENABLED:"NEW_APPLICATION_OPTIONS_ENABLED"},COMPONENT_VIEW_PATHS:{marginApplicationContainer:"marginApplicationContainer",marginApplicationAccountList:"marginApplicationAccountList",marginApplicationForm:"marginApplicationForm",marginApplicationPending:"marginApplicationPending",marginApplicationConfirmation:"marginApplicationConfirmation",marginOptionsApplicationConfirmation:"marginOptionsApplicationConfirmation",marginApplicationBlocker:"marginApplicationBlocker",marginOptionsApplicationForm:"marginOptionsApplicationForm",marginOptionsConfirmationFooter:"marginOptionsConfirmationFooter"},PAGE_URLS:{MARGIN_APPLICATION:e+"/requestMarginApplication",MARGIN_APPLICATION_FORM:e+"/requestMarginApplicationForm",MARGIN_APPLICATION_PENDING:e+"/requestMarginApplicationPending",MARGIN_APPLICATION_CONFIRMATION:e+"/requestMarginApplicationConfirmation",MARGIN_OPTIONS_APPLICATION_CONFIRMATION:e+"/requestMarginOptionsApplicationConfirmation",MARGIN_APPLICATION_BLOCKER:e+"/requestMarginApplicationBlocker",MARGIN_OPTIONS_APPLICATION_FORM:e+"/requestMarginOptionsApplicationForm",INVESTMENT_DISCLOSURES:"/dashboard/investmentDisclosure/index"},TRADING_EXPERIENCE:{UNDER_ONE_YEAR:"LESS_THAN_ONE_YEAR",ONE_YEAR_PLUS:"MORE_THAN_ONE_YEAR",THREE_YEARS_PLUS:"MORE_THAN_THREE_YEARS",FIVE_YEARS_PLUS:"MORE_THAN_FIVE_YEARS"},ANNUAL_INCOME_OPTIONS:{UNDER_TWENTY_FIVE:"LESS_THAN_25001",TWENTY_FIVE_TO_FIFTY:"BETWEEN_25001_50000",FIFTY_TO_ONE_HUNDRED:"BETWEEN_50001_100000",ONE_HUNDRED_TO_TWO_FIFTY:"BETWEEN_100001_250000",TWO_FIFTY_TO_FIVE_HUNDRED:"BETWEEN_250001_500000",MORE_THAN_FIVE_HUNDRED:"GREATER_THAN_500000"},LIQUID_NET_WORTH_OPTIONS:{UNDER_FIVE:"LESS_THAN_5001",FIVE_TO_TEN:"BETWEEN_5001_10000",TEN_TO_TWENTY_FIVE:"BETWEEN_10001_25000",TWENTY_FIVE_TO_FIFTY:"BETWEEN_25001_50000",FIFTY_TO_ONE_HUNDRED:"BETWEEN_50001_100000",ONE_HUNDRED_TO_TWO_HUNDRED:"BETWEEN_100001_200000",MORE_THAN_TWO_HUNDRED:"GREATER_THAN_200000"},NET_WORTH_OPTIONS:{UNDER_FIFTY:"LESS_THAN_50001",FIFTY_TO_ONE_HUNDRED:"BETWEEN_50001_100000",ONE_HUNDRED_TO_TWO_FIFTY:"BETWEEN_100001_250000",TWO_FIFTY_TO_FIVE_HUNDRED:"BETWEEN_250001_500000",FIVE_HUNDRED_TO_ONE_MILLION:"BETWEEN_500001_1000000",ONE_MILLION_TO_TWO_HALF_MILLION:"BETWEEN_1000001_2500000",TWO_HALF_MILLION_TO_FIVE_MILLION:"BETWEEN_2500001_5000000",MORE_THAN_FIVE_MILLION:"GREATER_THAN_5000000"},ESTIMATED_ANNUAL_INCOME_MAPPER:{UNDER_TWENTY_FIVE:"LESS_THAN_25001",TWENTY_FIVE_TO_FIFTY:"BETWEEN_25001_50000",FIFTY_TO_ONE_HUNDRED:"BETWEEN_50001_100000",ONE_HUNDRED_TO_TWO_FIFTY:"BETWEEN_100001_250000",TWO_FIFTY_TO_FIVE_HUNDRED:"BETWEEN_250001_500000",MORE_THAN_FIVE_HUNDRED:"GREATER_THAN_500000"},ESTIMATED_LIQUID_NET_WORTH_MAPPER:{UNDER_FIVE:"LESS_THAN_5001",FIVE_TO_TEN:"BETWEEN_5001_10000",TEN_TO_TWENTY_FIVE:"BETWEEN_10001_25000",TWENTY_FIVE_TO_FIFTY:"BETWEEN_25001_50000",FIFTY_TO_ONE_HUNDRED:"BETWEEN_50001_100000",ONE_HUNDRED_TO_TWO_HUNDRED:"BETWEEN_100001_200000",MORE_THAN_TWO_HUNDRED:"GREATER_THAN_200000"},ESTIMATED_NET_WORTH_MAPPER:{UNDER_FIFTY:"LESS_THAN_50001",FIFTY_TO_ONE_HUNDRED:"BETWEEN_50001_100000",ONE_HUNDRED_TO_TWO_FIFTY:"BETWEEN_100001_250000",TWO_FIFTY_TO_FIVE_HUNDRED:"BETWEEN_250001_500000",FIVE_HUNDRED_TO_ONE_MILLION:"BETWEEN_500001_1000000",ONE_MILLION_TO_TWO_HALF_MILLION:"BETWEEN_1000001_2500000",TWO_HALF_MILLION_TO_FIVE_MILLION:"BETWEEN_2500001_5000000",MORE_THAN_FIVE_MILLION:"GREATER_THAN_5000000"},TRADING_EXPERIENCE_MAPPER:{UNDER_ONE_YEAR:"LESS_THAN_ONE_YEAR",ONE_YEAR_PLUS:"MORE_THAN_ONE_YEAR",THREE_YEARS_PLUS:"MORE_THAN_THREE_YEARS",FIVE_YEARS_PLUS:"MORE_THAN_FIVE_YEARS"},ERROR_STATES:{FORM_INVALID:"FORM_INVALID",FORM_SUBMIT_FAILURE:"FORM_SUBMIT_FAILURE"},ERROR_STATES_VARIATION:{APPLICATION_UPDATE_UNSUCCESSFUL:"APPLICATION_UPDATE_UNSUCCESSFUL",ACCOUNT_LIST_FAILURE:"SYSTEM_FAILURE",FORM_INVALID:"MISSING_MANDATORY_DATA",MISSING_MANDATORY_DATA:"MISSING_MANDATORY_DATA",FORM_SUBMIT_FAILURE:"SYSTEM_FAILURE"},OPTIONS_ENABLED:"OPTIONS_ENABLED",FULLY_ENABLED:"FULLY_ENABLED",APPLICATION_STATUSES:{APPLICATION_AVAILABLE:"APPLICATION_AVAILABLE",APPLICATION_PENDING:"APPLICATION_PENDING",APPLICATION_PENDING_UNAVAILABLE:"APPLICATION_PENDING_UNAVAILABLE",APPLICATION_UPDATE_UNSUCCESSFUL:"APPLICATION_UPDATE_UNSUCCESSFUL"},ICONS:{APPLY_TO_OPTIONS:"/content/dam/cpo-static/images/you-invest-options-icon.png"},HYBRID_ONLY_CLOSE_BUTTON:{showHamburgerMenu:!1,showCancel:!1,showBackArrow:!1,showClose:!0,showProfileSettings:!1,showExitConfirmationOverlay:!1},HYBRID_ONLY_CANCEL_BUTTON:{showHamburgerMenu:!1,showCancel:!0,showBackArrow:!1,showClose:!1,showProfileSettings:!1,showExitConfirmationOverlay:!1},HYBRID_ONLY_BACK_BUTTON:{showHamburgerMenu:!1,showCancel:!1,showBackArrow:!0,showClose:!1,showProfileSettings:!1,showExitConfirmationOverlay:!1},HYBRID_NO_BUTTON:{showHamburgerMenu:!1,showCancel:!1,showBackArrow:!1,showClose:!1,showProfileSettings:!1,showExitConfirmationOverlay:!1},MARITAL_STATUS_OPTIONS:{SINGLE:"SINGLE",MARRIED:"MARRIED"},DEPENDENTS_OPTIONS:{ZERO:"ZERO",ONE:"ONE",TWO:"TWO",THREE:"THREE",FOUR:"FOUR",FIVE:"FIVE",SIX:"SIX",SEVEN:"SEVEN",EIGHT:"EIGHT",NINE:"NINE",TEN:"TEN"},DEPENDENTS_TEN_PLUS_OPTIONS:"dependentsTenPlusOption",MORE_THAN_TEN:"MORE_THAN_TEN",EMPLOYMENT_STATUS_OPTIONS:{EMPLOYED:"EMPLOYED",RETIRED:"RETIRED",UNEMPLOYED:"UNEMPLOYED"},SERVICE_STATUS:{SUCCESS:"SUCCESS",FAILURE:"FAILURE"},MARGIN_APPLICATION_STATUS:{APPROVED:"APPROVED",PENDING:"PENDING"},ACCOUNT_COUNT:{SINGLE:"SINGLE",MULTIPLE:"MULTIPLE"},ACCOUNT_ADVISORY_STATE:{APPROVED_ACCOUNT:"APPROVED_ACCOUNT",APPROVED_ACCOUNTS:"APPROVED_ACCOUNTS",FSWM_MARGIN_STATE_ACCOUNT:"FSWM_MARGIN_STATE_ACCOUNT",FSWM_MARGIN_STATE_ACCOUNTS:"FSWM_MARGIN_STATE_ACCOUNTS",PENDING_STATE_ACCOUNT:"PENDING_STATE_ACCOUNT",PENDING_STATE_ACCOUNTS:"PENDING_STATE_ACCOUNTS"},MARGIN_EXAMPLE_IMAGE_SIZE:{WEB:{BREAK_POINT:576,WIDTH:720},MOBILE:{BREAK_POINT:0,WIDTH:288}},MARGIN_INELIGIBLE_VARIOUS_VARIANTS:"VARIOUS",MARGIN_INELIGIBLE_VARIANTS:{SINGLE_NONEQORDER_NONEQPOS_PIP:"PIP_ORDER_POSITION_ACCOUNT",MULTIPLE_NONEQORDER_NONEQPOS_PIP:"PIP_ORDER_POSITION_ACCOUNTS",SINGLE_NONEQORDER_PIP:"PIP_ORDER_ACCOUNT",MULTIPLE_NONEQORDER_PIP:"PIP_ORDER_ACCOUNTS",SINGLE_NONEQPOS_PIP:"PIP_POSITION_ACCOUNT",MULTIPLE_NONEQPOS_PIP:"PIP_POSITION_ACCOUNTS",SINGLE_PIP:"PIP_ACCOUNT",MULTIPLE_PIP:"PIP_ACCOUNTS",SINGLE_NONEQORDER_NONEQPOS:"ORDER_POSITION_ACCOUNT",MULTIPLE_NONEQORDER_NONEQPOS:"ORDER_POSITION_ACCOUNTS",SINGLE_NONEQORDER:"ORDER_ACCOUNT",MULTIPLE_NONEQORDER:"ORDER_ACCOUNTS",SINGLE_NONEQPOS:"POSITION_ACCOUNT",MULTIPLE_NONEQPOS:"POSITION_ACCOUNTS"},MARGIN_INELIGIBLE_VARIANTS_OPTIONS_ENABLED:{SINGLE_NONEQORDER_NONEQPOS_PIP:"PIP_ORDER_POSITION_ACCOUNT_OPTIONS_ENABLED",MULTIPLE_NONEQORDER_NONEQPOS_PIP:"PIP_ORDER_POSITION_ACCOUNTS_OPTIONS_ENABLED",SINGLE_NONEQORDER_PIP:"PIP_ORDER_ACCOUNT_OPTIONS_ENABLED",MULTIPLE_NONEQORDER_PIP:"PIP_ORDER_ACCOUNTS_OPTIONS_ENABLED",SINGLE_NONEQPOS_PIP:"PIP_POSITION_ACCOUNT_OPTIONS_ENABLED",MULTIPLE_NONEQPOS_PIP:"PIP_POSITION_ACCOUNTS_OPTIONS_ENABLED",SINGLE_PIP:"PIP_ACCOUNT",MULTIPLE_PIP:"PIP_ACCOUNTS_OPTIONS_ENABLED",SINGLE_NONEQORDER_NONEQPOS:"ORDER_POSITION_ACCOUNT_OPTIONS_ENABLED",MULTIPLE_NONEQORDER_NONEQPOS:"ORDER_POSITION_ACCOUNTS_OPTIONS_ENABLED",SINGLE_NONEQORDER:"ORDER_ACCOUNT_OPTIONS_ENABLED",MULTIPLE_NONEQORDER:"ORDER_ACCOUNTS_OPTIONS_ENABLED",SINGLE_NONEQPOS:"POSITION_ACCOUNT_OPTIONS_ENABLED",MULTIPLE_NONEQPOS:"POSITION_ACCOUNTS_OPTIONS_ENABLED"},MARGIN_FULLY_ENABLED_EXCLUSIONS:["CSPORDER","CSPPOS","PIP","JPMPDPOS","JPMPDORDER"],NAVIGATION_KEYS:{PERIODIC_INVESTING:"requestPeriodicInvesting",PORTFOLIO_POSITIONS:"portfolioPositions",ORDER_STATUS:"tradeOrderStatusWithAccount",NEW_ACCOUNT:"requestAOAWM_OI_SDI_CWM_Brokerage"}}})),define("profileArea/investments/optionsApplication/dataTransform/optionsApplication",["require","profileArea/investments/optionsApplication/lib/optionsApplicationConstants"],(function(e){"use strict";var t=e("profileArea/investments/optionsApplication/lib/optionsApplicationConstants"),i=function(e,i){return t.TRADING_EXPERIENCE_MAPPER[e][i]},n=function(e){var t=[],i={investmentObjectiveIncome:"INCOME",investmentObjectiveGrowth:"GROWTH",investmentObjectiveSpeculation:"SPECULATION"};return["investmentObjectiveIncome","investmentObjectiveGrowth","investmentObjectiveSpeculation"].forEach((function(n){e[n]&&t.push(i[n])})),t};return function(e){return{getOldAccountParams:function(r,a){r.investmentObjectives=n(r);var o={accountId:a.get("optionsApplication.accountId"),optionsLevel:r.tradingLevel,estimatedAnnualIncome:t.ESTIMATED_ANNUAL_INCOME_MAPPER[e.userType][r.financialEstimatedAnnualIncome],estimatedLiquidNetWorth:t.ESTIMATED_LIQUID_NET_WORTH_MAPPER[e.userType][r.financialEstimatedLiquidNetWorth],estimatedNetWorth:t.ESTIMATED_NET_WORTH_MAPPER[e.userType][r.financialEstimatedNetWorth],stocksTradeExperience:i(e.userType,r.tradingStocksExperience),fixedIncomeTradeExperience:i(e.userType,r.tradingFixedIncomeExperience),optionsTradeExperience:i(e.userType,r.tradingOptionsExperience),investmentObjectives:r.investmentObjectives,maritalStatus:r.personalInformationMaritalStatus,dependents:r.personalInformationDependents,employmentStatus:r.employmentInformationStatus,isJPMorganEmployee:r.internalEmployee,primary:!0,agreementVersion:a.get("optionsApplication.optionsTermsAndConditionsVersion")};return"dependentsTenPlusOption"===o.dependents&&(o.dependents="MORE_THAN_TEN"),"EMPLOYED"===r.employmentInformationStatus&&(o.occupation=r.employmentInformationOccupation,o.employer=r.employmentInformationEmployer),o},getAccountParams:function(r,a){r.investmentObjectives=n(r);var o,s,c="EMPLOYED",l="dependentsTenPlusOption",d="MORE_THAN_TEN",u={accountId:a.get("optionsApplication.accountId"),optionsLevel:r.tradingLevel,estimatedAnnualIncome:t.ESTIMATED_ANNUAL_INCOME_MAPPER[e.userType][r.financialEstimatedAnnualIncome],estimatedLiquidNetWorth:t.ESTIMATED_LIQUID_NET_WORTH_MAPPER[e.userType][r.financialEstimatedLiquidNetWorth],estimatedNetWorth:t.ESTIMATED_NET_WORTH_MAPPER[e.userType][r.financialEstimatedNetWorth],stocksTradeExperience:i(e.userType,r.tradingStocksExperience),fixedIncomeTradeExperience:i(e.userType,r.tradingFixedIncomeExperience),optionsTradeExperience:i(e.userType,r.tradingOptionsExperience),investmentObjectives:r.investmentObjectives,agreementVersion:a.get("optionsApplication.optionsTermsAndConditionsVersion"),applicantInfo:[]};return(o={primary:!0,dependents:r.personalInformationDependents,employmentStatus:r.employmentInformationStatus,maritalStatus:r.personalInformationMaritalStatus}).dependents===l&&(o.dependents=d),r.employmentInformationStatus===c&&(o.occupation=r.employmentInformationOccupation,o.employer=r.employmentInformationEmployer),u.applicantInfo.push(o),r.isJointAccount&&(s={primary:!1,dependents:r.secondaryApplicantDependents,employmentStatus:r.secondaryApplicantEmploymentStatus,maritalStatus:r.secondaryApplicantMaritalStatus},r.secondaryApplicantEmploymentStatus===c&&(s.occupation=r.secondaryApplicantOccupation,s.employer=r.secondaryApplicantEmployer),s.dependents===l&&(s.dependents=d),u.applicantInfo.push(s)),u},toLegacyAccountData:function(e){return{accountLOB:e.lineOfBusinessName,estimatedAnnualIncome:e.annualIncomeRangeCode,estimatedLiquidNetWorth:e.estimatedLiquidNetWorthCode,estimatedNetWorth:e.estimatedNetWorthCode,fixedIncomeTradeExperience:e.fixedIncomeTradeExperienceCode,ineligibilityReasons:(n=e.ineligibilityReasons,(n||[]).map((function(e){return e.ineligibilityReasonCode}))),investmentObjectives:(i=e.investmentObjectiveList,(i||[]).map((function(e){return e.investmentObjectiveText}))),marginApplicationStatus:e.marginApplicationStatusCode,marginApprovalStatus:e.marginApprovalIndicator,marginEligible:e.marginEligibilityIndicator,optionsApplicationStatus:e.applicationStatusCode,optionsLevel:e.optionLevelCode,optionsTradeExperience:e.optionsTradeExperienceCode,stocksTradeExperience:e.stocksTradeExperienceCode,applicantInfo:(t=e.applicantInformation,(t||[]).map((function(e){return{applicantName:e.applicantFullName,dependents:e.dependentCode,dob:e.individualBirthDate,employer:e.employerName,employmentStatus:e.employeeEmploymentStatusCode,internalEmployee:e.chaseEmployeeIndicator,maritalStatus:e.applicantMaritalStatusCode,occupation:e.employeeOccupationText,primary:e.accountPrimaryOwnershipIndicator}})))};var t,i,n}}}})),define("profileArea/investments/optionsApplication/dataProvider/optionsApplication",["require","profileArea/investments/optionsApplication/lib/optionsApplicationConstants","profileArea/investments/optionsApplication/dataTransform/optionsApplication"],(function(e){"use strict";var t,i,n,r=e("profileArea/investments/optionsApplication/lib/optionsApplicationConstants"),a=e("profileArea/investments/optionsApplication/dataTransform/optionsApplication")(t),o=r.PARENT_CONTAINER_ELEMENT,s=function(e){i.registry.hasComponent("optionsApplication")&&e&&(n.set(i.components.optionsApplication,"financialInformationHeader",e),n.set(i.components.optionsApplication,"tradingExperienceHeader",e),n.set(i.components.optionsApplication,"liquidNetWorthLabel",e),n.set(i.components.optionsApplication,"netWorthLabel",e),n.set(i.components.optionsApplication,"annualIncomeLabel",e))};return{onInit:function(e){t=e.context,i=e,n=t.dcu.dynamicContent},mappers:{optionsApplication:{termsAndConditions:{success:function(e,t,i,n){return t},failure:function(e,t){}},getMarginTermsAndConditionsData:{success:function(e,t){var n=JSON.parse(t).result.legalAgreement,r="";n.sections.forEach((function(e){r+=e.subSection})),i.model.update("optionsApplication",{marginTermsAndConditionsPdfUrl:n.pdfPath,marginTermAndConditionsVersion:n.uniqueVersionId,marginTermsAndConditionsTitle:n.title,marginTermsAndConditionsDetail:r})},failure:function(e,t){}},getOptionsTermsAndConditionsData:{success:function(e,t){var n=JSON.parse(t).result.legalAgreement,r="";n.sections.forEach((function(e){r+=e.subSection})),i.model.update("optionsApplication",{optionsTermsAndConditionsPdfUrl:n.pdfPath,optionsTermsAndConditionsVersion:n.uniqueVersionId,optionsTermsAndConditionsTitle:n.title,optionsTermsAndConditionsDetail:r})},failure:function(e,t){}},getAccountsListExpApi:{success:function(e,t,i,n){const r=t.optionsTradeAccounts.reduce((function(e,t){return e.concat([{accountId:t.digitalAccountIdentifier,accountDisplayName:t.accountNickname+" ("+t.maskedAccountNumber+")",isRetirementAccount:t.retirementAccountIndicator,thirtyDayBlock:t.approval30DayBlockIndicator}])}),[]);let a=r.some((e=>e.thirtyDayBlock));n.set("optionsApplication.brokerageAccounts",r),n.set("optionsApplication.isAccountsThirtyDayBlock",a)},failure:function(e,t,i,n){return n.set("optionsApplication.pageError","SYSTEM_FAILURE"),n.set("optionsApplication.optionsAccountListServiceError",!0),Promise.reject(t)}},postAccountDataExpApi:{success:function(e,t,i,n){return{status:"SUCCESS",resData:t}},failure:function(e,t,i,n){return{status:"FAILURE",resData:t}}},getAccountDataEnhancedExpApi:{success:function(e,t,i,n){if(!t.applicationStatusCode)return Promise.reject();t.applicantInformation&&1!==t.applicantInformation.length?s("COMBINED"):s("INDIVIDUAL");n.update("optionsApplication",{marginApprovalStatus:t.marginApprovalIndicator,marginApplicationStatus:t.marginApplicationStatusCode});var r=a.toLegacyAccountData(t);return r.margin30DayBlockIndicator=t.margin30DayBlockIndicator,r.code="SUCCESS",r},failure:function(e,i,n,r){return r.set("optionsApplication.pageError","SYSTEM_FAILURE"),r.set("optionsApplication.optionsAccountServiceError",!0),t.commonComponentsUtil.hideSpinner({target:o}),Promise.reject(i)}},postMarginAccountDataExpApi:{success:function(e,t){return{status:"SUCCESS",resData:{code:t.applicationStatusCode}}},failure:function(e,t){return{status:"FAILURE",resData:t}}}}}}})),define("profileArea/sharedLib/dataTransform/optionsSubmitMigrationUtility",["require","profileArea/investments/optionsApplication/lib/optionsApplicationConstants"],(function(e){"use strict";var t,i=e("profileArea/investments/optionsApplication/lib/optionsApplicationConstants"),n=function(e,t){return i.TRADING_EXPERIENCE_MAPPER[e][t]};return function(e){return t=e,{getAccountParamsExpApi:function(e,r){e.investmentObjectives=function(e){var t=[],i={investmentObjectiveIncome:"INCOME",investmentObjectiveGrowth:"GROWTH",investmentObjectiveSpeculation:"SPECULATION"};return["investmentObjectiveIncome","investmentObjectiveGrowth","investmentObjectiveSpeculation"].forEach((function(n){e[n]&&t.push({investmentObjectiveText:i[n]})})),t}(e);var a,o,s="EMPLOYED",c="dependentsTenPlusOption",l="MORE_THAN_TEN",d={digitalAccountIdentifier:r.get("optionsApplication.accountId"),optionLevelCode:e.tradingLevel,annualIncomeRangeCode:i.ESTIMATED_ANNUAL_INCOME_MAPPER[t.userType][e.financialEstimatedAnnualIncome],estimatedLiquidNetWorthCode:i.ESTIMATED_LIQUID_NET_WORTH_MAPPER[t.userType][e.financialEstimatedLiquidNetWorth],estimatedNetWorthCode:i.ESTIMATED_NET_WORTH_MAPPER[t.userType][e.financialEstimatedNetWorth],stocksTradeExperienceCode:n(t.userType,e.tradingStocksExperience),fixedIncomeTradeExperienceCode:n(t.userType,e.tradingFixedIncomeExperience),optionsTradeExperienceCode:n(t.userType,e.tradingOptionsExperience),investmentObjectiveList:e.investmentObjectives,agreementVersionNumber:r.get("optionsApplication.optionsTermsAndConditionsVersion"),applicantInformation:[]};return(a={accountPrimaryOwnershipIndicator:!0,dependentCode:e.personalInformationDependents,employeeEmploymentStatusCode:e.employmentInformationStatus,applicantMaritalStatusCode:e.personalInformationMaritalStatus}).dependentCode===c&&(a.dependentCode=l),e.employmentInformationStatus===s&&(a.employeeOccupationText=e.employmentInformationOccupation,a.employerName=e.employmentInformationEmployer),d.applicantInformation.push(a),e.isJointAccount&&(o={accountPrimaryOwnershipIndicator:!1,dependentCode:e.secondaryApplicantDependents,employeeEmploymentStatusCode:e.secondaryApplicantEmploymentStatus,applicantMaritalStatusCode:e.secondaryApplicantMaritalStatus},e.secondaryApplicantEmploymentStatus===s&&(o.employeeOccupationText=e.secondaryApplicantOccupation,o.employerName=e.secondaryApplicantEmployer),o.dependentCode===c&&(o.dependentCode=l),d.applicantInformation.push(o)),d}}}})),define("profileArea/investments/optionsApplication/controllers/optionsApplication",["require","profileArea/investments/optionsApplication/lib/constants","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","profileArea/investments/optionsApplication/lib/optionsApplicationConstants","profileArea/investments/marginApplication/lib/constants","blue-app/cache/sessionCache","common/lib/API/contextValidation/contextValidationAPI","profileArea/investments/optionsApplication/dataProvider/optionsApplication","profileArea/sharedLib/investmentsLib/investmentDisclosuresUtility","profileArea/sharedLib/dataTransform/optionsSubmitMigrationUtility","appkit-utilities/accountInfo/accountInfo","common/lib/flyout/flyoutUtility","common/lib/utility/commonComponentsUtil"],(function(e){"use strict";var t=e("profileArea/investments/optionsApplication/lib/constants"),i=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"),n=e("profileArea/investments/optionsApplication/lib/optionsApplicationConstants"),r=e("profileArea/investments/marginApplication/lib/constants"),a=n.PARENT_CONTAINER_ELEMENT,o=n.PAGE_STEPS,s=e("blue-app/cache/sessionCache"),c=e("common/lib/API/contextValidation/contextValidationAPI"),l=n.SERVICE_STATUS;return function(d){var u=this,p=e("profileArea/investments/optionsApplication/dataProvider/optionsApplication"),m=e("profileArea/sharedLib/investmentsLib/investmentDisclosuresUtility"),f=e("profileArea/sharedLib/dataTransform/optionsSubmitMigrationUtility")(d),A=e("appkit-utilities/accountInfo/accountInfo"),g=e("common/lib/flyout/flyoutUtility");u.onInit=function(){d.commonComponentsUtil=e("common/lib/utility/commonComponentsUtil")(u),p.onInit(u),u.dataProvider.mappers=p.mappers,d.renderDisclosures=u.renderDisclosures,d.requestAccountData=u.requestAccountData,d.requestOptionsApplicationAndRisks=u.requestOptionsApplicationAndRisks,d.postAccountData=u.postAccountData,d.postMarginAccountData=u.postMarginAccountData,d.requestReturnToAccountPage=u.requestReturnToAccountPage,d.featureProviderPromise=i.getFeatureTreatments(["cxo_profile_OptionsWithMargin","cxo_profile_OptionsLevelTwoRetirementAccounts","cxo_trade_MutualFundsWithMargin","cxo_trade_FixedIncomeWithMargin","cxo_profile_OptionsApplicationRedesign"],{cxo_profile_OptionsWithMargin:!0,cxo_profile_OptionsLevelTwoRetirementAccounts:!1,cxo_trade_MutualFundsWithMargin:!1,cxo_trade_FixedIncomeWithMargin:!1,cxo_profile_OptionsApplicationRedesign:!1}),d.featureProviderPromise.then((function(e){d.isOptionsMarginEnabled=e.cxo_profile_OptionsWithMargin,d.isOptionsLevelTwoRetirementAccountsEnabled=e.cxo_profile_OptionsLevelTwoRetirementAccounts,d.isMarginFullyEnabled=e.cxo_trade_MutualFundsWithMargin&&e.cxo_trade_FixedIncomeWithMargin}))},u.index=function(){if(d.profileContainer.setPageProperties({containerClasses:"legacy-profile-styles"}),u.registry.hasComponent("optionsApplication"))return u.model.get("optionsApplication.optionsViewMode")===o.questionnaire&&(u.components.optionsApplication.clearApplication(),d.bubble("dirtyUpdate",{name:"optionsApplication"})),u.components.optionsApplication.optionsViewMode=o.accountSummary,void d.commonComponentsUtil.hideSpinner({target:a});u.initPageDependencies()},u.requestOptionsApplication=u.index,u.initPageDependencies=function(e){var t=[d.featureProviderPromise,d.userInfoPromise];Promise.all(t).then((function(){var t=new A({profileType:d.userInfo.profileType,segmentType:d.userInfo.segment,userType:d.userInfo.userType});u.accountSegment=t,u._index(e)}))},u.initPageDependenciesWithPromise=function(){return new Promise((function(e){u.initPageDependencies(e)}))},u._index=function(e){d.featureProviderPromise.then((function(e){const t=e.cxo_profile_OptionsWithMargin,i=e.cxo_profile_OptionsLevelTwoRetirementAccounts,n=e.cxo_profile_OptionsApplicationRedesign;u.model.set("optionsApplication.isOptionsMarginEnabled",t),u.model.set("optionsApplication.isOptionsLevelTwoRetirementAccountsEnabled",i),u.model.set("optionsApplication.isOptionsApplicationRedesignEnabled",n)}));var t=d.routeHistory.lastRoute()||"",i=e?"":o.accountSummary;if(!(g.isFlyout(d.state())||t.indexOf("flyout")>-1)){u.model.update("optionsApplication",{optionsViewMode:i,currentAccount:null,levelOneTrading:"LEVEL_ONE",levelTwoTrading:"LEVEL_TWO",termsAcceptanceStatus:!1,marginTermsAcceptanceStatus:!1,limitedMarginTermsAcceptanceStatus:!1,applicationPending:!1,investmentObjectiveIncome:!1,investmentObjectiveGrowth:!1,investmentObjectiveSpeculation:!1,employmentInformationEmployer:null,employmentInformationOccupation:null,isJPMorganEmployee:!1,pageError:"",optionsAccountListServiceError:!1,optionsAccountServiceError:!1,submitApplicationServiceError:!1,isApprovedLevelOne:null,isApprovedLevelTwo:null,optionsApplicationFormError:!1,isJointAccount:!1,isAccountsThirtyDayBlock:!1});var n=[u.components.optionsApplication,"optionsApplication",{target:"#my-profile-page-content"}];return d.elementObserver.isInsertedPromise(a).then((function(){d.commonComponentsUtil.showSpinner({target:a,overlayType:"INSECTION"}),u.getAccountsList().then((function(){e?e():(u.renderDisclosures(),d.commonComponentsUtil.hideSpinner({target:a}))}),(function(e){d.commonComponentsUtil.hideSpinner({target:a}),d.logger.error("application/accountsList service failed due to system exception"+e.responseText)}))})),d.elementObserver.isInsertedPromise("#my-profile-page-content").then((function(){return u.dirtyRegister(),d.application.dirtyForm.onRemove=!1,u.executeCAV(n).then((function(){d.area.broadcast("renderMyProfileMenuMobile")}))}))}},u.renderDisclosures=function(e,t){return d.elementObserver.isInsertedPromise("#investmentDisclosures").then((function(){m.setupInvestmentDisclosures.call(u,null,t).then((function(){m.updatePageDisclosuresMessage(e||"optionsApplication",t)}))}))},u.getAccountsList=function(){return u.model.set("optionsApplication.optionsAccountListServiceError",!1),u.dataProvider.request("optionsApplication.getAccountsListExpApi")},u.selectAccount=function(e){var t=d.routeHistory.lastRoute(),i=t&&t.includes(n.PAGE_URLS.confirmation),r=u.model.get("optionsApplication.isFromFailedCombinedFormConfirmation");!e.ai||i&&!r?d.state(n.PAGE_URLS.requestOptionsApplication):(i&&r&&u.requestAccountDataFromModel(e.ai,!0),u.registry.hasComponent("optionsApplication")||u.initPageDependenciesWithPromise().then((function(){u.requestAccountDataFromModel(e.ai)})))},d.fetchAccountsData=function(e){u.requestAccountDataFromModel(e.ai,!0)},u.requestAccountDataFromModel=function(e,t){let i=u.model.get("optionsApplication.brokerageAccounts").find((function(t){return t.accountId.toString()===e.toString()}));i&&!u.model.get("optionsApplication.isAccountsThirtyDayBlock")?u.requestAccountData(i,t):d.state(n.PAGE_URLS.requestOptionsApplication)},u.pending=function(){d.routeHistory.lastRoute()?u.model.set("optionsApplication.optionsViewMode",o.pending):d.state(n.PAGE_URLS.requestOptionsApplication)},u.confirmation=function(e){var t=d.routeHistory.lastRoute(),i=e.ai;t?(u.model.get("optionsApplication.isCombinedForm")?u.renderDisclosures("marginOptionsApplication"):u.renderDisclosures(null,"confirmationDisclosure"),u.model.set("optionsApplication.isCombinedForm",!1),u.model.set("optionsApplication.optionsViewMode",o.submission),s.set("optionsApplicationReceived_"+i,!0)):d.state(n.PAGE_URLS.requestOptionsApplication)},u.requestAccountData=function(e,i){const r={urlParams:{accountId:e.accountId}};var s=u.model.get("optionsApplication.optionsViewMode");u.model.set("optionsApplication.currentAccount",null),u.model.set("optionsApplication.optionsAccountServiceError",!1),i&&d.commonComponentsUtil.showSpinner({target:a,overlayType:"INSECTION"}),d.featureProviderPromise.then((function(){u.dataProvider.request("optionsApplication.getAccountDataEnhancedExpApi",r).then((function(i){var r=t.OPTIONS_APPLICATION_STATUS_LIST,c=i.optionsApplicationStatus,l=i.marginApplicationStatus,p=i.marginApprovalStatus,m=i.margin30DayBlockIndicator;if(i&&"SUCCESS"===i.code&&r.APPLICATION_PENDING_UNAVAILABLE===c)return u.model.set("optionsApplication.pageError","SYSTEM_FAILURE"),u.model.set("optionsApplication.optionsAccountServiceError",!0),d.commonComponentsUtil.hideSpinner({target:a}),s&&s!==o.questionnaire||d.replaceState(n.PAGE_URLS.requestOptionsApplication),void d.logger.error("application/list service failed between Smartforms and NACS");u.setAccountData(e,i),d.isInitialLoad=!0,u.displayOptionsQuestionnaireOrPending(c,l,p,e.accountId,m),u.checkForUnsuccessfulUpdate(c),u.model.set("optionsApplication.termsAcceptanceStatus",!1),u.model.set("optionsApplication.marginTermsAcceptanceStatus",!1),u.model.set("optionsApplication.limitedMarginTermsAcceptanceStatus",!1),d.commonComponentsUtil.hideSpinner({target:a})}),(function(e){d.logger.error("application/list service failed due to system excpetion"+e.responseText),s&&s!==o.questionnaire||d.replaceState(n.PAGE_URLS.requestOptionsApplication)})),u.dataProvider.request("optionsApplication.getOptionsTermsAndConditionsData"),u.dataProvider.request("optionsApplication.getMarginTermsAndConditionsData")}))},d.enableMarginApplicationVariations=function(e){var t=e?"WITH_MARGIN_APPLICATION":"";u.model.set("optionsApplication.isCombinedForm",e),d.dcu.dynamicContent.setMultiple(u.components.optionsApplication,[{key:"optionsApplicationHeader",variation:t},{key:"applicationConfirmationHeader",variation:t},{key:"applicationConfirmationAdvisory",variation:t},{key:"applicationConfirmationDisclaimerPrimaryAdvisory",variation:t},{key:"applicationConfirmationDisclaimerSecondaryAdvisory",variation:t}])},u.postAccountData=function(e){const t=f.getAccountParamsExpApi(e,u.model);return u.dataProvider.request("optionsApplication.postAccountDataExpApi",JSON.stringify(t))},u.postMarginAccountData=function(e){const t={annualIncomeRangeCode:r.ESTIMATED_ANNUAL_INCOME_MAPPER[e.financialEstimatedAnnualIncome],estimatedLiquidNetWorthCode:r.ESTIMATED_LIQUID_NET_WORTH_MAPPER[e.financialEstimatedLiquidNetWorth],stocksTradeExperienceCode:r.TRADING_EXPERIENCE_MAPPER[e.tradingStocksExperience],fixedIncomeTradeExperienceCode:r.TRADING_EXPERIENCE_MAPPER[e.tradingFixedIncomeExperience],optionsTradeExperienceCode:r.TRADING_EXPERIENCE_MAPPER[e.tradingOptionsExperience],digitalAccountIdentifier:u.model.get("optionsApplication.accountId"),agreementVersionNumber:u.model.get("optionsApplication.optionsTermsAndConditionsVersion")};return u.dataProvider.request("optionsApplication.postMarginAccountDataExpApi",JSON.stringify(t))},d.submitSimpleForm=function(e){u.model.set("optionsApplication.submitApplicationServiceError",!1),u.model.set("optionsApplication.optionsApplicationFormError",!1),d.commonComponentsUtil.showSpinner({target:a,overlayType:"INSECTION"}),d.postAccountData(e).then((function(e){var t=u.model.get("optionsApplication.accountId");u.model.set("optionsApplication.submitCombinedFormPartialError",null),u.model.set("optionsApplication.isFromFailedCombinedFormConfirmation",!1),e.status===l.SUCCESS?(d.application.dirtyForm.onRemove=!0,u.components.optionsApplication.clearApplication(),d.state(n.PAGE_URLS.confirmation,{ai:String(t)}),d.enableMarginApplicationVariations(!1)):e.status===l.FAILURE&&(u.model.set("optionsApplication.pageError","SYSTEM_FAILURE"),u.model.set("optionsApplication.submitApplicationServiceError",!0)),d.commonComponentsUtil.hideSpinner({target:a})}))},d.submitCombinedForm=function(e){u.model.set("optionsApplication.submitApplicationServiceError",!1),u.model.set("optionsApplication.optionsApplicationFormError",!1),d.commonComponentsUtil.showSpinner({target:a,overlayType:"INSECTION"}),u.model.set("optionsApplication.submitCombinedFormPartialError",null),Promise.all([d.postAccountData(e),d.postMarginAccountData(e)]).then((function(e){var t=e[0].status,i=e[1].status,r=l.SUCCESS,o=l.FAILURE,s=u.model.get("optionsApplication.accountId");t===r&&i===r?(u.components.optionsApplication.clearApplication(),d.application.dirtyForm.onRemove=!0,d.state(n.PAGE_URLS.confirmation,{ai:String(s)}),d.enableMarginApplicationVariations(!0)):t===o&&i===o?(u.model.set("optionsApplication.pageError","SYSTEM_FAILURE"),u.model.set("optionsApplication.submitApplicationServiceError",!0)):(u.model.set("optionsApplication.submitCombinedFormPartialError",t===o?"OPTIONS_APPLICATION":"MARGIN_APPLICATION"),u.components.optionsApplication.clearApplication(),d.application.dirtyForm.onRemove=!0,d.state(n.PAGE_URLS.confirmation,{ai:String(s)}),d.enableMarginApplicationVariations(!0)),d.commonComponentsUtil.hideSpinner({target:a})}))},u.displayOptionsQuestionnaireOrPending=function(e,t,i,r,a){u.model.set("optionsApplication.accountId",r),"APPLICATION_PENDING"===e?(u.model.set("optionsApplication.applicationPending",!0),d.state(n.PAGE_URLS.pending,{ai:String(r)})):d.featureProviderPromise.then((function(e){const{cxo_profile_OptionsWithMargin:c}=e,l=c;if(l&&a)u.model.set("optionsApplication.optionsViewMode","marginThirtyDayBlock");else if(l&&"APPLICATION_PENDING"===t)u.model.set("optionsApplication.optionsViewMode","marginAppPendingBlock");else{if(!l&&("APPLICATION_PENDING"===t||i)){var p=i?"APPROVED":"PENDING";return u.model.set("optionsApplication.optionsViewMode","marginBlocker"),void d.dcu.dynamicContent.setMultiple(u.components.optionsApplication,[{key:"marginApplicationBlockerHeader",variation:p},{key:"marginApplicationBlockerAdvisory",variation:p}])}var m=s.get("optionsApplicationReceived_"+r);u.model.set("optionsApplication.applicationPending",!1),u.model.set("optionsApplication.optionsViewMode",o.questionnaire),u.model.set("optionsApplication.sameSessionApproved",m),u.renderDisclosures(null,"questionnaireDisclosure"),d.state(n.PAGE_URLS.selectAccount,{ai:r})}}))},u.setAccountData=function(e,t){t.displayName=e.accountDisplayName,t.isRetirementAccount=e.isRetirementAccount,u.model.set("optionsApplication.currentAccount",t),d.featureProviderPromise.then((function(){d.userType="CWM"===t.accountLOB?"CWM":"JPO",u.components.optionsApplication.setFormOptions(),u.components.optionsApplication.setDefaultAccountInfo(t)}))},u.checkForUnsuccessfulUpdate=function(e){t.OPTIONS_APPLICATION_STATUS_LIST.APPLICATION_UPDATE_UNSUCCESSFUL===e&&(u.model.set("optionsApplication.pageError","SYSTEM_ERROR"),u.model.set("optionsApplication.submitApplicationServiceError",!0))},u.requestOptionsApplicationAndRisks=function(){d.application.broadcast("makeNavigation",{navKey:"requestCharacteristicsAndRisksOfStandardizedOptions",focusTarget:'#options-terms-and-conditions-checkbox a[data-attr="requestOptionsApplicationAndRisks"]'})},u.dirtyIgnoreFlyouts=function(){const e=d.state();return!(!e?.action?.params?.flyout&&"profileArea"===e.area.name&&"optionsApplication"===e.controller.name)},u.dirtyRegister=function(){d.bubble("dirtyRegister",{controller:u,compInstanceNames:["optionsApplication"],target:"#content",dirtyIgnoreCallback:u.dirtyIgnoreFlyouts,whiteList:["tradingLevel","financialEstimatedAnnualIncome","financialEstimatedLiquidNetWorth","financialEstimatedNetWorth","tradingStocksExperience","tradingFixedIncomeExperience","tradingOptionsExperience","personalInformationMaritalStatus","personalInformationDependents","investmentObjectiveGrowth","investmentObjectiveIncome","investmentObjectiveSpeculation","employmentInformationStatus","employmentInformationEmployer","employmentInformationOccupation","secondaryApplicantEmploymentStatus","secondaryApplicantEmployer","secondaryApplicantOccupation","secondaryApplicantMaritalStatus","secondaryApplicantDependents","termsAcceptanceStatus"],routeBlackList:["/dashboard/profileArea/optionsApplication/requestOptionsApplication","/dashboard/profileArea/optionsApplication/selectAccount"]})},d.requestOptionsApplicationInformation=function(){var e=d.state();e.action.params.flyout=[t.HELP,t.SHOW_OVERVIEW],d.state(e);const i=d.routeHistory.lastRoute();"profile"===d.routeToObject(i).area.name&&setTimeout((()=>{const t=d.state().action.params.flyout;!(Array.isArray(t)&&t.length)&&d.state(e)}),500)},d.destroyComponent=function(e){u.registry.destroyComponent(e)},d.contextValidationAPI=c}})),define("profileArea/investments/optionsApplication/lib/optionsApplicationUtil",["require","appkit-utilities/content/dcu"],(function(e){"use strict";var t=e("appkit-utilities/content/dcu").dynamicContent,i=function(e,i,n,r,a){for(var o,s,c=[],l=0;l<n.length;l++)s={},o=t.get(e,i,n[l]),s[r]=o,s[a]=n[l],c.push(s);return c};return{buildOptionList:i,buildDependentsOptionList:function(e,t,n,r,a,o){var s=i(e,t,n,r,a),c={};return c[r]=e.model.get(o),c[a]=o,s.push(c),s},componentAction:function(e,t){return function(){return e.trigger(t),!0}},setupHybridCloseCancelButton:function(e){var t={isCloseSelected:function(){return e.determineHybridFlow(),!0}};e.context.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(e){var i={CANCEL:t.isCloseSelected,CLOSE:t.isCloseSelected};return i[e]&&!i[e]()}),t)}}})),define("profileArea/investments/optionsApplication/lib/optionsApplicationValidator",["require","profileArea/investments/optionsApplication/lib/optionsApplicationConstants"],(function(e){"use strict";var t,i=e("profileArea/investments/optionsApplication/lib/optionsApplicationConstants"),n=function(e,t){return{isValid:e,errorType:e?"":t}},r=function(e,t){return t[e.item]?n(!0):n(!1,"MISSING_MANDATORY_DATA")},a=function(e,t){for(var i=["investmentObjectiveIncome","investmentObjectiveGrowth","investmentObjectiveSpeculation"],r=0;r<i.length;r++)if(t[i[r]])return n(!0);return"investmentObjectiveIncome"===e.item?n(!1,"MISSING_MANDATORY_DATA"):n(!0)},o=function(e,t){return t[e.item].length>40?n(!1,"INVALID_LENGTH"):n(!0)},s=function(e,t){return t[e.item].length>30?n(!1,"INVALID_LENGTH"):n(!0)};return{financialEstimatedLiquidNetWorth:[function(e,r){return i.ESTIMATED_NET_WORTH_MAPPER[r.financialEstimatedNetWorth]&&t.validateDataItem({context:{name:"financialEstimatedNetWorth"}}),n(!0)}],financialEstimatedNetWorth:[function(e,t){return i.NETWORTH_LESS_THAN_LIQUIDNETWORTH_ERROR_MAPPER[t.financialEstimatedNetWorth]&&i.NETWORTH_LESS_THAN_LIQUIDNETWORTH_ERROR_MAPPER[t.financialEstimatedNetWorth][t.financialEstimatedLiquidNetWorth]?n(!1,"NET_WORTH_LESS_THAN_LIQUID"):n(!0)}],investmentObjectiveIncome:[a],investmentObjectiveGrowth:[a],investmentObjectiveSpeculation:[a],termsAcceptanceStatus:[r],marginTermsAcceptanceStatus:[r],limitedMarginTermsAcceptanceStatus:[r],saveComponentReference:[function(e){t=e}],employmentInformationEmployer:[o],employmentInformationOccupation:[s],secondaryApplicantEmployer:[o],secondaryApplicantOccupation:[s]}})),define("profileArea/investments/optionsApplication/components/optionsApplication",["require","profileArea/sharedLib/profileMixin","profileArea/investments/optionsApplication/lib/optionsApplicationConstants","profileArea/investments/marginApplication/lib/constants","profileArea/investments/optionsApplication/lib/optionsApplicationUtil","appkit-utilities/validation/componentValidate","profileArea/investments/optionsApplication/lib/optionsApplicationValidator","blue/root","profileArea/sharedLib/profileConstants","appkit-utilities/analytics/overlay","common/lib/ada/setFocus"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileMixin"),i=e("profileArea/investments/optionsApplication/lib/optionsApplicationConstants"),n=e("profileArea/investments/marginApplication/lib/constants"),r=e("profileArea/investments/optionsApplication/lib/optionsApplicationUtil"),a=e("appkit-utilities/validation/componentValidate"),o=e("profileArea/investments/optionsApplication/lib/optionsApplicationValidator"),s=e("blue/root"),c=e("profileArea/sharedLib/profileConstants").HYBRID_FLOW,l=e("appkit-utilities/analytics/overlay"),d=e("common/lib/ada/setFocus");return function(e){var u,p=this,m=e.dcu.dynamicContent,f=function(){},A=e.util.object,g=function(e){var t={};return e&&Object.keys(e).length>0&&Object.keys(e).forEach((function(i){t[e[i]]=i})),t},E=function(e){return void 0===e?"":e},y=i.MARGIN_APPLICATION_SHARED_FIELDS,h=function(e,t){return t.map((function(t){return e[t]}))},v=function(){const t=["marginBlocker","marginThirtyDayBlock"].includes(p.optionsViewMode);p.optionsViewMode="accountSummary",p.clearApplication(),p.removeFromWhiteList("marginTermsAcceptanceStatus"),p.removeFromWhiteList("limitedMarginTermsAcceptanceStatus"),p.submitApplicationServiceError=!1,p.currentAccount=null,e.bubble("dirtyUpdate",{name:"optionsApplication"}),e.renderDisclosures(),!t&&e.destroyComponent("optionsApplication"),!t&&e.state(i.PAGE_URLS.requestOptionsApplication),e.enableMarginApplicationVariations(!1)};p.onInit=function(){var r;t.call(p),p.setGlobalContent(),p.setOptionsStepDataTokens(),p.setAdaLabels(),p.setHybridPageTitle(),p.model.set("cq5Host",e.config.APP_CQ5_HOST_CARD),p.model.set("whiteList",{financialEstimatedAnnualIncome:!0,financialEstimatedLiquidNetWorth:!0,financialEstimatedNetWorth:!0,tradingStocksExperience:!0,tradingFixedIncomeExperience:!0,tradingOptionsExperience:!0,investmentObjectiveIncome:!0,investmentObjectiveGrowth:!0,investmentObjectiveSpeculation:!0,personalInformationMaritalStatus:!0,personalInformationDependents:!0,employmentInformationStatus:!0,termsAcceptanceStatus:!0,tradingLevel:!0}),e.isMarginFullyEnabled&&m.set(p,"acceptMarginTradingConditionsLabel",i.FULLY_ENABLED),r={employmentInformationEmployer:{NotBlank:"INVALID_FORMAT"},employmentInformationOccupation:{NotBlank:"INVALID_FORMAT"}},o.saveComponentReference[0](p),e.variations=e.util.object.merge(e.variations,r),a.call(p,p.context,o),p.onData("pageError",(function(e){e&&m.setMultiple(p,[{key:"accountErrorHeader",variation:e},{key:"accountErrorAdvisory",variation:e}],{initial:!1})})),p.onData("optionsApplicationFormError",(function(e){e&&m.setMultiple(p,[{key:"accountErrorHeader",variation:"MISSING_MANDATORY_DATA"}],{initial:!1})})),p.onData("employmentInformationStatus",(function(e){"EMPLOYED"===e?(p.addToWhiteList("employmentInformationEmployer"),p.addToWhiteList("employmentInformationOccupation")):p.model.get("whiteList").employmentInformationEmployer&&p.removeFromWhiteList(["employmentInformationEmployer","employmentInformationOccupation"])}),{initial:!1}),p.onData("secondaryApplicantEmploymentStatus",(function(e){"EMPLOYED"===e?(p.addToWhiteList("secondaryApplicantEmployer"),p.addToWhiteList("secondaryApplicantOccupation")):p.model.get("whiteList").secondaryApplicantEmployer&&p.removeFromWhiteList(["secondaryApplicantEmployer","secondaryApplicantOccupation"])}),{initial:!1}),p.onData("optionsViewMode",(function(){p.setHybridOptions(p.optionsViewMode)})),p.onData("showTermsAndConditions",(function(){p.showTermsAndConditions&&p.setHybridOptions(c.TERMS.FLOW)})),y.forEach((function(e){p.onData(e,(function(){(p.model.get("marginApprovalStatus")||p.model.get("marginApplicationStatus")===n.APPLICATION_STATUSES.APPLICATION_PENDING)&&p.displayCombinedForm()}),{initial:!1})}))},p.setGlobalContent=function(){e.globalContentMixin.call(p,["numbers","checkmarkAda","importantAda","doneLabel","closeLabel","currentSelectionAda","endOfSelectionAda","errorAnnouncementAda","errorCountAnnouncementAda","downloadLabel","warningAda","informationAda"]),e.globalContentMixin.call(p,["overlayAnnouncementAda"],"GLOBAL_INVESTMENTS")},p.setFormOptions=function(){p.annualIncomeOptions=r.buildOptionList(p,"annualIncomeOption",i.ANNUAL_INCOME_OPTIONS[e.userType],"annualIncomeOptionName","annualIncomeOptionId"),p.liquidNetWorthOptions=r.buildOptionList(p,"liquidNetWorthOption",i.LIQUID_NET_WORTH_OPTIONS[e.userType],"liquidNetWorthOptionName","liquidNetWorthOptionId"),p.netWorthOptions=r.buildOptionList(p,"netWorthOption",i.NET_WORTH_OPTIONS[e.userType],"netWorthOptionName","netWorthOptionId");var t=r.buildOptionList(p,"tradingExperienceOption",i.TRADING_EXPERIENCE[e.userType],"tradingExperienceOptionName","tradingExperienceOptionId");p.maritalStatusOptions=r.buildOptionList(p,"maritalStatusOption",i.MARITAL_STATUS_OPTIONS,"maritalStatusOptionName","maritalStatusOptionId"),p.secondaryApplicantMaritalStatusOptions=r.buildOptionList(p,"maritalStatusOption",i.MARITAL_STATUS_OPTIONS,"secondaryApplicantMaritalStatusOptionName","secondaryApplicantMaritalStatusOptionId"),p.employmentStatusOptions=r.buildOptionList(p,"employmentStatusOption",i.EMPLOYMENT_STATUS_OPTIONS,"employmentStatusOptionName","employmentStatusOptionId"),p.secondaryApplicantEmploymentStatusOptions=r.buildOptionList(p,"employmentStatusOption",i.EMPLOYMENT_STATUS_OPTIONS,"secondaryApplicantEmploymentStatusOptionName","secondaryApplicantEmploymentStatusOptionId"),p.dependentsOptions=r.buildDependentsOptionList(p,"numbers",i.DEPENDENTS_OPTIONS,"dependentsOptionName","dependentsOptionId","dependentsTenPlusOption"),p.secondaryApplicantDependentsOptions=r.buildDependentsOptionList(p,"numbers",i.DEPENDENTS_OPTIONS,"secondaryApplicantDependentsOptionName","secondaryApplicantDependentsOptionId","dependentsTenPlusOption"),p.fixedIncomeTradingOptions=t.slice(),p.optionsTradingOptions=t.slice(),p.tradingOptions=t.slice(),p.showTermsAndConditions=!1},p.displayApplyForOptionsForm=function(t){p.isApplyingForOptions=t,t?(m.set(p,"optionsApplicationHeader","WITH_MARGIN_APPLICATION"),p.model.get("whiteList.marginTermsAcceptanceStatus")||p.addToWhiteList("marginTermsAcceptanceStatus"),p.model.get("whiteList.limitedMarginTermsAcceptanceStatus")||p.addToWhiteList("limitedMarginTermsAcceptanceStatus"),e.renderDisclosures("marginOptionsApplication")):(m.set(p,"optionsApplicationHeader",""),p.removeFromWhiteList("marginTermsAcceptanceStatus"),p.removeFromWhiteList("limitedMarginTermsAcceptanceStatus"),e.renderDisclosures(null,"questionnaireDisclosure")),e.hybrid&&e.hybridHelper.webNativeMessenger.updateNativeNavigationBar({pageTitle:p.optionsApplicationHeader,showCancel:!0,showExitConfirmationOverlay:!1})},p.displayCombinedForm=function(){"accountSummary"!==p.optionsViewMode&&JSON.stringify(h(p.marginApplicationSharedData,y))!==JSON.stringify(h(p,y))?(m.set(p,"optionsApplicationHeader","WITH_MARGIN_APPLICATION"),p.isCombinedForm=!0,p.model.get("whiteList.marginTermsAcceptanceStatus")||p.addToWhiteList("marginTermsAcceptanceStatus"),p.model.get("whiteList.limitedMarginTermsAcceptanceStatus")||p.addToWhiteList("limitedMarginTermsAcceptanceStatus"),e.renderDisclosures("marginOptionsApplication")):(m.set(p,"optionsApplicationHeader",""),p.removeFromWhiteList("marginTermsAcceptanceStatus"),p.removeFromWhiteList("limitedMarginTermsAcceptanceStatus"),p.isCombinedForm=!1),e.hybrid&&e.hybridHelper.webNativeMessenger.updateNativeNavigationBar({pageTitle:p.optionsApplicationHeader,showCancel:!0,showExitConfirmationOverlay:!1})},p.selectAccount=function(t){e.fetchAccountsData({ai:t.context.accountId})},p.setDefaultAccountInfoOld=function(t){var n={INCOME:"investmentObjectiveIncome",GROWTH:"investmentObjectiveGrowth",SPECULATION:"investmentObjectiveSpeculation"},r=g(i.ESTIMATED_ANNUAL_INCOME_MAPPER[e.userType]),a=g(i.ESTIMATED_LIQUID_NET_WORTH_MAPPER[e.userType]),o=g(i.ESTIMATED_NET_WORTH_MAPPER[e.userType]),s=g(i.TRADING_EXPERIENCE_MAPPER[e.userType]),c=t.dependents,l=t.investmentObjectives||[];p.tradingLevel=E(t.optionsLevel),p.model.set("isApprovedLevelOne","LEVEL_ONE"===t.optionsLevel),p.model.set("isApprovedLevelTwo","LEVEL_TWO"===t.optionsLevel),p.financialEstimatedAnnualIncome=E(r[t.estimatedAnnualIncome]),p.financialEstimatedLiquidNetWorth=E(a[t.estimatedLiquidNetWorth]),p.financialEstimatedNetWorth=E(o[t.estimatedNetWorth]),p.tradingStocksExperience=E(s[t.stocksTradeExperience]),p.tradingFixedIncomeExperience=E(s[t.fixedIncomeTradeExperience]),p.tradingOptionsExperience=E(s[t.optionsTradeExperience]),p.personalInformationMaritalStatus=E(t.maritalStatus),"MORE_THAN_TEN"===c&&(c="dependentsTenPlusOption"),p.personalInformationDependents=E(c),l.forEach((function(e){p.model.set(n[e],!0)})),"EMPLOYED"===t.employmentStatus&&(p.employmentInformationEmployer=E(t.employer),p.employmentInformationOccupation=E(t.occupation)),p.employmentInformationStatus=E(t.employmentStatus),p.dateOfBirth=E(t.dob),p.isJPMorganEmployee=t.internalEmployee,e.bubble("dirtyUpdate",{name:"optionsApplication"}),e.isInitialLoad&&(p.marginApplicationSharedData={financialEstimatedAnnualIncome:p.financialEstimatedAnnualIncome,financialEstimatedLiquidNetWorth:p.financialEstimatedLiquidNetWorth,tradingStocksExperience:p.tradingStocksExperience,tradingFixedIncomeExperience:p.tradingFixedIncomeExperience,tradingOptionsExperience:p.tradingOptionsExperience},e.isInitialLoad=!1)},p.setDefaultAccountInfo=function(t){var r={INCOME:"investmentObjectiveIncome",GROWTH:"investmentObjectiveGrowth",SPECULATION:"investmentObjectiveSpeculation"},a=g(i.ESTIMATED_ANNUAL_INCOME_MAPPER[e.userType]),o=g(i.ESTIMATED_LIQUID_NET_WORTH_MAPPER[e.userType]),s=g(i.ESTIMATED_NET_WORTH_MAPPER[e.userType]),c=g(i.TRADING_EXPERIENCE_MAPPER[e.userType]),l=t.investmentObjectives||[],d=t.applicantInfo||[];t.estimatedAnnualIncome&&(p.isPrefill=!0),p.isOptionsMarginEnabled&&t.marginApplicationStatus===n.APPLICATION_STATUSES.APPLICATION_AVAILABLE&&t.marginEligible&&!t.marginApprovalStatus&&!t.margin30DayBlockIndicator?p.model.set("isEligibleToApplyForOptions",!0):p.model.set("isEligibleToApplyForOptions",!1),p.tradingLevel=E(t.optionsLevel),p.model.set("isApprovedLevelOne","LEVEL_ONE"===t.optionsLevel),p.model.set("isApprovedLevelTwo","LEVEL_TWO"===t.optionsLevel),p.financialEstimatedAnnualIncome=E(a[t.estimatedAnnualIncome]),p.financialEstimatedLiquidNetWorth=E(o[t.estimatedLiquidNetWorth]),p.financialEstimatedNetWorth=E(s[t.estimatedNetWorth]),p.tradingStocksExperience=E(c[t.stocksTradeExperience]),p.tradingFixedIncomeExperience=E(c[t.fixedIncomeTradeExperience]),p.tradingOptionsExperience=E(c[t.optionsTradeExperience]),l.forEach((function(e){p.model.set(r[e],!0)})),d.forEach((function(e){var t=e.dependents;e.primary?("EMPLOYED"===e.employmentStatus&&(p.employmentInformationEmployer=E(e.employer),p.employmentInformationOccupation=E(e.occupation)),"MORE_THAN_TEN"===t&&(t="dependentsTenPlusOption"),p.employmentInformationStatus=E(e.employmentStatus),p.personalInformationMaritalStatus=E(e.maritalStatus),p.personalInformationDependents=E(t),p.dateOfBirth=E(e.dob),p.primaryApplicantName=E(e.applicantName).toLowerCase()):("EMPLOYED"===e.employmentStatus&&(p.secondaryApplicantEmployer=E(e.employer),p.secondaryApplicantOccupation=E(e.occupation)),"MORE_THAN_TEN"===t&&(t="dependentsTenPlusOption"),p.secondaryApplicantEmploymentStatus=E(e.employmentStatus),p.secondaryApplicantMaritalStatus=E(e.maritalStatus),p.secondaryApplicantDependents=E(t),p.secondaryApplicantDateOfBirth=E(e.dob),p.secondaryApplicantName=E(e.applicantName).toLowerCase())})),p.isJointAccount=d.length>1,p.isJointAccount?(p.isJPMorganEmployee=d[0].internalEmployee||d[1].internalEmployee,p.addToWhiteList("secondaryApplicantMaritalStatus"),p.addToWhiteList("secondaryApplicantDependents"),p.addToWhiteList("secondaryApplicantEmploymentStatus")):(p.isJPMorganEmployee=d[0].internalEmployee,p.model.get("whiteList").secondaryApplicantMaritalStatus&&p.removeFromWhiteList(["secondaryApplicantMaritalStatus","secondaryApplicantDependents","secondaryApplicantEmploymentStatus"])),e.bubble("dirtyUpdate",{name:"optionsApplication"}),e.isInitialLoad&&(p.marginApplicationSharedData={financialEstimatedAnnualIncome:p.financialEstimatedAnnualIncome,financialEstimatedLiquidNetWorth:p.financialEstimatedLiquidNetWorth,tradingStocksExperience:p.tradingStocksExperience,tradingFixedIncomeExperience:p.tradingFixedIncomeExperience,tradingOptionsExperience:p.tradingOptionsExperience},e.isInitialLoad=!1),p.preFilledData={tradingLevel:p.tradingLevel,employmentInformationEmployer:p.employmentInformationEmployer,employmentInformationOccupation:p.employmentInformationOccupation,financialEstimatedAnnualIncome:p.financialEstimatedAnnualIncome,financialEstimatedLiquidNetWorth:p.financialEstimatedLiquidNetWorth,financialEstimatedNetWorth:p.financialEstimatedNetWorth,tradingStocksExperience:p.tradingStocksExperience,tradingFixedIncomeExperience:p.tradingFixedIncomeExperience,tradingOptionsExperience:p.tradingOptionsExperience,employmentInformationStatus:p.employmentInformationStatus,personalInformationMaritalStatus:p.personalInformationMaritalStatus,personalInformationDependents:p.personalInformationDependents,investmentObjectives:l}},p.requestTermsOrRisks=function(t){"requestOptionsApplicationAndRisks"===t.context&&e.requestOptionsApplicationAndRisks(),"requestOptionsApplicationTermsandConditions"===t.context&&(p.optionsDocumentOverlay=!0,l.showOverlay(p,"optionsDocumentOverlay"),p.model.set("showTermsAndConditions",!0),p.model.set("isMarginTermsAndCondition",!1))},p.requestCrsForm=function(e){s.open(e.context.url,"_blank")},p.requestMarginRiskDisclosure=function(e){s.open(e.context.url,"_blank")},p.requestMarginTermsAndConditions=function(){p.optionsDocumentOverlay=!0,l.showOverlay(p,"optionsDocumentOverlay"),p.model.set("showTermsAndConditions",!0),p.model.set("isMarginTermsAndCondition",!0)},p.closeTermsAndConditions=function(){p.isMarginTermsAndCondition?(p.marginDocumentOverlay=!1,l.hideOverlay(p,"marginDocumentOverlay"),d('[data-attr="requestMarginTermsAndConditions"]')):(p.optionsDocumentOverlay=!1,l.hideOverlay(p,"optionsDocumentOverlay"),d('[data-attr="requestOptionsApplicationTermsandConditions"]')),p.model.set("showTermsAndConditions",!1)},p.downloadDocument=function(){p.isMarginTermsAndCondition?p.marginTermsAndConditionsPdfUrl&&s.open(p.marginTermsAndConditionsPdfUrl,"_blank"):p.optionsTermsAndConditionsPdfUrl&&s.open(p.optionsTermsAndConditionsPdfUrl,"_blank")},p.requestReturnToAccountPage=function(){e.dirtyForm.dirtyCheckAll().isDirty?e.contextValidationAPI.showConfirmationOverlay(e.controller,p,"exitConfirmationOverlay",v,(function(){d("#return-to-options-accounts-link")})):v()},p.submitApplication=function(t){var i=Boolean(p.tradingLevel);p.submitApplicationServiceError=!1,p.validateFormData(),p.optionsApplicationFormError=!p.v.isFormValid,p.showOptionLevelSelectionError=!i,p.v.isFormValid&&(p.isCombinedForm||p.isApplyingForOptions?e.submitCombinedForm(t.context):e.submitSimpleForm(t.context))},p.clearApplication=function(e){p.submitApplicationServiceError="",p.tradingLevel="",p.showOptionLevelSelectionError=!1,p.financialEstimatedAnnualIncome="",p.financialEstimatedLiquidNetWorth="",p.financialEstimatedNetWorth="",p.tradingStocksExperience="",p.tradingFixedIncomeExperience="",p.tradingOptionsExperience="",p.investmentObjectiveIncome=!1,p.investmentObjectiveGrowth=!1,p.investmentObjectiveSpeculation=!1,p.personalInformationMaritalStatus="",p.personalInformationDependents="",p.employmentInformationStatus="",p.employmentInformationEmployer="",p.employmentInformationOccupation="",p.secondaryApplicantMaritalStatus="",p.secondaryApplicantDependents="",p.secondaryApplicantEmploymentStatus="",p.secondaryApplicantEmployer="",p.secondaryApplicantOccupation="",!e&&(p.isJPMorganEmployee=!1),p.termsAcceptanceStatus=!1,p.marginTermsAcceptanceStatus=!1,p.limitedMarginTermsAcceptanceStatus=!1,p.optionsApplicationFormError=!1,p.v=null,p.optionsAccountServiceError=!1,p.isFormCleared=!0,p.isCombinedForm=!1,p.isApplyingForOptions=!1},p.resetApplication=function(){p.clearApplication(),p.isCombinedForm=!1;var t=p.preFilledData.investmentObjectives,i={INCOME:"investmentObjectiveIncome",GROWTH:"investmentObjectiveGrowth",SPECULATION:"investmentObjectiveSpeculation"};p.financialEstimatedAnnualIncome=p.preFilledData.financialEstimatedAnnualIncome,p.financialEstimatedLiquidNetWorth=p.preFilledData.financialEstimatedLiquidNetWorth,p.financialEstimatedNetWorth=p.preFilledData.financialEstimatedNetWorth,p.tradingStocksExperience=p.preFilledData.tradingStocksExperience,p.tradingFixedIncomeExperience=p.preFilledData.tradingFixedIncomeExperience,p.tradingOptionsExperience=p.preFilledData.tradingOptionsExperience,p.tradingLevel=p.preFilledData.tradingLevel,p.employmentInformationEmployer=p.preFilledData.employmentInformationEmployer,p.employmentInformationOccupation=p.preFilledData.employmentInformationOccupation,p.employmentInformationStatus=p.preFilledData.employmentInformationStatus,p.personalInformationMaritalStatus=p.preFilledData.personalInformationMaritalStatus,p.personalInformationDependents=p.preFilledData.personalInformationDependents,t.forEach((function(e){p.model.set(i[e],!0)})),p.removeFromWhiteList("marginTermsAcceptanceStatus"),p.removeFromWhiteList("limitedMarginTermsAcceptanceStatus"),e.bubble("dirtyUpdate",{name:"optionsApplication"})},p.requestAccountOrApplication=function(){p.submitCombinedFormPartialError?"MARGIN_APPLICATION"===p.submitCombinedFormPartialError?p.requestMarginApplicationForm():p.requestOptionsApplicationForm():p.requestReturnToAccountPageAfterSubmit()},p.requestReturnToAccountPageAfterSubmit=function(){p.isFromFailedCombinedFormConfirmation=!1,e.hybrid&&e.hybridHelper.webNativeMessenger.updateNativeNavigationBar({pageTitle:p.applyForOptionsHeader,showBackArrow:!0,showExitConfirmationOverlay:!1}),v()},p.requestMarginApplicationForm=function(){var t=p.model.get("accountId");e.state(n.PAGE_URLS.MARGIN_APPLICATION_FORM,{ai:t})},p.requestOptionsApplicationForm=function(){var t=p.model.get("accountId");p.optionsViewMode=i.PAGE_STEPS.questionnaire,p.removeFromWhiteList("marginTermsAcceptanceStatus"),p.removeFromWhiteList("limitedMarginTermsAcceptanceStatus"),p.isFromFailedCombinedFormConfirmation=!0,e.state(i.PAGE_URLS.selectAccount,{ai:t}),e.enableMarginApplicationVariations(!1),e.renderDisclosures()},p.setOptionsStepDataTokens=function(){p.stepNumbers=m.getList(p,"numbers","number","numbersId");var e,t=p.stepNumbers,i=[];t.forEach((function(n){var r={applicationStep:n.number,totalNumberOfApplicationSteps:t[6].number};e=m.set(p,"optionsApplicationStepLabel",r),i.push(e)})),p.model.set("labeledStepNumbers",i)},p.setAdaLabels=function(){var e,t;e=["coveredCallsLabel","cashSecuredPutsLabel","andLabel","protectivePutsLabel"],p.setRadioButtonAdaLabels("optionsLevel1AdaLabel",e),t=["longEquityCallsLabel","longEquityPutsPutsLabel","andLabel","level1StrategiesLabel"],p.setRadioButtonAdaLabels("optionsLevel2AdaLabel",t)},p.setRadioButtonAdaLabels=function(e,t){for(var i=".",n=0;n<t.length;n++)i+=" "+p.model.get(t[n]);p.model.set(e,i)},p.determineHybridFlow=function(){let t=e.routeHistory.lastRoute();if(p.optionsViewMode!==i.PAGE_STEPS.questionnaire||!t||t.includes("requestOptionsApplication")||t.includes("marginHelp")||p.showTermsAndConditions){let e,t,i={questionnaire:p.requestReturnToAccountPage,TERMS:p.closeTermsAndConditions};e=p.showTermsAndConditions?c.TERMS.FLOW:p.optionsViewMode,t=i[e||c.SELECT_ACCOUNT.FLOW],t&&t(),p.setHybridOptions(p.optionsViewMode)}else e.state(t)},p.setHybridOptions=function(t){var i;e.hybrid&&t&&(i=c[t],u&&A.deepEquals(u,i.OPTIONS)||(u=i.OPTIONS,e.hybridHelper.webNativeMessenger.updateNativeNavigationBar(i.OPTIONS)))},p.setHybridPageTitle=function(){if(e.hybrid){const t="accountSummary"===p.optionsViewMode?p.applyForOptionsHeader:p.optionsApplicationHeader;e.hybridHelper.webNativeMessenger.updateNativeNavigationBar({pageTitle:t})}},p.requestOptionsApplicationInformation=function(){e.requestOptionsApplicationInformation()},p.requestMarginTradingInformation=function(){e.application.dirtyForm.dirtyIgnore=!0;var t=e.state();t.action.params.flyout=[i.MARGIN_HELP_FLYOUT],e.state(t)},p.onReady=function(){if(e.hybrid&&"accountSummary"===p.optionsViewMode){const t=c.accountSummary.OPTIONS;t.pageTitle=p.applyForOptionsHeader,e.hybridHelper.webNativeMessenger.updateNativeNavigationBar(t),e.on({exitTradeHelpFlyout:function(){e.hybridHelper.webNativeMessenger.updateNativeNavigationBar(t)}})}},p.acceptTermsConditions=f,p.acceptMarginTradingConditions=f,p.requestCoveredCallsHelpMessage=f,p.requestCashSecuredPutsHelpMessage=f,p.requestProtectivePutsHelpMessage=f,p.requestCollateralizedShortPutsTooltipMessage=f,p.requestLongEquityCallsHelpMessage=f,p.requestLongEquityPutsHelpMessage=f,p.acceptApplyForMargin=function(e){p.displayApplyForOptionsForm(e.context.isChecked)}}})),define("profileArea/investments/reportingTimeframe/controllers/setDefaultReportingTimeFrame",["require","common/lib/elementObserver"],(function(e){"use strict";const t=e("common/lib/elementObserver");return function(e){const i=this;i.elementObserver=new t,i.onInit=function(){i.model.set({isButtonDisabled:!0,displayConfirmationMessage:!1,displayErrorMessage:!1,reportingTimeframeOptionId:"",lastSelectedOption:"",requestProfileSettingsMenuAda:e.globalContent.requestProfileSettingsMenuAda})},i.requestUpdateReportingTimeframe=function(t){e.profileContainer.setPageProperties({containerClasses:"legacy-profile-styles"}),t.entryPoint&&(e.entryPoint=t.entryPoint);const n=e.renderTarget.target;i.elementObserver.isInserted(n,(function(){if(i.registry.hasComponent("reportingTimeframe"))return;const e=i.model.reportingTimeframeOptionId;return i.executeCAV([[i.components.reportingTimeframe,"reportingTimeframe",{target:n}]]).then((function(){i.context.area.broadcast("renderMyProfileMenuMobile"),i.model.reportingTimeframeOptionId=e}))}))}}})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("@octagon/shared-data",["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).SharedData={})}(this,(function(e){"use strict";var t=Object.defineProperty,i=(e,i,n)=>((e,i,n)=>i in e?t(e,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[i]=n)(e,"symbol"!=typeof i?i+"":i,n);class n{constructor(){i(this,"metaData"),i(this,"moduleStore"),this.metaData={modules:{}},this.moduleStore={}}registerModule(e,t){if(!this.has(e)){if(!Reflect.defineProperty(this.moduleStore,e,{value:t,configurable:!1,enumerable:!0,writable:!1}))throw new Error(`Unable to set "${e}" in Octagon global object`);this.metaData.modules[e]=(null==t?void 0:t.meta)||{version:"unknown"}}return this.get(e)}has(e){return Reflect.has(this.moduleStore,e)}get(e){return Reflect.get(this.moduleStore,e)}meta(){return this.metaData}}const r=globalThis||window||self||global||{};void 0===r.Octagon&&Reflect.defineProperty(r,"Octagon",{value:new n,configurable:!1,enumerable:!0,writable:!1});const a=r.Octagon,o="sharedData:";var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])})(e,t)};function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function l(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],n=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,r,a=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}function u(e,t,i){if(i||2===arguments.length)for(var n,r=0,a=t.length;r<a;r++)!n&&r in t||(n||(n=Array.prototype.slice.call(t,0,r)),n[r]=t[r]);return e.concat(n||Array.prototype.slice.call(t))}function p(e){return"function"==typeof e}function m(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}"function"==typeof SuppressedError&&SuppressedError;var f=m((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function A(e,t){if(e){var i=e.indexOf(t);0<=i&&e.splice(i,1)}}var g=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,i,n,r;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var o=l(a),s=o.next();!s.done;s=o.next()){s.value.remove(this)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}else a.remove(this);var c=this.initialTeardown;if(p(c))try{c()}catch(e){r=e instanceof f?e.errors:[e]}var m=this._finalizers;if(m){this._finalizers=null;try{for(var A=l(m),g=A.next();!g.done;g=A.next()){var E=g.value;try{h(E)}catch(e){r=null!=r?r:[],e instanceof f?r=u(u([],d(r)),d(e.errors)):r.push(e)}}}catch(e){i={error:e}}finally{try{g&&!g.done&&(n=A.return)&&n.call(A)}finally{if(i)throw i.error}}}if(r)throw new f(r)}},e.prototype.add=function(t){var i;if(t&&t!==this)if(this.closed)h(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(i=this._finalizers)&&void 0!==i?i:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&A(t,e)},e.prototype.remove=function(t){var i=this._finalizers;i&&A(i,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),E=g.EMPTY;function y(e){return e instanceof g||e&&"closed"in e&&p(e.remove)&&p(e.add)&&p(e.unsubscribe)}function h(e){p(e)?e():e.unsubscribe()}var v=void 0,C=!1,_={setTimeout:function(e,t){for(var i=[],n=2;n<arguments.length;n++)i[n-2]=arguments[n];return setTimeout.apply(void 0,u([e,t],d(i)))},clearTimeout:function(e){var t=_.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function S(){}function T(e){e()}var N=function(e){function t(t){var i=e.call(this)||this;return i.isStopped=!1,t?(i.destination=t,y(t)&&t.add(i)):i.destination=L,i}return c(t,e),t.create=function(e,t,i){return new O(e,t,i)},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(g),I=Function.prototype.bind;function b(e,t){return I.call(e,t)}var D=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){P(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){P(e)}else P(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){P(e)}},e}(),O=function(e){function t(t,i,n){var r,a,o=e.call(this)||this;p(t)||!t?r={next:null!=t?t:void 0,error:null!=i?i:void 0,complete:null!=n?n:void 0}:o&&C?((a=Object.create(t)).unsubscribe=function(){return o.unsubscribe()},r={next:t.next&&b(t.next,a),error:t.error&&b(t.error,a),complete:t.complete&&b(t.complete,a)}):r=t;return o.destination=new D(r),o}return c(t,e),t}(N);function P(e){var t;t=e,_.setTimeout((function(){throw t}))}var L={closed:!0,next:S,error:function(e){throw e},complete:S},M="function"==typeof Symbol&&Symbol.observable||"@@observable";function R(e){return e}function U(e){return 0===e.length?R:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var k=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var i=new e;return i.source=this,i.operator=t,i},e.prototype.subscribe=function(e,t,i){var n,r=this,a=(n=e)&&n instanceof N||function(e){return e&&p(e.next)&&p(e.error)&&p(e.complete)}(n)&&y(n)?e:new O(e,t,i);return T((function(){var e=r,t=e.operator,i=e.source;a.add(t?t.call(a,i):i?r._subscribe(a):r._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var i=this;return new(t=F(t))((function(t,n){var r=new O({next:function(t){try{e(t)}catch(e){n(e),r.unsubscribe()}},error:n,complete:t});i.subscribe(r)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[M]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return U(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=F(e))((function(e,i){var n;t.subscribe((function(e){return n=e}),(function(e){return i(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function F(e){var t;return null!==(t=null!=e?e:v)&&void 0!==t?t:Promise}var w=m((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),x=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return c(t,e),t.prototype.lift=function(e){var t=new B(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new w},t.prototype.next=function(e){var t=this;T((function(){var i,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var r=l(t.currentObservers),a=r.next();!a.done;a=r.next()){a.value.next(e)}}catch(e){i={error:e}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}}}))},t.prototype.error=function(e){var t=this;T((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var i=t.observers;i.length;)i.shift().error(e)}}))},t.prototype.complete=function(){var e=this;T((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,i=this,n=i.hasError,r=i.isStopped,a=i.observers;return n||r?E:(this.currentObservers=null,a.push(e),new g((function(){t.currentObservers=null,A(a,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,i=t.hasError,n=t.thrownError,r=t.isStopped;i?e.error(n):r&&e.complete()},t.prototype.asObservable=function(){var e=new k;return e.source=this,e},t.create=function(e,t){return new B(e,t)},t}(k),B=function(e){function t(t,i){var n=e.call(this)||this;return n.destination=t,n.source=i,n}return c(t,e),t.prototype.next=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)},t.prototype.error=function(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:E},t}(x),H=function(e){function t(t){var i=e.call(this)||this;return i._value=t,i}return c(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var i=e.prototype._subscribe.call(this,t);return!i.closed&&t.next(this._value),i},t.prototype.getValue=function(){var e=this,t=e.hasError,i=e.thrownError,n=e._value;if(t)throw i;return this._throwIfClosed(),n},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(x);e.hasSharedData=e=>a.has(`sharedData:${e}`),e.prefixDataId=o,e.sharedData=e=>a.registerModule(`sharedData:${e}`,(()=>{let e;return{get:()=>e,set:t=>(e||(e=t),e)}})()),e.sharedDataObserver=e=>a.registerModule(`sharedData:${e}`,(()=>{let e;const t=new H({});return{getData:()=>e,publish:i=>{e=i,t.next(i)},subscribe:e=>t.subscribe(e)}})()),e.sharedDataPromise=e=>a.registerModule(`sharedData:${e}`,(()=>{let e,t;const i=new Promise((e=>{t=e}));return{get:()=>i,getData:()=>e,set:i=>(e||(e=i,t(i)),e)}})()),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})),define("profileArea/investments/reportingTimeframe/components/reportingTimeframe",["require","profileArea/sharedLib/profileMixin","appkit-utilities/content/globalContentMixin","@octagon/shared-data"],(function(e){"use strict";const t=e("profileArea/sharedLib/profileMixin"),i=e("appkit-utilities/content/globalContentMixin"),n=e("@octagon/shared-data");return function(e){const r=this;r._enableButton=function(){r.model.lastSelectedOption&&r.model.set("isButtonDisabled",!1)},r._checkRedirectToNative=function(){return!(!e.hybrid||"nativePositions"!==e.entryPoint)&&(e.hybridHelper&&e.hybridHelper.webNativeMessenger.onFinish({exitToNativeEntryPoint:!0}),!0)},r._setReportingTimeframe=function(e){const t="error"===e.showState;r.model.set("reportingTimeframeOptionId",e.timeframe),r.model.set("displayConfirmationMessage",!1),r.model.set("displayErrorMessage",t),r.model.set("isButtonDisabled",!0)},r._showConfirmation=function(e){const t="success"===e.showState;r.model.set("displayConfirmationMessage",t),r.model.set("displayErrorMessage",!t),r.model.set("isButtonDisabled",!0)},r._initializeModel=function(){r.model.isButtonDisabled=!0,r.model.displayErrorMessage=!1,r.model.displayConfirmationMessage=!1,r.model.lastSelectedOption="",r.model.reportingTimeframeOptionId=""},r._setDynamicErrorContent=function(){e.dcu.dynamicContent.setMultiple(r,[{key:"updateInvestmentReportingTimeframeErrorHeader",variation:"SYSTEM_FAILURE"},{key:"updateInvestmentReportingTimeframeErrorAdvisory",variation:"SYSTEM_FAILURE"}])},r.onInit=function(){r._initializeModel(),t.call(r),i.call(r,["importantAda","checkmarkAda","skipBackLabel","requestProfileSettingsMenuAda"]),e.profileContainer.setPageProperties({pageTitle:r.updateInvestmentReportingTimeframeHeader,containerClasses:"legacy-profile-styles"}),e.hybrid&&(e.hybridHelper.webNativeMessenger.updateNativeNavigationBar({showHamburgerMenu:!1,showCancel:!1,showBackArrow:!1,showProfileSettings:!1,showClose:!0}),r.handleReportTimeHybrid()),r.model.onValue("reportingTimeframeOptionId",(e=>{r._enableButton(),r.model.lastSelectedOption=e}));const n={spinner:{target:e.renderTarget.target}};return e.services.reportingTimeframe.getReportingTimeframe(n).then((e=>{"SUCCESS"===e.code&&r._setReportingTimeframe({showState:"success",timeframe:e.intradayPricingPreference})})).catch((()=>{r._setDynamicErrorContent(),r._setReportingTimeframe({showState:"error"})}))},r.handleReportTimeHybrid=function(){function t(){if(r._checkRedirectToNative())return!1;const t=e.routeHistory.getHistory("returnReportingTimeFrameUrl");return t&&e.state(t.url),!0}const i={isHybridBackButtonRequired:t,isCloseSelected:t};e.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(e){return"BACK"===e?!t():"CLOSE"!==e||!t()}),i)},r.doNotUpdateTimeframe=function(){if(r._checkRedirectToNative())return;const t="savedSetDefaultReportingTimeframeInitiatorRoute",i=e.routeHistory.getHistory(t),n=i?i.url:"";e.routeHistory.saveRoute(t);n&&n.indexOf("/dashboard/profileArea/")?e.state(n):e.state(e.settings.get("investmentPortfolioUrl"))},r._handleTimeframeUpdatingForHybrid=function(){if(e.hybridHelper.webNativeMessenger.updateNativeNavigationBar({showHamburgerMenu:!1,showCancel:!1,showBackArrow:!1,showProfileSettings:!1,showClose:!1}),"nativePositions"===e.entryPoint){const t={eventType:"refreshAsOfTimeframe"};e.hybridHelper.webNativeMessenger.notifyToNative(t,"refreshAsOfTimeframe")}},r._handleUpdatedTimeframe=function(){n.sharedDataObserver("portfolio_user_date_preferences").publish({type:r.model.lastSelectedOption,selectedHistoricalDate:""})},r.updateTimeframe=function(){const t={spinner:{target:e.renderTarget.target},intradayPricingPreference:r.model.lastSelectedOption};return e.services.reportingTimeframe.updateReportingTimeframe(t).then((t=>{"SUCCESS"===t.code&&(e.hybrid&&r._handleTimeframeUpdatingForHybrid(),r._handleUpdatedTimeframe(),r._showConfirmation({showState:"success"}))})).catch((()=>{r._setDynamicErrorContent(),r._showConfirmation({showState:"error"})}))}}})),define("profileArea/accountSettings/travelPreferences/controllers/travelPreferences",["require","profileArea/sharedLib/apptelTracker"],(function(e){"use strict";return function(t){var i=this,n=e("profileArea/sharedLib/apptelTracker");i.updateMyTravelPreferences=function(){return t.profileContainer.setPageProperties({pageTitle:t.dcu.dynamicContent.get(i.components.travelPreferences,"updateCardTravelNotificationsHeader"),containerClasses:"legacy-profile-styles"}),t.area.broadcast("renderMyProfileMenuMobile"),n.logLeaveAction("$$Profile_Accts"),[i.components.travelPreferences,"travelPreferences",t.renderTarget]}}})),define("profileArea/accountSettings/travelPreferences/components/travelPreferences",["require","profileArea/sharedLib/profileMixin"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileMixin");return function(e){var i=this;i.onInit=function(){t.call(i),e.hybrid&&i._updateHybridActions()},i._updateHybridActions=function(){var t=e.hybridHelper.webNativeMessenger,n={isHybridBackButtonRequired:function(){return t.onFinish(),!1}};t.updateNativeNavigationBar({showHamburgerMenu:!1,showCancel:!1,showBackArrow:!0,showClose:!1,showProfileSettings:!1,showExitConfirmationOverlay:!1,pageTitle:i.updateCardTravelNotificationsHeader}),t.setShouldNativeHandleButtonPressedCallBack((function(e){switch(e){case"BACK":return t.onFinish(),!0}}),n)}}})),define("profileArea/investments/marginApplication/controllers/controllerContextMixin",["require","profileArea/investments/marginApplication/lib/constants"],(function(e){"use strict";return function(t){var i=e("profileArea/investments/marginApplication/lib/constants"),n=t.context,r=i.SERVICE_STATUS,a=i.PAGE_URLS;n.updateControllerState=function(e){n.controllerState=n.util.object.mixIn(n.controllerState,e)},t.dirtyIgnoreFlyouts=function(){const e=n.state();return!(!e?.action?.params?.flyout&&"profileArea"===e.area.name&&"marginApplication"===e.controller.name)},n.dirtyFormRegister=function(){n.bubble("dirtyRegister",{controller:t,compInstanceNames:["marginApplicationForm"],target:"#content",dirtyIgnoreCallback:t.dirtyIgnoreFlyouts,whiteList:["financialEstimatedAnnualIncome","financialEstimatedLiquidNetWorth","tradingStocksExperience","tradingFixedIncomeExperience","tradingOptionsExperience","termsAcceptanceStatus","marginTradingTermsStatus"],routeBlackList:[i.PAGE_URLS.MARGIN_APPLICATION,/^\/dashboard\/profileArea\/marginApplication\/requestMarginOptionsApplicationForm/g]})},n.dirtyFormRegisterCombinedPage=function(){n.bubble("dirtyRegister",{controller:t,compInstanceNames:["marginOptionsApplicationForm"],target:"#content",whiteList:["tradingLevel","financialEstimatedAnnualIncome","financialEstimatedLiquidNetWorth","financialEstimatedNetWorth","tradingStocksExperience","tradingFixedIncomeExperience","tradingOptionsExperience","investmentObjectiveStatus","investmentObjectiveGrowthStatus","investmentObjectiveSpeculationStatus","personalInformationMaritalStatus","personalInformationDependents","employmentInformationStatus","employmentInformationEmployer","employmentInformationOccupation","termsAcceptanceStatus","optionsTermsAcceptanceStatus"],routeBlackList:[/^\/dashboard\/profileArea\/marginApplication\/requestMarginApplicationForm/g]})},n.postAccountData=function(e){var o,s="marginApplication.postAccountDataExpApi",c="marginOptionsApplicationForm"===e;const l={digitalAccountIdentifier:(o=c?t.model.get("marginOptionsApplicationForm"):t.model.get("marginApplicationForm")).accountId,annualIncomeRangeCode:o.financialEstimatedAnnualIncome,estimatedLiquidNetWorthCode:o.financialEstimatedLiquidNetWorth,stocksTradeExperienceCode:o.tradingStocksExperience,fixedIncomeTradeExperienceCode:o.tradingFixedIncomeExperience,optionsTradeExperienceCode:o.tradingOptionsExperience,agreementVersionNumber:o.termsAndConditionsVersion};return c?(n.commonComponentsUtil.showSpinner({target:"#marginApplicationContent"}),t.dataProvider.request(s,JSON.stringify(l))):(n.commonComponentsUtil.showSpinner({target:"#marginApplicationContent"}),t.dataProvider.request(s,JSON.stringify(l)).then((function(e){!function(e){e.status===r.FAILURE||e?.resData?.errorResponses?(t.model.set("marginApplicationForm.marginApplicationFormError",i.ERROR_STATES.FORM_SUBMIT_FAILURE),n.commonComponentsUtil.hideSpinner({target:"#marginApplicationContent"})):e.status===r.SUCCESS&&(n.application.dirtyForm.onRemove=!0,n.commonComponentsUtil.hideSpinner({target:"#marginApplicationContent"}),n.state(a.MARGIN_APPLICATION_CONFIRMATION,{ai:t.model.get("marginApplicationForm.accountId")}))}(e)})))},n.postOptionsAccountData=function(){var e,n=t.model.get("marginOptionsApplicationForm");const r={digitalAccountIdentifier:n.accountId,optionLevelCode:n.tradingLevel,annualIncomeRangeCode:n.financialEstimatedAnnualIncome,estimatedLiquidNetWorthCode:n.financialEstimatedLiquidNetWorth,estimatedNetWorthCode:n.financialEstimatedNetWorth,stocksTradeExperienceCode:n.tradingStocksExperience,fixedIncomeTradeExperienceCode:n.tradingFixedIncomeExperience,optionsTradeExperienceCode:n.tradingOptionsExperience,investmentObjectiveList:(a=n,o=[],s={investmentObjectiveIncomeStatus:"INCOME",investmentObjectiveGrowthStatus:"GROWTH",investmentObjectiveSpeculationStatus:"SPECULATION"},["investmentObjectiveIncomeStatus","investmentObjectiveGrowthStatus","investmentObjectiveSpeculationStatus"].forEach((function(e){a[e]&&o.push({investmentObjectiveText:s[e]})})),o),agreementVersionNumber:n.optionsTermsAndConditionsVersion,applicantInformation:[{accountPrimaryOwnershipIndicator:!0,dependentCode:n.personalInformationDependents,employeeEmploymentStatusCode:n.employmentInformationStatus,applicantMaritalStatusCode:n.personalInformationMaritalStatus,chaseEmployeeIndicator:n.internalEmployee,employerName:n.employmentInformationEmployer,employeeOccupationText:n.employmentInformationOccupation}]};var a,o,s;return e=r.applicantInformation[0],n.personalInformationDependents===i.DEPENDENTS_TEN_PLUS_OPTIONS&&(e.dependents=i.MORE_THAN_TEN),n.employmentInformationStatus===i.EMPLOYMENT_STATUS_OPTIONS.EMPLOYED&&(e.occupation=n.employmentInformationOccupation,e.employer=n.employmentInformationEmployer),t.dataProvider.request("marginApplication.postOptionAccountDataExpApi",JSON.stringify(r))},n.handleServiceFailure=function(){t.model.set("marginApplicationAccountList.accountListServiceError",!0)},n.requestAccountData=function(e){t.model.set("marginApplicationForm.accountId",e),n.commonComponentsUtil.showSpinner({target:"#marginApplicationContent",overlayType:"INSECTION"});var i={urlParams:{accountId:e}};t.dataProvider.request("marginApplication.getAccountDataExpApi",i)},n.submitCombinedForm=function(){Promise.all([n.postAccountData("marginOptionsApplicationForm"),n.postOptionsAccountData()]).then((function(e){!function(e){var o=e[0],s=e[1].status,c=o.status,l=a.MARGIN_OPTIONS_APPLICATION_CONFIRMATION,d=t.model.get("marginOptionsApplicationForm.accountId");t.model.set("marginOptionsConfirmationFooter.accountId",d),c===r.SUCCESS&&s===r.SUCCESS?(n.application.dirtyForm.onRemove=!0,n.state(l,{ai:d})):c===r.SUCCESS?(n.application.dirtyForm.onRemove=!0,t.model.set("marginOptionsApplicationConfirmation.marginOptionsApplicationSubmitFailure","OPTIONS"),t.model.set("marginOptionsConfirmationFooter.marginOptionsApplicationSubmitFailure","OPTIONS"),n.state(l,{ai:d})):s===r.SUCCESS?(n.application.dirtyForm.onRemove=!0,t.model.set("marginOptionsApplicationConfirmation.marginOptionsApplicationSubmitFailure","MARGIN"),t.model.set("marginOptionsConfirmationFooter.marginOptionsApplicationSubmitFailure","MARGIN"),n.state(l,{ai:d})):t.model.set("marginOptionsApplicationForm.marginApplicationFormError",i.ERROR_STATES.FORM_SUBMIT_FAILURE)}(e),n.commonComponentsUtil.hideSpinner({target:"#marginApplicationContent"})}))},n.handleHybridNavigation=function(e,t){var r={isCloseSelected:function(){return e.showTermsAndConditions?e.closeTermsAndConditions():e.requestReturnToAccountPage(),!0}},a=i.HYBRID_ONLY_CANCEL_BUTTON;a.pageTitle=t,n.hybridHelper.webNativeMessenger.updateNativeNavigationBar(a),n.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(e){var t={CANCEL:r.isCloseSelected,CLOSE:r.isCloseSelected};return t[e]&&!t[e]()}),r)}}})),define("profileArea/investments/marginApplication/dataProvider/marginApplication",["require","profileArea/investments/marginApplication/lib/constants","profileArea/investments/optionsApplication/lib/optionsApplicationConstants"],(function(e){"use strict";var t,i,n,r=e("profileArea/investments/marginApplication/lib/constants"),a=e("profileArea/investments/optionsApplication/lib/optionsApplicationConstants"),o=r.APPLICATION_STATUSES,s=r.PAGE_URLS;return{init:function(e,r){t=e,i=e.context,n=r},mappers:{marginApplication:{getAccountDataExpApi:{success:function(e,c){var l=n.transformDCMResponseToLegacyResponse(c),d=t.model.get("marginApplicationForm.accountId"),u=l.marginApplicationStatus,p=l.optionsApplicationStatus,m=l.optionsLevel,f=u===o.APPLICATION_PENDING?s.MARGIN_APPLICATION_PENDING:s.MARGIN_APPLICATION_FORM,A=t.model.get("marginApplicationAccountList.marginAccountList"),g=A&&A.find((function(e){return e.accountId.toString()===d.toString()})),E=i.routeHistory.lastRoute(),y=i.isOptionsMarginEnabled,h=i.isMarginFullyEnabled,v=l?.ineligibilityReasons,C=Boolean(v?.some((e=>r.MARGIN_FULLY_ENABLED_EXCLUSIONS.includes(e)))),_=!h&&l?.ineligibilityReasons?.some((e=>e?.includes("NONEQPOS")||e?.includes("NONEQORDER"))),S=!1,T=l.options30DayBlockIndicator&&y,N=p===o.APPLICATION_PENDING;u!==o.APPLICATION_PENDING&&(S=!l.marginEligible&&Boolean(v?.length)&&_||C);if(t.model.set("marginApplicationBlocker.optionsApplicationStatus",p),t.model.set("marginApplicationBlocker.isFullyEnabledButIneligible",C),t.model.set("marginApplicationForm.optionsApplicationStatus",p),u===o.APPLICATION_PENDING_UNAVAILABLE)return n.setAccountListErrorMessage(!0),i.commonComponentsUtil.hideSpinner({target:"#marginApplicationContent"}),void i.logger.error("application/list service failed between Smartforms and NACS");u===o.APPLICATION_UPDATE_UNSUCCESSFUL?n.setApplicationFormErrorMessage(u):u!==o.APPLICATION_PENDING&&(S?(C||n.setMarginIneligibleVariant(A.length,l.ineligibilityReasons),f=s.MARGIN_APPLICATION_BLOCKER):T&&"LEVEL_ONE"===m?(t.model.set("marginApplicationForm.showUnableToUpdateMarginApp",!0),t.model.set("marginApplicationForm.showMarginTradingAttestation",!0)):T?(t.model.set("marginApplicationBlocker.show30DayBlockAlert",!0),t.model.set("marginApplicationBlocker.showOptionsEnabledStyling",!0),f=s.MARGIN_APPLICATION_BLOCKER):(t.model.set("marginApplicationForm.showMarginTradingAttestation",!0),t.model.set("marginApplicationForm.showOptionsApplicationBillBoard",y&&!m&&p!==o.APPLICATION_PENDING),y||!N&&!l.optionsLevel?N&&y&&(t.model.set("marginApplicationBlocker.showOptionsPendingAdvisory",!0),t.model.set("marginApplicationBlocker.showOptionsEnabledStyling",!0),f=s.MARGIN_APPLICATION_BLOCKER):(f=s.MARGIN_APPLICATION_BLOCKER,n.setOptionsApplicationBlocker())));n.setAccountForm(g,l),n.setSelectedAccount(d);if(y)i.commonComponentsUtil.hideSpinner({target:"#marginApplicationContent"}),E&&E.includes(a.PAGE_URLS.confirmation)&&(i.application.dirtyForm.dirtyIgnore=!0),i.state(f,{ai:d});else{const e={positionAssetClass:["OPTIONS"],accountIdentifier:d,taxLotIndicator:!1},r={selectorIdentifier:d,selectorCode:"ACCOUNT",onlyOpenOrdersRequiredIndicator:!0};Promise.all([t.dataProvider.request("marginApplication.getPositionListExpApi",JSON.stringify(e)),t.dataProvider.request("marginApplication.getOpenOrdersDataExpApi",JSON.stringify(r))]).then((e=>{let t="";const r=e[0],o=e[1],c=A?.length,u=!!r?.tradePositionsList?.length,p=!!o?.orderSummaries?.length,m=l?.ineligibilityReasons?.some((e=>e?.includes("PIP")));u&&p?t="NONEQORDER_NONEQPOS":u?t="NONEQPOS":p&&(t="NONEQORDER"),m&&(t=t?`${t}_PIP`:"PIP"),i.commonComponentsUtil.hideSpinner({target:"#marginApplicationContent"}),E&&E.includes(a.PAGE_URLS.confirmation)&&(i.application.dirtyForm.dirtyIgnore=!0),t?(n.setMarginIneligibleVariant(c,[t]),i.state(s.MARGIN_APPLICATION_BLOCKER,{ai:d})):i.state(f,{ai:d})}))}},failure:function(){n.setAccountListErrorMessage(!0),i.commonComponentsUtil.hideSpinner({target:"#marginApplicationContent"})}},getMarginTermsAndConditionsData:{success:function(e,t){n.setMarginTermsAndConditionsData(t)},failure:function(e,t){return Promise.reject(t)}},getOptionsTermsAndConditionsData:{success:function(e,t){n.setOptionsTermsAndConditionsData(t)},failure:function(e,t){}},postAccountDataExpApi:{success:function(e,t,i){return{status:"SUCCESS",resData:t}},failure:function(e){return{status:"FAILURE",resData:e}}},postOptionAccountDataExpApi:{success:function(e,t,i){return{status:"SUCCESS",resData:t}},failure:function(e){return{status:"FAILURE",resData:e}}},getAccountsListExpApi:{success:function(e,r){i.logger.info("Margin application account list success"),n.setAccountList(r);var a=r.marginAccountList.map((function(e){return{accountId:e.digitalAccountIdentifier,accountDisplayName:e.accountNickname+" ("+e.maskedAccountNumber+")"}}));t.model.set("marginApplicationAccountList.marginAccountList",a)},failure:function(){n.setAccountListErrorMessage(!0)}},getPositionListExpApi:{success:function(e,t){return t},failure:function(e,t){return t}},getOpenOrdersDataExpApi:{success:function(e,t){return t},failure:function(e,t){return t}}}}}})),define("profileArea/investments/marginApplication/dataTransform/marginApplication",["require","profileArea/investments/marginApplication/lib/constants"],(function(e){"use strict";return function(t){let i=t.context,n=e("profileArea/investments/marginApplication/lib/constants"),r=n.APPLICATION_STATUSES,a=n.MARGIN_APPLICATION_STATUS;return{setAccountList:function(e){var i,n=!1,r=[],o=[],s=[];i=e.marginAccountList.some((e=>e.approval30DayBlockIndicator)),e.marginAccountList.forEach((e=>{let t={accountId:e.digitalAccountIdentifier.toString(),accountDisplayName:e.accountNickname+" ("+e.maskedAccountNumber+")",status:e.accountStatusCode};r.push(t),e.eligibilityIndicator?o.push(t):s.push(t)})),r.length>1&&(n=r.every((e=>{let t=e.status;return t!==a.APPROVED&&t!==a.PENDING}))),1===o.length&&t.model.update("marginApplicationAccountList",{pendingApplication:o[0].status===a.PENDING,approvedApplication:o[0].status===a.APPROVED}),t.model.set("marginApplicationContainer.showDisclosure",!0),t.model.set("marginApplicationAccountList.showMarginRestrictionAdvisory",n),t.model.set("marginApplicationAccountList.isAccountsThirtyDayBlock",i),t.model.update("marginApplicationAccountList",{marginEligibleAccounts:o,marginIneligibleAccounts:s,accounts:r})},setAccountForm:function(e,n){var a,o=n.investmentObjectives||[],s={financialEstimatedAnnualIncome:n.estimatedAnnualIncome,financialEstimatedLiquidNetWorth:n.estimatedLiquidNetWorth,tradingStocksExperience:n.stocksTradeExperience,tradingFixedIncomeExperience:n.fixedIncomeTradeExperience,tradingOptionsExperience:n.optionsTradeExperience,investmentObjectives:n.investmentObjectives,optionsLevel:n.optionsLevel,tradingLevel:n.optionsLevel,investmentObjectiveIncomeStatus:o.includes("INCOME"),investmentObjectiveGrowthStatus:o.includes("GROWTH"),investmentObjectiveSpeculationStatus:o.includes("SPECULATION"),personalInformationMaritalStatus:n.applicantInfo[0].maritalStatus,personalInformationDependents:n.applicantInfo[0].dependents,employmentInformationStatus:n.applicantInfo[0].employmentStatus,employmentInformationEmployer:n.applicantInfo[0].employer,employmentInformationOccupation:n.applicantInfo[0].occupation},c=JSON.stringify(s),l=!!(a=s)&&!!(a.financialEstimatedAnnualIncome||a.financialEstimatedLiquidNetWorth||a.tradingFixedIncomeExperience||a.tradingOptionsExperience||a.tradingStocksExperience),d=!(n.investmentObjectives&&n.investmentObjectives.length<1);t.model.set("marginApplicationAccountList.currentAccount",e),t.model.update("marginApplicationForm",{currentFormData:c,isInternalEmployee:n.applicantInfo[0].internalEmployee,isFormCleared:!1,isFormDataPrefilled:l,isMarginApproved:n.marginApprovalStatus,optionsLevel:n.optionsLevel,financialEstimatedAnnualIncome:n.estimatedAnnualIncome,financialEstimatedLiquidNetWorth:n.estimatedLiquidNetWorth,tradingStocksExperience:n.stocksTradeExperience,tradingFixedIncomeExperience:n.fixedIncomeTradeExperience,tradingOptionsExperience:n.optionsTradeExperience,prefilledFormData:c}),t.model.update("marginOptionsApplicationForm",{currentFormData:c,prefilledFormData:c,isFormDataPrefilled:l,isOptionsFormDataPrefilled:d,isMarginApproved:n.marginApprovalStatus,dateOfBirth:n.applicantInfo[0].dob,levelOneTrading:"LEVEL_ONE",levelTwoTrading:"LEVEL_TWO",tradingLevel:n.optionsLevel,optionsLevel:n.optionsLevel,investmentObjectives:n.investmentObjectives,investmentObjectiveIncomeStatus:o.includes("INCOME"),investmentObjectiveGrowthStatus:o.includes("GROWTH"),investmentObjectiveSpeculationStatus:o.includes("SPECULATION"),personalInformationMaritalStatus:n.applicantInfo[0].maritalStatus,personalInformationDependents:n.applicantInfo[0].dependents,employmentInformationStatus:n.applicantInfo[0].employmentStatus,employmentInformationEmployer:n.applicantInfo[0].employer,employmentInformationOccupation:n.applicantInfo[0].occupation,optionsApplicationStatus:n.optionsApplicationStatus}),t.model.set("marginApplicationBlocker.optionsLevel",n.optionsLevel),"SUCCESS"===n.code&&r.APPLICATION_PENDING_UNAVAILABLE===n.marginApplicationStatus?i.logger.error("application/list service failed between Smartforms and NACS"):(t.model.set("marginApplicationAccountList.currentAccount",n),t.model.update("marginApplicationForm",{financialEstimatedAnnualIncome:n.estimatedAnnualIncome,financialEstimatedLiquidNetWorth:n.estimatedLiquidNetWorth,tradingStocksExperience:n.stocksTradeExperience,tradingFixedIncomeExperience:n.fixedIncomeTradeExperience,tradingOptionsExperience:n.optionsTradeExperience}))},setAccountListErrorMessage:function(e){t.model.set("marginApplicationAccountList.accountListServiceError",e)},setApplicationFormErrorMessage:function(e){t.model.set("marginApplicationForm.marginApplicationFormError",e)},setSelectedAccount:function(e){var i,n=(t.model.get("marginApplicationAccountList.accounts")||[]).find((function(t){return e===t.accountId}));n&&(i=n.accountDisplayName,t.model.update("marginApplicationForm",{accountId:e,accountDisplayName:i}),t.model.update("marginOptionsApplicationForm",{accountId:e,accountDisplayName:i}),t.model.set("marginApplicationPending.accountDisplayName",i),t.model.set("marginApplicationConfirmation.accountDisplayName",i),t.model.set("marginOptionsApplicationConfirmation.accountDisplayName",i),t.model.set("marginApplicationBlocker.accountId",e),t.model.set("marginApplicationBlocker.accountDisplayName",i))},setMarginTermsAndConditionsData:function(e){var i=JSON.parse(e).result.legalAgreement,n="";i.sections.forEach((function(e){n+=e.subSection})),t.model.update("marginApplicationForm",{termsAndConditionsPdfUrl:i.pdfPath,termsAndConditionsVersion:i.uniqueVersionId,termsAndConditionsTitle:i.title,termsAndConditionsDetail:n})},setOptionsTermsAndConditionsData:function(e){var i=JSON.parse(e).result.legalAgreement,n="";i.sections.forEach((function(e){n+=e.subSection})),t.model.update("marginOptionsApplicationForm",{optionsTermsAndConditionsPdfUrl:i.pdfPath,optionsTermsAndConditionsVersion:i.uniqueVersionId,optionsTermsAndConditionsTitle:i.title,optionsTermsAndConditionsDetail:n})},setOptionsApplicationBlocker:function(){t.model.set("marginApplicationBlocker.optionsApplicationBlocker",!0)},setMarginIneligibleVariant:(e,r)=>{let a,o=1===e?n.ACCOUNT_COUNT.SINGLE:n.ACCOUNT_COUNT.MULTIPLE;r=r.sort(),i.isMarginFullyEnabled?t.model.set("marginApplicationBlocker.ineligibleVariant",n.FULLY_ENABLED):(a=i.isOptionsMarginEnabled?n.MARGIN_INELIGIBLE_VARIANTS_OPTIONS_ENABLED:n.MARGIN_INELIGIBLE_VARIANTS,t.model.set("marginApplicationBlocker.ineligibleVariant",a[[o,...r].join("_")]))},transformDCMResponseToLegacyResponse:function(e){return{accountLOB:e.lineOfBusinessName,estimatedAnnualIncome:e.annualIncomeRangeCode,estimatedLiquidNetWorth:e.estimatedLiquidNetWorthCode,estimatedNetWorth:e.estimatedNetWorthCode,fixedIncomeTradeExperience:e.fixedIncomeTradeExperienceCode,ineligibilityReasons:(n=e.ineligibilityReasons,(n||[]).map((function(e){return e.ineligibilityReasonCode}))),investmentObjectives:(i=e.investmentObjectiveList,(i||[]).map((function(e){return e.investmentObjectiveText}))),marginApplicationStatus:e.marginApplicationStatusCode,marginApprovalStatus:e.marginApprovalIndicator,marginEligible:e.marginEligibilityIndicator,optionsApplicationStatus:e.applicationStatusCode,optionsLevel:e.optionLevelCode,options30DayBlockIndicator:e.options30DayBlockIndicator,optionsTradeExperience:e.optionsTradeExperienceCode,stocksTradeExperience:e.stocksTradeExperienceCode,applicantInfo:(t=e.applicantInformation,(t||[]).map((function(e){return{applicantName:e.applicantFullName,dependents:e.dependentCode,dob:e.individualBirthDate,employer:e.employerName,employmentStatus:e.employeeEmploymentStatusCode,internalEmployee:e.chaseEmployeeIndicator,maritalStatus:e.applicantMaritalStatusCode,occupation:e.employeeOccupationText,primary:e.accountPrimaryOwnershipIndicator}})))};var t,i,n}}}})),define("profileArea/investments/marginApplication/controllers/marginApplication",["require","profileArea/investments/marginApplication/lib/constants","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","profileArea/investments/optionsApplication/lib/optionsApplicationConstants","profileArea/investments/marginApplication/controllers/controllerContextMixin","profileArea/investments/marginApplication/dataProvider/marginApplication","profileArea/investments/marginApplication/dataTransform/marginApplication","profileArea/sharedLib/investmentsLib/investmentDisclosuresUtility","common/lib/utility/commonComponentsUtil","common/lib/API/contextValidation/contextValidationAPI"],(function(e){"use strict";var t=e("profileArea/investments/marginApplication/lib/constants"),i=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"),n=e("profileArea/investments/optionsApplication/lib/optionsApplicationConstants"),r=t.COMPONENT_VIEW_PATHS,a=e("profileArea/investments/marginApplication/controllers/controllerContextMixin"),o=e("profileArea/investments/marginApplication/dataProvider/marginApplication"),s=e("profileArea/investments/marginApplication/dataTransform/marginApplication"),c=e("profileArea/sharedLib/investmentsLib/investmentDisclosuresUtility"),l=e("common/lib/utility/commonComponentsUtil"),d=e("common/lib/API/contextValidation/contextValidationAPI");return function(e){var u=this,p=s(u),m=function(e){u.registry.destroyComponent(e)},f=function(e,t){let i=[];return t.forEach((function(t){e.registry.hasComponent(t.name)||i.push([e.components[t.name],t.viewPath,{target:t.target,append:t.append}])})),i};u.init=function(){u.dataProvider.mappers=o.mappers,o.init(u,p),e.commonComponentsUtil=l(u),a(u),e.controllerState={},u.model.connect(u.model,{"marginApplicationForm.financialEstimatedAnnualIncome":"marginOptionsApplicationForm.financialEstimatedAnnualIncome","marginApplicationForm.financialEstimatedLiquidNetWorth":"marginOptionsApplicationForm.financialEstimatedLiquidNetWorth","marginApplicationForm.tradingStocksExperience":"marginOptionsApplicationForm.tradingStocksExperience","marginApplicationForm.tradingFixedIncomeExperience":"marginOptionsApplicationForm.tradingFixedIncomeExperience","marginApplicationForm.tradingOptionsExperience":"marginOptionsApplicationForm.tradingOptionsExperience","marginApplicationForm.termsAndConditionsVersion":"marginOptionsApplicationForm.termsAndConditionsVersion","marginApplicationForm.acceptOptionsApplicationBillBoard":"marginOptionsApplicationForm.acceptOptionsApplicationBillBoard"}),e.featureProviderPromise=i.getFeatureTreatments(["cxo_profile_OptionsWithMargin","cxo_trade_MutualFundsWithMargin","cxo_trade_FixedIncomeWithMargin","cxo_trade_TradeServicing_V2_Enable"],{cxo_profile_OptionsWithMargin:!0,cxo_trade_MutualFundsWithMargin:!1,cxo_trade_FixedIncomeWithMargin:!1,cxo_trade_TradeServicing_V2_Enable:!1}),e.featureProviderPromise.then((function(t){e.isOptionsMarginEnabled=t.cxo_profile_OptionsWithMargin,e.isMarginFullyEnabled=t.cxo_trade_MutualFundsWithMargin&&t.cxo_trade_FixedIncomeWithMargin;const i=e?.services?.marginApplication?._serviceCalls;t.cxo_trade_TradeServicing_V2_Enable&&i&&Object.values(i).forEach((e=>{e&&"object"==typeof e&&["defaults","settings"].forEach((t=>{const i=e[t]?.url;i&&i.includes("digital-trade-servicing")&&(e[t].url=i.replace("v1","v2"))}))}))}))},e.renderDisclosure=function(e){c.setupInvestmentDisclosures.call(u).then((function(){c.updatePageDisclosuresMessage(e||"marginapplication")}))},u.requestMarginApplication=function(){if(e.profileContainer.setPageProperties({containerClasses:"legacy-profile-styles"}),(i=e.routeHistory.lastRoute())&&i.includes("marginHelp")&&i.includes("flyout")){if(e.hybrid){const i=t.HYBRID_ONLY_BACK_BUTTON;i.pageTitle=u.model.get("marginApplicationAccountList.marginApplicationHeader"),e.hybridHelper.webNativeMessenger.updateNativeNavigationBar(i)}return[]}var i,n=[{name:"marginApplicationContainer",viewPath:r.marginApplicationContainer,target:"#my-profile-page-content"},{name:"marginApplicationAccountList",viewPath:r.marginApplicationAccountList,target:"#marginApplicationContent"}];return u.dataProvider.request("marginApplication.getAccountsListExpApi",{spinner:{target:"#profile"}}),Promise.all([e.elementObserver.isInsertedPromise("#my-profile-page-content"),u.registry.destroyComponent("marginApplicationForm")]).then((function(){return f(u,n)}))},u.requestMarginApplicationForm=function(i){var a,o=e.routeHistory.lastRoute();return!o||o.includes(t.PAGE_URLS.MARGIN_APPLICATION_CONFIRMATION)?(e.state(t.PAGE_URLS.MARGIN_APPLICATION),[]):(o&&(o.includes(n.PAGE_URLS.confirmation)||o.includes(t.PAGE_URLS.INVESTMENT_DISCLOSURES))?(a=[{name:"marginApplicationContainer",viewPath:r.marginApplicationContainer,target:"#my-profile-page-content"},{name:"marginApplicationForm",viewPath:r.marginApplicationForm,target:"#marginApplicationContent"}],u.dataProvider.request("marginApplication.getMarginTermsAndConditionsData"),u.dataProvider.request("marginApplication.getOptionsTermsAndConditionsData"),u.model.set("marginApplicationContainer.showDisclosure",!0),e.requestAccountData(i.ai)):(a=[{name:"marginApplicationForm",viewPath:r.marginApplicationForm,target:"#marginApplicationContent"}],u.dataProvider.request("marginApplication.getMarginTermsAndConditionsData"),u.dataProvider.request("marginApplication.getOptionsTermsAndConditionsData")),p.setSelectedAccount(i.ai),f(u,a))},u.requestMarginApplicationPending=function(){var i;return e.routeHistory.lastRoute()?(i=[{name:"marginApplicationPending",viewPath:r.marginApplicationPending,target:"#marginApplicationContent"}],f(u,i)):(e.state(t.PAGE_URLS.MARGIN_APPLICATION),[])},u.requestMarginApplicationBlocker=function(){var i;return e.routeHistory.lastRoute()?(i=[{name:"marginApplicationBlocker",viewPath:r.marginApplicationBlocker,target:"#marginApplicationContent"}],f(u,i)):(e.state(t.PAGE_URLS.MARGIN_APPLICATION),[])},u.requestMarginApplicationConfirmation=function(){var i;return e.routeHistory.lastRoute()?(i=[{name:"marginApplicationConfirmation",viewPath:r.marginApplicationConfirmation,target:"#marginApplicationContent"}],f(u,i)):(e.state(t.PAGE_URLS.MARGIN_APPLICATION),[])},u.requestMarginOptionsApplicationConfirmation=function(){var i;return e.routeHistory.lastRoute()?(i=[{name:"marginOptionsApplicationConfirmation",viewPath:r.marginOptionsApplicationConfirmation,target:"#marginApplicationContent"},{name:"marginOptionsConfirmationFooter",viewPath:r.marginOptionsConfirmationFooter,target:"#marginApplicationContainer",append:!0}],f(u,i)):(e.state(t.PAGE_URLS.MARGIN_APPLICATION),[])},u.requestMarginOptionsApplicationForm=function(){var i,n=e.routeHistory.lastRoute(),a=u.model.get("marginApplicationForm");return n&&t.PAGE_URLS.MARGIN_APPLICATION_FORM===n.split(";")[0]?(u.dataProvider.request("marginApplication.getOptionsTermsAndConditionsData"),u.model.update("marginOptionsApplicationForm",{termsAndConditionsPdfUrl:a.termsAndConditionsPdfUrl,termsAndConditionsVersion:a.termsAndConditionsVersion,termsAndConditionsTitle:a.termsAndConditionsTitle,termsAndConditionsDetail:a.termsAndConditionsDetail}),i=[{name:"marginOptionsApplicationForm",viewPath:r.marginOptionsApplicationForm,target:"#marginApplicationContent"}],f(u,i)):(e.state(t.PAGE_URLS.MARGIN_APPLICATION),[])},e.destroyComponents=function(e){e.forEach(m)},e.modelCleanUp=function(){u.model.update({marginApplicationForm:{},marginOptionsApplicationForm:{}})},e.requestOptionsRisks=function(){e.application.broadcast("makeNavigation",{navKey:"requestCharacteristicsAndRisksOfStandardizedOptions",focusTarget:'#optionsTermsAndConditionsCheckbox a[data-attr="requestOptionsTermsAndConditions"]'})},e.requestMarginApplicationHelp=function(){let i=e.state();i.action.params.flyout=[t.MARGIN_HELP_FLYOUT],e.state(i);const n=e.routeHistory.lastRoute();"profile"===e.routeToObject(n).area.name&&setTimeout((()=>{const t=e.state().action.params.flyout;!(Array.isArray(t)&&t.length)&&e.state(i)}),500)},e.contextValidationAPI=d}})),define("profileArea/investments/marginApplication/components/marginApplicationContainer",["require","profileArea/sharedLib/profileMixin"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileMixin");return function(e){var i=this;i.init=function(){t.call(i)},i.backToLastRoute=function(t){var i=t.context.lastAreaRoute;i&&e.state(i)},i.onReady=function(){e.area.broadcast("renderMyProfileMenuMobile"),e.renderDisclosure()},i.onDestroy=function(){}}})),define("profileArea/investments/marginApplication/components/marginApplicationAccountList",["require","profileArea/investments/marginApplication/lib/constants","common/lib/ada/setFocus"],(function(e){"use strict";var t=e("profileArea/investments/marginApplication/lib/constants"),i=t.ERROR_STATES_VARIATION,n=e("common/lib/ada/setFocus");return function(e){var r=this,a=e.dcu.dynamicContent;r.init=function(){e.destroyComponents(["marginOptionsConfirmationFooter"]),e.modelCleanUp(),e.globalContentMixin.call(r,["errorAnnouncementAda"],"GLOBAL_INVESTMENTS");var o=r.context.isOptionsMarginEnabled,s=r.context.isMarginFullyEnabled;r.model.onValue("accountListServiceError",(function(e){if(e){var t=i.ACCOUNT_LIST_FAILURE;a.setMultiple(r,[{key:"marginApplicationErrorHeader",variation:t},{key:"marginApplicationErrorAdvisory",variation:t}]),n("#inner-optionsAccountListServiceError")}})),o&&a.set(r,"equitiesRestrictionAdvisory",t.OPTIONS_ENABLED),s?a.set(r,"marginApplicationHelpLabel",t.FULLY_ENABLED):o&&a.set(r,"marginApplicationHelpLabel",t.OPTIONS_ENABLED)},r.requestMarginApplicationForm=function(t){e.requestAccountData(t.context.accountId)},r.requestMarginApplicationHelp=e.requestMarginApplicationHelp,r.onReady=function(){if(e.hybrid){var i={isHybridBackButtonRequired:function(){return!1}};const n=t.HYBRID_ONLY_BACK_BUTTON;n.pageTitle=r.marginApplicationHeader,e.hybridHelper.webNativeMessenger.setShouldNativeHandleButtonPressedCallBack((function(e){if("BACK"===e)return!i.isHybridBackButtonRequired()}),i),e.hybridHelper.webNativeMessenger.updateNativeNavigationBar(n)}r.model.onValue("accounts",(()=>{let e=r.accounts;r.marginIneligibleAccounts.length===e.length&&(r.marginFullServiceAccount=!0),r.displayMarginAccounts=!0}),{initial:!1})}}})),define("profileArea/investments/marginApplication/lib/marginApplicationValidator",[],(function(){"use strict";var e=function(e,t){return{isValid:e,errorType:e?"":t}},t=function(t,i){return i[t.item]?e(!0):e(!1,"MISSING_MANDATORY_DATA")};return function(i){return{termsAcceptanceStatus:t,marginTradingTermsStatus:function(t,n){if(!n[t.item]){const t=i.isOptionsMarginEnabled?"OPTIONS_ENABLED":"MISSING_MANDATORY_DATA";return e(!1,t)}return e(!0)}}}})),define("profileArea/investments/marginApplication/components/marginApplicationForm",["require","profileArea/sharedLib/profileMixin","profileArea/investments/marginApplication/lib/constants","profileArea/sharedLib/profileConstants","appkit-utilities/validation/componentValidate","profileArea/investments/marginApplication/lib/marginApplicationValidator","blue/root","appkit-utilities/analytics/overlay","common/lib/ada/setFocus"],(function(e){"use strict";var t=e("profileArea/sharedLib/profileMixin"),i=e("profileArea/investments/marginApplication/lib/constants"),n=e("profileArea/sharedLib/profileConstants"),r=e("appkit-utilities/validation/componentValidate"),a=e("profileArea/investments/marginApplication/lib/marginApplicationValidator"),o=e("blue/root"),s=e("appkit-utilities/analytics/overlay"),c=e("common/lib/ada/setFocus");return function(e){var l=this,d=e.dcu.dynamicContent,u=function(e,t,i,n){var r;return Object.keys(t).map((function(a){return(r={})[i]=d.get(l,e,a),r[n]=t[a],r}))},p=function(e,t){if(l.currentFormData){var i=JSON.parse(l.currentFormData);i[e]=t,l.currentFormData=JSON.stringify(i),l.isFormFilled=function(){var e=JSON.parse(l.currentFormData);for(var t in e)if(e[t])return!0;return!1}(),l.isFormDataPrefilled=function(){if(!l.prefilledFormData)return!1;var e=JSON.parse(l.prefilledFormData);return!!(e.financialEstimatedAnnualIncome||e.financialEstimatedLiquidNetWorth||e.tradingFixedIncomeExperience||e.tradingOptionsExperience||e.tradingStocksExperience)}(),l.isPrefilledFormDataModified=l.isFormDataPrefilled&&l.prefilledFormData!==l.currentFormData}};l.onInit=function(){t.call(l),e.globalContentMixin.call(l,["numbers","checkmarkAda","importantAda","warningAda","doneLabel","closeLabel","currentSelectionAda","endOfSelectionAda","errorAnnouncementAda","errorCountAnnouncementAda","downloadLabel","informationAda"]),e.globalContentMixin.call(l,["overlayAnnouncementAda"],"GLOBAL_INVESTMENTS"),l.onData("marginApplicationFormError",(function(e){if(e){var t=i.ERROR_STATES_VARIATION[e];d.setMultiple(l,[{key:"accountErrorHeader",variation:t},{key:"accountErrorAdvisory",variation:t}])}})),l.onData("isMarginApproved",(function(t){var n;n=t?i.MARGIN_APPLICATION_FORM_HEADERS.APPROVED_APPLICATION:e.isOptionsMarginEnabled?i.MARGIN_APPLICATION_FORM_HEADERS.NEW_APPLICATION_OPTIONS_ENABLED:i.MARGIN_APPLICATION_FORM_HEADERS.NEW_APPLICATION,d.set(l,"marginApplicationFormHeader",n)})),l.onData("showTermsAndConditions",(function(t){e.hybrid&&e.hybridHelper.webNativeMessenger.updateNativeNavigationBar(t?i.HYBRID_ONLY_CLOSE_BUTTON:i.HYBRID_ONLY_CANCEL_BUTTON)}),{init:!1}),l.onData("financialEstimatedAnnualIncome",(function(e){p("financialEstimatedAnnualIncome",e)}),{init:!1}),l.onData("financialEstimatedLiquidNetWorth",(function(e){p("financialEstimatedLiquidNetWorth",e)}),{init:!1}),l.onData("tradingStocksExperience",(function(e){p("tradingStocksExperience",e)}),{init:!1}),l.onData("tradingFixedIncomeExperience",(function(e){p("tradingFixedIncomeExperience",e)}),{init:!1}),l.onData("tradingOptionsExperience",(function(e){p("tradingOptionsExperience",e)}),{init:!1}),l.setFormOptions(),l.model.update({cq5Host:l.context.config.APP_CQ5_HOST_CARD,icons:i.ICONS,whiteList:{financialEstimatedAnnualIncome:!0,financialEstimatedLiquidNetWorth:!0,tradingStocksExperience:!0,tradingFixedIncomeExperience:!0,tradingOptionsExperience:!0,termsAcceptanceStatus:!0,marginTradingTermsStatus:!0},isOptionsMarginEnabled:e.isOptionsMarginEnabled}),r.call(l,e,a(e)),e.isOptionsMarginEnabled&&d.setMultiple(l,[{key:"addOptionsTradingHeader",variation:i.OPTIONS_ENABLED},{key:"marginTradingTermsStatusError",variation:i.OPTIONS_ENABLED},{key:"addOptionsTradingLabel",variation:i.OPTIONS_ENABLED}]),e.isMarginFullyEnabled?d.setMultiple(l,[{key:"equitiesRestrictionAdvisory",variation:i.FULLY_ENABLED},{key:"acceptMarginTradingConditionsLabel",variation:i.FULLY_ENABLED}]):e.isOptionsMarginEnabled&&d.setMultiple(l,[{key:"equitiesRestrictionAdvisory",variation:i.OPTIONS_ENABLED},{key:"acceptMarginTradingConditionsLabel",variation:i.OPTIONS_ENABLED}])},l.onReady=function(){e.dirtyFormRegister(),e.hybrid&&e.handleHybridNavigation(l,l.marginApplicationFormHeader)},l.requestCharacteristicsAndRisks=function(){e.application.broadcast("makeNavigation",{navKey:"requestCharacteristicsAndRisksOfStandardizedOptions",focusTarget:"#optionsRiskAlert"})},l.requestLearnMore=function(){e.application.dirtyForm.dirtyIgnore=!0;var t=l.context.state();t.action.params.flyout=[i.HELP,i.SHOW_OVERVIEW],l.context.state(t)},l.setFormOptions=function(){var e=u("tradingExperienceOption",i.TRADING_EXPERIENCE,"tradingExperienceOptionName","tradingExperienceOptionId");l.annualIncomeOptions=u("annualIncomeOption",i.ANNUAL_INCOME_OPTIONS,"annualIncomeOptionName","annualIncomeOptionId"),l.liquidNetWorthOptions=u("liquidNetWorthOption",i.LIQUID_NET_WORTH_OPTIONS,"liquidNetWorthOptionName","liquidNetWorthOptionId"),l.fixedIncomeTradingOptions=e.slice(),l.optionsTradingOptions=e.slice(),l.stocksTradingOptions=e.slice()},l.requestReturnToAccountPage=function(){var t=function(){l.clearApplication(),e.state(i.PAGE_URLS.MARGIN_APPLICATION)};e.dirtyForm.dirtyCheckAll().isDirty?e.contextValidationAPI.showConfirmationOverlay(e.controller,l,"exitConfirmationOverlay",t,(function(){c("#return-to-margin-accounts-link")})):t()},l.clearApplication=function(){l.financialEstimatedAnnualIncome="",l.financialEstimatedLiquidNetWorth="",l.tradingStocksExperience="",l.tradingFixedIncomeExperience="",l.tradingOptionsExperience="",l.termsAcceptanceStatus=!1,l.marginTradingTermsStatus=!1,l.acceptOptionsApplicationBillBoard=!1,l.isFormCleared=!0,l.currentFormData=JSON.stringify({financialEstimatedAnnualIncome:"",financialEstimatedLiquidNetWorth:"",tradingStocksExperience:"",tradingFixedIncomeExperience:"",tradingOptionsExperience:""}),l.marginApplicationFormError=!1,l.v=null},l.resetApplication=function(){var e=JSON.parse(l.prefilledFormData);l.financialEstimatedAnnualIncome=e.financialEstimatedAnnualIncome,l.financialEstimatedLiquidNetWorth=e.financialEstimatedLiquidNetWorth,l.tradingStocksExperience=e.tradingStocksExperience,l.tradingFixedIncomeExperience=e.tradingFixedIncomeExperience,l.tradingOptionsExperience=e.tradingOptionsExperience,l.currentFormData=l.prefilledFormData},l.submitApplication=function(){l.validateFormData(),l.v.isFormValid?e.postAccountData():l.marginApplicationFormError=i.ERROR_STATES.FORM_INVALID},l.requestOptionsApplication=function(){(l.optionsLevel||"APPLICATION_PENDING"===l.optionsApplicationStatus)&&l.isPrefilledFormDataModified||l.acceptOptionsApplicationBillBoard?(l.removeFromWhiteList("termsAcceptanceStatus"),l.removeFromWhiteList("marginTradingTermsStatus")):(l.addToWhiteList("termsAcceptanceStatus"),l.addToWhiteList("marginTradingTermsStatus")),l.validateFormData(),l.v.isFormValid?e.state(i.PAGE_URLS.MARGIN_OPTIONS_APPLICATION_FORM,{ai:l.model.get("accountId")}):l.marginApplicationFormError=i.ERROR_STATES.FORM_INVALID},l.requestTermsAndConditions=function(e){"requestTermsAndConditions"===e.context&&(l.requestDocumentOverlay=!0,s.showOverlay(l,"requestDocumentOverlay"),l.model.set("showTermsAndConditions",!0))},l.requestCrsForm=function(e){o.open(e.context.url,"_blank")},l.requestMarginRiskDisclosure=function(t){let i=t.context.url;i=e.hybrid?i+n.HYBRID_EXTERNAL_PARAMETER:i,o.open(i,"_blank")},l.closeTermsAndConditions=function(){l.requestDocumentOverlay=!1,s.hideOverlay(l,"requestDocumentOverlay"),l.model.set("showTermsAndConditions",!1),c('[data-attr="requestTermsAndConditions"]')},l.downloadDocument=function(){l.model.get("termsAndConditionsPdfUrl")?o.open(l.model.get("termsAndConditionsPdfUrl"),"_blank"):e.logger.error("termsAndConditionsPdfUrl is undefined")},l.acceptTermsAndConditions=function(){},l.acceptMarginTradingConditions=function(){},l.addOptionsTrading=function(){l.acceptOptionsApplicationBillBoard=!l.acceptOptionsApplicationBillBoard}}})),define("profileArea/investments/marginApplication/lib/marginOptionsApplicationValidator",[],(function(){"use strict";var e=function(e,t){return{isValid:e,errorType:e?"":t}},t=function(t,i){return i[t.item]?e(!0):e(!1,"MISSING_MANDATORY_DATA")},i=function(t,i){for(var n=["investmentObjectiveIncomeStatus","investmentObjectiveGrowthStatus","investmentObjectiveSpeculationStatus"],r=0;r<n.length;r++)if(i[n[r]])return e(!0);return"investmentObjectiveIncomeStatus"===t.item?e(!1,"MISSING_MANDATORY_DATA"):e(!0)},n=function(t,i){return i[t.item].length>40?e(!1,"INVALID_LENGTH"):e(!0)},r=function(t,i){return i[t.item].length>30?e(!1,"INVALID_LENGTH"):e(!0)};return function(a){return{termsAcceptanceStatus:t,optionsTermsAcceptanceStatus:t,marginTradingTermsStatus:function(t,i){if(!i[t.item]){const t=a.isOptionsMarginEnabled?"OPTIONS_ENABLED":"MISSING_MANDATORY_DATA";return e(!1,t)}return e(!0)},investmentObjectiveIncomeStatus:i,investmentObjectiveGrowthStatus:i,investmentObjectiveSpeculationStatus:i,employmentInformationEmployer:n,employmentInformationOccupation:r}}})),define("profileArea/investments/marginApplication/components/marginOptionsApplicationForm",["require","blue/root","common/lib/ada/setFocus","profileArea/sharedLib/profileMixin","profileArea/investments/marginApplication/lib/constants","appkit-utilities/validation/componentValidate","appkit-utilities/analytics/overlay","profileArea/investments/marginApplication/lib/marginOptionsApplicationValidator"],(function(e){"use strict";var t=e("blue/root"),i=e("common/lib/ada/setFocus"),n=e("profileArea/sharedLib/profileMixin"),r=e("profileArea/investments/marginApplication/lib/constants"),a=e("appkit-utilities/validation/componentValidate"),o=e("appkit-utilities/analytics/overlay"),s=e("profileArea/investments/marginApplication/lib/marginOptionsApplicationValidator");return function(e){var c=this,l=e.dcu.dynamicContent,d=function(e,t,i,n){var r;return Object.keys(t).map((function(a){return(r={})[i]=l.get(c,e,a),r[n]=t[a],r}))};c.onInit=function(){var t=c.context.isOptionsMarginEnabled,i=c.context.isMarginFullyEnabled;n.call(c),e.globalContentMixin.call(c,["numbers","checkmarkAda","importantAda","doneLabel","closeLabel","currentSelectionAda","endOfSelectionAda","errorAnnouncementAda","errorCountAnnouncementAda","downloadLabel","informationAda"]),e.globalContentMixin.call(c,["overlayAnnouncementAda"],"GLOBAL_INVESTMENTS"),c.onData("marginApplicationFormError",(function(e){if(e){var t=r.ERROR_STATES_VARIATION[e];l.setMultiple(c,[{key:"accountErrorHeader",variation:t},{key:"accountErrorAdvisory",variation:t}])}}),{init:!1}),c.onData("employmentInformationStatus",(function(e){"EMPLOYED"===e?(c.addToWhiteList("employmentInformationEmployer"),c.addToWhiteList("employmentInformationOccupation")):c.model.get("whiteList").employmentInformationEmployer&&c.removeFromWhiteList(["employmentInformationEmployer","employmentInformationOccupation"])}),{init:!1}),e.hybrid&&c.onData("showTermsAndConditions",(function(t){e.hybridHelper.webNativeMessenger.updateNativeNavigationBar(t?r.HYBRID_ONLY_CLOSE_BUTTON:r.HYBRID_ONLY_CANCEL_BUTTON)}),{init:!1}),c.setOptionsStepDataTokens(),c.setFormOptions(),c.model.update({cq5Host:c.context.config.APP_CQ5_HOST_CARD,icons:r.ICONS,whiteList:{financialEstimatedAnnualIncome:!0,financialEstimatedLiquidNetWorth:!0,financialEstimatedNetWorth:!0,tradingStocksExperience:!0,tradingFixedIncomeExperience:!0,tradingOptionsExperience:!0,termsAcceptanceStatus:!0,optionsTermsAcceptanceStatus:!0,marginTradingTermsStatus:!0,personalInformationMaritalStatus:!0,tradingLevel:!0,investmentObjectiveIncomeStatus:!0,investmentObjectiveGrowthStatus:!0,investmentObjectiveSpeculationStatus:!0,employmentInformationStatus:!0,personalInformationDependents:!0},isOptionsMarginEnabled:t}),a.call(c,e,s(e)),t&&l.setMultiple(c,[{key:"equitiesRestrictionAdvisory",variation:r.OPTIONS_ENABLED},{key:"addOptionsTradingHeader",variation:r.OPTIONS_ENABLED},{key:"marginTradingTermsStatusError",variation:r.OPTIONS_ENABLED},{key:"addOptionsTradingLabel",variation:r.OPTIONS_ENABLED}]),i?l.set(c,"acceptMarginTradingConditionsLabel",r.FULLY_ENABLED):t&&l.set(c,"acceptMarginTradingConditionsLabel",r.OPTIONS_ENABLED),c.acceptOptionsApplicationBillBoard&&l.set(c,"applicationPrefilledMessage",r.OPTIONS_ENABLED),c.originalMarginOptionsData={financialEstimatedAnnualIncome:c.financialEstimatedAnnualIncome,financialEstimatedLiquidNetWorth:c.financialEstimatedLiquidNetWorth,tradingStocksExperience:c.tradingStocksExperience,tradingFixedIncomeExperience:c.tradingFixedIncomeExperience,tradingOptionsExperience:c.tradingOptionsExperience}},c.onReady=function(){e.dirtyFormRegisterCombinedPage(),e.renderDisclosure("marginOptionsApplication"),e.hybrid&&e.handleHybridNavigation(c,c.marginApplicationHeader)},c.requestReturnToAccountPage=function(){var t=function(){e.destroyComponents(["marginApplicationForm","marginOptionsApplicationForm"]),e.state(r.PAGE_URLS.MARGIN_APPLICATION),e.renderDisclosure()};e.dirtyForm.dirtyCheckAll().isDirty?e.contextValidationAPI.showConfirmationOverlay(e.controller,c,"exitConfirmationOverlay",t,(function(){i("#return-to-margin-accounts-link")})):t()},c.setFormOptions=function(){var e,t,i,n,a=d("tradingExperienceOption",r.TRADING_EXPERIENCE,"tradingExperienceOptionName","tradingExperienceOptionId");c.annualIncomeOptions=d("annualIncomeOption",r.ANNUAL_INCOME_OPTIONS,"annualIncomeOptionName","annualIncomeOptionId"),c.liquidNetWorthOptions=d("liquidNetWorthOption",r.LIQUID_NET_WORTH_OPTIONS,"liquidNetWorthOptionName","liquidNetWorthOptionId"),c.netWorthOptions=d("netWorthOption",r.NET_WORTH_OPTIONS,"netWorthOptionName","netWorthOptionId"),c.tradingOptions=a.slice(),c.fixedIncomeTradingOptions=a.slice(),c.optionsTradingOptions=a.slice(),c.maritalStatusOptions=d("maritalStatusOption",r.MARITAL_STATUS_OPTIONS,"maritalStatusOptionName","maritalStatusOptionId"),c.dependentsOptions=(e="numbers",t=r.DEPENDENTS_OPTIONS,i=d(e,t,"dependentsOptionName","dependentsOptionId"),n={dependentsOptionName:"10+",dependentsOptionId:"MORE_THAN_TEN"},i.push(n),i),c.employmentStatusOptions=d("employmentStatusOption",r.EMPLOYMENT_STATUS_OPTIONS,"employmentStatusOptionName","employmentStatusOptionId")},c.setOptionsStepDataTokens=function(){c.stepNumbers=l.getList(c,"numbers","number","numbersId");var e,t=c.stepNumbers,i=[];t&&t.forEach((function(n){var r={applicationStep:n.number,totalNumberOfApplicationSteps:t[6].number};e=l.set(c,"applicationStepLabel",r)||"",i.push(e.replace(/['"]+/g,""))})),c.model.set("labeledStepNumbers",i)},c.requestCharacteristicsAndRisks=function(){e.requestOptionsRisks()},c.requestTermsAndConditions=function(e){let t="requestOptionsTermsAndConditions"!==e.context;c.requestDocumentOverlay=!0,o.showOverlay(c,"requestDocumentOverlay"),c.model.set("showTermsAndConditions",!0),c.model.set("isMarginTermsAndCondition",t)},c.requestCrsForm=function(e){t.open(e.context.url,"_blank")},c.requestMarginRiskDisclosure=function(e){t.open(e.context.url,"_blank")},c.clearApplication=function(){c.tradingLevel="",c.financialEstimatedAnnualIncome="",c.financialEstimatedLiquidNetWorth="",c.financialEstimatedNetWorth="",c.tradingStocksExperience="",c.tradingFixedIncomeExperience="",c.tradingOptionsExperience="",c.investmentObjectiveIncomeStatus=!1,c.investmentObjectiveGrowthStatus=!1,c.investmentObjectiveSpeculationStatus=!1,c.personalInformationMaritalStatus="",c.personalInformationDependents="",c.employmentInformationStatus="",c.employmentInformationEmployer="",c.employmentInformationOccupation="",c.termsAcceptanceStatus=!1,c.optionsTermsAcceptanceStatus=!1,c.marginTradingTermsStatus=!1,c.marginTradingTermsStatus=!1,c.acceptOptionsApplicationBillBoard=!1,c.isFormCleared=!0,c.currentFormData="",c.marginApplicationFormError=!1,c.v=null},c.requestMarginApplicationForm=function(){e.state(r.PAGE_URLS.MARGIN_APPLICATION_FORM),c.resetApplication()},c.resetApplication=function(){var e=JSON.parse(c.prefilledFormData),t=c.originalMarginOptionsData;c.tradingLevel=e.optionsLevel,c.financialEstimatedAnnualIncome=t.financialEstimatedAnnualIncome,c.financialEstimatedLiquidNetWorth=t.financialEstimatedLiquidNetWorth,c.financialEstimatedNetWorth="",c.tradingStocksExperience=t.tradingStocksExperience,c.tradingFixedIncomeExperience=t.tradingFixedIncomeExperience,c.tradingOptionsExperience=t.tradingOptionsExperience,c.investmentObjectiveIncomeStatus=e.investmentObjectiveIncomeStatus,c.investmentObjectiveGrowthStatus=e.investmentObjectiveGrowthStatus,c.investmentObjectiveSpeculationStatus=e.investmentObjectiveSpeculationStatus,c.personalInformationMaritalStatus=e.personalInformationMaritalStatus,c.personalInformationDependents=e.personalInformationDependents,c.employmentInformationStatus=e.employmentInformationStatus,c.employmentInformationEmployer=e.employmentInformationEmployer,c.employmentInformationOccupation=e.employmentInformationOccupation,c.termsAcceptanceStatus=!1,c.optionsTermsAcceptanceStatus=!1,c.marginTradingTermsStatus=!1,c.currentFormData=c.prefilledFormData},c.submitApplication=function(){c.showOptionLevelSelectionError=!c.tradingLevel,c.validateFormData(),c.v.isFormValid&&!c.showOptionLevelSelectionError?e.submitCombinedForm():c.marginApplicationFormError=r.ERROR_STATES_VARIATION.MISSING_MANDATORY_DATA},c.acceptTermsAndConditions=function(){},c.acceptOptionsTermsAndConditions=function(){},c.downloadDocument=function(){c.isMarginTermsAndCondition?c.termsAndConditionsPdfUrl&&t.open(c.termsAndConditionsPdfUrl,"_blank"):c.optionsTermsAndConditionsPdfUrl&&t.open(c.optionsTermsAndConditionsPdfUrl,"_blank")},c.closeTermsAndConditions=function(){c.isMarginTermsAndCondition?(c.requestDocumentOverlay=!1,o.hideOverlay(c,"requestDocumentOverlay"),i('#label-marginTermsAndConditionsCheckbox-validate [data-attr="requestTermsAndConditions"]')):(c.requestOptionsDocumentOverlay=!1,o.hideOverlay(c,"requestOptionsDocumentOverlay"),i('#label-optionsTermsAndConditionsCheckbox-validate [data-attr="requestTermsAndConditions"]')),c.model.set("showTermsAndConditions",!1)}}})),define("profileArea/investments/marginApplication/components/marginApplicationPending",["require","profileArea/investments/marginApplication/lib/constants"],(function(e){"use strict";var t=e("profileArea/investments/marginApplication/lib/constants");return function(e){var i=this;i.onInit=function(){e.globalContentMixin.call(i,["importantAda","doneLabel"])},i.returnToAccounts=function(){e.state(t.PAGE_URLS.MARGIN_APPLICATION),e.renderDisclosures()}}})),define("profileArea/investments/marginApplication/components/marginApplicationConfirmation",["require","profileArea/investments/marginApplication/lib/constants"],(function(e){"use strict";var t=e("profileArea/investments/marginApplication/lib/constants");return function(e){var i=this;i.onInit=function(){e.globalContentMixin.call(i,["numbers","checkmarkAda","importantAda","doneLabel"])},i.returnToAccounts=function(){e.state(t.PAGE_URLS.MARGIN_APPLICATION),e.renderDisclosures()},i.onReady=function(){e.hybrid&&e.hybridHelper.webNativeMessenger.updateNativeNavigationBar(t.HYBRID_NO_BUTTON)}}})),define("profileArea/investments/marginApplication/components/marginOptionsApplicationConfirmation",["require","profileArea/investments/marginApplication/lib/constants"],(function(e){"use strict";var t=e("profileArea/investments/marginApplication/lib/constants");return function(e){var i=this;i.onInit=function(){e.globalContentMixin.call(i,["checkmarkAda","importantAda","doneLabel"],"GLOBAL_INVESTMENTS")},i.returnToAccounts=function(){e.state(t.PAGE_URLS.MARGIN_APPLICATION),e.renderDisclosures()}}})),define("profileArea/investments/marginApplication/components/marginApplicationBlocker",["require","profileArea/investments/marginApplication/lib/constants"],(function(e){"use strict";var t=e("profileArea/investments/marginApplication/lib/constants");return function(e){var i=this,n=e.dcu,{NAVIGATION_KEYS:r}=t;i.onInit=function(){e.globalContentMixin.call(i,["importantAda","doneLabel"],"GLOBAL_INVESTMENTS")},i.returnToAccounts=function(){e.state(t.PAGE_URLS.MARGIN_APPLICATION),e.renderDisclosures()},i.requestReturnToAccountPage=function(){i.returnToAccounts()},i.requestRecurringInvesting=function(){e.application.broadcast("makeNavigation",{navKey:r.PERIODIC_INVESTING,params:{dynamicParams:{investmentAccountId:i.accountId}}})},i.requestPortfolioPositions=function(){e.application.broadcast("makeNavigation",{navKey:r.PORTFOLIO_POSITIONS,params:{action:{ai:i.accountId}}})},i.requestOrderStatus=function(){e.application.broadcast("makeNavigation",{navKey:r.ORDER_STATUS,params:{dynamicParams:{ai:i.accountId}}})},i.requestNewAccount=function(){e.application.broadcast("makeNavigation",{navKey:r.NEW_ACCOUNT,newTab:!0})},i.onReady=function(){let e=i.optionsApplicationStatus,r=i.ineligibleVariant,a=i.context.isOptionsMarginEnabled,o=i.isFullyEnabledButIneligible;n.dynamicContent.set(i,"marginApplicationFormHeader",a?t.MARGIN_APPLICATION_FORM_HEADERS.NEW_APPLICATION_OPTIONS_ENABLED:t.MARGIN_APPLICATION_FORM_HEADERS.NEW_APPLICATION),e!==t.APPLICATION_STATUSES.APPLICATION_PENDING||a?i.optionsLevel&&n.dynamicContent.setMultiple(i,[{key:"optionsApplicationBlockerHeader",variation:"APPROVED"},{key:"optionsApplicationBlockerAdvisory",variation:"APPROVED"}]):n.dynamicContent.setMultiple(i,[{key:"optionsApplicationBlockerHeader",variation:"PENDING"},{key:"optionsApplicationBlockerAdvisory",variation:"PENDING"}]),r&&(o?n.dynamicContent.setMultiple(i,[{key:"marginApplicationIneligibleHeader",variation:r},{key:"marginApplicationIneligibleReasonsPrimaryAdvisory",variation:r},{key:"marginApplicationIneligibleReasonsSecondaryAdvisory",variation:r},{key:"marginApplicationEligibilityResolutionAdvisory",variation:r}]):(a&&n.dynamicContent.set(i,"marginApplicationIneligibleReasonsPrimaryAdvisory",t.OPTIONS_ENABLED),n.dynamicContent.setMultiple(i,[{key:"marginApplicationIneligibleReasonsSecondaryAdvisory",variation:r},{key:"marginApplicationEligibilityResolutionAdvisory",variation:a?r.replace("_OPTIONS_ENABLED",""):r}])))}}})),define("profileArea/investments/marginApplication/components/marginOptionsConfirmationFooter",["require","profileArea/investments/marginApplication/lib/constants","profileArea/investments/optionsApplication/lib/optionsApplicationConstants"],(function(e){"use strict";var t=e("profileArea/investments/marginApplication/lib/constants"),i=e("profileArea/investments/optionsApplication/lib/optionsApplicationConstants");return function(e){var n=this;n.init=function(){e.globalContentMixin.call(n,["doneLabel"],"GLOBAL_INVESTMENTS")},n.returnToAccounts=function(){var r=n.model.get("marginOptionsApplicationSubmitFailure"),a=n.model.get("accountId");r?"MARGIN"===r?e.state(t.PAGE_URLS.MARGIN_APPLICATION_FORM,{ai:a}):(n.optionsViewMode=i.PAGE_STEPS.questionnaire,n.isFromFailedCombinedFormConfirmation=!0,e.state(i.PAGE_URLS.selectAccount,{ai:a})):e.state(t.PAGE_URLS.MARGIN_APPLICATION),e.hybrid&&e.hybridHelper.webNativeMessenger.updateNativeNavigationBar({pageTitle:n.marginApplicationFormHeader,showBackArrow:!0,showExitConfirmationOverlay:!1}),e.renderDisclosure(),n.destroy()}}})),define("profileArea/investments/marginHelp/dataTransform/marginHelp",[],(function(){"use strict";var e;return{init:function(t){e=t},transformMarginHelpContent:function(t){let i=e.context.memoryStore.get("marginHelpContent")?JSON.parse(t):t,n=i.result.managedService.components,r=i.result.managedService.title;if(n){let t=Object.assign({},function(t){let i=t[0],n=i.bodyText,r=i.additionalTextDetails[0].subHeading;return e.context.isMarginFullyEnabled?(n=i.additionalTextDetails[1].subHeading,r=i.additionalTextDetails[1].additionalDescriptions[0].description):e.context.isOptionsMarginEnabled&&(r=i.additionalTextDetails[0].additionalDescriptions[0].description),{whatIsMarginTradingHeader:i.heading,whatIsMarginTradingPrimaryDescription:n,whatIsMarginTradingSecondaryDescription:r}}(n),function(e){let t=e[1];return{marginTradingBenefitsHeader:t.heading,marginTradingBenefits:t.bodyText}}(n),function(e){let t=e[2];return{marginRisksHeader:t.heading,marginRisksDescription:t.bodyText}}(n),function(t){let i=e.context.util.string.stripHtmlTags,n=e.context.config.APP_CQ5_HOST_CARD,[r,a,o,s]=[t[3].heading,t[3].shortSummary,...t[3].sections],[c,l,d]=[i(o.subSections[1].subHeader),i(o.subSections[1].bodyText),i(o.subSections[1].messageText)];return{marginExamplesHeader:r,marginExamplesDescription:a,marginExamplesReturnsHeader:o.subSections[0].imageAltText,marginExamplesReturnsImage:n+o.subSections[0].imagePath,marginExamplesLossesHeader:o.subSections[1].imageAltText,marginExamplesLossesImage:n+o.subSections[1].imagePath,marginExamplesAdvisory:o.subHeader,marginExamplesReturnsImageMobile:n+s.subSections[0].imagePath,marginExamplesLossesImageMobile:n+s.subSections[1].imagePath,marginCallMessage:c,marginCallLabel:l,marginCallDefinitionMessage:d}}(n),function(e){let t=e[4];return{howToGetStartedHeader:t.heading,howToGetStartedDescription:t.bodyText}}(n));e.model.set("marginHelp.marginHelpTitle",r),e.model.update("marginHelp",t)}e.context.memoryStore.get("marginHelpContent")||e.context.memoryStore.set("marginHelpContent",JSON.stringify(i))}}})),define("profileArea/investments/marginHelp/dataProvider/marginHelp",["require","profileArea/investments/marginHelp/dataTransform/marginHelp"],(function(e){"use strict";const t=e("profileArea/investments/marginHelp/dataTransform/marginHelp");return function(e){var i=e.context;t.init(e),e.dataProvider.mappers={marginHelp:{getMarginHelpContent:{success:function(e,i,n,r){t.transformMarginHelpContent(i,!1),r.set("marginHelp.showLoader",!1)},failure:function(e,t,n,r){r.set("marginHelp.showLoader",!1),i.logger.error("margin help content service failed - "+t)}}}}}})),define("profileArea/investments/marginHelp/controllers/marginHelp",["require","profileArea/investments/marginHelp/dataProvider/marginHelp","common/lib/flyout/flyoutUtility","profileArea/investments/marginHelp/dataTransform/marginHelp","@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd","blue/store/enumerable/memory"],(function(e){"use strict";let t=e("profileArea/investments/marginHelp/dataProvider/marginHelp"),i=e("common/lib/flyout/flyoutUtility"),n=e("profileArea/investments/marginHelp/dataTransform/marginHelp"),r=e("@octagon/featureflags-splitio/dist/octagon-featureflags-splitio.umd"),a=e("blue/store/enumerable/memory");return function(e){var o=this,s="marginHelp";function c(t){if(!Object.hasOwnProperty.call(t,"privateDataObject")){var n=e.state();o.registry.hasComponent(s)&&!i.isFlyout(n)&&(o.model.set("marginHelp.open",!1),o.registry.destroyComponent(s),l(!1))}}function l(t){t&&!e.isRouteChangeListenerBound?e.on("blue:routeChange",c):!t&&e.isRouteChangeListenerBound&&e.off("blue:routeChange",c),e.isRouteChangeListenerBound=t}e.memoryStore=new a("marginHelpMemoryStore"),o.onInit=()=>{e.featureProviderPromise=r.getFeatureTreatments(["cxo_profile_OptionsWithMargin","cxo_trade_FixedIncomeWithMargin","cxo_trade_MutualFundsWithMargin"],{cxo_profile_OptionsWithMargin:!0,cxo_trade_FixedIncomeWithMargin:!1,cxo_trade_MutualFundsWithMargin:!1}),e.featureProviderPromise.then((function(t){e.isOptionsMarginEnabled=t.cxo_profile_OptionsWithMargin,e.isMarginFullyEnabled=t.cxo_trade_MutualFundsWithMargin&&t.cxo_trade_FixedIncomeWithMargin})),t(o)},o.requestMarginHelp=()=>{let t=e.memoryStore;return l(!0),o.model.update(s,{showLoader:!0,open:!0}),t.get("marginHelpContent")?(n.init(o),n.transformMarginHelpContent(t.get("marginHelpContent")),o.model.set("marginHelp.showLoader",!1)):o.dataProvider.request("marginHelp.getMarginHelpContent"),[[o.components[s],s,{target:"#marginHelp"}]]},e.exitMarginHelp=()=>{var t=e.state();delete t.action.params.flyout,e.state(t)}}})),define("profileArea/investments/marginHelp/components/marginHelp",[],(function(){"use strict";return function(e){var t=this;t.onInit=()=>{e.globalContentMixin.call(t,["contentLoadingAda","contentLoadedAda"],"GLOBAL_INVESTMENTS")},t.exitMarginHelp=e.exitMarginHelp}})),define("profileArea/core/services/menu",[],(function(){"use strict";return function(){this.serviceCalls={listItems:{settings:{url:domainUrl+"/svc/rr/profile/l4/v1/menu/list"}}}}})),define("profileArea/accountSettings/hideAccounts/services/hideAccounts",[],(function(){"use strict";return function(e){var t=[{name:"getShowHideAccountsList",url:e.config.serviceUrl+"/svc/rr/profile/secure/v1/account/showhide/list"},{name:"updateShowHideAccountsList",url:e.config.serviceUrl+"/svc/wr/profile/secure/v1/account/showhide/update",contentType:"application/json"}],i={};t.forEach((function(e){var t,n,r;i[e.name]=(t=e.url,n=e.contentType,r={url:t,statusCodeField:"statusCode"},n&&(r.contentType=n),{settings:r})})),this.serviceCalls=i}})),define("profileArea/accountSettings/defaultSortOrder/services/defaultSortOrder",[],(function(){"use strict";return function(e){var t,i=e.config.serviceUrl;this.serviceCalls={getUserDefault:(t=i+"/svc/wr/profile/secure/v1/account/sort/order/list",{settings:{type:"POST",url:t}}),updateUserDefault:function(e){return{settings:{type:"POST",url:e}}}(i+"/svc/wr/profile/secure/v1/account/sort/order/add")}}})),define("profileArea/alerts/textBanking/services/textBanking",[],(function(){"use strict";return function(){function e(e,t){var i={settings:{url:domainUrl+e,handleSuccess:function(e){return e},handleError:function(){}}};return t&&(i.settings.contentType=t,i.settings.processData=!1),i}this.serviceCalls={phoneNumberList:e("/svc/rr/profile/secure/v2/phone/profile/list"),optionsList:e("/svc/rr/profile/secure/v1/smsbanking/options/list"),alertsProfileList:e("/svc/rr/profile/l4/v1/alerts/device/list"),deviceAdd:e("/svc/wr/profile/secure/v1/smsbanking/profile/device/add"),deviceSecureAdd:e("/svc/wr/profile/secure/v1/smsbanking/profile/device/secure/add"),deviceChallengeList:e("/svc/rr/profile/secure/v1/smsbanking/profile/device/challenge/list"),deviceVerificationList:e("/svc/rr/profile/secure/v1/smsbanking/profile/device/verify/list"),mobileProfileList:e("/svc/rr/profile/secure/v1/smsbanking/profile/list"),textAlertsEnrollment:e("/svc/rr/profile/secure/v1/smsbanking/profile/list"),mobileAccountUpdate:e("/svc/wr/profile/secure/v1/smsbanking/profile/accounts/update","application/json"),deviceDelete:e("/svc/wr/profile/secure/v1/smsbanking/profile/device/delete")}}})),define("profileArea/accountSettings/nicknameAccounts/services/nicknameAccounts",[],(function(){"use strict";return function(e){var t=[{name:"nickNameList",url:e.config.serviceUrl+"/svc/rr/profile/secure/v1/account/nickname/list"},{name:"nickNameUpdate",url:e.config.serviceUrl+"/svc/wr/profile/secure/v1/account/nickname/update",contentType:"application/json"}],i={};t.forEach((function(e){var t,n,r;i[e.name]=(t=e.url,n=e.contentType,r={url:t,statusCodeField:"statusCode"},n&&(r.contentType=n),{settings:r})})),this.serviceCalls=i}})),define("profileArea/accountSettings/accountLinking/services/accountLinking",[],(function(){"use strict";return function(){function e(e){return{settings:{url:e,beforeRequest:function(e){return e},handleSuccess:function(e){return e}}}}var t=function(e){return e.markAsSuccess=!0,e},i=function(e){return e};var n;this.serviceCalls={list:e(domainUrl+"/svc/rr/profile/secure/v2/customer/linkage/list"),add:e(domainUrl+"/svc/rr/profile/secure/v2/customer/linkage/add"),addAndAlert:e(domainUrl+"/svc/wr/profile/secure/gateway/ccb/customer/profile/digital-profile-account-link-management/v1/customer-linkages/:profileId"),riskStatusAndAccountslist:(n=domainUrl+"/svc/wr/profile/secure/v1/profile/link/jpmc/customer/experience/digital-profile-relationships/v1/digital-profiles/:profileId/relationships",{settings:{url:n,type:"GET",disableDefaultError:!0,statusCodeField:"errorCode",handleServerSideValidation:t,handleError:i}})}}})),define("profileArea/accountSettings/linkBusinessAccounts/services/linkBusinessAccounts",[],(function(){"use strict";return function(){function e(e,t){return{settings:{url:t,handleSuccess:function(t){switch(e){case"linkBusinessAccounts.linkAccounts.list.svc":return t}},handleError:function(){}}}}this.serviceCalls={"linkBusinessAccounts.linkAccounts.list.svc":e("linkBusinessAccounts.linkAccounts.list.svc",domainUrl+"/svc/rr/profile/secure/v1/linkbusiness/options/list"),"linkBusinessAccounts.linkAccounts.update.svc":e("linkBusinessAccounts.linkAccounts.update.svc",domainUrl+"/svc/wr/profile/secure/v1/linkbusiness/add")}}})),define("profileArea/accountSettings/manageCustomGroups/services/manageCustomGroupsService",["require","profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsBrandMapperConfig"],(function(e){"use strict";return function(t){const i=e("profileArea/accountSettings/manageCustomGroups/lib/manageCustomGroups/manageCustomGroupsBrandMapperConfig"),n=function(e){return t.config.serviceUrl+i.getServiceList[e]};var r={settings:{statusCodeField:"statusCode"}},a={getGroups:t.util.object.merge({},r,{settings:{url:n("getGroups")}}),addGroup:t.util.object.merge({},r,{settings:{url:n("addGroup")}}),deleteGroup:t.util.object.merge({},r,{settings:{url:n("deleteGroup")}}),updateGroup:t.util.object.merge({},r,{settings:{url:n("updateGroup")}}),getAccounts:t.util.object.merge({},r,{settings:{url:n("getAccounts")}}),getInvAccounts:t.util.object.merge({},r,{settings:{url:t.config.serviceUrl+"/svc/wr/dwm/secure/portfolio/v2/accountgroup/list"}}),checkNonJumboAccounts:t.util.object.merge({},r,{settings:{url:t.config.serviceUrl+"/svc/rr/accounts/secure/v1/investment/accountgroup/options/list"}}),makeDefault:t.util.object.merge({},r,{settings:{url:n("makeDefault")}}),getFavoriteList:t.util.object.merge({},r,{settings:{url:n("getFavoriteList")}})};this.serviceCalls={getGroups:a.getGroups,addGroup:a.addGroup,deleteGroup:a.deleteGroup,updateGroup:a.updateGroup,getAccounts:a.getAccounts,makeDefault:a.makeDefault,getFavoriteList:a.getFavoriteList,checkNonJumboAccounts:a.checkNonJumboAccounts,getInvAccounts:a.getInvAccounts}}})),define("profileArea/alerts/alertsDelivery/services/alertsDeliveryDataTransform",["require","appkit-utilities/content/dcu","common/lib/fakeComponent"],(function(e){"use strict";return function(){var t=e("appkit-utilities/content/dcu").dynamicContent,i=e("common/lib/fakeComponent")("MY_ALERTS_DELIVERY","profileArea");return{transformAlertsDeliveryProfilesList:function(e,n){var r={alertsDeliveryProfilesList:[],isInPauseMode:!0,isInPartialMode:!1,numberOfEmailAlerts:0,isThereMobileProfile:!1,hasOnlyEmailDelivery:!0},a=!1;return e.devices&&e.devices.forEach(function(e){var o={};o.id=e.id,o.alertsDeliveryChannelInfo=e.address,o.alertsDeliveryFormatType="NULL"!==e.contentType?e.contentType:void 0,o.deletable=e.deletable&&!n,o.editable=e.editable&&!n,o.indicator=e.indicator,o.currentNickname=e.nickname,void 0!==e.blackoutStartHour&&(o.blackoutStartHour=e.blackoutStartHour,o.blackoutEndHour=e.blackoutEndHour,o.timeZone=e.timeZone),o.alertsDeliveryStatus=t.get(i,"alertsDeliveryStatus",e.status),o.status=e.status,o.showEditForm=!1,o.type=e.type,"ACTIVE"===e.status?r.isInPauseMode=!1:"SUSPENDED"!==e.status&&!e.suspendStartDate||"UNDELIVERABLE"===e.status||(a=!0),!r.isInPauseMode&&a&&(r.isInPartialMode=!0),o.suspendStartDate=e.suspendStartDate?this.transformProfileDate(e.suspendStartDate):"",o.suspendEndDate=e.suspendEndDate?this.transformProfileDate(e.suspendEndDate):"",e.nickname.length>8?o.alertsDeliveryNickname=e.nickname.substr(0,7)+"":o.alertsDeliveryNickname=e.nickname,o.updateMyAlertsDeliveryInfoAda=t.get(i,"updateMyAlertsDeliveryInfoAda",{myAlertsDeliveryInfo:{alertsDeliveryNickname:e.nickname}}),o.deleteMyAlertsDeliveryInfoAda=t.get(i,"deleteMyAlertsDeliveryInfoAda",{myAlertsDeliveryInfo:{alertsDeliveryNickname:e.nickname}}),"PUSHAPPLE"===e.type?o.alertsDeliveryMethodType=t.get(i,"alertsDeliveryMethodType","APPLE"):"PUSHANDROID"===e.type?o.alertsDeliveryMethodType=t.get(i,"alertsDeliveryMethodType","ANDROID"):"SMS"===e.type?(o.deletable=!1,r.isThereMobileProfile=!0,o.alertsDeliveryMethodType=t.get(i,"alertsDeliveryMethodType","TEXT")):(o.alertsDeliveryMethodType=e.type,r.numberOfEmailAlerts++),"EMAIL"!==e.type&&r.hasOnlyEmailDelivery&&(r.hasOnlyEmailDelivery=!1),r.alertsDeliveryProfilesList.push(o)}.bind(this)),r.suspendStartDate=r.alertsDeliveryProfilesList[0].suspendStartDate?r.alertsDeliveryProfilesList[0].suspendStartDate:"",r.suspendEndDate=r.alertsDeliveryProfilesList[0].suspendEndDate?r.alertsDeliveryProfilesList[0].suspendEndDate:"",r},transformProfileDate:function(e){var t,i=e||"";if(i){var n=i.substr(0,4);t=i.substr(4,2)+"/"+i.substr(6,2)+"/"+n}else t="";return t}}}})),define("profileArea/alerts/alertsDelivery/services/alertsDelivery",["require","profileArea/alerts/alertsDelivery/services/alertsDeliveryDataTransform"],(function(e){"use strict";return function(t){var i=e("profileArea/alerts/alertsDelivery/services/alertsDeliveryDataTransform")();function n(e,n){return{settings:{url:n,handleSuccess:function(n){switch(e){case"alertsDelivery.profiles.list.svc":return i.transformAlertsDeliveryProfilesList(n,t.application.alertsEmulationModeEnableFlag);case"alertsDelivery.profile.email.add.svc":case"alertsDelivery.profile.delete.svc":case"alertsDelivery.profile.email.update.svc":case"alertsDelivery.profile.push.update.svc":case"alertsDelivery.profile.sms.update.svc":case"myProfile.phone.refresh.list.svc":return n}},handleError:function(){}}}}this.serviceCalls={"alertsDelivery.profiles.list.svc":n("alertsDelivery.profiles.list.svc",domainUrl+"/svc/rr/profile/l4/v1/alerts/device/list"),"alertsDelivery.profile.email.add.svc":n("alertsDelivery.profile.email.add.svc",domainUrl+"/svc/wr/profile/l4/v1/alerts/device/email/add"),"alertsDelivery.profile.delete.svc":n("alertsDelivery.profile.delete.svc",domainUrl+"/svc/wr/profile/l4/v1/alerts/device/delete"),"alertsDelivery.profile.email.update.svc":n("alertsDelivery.profile.email.update.svc",domainUrl+"/svc/wr/profile/l4/v1/alerts/device/email/update"),"alertsDelivery.profile.push.update.svc":n("alertsDelivery.profile.push.update.svc",domainUrl+"/svc/wr/profile/l4/v1/alerts/device/push/update"),"alertsDelivery.profile.sms.update.svc":n("alertsDelivery.profile.sms.update.svc",domainUrl+"/svc/wr/profile/l4/v1/alerts/device/sms/update/preferences"),"myProfile.phone.refresh.list.svc":n("myProfile.phone.refresh.list.svc",domainUrl+"/svc/rr/profile/l4/v1/phone/refresh/list")}}})),define("profileArea/alerts/profileAlertsHistory/services/dataTransform/alertsNotifications",["require","appkit-utilities/content/dcu","common/lib/fakeComponent"],(function(e){"use strict";return function(){var t,i,n=e("appkit-utilities/content/dcu").dynamicContent,r=e("common/lib/fakeComponent"),a=r("MY_ALERTS_HISTORY_HEADER","profileArea"),o=r("MANAGE_MY_ALERTS_SUBSCRIPTION","profileArea"),s=r("GLOBAL"),c={transformAlertsNotificationHistoryList:function(e){var t={alerts:[]};return e.transactions&&e.transactions.forEach((function(e){!e.sentTo&&(e.sentTo=""),e.sentDate=i.transformDate(e.sentDate),e.statusUndelivered="UNDELIVERABLE"===e.status,t.alerts.push(e)})),t},getCreditJourneyStatus:function(){return t},setCreditJourneyStatus:function(e){e&&e.enrollStatus&&(t=e.enrollStatus)},setCreditJourneyStatusFA:function(e){e&&e.creditJourneyTile&&(t="FULFILLED"===e.creditJourneyTile.status?"SUCCESS":e.creditJourneyTile.status)},transformDate:function(e){var t,i,n=e.split(" "),r=n[0].split("-"),a=r[1],o=r[2],s=r[0],c=n[1].split(":"),l=c[1];return parseInt(c[0])-12>=0?(t=12===parseInt(c[0])?12:parseInt(c[0])-12,i="PM"):(t=c[0],i="AM"),a+"/"+o+"/"+s+" "+t+":"+l+" "+i},transformAccountsList:function(e){var i,r=n.get(a,"onlineSecurityLabel"),c=n.getGlobal("openParenthesesSymbol"),l=n.getGlobal("closeParenthesesSymbol"),d=n.get(s,"horizontalEllipsisSymbol"),u=n.get(o,"accountCategoryName","PERSONAL"),p=1,m={accounts:[]},f=0,A={};if(e&&e.accounts&&e.accounts.length){e.accounts.forEach((function(e){e.name=e.nickname,A[e.id]=e}));var g=function(e,t){return e.name=e.nickname+" "+c+d+e.mask+l,e.filter="ACCOUNT_ALERTS",e.value=t,e.accountIndex=t,e},E=[];e.customerGroups&&e.customerGroups.length>1?E=e.customerGroups.reduce((function(e,t){e.push({groupLabel:t.name||[u,p++].join(" "),labelIndex:f++});var i=t.accountIds.map((function(e){return g(A[e],f++)}));return e=e.concat(i)}),[]):e.accounts.forEach((function(e){E.push(g(e,f++))})),m.accounts=E}if("SUCCESS"===t){var y=n.get(o,"creditJourneyLabel"),h={id:-1,mask:"",nickName:y,name:y,value:-1,filter:"CUSTOMER_ALERTS"};m.accounts.push(h)}return i={id:0,mask:"",nickName:r,name:r,value:m.accounts.length||0,filter:"CUSTOMER_ALERTS"},m.accounts.push(i),m}};return i=c,c}})),define("profileArea/alerts/profileAlertsHistory/services/alertsNotificationsHistory",["require","profileArea/alerts/profileAlertsHistory/services/dataTransform/alertsNotifications"],(function(e){"use strict";return function(t){var i={"customers.enroll.status.svc":"GET"},n=e("profileArea/alerts/profileAlertsHistory/services/dataTransform/alertsNotifications")(t);function r(e,t){return{settings:{url:t,type:i[e]||"POST",handleSuccess:function(t){switch(e){case"alerts.notifications.history":return n.transformAlertsNotificationHistoryList(t);case"alerts.accounts":return n.transformAccountsList(t);case"customers.enroll.status.svc":return n.setCreditJourneyStatus(t);case"dashboard.tiles.list.svc":return n.setCreditJourneyStatusFA(t)}return null},handleError:function(){}}}}this.serviceCalls={"dashboard.tiles.list.svc":r("dashboard.tiles.list.svc",domainUrl+"/svc/rr/accounts/secure/v4/dashboard/tiles/list"),"alertsNotifications.accounts.list.svc":r("alerts.accounts",domainUrl+"/svc/rr/profile/l4/v1/alerts/accounts/list"),"alertsNotifications.history.list.svc":r("alerts.notifications.history",domainUrl+"/svc/rr/profile/l4/v1/alerts/transactions/list"),"alertsNotifications.history.newApi.list.svc":r("alerts.notifications.history",domainUrl+"/svc/wr/profile/secure/gateway/consumer-banking/servicing/inquiry-maintenance/legacy-alerts/v1/list-communications"),"customers.enroll.status.svc":r("customers.enroll.status.svc",domainUrl+"/svc/wr/profile/secure/creditscore/v2/credit-journey/servicing/inquiry-maintenance/v1/customers/enroll/status")}}})),define("profileArea/accountSettings/customGroups/services/customGroups",[],(function(){"use strict";return function(e){var t=function(e){return{settings:{url:e}}};this.serviceCalls={get:t(e.config.serviceUrl+"/svc/wr/dwm/secure/portfolio/v2/accountgroup/list"),add:t(e.config.serviceUrl+"/svc/wr/dwm/secure/v1/portfolio/accountgroup/add"),delete:t(e.config.serviceUrl+"/svc/wr/dwm/secure/v1/portfolio/accountgroup/delete"),update:t(e.config.serviceUrl+"/svc/wr/dwm/secure/v1/portfolio/accountgroup/update"),list:t(e.config.serviceUrl+"/svc/rr/accounts/secure/v1/investment/accountgroup/options"),default:t(e.config.serviceUrl+"/svc/wr/dwm/secure/v1/portfolio/defaultaccountgroup/update")}}})),define("profileArea/personalDetails/privacyPreferences/service/privacyPreferences",[],(function(){"use strict";return function(){function e(e){return{settings:{url:e,type:"POST"}}}this.serviceCalls={list:e(domainUrl+"/svc/wr/profile/l4/v3/privacy/preference/list"),update:e(domainUrl+"/svc/wr/profile/l4/v3/privacy/preference/update")}}})),define("profileArea/personalDetails/languagePreferences/service/dataTransform/languagePreferences",[],(function(){"use strict";return function(){return{transformLanguageGlobalListService:function(e){var t={options:[],preference:e.preference,mobileBankAccountsOnly:e.mobileBankAccountsOnly,mobileBankAccounts:e.mobileBankAccounts};return e.options&&e.options.forEach((function(i){var n={name:i.description,value:i.code};i.code===e.preference&&(n.selected=!0),t.options.push(n)})),t}}}})),define("profileArea/sharedLib/interceptors/requestHeader",["require","blue-app/settings","blue/store/enumerable/cookie"],(function(e){"use strict";var t=e("blue-app/settings"),i=new(e("blue/store/enumerable/cookie"))("scenario"),n="x-jpmc-scenario";return{getHeader:function(){var e={},r=t.get("e2eScenario",t.Type.PERM);return(r||(r=i.get("e2eScenario")))&&(e[n]="id="+r.scenarioIdFixture+"; ts="+r.scenarioDateTimeFixture),e},getTimeoutSettings:function(){return 1e4}}})),define("profileArea/sharedLib/interceptors/request",["require","profileArea/sharedLib/interceptors/requestHeader"],(function(e){"use strict";var t=e("profileArea/sharedLib/interceptors/requestHeader");return{around:function(e){var t=e.args[0],i=t.data||{},n=t.beforeRequest,r=t.handleSuccess,a=t.handleError;if(n&&!t.hasBeenTransformed){var o=n(i);t.data=o,t.hasBeenTransformed=!0}return new Promise((function(i,n){e.proceed(t).then((function(e){i(r?r(e):e)}),(function(e){n(a?a(e):e)}))}))},before:function(e){var i=t.getHeader();return Object.keys(i).length&&(e.beforeSend=function(e){for(var t in i)Object.hasOwnProperty.call(i,t)&&e.setRequestHeader(t,i[t])}),e},afterReturning:function(e){return e}}})),define("profileArea/personalDetails/languagePreferences/service/languagePreferences",["require","profileArea/personalDetails/languagePreferences/service/dataTransform/languagePreferences","profileArea/sharedLib/interceptors/request"],(function(e){"use strict";return function(){var t=e("profileArea/personalDetails/languagePreferences/service/dataTransform/languagePreferences")(),i=e("profileArea/sharedLib/interceptors/request");function n(e,i){return{settings:{url:i,handleSuccess:function(i){switch(e){case"languagePreferences.profile.languageGlobalList.svc":return t.transformLanguageGlobalListService(i);case"languagePreferences.profile.languageGlobalUpdate.svc":return i}}}}}this.serviceCalls={languageGlobalList:n("languagePreferences.profile.languageGlobalList.svc",domainUrl+"/svc/rr/profile/l4/v1/language/preference/list"),"languagePreferences.profile.languageGlobalUpdate.svc":n("languagePreferences.profile.languageGlobalUpdate.svc",domainUrl+"/svc/wr/profile/l4/v1/language/preference/update")},this.serviceInterceptors=[i]}})),define("profileArea/personalDetails/customerName/service/helpers/serviceHelper",[],(function(){"use strict";var e={dataType:"json",contentType:"application/json",disableDefaultError:!0,xhrFields:{withCredentials:!0}};function t(e,t,i){return e.util.object.merge({},t,i)}return{getServiceList:function(i,n,r){var a={};return Object.keys(r).forEach((function(o){a[o]=function(i,n,r){var a={settings:{}};return a.settings=t(i,r,n),a.settings.url=n.url,n.useJSONServiceSettings&&(a.settings=t(i,a.settings,e)),a}(i,r[o],n)})),a},getMicroServiceUrl:function(e,t,i,n,r){var a={prefix:t,microServiceBasePath:i,microServicePath:n};return Object.keys(a).reduce((function(e,t){return e.replace("{{"+t+"}}",a[t])}),e)+(r?function(e){return"?"+e+"="+document.location.origin}(r):"")},getServiceUrl:function(e,t){var i={prefix:t};return Object.keys(i).reduce((function(e,t){return e.replace("{{"+t+"}}",i[t])}),e)}}})),define("profileArea/personalDetails/customerName/service/eDocsService",["require","common/service/interceptor/retryOnError","profileArea/personalDetails/customerName/service/helpers/serviceHelper"],(function(e){"use strict";return function(t){var i=e("common/service/interceptor/retryOnError"),n=e("profileArea/personalDetails/customerName/service/helpers/serviceHelper"),r=t.config&&t.config.APP_CQ5_HOST_CARD,a=t.config.serviceUrl,o=a+t.eDocsServiceSettings.get("dpsDocumentsSecureBasePath"),s=a+t.eDocsServiceSettings.get("dpsProfileSecureBasePath"),c=t.eDocsServiceSettings.get("originDomainParam"),l=t.eDocsServiceSettings.get("microServiceHostUrlPattern"),d=t.eDocsServiceSettings.get("serviceHostUrlPattern"),u=t.eDocsServiceSettings.get("dpsServicePaths"),p=t.eDocsServiceSettings.get("microServiceBasePath"),m=t.eDocsServiceSettings.get("microServicePaths"),f={legalNameChangeUploadFile:{type:"POST",contentType:!1,processData:!1,url:n.getMicroServiceUrl(l,o+u.getDpsFileUpload,p,m.cachedDocs)},legalNameChange:{type:"POST",useJSONServiceSettings:!0,url:n.getMicroServiceUrl(l,o+u.getEDocsList,p,m.legalNames,c)},getWorkflowStatus:{type:"POST",useJSONServiceSettings:!0,url:n.getMicroServiceUrl(l,o+u.getEDocsList,p,m.workflowStatus)},getDocUploadConfigs:{type:"POST",useJSONServiceSettings:!0,url:n.getMicroServiceUrl(l,o+u.getEDocsList,p,m.docUploadConfigs)},getSigningStatus:{type:"POST",useJSONServiceSettings:!0,url:n.getMicroServiceUrl(l,o+u.getEDocsList,p,m.signingStatus)},getCustomerProfile:{type:"POST",useJSONServiceSettings:!1,url:n.getServiceUrl(d,o+u.getCustomerProfile)},uploadedDocuments:{headers:{"x-jpmc-csrf-token":"NONE"},cache:!1,method:"POST",type:"POST",contentType:!1,processData:!1,url:n.getMicroServiceUrl(l,o+u.getDpsFileUpload,p,m.uploadedDocuments)},autoSurrender:{type:"POST",useJSONServiceSettings:!0,url:n.getMicroServiceUrl(l,o+u.getEDocsList,p,m.autoSurrender,c)},mortgageAssistanceService:{type:"POST",useJSONServiceSettings:!0,url:n.getMicroServiceUrl(l,o+u.getEDocsList,p,m.mortgageAssistanceService,c)},cachePrivateData:{type:"POST",useJSONServiceSettings:!0,url:n.getMicroServiceUrl(l,o+u.getEDocsList,p,m.cachedData)},getClaimIdData:{type:"POST",useJSONServiceSettings:!0,url:n.getMicroServiceUrl(l,o+u.getEDocsList,p,m.disputesData)},getMailingAddress:{type:"POST",useJSONServiceSettings:!1,url:n.getServiceUrl(d,s+u.getMailingAddress)},getAgreementUrl:{timeout:31e3,contentType:!1,type:"POST",disableCsrf:!0,disableDefaultError:!0,xhrFields:{withCredentials:!1},statusCodeField:"statusCode",url:r+"/apps/services/getAgreements.html"},uploadRMAFile:{headers:{"x-jpmc-csrf-token":"NONE"},cache:!1,method:"POST",type:"POST",contentType:!1,processData:!1,url:n.getMicroServiceUrl(l,o+u.getDpsFileUpload,p,m.cachedDocs)},uploadSupportingDocumentsFiles:{headers:{"x-jpmc-csrf-token":"NONE"},cache:!1,method:"POST",type:"POST",contentType:!1,processData:!1,url:n.getMicroServiceUrl(l,o+u.getDpsFileUpload,p,m.cachedDocs)}};this.serviceInterceptors=[i],this.serviceCalls=n.getServiceList(t,{timeout:31e3},f)}})),define("profileArea/signInSecurity/resetUserId/services/resetUserId",[],(function(){"use strict";return function(){function e(e){return{settings:{url:e}}}this.serviceCalls={list:e(domainUrl+"/svc/rr/profile/l4/v1/overview/list"),update:e(domainUrl+"/svc/wr/profile/l4/v1/userid/update")}}})),define("profileArea/signInSecurity/resetPassword/services/resetPassword",[],(function(){"use strict";return function(){function e(e){return{settings:{url:e}}}this.serviceCalls={list:e(domainUrl+"/svc/rr/profile/l4/v1/overview/list"),update:e(domainUrl+"/auth/fcc/login")}}})),define("profileArea/accountSettings/servicePlan/services/servicePlan",[],(function(){"use strict";return function(){var e=this.context.config.APP_CQ5_HOST_CARD;var t,i,n=function(e){return{settings:{url:e,type:"GET",disableCsrf:!0,xhrFields:{withCredentials:!1}}}};this.serviceCalls={"plans.list":(i=domainUrl+"/svc/rr/profile/secure/v1/serviceplan/update/options/list",{settings:{url:i,handleSuccess:function(e){return e},handleError:function(){}}}),"content.ctlOnly":n(e+"/content/managed-services/cbo/en/cc/cc-sp-ctl.json"),getCtlServicePlan:(t=e+"/content/managed-services/digital-ui/en/ctl/service-plan-ctl.json",{settings:{url:t,timeout:3e4,type:"GET",crossDomain:!0,redirect:!0,disableCsrf:!0,dataType:"JSON",xhrFields:{withCredentials:!1},headers:{"x-jpmc-csrf-token":null}}}),getServiceDashboard:n(e+"/content/compare/compare-products/en/cc-usp-lp.json")}}})),define("profileArea/signInSecurity/securityCode/services/securityCode",[],(function(){"use strict";return function(){function e(e){return{settings:{url:e}}}this.serviceCalls={"contacts.list":e(domainUrl+"/svc/wl/auth/secure/v1/otp/contacts/list"),"prefix.list":e(domainUrl+"/svc/wl/auth/secure/v1/otp/prefix/list"),"otp.send":e(domainUrl+"/svc/wl/auth/secure/v1/otp/send"),"otp.verify":e(domainUrl+"/svc/wl/auth/secure/v1/otp/verify"),"seccode.update":e(domainUrl+"/svc/wr/profile/secure/v1/seccode/update")}}})),define("profileArea/personalDetails/phone/service/dataTransform/serializers",["require","appkit-utilities/rapidash/rapidash","profileArea/personalDetails/phone/service/dataTransform/transformers"],(function(e){"use strict";var t=e("appkit-utilities/rapidash/rapidash"),i=e("profileArea/personalDetails/phone/service/dataTransform/transformers").removePhoneNumberFormatting,n=function(e){return{id:e.model.get().phoneNumberId}},r=function(e,i){var n;e&&(n=e.filter((function(e){return-1===e.accountId&&i.primary&&(e.checked=!0),!!e.checked})).map((function(e){return e.accountId})),t.serialize(i,"associatedAccountIds",n))},a={"myProfile.phone.add.svc":function(e){var i=e.context,n={};if(n.phoneNumber=i.phoneNumber,n.serviceSelected=i.flags.selectedService,n.groupId=i.groupId,"ACCOUNTS"===i.flags.selectedService){n.type=i.phoneNumberType,n.locale=i.phoneNumberRegion,i.phoneNumberExtension&&(n.extension=i.phoneNumberExtension),i.selectedPhoneUsagePreference&&(n.tcpaConsent=i.selectedPhoneUsagePreference),n.primary=Boolean(i.flags.isPrimary);var a=t.get(i,"addOptions.accountsAllowed."+i.phoneNumberType);r(a,n)}return n},"myProfile.phone.caas.add.svc":function(e){var i=e.context,n={},r=i.phoneNumberType,a=t.get(i,"addOptions.accountsAllowed."+i.phoneNumberType);return a=a||[],n.associatedAccountIds=a?.filter((e=>e.checked)).map((e=>e.accountId)),n.associatedAccountIds=n.associatedAccountIds||[],0===n.associatedAccountIds.length&&n.associatedAccountIds.push(-1),n.newPhoneNumber={type:r,primary:i.flags.isPrimary,internationalPhoneIndicator:i.phoneNumberRegion,phoneNumber:i.phoneNumber,assocAcctCount:a.reduce(((e,t)=>t.checked?1+e:0),0)||1},n.serviceSelected=i.flags.selectedService,n.groupId=i.groupId,i.selectedPhoneUsagePreference&&(n.tcpaConsent=i.selectedPhoneUsagePreference),e.assessmentId&&(n.assessmentId=e.assessmentId),e.riskId&&(n.riskId=e.riskId),n.phonesOnProfileCount=i.phoneNumberCount,n.flowEntryPointIdentifier="PROFILE",n},"myProfile.phone.delete.svc":n,"myProfile.phone.oiv.add.svc":function(e){var t=e.context,n=e.dataPath.split("."),r=Number(n[1]),a=t.phoneNumberDetails[r].phoneNumber;return{phoneNumber:i(a)}},"myProfile.phone.ena.tcpa.update.svc":function(e){var t=e.context;return{id:t.phoneNumberId,tcpaConsent:t.selectedPhoneUsagePreference}},"myProfile.phone.ena.validate.svc":function(e){return{phoneNumber:e.context.phoneNumber}},"myProfile.phone.update.svc":function(e){var t=e.context,i={};return i.id=t.phoneNumberId,i.phoneNumber=t.phoneNumber,t.phoneNumberExtension&&(i.extension=t.phoneNumberExtension),t.phoneNumberRegion&&(i.locale=t.phoneNumberRegion),t.selectedPhoneUsagePreference&&(i.tcpaConsent=t.selectedPhoneUsagePreference),i},"myProfile.phone.brokerage.update.caas.svc":function(e){var t=e.context,i={},n=e.model.get();return i.accountId=t.id,i.groupId=t.groupId,i.newPhoneNumber={phoneNumber:t.phoneNumber,internationalPhoneIndicator:String(n.phoneNumberRegion),type:"HOME"},e.assessmentId&&(i.assessmentId=e.assessmentId),e.riskId&&(i.riskId=e.riskId),i.phonesOnProfileCount=n.accounts.length,i.eventType="PHONE_CHANGE_EDIT",i.flowEntryPointIdentifier="PROFILE",i},"myProfile.phone.caas.update.svc":function(e){var t,i=e.context,n={};return n.id=i.phoneNumberId,n.groupId=i.groupId,n.newPhoneNumber={primary:i.flags.isPrimary,internationalPhoneIndicator:i.phoneNumberRegion,phoneNumber:i.phoneNumber,assocAcctCount:i.accounts.length},n.oldPhoneNumber={primary:i.flags.isPrimary,internationalPhoneIndicator:i.oldPhoneNumberRegion,phoneNumber:"INTERNATIONAL"===i.oldPhoneNumberRegion?i.oldPhoneNumber.split(" ")[1]:i.oldPhoneNumber.split("-").join(""),assocAcctCount:i.accounts.length},i.selectedPhoneUsagePreference&&(n.tcpaConsent=i.selectedPhoneUsagePreference),"WORK"===t&&(n.newPhoneNumber.extension=i.phoneNumberExtension,n.oldPhoneNumber.extension=i.oldPhoneNumberExtension),i.phoneNumberType&&(t=i.phoneNumberType.includes("CELL")?"CELL":i.phoneNumberType[0],n.newPhoneNumber.type=t,n.oldPhoneNumber.type=t),e.assessmentId&&(n.assessmentId=e.assessmentId),e.riskId&&(n.riskId=e.riskId),n.phonesOnProfileCount=i.phoneNumberDetails.length,n.eventType="PHONE_CHANGE_EDIT",n.flowEntryPointIdentifier="PROFILE",n},"myProfile.phone.ena.update.svc":function(e){var i=e.context,n={id:i.phoneNumberId,groupId:e.model.get().groupId};return t.get(i,"addOptions.primaryAllowed")&&(n.primary=!("PRIMARY"===i.phoneNumberCategory||!i.flags.isPrimary)),r(t.get(i,"addOptions.eligibleAccounts"),n),n},"myProfile.phone.qp.delete.svc":n,"myProfile.phone.alerts.delete.svc":n,"myProfile.phone.oiv.delete.svc":n,"myProfile.phone.ena.add.svc":function(e){var i=e.context,n={phoneNumber:i.phoneNumber,type:i.phoneNumberType,locale:"DOMESTIC"};t.get(i,"addOptions.primaryAllowed")&&(n.primary=!!i.flags.isPrimary),i.phoneNumberExtension&&(n.extension=i.phoneNumberExtension),i.selectedPhoneUsagePreference&&(n.tcpaConsent=i.selectedPhoneUsagePreference);var a=t.get(i,"addOptions.accountsAllowed."+i.phoneNumberType);return r(a,n),n},"myProfile.phone.caas.ena.add.svc":function(e){var i=e.context,n={},r=i.phoneNumberType,a=t.get(i,"addOptions.accountsAllowed."+i.phoneNumberType);return n.associatedAccountIds=a?.filter((e=>e.checked)).map((e=>e.accountId)),n.groupId=i.groupId,n.newPhoneNumber={type:Array.isArray(r)?r[0]:r,primary:i.flags.isPrimary,internationalPhoneIndicator:i.phoneNumberRegion,phoneNumber:i.phoneNumber,assocAcctCount:a.reduce(((e,t)=>t.checked?1+e:0),0)},i.selectedPhoneUsagePreference&&(n.tcpaConsent=i.selectedPhoneUsagePreference),e.assessmentId&&(n.assessmentId=e.assessmentId),e.riskId&&(n.riskId=e.riskId),n.phonesOnProfileCount=i.phoneNumberCount,n.flowEntryPointIdentifier="PROFILE",n},"myProfile.phone.ena.editOptions.svc":function(e){return{id:String(e.context.phoneNumberId)}},"quickpay.enrollment.resendcode":function(e){var t=e.model.get(),i=t.services.filter((function(e){return"quickPayService"===e.serviceId}))[0];return{contactId:t.contactId||i&&i.contactId}},"myProfile.phone.qp.add.svc":function(e){var t=e.model.get();return{mobile:i(t.phoneNumber)}},"quickpay.contact.verify":function(e){var t=e.model.get(),i=t.services.filter((function(e){return"quickPayService"===e.serviceId}))[0];return{contactId:t.contactId||i&&i.contactId,verificationCode:t.activationCode}},"myProfile.phone.brokerage.update.svc":function(e){var t=e.model.get();return{accountId:String(t.accountId),locale:String(t.phoneNumberRegion),phoneNumber:i(String(t.phoneNumber))}}};return function(e){var t=a[e];return t?function(t){return function(n){n.context.phoneNumber&&(n.context.phoneNumber=i(n.context.phoneNumber));var r=t(n);return n.context&&n.context.groupId&&(r.groupId=n.context.groupId),{"myProfile.phone.caas.add.svc":!0,"myProfile.phone.caas.update.svc":!0,"myProfile.phone.caas.ena.add.svc":!0,"myProfile.phone.brokerage.update.caas.svc":!0}[e]&&(r=JSON.stringify(r)),r}}(t):function(e){if(e.context&&e.context.groupId)return{groupId:e.context.groupId}}}})),define("profileArea/personalDetails/phone/service/dataTransform/deserializers",["require","appkit-utilities/content/dcu","common/lib/fakeComponent","profileArea/personalDetails/phone/service/dataTransform/transformers","appkit-utilities/rapidash/rapidash"],(function(e){"use strict";var t=e("appkit-utilities/content/dcu").dynamicContent,i=e("common/lib/fakeComponent"),n=e("profileArea/personalDetails/phone/service/dataTransform/transformers"),r=e("appkit-utilities/rapidash/rapidash"),a=i("MY_PROFILE_PHONE_NUMBER","profileArea"),o=i("BROKERAGE_ACCOUNTS_PHONE_NUMBER","profileArea"),s=function(e){var i=["accountAlertsService","quickPayService"],n={quickPayService:"QUICKPAY",accountAlertsService:"ALERTS"},r=["ENABLED","UNVERIFIED","LOCKED","SUSPENDED","UNDELIVERABLE"],o=!1;i=i.map((function(i){var s=e[i];if(s){var c="MAX_LIMIT_REACHED"===s.status?"MAXIMUM_LIMIT_REACHED":s.status;return r.indexOf(s.status)>-1&&(o=!0),{serviceId:i,serviceName:t.get(a,"serviceName."+n[i]),serviceStatus:c,serviceStatusText:t.get(a,"serviceStatus."+c),deleteAllowed:s.deleteAllowed,contactId:s.contactId}}return null})).filter((function(e){return null!==e}));var s={};return i.forEach((function(e){s[e.serviceId]=e})),{serviceList:i,serviceDict:s,hasAssociatedServices:o}},c=function(e){return e.nameAndMask},l=function(e){return-1===e.id?e.nameAndMask.split(","):[]},d=function(e){return e?e.map((function(e){return{accountId:e.id,accountDisplayName:c(e),accountDisplayArray:l(e),checked:!1,accountType:e.accountType||""}})):[]},u=function(e){var t=[];if(e){if(e[0]&&-1===e[0].id){t=e[0].nameAndMask.split(",");for(var i=1;i<e.length;i++)t.push(e[i].nameAndMask)}else e.forEach((function(e){t.push(e.nameAndMask)}));return t.sort()}return t},p=function(e){return"INTERNATIONAL"===e.locale?n.formatInternationalNumber(e.phoneNumber):n.formatDomesticNumber(e.phoneNumber)},m=function(e,t){var i=s(e),n={};t.phoneNumberTypes.forEach((function(e){n[e.key]=e}));var a={},o="";"object"==typeof e.types&&e.types.length>0&&(e.types.forEach((function(e){var t=n[e].name;a[t]=!0})),o=Object.keys(a).join(", "));var c=!1;if(Array.isArray(e.types))for(var l=0;l<e.types.length;l++){"WORK"===e.types[l]&&(c=!0,e.extension=e.extension||"")}var m=!1;!1===i.hasAssociatedServices&&e.types&&1===e.types.length&&e.associatedAccounts&&-1!==e.associatedAccounts[0].id&&(m=!0);var f=function(e,t){e=e||{},t=t||"";var i="ENABLED"===r.get(e,"accountAlertsService.serviceStatus"),n="ENABLED"===r.get(e,"onlineIdVerificationService.serviceStatus"),a="ENABLED"===r.get(e,"quickPayService.serviceStatus"),o=function(e){return{ACCOUNTS_UPDATE_ALLOWED:!0,ACCOUNTS_UPDATE_NOT_ALLOWED:!0}[e]||!1}(t);return i&&n&&a&&o}(i.serviceDict,e.accountsServiceStatus);return{phoneNumberId:e.id,phoneNumberCategory:t.phoneCategory,phoneNumber:e.phoneNumber,oldPhoneNumber:p(e),oldPhoneNumberRegion:e.locale||"DOMESTIC",oldPhoneNumberExtension:e.extension,formattedPhoneNumber:p(e),phoneNumberTypes:t.phoneNumberTypes,phoneNumberType:e.types,phoneNumberTypeNamesText:o,phoneNumberExtension:e.extension,phoneNumberRegionOptions:t.phoneNumberRegionOptions,phoneNumberRegion:e.locale||"DOMESTIC",accounts:d(e.associatedAccounts),sortedAccountsList:u(e.associatedAccounts),accountsServiceStatus:e.accountsServiceStatus,services:i.serviceList,enaEnabled:A(e),mfaEnabled:g(i.serviceDict),quickpayEnabled:E(i.serviceDict),quickpayDeleteAllowed:h(i.serviceDict),alertsEnabled:y(i.serviceDict),flags:{tcpaPreferenceAllowed:e.tcpaPreferenceAllowed,updateAllowed:e.updateAllowed,deleteAllowed:e.deleteAllowed,tcpaConsent:e.tcpaConsent,entityType:e.entityType,services:i.serviceDict,types:n,isWorkNumber:c,isCardOnlyContact:m,isPrimary:"PRIMARY"===t.phoneCategory,enaAndAllServicesEnabled:f,addingAccountsToPhone:!1,editingPhoneNumber:!1}}},f=function(e){if(!1===e.groupsAvailable)return e;var i,n,s,c=[{key:"HOME",name:t.get(a,"phoneNumberType.HOME")},{key:"CELL",name:t.get(a,"phoneNumberType.CELL")},{key:"WORK",name:t.get(a,"phoneNumberType.WORK")}],l=[{key:"DOMESTIC",name:t.get(a,"phoneNumberRegionLabel.DOMESTIC")},{key:"INTERNATIONAL",name:t.get(a,"phoneNumberRegionLabel.INTERNATIONAL")}];i=function(e){var t=[];e.secondaryPhones&&(t=e.secondaryPhones.slice()),e.primaryPhone&&t.push(e.primaryPhone);for(var i=t.length-1;i>=0;i--)if("ENABLED"===r.get(t[i],"accountAlertsService.status"))return t[i].phoneNumber}(e),s=(n=Boolean(i))?t.get(a,"serviceAdvisory.ALERTS_ALREADY_ADDED"):t.get(a,"serviceAdvisory.ALERTS");var d={phoneHeaderComponent:{accountCategories:e.groups,groupId:e.groupId,addAllowed:e.addAllowed,restrictedAcctWarningKey:e.statusCodes&&e.statusCodes.indexOf("RESTRICTED_ACCOUNT")>-1?"RESTRICTED_ACCOUNT":null},phoneComponent:{phoneNumberDetails:[],groupId:e.groupId,phoneNumberTypes:c,phoneNumberRegionOptions:l,alertsAlreadyAdded:n,alertsAdvisoryText:s,alertsPhoneNumber:i,restrictedAcctWarningKey:e.statusCodes&&e.statusCodes.indexOf("RESTRICTED_ACCOUNT")>-1?"RESTRICTED_ACCOUNT":null,cardOnlyContacts:[]}};return e.investmentAccounts&&(d.brokerageAccountsPhoneNumberComponent={accounts:[]},e.investmentAccounts.forEach((function(i){d.brokerageAccountsPhoneNumberComponent.accounts.push({id:i.id,groupId:e.groupId,nameAndMask:i.nameAndMask,updatePhoneNumberAda:t.get(o,"updatePhoneNumberAda",{accounts:{accountDisplayName:i.nameAndMask},nameAndMask:i.nameAndMask})})}))),e.primaryPhone&&d.phoneComponent.phoneNumberDetails.push(m(e.primaryPhone,{phoneCategory:"PRIMARY",phoneNumberTypes:c,phoneNumberRegionOptions:l})),e.secondaryPhones&&e.secondaryPhones.forEach((function(e){var t=m(e,{phoneCategory:"SECONDARY",phoneNumberTypes:c,phoneNumberRegionOptions:l});t.flags.isCardOnlyContact&&d.phoneComponent.cardOnlyContacts.push({phoneNumber:t.oldPhoneNumber,phoneNumberType:t.phoneNumberType[0],entityType:t.flags.entityType,associatedAccounts:t.accounts.map((function(e){return e.accountId}))}),d.phoneComponent.phoneNumberDetails.push(t)})),d};function A(e){return e.associatedAccounts&&e.associatedAccounts.length>0}function g(e){return"ENABLED"===r.get(e,"onlineIdVerificationService.serviceStatus")}function E(e){return"ENABLED"===r.get(e,"quickPayService.serviceStatus")}function y(e){return"ENABLED"===r.get(e,"accountAlertsService.serviceStatus")}function h(e){return r.get(e,"quickPayService.deleteAllowed")}function v(e){var t={primaryAllowed:e.primaryAllowed,servicesAllowed:[],accountsAllowed:{}};return e.eligiblePhoneTypesAndAccounts=e.eligiblePhoneTypesAndAccounts||[],e.eligiblePhoneTypesAndAccounts.forEach((function(e){t.accountsAllowed[e.type]=d(e.eligibleAccounts)})),t}function C(e){return"SUCCESS"===e.code}return{transformServices:s,transformPhones:f,map:{"myProfile.phone.list.svc":f,"myProfile.phone.addOptions.svc":function(e){var i=v(e),n={ACCOUNTS:{key:"ACCOUNTS",name:t.get(a,"serviceName.ACCOUNTS")},QUICKPAY:{key:"QUICKPAY",name:t.get(a,"serviceName.QUICKPAY")},ALERTS:{key:"ALERTS",name:t.get(a,"serviceName.ALERTS")}};return e.servicesAllowed&&e.servicesAllowed.forEach((function(e){var t=n[e];"QUICKPAY"!==e&&"ONLINE_VERIFICATION"!==e&&i.servicesAllowed.push({key:t.key,name:t.name})})),i},"myProfile.phone.ena.addOptions.svc":function(e){return v(e)},"myProfile.phone.ena.editOptions.svc":function(e){return{primaryAllowed:e.primaryAllowed,associatedAccounts:d(e.associatedAccounts),eligibleAccounts:d(e.eligibleAccounts)}},"myProfile.phone.qp.delete.svc":C,"myProfile.phone.oiv.delete.svc":C,"myProfile.phone.alerts.delete.svc":C}}})),define("profileArea/personalDetails/phone/service/phone",["require","profileArea/personalDetails/phone/service/dataTransform/serializers","profileArea/personalDetails/phone/service/dataTransform/deserializers"],(function(e){"use strict";return function(){var t=e("profileArea/personalDetails/phone/service/dataTransform/serializers"),i=e("profileArea/personalDetails/phone/service/dataTransform/deserializers"),n=[{name:"myProfile.phone.list.svc",url:domainUrl+"/svc/rr/profile/l4/v2/phone/profile/list"},{name:"myProfile.phone.refresh.list.svc",url:domainUrl+"/svc/rr/profile/l4/v1/phone/refresh/list"},{name:"myProfile.phone.addOptions.svc",url:domainUrl+"/svc/rr/profile/l4/v1/phone/addoptions/list"},{name:"myProfile.phone.ena.addOptions.svc",url:domainUrl+"/svc/rr/profile/l4/v1/phone/ena/addoptions/list"},{name:"myProfile.phone.ena.validate.svc",url:domainUrl+"/svc/rr/profile/l4/v1/phone/ena/validate"},{name:"myProfile.phone.ena.tcpa.update.svc",url:domainUrl+"/svc/wr/profile/l4/v1/phone/ena/tcpa/update"},{name:"myProfile.phone.add.svc",url:domainUrl+"/svc/wr/profile/l4/v1/phone/add"},{name:"myProfile.phone.caas.add.svc",url:domainUrl+"/svc/wr/profile/l4/v1/phone/segment/add"},{name:"myProfile.phone.delete.svc",url:domainUrl+"/svc/wr/profile/l4/v1/phone/delete"},{name:"myProfile.phone.ena.add.svc",url:domainUrl+"/svc/wr/profile/l4/v1/phone/ena/add"},{name:"myProfile.phone.caas.ena.add.svc",url:domainUrl+"/svc/wr/profile/l4/v1/phone/ena/segment/add"},{name:"myProfile.phone.oiv.add.svc",url:domainUrl+"/svc/wr/profile/secure/v1/phone/oiv/add"},{name:"myProfile.phone.oiv.delete.svc",url:domainUrl+"/svc/wr/profile/secure/v1/phone/oiv/delete"},{name:"myProfile.phone.qp.add.svc",url:domainUrl+"/svc/wr/profile/secure/v1/phone/qp/add"},{name:"myProfile.phone.qp.delete.svc",url:domainUrl+"/svc/wr/profile/secure/v1/phone/qp/delete"},{name:"myProfile.phone.alerts.delete.svc",url:domainUrl+"/svc/wr/profile/l4/v1/phone/alerts/delete"},{name:"myProfile.phone.update.svc",url:domainUrl+"/svc/wr/profile/l4/v1/phone/update"},{name:"myProfile.phone.caas.update.svc",url:domainUrl+"/svc/wr/profile/l4/v1/phone/segment/update"},{name:"myProfile.phone.brokerage.update.caas.svc",url:domainUrl+"/svc/wr/profile/secure/v1/phone/brokerage/segment/update"},{name:"myProfile.phone.ena.editOptions.svc",url:domainUrl+"/svc/rr/profile/l4/v1/phone/ena/editoptions/list"},{name:"quickpay.enrollment.resendcode",url:domainUrl+"/svc/wr/payments/secure/v1/quickpay/contact/sendotp"},{name:"quickpay.contact.verify",url:domainUrl+"/svc/wr/payments/secure/v1/quickpay/contact/verify"},{name:"myProfile.phone.ena.update.svc",url:domainUrl+"/svc/wr/profile/l4/v1/phone/ena/update"},{name:"myProfile.phone.brokerage.update.svc",url:domainUrl+"/svc/wr/profile/secure/v1/phone/brokerage/update"}],r={};n.forEach((function(e){var n,a,o;r[e.name]=(n=e.name,a=e.url,o={settings:{url:a,beforeRequest:t(n),handleSuccess:i.map[n]||null}},{"myProfile.phone.caas.add.svc":!0,"myProfile.phone.caas.update.svc":!0,"myProfile.phone.caas.ena.add.svc":!0,"myProfile.phone.brokerage.update.caas.svc":!0}[n]&&(o.settings.contentType="application/json"),o)})),this.serviceCalls=r}})),define("profileArea/sharedLib/caasCallbackMapper",[],(function(){"use strict";return function(){return{EMAIL:[{url:"/svc/rr/profile/l4/v2/email/profile/list",callBackFunction:"dashboard/profileArea/email/caasRetry",target:"#applicationOverlay"}],ADDRESS:[{url:"/svc/rr/profile/secure/v1/address/profile/list",callBackFunction:"dashboard/profileArea/email/caasRetry",target:"#applicationOverlay"}]}}})),define("profileArea/personalDetails/mailingAddress/services/dataTransform/serializers",["require","profileArea/personalDetails/mailingAddress/lib/mailingAddressUtils"],(function(e){"use strict";var t=e("profileArea/personalDetails/mailingAddress/lib/mailingAddressUtils");var i={"myProfile.mailingAddress.add.svc":function(){},"myProfile.mailingAddress.delete.svc":function(e){return{groupId:e.groupId,addressId:e.id}},"myProfile.mailingAddress.edit.validate.svc":t.transformValidateAddress,"myProfile.mailingAddress.add.validate.svc":t.transformValidateAddress,"myProfile.mailingAddress.commit.svc":function(e){return{formId:e.formId,optionId:e.postalAddressOption,groupId:e.groupId}},"myProfile.mailingAddress.brokerage.update.svc":function(e){var t={accountId:e.accountId,city:""!==e.city?e.city:void 0,line1:e.mailingAddressLineOne,line2:""!==e.mailingAddressLineTwo?e.mailingAddressLineTwo:void 0,line3:""!==e.mailingAddressLineThree?e.mailingAddressLineThree:void 0,zipcode:e.zipCode?e.zipCode+(e.zipCodeExtension||""):e.postalCode,type:e.mailingAddressType};return"INTERNATIONAL"===t.type?t.countryCode=e.countryId:t.stateCode=e.provinceId||e.stateId,"MILITARY"===t.type?(t.postOfficeType=e.postOfficeType,t.stateCode=e.militaryRegionId):t.city=e.city,t}};return function(e){var t=i[e];return t||null}})),define("profileArea/personalDetails/mailingAddress/services/dataTransform/deserializers",["require","appkit-utilities/content/dcu","profileArea/sharedLib/profileConstants","common/lib/fakeComponent","profileArea/personalDetails/mailingAddress/services/dataTransform/transformers","profileArea/personalDetails/phone/service/dataTransform/transformers","profileArea/personalDetails/mailingAddress/lib/mailingAddressUtils"],(function(e){"use strict";var t,i=e("appkit-utilities/content/dcu").dynamicContent,n=e("profileArea/sharedLib/profileConstants"),r=e("common/lib/fakeComponent"),a=r("MY_PROFILE_ADDRESS"),o=r("GLOBAL","app"),s=r("MY_PROFILE_BROKERAGE_ACCOUNTS"),c=e("profileArea/personalDetails/mailingAddress/services/dataTransform/transformers")(),l=e("profileArea/personalDetails/phone/service/dataTransform/transformers"),d=e("profileArea/personalDetails/mailingAddress/lib/mailingAddressUtils"),u=n.MAILING_ADDRESS_CATEGORY,p=n.INVESTMENT_ACCOUNT_TYPES,m=!1;function f(e,i,n){var r,a=!1;(r=A(e,n)).mailingAddressCategory=n,n===u.PRIMARY&&(a=!0,r.deleteAllowed=!1,r.isIntPrimaryAllowed=e.isIntPrimaryAllowed),r.isPrimary=a,r.groupId=i,r.displayHeader=m,m=!1,t.push(r)}function A(e,t){var n,r={},a=e.associatedAccounts||[],s=-1,l=new Date;return r.stateId="","CAN"===e.countryCode?(n="CANADA",r.provinceId=e.stateCode,r.stateId="",r.militaryRegionId="",r.postalCode=e.zipcode,e.zipcode=""):"USA"!==e.countryCode?(n="INTERNATIONAL",r.postalCode=e.zipcode,e.zipcode=""):e.postOfficeType?(n="MILITARY",r.militaryRegionId=e.stateCode,r.provinceId="",r.stateId="",r.postalCode=""):(n="USA",r.stateId=e.stateCode,r.provinceId="",r.militaryRegionId="",r.postalCode=""),r.countryId=e.countryCode,r.mailingAddressType=n,r.mailingAddressLineOne=e.line1||"",r.mailingAddressLineTwo=e.line2||"",r.mailingAddressLineThree=e.line3||"",r.city=e.city,r.postOfficeType=e.postOfficeType||"APO",r.mailingAddressEffectiveDate=E(e.fromDate),r.mailingAddressEndDate=E(e.toDate),r.accountDisplayName=e.nameAndMask,r.mailingAddressDateRangeFrequency=e.everyYear,function(e,t){t=t||"","INTERNATIONAL"!==e.mailingAddressType&&9===t.length?(e.zipCode=t.substring(0,5),e.zipCodeExtension=t.substring(5)):e.zipCode=t}(r,e.zipcode),r.id=e.id,r.updateAllowed=e.updateAllowed,r.deleteAllowed=e.deleteAllowed,r.associatedAccounts=c.alphabetize(a,"nameAndMask"),t!==u.PRIMARY&&(s=a.findIndex((function(e){return p.indexOf(e.accountType)>-1})),r.showTooltip=s>-1),r.mailingAddressEndDateForView=y(e.toDate),r.mailingAddressEffectiveDateForView=y(e.fromDate),r.mode="VIEW",r.messageInfo="",r.countryId&&"USA"!==r.countryId&&(r.countryDisplayName=i.get(o,"countryName."+r.countryId)),r.currentDate=l.getMonth()+1+"/"+l.getDate()+"/"+l.getFullYear(),r}function g(e){var t,i,n=[],r=[],a=function(e,t){e.forEach((function(e){e.checked=e.associated=t,p.indexOf(e.accountType)>-1?n.push(e):r.push(e)}))};return e.associatedAccounts&&a(e.associatedAccounts,!0),e.eligibleAccounts&&a(e.eligibleAccounts,!1),n=d.transformArrayByAssociatedFlag(n),t=(r=d.transformArrayByAssociatedFlag(r)).filter((function(e){return e.associated})).length>0,i=n.filter((function(e){return e.associated})).length>0,{associatedAccounts:e.associatedAccounts,bankAccounts:r,associatedBankAccounts:t,associatedInvestmentAccounts:i,eligibleAccounts:e.eligibleAccounts,investmentAccounts:n,isPrimaryAllowed:e.isPrimaryAllowed,isIntPrimaryAllowed:e.isIntPrimaryAllowed,addressTypes:e.addressTypes}}function E(e){var t;return e&&8===e.length&&(t=e.substring(4,6)+"/"+e.substring(6,8)+"/"+e.substring(0,4)),t}function y(e){var t;return e&&8===e.length&&(t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.substring(4,6)-1]+" "+parseInt(e.substring(6,8))+", "+e.substring(0,4)),t}function h(e){var t="INTERNATIONAL"===e.locale?l.formatInternationalNumber(e.phoneNumber):l.formatDomesticNumber(e.phoneNumber);if(Array.isArray(e.types))for(var i=0;i<e.types.length;i++){"WORK"===e.types[i]&&(e.extension=e.extension||"")}return{phoneNumber:t,phoneNumberExtension:e.extension}}return{transformMailingAddress:A,map:{"myProfile.mailingAddress.list.svc":function(e){var n={};return!1===e.groupsAvailable?e:(n.mailingAddressHeaderComponent=function(e){var t=e.statusCodes,i=!1,n=null,r=!1,a=!1,o=!1,s=null,c=[["DISABLED_MORTGAGE_ACCT","DISABLED_MORTGAGE_ACCOUNT"],["INVALID_MORTGAGE_ACCT_2","INVALID_MORTGAGE_ACCOUNT_TWO"],["INVALID_MORTGAGE_ACCT_1","INVALID_MORTGAGE_ACCOUNT_ONE"],["INVALID_MORTGAGE_ACCT_3","INVALID_MORTGAGE_ACCOUNT_THREE"]];t&&(i=t.indexOf("EXTERNAL_STUDENTLOAN_ACCOUNT")>-1,c.forEach((function(e){t.indexOf(e[0])>-1&&(n=e[1],r=!0)})),t.indexOf("INVALID_AUTO_LEASE_ACCT")>-1&&(n="INVALID_AUTO_LEASE_ACCOUNT",a=!0),t.indexOf("EXTERNAL_STUDENTLOAN_ACCT")>-1&&(n="INVALID_STUDENT_LOAN_ACCOUNT",o=!0),s=t.indexOf("RESTRICTED_ACCOUNT")>-1?"RESTRICTED_ACCOUNT":s,n=function(e,t,i,n){e&&t&&i?n="INVALID_MORTGAGE_STUDENT_LOAN_AUTO_LEASE_ACCOUNT":e&&i?n="INVALID_MORTGAGE_AND_AUTO_LEASE_ACCOUNT":e&&t?n="INVALID_MORTGAGE_AND_STUDENT_LOAN_ACCOUNT":t&&i&&(n="INVALID_STUDENT_LOAN_AND_AUTO_LEASE_ACCOUNT");return n}(r,o,a,n));return{noAddress:!(e.primaryAddress||e.secondaryAddresses&&e.secondaryAddresses.length||e.temporaryAddresses),noPrimaryAddress:!e.primaryAddress,hasOfflineAcctWarning:!!n,hasRestrictedAcctWarning:!!s,offlineAcctWarningKey:n,restrictedAcctWarningKey:s,hasExternalStudentLoanAcct:i,addTemporaryAddressAllowed:e.addTempAddressAllowed,addPermanentAddressAllowed:e.addPermanentAddressAllowed,accountCategories:e.groups,addAllowed:e.addAllowed,groupId:e.groupId}}(e),n.mailingAddressComponent=function(e){t=[],e.primaryAddress&&(e.primaryAddress.isIntPrimaryAllowed=e.isIntPrimaryAllowed,f(e.primaryAddress,e.groupId,u.PRIMARY));e.customerMailingAddress&&f(e.customerMailingAddress,e.groupId,u.CORRESPONDENCE);m=!0,e.secondaryAddresses&&e.secondaryAddresses.forEach((function(t){f(t,e.groupId,u.SECONDARY)}));e.temporaryAddresses&&e.temporaryAddresses.forEach((function(t){f(t,e.groupId,u.TEMPORARY)}));e.adminResidentialAddress&&f(e.adminResidentialAddress,e.groupId,u.RESIDENTIAL);for(var n=0;n<t.length;n++){var r=t[n],o={mailingAddresses:{mailingAddressLineOne:r.mailingAddressLineOne}};r.deleteMailingAddressAda=i.get(a,"deleteMailingAddressAda",o),r.editMailingAddressAda=i.get(a,"editMailingAddressAda",o)}return{groupId:e.groupId,mailingAddresses:t,isIntPrimaryAllowed:e.isIntPrimaryAllowed}}(e),e.investmentAccounts&&(n.mailingAddressBrokerageAccountsViewComponent={investmentAccounts:[]},e.investmentAccounts.forEach((function(e){n.mailingAddressBrokerageAccountsViewComponent.investmentAccounts.push({id:e.id,nameAndMask:e.nameAndMask,changeMailingAddressAda:i.get(s,"changeMailingAddressAda",{accountDisplayName:e.nameAndMask})})}))),n)},"myProfile.mailingAddress.addOptions.svc":g,"myProfile.mailingAddress.editOptions.svc":g,"myProfile.phoneList.svc":function(e){var t=[];return e.primaryPhone&&t.push(h(e.primaryPhone)),e.secondaryPhones&&e.secondaryPhones.forEach((function(e){t.push(h(e))})),t}}}})),define("profileArea/personalDetails/mailingAddress/services/mailingAddress",["require","profileArea/sharedLib/caasCallbackMapper","profileArea/sharedLib/interceptors/caasInterceptor","profileArea/personalDetails/mailingAddress/services/dataTransform/serializers","profileArea/personalDetails/mailingAddress/services/dataTransform/deserializers"],(function(e){"use strict";return function(t){var i=e("profileArea/sharedLib/caasCallbackMapper")(t).ADDRESS,n=e("profileArea/sharedLib/interceptors/caasInterceptor")(t,i),r=e("profileArea/personalDetails/mailingAddress/services/dataTransform/serializers"),a=e("profileArea/personalDetails/mailingAddress/services/dataTransform/deserializers"),o=[{name:"myProfile.mailingAddress.list.svc",url:domainUrl+"/svc/rr/profile/secure/v1/address/profile/list"},{name:"myProfile.mailingAddress.delete.svc",url:domainUrl+"/svc/wr/profile/secure/v1/address/delete"},{name:"myProfile.mailingAddress.add.validate.svc",url:domainUrl+"/svc/wr/profile/secure/v1/address/add/validate"},{name:"myProfile.mailingAddress.edit.validate.svc",url:domainUrl+"/svc/wr/profile/secure/v1/address/edit/validate"},{name:"myProfile.mailingAddress.commit.svc",url:domainUrl+"/svc/wr/profile/secure/v1/address/commit"},{name:"myProfile.mailingAddress.addOptions.svc",url:domainUrl+"/svc/rr/profile/secure/v1/address/addoptions/list"},{name:"myProfile.mailingAddress.editOptions.svc",url:domainUrl+"/svc/rr/profile/secure/v1/address/editoptions/list"},{name:"myProfile.mailingAddress.countryList.svc",url:domainUrl+"/svc/rr/profile/secure/v1/address/countries/list"},{name:"myProfile.mailingAddress.brokerage.update.svc",url:domainUrl+"/svc/wr/profile/secure/v1/address/brokerage/update"},{name:"myProfile.phoneList.svc",url:domainUrl+"/svc/rr/profile/l4/v2/phone/profile/list"}];var s={};o.forEach((function(e){var t,i,n;s[e.name]=(t=e.name,i=e.url,n={timeout:6e4,url:i,beforeRequest:r(t),handleSuccess:a.map[t]||null},"myProfile.phoneList.svc"===t&&delete n.timeout,{settings:n})})),this.serviceCalls=s,this.serviceInterceptors=[n]}})),define("profileArea/paymentPreferences/manageTransactionLimits/services/dataTransform/manageTransactionLimits",["require","common/lib/quickPay/qpFormatUtility"],(function(e){"use strict";var t=e("common/lib/quickPay/qpFormatUtility").formatCurrencyUtility;return function(){return{transformtransactionLimitsService:function(e){var i=e,n={EXTERNAL_TRANSFER:"ACCOUNT_TRANSFER",BILLPAY:"BILLPAY",WIRE:"WIRE_TRANSFER",ACH_COLLECTION:"ACH_COLLECTION",ACH_PAYMENT:"ACH_PAYMENTS",CF360:"CASHFLOW"},r=function(){this.newLimit=""};return i.serviceError=null,i.digitalCustomerLimits&&(i.digitalCustomerLimits.forEach((function(e){if(e.transactionTypeID=e.serviceProductName,e.transactionType="",e.showNewLimitInput=null,e.decreaseLimit=null,e.transactionTypeVariation=n[e.transactionTypeID],e.newLimit=(new r).newLimit,e.formattedCurrentLimit=t.commonCurrency(e.customerDailyLimitAmount,""),e.limitChangeTypeOptions=["INCREASE","DECREASE"],e.newLimitRequired=e.disclosureDisplayIndicator,e.limitChangeTypeOptions){var i=[];e.limitChangeTypeOptions.forEach((function(e){i.push({limitUpdateTypeOptionName:"",limitUpdateTypeOptionId:e})})),e.limitUpdateTypeOptions=i,delete e.limitChangeTypeOptions,e.limitUpdateTypeOptionName=null,e.limitUpdateTypeOptionId=null}e.currentLimit=e.customerDailyLimitAmount,e.token=e.tokenIdentifier,e.productCustomerEnrollmentId=e.productCustomerEnrollmentIdentifier})),i.transactionLimitDetails=i.digitalCustomerLimits),i}}}})),define("profileArea/paymentPreferences/manageTransactionLimits/services/manageTransactionLimits",["require","profileArea/paymentPreferences/manageTransactionLimits/services/dataTransform/manageTransactionLimits"],(function(e){"use strict";return function(){var t=e("profileArea/paymentPreferences/manageTransactionLimits/services/dataTransform/manageTransactionLimits")();function i(e,i,n,r){var a={settings:{url:e,type:i||"POST",handleSuccess:function(e){return"transaction.list"===n&&(e=t.transformtransactionLimitsService(e)),e},handleError:function(e){return"transaction.update"===n&&409===e.status&&e.data?(e.errorCode=JSON.parse(e.data).errorCode,e):e}}};return r&&(a.settings.contentType=r),a}this.serviceCalls={"transactionlimits.list":i(domainUrl+"/svc/rr/payments/secure/gateway/ccb/transactions/authorizations/digital-limits-experience/v1/limits","GET","transaction.list","application/json"),"transactionlimits.update":i(domainUrl+"/svc/rr/payments/secure/gateway/ccb/transactions/authorizations/digital-limits-experience/v1/limits","PUT","transaction.update","application/json")}}})),define("profileArea/paymentPreferences/cashflowSettings/services/cashflow",[],(function(){"use strict";return function(e){this.serviceCalls={updateEnrollment:{settings:{contentType:"application/json",url:e.config.serviceUrl+"/svc/wr/profile/secure/v2/product/bdc/update"}},upgradePackage:{settings:{url:e.config.serviceUrl+"/svc/wr/profile/secure/v1/product/bdcpackage/update"}},unenrollCompany:{settings:{url:e.config.serviceUrl+"/svc/wr/profile/secure/v1/product/bdcpackage/delete"}},unsubscribeProfile:{settings:{url:e.config.serviceUrl+"/svc/wr/profile/secure/v1/product/bdcpackage/delete"}}}}})),define("profileArea/paymentPreferences/cashflowSettings/services/accounts",[],(function(){"use strict";return function(e){this.serviceCalls={getAccountsConfiguration:{settings:{url:e.config.serviceUrl+"/svc/wr/profile/secure/v2/product/bdc/update/options"}},getStatus:{settings:{url:e.config.serviceUrl+"/svc/wl/auth/secure/thirdparty/redirecturl/v2/list"}}}}})),define("profileArea/paymentPreferences/cashflowSettings/services/activateCashflow",["require","common/interceptor/urlInterceptor"],(function(e){"use strict";var t=e("common/interceptor/urlInterceptor");return function(e){var i=e.config.serviceUrl;function n(e){return{settings:{url:e.url,type:e.method,contentType:e.contentType,xhrFields:{withCredentials:!0}}}}this.serviceCalls={getListBDC:n({url:i+"/svc/rr/payments/secure/gateway/cashflow360/servicing/enrollment/digital-cashflow-enrollment/v1/profile_bdc_customerorganizations",method:"GET"}),updateEnrollment:n({url:i+"/svc/rr/payments/secure/gateway/cashflow360/servicing/enrollment/digital-cashflow-enrollment/v1/profile_bdc_customerorganizations/update",method:"POST",contentType:"application/json"}),unenrollCompany:n({url:i+"/svc/rr/payments/secure/gateway/cashflow360/servicing/enrollment/digital-cashflow-unenrollment/v1/profile_bdc_customerorganizations/{{customerIdentifier}}",method:"DELETE"}),unsubscribeProfile:n({url:i+"/svc/rr/payments/secure/gateway/cashflow360/servicing/enrollment/digital-cashflow-unenrollment/v1/profile_bdc_customerorganizations",method:"DELETE"})},this.serviceInterceptors=[t]}})),define("profileArea/paymentPreferences/cashflowSettings/services/enrollment",[],(function(){"use strict";return function(e){this.serviceCalls={confirmEnrollment:{settings:{url:e.config.serviceUrl+"/svc/wr/profile/secure/v2/product/bdc/add",dataType:"json",type:"POST",contentType:"application/json"}},acceptEnrollment:{settings:{url:e.config.serviceUrl+"/svc/rr/payments/secure/gateway/cashflow360/servicing/enrollment/digital-cashflow-enrollment/v1/profile_bdc_customerorganizations/update",dataType:"json",type:"POST",contentType:"application/json"}}}}})),define("profileArea/paymentPreferences/cashflowSettings/services/content",[],(function(){"use strict";return function(){var e=function(e,t){switch(e){case"productInfoContent":return{settings:{url:t,type:"GET",headers:{"x-jpmc-csrf-token":null},dataType:"json",xhrFields:{withCredentials:!1},disableCsrf:!0}}}};this.serviceCalls={getProductInfoContentCommercial:e("productInfoContent","https://"+cq5Url+"/content/product-offer/en/cashflow360-commercial.json"),getProductInfoContentBusiness:e("productInfoContent","https://"+cq5Url+"/content/product-offer/en/cashflow360-business.json")}}})),define("profileArea/paymentPreferences/cashflowSettings/services/packageEligibility",[],(function(){"use strict";return function(e){this.serviceCalls={getPackageEligibility:{settings:{url:e.config.serviceUrl+"/svc/wr/profile/secure/v1/product/bdcpackage/list"}}}}})),define("profileArea/paymentPreferences/atm/service/atmDataTransform",["require","common/lib/fakeComponent","appkit-utilities/content/dcu"],(function(e){"use strict";var t=e("common/lib/fakeComponent")("GLOBAL"),i=e("appkit-utilities/content/dcu").dynamicContent;return function(){return{transformAtmAccountsList:function(e){var n=i.get(t,"openParenthesesSymbol"),r=i.get(t,"closeParenthesesSymbol"),a=i.get(t,"horizontalEllipsisSymbol");if(Array.isArray(e.accounts)){var o=[];e.accounts.forEach((function(e){o.push({accountMaskNumber:n+a+e.mask+r,fundingAccountId:e.id})})),e.accounts=o}return e},transformMicroserviceResponse:function(e){return{dailyMaxWithdrawlLimit:e.atmDailyTransactionLimitAmount,atmPrefLimit:e.atmWithdrawalLimitAmount,atmRecieptPreference:e.receiptPreferenceCode,displayFastCashPlaceHolder:e.displayQuickCashIndicator,fastCashAmount:e.quickCashAmount,atmPreferenceExistsIndicator:e.atmPreferenceExistsIndicator,atmLanguagePreference:e.languageCode}}}}})),define("profileArea/paymentPreferences/atm/service/atm",["require","profileArea/paymentPreferences/atm/service/atmDataTransform"],(function(e){"use strict";return function(){var t=e("profileArea/paymentPreferences/atm/service/atmDataTransform")(),i=domainUrl+"/svc/wr/profile/secure/gateway/jpmc/customer/profile/digital-atm-preferences/v1/atm-preferences/{{accountId}}",n=domainUrl+"/svc/wr/profile/secure/gateway/jpmc/customer/profile/digital-atm-preferences/v2/atm-preferences/{{accountId}}";function r(e,i,n){var r={settings:{url:e,handleSuccess:function(e){return"account.list"===i&&(e=t.transformAtmAccountsList(e)),"ms.preference.list"===i&&(e=t.transformMicroserviceResponse(e)),e},handleError:function(e){return e}}};return n&&(r.settings.type=n,"POST"!==n&&"PUT"!==n||(r.settings.contentType="application/json")),r}this.serviceCalls={"account.list":r(domainUrl+"/svc/rr/profile/secure/v1/account/atm/list","account.list"),"ms.preference.list":r(i,"ms.preference.list","GET"),"ms.preference.list.v2":r(n,"ms.preference.list","GET"),msadd:r(i,"msadd","POST"),msupdate:r(i,"msupdate","PUT"),msupdatev2:r(n,"msupdate","PUT")}}})),define("profileArea/paymentPreferences/pinChange/services/pinChange",[],(function(){"use strict";return function(e){function t(t){var i=function(t){e.application.emit("spinner:"+t,{target:"#profile-details"})};return{settings:{url:t,beforeRequest:function(e){return i("on"),e},handleSuccess:function(e){return i("off"),e},handleError:function(e){return i("off"),e}}}}this.serviceCalls={accountsList:t(domainUrl+"/svc/rr/accounts/secure/v1/accounts/dda/list"),cardsList:t(domainUrl+"/svc/rr/accounts/secure/v1/account/dda/debitcard/list"),update:t(domainUrl+"/svc/rr/profile/secure/v2/atm/pin/update")}}})),define("profileArea/personalDetails/incomeCapture/services/myIncomeCapture",[],(function(){"use strict";return function(e){var t=e.config.serviceUrl,i=function(e,i,n){return{settings:{type:i,url:t+e,contentType:n||"application/x-www-form-urlencoded"}}};this.serviceCalls={incomeListMS:i("/svc/wr/profile/secure/gateway/ccb/customer/profile/digital-party-incomes/v1/incomes","GET"),incomeUpdateMS:i("/svc/wr/profile/secure/gateway/ccb/customer/profile/digital-party-incomes/v1/incomes","POST","application/json"),disposition:i("/svc/wr/accounts/secure/v1/offer/disposition/add","POST")}}})),define("profileArea/personalDetails/email/services/email",["require","profileArea/personalDetails/email/services/emailDataTransform"],(function(e){"use strict";return function(){var t=e("profileArea/personalDetails/email/services/emailDataTransform")();function i(e,i){return{settings:{timeout:6e4,url:i,beforeRequest:function(i){switch(e){case"email.update":return t.transformEmailUpdateBeforeRequest(i);default:return i}},handleSuccess:function(i){var n={"email.list":t.transformEmailListService,"email.addOptions":t.transformEmailDataForForm,"email.update":t.transformEmailEditService,"email.delete":t.transformEmailDeleteService};return n[e]?n[e].call(t,i):i},handleError:function(e){return e}}}}this.serviceCalls={"myProfile.email.list.svc":i("email.list",domainUrl+"/svc/rr/profile/l4/v2/email/profile/list"),"myProfile.email.addOptions.svc":i("email.addOptions",domainUrl+"/svc/rr/profile/l4/v1/email/addoptions/list"),"myProfile.email.add.svc":i("email.oiv.add",domainUrl+"/svc/wr/profile/l4/v1/email/add"),"myProfile.email.scd.add.svc":i("email.scd.add",domainUrl+"/svc/wr/profile/l4/v1/securemail/add?runValidation=true"),"myProfile.email.update.svc":i("email.update",domainUrl+"/svc/wr/profile/l4/v1/email/update"),"myProfile.email.scd.update.svc":i("email.scd.update",domainUrl+"/svc/wr/profile/l4/v1/securemail/update?runValidation=true"),"myProfile.email.oiv.add.svc":i("email.oiv.add",domainUrl+"/svc/wr/profile/secure/v1/email/oiv/add"),"myProfile.email.oiv.delete.svc":i("email.oiv.delete",domainUrl+"/svc/wr/profile/secure/v1/email/oiv/delete"),"myProfile.email.qp.add.svc":i("email.qp.add",domainUrl+"/svc/wr/profile/secure/v1/email/qp/add"),"myProfile.email.qp.delete.svc":i("email.qp.delete",domainUrl+"/svc/wr/profile/secure/v1/email/qp/delete"),"myProfile.email.alerts.delete.svc":i("email.alerts.delete",domainUrl+"/svc/wr/profile/l4/v1/email/alerts/delete"),"myProfile.email.ena.addOptions.svc":i("email.enaAddOptions",domainUrl+"/svc/rr/profile/l4/v1/email/ena/addoptions/list"),"myProfile.email.ena.editOptions.svc":i("email.enaEditOptions",domainUrl+"/svc/rr/profile/l4/v1/email/ena/editoptions/list"),"myProfile.email.ena.add.svc":i("email.enaAdd",domainUrl+"/svc/wr/profile/l4/v1/email/ena/add"),"myProfile.email.scd.ena.add.svc":i("email.scd.enaAdd",domainUrl+"/svc/wr/profile/l4/v1/securemail/ena/add?runValidation=true"),"myProfile.email.ena.update.svc":i("email.enaUpdate",domainUrl+"/svc/wr/profile/l4/v1/email/ena/update"),"myProfile.email.delete.svc":i("email.delete",domainUrl+"/svc/wr/profile/l4/v1/email/delete"),"myProfile.email.alerts.add.svc":i("email.alertsAdd",domainUrl+"/svc/wr/profile/l4/v1/email/alerts/add"),"quickpay.enrollment.resendcode":i("qp.resendCode",domainUrl+"/svc/wr/payments/secure/v1/quickpay/contact/sendotp"),"quickpay.contact.verify":i("qp.verifyCode",domainUrl+"/svc/wr/payments/secure/v1/quickpay/contact/verify")}}})),define("profileArea/personalDetails/emailMarketingPreferences/services/emailMarketingPreferences",[],(function(){"use strict";return function(e){function t(e,t){var i={settings:{type:"POST",url:e}};return t&&(i.settings.contentType=t,i.settings.processData=!1),i}this.serviceCalls={emailList:t(e.config.serviceUrl+"/svc/rr/profile/l4/v2/email/profile/list"),emailOptions:t(e.config.serviceUrl+"/svc/wr/profile/secure/gateway/consumer/privacy/consent/v1/email/preferences/list","application/json"),emailPreferencesUpdate:t(e.config.serviceUrl+"/svc/wr/profile/secure/gateway/consumer/privacy/consent/v1/email/preferences/update","application/json")}}})),define("profileArea/sharedLib/dataTransform/mailingAddress/transformers",["require","appkit-utilities/content/dcu","common/lib/mailingAddressCodes","moment-timezone","common/lib/momentTimeZoneData","common/lib/fakeComponent"],(function(e){"use strict";var t=e("appkit-utilities/content/dcu").dynamicContent,i=e("common/lib/mailingAddressCodes"),n=e("moment-timezone");return n.tz.add(e("common/lib/momentTimeZoneData")["America/New_York"]),function(){return{extendMailingAddressHeaderData:function(e,t){var i=e||{};return i.messageInfo=t||{},i},trasformAddAddressData:function(e,t,r){var a=n.tz(n(),"America/New_York").format("MM/DD/YYYY");return{mode:"ADD",groupId:e,mailingAddressType:"USA",stateId:"",provinceId:"",militaryRegionId:"",countryId:"",mailingAddressLineOne:"",mailingAddressLineTwo:"",mailingAddressLineThree:"",city:"",postalCode:"",postOfficeType:"APO",zipCode:"",zipCodeExtension:"",isPrimary:!1,mailingAddressCategory:t,currentDate:a,mailingAddressEffectiveDate:"TEMPORARY"===t?a:void 0,mailingAddressEndDate:"",mailingAddressDateRangeFrequency:"",addressOptions:r,countries:this.alphabetize(this.buildList(i.countryCodes,"countryName"),"countryName"),states:this.buildList(i.stateCodes,"stateName"),provinces:this.alphabetize(this.buildList(i.provinceCodes,"provinceName"),"provinceName"),militaryRegions:this.buildList(i.militaryRegionCodes,"militaryRegionName")}},transformAddressToEditMode:function(e,t){var n=e;return n.addressOptions=t,n.countries=this.alphabetize(this.buildList(i.countryCodes,"countryName"),"countryName"),n.states=this.buildList(i.stateCodes,"stateName"),n.provinces=this.alphabetize(this.buildList(i.provinceCodes,"provinceName"),"provinceName"),n.militaryRegions=this.buildList(i.militaryRegionCodes,"militaryRegionName"),void 0===n.militaryRegionId&&(n.militaryRegionId=""),void 0===n.provinceId&&(n.provinceId=""),void 0===n.zipCodeExtension&&(n.zipCodeExtension=""),n},transformProfileAddressUpdateData:function(e){var t=e;return t.mailingAddressType="USA",t.stateId="",t.provinceId="",t.militaryRegionId="",t.countryId="",t.mailingAddressLineOne="",t.mailingAddressLineTwo="",t.mailingAddressLineThree="",t.city="",t.postalCode="",t.postOfficeType="APO",t.zipCode="",t.zipCodeExtension="",t.countries=this.alphabetize(this.buildList(i.countryCodes,"countryName"),"countryName"),t.states=t.states=this.buildList(i.stateCodes,"stateName"),t.provinces=this.alphabetize(this.buildList(i.provinceCodes,"provinceName"),"provinceName"),t.militaryRegions=this.buildList(i.militaryRegionCodes,"militaryRegionName"),t},alphabetize:function(e,t){return e.sort((function(e,i){return e[t]<i[t]?-1:e[t]>i[t]?1:0}))},buildList:function(i,n){var r=e("common/lib/fakeComponent"),a={countryName:"countryId",stateName:"stateId",provinceName:"provinceId",militaryRegionName:"militaryRegionId"};return i.map((function(e){var i={};return i[n]=t.get(r("GLOBAL"),n,e),i[a[n]]=e,i}))}}}})),define("profileArea/sharedLib/dataTransform/phone/transformers",[],(function(){"use strict";var e=function(e){return"+ "+(e=e.replace(/\+ /g,""))},t=function(e){return(e=e.match(/\d+/g).join("")).substring(0,3)+"-"+e.substring(3,6)+"-"+e.substring(6,10)};return{formatInternationalNumber:e,formatDomesticNumber:t,removePhoneNumberFormatting:function(e){return e?e.match(/\d+/g).join(""):""},formatPhoneNumber:function(i,n){return n?"DOMESTIC"===i?t(n):e(n):null},addWorkExtension:function(e,t,i){return e+" "+t+" "+i}}})),define("profileArea/sharedLib/dataTransform/mailingAddress/mailingAddressUtils",[],(function(){"use strict";var e=function(e){return""!==e?e:void 0};function t(e){var t=e.split("/");return 3===t.length?t[2]+t[0]+t[1]:""}function i(i){var n,r,a={addressId:i.id,groupId:i.groupId,line1:i.mailingAddressLineOne,line2:e(i.mailingAddressLineTwo),line3:e(i.mailingAddressLineThree),zipcode:i.zipCode?i.zipCode+(i.zipCodeExtension||""):i.postalCode,everyYear:e(i.mailingAddressDateRangeFrequency),type:i.mailingAddressType,isPrimary:"PRIMARY"!==i.mailingAddressCategory&&i.isPrimary},o=!1,s=0;return function(e,t){"RESIDENTIAL"===e.mailingAddressCategory?t.addressCategory="PRIMARY":t.addressCategory=e.mailingAddressCategory,"INTERNATIONAL"===t.type?t.countryCode=e.countryId:t.stateCode=e.provinceId||e.stateId,"MILITARY"===t.type?(t.postOfficeType=e.postOfficeType,t.stateCode=e.militaryRegionId):t.city=e.city}(i,a),i.addressOptions&&(n=i.addressOptions.bankAccounts||[],r=i.addressOptions.investmentAccounts||[],n.concat(r).forEach((function(e){!e.associated&&e.checked&&(a["associatedAccountIds["+s+"]"]=e.id,o=!0,s++)}))),o||"EDIT"===i.mode||(a.isPrimary=!0),i.mailingAddressEffectiveDate&&(a.fromDate=t(i.mailingAddressEffectiveDate)),i.mailingAddressEndDate&&(a.toDate=t(i.mailingAddressEndDate)),function(e){for(var t in e)if(Object.hasOwnProperty.call(e,t)){var i=e[t];"string"==typeof i&&(e[t]=i.trim())}}(a),a}function n(e){return e.match(/[a-zA-Z0-9]{5}(?=[a-zA-Z0-9]{4})|[a-zA-Z0-9]+/g).join("-")}function r(e){e&&e.length&&e.sort((function(e,t){var i=e.nameAndMask.toUpperCase(),n=t.nameAndMask.toUpperCase();return i<n?-1:i>n?1:0}))}return{transformValidateAddress:i,transformAddressVerificationData:function(e,t){var i={formId:e.formId,isEdit:t};return e.addressOptions.forEach((function(e){e.originalAddress?(i.userEntered=e.address,i.userEntered.zipcode=n(i.userEntered.zipcode),i.customerEnteredPostalAddress=e.optionId):(i.systemRecommended=e.address,i.systemRecommended.zipcode=n(i.systemRecommended.zipcode),i.recommendedPostalAddress=e.optionId,i.postalAddressOption=e.optionId)})),i},transformValidateAddressDemographics:function(e){var t=i(e);return"USA"===e.mailingAddressType?t.stateCode=e.stateId:"CANADA"===e.mailingAddressType?t.stateCode=e.provinceId:"MILITARY"===e.mailingAddressType&&(t.stateCode=e.militaryRegionId),t},transformArrayByAssociatedFlag:function(e){var t=[],i=[];return e.forEach((function(e){e.associated?i.push(e):t.push(e)})),r(i),r(t),i.concat(t)},transformArrayByNameAndMask:r,checkForAllAccountsSelected:function(e){return Boolean(e)&&Boolean(e.length)&&-1===e.findIndex((function(e){return!e.checked}))}}})),define("profileArea/sharedLib/dataTransform/mailingAddress/deserializers",["require","appkit-utilities/content/dcu","profileArea/sharedLib/profileConstants","common/lib/fakeComponent","profileArea/sharedLib/dataTransform/mailingAddress/transformers","profileArea/sharedLib/dataTransform/phone/transformers","profileArea/sharedLib/dataTransform/mailingAddress/mailingAddressUtils"],(function(e){"use strict";var t,i=e("appkit-utilities/content/dcu").dynamicContent,n=e("profileArea/sharedLib/profileConstants"),r=e("common/lib/fakeComponent"),a=r("MY_PROFILE_ADDRESS"),o=r("GLOBAL","app"),s=r("MY_PROFILE_BROKERAGE_ACCOUNTS"),c=e("profileArea/sharedLib/dataTransform/mailingAddress/transformers")(),l=e("profileArea/sharedLib/dataTransform/phone/transformers"),d=e("profileArea/sharedLib/dataTransform/mailingAddress/mailingAddressUtils"),u=n.MAILING_ADDRESS_CATEGORY,p=n.INVESTMENT_ACCOUNT_TYPES,m=!1;function f(e,i,n){var r,a=!1;(r=A(e,n)).mailingAddressCategory=n,n===u.PRIMARY&&(a=!0,r.deleteAllowed=!1),r.isPrimary=a,r.groupId=i,r.displayHeader=m,m=!1,t.push(r)}function A(e,t){var n,r={},a=e.associatedAccounts||[],s=-1,l=new Date;return r.stateId="","CAN"===e.countryCode?(n="CANADA",r.provinceId=e.stateCode,r.stateId="",r.militaryRegionId="",r.postalCode=e.zipcode,e.zipcode=""):"USA"!==e.countryCode?(n="INTERNATIONAL",r.postalCode=e.zipcode,e.zipcode=""):e.postOfficeType?(n="MILITARY",r.militaryRegionId=e.stateCode,r.provinceId="",r.stateId="",r.postalCode=""):(n="USA",r.stateId=e.stateCode,r.provinceId="",r.militaryRegionId="",r.postalCode=""),r.countryId=e.countryCode,r.mailingAddressType=n,r.mailingAddressLineOne=e.line1||"",r.mailingAddressLineTwo=e.line2||"",r.mailingAddressLineThree=e.line3||"",r.city=e.city,r.postOfficeType=e.postOfficeType||"APO",r.mailingAddressEffectiveDate=E(e.fromDate),r.mailingAddressEndDate=E(e.toDate),r.accountDisplayName=e.nameAndMask,r.mailingAddressDateRangeFrequency=e.everyYear,function(e,t){t=t||"","INTERNATIONAL"!==e.mailingAddressType&&9===t.length?(e.zipCode=t.substring(0,5),e.zipCodeExtension=t.substring(5)):e.zipCode=t}(r,e.zipcode),r.id=e.id,r.updateAllowed=e.updateAllowed,r.deleteAllowed=e.deleteAllowed,r.associatedAccounts=c.alphabetize(a,"nameAndMask"),t!==u.PRIMARY&&(s=a.findIndex((function(e){return p.indexOf(e.accountType)>-1})),r.showTooltip=s>-1),r.mailingAddressEndDateForView=y(e.toDate),r.mailingAddressEffectiveDateForView=y(e.fromDate),r.mode="VIEW",r.messageInfo="",r.countryId&&"USA"!==r.countryId&&(r.countryDisplayName=i.get(o,"countryName."+r.countryId)),r.currentDate=l.getMonth()+1+"/"+l.getDate()+"/"+l.getFullYear(),r}function g(e){var t,i,n=[],r=[],a=function(e,t){e.forEach((function(e){e.checked=e.associated=t,p.indexOf(e.accountType)>-1?n.push(e):r.push(e)}))};return e.associatedAccounts&&a(e.associatedAccounts,!0),e.eligibleAccounts&&a(e.eligibleAccounts,!1),n=d.transformArrayByAssociatedFlag(n),t=(r=d.transformArrayByAssociatedFlag(r)).filter((function(e){return e.associated})).length>0,i=n.filter((function(e){return e.associated})).length>0,{associatedAccounts:e.associatedAccounts,bankAccounts:r,associatedBankAccounts:t,associatedInvestmentAccounts:i,eligibleAccounts:e.eligibleAccounts,investmentAccounts:n,isPrimaryAllowed:e.isPrimaryAllowed}}function E(e){var t;return e&&8===e.length&&(t=e.substring(4,6)+"/"+e.substring(6,8)+"/"+e.substring(0,4)),t}function y(e){var t;return e&&8===e.length&&(t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.substring(4,6)-1]+" "+parseInt(e.substring(6,8))+", "+e.substring(0,4)),t}function h(e){var t="INTERNATIONAL"===e.locale?l.formatInternationalNumber(e.phoneNumber):l.formatDomesticNumber(e.phoneNumber);if(Array.isArray(e.types))for(var i=0;i<e.types.length;i++){"WORK"===e.types[i]&&(e.extension=e.extension||"")}return{phoneNumber:t,phoneNumberExtension:e.extension}}return{transformMailingAddress:A,map:{"myProfile.mailingAddress.list.svc":function(e){var n={};return!1===e.groupsAvailable?e:(n.mailingAddressHeaderComponent=function(e){var t=e.statusCodes,i=!1,n=null,r=!1,a=!1,o=!1,s=null,c=[["DISABLED_MORTGAGE_ACCT","DISABLED_MORTGAGE_ACCOUNT"],["INVALID_MORTGAGE_ACCT_2","INVALID_MORTGAGE_ACCOUNT_TWO"],["INVALID_MORTGAGE_ACCT_1","INVALID_MORTGAGE_ACCOUNT_ONE"],["INVALID_MORTGAGE_ACCT_3","INVALID_MORTGAGE_ACCOUNT_THREE"]];t&&(i=t.indexOf("EXTERNAL_STUDENTLOAN_ACCOUNT")>-1,c.forEach((function(e){t.indexOf(e[0])>-1&&(n=e[1],r=!0)})),t.indexOf("INVALID_AUTO_LEASE_ACCT")>-1&&(n="INVALID_AUTO_LEASE_ACCOUNT",a=!0),t.indexOf("EXTERNAL_STUDENTLOAN_ACCT")>-1&&(n="INVALID_STUDENT_LOAN_ACCOUNT",o=!0),s=t.indexOf("RESTRICTED_ACCOUNT")>-1?"RESTRICTED_ACCOUNT":s,n=function(e,t,i,n){e&&t&&i?n="INVALID_MORTGAGE_STUDENT_LOAN_AUTO_LEASE_ACCOUNT":e&&i?n="INVALID_MORTGAGE_AND_AUTO_LEASE_ACCOUNT":e&&t?n="INVALID_MORTGAGE_AND_STUDENT_LOAN_ACCOUNT":t&&i&&(n="INVALID_STUDENT_LOAN_AND_AUTO_LEASE_ACCOUNT");return n}(r,o,a,n));return{noAddress:!(e.primaryAddress||e.secondaryAddresses&&e.secondaryAddresses.length||e.temporaryAddresses),noPrimaryAddress:!e.primaryAddress,hasOfflineAcctWarning:!!n,hasRestrictedAcctWarning:!!s,offlineAcctWarningKey:n,restrictedAcctWarningKey:s,hasExternalStudentLoanAcct:i,addTemporaryAddressAllowed:e.addTempAddressAllowed,addPermanentAddressAllowed:e.addPermanentAddressAllowed,accountCategories:e.groups,addAllowed:e.addAllowed,groupId:e.groupId}}(e),n.mailingAddressComponent=function(e){t=[],e.primaryAddress&&f(e.primaryAddress,e.groupId,u.PRIMARY);e.customerMailingAddress&&f(e.customerMailingAddress,e.groupId,u.CORRESPONDENCE);m=!0,e.secondaryAddresses&&e.secondaryAddresses.forEach((function(t){f(t,e.groupId,u.SECONDARY)}));e.temporaryAddresses&&e.temporaryAddresses.forEach((function(t){f(t,e.groupId,u.TEMPORARY)}));e.adminResidentialAddress&&f(e.adminResidentialAddress,e.groupId,u.RESIDENTIAL);for(var n=0;n<t.length;n++){var r=t[n],o={mailingAddresses:{mailingAddressLineOne:r.mailingAddressLineOne}};r.deleteMailingAddressAda=i.get(a,"deleteMailingAddressAda",o),r.editMailingAddressAda=i.get(a,"editMailingAddressAda",o)}return{groupId:e.groupId,mailingAddresses:t}}(e),e.investmentAccounts&&(n.mailingAddressBrokerageAccountsViewComponent={investmentAccounts:[]},e.investmentAccounts.forEach((function(e){n.mailingAddressBrokerageAccountsViewComponent.investmentAccounts.push({id:e.id,nameAndMask:e.nameAndMask,changeMailingAddressAda:i.get(s,"changeMailingAddressAda",{accountDisplayName:e.nameAndMask})})}))),n)},"myProfile.mailingAddress.addOptions.svc":g,"myProfile.mailingAddress.editOptions.svc":g,"myProfile.phoneList.svc":function(e){var t=[];return e.primaryPhone&&t.push(h(e.primaryPhone)),e.secondaryPhones&&e.secondaryPhones.forEach((function(e){t.push(h(e))})),t}}}})),define("profileArea/investments/trustedContact/services/trustedContact",["profileArea/sharedLib/dataTransform/mailingAddress/deserializers"],(function(e){"use strict";return function(t){var i,n,r={PATH:"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-investment-servicing/v1/tcp-options"},a={PATH:"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-investment-servicing/v1/tcp-details"},o={PATH:"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-investment-servicing/v1/tcp-details"},s={PATH:"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-investment-servicing/v1/verify-tcp-details"},c={PATH:"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-tcp-service/v1/tcp-options"},l={PATH:"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-tcp-service/v1/tcp-details"};function d(e){return{settings:{url:e,handleSuccess:function(e){return e}}}}function u(e){return{settings:{url:e,contentType:"application/json"}}}function p(e){return{settings:{url:e,type:"GET"}}}this.serviceInterceptors=[{before:function(e){if(e.sendAsPathParams){var t=e.data;if(t){var i={addressLine1Text:t.addressLine1,postalCode:t.zipCode,cityName:t.city,stateProvinceCode:t.stateCode,partyTypeCode:"I"};t.addressLine2&&(i.addressLine2Text=t.addressLine2),t.countryCode&&(i.countryCode=t.countryCode),e.beforeSend=function(e){e.setRequestHeader("path-params",JSON.stringify(i))}}e.data={}}return e}}],this.serviceCalls={trustedContactNormalizePartyAddressService:(n=domainUrl+"/svc/wr/oao/public/address/normalize/jpmc/customer/identity-resolution/v1/normalize-party-address",{settings:{sendAsPathParams:!0,type:"GET",contentType:"application/json",url:n}}),getCityState:d(t.config.serviceUrl+"/svc/wr/oao/public/v2/citystate/list"),verifyTrustedContactService:d(t.config.serviceUrl+"/svc/wr/dwm/secure/profile/v1/tcp/verify"),getMailingAddress:(i=t.config.serviceUrl+"/svc/rr/profile/secure/v1/address/profile/list",{settings:{url:i,handleSuccess:e.map["myProfile.mailingAddress.list.svc"]||null}}),getDisclosuresPdfUrlAndVersionService:function(e){return{settings:{url:e,type:"GET",disableCsrf:!0,dataType:"json",xhrFields:{withCredentials:!1}}}}(t.config.APP_CQ5_HOST_CARD+"/content/legal-agreements/legal-agreements-library/en/groups/legal-agreements/dwm_olt_tcp_la.json"),trustedContactAccountDetailsServiceSDAI:p(domainUrl+a.PATH),trustedContactAccountsListServiceSDAI:p(domainUrl+r.PATH),trustedContactUpdateListServiceSDAI:u(domainUrl+o.PATH),verifyTrustedContactServiceSDAI:u(domainUrl+s.PATH),trustedContactAccountDetailsServiceAWS:p(domainUrl+l.PATH),trustedContactAccountsListServiceAWS:p(domainUrl+c.PATH)}}})),define("profileArea/sharedLib/serviceConfigHelper",[],(function(){"use strict";return{getEmulationSettings:function(e,t){let i=["requestedPersonId","emulationTokenIdentifier"].some((t=>function(e,t){let i=e[t];return"string"==typeof i?i.length>0&&"null"!==i:"number"==typeof i}(e,t))),n=t.url;return i&&(t.url=n+(n.includes("?")?"&":"?")+"rpi="+e.requestedPersonId,t.headers={emulationTokenIdentifier:e.emulationTokenIdentifier}),t},svcProps:function(e,t){return{settings:{url:e,method:t||"POST",contentType:"application/json",dataType:"json"}}}}})),define("profileArea/investments/dividendsAndCapitalGains/services/dividendsAndCapitalGains",["require","profileArea/sharedLib/serviceConfigHelper"],(function(e){"use strict";return function(t){const i=e("profileArea/sharedLib/serviceConfigHelper"),n=t.config.serviceUrl;var r;this.serviceCalls={getAccountDetailsExpApi:i.getEmulationSettings(t,i.svcProps(n+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-trade-servicing/v2/drip-accounts/preferences","GET")),getPositionDetailsExpApi:i.getEmulationSettings(t,i.svcProps(n+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-trade-servicing/v2/drip-accounts/positions/preferences","GET")),updateReinvestmentSettingsExpApi:i.svcProps(n+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-trade-servicing/v2/drip-accounts/update-preferences"),getTermsAndConditions:(r=t.config.APP_CQ5_HOST_CARD+"/content/managed-services/digital-ui/en/profile-and-settings/dividend-auto-reinvest-terms-conditions.json",{settings:{url:r,type:"GET",xhrFields:{withCredentials:!1},disableCsrf:!0}})}}})),define("profileArea/investments/suitability/services/areaContainer",["require","profileArea/sharedLib/serviceConfigHelper","common/interceptor/urlInterceptor"],(function(e){"use strict";var t=e("profileArea/sharedLib/serviceConfigHelper");return function(i){var n=i.config.serviceUrl,r=e("common/interceptor/urlInterceptor");this.serviceCalls={requestClientDataExpApi:t.getEmulationSettings(i,t.svcProps(n+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-investment-profile-suitability/v2/suitability-eligible-accounts","GET"))},this.serviceInterceptors=[r]}})),define("profileArea/investments/suitability/services/workflow",["require","profileArea/sharedLib/serviceConfigHelper","common/interceptor/urlInterceptor"],(function(e){"use strict";var t=e("profileArea/sharedLib/serviceConfigHelper");return function(i){var n=i.config.serviceUrl,r=e("common/interceptor/urlInterceptor");this.serviceCalls={getAccountDataExpApi:t.getEmulationSettings(i,t.svcProps(n+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-investment-profile-suitability/v2/profileaccount-suitability-details","GET")),requestMetadataExpApi:t.getEmulationSettings(i,t.svcProps(n+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-investment-profile-suitability/v2/suitability-questionnaires","GET")),updateSuitabilityExpApi:t.getEmulationSettings(i,t.svcProps(n+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-investment-profile-suitability/v2/profileaccount-suitability-details","PUT"))},this.serviceInterceptors=[r]}})),define("profileArea/investments/suitability/services/helpWithThis",[],(function(){"use strict";return function(e){var t=this,i=e.config.APP_CQ5_HOST_CARD;t.onInit=function(){var e={},n={getHelp:i+"/content/managed-services/dwm/en/investment-profile/help-with-this-page.json"};Object.keys(n).forEach((function(t){e[t]={settings:{type:"GET",disableCsrf:!0,xhrFields:{withCredentials:!1},url:n[t]}}})),t.serviceCalls=e}}})),define("profileArea/investments/beneficiaries/services/beneficiaries",[],(function(){"use strict";return function(e){var t,i={PATH:"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-investment-servicing/v1/beneficiary-options"},n={PATH:"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-investment-servicing/v1/beneficiaries"};function r(e){return{settings:{url:e}}}function a(e){return{settings:{url:e,type:"GET",xhrFields:{withCredentials:!1},disableCsrf:!0}}}function o(e){return{settings:{url:e,type:"GET"}}}this.serviceInterceptors=[{before:function(e){if(e.sendAsPathParams){var t=e.data;if(t){var i={addressLine1Text:t.addressLine1,postalCode:t.zipCode,cityName:t.city,stateProvinceCode:t.stateCode,partyTypeCode:"I"};t.addressLine2&&(i.addressLine2Text=t.addressLine2),t.countryCode&&(i.countryCode=t.countryCode),e.beforeSend=function(e){e.setRequestHeader("path-params",JSON.stringify(i))}}e.data={}}return e}}],this.serviceCalls={getCityState:r(domainUrl+"/svc/wr/oao/public/v2/citystate/list"),validateAddressLegacy:r(domainUrl+"/svc/rr/profile/public/v2/address/validate"),validateAddress:(t=domainUrl+"/svc/wr/oao/public/address/normalize/jpmc/customer/identity-resolution/v1/normalize-party-address",{settings:{sendAsPathParams:!0,url:t,type:"GET",contentType:"application/json"}}),getBeneficiariesTypeDisclaimers:a(e.config.APP_CQ5_HOST_CARD+"/content/legal-disclaimers/digital-ui/en/categories/dwm-update-beneficiaries.json"),getBeneficiariesRetireLegalAgreement:a(e.config.APP_CQ5_HOST_CARD+"/content/legal-agreements/digital-ui/en/categories/retirement-acct-beneficiaries.json"),getBeneficiariesTodLegalAgreement:a(e.config.APP_CQ5_HOST_CARD+"/content/legal-agreements/digital-ui/en/categories/tod-acct-beneficiaries.json"),getBeneficiariesTodLegalAgreementPdf:a(e.config.APP_CQ5_HOST_CARD+"/content/legal-agreements/legal-agreements-library/en/groups/legal-agreements/dwm_olt_tod_la.json"),getBeneficiariesTypeDetails:a(e.config.APP_CQ5_HOST_CARD+"/content/common-content/content-library/en/groups/important-information-about-beneficiaries.json"),getBeneficiariesAccountOptionsSDAI:o(domainUrl+i.PATH),getBeneficiariesDetailsSDAI:o(domainUrl+n.PATH),saveBeneficiariesSDAI:function(e){return{settings:{url:e,contentType:"application/json"}}}(domainUrl+n.PATH)}}})),define("profileArea/investments/marginApplication/services/marginApplication",["require","common/interceptor/urlInterceptor","profileArea/sharedLib/serviceConfigHelper"],(function(e){"use strict";var t=e("common/interceptor/urlInterceptor"),i=e("profileArea/sharedLib/serviceConfigHelper");return function(e){var n=e.config.serviceUrl,r=e.config.APP_CQ5_HOST_CARD;function a(e){return{settings:{type:"POST",url:e,contentType:"application/json"}}}function o(e){return{settings:{type:"GET",url:e,headers:{"x-jpmc-csrf-token":null},dataType:"text",xhrFields:{withCredentials:!1},disableCsrf:!0}}}this.serviceCalls={getOptionsTermsAndConditionsData:o(r+"/content/legal-agreements/legal-agreements-library/en/groups/legal-agreements/dwm_yip_trade_optionaccountla.json"),getMarginTermsAndConditionsData:o(r+"/content/legal-agreements/legal-agreements-library/en/groups/legal-agreements/dwm_yit_trade_marginaccount_la.json"),getAccountDataExpApi:i.getEmulationSettings(e,i.svcProps(n+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-trade-servicing/v1/options/margin-details?digital-account-identifier={{accountId}}","GET")),getAccountsListExpApi:i.getEmulationSettings(e,i.svcProps(n+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-trade-servicing/v1/options/margin-accounts","GET")),getPositionListExpApi:i.getEmulationSettings(e,i.svcProps(n+"/svc/wr/dwm/secure/gateway/investments/transactions/transaction-capture/digital-trade-order-entry/v1/positions","POST")),getOpenOrdersDataExpApi:i.getEmulationSettings(e,i.svcProps(n+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-trade-orders/v1/summaries","POST")),postOptionAccountDataExpApi:a(n+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-trade-servicing/v1/application-options"),postAccountDataExpApi:a(n+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-trade-servicing/v1/options/margin-details")},this.serviceInterceptors=[t]}})),define("profileArea/investments/marginHelp/services/marginHelp",[],(function(){"use strict";return function(e){const t=this,i=e.config.APP_CQ5_HOST_CARD;t.onInit=function(){var e={},n={getMarginHelpContent:i+"/content/site-services/managed-services/dwm/en/investments/margin-trading.json"};Object.keys(n).forEach((function(t){e[t]={settings:{type:"GET",disableCsrf:!0,xhrFields:{withCredentials:!1},url:n[t]}}})),t.serviceCalls=e}}})),define("profileArea/investments/optionsApplication/services/optionsApplication",["require","profileArea/sharedLib/serviceConfigHelper","common/interceptor/urlInterceptor"],(function(e){"use strict";return function(t){const i=t.config.serviceUrl,n=t.config.APP_CQ5_HOST_CARD,r=e("profileArea/sharedLib/serviceConfigHelper"),a=e("common/interceptor/urlInterceptor");function o(e){return{settings:{type:"POST",url:e,contentType:"application/json"}}}function s(e){return{settings:{type:"GET",url:e,headers:{"x-jpmc-csrf-token":null},dataType:"text",xhrFields:{withCredentials:!1},disableCsrf:!0}}}this.serviceCalls={getOptionsTermsAndConditionsData:s(n+"/content/legal-agreements/legal-agreements-library/en/groups/legal-agreements/dwm_yip_trade_optionaccountla.json"),getMarginTermsAndConditionsData:s(n+"/content/legal-agreements/legal-agreements-library/en/groups/legal-agreements/dwm_yit_trade_marginaccount_la.json"),getAccountsListExpApi:r.getEmulationSettings(t,r.svcProps(i+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-trade-servicing/v1/application-options/accounts","GET")),postAccountDataExpApi:o(i+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-trade-servicing/v1/application-options"),getAccountDataEnhancedExpApi:r.getEmulationSettings(t,r.svcProps(i+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-trade-servicing/v1/options/margin-details?digital-account-identifier={{accountId}}","GET")),postMarginAccountDataExpApi:o(i+"/svc/wr/dwm/secure/gateway/investments/servicing/inquiry-maintenance/digital-trade-servicing/v1/options/margin-details")},this.serviceInterceptors=[a]}})),define("profileArea/investments/reportingTimeframe/services/reportingTimeframe",[],(function(){"use strict";return function(e){const t=e=>({settings:{url:e,handleSuccess:e=>e,handleError:e=>e}});this.serviceCalls={updateReportingTimeframe:t(e.config.serviceUrl+"/svc/wr/dwm/secure/portfolio/v1/intradaypricingpreference/update"),getReportingTimeframe:t(e.config.serviceUrl+"/svc/wr/dwm/secure/portfolio/v1/intradaypricingpreference/list")}}})),define("bluespec/my_profile_container",[],(function(){return{name:"MY_PROFILE_CONTAINER",data:{myProfilePageTitle:{type:"Description"}},states:{hubNavigationEnabled:!0,exitConfirmationOverlay:!0},actions:{requestMyProfileMenu:!0,exitMyProfile:!0,navigateToDashboard:!0,requestHubNavigation:!0},settings:{myProfileSectionHeader:!0,exitAda:!0,myProfileHeaderAda:!0}}})),define("bluespec/my_profile_menu",[],(function(){return{name:"MY_PROFILE_MENU",data:{profileMenuOptions:{type:"List",itemType:"Description"},activeMenuCategoryId:{type:"Description",exportable:!0}},actions:{expandMenuCategory:!0,collapseMenuCategory:!0,requestMyProfileOverview:!0,skipMenu:!0,skipBackToMenu:!0,updateMyOverviewDetails:!0,selectCustomerNameDetails:!0,selectMyPhoneDetails:!0,selectMyEmailDetails:!0,selectMyMailingAddressDetails:!0,updateMyLanguagePreferences:!0,requestEmailMarketingPreferences:!0,requestMailMarketingPreferences:!0,requestPhoneMarketingPreferences:!0,updateMyIncome:!0,requestDefaultSortOrder:!0,requestTransactionDateRange:!0,requestMyIPAddress:!0,resetPassword:!0,resetUserId:!0,updateSecurityCode:!0,requestSecurityCode:!0,requestUpdateDashboardSettings:!0,requestUpdateHomePage:!0,requestManageCustomGroups:!0,selectMyAccountSettings:!0,updateMyFavoriteAccounts:!0,requestMyAccountsDisplay:!0,updateMyPrimaryAccount:!0,requestManageLinkedAccounts:!0,requestMyAccountNicknames:!0,linkBusinessAccounts:!0,requestLinkBusinessAccounts:!0,requestUpdateAtmPin:!0,updateServicePlan:!0,requestChaseLinkedWebsites:!0,requestPrimaryAccount:!0,requestHideAccounts:!0,requestMyMerchantDirectory:!0,manageMyAlerts:!0,updateMyAlertsDeliverySettings:!0,requestMyAlertsHistory:!0,requestMyAlertsOptions:!0,suspendMyAlertsDelivery:!0,requestBillingPartnerServices:!0,requestAccountSafeOverview:!0,requestTwoFactorAuthentication:!0,requestEnrolledDevices:!0,requestLinkedApplications:!0,requestChasePayLinkedApp:!0,requestAccessHistory:!0,requestFinancialSoftwareAccess:!0,requestDataPrivacy:!0,requestExternalFinancialAccounts:!0,requestMyInvestmentDistributionSettings:!0,requestTrustedContact:!0,requestOptionsApplication:!0,requestMarginApplication:!0,requestInvestmentProfile:!0,requestEmploymentStatus:!0,requestEstateBeneficiaryCenter:!0,requestFullyPaidLending:!0,updateMyPaperlessPreferences:!0,updateMyTravelPreferences:!0,requestUpdateMyAtmPreferences:!0,updatePhoneBankingPreferences:!0,updateMyPrivacyPreferences:!0,updateMyChasepayPreferences:!0,manageTransactionLimits:!0,manageBeneficiaries:!0,manageFinancialProfile:!0,exitMyMailingAddressDetailsPromotionalMessage:!0,requestMyAlertsPromotionalMessage:!0,exitMyAlertsPromotionalMessage:!0,requestMyTravelPreferencesPromotionalMessage:!0,exitMyTravelPreferencesPromotionalMessage:!0,requestUpdateReportingTimeframe:!0,requestCardOnFile:!0,updateOverviewPreference:!0,requestMerchantServicesLocationDetails:!0,requestAccessIdentityLinking:!0,requestLanguagePreferences:!0,requestLegalNameChange:!0,requestCustomerName:!0,requestPrivacyPreferences:!0,requestPhoneDetails:!0,requestMailingDetails:!0,requestEmailDetails:!0,updateMyBusinessRevenue:!0},states:{myProfileOptionSelected:!0,hubNavigationEnabled:!0,focusPlacement:!0,exitConfirmationOverlay:!0},settings:{requestCardOnFileLabel:!0,exitLabel:!0,myProfileMenuHeader:!0,menuCategoryHeader:!0,personalDetailsHeader:!0,customerNameLabel:!0,legalNameLabel:!0,myOverviewDetailsLabel:!0,myPhoneDetailsLabel:!0,myEmailDetailsLabel:!0,myAddressDetailsLabel:!0,myMailingAddressDetailsPromotionalMessage:!0,updateMyLanguagePreferencesLabel:!0,updateMyIncomeLabel:!0,customizeSettingsHeader:!0,defaultSortOrderLabel:!0,transactionDateRangeLabel:!0,resetPasswordLabel:!0,resetUserIdLabel:!0,requestMyIPAddressLabel:!0,emailMarketingPreferencesLabel:!0,phoneMarketingPreferencesLabel:!0,mailMarketingPreferencesLabel:!0,updateSecurityCodeLabel:!0,myAccountSummaryHeader:!0,requestUpdateDashboardSettingsLabel:!0,requestUpdateHomePageLabel:!0,requestManageCustomGroupsLabel:!0,updateServicePlanLabel:!0,mySettingsHeader:!0,updateMyFavoriteAccountsLabel:!0,requestMyAccountsDisplayLabel:!0,updateMyPrimaryAccountLabel:!0,requestManageLinkedAccountsLabel:!0,requestMyAccountNicknamesLabel:!0,linkBusinessAccountsLabel:!0,requestUpdateAtmPinLabel:!0,requestChaseLinkeWebsitesLabel:!0,myMerchantDirectoryHeader:!0,requestMyMerchantDirectoryLabel:!0,myAlertsHeader:!0,myAlertsPromotionalMessage:!0,manageMyAlertsLabel:!0,updateMyAlertsDeliverySettingsLabel:!0,requestMyAlertsHistoryLabel:!0,suspendMyAlertsDeliveryLabel:!0,requestMyInvestmentDistributionSettingsLabel:!0,myInvestmentsHeader:!0,requestTrustedContactLabel:!0,requestOptionsApplicationLabel:!0,requestMarginApplicationLabel:!0,requestInvestmentProfileLabel:!0,requestEmploymentInformationLabel:!0,requestEstateBeneficiaryCenterLabel:!0,requestFullyPaidLendingLabel:!0,requestBillingPartnerServicesLabel:!0,moreSettingsLabel:!0,myPaperlessPreferencesLabel:!0,myTravelPreferencesLabel:!0,myTravelPreferencesPromotionalMessage:!0,myAtmPreferencesLabel:!0,myPhoneBankingPreferencesLabel:!0,myPrivacyPreferencesLabel:!0,myChasepayPreferencesLabel:!0,manageTransactionLimitsLabel:!0,currentMenuSelectionAda:!0,myMailingAddressDetailsPromotionalMessageAda:!0,myAlertsPromotionalMessageAda:!0,myTravelPreferencesPromotionalMessageAda:!0,skipMenuLabel:!0,skipBackToMenuLabel:!0,skipMenuAda:!0,skipBackToMenuAda:!0,exitProfileMenuAda:!0,requestAccountSafeOverviewLabel:!0,requestAccessSecurityHubLabel:!0,requestEnrolledDevicesLabel:!0,requestLinkedApplicationsLabel:!0,requestAccessHistoryLabel:!0,requestFinancialSoftwareAccessLabel:!0,manageBeneficiariesLabel:!0,manageFinancialProfileLabel:!0,requestChasePayLinkedAppLabel:!0,setReportingTimeframeLabel:!0,requestDataPrivacyLabel:!0,requestTwoFactorAuthenticationLabel:!0,requestExternalFinancialAccountsLabel:!0,updateOverviewPreferenceLabel:!0,requestMerchantServicesLocationDetailsLabel:!0,requestAccessIdentityLinkingLabel:!0,businessRevenueLabel:!0}}})),define("bluespec/update_confirmation",[],(function(){return{name:"UPDATE_CONFIRMATION",data:{payeeName:{type:"Description"},emailAddress:{type:"Description"},newEmailAddress:{type:"Email"},phoneNumber:{type:"Description"},updateLimitOptionName:{type:"Description"}},actions:{doNotUpdate:!0,confirmUpdate:!0},states:{updateConfirmationOverlay:!0},settings:{updateConfirmationHeader:!0,updateConfirmationMessage:!0,updateConfirmationAdvisory:!0,doNotUpdateLabel:!0,confirmUpdateLabel:!0,updateConfirmationErrorHeader:!0,updateConfirmationErrorAdvisory:!0,importantAda:!0,exitHelpMessageAda:!0}}})),define("bluespec/my_profile_overview",[],(function(){return{name:"MY_PROFILE_OVERVIEW",data:{myProfileTiles:{type:"List",items:{myProfileOverviewTagLine:"Description",myProfileTileSubHeader:"Description",myProfileOverviewTileMessage:"Description",myProfileCategoryLink:"Description"}}},actions:{requestMyProfilePersonalDetails:!0,requestMyProfileSignInAndSecurity:!0,requestMyProfileAccounts:!0,requestMyProfileAlerts:!0,requestMyProfileAccountSafe:!0,requestMyProfileInvestments:!0,requestMyProfilePayments:!0,requestMerchantServicesLocationDetails:!0,requestAccessIdentityLinking:!0,requestMyProfileBusinessDetails:!0},settings:{myProfileOverviewLabel:!0,myProfileOverviewSubHeader:!0,myProfileOverviewErrorHeader:!0,myProfileOverviewErrorAdvisory:!0,myProfileOverviewHeader:!0,myProfileOverviewTagLineLabel:!0,myProfileOverviewTileLabel:!0,myProfileOverviewTileMessage:!0,requestMyProfileCategoryLabel:!0,requestMyProfilePersonalDetailsAda:!0,requestMyProfileSignInAndSecurityAda:!0,requestMyProfileAccountsAda:!0,requestMyProfileAccountSafeAda:!0,requestMyProfileInvestmentsAda:!0,requestMyProfilePaymentsAda:!0,requestMerchantServicesLocationDetailsAda:!0,requestAccessIdentityLinkingAda:!0,requestMyProfileBusinessDetailsAda:!0}}})),define("bluespec/my_profile_email_address",[],(function(){return{name:"MY_PROFILE_EMAIL_ADDRESS",data:{emailAddresses:{type:"List",items:{emailAddressId:"Numbers",emailAddressCategory:"Description",emailAddress:"Email",primaryDesignation:"OnOff",accounts:{type:"List",items:{accountId:{type:"Description",exportable:!0},accountDisplayName:"Description"}},services:{type:"List",items:{serviceName:{type:"Description",exportable:!0},serviceStatus:"Description"}},alertsDeliveryNickname:"Description",emailFormatTypeOption:{type:"List",itemType:"Description"},emailFormatType:"Description"}},emailAddressErrorMessage:{type:"Description"},emailAddress:{type:"Description"},accounts:{type:"List",items:{accountId:{type:"Numbers",exportable:!0},accountDisplayName:"Description"}}},actions:{updateEmailAddress:!0,deleteEmailAddress:!0,confirmAddEmailAddress:!0,doNotAddEmailAddress:!0,confirmUpdateEmailAddress:!0,doNotUpdateEmailAddress:!0,addAccountsToEmailAddress:!0,updateAccountsToEmailAddress:!0,addOnlineSecurityToEmailAddress:!0,addAlertsToEmailAddress:!0,addQuickpayToEmailAddress:!0,requestEmailMarketingPreferences:!0,removeOnlineSecurityFromEmailAddress:!0,removeAlertsFromEmailAddress:!0,removeQuickpayFromEmailAddress:!0,manageMyAlerts:!0,manageQuickpayPreferences:!0,verifyEmailAddressForQuickpay:!0,confirmAddAlertsToEmailAddress:!0,doNotAddAlertsToEmailAddress:!0,saveEmailAddressChanges:!0,cancelEmailAddressChanges:!0,requestLinkedAccountsAndServicesHelpMessage:!0,exitLinkedAccountsAndServicesHelpMessage:!0,requestUnavailableEmailAddressForOnlineSecurityHelpMessage:!0,exitUnavailableEmailAddressForOnlineSecurityHelpMessage:!0,requestUnavailableEmailAddressForAlertsHelpMessage:!0,exitUnavailableEmailAddressForAlertsHelpMessage:!0,requestUnavailableEmailAddressForQuickpayHelpMessage:!0,exitUnavailableEmailAddressForQuickpayHelpMessage:!0,requestAddAccountsToEmailAddressUnavailableHelpMessage:!0,exitAddAccountsToEmailAddressUnavailableHelpMessage:!0,requestPrimaryEmailAddressForQuickpayHelpMessage:!0,exitPrimaryEmailAddressForQuickpayHelpMessage:!0,requestAlertsDeliveryNicknameHelpMessage:!0,exitAlertsDeliveryNicknameHelpMessage:!0,requestConfirmationMessageDetails:!0,exitConfirmationMessageDetails:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0,skipBack:!0},states:{addOnlineSecurityConfirmationOverlay:!0,addQuickpayConfirmationOverlay:!0,verifyQuickpayConfirmationOverlay:!0,deleteEmailAddressConfirmationOverlay:!0,removeServiceFromEmailAddressConfirmationOverlay:!0,updateEmailAddressConfirmationOverlay:!0,updateConfirmationOverlay:!0,exitConfirmationOverlay:!0},settings:{requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,saveLabel:!0,cancelLabel:!0,updateEmailAddressLabel:!0,updateEmailAddressHeader:!0,deleteEmailAddressLabel:!0,primaryEmailAddressMessage:!0,emailAddressLabel:!0,currentInformationForEmailAddressAda:!0,saveEmailAddressChangesLabel:!0,linkedAccountsAndServicesLabel:!0,linkedAccountsAndServicesHelpMessage:!0,updateNotAllowedLinkedAccountsAndServicesHelpMessage:!0,linkedAccountsLabel:!0,updateAccountsToEmailAddressLabel:!0,addAccountsToEmailAddressLabel:!0,addAccountsToEmailAddressOrMakePrimaryLabel:!0,linkedServicesLabel:!0,serviceName:!0,serviceStatus:!0,addOnlineSecurityToEmailAddressLabel:!0,addAlertsToEmailAddressLabel:!0,emailMarketingPreferencesLabel:!0,emailMarketingSettingsLabel:!0,emailMarketingSettingsAda:!0,addQuickpayToEmailAddressLabel:!0,removeServiceFromEmailAddressLabel:!0,manageMyAlertsLabel:!0,manageQuickpayPreferencesLabel:!0,verifyEmailAddressForQuickpayLabel:!0,primaryDesignationLabel:!0,emailAddressError:!0,requestServiceOnlineVerificationMaxoutHelpMessage:!0,addEmailAddressErrorHeader:!0,addEmailAddressErrorAdvisory:!0,addEmailAddressLabel:!0,addEmailAddressAda:!0,addEmailAddressAdvisory:!0,primaryEmailAddressLabel:!0,makeThisEmailAddressPrimaryLabel:!0,serviceIdentityVerificationAdvisory:!0,serviceQuickPayAdvisory:!0,alertsDeliveryNicknameLabel:!0,alertsDeliveryNicknameAda:!0,alertsDeliveryNicknameHelpMessage:!0,requestAlertsDeliveryNicknameHelpMessageAda:!0,alertsDeliveryNicknameAdvisory:!0,alertsDeliveryNicknameError:!0,emailFormatTypeOptionLabel:!0,emailFormatTypeLabel:!0,unavailableEmailAddressForOnlineSecurityHelpMessage:!0,unavailableEmailAddressForAlertsHelpMessage:!0,unavailableEmailAddressForQuickpayHelpMessage:!0,primaryEmailAddressForQuickpayHelpMessage:!0,addAccountsToEmailAddressUnavailableHelpMessage:!0,requestLinkedAccountsAndServicesHelpMessageAda:!0,requestAddAccountsToEmailAddressUnavailableHelpMessageAda:!0,requestUnavailableEmailAddressForOnlineSecurityHelpMessageAda:!0,requestUnavailableEmailAddressForAlertsHelpMessageAda:!0,requestUnavailableEmailAddressForQuickpayHelpMessageAda:!0,requestPrimaryEmailAddressForQuickpayHelpMessageAda:!0,exitHelpMessageAda:!0,beginHelpMessageAda:!0,endHelpMessageAda:!0,quickpayAda:!0,alertsAda:!0,updateEmailAddressAda:!0,deleteEmailAddressAda:!0,addAccountsToEmailAddressAda:!0,removeOnlineSecurityFromEmailAddressAda:!0,removeAlertsFromEmailAddressAda:!0,removeQuickpayFromEmailAddressAda:!0,manageMyAlertsAda:!0,manageQuickpayPreferencesAda:!0,verifyEmailAddressForQuickpayAda:!0,serviceStatusAda:!0,addOnlineSecurityToEmailAddressAda:!0,addAlertsToEmailAddressAda:!0,addQuickpayToEmailAddressAda:!0,errorAnnouncementAda:!0,currentSelectionAda:!0,endOfSelectionAda:!0,selectionUpdatesContentBelowAda:!0,skipBackLabel:!0,exitAda:!0}}})),define("profileArea/personalDetails/email/spec/emailSpec",["require","blue/util","bluespec/my_profile_email_address"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/my_profile_email_address");return t.object.merge(i,{data:{firstEnabledInput:{type:"Description"},emailAddress:{type:"Description"},isAccountCheckboxDirty:{type:"OnOff"},currentKeypath:{type:"Description"},alertsDeliveryNickname:{type:"Description"},v:{type:"Description"},caasChallenge:{type:"OnOff"},ariaLiveErrorText:{type:"Description"},$authenticationError:{type:"Description"},isMicroAppEnabled:{type:"Description"}},actions:{updateCheckedValue:!0},states:{showLoader:!0,submissionLoader:!0,showEmailMarketingPreferences:!0}})})),define("bluespec/my_profile_email_address_summary",[],(function(){return{name:"MY_PROFILE_EMAIL_ADDRESS_SUMMARY",data:{emailAddress:{type:"Email"},emailAddresses:{type:"List",itemType:"Email"},newEmailAddress:{type:"Email"},dataError:{type:"List",itemType:"Description"},serviceName:{type:"Description",exportable:!0},accountCategories:{type:"List",items:{accountCategoryId:"Numbers",accountCategoryName:"Description"}},accountCategoryId:{type:"Description"}},actions:{addEmailAddress:!0,updateMyAlertsDeliverySettings:!0,suspendMyAlertsDelivery:!0,updateMyPaperlessPreferences:!0,requestContactUs:!0,requestConfirmationMessageDetails:!0,requestEmailMarketingPreferences:!0,exitConfirmationMessageDetails:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0,manageQuickpayPreferences:!0,requestAccountCategory:!0},settings:{requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,emailAddressHeader:!0,emailAddressHeaderAda:!0,emailAddressAdvisory:!0,accountCategoriesLabel:!0,addEmailAddressLabel:!0,addEmailAddressAda:!0,opensFormAda:!0,closesFormAda:!0,myProfileEmailAddressErrorHeader:!0,myProfileEmailAddressErrorAdvisory:!0,importantAda:!0,myProfileEmailAddressConfirmationHeader:!0,myProfileEmailAddressConfirmationAdvisory:!0,checkmarkAda:!0,updateMyAlertsDeliverySettingsLabel:!0,updateMyPaperlessPreferencesLabel:!0,noEmailAddressAvailableMessage:!0,noEmailAddressAvailableAdvisory:!0,informationAda:!0,addPartnerAdvisory:!0,updatePartnerAdvisory:!0,additionalPartnerMessage:!0,partnerContactDetails:!0,currentSelectionAda:!0,endOfSelectionAda:!0,updatesContentBelowAda:!0,authenticationResultErrorHeader:!0,authenticationResultErrorAdvisory:!0}}})),define("profileArea/personalDetails/email/spec/emailHeaderSpec",["require","blue/util","bluespec/my_profile_email_address_summary"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/my_profile_email_address_summary");return t.object.merge(i,{data:{messageInfo:{type:"List"},emailAddressAdvisoryVariation:{type:"Description"},userType:{type:"Description"},caasErrorHeader:{type:"Description"},caasErrorAdvisory:{type:"Description"}},states:{pageLoading:!0,addAllowed:!0}})})),define("bluespec/add_online_security_confirmation",[],(function(){return{name:"ADD_ONLINE_SECURITY_CONFIRMATION",data:{emailAddress:{type:"Email"},phoneNumber:{type:"Description"}},actions:{useEmailForOnlineSecurity:!0,doNotUseEmailForOnlineSecurity:!0,confirmAddOnlineSecurityToEmailAddress:!0,doNotAddOnlineSecurityToEmailAddress:!0,confirmAddOnlineSecurityToPhoneNumber:!0,doNotAddOnlineSecurityToPhoneNumber:!0},settings:{onlineSecurityHeader:!0,onlineSecurityAdvisory:!0,useEmailForOnlineSecurityLabel:!0,doNotUseEmailForOnlineSecurityLabel:!0,useItLabel:!0,doNotUseItLabel:!0,addOnlineSecurityConfirmationErrorHeader:!0,addOnlineSecurityConfirmationErrorAdvisory:!0,importantAda:!0}}})),define("bluespec/remove_service_from_email_address_confirmation",[],(function(){return{name:"REMOVE_SERVICE_FROM_EMAIL_ADDRESS_CONFIRMATION",data:{emailAddress:{type:"Email"},serviceName:{type:"Description",exportable:!0}},actions:{confirmRemoveOnlineSecurityFromEmailAddress:!0,doNotRemoveOnlineSecurityFromEmailAddress:!0,confirmRemoveQuickpayFromEmailAddress:!0,doNotRemoveQuickpayFromEmailAddress:!0,confirmRemoveAlertsFromEmailAddress:!0,doNotRemoveAlertsFromEmailAddress:!0},settings:{removeServiceFromEmailAddressLabel:!0,doNotRemoveServiceFromEmailAddressLabel:!0,removeServiceFromEmailAddressConfirmationHeader:!0,removeServiceFromEmailAddressConfirmationAdvisory:!0,removeServiceFromEmailAddressConfirmationErrorHeader:!0,removeServiceFromEmailAddressConfirmationErrorAdvisory:!0,importantAda:!0}}})),define("bluespec/update_email_address_confirmation",[],(function(){return{name:"UPDATE_EMAIL_ADDRESS_CONFIRMATION",data:{emailAddress:{type:"Email"},newEmailAddress:{type:"Email"}},actions:{confirmUpdateEmailAddress:!0,doNotUpdateEmailAddress:!0},settings:{updateEmailAddressHeader:!0,updateEmailAddressAdvisory:!0,confirmUpdateEmailAddressLabel:!0,doNotUpdateEmailAddressLabel:!0,updateEmailAddressConfirmationErrorHeader:!0,updateEmailAddressConfirmationErrorAdvisory:!0,importantAda:!0}}})),define("bluespec/delete_email_address_confirmation",[],(function(){return{name:"DELETE_EMAIL_ADDRESS_CONFIRMATION",data:{emailAddress:{type:"Email"},accounts:{type:"List",items:{accountId:{type:"Description",exportable:!0},accountDisplayName:"Description"}},services:{type:"List",items:{serviceName:{type:"Description",exportable:!0}},exportable:!0},accountDisplayNames:{type:"Description"},serviceNames:{type:"Description"},newEmailAddress:{type:"Email"},emailAddresses:{type:"List",items:{emailAddress:"Email"}}},actions:{deleteEmailAddress:!0,doNotDeleteEmailAddress:!0,updateEmailAddress:!0,doNotUpdateEmailAddress:!0},settings:{deleteEmailAddressHeader:!0,deleteEmailAddressAdvisory:!0,deleteEmailAddressLabel:!0,doNotDeleteEmailAddressLabel:!0,updateEmailAddressLabel:!0,doNotUpdateEmailAddressLabel:!0,deleteEmailAddressConfirmationErrorHeader:!0,deleteEmailAddressConfirmationErrorAdvisory:!0,importantAda:!0}}})),define("bluespec/verify_quickpay_confirmation",[],(function(){return{name:"VERIFY_QUICKPAY_CONFIRMATION",data:{emailAddress:{type:"Email"},phoneNumber:{type:"Description"},activationCode:{type:"Numbers"}},actions:{exitVerifyQuickpayConfirmation:!0,requestVerificationCode:!0,requestVerifyActivationCode:!0,skipBack:!0},settings:{verifyQuickpayHeader:!0,verifyQuickpayAdvisory:!0,verifyQuickpayMessage:!0,activationCodeLabel:!0,requestVerificationCodeLabel:!0,requestVerifyActivationCodeLabel:!0,exitVerifyQuickpayConfirmationLabel:!0,verifyQuickpayConfirmationErrorHeader:!0,verifyQuickpayConfirmationErrorAdvisory:!0,importantAda:!0,skipBackLabel:!0}}})),define("bluespec/add_quickpay_confirmation",[],(function(){return{name:"ADD_QUICKPAY_CONFIRMATION",data:{emailAddress:{type:"Email"},phoneNumber:{type:"Description"}},actions:{requestActivationCode:!0,doNotAddQuickpay:!0},settings:{addQuickpayHeader:!0,addQuickpayMessage:!0,requestActivationCodeLabel:!0,doNotAddQuickpayLabel:!0,addQuickpayConfirmationErrorHeader:!0,addQuickpayConfirmationErrorAdvisory:!0,importantAda:!0}}})),define("bluespec/my_profile_phone_number_summary",[],(function(){return{name:"MY_PROFILE_PHONE_NUMBER_SUMMARY",data:{phoneNumber:{type:"Description"},newPhoneNumber:{type:"Description"},accountDisplayName:{type:"Description"},accountCategories:{type:"List",items:{accountCategoryId:"Numbers",accountCategoryName:"Description"}},accountCategoryId:{type:"Description"}},actions:{addPhoneNumber:!0,requestConfirmationMessageDetails:!0,exitConfirmationMessageDetails:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0,requestContactUs:!0,requestAccountCategory:!0},settings:{requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,phoneNumberHeader:!0,phoneNumberHeaderAda:!0,phoneNumberAdvisory:!0,accountCategoriesLabel:!0,primaryPhoneNumberMessage:!0,currentSelectionAda:!0,endOfSelectionAda:!0,updatesContentBelowAda:!0,addPhoneNumberLabel:!0,addPhoneNumberAda:!0,opensFormAda:!0,closesFormAda:!0,myProfilePhoneNumberErrorHeader:!0,myProfilePhoneNumberErrorAdvisory:!0,importantAda:!0,myProfilePhoneNumberConfirmationHeader:!0,myProfilePhoneNumberConfirmationAdvisory:!0,autoPhoneNumberDeleteConfirmationAdvisory:!0,checkmarkAda:!0,noPhoneNumberAvailableMessage:!0,noPhoneNumberAvailableAdvisory:!0,noPhoneNumberAvailableError:!0,informationAda:!0,addPartnerAdvisory:!0,updatePartnerAdvisory:!0,additionalPartnerMessage:!0,partnerContactDetails:!0,authenticationResultHeader:!0,authenticationResultAdvisory:!0,authenticationResultErrorHeader:!0,authenticationResultErrorAdvisory:!0}}})),define("profileArea/personalDetails/phone/spec/phoneHeader",["require","blue/util","bluespec/my_profile_phone_number_summary"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/my_profile_phone_number_summary");return t.object.merge(i,{states:{isContentLoading:!0,addAllowed:!0,isAutoAccount:!0,commercialUser:!0}})})),define("bluespec/my_profile_phone_number",[],(function(){return{name:"MY_PROFILE_PHONE_NUMBER",data:{phoneNumberDetails:{type:"List",items:{phoneNumberId:"Numbers",phoneNumberCategory:"Description",phoneNumber:"Description",phoneNumberTypes:{type:"List",items:{phoneNumberType:"Description",phoneNumberTypeId:"Description"}},phoneNumberType:{type:"Description"},phoneNumberExtension:"Numbers",phoneNumberRegionOption:{type:"List",items:{phoneNumberRegion:"Description",phoneNumberRegionId:"Description"}},phoneNumberRegion:"Description",accounts:{type:"List",items:{accountId:{type:"Description",exportable:!0},accountDisplayName:"Description"}},services:{type:"List",items:{serviceId:"Numbers",serviceName:{type:"Description",exportable:!0},serviceStatus:"Description"}},phoneUsagePreferenceNotAvailable:"Description"}},accounts:{type:"List",items:{accountId:{type:"Description",exportable:!0},accountDisplayName:"Description"}},phoneNumber:{type:"Description"}},actions:{updatePhoneNumber:!0,deletePhoneNumber:!0,updatePhoneUsagePreference:!0,updatePhoneNumberFormat:!0,addAccountsToPhoneNumber:!0,updateAccountsToPhoneNumber:!0,addAlertsToPhoneNumber:!0,addQuickpayToPhoneNumber:!0,removeAlertsFromPhoneNumber:!0,manageQuickpayPreferences:!0,verifyPhoneNumberForQuickpay:!0,manageMyAlerts:!0,confirmAddPhoneNumber:!0,doNotAddPhoneNumber:!0,confirmUpdatePhoneNumber:!0,doNotUpdatePhoneNumber:!0,activatePhoneForAlerts:!0,managePhoneForAlerts:!0,confirmAddAccountsToPhoneNumber:!0,doNotAddAccountsToPhoneNumber:!0,requestLinkedAccountsAndServicesHelpMessage:!0,exitLinkedAccountsAndServicesHelpMessage:!0,requestUnavailablePhoneNumberForAlertsHelpMessage:!0,exitUnavailablePhoneNumberForAlertsHelpMessage:!0,requestUnavailablePhoneNumberForQuickpayHelpMessage:!0,exitUnavailablePhoneNumberForQuickpayHelpMessage:!0,requestUnavailableAddAccountsHelpMessage:!0,exitUnavailableAddAccountsHelpMessage:!0,requestIneligiblePhoneNumberForAlertsHelpMessage:!0,exitIneligiblePhoneNumberForAlertsHelpMessage:!0,requestIneligibleWorkPhoneNumberForAlertsHelpMessage:!0,exitIneligibleWorkPhoneNumberForAlertsHelpMessage:!0,requestIneligiblePhoneNumberForQuickpayHelpMessage:!0,exitIneligiblePhoneNumberForQuickpayHelpMessage:!0,requestIneligibleWorkPhoneNumberForQuickpayHelpMessage:!0,exitIneligibleWorkPhoneNumberForQuickpayHelpMessage:!0,skipBack:!0,exitMyProfilePhoneNumber:!0},states:{updatePhoneUsagePreferenceOverlay:!0,removeServiceFromPhoneNumberConfirmationOverlay:!0,addQuickpayConfirmationOverlay:!0,verifyQuickpayConfirmationOverlay:!0,enrollConfirmationOverlay:!0,deletePhoneNumberConfirmationOverlay:!0,updateConfirmationOverlay:!0,exitConfirmationOverlay:!0},settings:{saveLabel:!0,cancelLabel:!0,skipBackLabel:!0,primaryDesignationLabel:!0,primaryPhoneNumberMessage:!0,phoneNumberLabel:!0,updatePhoneNumberLabel:!0,updatePhoneNumberHeader:!0,deletePhoneNumberLabel:!0,updatePhoneUsagePreferenceLabel:!0,phoneNumberTypeLabel:!0,phoneNumberExtensionLabel:!0,linkedAccountsAndServicesLabel:!0,linkedAccountsAndServicesHelpMessage:!0,updateNotAllowedLinkedAccountsAndServicesHelpMessage:!0,linkedAccountsLabel:!0,addAccountsToPhoneNumberLabel:!0,addAccountsToPhoneNumberOrMakePrimaryLabel:!0,linkedServicesLabel:!0,serviceName:!0,serviceStatus:!0,punctuationMarkOpenParenthesesLabel:!0,punctuationMarkCloseParenthesesLabel:!0,mathematicalSymbolPipeLabel:!0,addAlertsToPhoneNumberLabel:!0,addQuickpayToPhoneNumberLabel:!0,removeServiceFromPhoneNumberLabel:!0,manageMyAlertsLabel:!0,manageQuickpayPreferencesLabel:!0,verifyPhoneNumberForQuickpayLabel:!0,unavailablePhoneNumberForAlertsHelpMessage:!0,unavailablePhoneNumberForQuickpayHelpMessage:!0,ineligiblePhoneNumberForAlertsHelpMessage:!0,ineligibleWorkPhoneNumberForAlertsHelpMessage:!0,ineligiblePhoneNumberForQuickpayHelpMessage:!0,ineligibleWorkPhoneNumberForQuickpayHelpMessage:!0,unavailableAddAccountsHelpMessage:!0,addPhoneNumberHeader:!0,addPhoneNumberHeaderAda:!0,addPhoneNumberAdvisory:!0,primaryPhoneNumberLabel:!0,makeThisPhoneNumberPrimaryLabel:!0,phoneNumberType:!0,phoneNumberRegionLabel:!0,phoneNumberRegionOptionAda:!0,phoneNumberPlaceholder:!0,phoneNumberError:!0,phoneNumberExtensionError:!0,addPhoneNumberErrorHeader:!0,addPhoneNumberErrorAdvisory:!0,importantAda:!0,serviceAdvisory:!0,activatePhoneForAlertsLabel:!0,managePhoneForAlertsLabel:!0,currentInformationForPhoneNumberAda:!0,opensFormAda:!0,exitHelpMessageAda:!0,beginHelpMessageAda:!0,endHelpMessageAda:!0,requestLinkedAccountsAndServicesHelpMessageAda:!0,updatePhoneNumberAda:!0,deletePhoneNumberAda:!0,updatePhoneUsagePreferenceAda:!0,addAccountsToPhoneNumberAda:!0,removeAlertsFromPhoneNumberAda:!0,serviceStatusAda:!0,manageMyAlertsAda:!0,manageQuickpayPreferencesAda:!0,verifyPhoneNumberForQuickpayAda:!0,addAlertsToPhoneNumberAda:!0,addQuickpayToPhoneNumberAda:!0,errorAnnouncementAda:!0,readOnlyPhoneErrorHeader:!0,readOnlyPhoneErrorAdvisory:!0,requestUnavailableAddAccountsHelpMessageAda:!0,requestIneligiblePhoneNumberForAlertsAda:!0,requestIneligibleWorkPhoneNumberForAlertsHelpMessageAda:!0,requestIneligiblePhoneNumberForQuickpayAda:!0,requestIneligibleWorkPhoneNumberForQuickpayHelpMessageAda:!0,requestUnavailablePhoneNumberForAlertsHelpMessageAda:!0,requestUnavailablePhoneNumberForQuickpayHelpMessageAda:!0,phoneUsagePreferenceNotAvailableMessage:!0,currentSelectionAda:!0,endOfSelectionAda:!0,selectionUpdatesContentBelowAda:!0,exitAda:!0}}})),define("profileArea/personalDetails/phone/spec/phone",["require","blue/util","bluespec/my_profile_phone_number"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/my_profile_phone_number");return t.object.merge(i,{data:{firstEnabledInput:{type:"Description"},phoneNumberRegion:{type:"Description"},phoneNumberExtension:{type:"Numbers"},phoneEditEvent:{type:"Description"},phoneListIndex:{type:"Description"},caasStepUpEnabled:{type:"OnOff"},caasBlockInView:{type:"OnOff"},submitButtonDisabled:{type:"OnOff"},ariaLiveErrorText:{type:"Description"}},states:{isContentLoading:!0}})})),define("bluespec/delete_phone_number_confirmation",[],(function(){return{name:"DELETE_PHONE_NUMBER_CONFIRMATION",data:{phoneNumber:{type:"Description"},accounts:{type:"List",items:{accountId:{type:"Description",exportable:!0},accountDisplayName:"Description"}},services:{type:"List",items:{serviceName:{type:"Description",exportable:!0}},exportable:!0},accountDisplayNames:{type:"Description"},serviceNames:{type:"Description"},phoneNumbers:{type:"List",items:{phoneNumber:"Description"}},newPhoneNumber:{type:"Description"}},actions:{deletePhoneNumber:!0,doNotDeletePhoneNumber:!0,updatePhoneNumber:!0,doNotUpdatePhoneNumber:!0},settings:{deletePhoneNumberHeader:!0,deletePhoneNumberAdvisory:!0,deletePhoneNumberLabel:!0,doNotDeletePhoneNumberLabel:!0,updatePhoneNumberLabel:!0,doNotUpdatePhoneNumberLabel:!0,deletePhoneNumberConfirmationErrorHeader:!0,deletePhoneNumberConfirmationErrorAdvisory:!0,importantAda:!0}}})),define("bluespec/update_phone_usage_preference",[],(function(){return{name:"UPDATE_PHONE_USAGE_PREFERENCE",data:{phoneNumber:{type:"Description"},phoneUsagePreferenceOptions:{type:"List",items:{phoneUsagePreferenceOptionId:"Numbers",phoneUsagePreferenceOption:"Description",chosenUsagePreference:"OnOff"}},selectedPhoneUsagePreference:{type:"Description"},phoneCallsTextsAllowed:{type:"OnOff"}},actions:{confirmUpdatePhoneUsagePreference:!0,doNotUpdatePhoneUsagePreference:!0,requestMobilePhoneUsageConsent:!0,exitMobilePhoneUsageConsent:!0,skipBack:!0},states:{updatePhoneUsagePreferenceConfirmationOverlay:!0},settings:{phoneNumberLabel:!0,phoneCallsTextsAllowedLabel:!0,phoneCallsOnlyLabel:!0,manualOnlyLabel:!0,phoneCallsTextsAllowedMessage:!0,currentPhoneUsagePreferenceLabel:!0,currentPhoneUsagePreference:!0,phoneUsagePreferenceMessage:!0,confirmUpdatePhoneUsagePreferenceLabel:!0,doNotUpdatePhoneUsagePreferenceLabel:!0,updatePhoneUsagePreferenceErrorHeader:!0,updatePhoneUsagePreferenceErrorAdvisory:!0,phoneCallsTextsAllowedAda:!0,phoneCallsTextsAllowedLabelAda:!0,mobilePhoneUsageConsentAdvisory:!0,mobilePhoneUsageConsentMessage:!0,requestMobilePhoneUsageConsentLabel:!0,requestMobilePhoneUsageConsentAda:!0,exitMobilePhoneUsageConsentLabel:!0,exitMobilePhoneUsageConsentAda:!0}}})),define("profileArea/personalDetails/phone/spec/phoneTcpa",["require","blue/util","bluespec/update_phone_usage_preference"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/update_phone_usage_preference");return t.object.merge(i,{data:{addingPhone:{type:"OnOff"},seeMoreTcpa:{type:"OnOff"},modalFocusBackTarget:{type:"Description"}}})})),define("bluespec/update_phone_usage_preference_confirmation",[],(function(){return{name:"UPDATE_PHONE_USAGE_PREFERENCE_CONFIRMATION",data:{oldPhoneNumber:{type:"Description"},newPhoneNumber:{type:"Description"}},actions:{confirmUpdatePhoneUsagePreference:!0,doNotUpdatePhoneUsagePreference:!0},settings:{phoneNumberLabel:!0,phoneUsagePreferenceAdvisory:!0,newPhoneNumberLabel:!0,oldPhoneNumberLabel:!0,phoneNumberAdvisory:!0,confirmUpdatePhoneUsagePreferenceLabel:!0,doNotUpdatePhoneUsagePreferenceLabel:!0,updatePhoneUsagePreferenceConfirmationErrorHeader:!0,updatePhoneUsagePreferenceConfirmationErrorAdvisory:!0,importantAda:!0}}})),define("bluespec/enroll_confirmation",[],(function(){return{name:"ENROLL_CONFIRMATION",data:{phoneNumber:{type:"Description"},emailAddress:{type:"Email"},fundingAccounts:{type:"List",items:{fundingAccountDisplayNameId:"Description",fundingAccountDisplayName:"Description"}},fundingAccountDisplayNameId:{type:"Description"},moneyTransferContactName:{type:"Description"}},states:{exitConfirmationOverlay:!0},actions:{confirmEnroll:!0,doNotEnroll:!0,skipBack:!0},settings:{enrollConfirmationHeader:!0,enrollConfirmationAdvisory:!0,enrollConfirmationMessage:!0,confirmEnrollLabel:!0,doNotEnrollLabel:!0,enrollConfirmationErrorHeader:!0,enrollConfirmationErrorAdvisory:!0,importantAda:!0,fundingAccountLabel:!0,skipBackLabel:!0,currentSelectionAda:!0,endOfSelectionAda:!0}}})),define("bluespec/remove_service_from_phone_number_confirmation",[],(function(){return{name:"REMOVE_SERVICE_FROM_PHONE_NUMBER_CONFIRMATION",data:{phoneNumber:{type:"Description"},serviceName:{type:"Description",exportable:!0}},actions:{confirmRemoveOnlineSecurityFromPhoneNumber:!0,doNotRemoveOnlineSecurityFromPhoneNumber:!0,confirmRemoveQuickpayFromPhoneNumber:!0,doNotRemoveQuickpayFromPhoneNumber:!0,confirmRemoveAlertsFromPhoneNumber:!0,doNotRemoveAlertsFromPhoneNumber:!0},settings:{removeServiceFromPhoneNumberLabel:!0,doNotRemoveServiceFromPhoneNumberLabel:!0,removeServiceFromPhoneNumberConfirmationHeader:!0,removeServiceFromPhoneNumberConfirmationAdvisory:!0,removeServiceFromPhoneNumberConfirmationErrorHeader:!0,removeServiceFromPhoneNumberConfirmationErrorAdvisory:!0,importantAda:!0}}})),define("bluespec/brokerage_accounts_phone_number",[],(function(){return{name:"BROKERAGE_ACCOUNTS_PHONE_NUMBER",data:{accounts:{type:"List",items:{accountDisplayName:"Description",accountId:{type:"Description",exportable:!0}}},phoneNumber:{type:"Description"},phoneNumberRegionOption:{type:"List",items:{phoneNumberRegion:"Description",phoneNumberRegionId:"Description"}},phoneNumberRegion:{type:"Description"}},actions:{updatePhoneNumber:!0,confirmUpdatePhoneNumber:!0,doNotUpdatePhoneNumber:!0,skipBack:!0,exitBrokerageAccountPhoneNumber:!0},settings:{brokerageAccountsPhoneNumberHeader:!0,brokerageAccountsPhoneNumberHeaderAda:!0,updateBrokeragePhoneNumberHeader:!0,brokerageAccountsPhoneNumberMessage:!0,updatePhoneNumberLabel:!0,phoneNumberLabel:!0,updatePhoneNumberAda:!0,unitedStatesRegionLabel:!0,internationalRegionLabel:!0,phoneNumberPlaceholder:!0,phoneNumberError:!0,confirmUpdatePhoneNumberLabel:!0,doNotUpdatePhoneNumberLabel:!0,brokerageAccountsPhoneNumberErrorHeader:!0,brokerageAccountsPhoneNumberErrorAdvisory:!0,importantAda:!0,skipBackLabel:!0,exitAda:!0}}})),define("profileArea/personalDetails/phone/spec/brokerageAccountsPhoneNumber",["require","blue/util","bluespec/brokerage_accounts_phone_number"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/brokerage_accounts_phone_number");return t.object.merge(i,{states:{isContentLoading:!0},data:{submitButtonDisabled:{type:"OnOff"},phoneEditEvent:{type:"Description"},caasStepUpEnabled:{type:"OnOff"},caasBlockInView:{type:"OnOff"}}})})),define("bluespec/my_profile_address_delete_confirmation",[],(function(){return{name:"MY_PROFILE_ADDRESS_DELETE_CONFIRMATION",data:{postalAddress:{type:"Description"},accountDisplayName:{type:"Description"},accountNicknameMask:{type:"Description"}},actions:{deleteAddress:!0,doNotDeleteAddress:!0},settings:{deleteAddressHeader:!0,deletePermanentMailingAddressSingleAccountAdvisory:!0,deleteTemporaryMailingAddressSingleAccountAdvisory:!0,deleteCorrespondenceMailingAddressSingleAccountAdvisory:!0,deletePermanentMailingAddressAdvisory:!0,deleteMailingAddressConfirmationLabel:!0,deleteTemporaryMailingAddressAdvisory:!0,deleteCorrespondenceMailingAddressAdvisory:!0,deleteAddressLabel:!0,doNotDeleteAddressLabel:!0,punctuationMarkCommaLabel:!0,punctuationMarkHyphenLabel:!0,myProfileAddressDeleteConfirmationErrorHeader:!0,myProfileAddressDeleteConfirmationErrorAdvisory:!0,importantAda:!0}}})),define("bluespec/my_profile_address_addition_verification",[],(function(){return{name:"MY_PROFILE_ADDRESS_ADDITION_VERIFICATION",data:{recommendedPostalAddress:{type:"Description"},customerEnteredPostalAddress:{type:"Description"},postalAddressOption:{type:"Description"}},actions:{addAddress:!0,doNotAddAddress:!0},settings:{addAddressVerificationHeader:!0,addAddressVerificationAdvisory:!0,recommendedAddressLabel:!0,customerEnteredAddressLabel:!0,addAddressLabel:!0,doNotAddAddressLabel:!0,punctuationMarkCommaLabel:!0,myProfileAddressAdditionVerificationErrorHeader:!0,myProfileAddressAdditionVerificationErrorAdvisory:!0,importantAda:!0}}})),define("bluespec/my_profile_brokerage_accounts",[],(function(){return{name:"MY_PROFILE_BROKERAGE_ACCOUNTS",data:{accountDisplayName:{type:"List",itemType:"Description"}},actions:{requestBrokerageAccounts:!0,changeMailingAddress:!0},states:{brokerageAccountAddressUpdateRequested:!0},settings:{myProfileBrokerageAddressHeader:!0,myProfileBrokerageAddressHeaderAda:!0,myProfileBrokerageAddressMessage:!0,changeMailingAddressLabel:!0,changeMailingAddressAda:!0,myProfileBrokerageAccountsErrorHeader:!0,myProfileBrokerageAccountsErrorAdvisory:!0,importantAda:!0}}})),define("bluespec/my_profile_address_update",[],(function(){return{name:"MY_PROFILE_ADDRESS_UPDATE",data:{accountDisplayName:{type:"Description"},mailingAddressCategory:{type:"Description"},mailingAddressLineOne:{type:"AddressLine"},mailingAddressLineTwo:{type:"AddressLine"},mailingAddressLineThree:{type:"AddressLine"},city:{type:"City"},states:{type:"List",items:{stateId:"Description",stateName:"Description"}},stateId:{type:"Description"},provinces:{type:"List",items:{provinceId:"Description",provinceName:"Description"}},provinceId:{type:"Description"},militaryRegions:{type:"List",items:{militaryRegionId:"Description",militaryRegionName:"Description"}},militaryRegionId:{type:"Description"},postalCode:{type:"PostalCode"},countries:{type:"List",items:{countryId:"Description",countryName:{type:"Description",exportable:!0}}},countryId:{type:"Description"},postOfficeType:{type:"Description"},postOfficeNumber:{type:"Numeric"},zipCode:{type:"ZipCode"},zipCodeExtension:{type:"ZipCodeExtension"},mailingAddressType:{type:"Description"}},actions:{saveMailingAddressChanges:!0,cancelMailingAddressChanges:!0,requestMailingAddressTypeDetails:!0,requestConfirmationMessageDetails:!0,exitConfirmationMessageDetails:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0,skipBack:!0},states:{viewDisplayed:!0},settings:{requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,saveLabel:!0,cancelLabel:!0,updateMailingAddressHeader:!0,mailingAddressLineOneLabel:!0,mailingAddressLineTwoLabel:!0,mailingAddressLineThreeLabel:!0,cityLabel:!0,stateLabel:!0,provinceLabel:!0,postalCodeLabel:!0,countryLabel:!0,zipCodeLabel:!0,updatesContentBelowAda:!0,mailingAddressLineOneError:!0,mailingAddressLineTwoError:!0,mailingAddressLineThreeError:!0,cityError:!0,stateError:!0,provinceError:!0,postalCodeError:!0,countryError:!0,zipCodeError:!0,zipCodeExtensionError:!0,mailingAddressTypeLabel:!0,postOfficeTypeApoLabel:!0,postOfficeTypeFpoLabel:!0,postOfficeTypeAda:!0,zipCodeExtensionAda:!0,unitedStatesLabel:!0,canadaLabel:!0,internationalLabel:!0,militaryLabel:!0,updateMailingAddressHeaderAda:!0,errorAnnouncementAda:!0,statePlaceholder:!0,countryPlaceholder:!0,provincePlaceholder:!0,punctuationMarkHyphenLabel:!0,myProfileAddressUpdateErrorHeader:!0,myProfileAddressUpdateErrorAdvisory:!0,importantAda:!0,currentSelectionAda:!0,endOfSelectionAda:!0,selectionUpdatesContentBelowAda:!0,skipBackLabel:!0,alternateMailingAddressLabel:!0}}})),define("profileArea/personalDetails/mailingAddress/spec/mailingAddressUpdateSpec",["require","bluespec/my_profile_address_update"],(function(e){"use strict";var t=e("bluespec/my_profile_address_update");return t&&t.data&&t.states&&delete t.data.states,t})),define("bluespec/my_profile_privacy_preferences",[],(function(){return{name:"MY_PROFILE_PRIVACY_PREFERENCES",data:{limitCreditWorthinessSharingOptions:{type:"List",items:{limitCreditWorthinessSharingOptionName:"Description",limitCreditWorthinessSharingOptionId:"Description"}},limitCreditWorthinessSharingOptionId:{type:"Description"},limitPersonalInformationNonAffiliatesOptions:{type:"List",items:{limitPersonalInformationNonAffiliatesOptionName:"Description",limitPersonalInformationNonAffiliatesOptionId:"Description"}},limitPersonalInformationNonAffiliatesOptionId:{type:"Description"},limitPersonalInformationAffiliatesOptions:{type:"List",items:{limitPersonalInformationAffiliatesOptionName:"Description",limitPersonalInformationAffiliatesOptionId:"Description"}},limitPersonalInformationAffiliatesOptionId:{type:"Description"},doNotShareWithinChaseOptions:{type:"List",items:{doNotShareWithinChaseOptionName:"Description",doNotShareWithinChaseOptionId:"Description"}},doNotShareWithinChaseOptionId:{type:"Description"},doNotShareOutsideChaseOptions:{type:"List",items:{doNotShareOutsideChaseOptionName:"Description",doNotShareOutsideChaseOptionId:"Description"}},doNotShareOutsideChaseOptionId:{type:"Description"},doNotShareSensitivePersonalInformationOptions:{type:"List",items:{doNotShareSensitivePersonalInformationOptionName:"Description",doNotShareSensitivePersonalInformationOptionId:"Description"}},doNotShareSensitivePersonalInformationOptionId:{type:"Description"},doNotShareCrossContextBehavioralAdvertisingOptions:{type:"List",items:{doNotShareCrossContextBehavioralAdvertisingOptionName:"Description",doNotShareCrossContextBehavioralAdvertisingOptionId:"Description"}},doNotShareCrossContextBehavioralAdvertisingOptionId:{type:"Description"},doNotSellInformationOptions:{type:"List",items:{doNotSellInformationOptionName:"Description",doNotSellInformationOptionId:"Description"}},doNotSellInformationOptionId:{type:"Description"}},actions:{doNotUpdatePrivacyPreferences:!0,updatePrivacyPreferences:!0,requestPreviousPage:!0,skipBack:!0,requestPrivacyPreferencesHelpMessage:!0,exitPrivacyPreferencesHelpMessage:!0,requestJPMorganPrivacyPolicy:!0},states:{exitConfirmationOverlay:!0},settings:{privacyPreferencesHeader:!0,privacyPreferencesAdvisory:!0,privacyPreferencesHelpMessage:!0,requestPrivacyPreferencesHelpMessageAda:!0,privacyPreferencesInformationLabel:!0,limitCreditWorthinessSharingLabel:!0,limitCreditWorthinessSharingMessage:!0,limitPersonalInformationNonAffiliatesLabel:!0,limitPersonalInformationNonAffiliatesMessage:!0,limitPersonalInformationAffiliatesLabel:!0,limitPersonalInformationAffiliatesMessage:!0,privacyPreferencesCaliforniaLabel:!0,doNotShareWithinChaseLabel:!0,doNotShareWithinChaseMessage:!0,doNotShareOutsideChaseLabel:!0,doNotShareOutsideChaseMessage:!0,doNotUpdatePrivacyPreferencesLabel:!0,updatePrivacyPreferencesLabel:!0,privacyPreferencesLeadTime:!0,privacyPreferencesConfirmationHeader:!0,preferencesLegalMessage:!0,privacyPreferencesErrorHeader:!0,privacyPreferencesErrorAdvisory:!0,updateConfirmationAdvisory:!0,yesLabel:!0,noLabel:!0,doNotSellInformationLabel:!0,doNotSellInformationMessage:!0,doNotShareSensitivePersonalInformationLabel:!0,doNotShareSensitivePersonalInformationMessage:!0,doNotShareCrossContextBehavioralAdvertisingLabel:!0,doNotShareCrossContextBehavioralAdvertisingMessage:!0}}})),define("bluespec/update_my_language_preferences",[],(function(){return{name:"UPDATE_MY_LANGUAGE_PREFERENCES",data:{globalLanguagePreferences:{type:"List",itemType:"Description"},globalLanguagePreference:{type:"Description"},chaseWebpageLanguagePreferences:{type:"List",itemType:"Description"},chaseWebpageLanguagePreference:{type:"Description"}},actions:{updateChaseWebpageLanguagePreferences:!0,doNotUpdateChaseWebpageLanguagePreferences:!0,updateGlobalLanguagePreferences:!0,doNotUpdateGlobalLanguagePreferences:!0,skipBack:!0,requestConfirmationMessageDetails:!0,exitConfirmationMessageDetails:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0},states:{exitConfirmationOverlay:!0,languageSupportDisclaimerOverlay:!0,errorState:!0},settings:{requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,updateMyLanguagePreferencesHeader:!0,requestMyProfileMenuAda:!0,currentInformationforLanguagePreferencesAda:!0,updateChaseWebpageLanguagePreferencesHeader:!0,updateChaseWebpageLanguagePreferencesMessage:!0,chaseWebpageLanguagePreferencesLabel:!0,chaseWebpageLanguagePreferencesOption:!0,updateGlobalLanguagePreferencesHeader:!0,updateGlobalLanguagePreferencesMessage:!0,globalLanguagePreferencesLabel:!0,globalLanguagePreferencesAda:!0,globalLanguagePreferencesOption:!0,globalLanguagePreferencesPlaceholder:!0,globalLanguagePreferencesMessage:!0,globalLanguagePreferencesAdvisory:!0,languagePreferencesNotApplicableDisclaimer:!0,informationAda:!0,saveLabel:!0,doNotUpdateLabel:!0,confirmUpdateMyLanguagePreferencesMessage:!0,confirmUpdateMyLanguagePreferencesAdvisory:!0,checkmarkAda:!0,globalLanguagePreferencesErrorHeader:!0,globalLanguagePreferencesErrorAdvisory:!0,importantAda:!0,currentSelectionAda:!0,endOfSelectionAda:!0,selectionUpdatesContentBelowAda:!0,skipBackLabel:!0}}})),define("profileArea/personalDetails/phoneMarketingPreferences/webspecs/phoneMarketingPreferences",{name:"Phone_Marketing_Preferences",actions:{requestPhoneMarketingPreferences:!0}}),define("profileArea/personalDetails/customerName/spec/eDocsFrame",[],(function(){"use strict";return{name:"EDOCS_FRAME",data:{pageUrl:!0,pageTitle:{type:"Description"}},actions:{},states:{},settings:{}}})),define("bluespec/default_sort_order",[],(function(){return{name:"DEFAULT_SORT_ORDER",data:{defaultAccountSortOrderOptionList:{type:"List",items:{accountSortOrderName:"Description",accountSortOrderId:"Description"}}},actions:{cancelDefaultSortUpdate:!0,saveDefaultSortUpdate:!0},settings:{confirmationMessage:!0,defaultSortOrderHeader:!0,sortOrderMessage:!0,accountNameLabel:!0,defaultAccountNameAda:!0,accountValueLabel:!0,defaultAccountValueAda:!0,serviceErrorHeader:!0,serviceErrorAdvisory:!0,saveLabel:!0}}})),define("profileArea/accountSettings/hideAccounts/spec/hideAccounts",["require","bluespec/account_display"],(function(e){"use strict";var t=e("bluespec/account_display");return t.states=t.states||{},t.states.hideConfirmationMessage=!0,t})),define("bluespec/hide_all_accounts_confirmation",[],(function(){return{name:"HIDE_ALL_ACCOUNTS_CONFIRMATION",actions:{doNotHideAllAccounts:!0,confirmHideAllAccounts:!0},settings:{hideAllAccountsConfirmationHeader:!0,hideAllAccountsConfirmationMessage:!0,confirmHideAllAccountsLabel:!0,doNotHideAllAccountsLabel:!0}}})),define("bluespec/account_nicknames",[],(function(){return{name:"ACCOUNT_NICKNAMES",data:{accountCategories:{type:"List",items:{accountCategoryName:"Description",accountCategoryId:"Description",accountNicknamesInfo:{type:"List",items:{accountNicknameCurrent:"Description",accountNicknameNew:"AlertsProfileNickname",accountMaskNumber:"Description",accountName:"Description",restoreDefaultOption:"OnOff"}}}},accountCategoryOptions:{type:"List",items:{accountCategoryOptionName:{type:"Description",exportable:!0},accountCategoryOptionId:"Description"}},accountCategoryOptionId:{type:"Description"},multiAccountCustomerState:{type:"OnOff"},accountNicknamesOptions:{type:"List",items:{accountNicknamesOptionsId:"Description",accountNicknamesOptionsName:"Description"}},accountNicknamesOptionsId:{type:"Description"},nicknameAccount:{type:"OnOff"},showAutoPopulateNicknameOptions:{type:"OnOff"}},actions:{updateAccountNicknames:!0,doNotUpdateAccountNicknames:!0,requestMyAccountsDisplay:!0,skipBack:!0,requestAccountCategoryOptions:!0,removeAccountNicknames:!0,requestAccountNicknamesOptions:!0},states:{exitConfirmationOverlay:!0,focusPlacement:!0,viewDisplayed:!0},settings:{accountNicknamesHeader:!0,requestMyProfileMenuAda:!0,currentInformationForAccountNickamesAda:!0,accountNicknamesMessage:!0,accountCategoryOptionsLabel:!0,accountCategoryOption:!0,businessLabel:!0,personalLabel:!0,accountNameLabel:!0,accountNicknameLabel:!0,accountNicknameNewError:!0,updateAccountNicknamesLabel:!0,doNotUpdateAccountNicknamesLabel:!0,accountNicknameAdvisory:!0,useDefaultAccountNicknameLabel:!0,accountNicknamesErrorHeader:!0,accountNicknamesErrorAdvisory:!0,accountNicknamesConfirmationHeader:!0,punctuationMarkOpenParenthesesLabel:!0,punctuationMarkCloseParenthesesLabel:!0,saveAccountNicknamesAdvisory:!0,checkmarkAda:!0,importantAda:!0,newNicknameAda:!0,removeNewNicknameAda:!0,informationAda:!0,hiddenAccountsMessage:!0,subAccountsMessage:!0,skipBackLabel:!0,accountsAda:!0,updatesContentBelowAda:!0,currentSelectionAda:!0,endOfSelectionAda:!0,accountNicknamesOptionsLabel:!0,accountNicknamesOption:!0}}})),define("profileArea/accountSettings/nicknameAccounts/spec/nicknameAccounts",["require","bluespec/account_nicknames"],(function(e){"use strict";var t=e("bluespec/account_nicknames");return t.states=t.states||{},t.data.unmodifiedAccountCategories={type:"Description"},t.data.readOnlyEvent={type:"Description"},t.data.isSubmitButtonDisabled={type:"Description"},t.data.isResetButtonDisabled={type:"Description"},t.data.isNicknameAccountMicroAppEnabled={type:"Description"},t})),define("profileArea/accountSettings/accountLinking/spec/otpOverlaySpec",["require","blue/util","bluespec/manage_linked_accounts"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/manage_linked_accounts");return t.object.merge(i,{data:{logoUrl:{type:"Description"}}})})),define("bluespec/link_business_accounts",[],(function(){return{name:"LINK_BUSINESS_ACCOUNTS",data:{documentDownloaded:{type:"OnOff"},systemAdministratorName:{type:"Description"},emailAddress:{type:"Email"},phoneNumber:{type:"Description"}},actions:{requestLinkBusinessAccounts:!0,confirmLinkBusinessAccounts:!0,requestDocumentDownloaded:!0,downloadDocument:!0,skipBack:!0,requestAdvisoryDetails:!0,exitAdvisoryDetails:!0},states:{exitConfirmationOverlay:!0},settings:{nameLabel:!0,emailAddressLabel:!0,phoneNumberLabel:!0,systemAdministratorInformationHeader:!0,systemAdministratorInformationMessage:!0,onlineLinkingAgreementHeader:!0,onlineLinkingAgreementMessage:!0,confirmLinkBusinessAccountsLabel:!0,documentDownloadedLabel:!0,linkBusinessAccountsHeader:!0,linkBusinessAccountsMessage:!0,linkBusinessAccountsConfirmationHeader:!0,linkBusinessAccountsConfirmationMessage:!0,linkBusinessAccountsErrorHeader:!0,linkBusinessAccountsErrorAdvisory:!0,exitHelpMessageAda:!0,beginHelpMessageAda:!0,endHelpMessageAda:!0,importantAda:!0,checkmarkAda:!0,exitAda:!0,skipBackLabel:!0}}})),define("profileArea/accountSettings/setPrimaryAccount/specs/setPrimaryAccount",[],(function(){"use strict";return{}})),define("bluespec/select_custom_accounts_group",[],(function(){return{name:"SELECT_CUSTOM_ACCOUNTS_GROUP",data:{standardGroups:{type:"List",items:{groupId:"Description",groupName:"Description",isDefaultSelected:"OnOff"}},customGroups:{type:"List",items:{groupId:"Description",groupName:"Description",isDefaultSelected:"OnOff"}},customGroupName:{type:"Description"}},actions:{requestEditGroup:!0,requestDeleteGroup:!0,requestCreateGroup:!0,requestDefaultView:!0,cancelRemoveCustomGroup:!0,confirmRemoveCustomGroup:!0,requestAccountsDashboard:!0,exitManageCustomGroups:!0,requestShowHideAccounts:!0},states:{errorState:!0,removeCustomGroupOverlay:!0},settings:{manageAccountGroupHeader:!0,manageAccountGroupAdvisory:!0,standardGroupsLabel:!0,customGroupsLabel:!0,defaultViewLabel:!0,requestEditGroupLabel:!0,requestEditGroupAda:!0,requestDeleteGroupLabel:!0,requestDeleteGroupAda:!0,requestDefaultViewLabel:!0,requestDefaultViewAda:!0,requestCreateGroupLabel:!0,requestCreateGroupAda:!0,removeCustomGroupMessage:!0,removeCustomGroupAdvisory:!0,cancelRemoveCustomGroupLabel:!0,confirmRemoveCustomGroupLabel:!0,customAccountsGroupErrorHeader:!0,customAccountsGroupErrorAdvisory:!0,customAccountsGroupSuccessHeader:!0,customAccountsGroupSuccessAdvisory:!0,requestAccountsDashboardLabel:!0,addGroupConfirmationMessage:!0,updateGroupConfirmationMessage:!0,seeMoreAda:!0,standardGroupAccountsLabel:!0,customGroupsEmptyMessage:!0,hiddenAccountsMessage:!0,mobileAppMessage:!0}}})),define("profileArea/accountSettings/manageCustomGroups/spec/selectCustomAccountsGroup",["require","bluespec/select_custom_accounts_group"],(function(e){"use strict";var t=e("bluespec/select_custom_accounts_group");return t.states=t.states||{},t.states.ecdModeIndicator=!0,t.states.showAccountsHiddenMessage=!0,t.states.focusPlacement=!0,t})),define("bluespec/create_custom_accounts_group",[],(function(){return{name:"CREATE_CUSTOM_ACCOUNTS_GROUP",data:{newCustomGroupName:{type:"Description"},accountGroups:{type:"List",items:{groupId:"Description",groupName:"Description",isAllAccountsSelected:"OnOff",accounts:{type:"List",items:{accountId:{type:"Description",exportable:!0},accountName:"Description",accountMaskNumber:"Description",isAccountsSelected:"OnOff"}}}},customGroupAccounts:{type:"List",itemType:"Description"},rearrangedCustomGroupAccounts:{type:"List",itemType:"Description"},excessAccountsSelected:{type:"Description"},isCustomAccountsSelected:{type:"OnOff"}},actions:{exitCreateGroup:!0,requestAccountsArrangement:!0,requestPreviousPage:!0,confirmCreateAccountGroup:!0,rearrangeAccounts:!0,selectAllAccounts:!0,selectAccount:!0,confirmExit:!0,doNotExit:!0,requestSelectedAccountGroups:!0},states:{errorState:!0,previousPageConfirmationOverlay:!0,exitConfirmationOverlay:!0},settings:{nameYourGroupLabel:!0,groupNameLabel:!0,chooseAccountsLabel:!0,chooseAccountsAdvisory:!0,chooseAllAccountsAda:!0,chooseAccountAda:!0,newCustomGroupNameError:!0,arrangeAccountsLabel:!0,arrangeAccountsAdvisory:!0,confirmCreateAccountGroupLabel:!0,previousPageConfirmationHeader:!0,previousPageConfirmationMessage:!0,doNotExitLabel:!0,confirmExitLabel:!0,skipBackAda:!0,createCustomAccountsGroupErrorHeader:!0,createCustomAccountsGroupErrorAdvisory:!0,selectAllAccountsLabel:!0,totalErrorsAda:!0}}})),define("profileArea/accountSettings/manageCustomGroups/spec/createCustomAccountsGroup",["require","bluespec/create_custom_accounts_group","blue/util"],(function(e){"use strict";var t=e("bluespec/create_custom_accounts_group"),i=e("blue/util");return t.data.progressCurrentStep={type:"Description"},t.states.focusPlacement=!0,t.states.triggerSubmitAda=!0,i.object.merge(t,{data:{accounts:{type:"description"},isAllAccountsSelected:{type:"description"}}})})),define("bluespec/manage_my_alerts_subscription",[],(function(){return{name:"MANAGE_MY_ALERTS_SUBSCRIPTION",data:{myAccountsAndServices:{type:"List",items:{accounts:{type:"List",items:{accountDisplayName:"Description",accountId:{type:"Description",exportable:!0},productId:{type:"Description",exportable:!0},rewardsTypeId:{type:"Description",exportable:!0},accountCategoryId:"Description"}},onlineSecurity:"Description"}},accountCategories:{type:"List",items:{accountCategoryId:"Numbers",accountCategoryName:"Description"}},accountDisplayName:{type:"Description"},myAlertsDeliveryInfo:{type:"List",items:{alertsDeliveryId:"Number",alertsDeliveryNickname:"Description",alertsDeliveryChannelInfo:"Description",primaryEmailAddressDesignation:"OnOff",alertsDeliveryStatus:"Description"}},alerts:{type:"List",items:{alertId:"Numbers",alertCategoryId:"Numbers",alertDescription:"Description",alertCategory:"Description",alertIndex:"Numbers",alertFrequency:"Description",alertName:"Description",thresholdAmount:"Money",paymentDueDays:"Numeric",checkNumber:"Numeric",percentageRate:"Numeric",paymentDueAmount:"Money",rewardPointsAvailable:"Numeric",requestorName:"Description",payorName:"Description",deliverySubscribed:"OnOff",deliveryInfo:{type:"List",items:{nicknameId:"Numbers",nickname:"Description",subscribed:"OnOff",deliveryType:"Description"}}}},alertCategories:{type:"List",items:{alertCategoryId:"Numbers",availableAlerts:"Numbers",subscribedAlerts:"Numbers",alertCategoryExpandedState:"OnOff"}},unsubscribedFromAllAlertsState:{type:"OnOff"},alertNickname:{type:"Description"},dataError:{type:"List",itemType:"Description"},alertMinimumValue:{type:"Numbers"},alertMaximumValue:{type:"Numbers"},textAlertVariations:{type:"List",items:{alertFrequencyHelpMessageVariation:"Description"}},fundingAccountName:{type:"Description",exportable:!0},fundingAccountMaskNumber:{type:"AccountMaskNumber"},minimumReloadAmount:{type:"Money"},reloadAmount:{type:"Money",exportable:!0}},actions:{requestMyAlertsForSelectedAccountOrService:!0,suspendMyAlertsDelivery:!0,updateMyLanguagePreferencesDetails:!0,updateMyAlertsDeliveryInfo:!0,updateMyAlertsDeliverySettings:!0,updateMyAlertsSubscription:!0,doNotUpdateMyAlertsSubscription:!0,requestAlertsCategoryDetails:!0,exitAlertsCatergoryDetails:!0,unsubscribeFromAllAlerts:!0,requestAlertFrequencyHelpMessage:!0,exitAlertFrequencyHelpMessage:!0,requestMarketAlerts:!0,requestConfirmationMessageDetails:!0,exitConfirmationMessageDetails:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0,requestFraudProtectionHelpMessage:!0,updateReloadPrepaidAccount:!0,requestReloadPrepaidAccountPreferences:!0,skipBack:!0},states:{alertCategoryExpanded:!0,unsubscribedFromAllAlerts:!0,unsubscribeFromAllAlertsConfirmationOverlay:!0,exitConfirmationOverlay:!0},settings:{manageMyAlertsSubscriptionHeader:!0,manageMyAlertsSubscriptionSubheader:!0,requestMyProfileMenuAda:!0,myAccountsAndServicesLabel:!0,onlineSecurityLabel:!0,creditJourneyLabel:!0,accountCategoryName:!0,suspendedAlertsMessage:!0,suspendedAlertsAdvisory:!0,manageMarketAlertsLabel:!0,requestMarketAlertsLabel:!0,requestMarketAlertsAda:!0,requiredSecurityNotificationsDisclaimerMessage:!0,requiredSecurityNotificationLabel:!0,manageMyAlertsSubscriptionSummaryErrorHeader:!0,manageMyAlertsSubscriptionSummaryErrorAdvisory:!0,checkmarkAda:!0,contentUpdatedBelowAda:!0,updateMyAlertsDeliveryInfoAda:!0,updateAlertsDisabledAdvisory:!0,updateAlertsDisabledMessage:!0,confirmUnsubscribeFromAllAlertsMessage:!0,confirmUnsubscribeFromAllAlertsAdvisory:!0,confirmUpdateMyAlertsSubscriptionMessage:!0,confirmUpdateMyAlertsSubscriptionDisclaimer:!0,currentSelectionAda:!0,endOfSelectionAda:!0,selectionUpdatesContentBelowAda:!0,myAlertsDeliveryMethodHeader:!0,myAlertsDeliveryMethodInfoLabel:!0,updateMyAlertsDeliveryInfoLabel:!0,alertsDeliveryStatusLabel:!0,primaryEmailAddressDesignationLabel:!0,updateMyAlertsDeliverySettingsLabel:!0,delayedAlertsHeader:!0,delayedAlertsAdvisory:!0,updateMyLanguagePreferencesDetailsHeader:!0,updateMyLanguagePreferencesDetailsAdvisory:!0,requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,alertCategoryDescription:!0,alertCategory:!0,alertsSubscribed:!0,alertCategoryHeader:!0,alertDescription:!0,alertFrequencyHelpMessageVariation:!0,alertFrequencyLabel:!0,alertFrequencyHelpMessage:!0,dirtyFormHeader:!0,dirtyFormAdvisory:!0,thresholdAmountLabel:!0,paymentDueDaysLabel:!0,checkNumberLabel:!0,percentageRateLabel:!0,paymentDueAmountLabel:!0,rewardPointsAvailableLabel:!0,requestorNameLabel:!0,payorNameLabel:!0,currencyDollarSymbolLabel:!0,mathematicalSymbolPercentageLabel:!0,currencyUsdLabel:!0,alertParameterPlaceholder:!0,updateMyAlertsSubscriptionLabel:!0,doNotUpdateMyAlertsSubscriptionLabel:!0,requestAlertsCategoryDetailsLabel:!0,exitAlertsCatergoryDetailsLabel:!0,unsubscribeFromAllAlertsLabel:!0,dirtyFormConfirmationLabel:!0,dirtyFormCancelLabel:!0,availableAlertsAda:!0,alertsDeliveryInfoAda:!0,opensDialogAda:!0,exitHelpMessageAda:!0,beginHelpMessageAda:!0,endHelpMessageAda:!0,rowExpandedAda:!0,rowCollapsedAda:!0,requestAlertFrequencyHelpMessageAda:!0,unsubscribeFromAllAlertsAda:!0,errorAnnouncementAda:!0,alertCategoryAda:!0,alertCategoriesError:!0,thresholdAmountError:!0,paymentDueDaysError:!0,checkNumberError:!0,percentageRateError:!0,paymentDueAmountError:!0,rewardPointsAvailableError:!0,deliverySubscribedError:!0,phoneInstantActionAlertsHeader:!0,phoneInstantActionAlertsMessage:!0,authorizeCardUserActivity:!0,smsSubscriptionLabel:!0,emailSubscriptionLabel:!0,manageMyAlertsSubscriptionsErrorHeader:!0,manageMyAlertsSubscriptionsErrorAdvisory:!0,emptyAlertsErrorHeader:!0,emptyAlertsErrorAdvisory:!0,reloadAlertTextLabel:!0,reloadPrepaidAccountLabel:!0,updateReloadPrepaidAccountLabel:!0,fundingAccountsLabel:!0,minimumReloadAmountLabel:!0,reloadAmountLabel:!0,reloadPrepaidAccountAlertMessage:!0,reloadPrepaidAccountErrorHeader:!0,reloadPrepaidAccountErrorAdvisory:!0,fundingAccountNameLabel:!0,fundingAccountLabel:!0,skipBackLabel:!0,removeChooseAlertsHeader:!0,removeChooseAlertsAdvisory:!0,pauseAlertsRemovedHeader:!0,unsubscribeDeliveryMethodsAda:!0}}})),define("profileArea/alerts/alertsDelivery/spec/alertsDeliveryHeaderSpec",["require","bluespec/my_alerts_delivery_summary"],(function(e){"use strict";var t=e("bluespec/my_alerts_delivery_summary");return t.data.items={type:"Description"},t})),define("bluespec/phone_banking",[],(function(){return{name:"PHONE_BANKING",data:{phoneBanking:{type:"OnOff"},phoneNumber:{type:"Description"},confirmedPhoneNumber:{type:"Phone"},identificationCode:{type:"IdentificationCode"},phoneBankingEnrollmentStatusOptions:{type:"List",items:{phoneBankingEnrollmentStatusOption:"Description",phoneBankingEnrollmentStatusOptionId:"Numbers"}},phoneNumbers:{type:"List",items:{phoneNumber:"Description",phoneBankingEnrollmentStatusOption:"Description",quickpayEnrollmentStatus:"Description",displayPhoneNumber:"Description"}},accounts:{type:"List",items:{accountId:{type:"Description",exportable:!0},accountName:"Description",accountMaskNumber:"Description",accountNickname:"Description",phoneBankingNickname:"Description",receiveTextMessages:"OnOff"}},phoneNumberOptions:{type:"List",items:{phoneNumber:"Description",displayPhoneNumber:"Description"}}},actions:{activatePhoneBanking:!0,updatePhoneBanking:!0,managePhoneBanking:!0,requestIdentificationCode:!0,updatePhoneBankingPreferences:!0,requestSecurity:!0,requestChaseOnlineServiceAgreement:!0,resendIdentificationCode:!0,updatePhoneBankingNicknames:!0,confirmActivatePhoneBanking:!0,requestMobileHelpDocument:!0,deletePhoneNumber:!0,manageQuickpayPreferences:!0,confirmUpdatePhoneBanking:!0,requestPhoneBankingEnrollmentStatusHelpMessage:!0,exitPhoneBankingEnrollmentStatusHelpMessage:!0,requestUpdateNicknameHelpMessage:!0,exitUpdateNicknameHelpMessage:!0,requestNewNumber:!0,requestManageContactInformation:!0,requestPrivacyPolicy:!0,requestConfirmationMessageDetails:!0,exitConfirmationMessageDetails:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0,skipBack:!0,print:!0,requestLegalAgreements:!0},states:{deleteConfirmationOverlay:!0,exitConfirmationOverlay:!0},settings:{phoneBankingHeader:!0,phoneBankingRemovalHeader:!0,phoneBankingRemovalAdvisory:!0,phoneBankingAdvisory:!0,phoneBankingDisclaimer:!0,phoneBankingLegalAgreement:!0,saveLabel:!0,cancelLabel:!0,nextLabel:!0,backLabel:!0,updateLabel:!0,deletePhoneNumberLabel:!0,actionsLabel:!0,activatePhoneBankingLabel:!0,updatePhoneBankingLabel:!0,confirmActivatePhoneBankingLabel:!0,requestSecurityLabel:!0,resendIdentificationCodeLabel:!0,requestChaseOnlineServiceAgreementLabel:!0,requestJPOOnlineServiceAgreementLabel:!0,requestNewNumberLabel:!0,requestPrivacyPolicyLabel:!0,requestManageContactInformationLabel:!0,phoneBankingEnrollmentLabel:!0,phoneNumberLabel:!0,phoneNumberAda:!0,phoneNumberError:!0,phoneNumberPlaceholder:!0,confirmedPhoneNumberLabel:!0,confirmedPhoneNumberError:!0,selectPhoneNumberPlaceholder:!0,selectPhoneNumberValidationError:!0,requestAddPhoneNumberErrorHeader:!0,requestAddPhoneNumberErrorAdvisory:!0,identificationCodeLabel:!0,identificationCodeError:!0,identificationCodeMessage:!0,identificationCodeAdvisory:!0,phoneBankingNicknamesHeader:!0,phoneBankingNicknamesAdvisory:!0,accountsLabel:!0,phoneBankingNicknameLabel:!0,phoneBankingEnrollmentStatusLabel:!0,phoneBankingEnrollmentStatus:!0,phoneBankingEnrollmentStatusHelpMessage:!0,phoneBankingJPOEnrollmentStatusHelpMessage:!0,requestMobileHelpDocumentLabel:!0,requestQuickPayEnrollmentLabel:!0,cancelQuickPayEnrollmentLabel:!0,receiveTextMessagesLabel:!0,phoneBankingNicknameError:!0,updateNicknameLabel:!0,updateNicknameHelpMessage:!0,mobileHelpDocumentHeader:!0,mobileHelpDocumentAdvisory:!0,phoneBankingErrorHeader:!0,phoneBankingErrorAdvisory:!0,phoneBankingConfirmationHeader:!0,phoneBankingConfirmationMessage:!0,requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,selectPhoneNumberError:!0,requestNewNumberConfirmationHeader:!0,requestMyProfileMenuAda:!0,importantAda:!0,checkmarkAda:!0,informationAda:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,skipBackLabel:!0,printAda:!0,requestPhoneBankingEnrollmentStatusHelpMessageAda:!0,requestUpdateNicknameHelpMessageAda:!0,beginHelpMessageAda:!0,endHelpMessageAda:!0,exitHelpMessageAda:!0,phoneNumbersAda:!0,phoneNumberRequiredMessageAda:!0,accountsAda:!0,newNicknameAda:!0,receiveTextMessagesAda:!0,opensDialogAda:!0}}})),define("profileArea/alerts/textBanking/spec/textBanking",["require","bluespec/phone_banking"],(function(e){"use strict";var t=e("bluespec/phone_banking");return t.data.originalAccountData={type:"Description"},t.states.state=!0,t.states.textAlerts=!0,t.data.phoneNumberOptions={type:"List"},t.data.textAlertsEnrollment={type:"OnOff"},t.data.validForm={type:"OnOff"},t.data.addPhoneNumberStatus={type:"Description"},t.data.selectedIndex={type:"Description"},t.data.phoneNumber={type:"Description"},t.data.enableCR124Features={type:"OnOff"},t.data.enablePhoneModule={type:"OnOff"},t})),define("@bluespec/cxo/dist/spec/layout",[],(function(){return{name:"LAYOUT",states:{accountActivityDisplayedState:!0},settings:{importantAda:!0}}})),define("bluespec/my_alerts_delivery",[],(function(){return{name:"MY_ALERTS_DELIVERY",data:{myAlertsDeliveryInfo:{type:"List",items:{alertsDeliveryId:"Number",alertsDeliveryMethodType:"Description",alertsDeliveryNickname:"AlertsProfileNickname",alertsDeliveryChannelInfo:"Description",alertsDeliveryStatus:"Description",primaryEmailAddressDesignation:"OnOff",alertsDeliveryFormatType:"Description"}},textAlertVariations:{type:"List",items:{myAlertsDeliveryAdvisoryVariation:"Description",alertsDeliveryStatusHelpMessageVariation:"Description"}}},actions:{updateMyAlertsDeliveryInfo:!0,deleteMyAlertsDeliveryInfo:!0,requestAlertsDeliveryStatusHelpMessage:!0,exitAlertsDeliveryStatusHelpMessage:!0},states:{deleteMyAlertsDeliveryConfirmationOverlay:!0,exitConfirmationOverlay:!0},settings:{myAlertsDeliveryAdvisory:!0,myAlertsDeliveryAdvisoryVariation:!0,alertsDeliveryMethodTypeLabel:!0,alertsDeliveryMethodType:!0,alertsDeliveryNicknameLabel:!0,alertsDeliveryNicknamePlaceholder:!0,alertsDeliveryChannelInfoLabel:!0,alertsDeliveryChannelInfoPlaceholder:!0,alertsDeliveryStatusLabel:!0,alertsDeliveryStatusHelpMessageVariation:!0,alertsDeliveryStatusHelpMessage:!0,alertsDeliveryStatusMessage:!0,alertsDeliveryStatus:!0,updateMyAlertsDeliveryInfoLabel:!0,deleteMyAlertsDeliveryInfoLabel:!0,primaryEmailAddressDesignationLabel:!0,emailAddressAdvisory:!0,requestAlertsDeliveryStatusHelpMessageAda:!0,exitAlertsDeliveryStatusHelpMessageAda:!0,beginHelpMessageAda:!0,endHelpMessageAda:!0,manageAlertsDeliveryAda:!0,updateMyAlertsDeliveryInfoAda:!0,deleteMyAlertsDeliveryInfoAda:!0,punctuationMarkOpenParentheses:!0,punctuationMarkCloseParentheses:!0,punctuationMarkPipeLabel:!0}}})),define("bluespec/delete_my_alerts_delivery_confirmation",[],(function(){return{name:"DELETE_MY_ALERTS_DELIVERY_CONFIRMATION",data:{alertsDeliveryNickname:{type:"Description"}},actions:{deleteMyAlertsDeliveryInfo:!0,doNotDeleteMyAlertsDeliveryInfo:!0},settings:{deleteMyAlertsDeliveryInfoMessage:!0,deleteMyAlertsDeliveryInfoAdvisory:!0,deleteMyAlertsDeliveryInfoLabel:!0,doNotDeleteMyAlertsDeliveryInfoLabel:!0}}})),define("bluespec/communications_maintenance",[],(function(){return{name:"COMMUNICATIONS_MAINTENANCE",actions:{dismissMaintenanceModeDialog:!0},states:{communicationsMaintenanceState:!0},settings:{maintenanceModeDialogHeader:!0,maintenanceModeDialogMessage:!0,dismissMaintenanceModeDialogLabel:!0}}})),define("bluespec/account_custom_groups",[],(function(){return{name:"ACCOUNT_CUSTOM_GROUPS",data:{groupName:{type:"Description"},allInvestmentAccountsSelected:{type:"OnOff"},investmentAccounts:{type:"List",items:{investmentAccountId:"Description",investmentAccountDisplayName:"Description"}},investmentAccountId:{type:"List",itemType:"Description"},allBankAccountsSelected:{type:"OnOff"},bankAccounts:{type:"List",items:{bankAccountId:"Description",bankAccountDisplayName:"Description"}},bankAccountId:{type:"List",itemType:"Description"},allCreditAccountsSelected:{type:"OnOff"},creditAccounts:{type:"List",items:{creditAccountId:"Description",creditAccountDisplayName:"Description"}},creditAccountId:{type:"List",itemType:"Description"},accounts:{type:"List",items:{accountName:"Description",accountMaskNumber:"Description",accountId:{type:"Description",exportable:!0},sortSequenceNumber:"Numbers"}},customGroupAdded:{type:"OnOff"},customGroupRemoved:{type:"OnOff"},customGroupUpdated:{type:"OnOff"},customGroupAdditionError:{type:"OnOff"},customGroupRemovalError:{type:"OnOff"},customGroupAccounts:{type:"List",items:{accountNickname:"Description",accountMaskNumber:"Description"}},customGroupName:{type:"Description"},customGroupId:{type:"Description"},reorderedCustomGroupAccounts:{type:"List",items:{accountNickname:"Description",accountMaskNumber:"Description"}},defaultGroupId:{type:"Description"},removalCustomGroupName:{type:"Description"},customGroups:{type:"List",items:{customGroupId:"Description",customGroupName:"Description"}},allAccounts:{type:"Description"},accountsDisplayed:{type:"OnOff"},defaultGroupDisplayed:{type:"OnOff"},predefinedAccountGroup:{type:"List",items:{accounts:{type:"List",items:{accountGroupId:"Description",accountGroupName:{type:"Description",exportable:!0}}},accountGroupId:"Description",accountGroupName:{type:"Description",exportable:!0},defaultAccount:"Description",accountGroupHeader:"Description"}},dirtyComponent:{type:"OnOff"},numberOfAccounts:{type:"Numbers"},maximumAccountsInGroup:{type:"Numbers"},allCharitableAccountsSelected:{type:"OnOff"},charitableAccounts:{type:"List",items:{charitableAccountId:"Description",charitableAccountDisplayName:"Description"}},charitableAccountId:{type:"List",itemType:"Description"}},actions:{exitManageCustomGroups:!0,requestAllInvestmentAccounts:!0,requestAllBankAccounts:!0,requestAllCreditAccounts:!0,requestManageCustomGroups:!0,requestManageCustomGroupsPage:!0,requestNextStep:!0,requestPreviousStep:!0,cancelStep:!0,exitStep:!0,exitEditCustomGroupStep:!0,doNotCancel:!0,confirmCancel:!0,requestAddCustomGroup:!0,requestEditCustomGroup:!0,requestRemoveCustomGroup:!0,requestMakeDefaultCustomGroup:!0,requestGetStartedCustomGroup:!0,cancelRemoveCustomGroup:!0,confirmRemoveCustomGroup:!0,requestAccountCustomGroups:!0,exitAccountCustomGroups:!0,requestDefaultCustomGroup:!0,requestDefaultGroup:!0,confirmDefaultGroup:!0,doNotConfirmDefaultGroup:!0,arrangeOrderOfAccountGroup:!0,doNotConfirmCreationOfAccountGroup:!0,confirmCreateCustomGroup:!0,doNotConfirmCreateCustomGroup:!0,requestCustomGroupNameHelpMessage:!0,requestAllCharitableAccounts:!0},states:{cancelCustomGroupOverlay:!0,removeCustomGroupOverlay:!0,requestCreateCustomGroupOverlay:!0},settings:{nameGroupHeader:!0,groupNameLabel:!0,groupNameAdvisory:!0,groupNamePlaceholder:!0,customGroupNameError:!0,customGroupNameHelpMessage:!0,requestCustomGroupNameHelpMessageAda:!0,accountCustomGroupsErrorHeader:!0,accountCustomGroupsErrorAdvisory:!0,chooseAccountsHeader:!0,customGroupAccountsAdvisory:!0,investmentAccountsLabel:!0,requestAllInvestmentAccountsLabel:!0,bankAccountsLabel:!0,requestAllBankAccountsLabel:!0,creditAccountsLabel:!0,requestAllCreditAccountsLabel:!0,requestNextStepLabel:!0,requestPreviousStepLabel:!0,manageCustomGroupsLabel:!0,finishLabel:!0,cancelLabel:!0,createCustomGroupHeader:!0,accountGroupOrderHeader:!0,accountGroupOrderAdvisory:!0,sortMessageAda:!0,sortAdvisoryAda:!0,sortBeforeAda:!0,sortAtTopAda:!0,sortAtBottomAda:!0,cancelConfirmationHeader:!0,cancelConfirmationAdvisory:!0,doNotCancelLabel:!0,confirmCancelLabel:!0,myCustomGroupsHeader:!0,manageCustomGroupsHeader:!0,manageCustomGroupsAdvisory:!0,manageCustomGroupsConfirmationHeader:!0,customGroupAccountsLabel:!0,allAccountsLabel:!0,allBankAccountsLabel:!0,allInvestmentAccountsLabel:!0,allCreditAccountsLabel:!0,requestAddCustomGroupLabel:!0,requestEditCustomGroupLabel:!0,requestEditCustomGroupAda:!0,requestRemoveCustomGroupLabel:!0,requestRemoveCustomGroupAda:!0,requestMakeDefaultCustomGroupLabel:!0,requestMakeDefaultCustomGroupAda:!0,requestGetStartedCustomGroupLabel:!0,requestArrangeOrderOfAccountGroupLabel:!0,removeCustomGroupMessage:!0,removeCustomGroupAdvisory:!0,cancelRemoveCustomGroupLabel:!0,confirmRemoveCustomGroupLabel:!0,requestCreateCustomGroupMessage:!0,requestCreateCustomGroupAdvisory:!0,requestCreateCustomGroupLabel:!0,confirmCreateCustomGroupLabel:!0,doNotConfirmCreateCustomGroupLabel:!0,checkmarkAda:!0,requestMyProfileMenuAda:!0,requestManageCustomGroupsPageAda:!0,exitManageCustomGroupsAda:!0,requestDefaultGroupLabel:!0,confirmDefaultGroupLabel:!0,doNotConfirmDefaultGroupLabel:!0,customGroupsAda:!0,selectDefaultGroupLabel:!0,defaultCustomGroupLabel:!0,charitableAccountsLabel:!0,requestAllCharitableAccountsLabel:!0}}})),define("bluespec/delete_confirmation",[],(function(){return{name:"DELETE_CONFIRMATION",data:{payeeName:{type:"Description"},payeeGroupName:{type:"Description"},payorName:{type:"Description"},payorGroupName:{type:"Description"},favoriteAccountsGroupName:{type:"Description"},recipientGroupName:{type:"Description"},transactionAmount:{type:"Money"},totalAmount:{type:"Money"},transactionFrequency:{type:"Description",exportable:!0},fundingAccountDisplayName:{type:"Description"},thirdPartyApplicationName:{type:"Description"},wireTransferContactNickname:{type:"Description"},wireRecipientGroupName:{type:"Description"},fileName:{type:"Description"},transferToAccountNickname:{type:"Description"},transferToAccountDisplayName:{type:"Description"},paymentAmountDue:{type:"Money"},totalPendingPayments:{type:"Numbers"},paymentsAdvisoryDisplayedState:{type:"OnOff"},savedSearchName:{type:"Description"},reportName:{type:"Description"},totalNumberOfReportsSelected:{type:"Number"}},actions:{confirmDelete:!0,doNotDelete:!0,requestLinkedApplicationsFaq:!0},states:{deleteConfirmationOverlay:!0,errorState:!0,stopSharingDialogDisplayState:!0,contentLoaded:!0},settings:{deleteConfirmationHeader:!0,deleteConfirmationAdvisory:!0,deleteConfirmationMessage:!0,confirmDeleteLabel:!0,doNotDeleteLabel:!0,importantLabel:!0,optionalLabel:!0,checkmarkAda:!0,deleteConfirmationErrorHeader:!0,deleteConfirmationErrorAdvisory:!0,importantAda:!0,pendingTransactionDetailMessage:!0,pendingTransactionDetailLabel:!0,paymentsAdvisory:!0,stopSharingAccountInformationLabel:!0,doNotStopSharingAccountInformationLabel:!0,stopSharingConfirmationHeader:!0,stopSharingConfirmationMessage:!0,moreInformationMessage:!0,stopSharingConfirmationLabel:!0,agreeLabel:!0,confirmationHeader:!0,confirmationTitle:!0,confirmationAdvisory:!0,reactivationMessage:!0}}})),define("bluespec/update_my_user_id",[],(function(){return{name:"UPDATE_MY_USER_ID",data:{userId:{type:"Description"},newUserId:{type:"UserId"},usernameRequirementsDisplayedState:{type:"OnOff",exportable:!0}},actions:{confirmUpdateMyUserId:!0,doNotUpdateMyUserId:!0,skipBack:!0,requestUsernameRules:!0,confirmProfileDetailsUpdate:!0},states:{exitConfirmationOverlay:!0},settings:{userNameLabel:!0,userIdAdvisory:!0,userIdValidationAdvisory:!0,currentUserIdLabel:!0,newUserIdLabel:!0,newUserIdError:!0,confirmUpdateMyUserIdLabel:!0,doNotUpdateMyUserIdLabel:!0,updateMyUserIdErrorHeader:!0,updateMyUserIdErrorAdvisory:!0,warningMessage:!0,importantAda:!0,skipBackLabel:!0,errorAnnouncementAda:!0,exitAda:!0,userIdHelpMessage:!0,userIdHelpLabel:!0,updateMyUserIdConfirmationMessage:!0,updateMyUserIdConfirmationAdvisory:!0,updateMyUserIdHeader:!0}}})),define("bluespec/update_my_password",[],(function(){return{name:"UPDATE_MY_PASSWORD",data:{password:{type:"Description",PI:!0},newPassword:{type:"Description"},confirmedPassword:{type:"Description"},securityToken:{type:"RSAToken"},passwordRequirementsDisplayedState:{type:"OnOff",exportable:!0}},actions:{confirmUpdateMyPassword:!0,doNotUpdateMyPassword:!0,skipBack:!0,requestPasswordRules:!0},states:{exitConfirmationOverlay:!0},settings:{passwordMessage:!0,passwordAdvisory:!0,currentPasswordLabel:!0,confirmPasswordLabel:!0,passwordHelpLabel:!0,newPasswordLabel:!0,confirmedNewPasswordLabel:!0,passwordValidationAdvisory:!0,passwordValidationAdvisoryTokenUser:!0,securityTokenLabel:!0,passwordError:!0,newPasswordError:!0,confirmedPasswordError:!0,securityTokenError:!0,confirmUpdateMyPasswordLabel:!0,doNotUpdateMyPasswordLabel:!0,updateMyPasswordErrorHeader:!0,updateMyPasswordErrorAdvisory:!0,importantAda:!0,skipBackLabel:!0,errorAnnouncementAda:!0,exitAda:!0,updateMyPasswordHeader:!0,updateMyPasswordConfirmationHeader:!0,updateMyPasswordConfirmationMessage:!0,updateMyPasswordConfirmationAdvisory:!0}}})),define("bluespec/update_service_plan",[],(function(){return{name:"UPDATE_SERVICE_PLAN",data:{servicePlans:{type:"List",items:{servicePlanId:"Description",servicePlanName:"Description",servicePlanPremium:"Money",servicePlanAdvisory:"Description"}},featureGroups:{type:"List",items:{featureGroupHeader:"Description",featureGroupDescription:"Description"}},fundingAccounts:{type:"List",items:{fundingAccountId:"Description",fundingAccountDisplayName:"Description",fundingAccountMaskNumber:"AccountMaskNumber"}},fundingAccountId:{type:"Description"},helpMessageTopic:{type:"Description"},informationHelpMessage:{type:"Description"},servicePlansExpandedState:{type:"OnOff"},updateServicePlanFootnote:{type:"Description"}},states:{exitConfirmationOverlay:!0,servicePlanFootnoteOverlay:!0},actions:{requestServicePlanDetails:!0,exitServicePlanDetails:!0,reviewAllServicePlanDetails:!0,upgradePlan:!0,initiateUpdateServicePlan:!0,confirmUpdateServicePlan:!0,doNotConfirmUpdateServicePlan:!0,exitUpdateServicePlan:!0,updateBillingInformation:!0,doNotUpdateBillingInformation:!0,requestFullDescriptions:!0,exitFullDescriptions:!0,requestAllDetails:!0,exitAllDetails:!0,requestHelpMessageTopic:!0,exitHelpMessageTopic:!0,requestInformationHelpMessage:!0,exitInformationHelpMessage:!0,requestConfirmationMessageDetails:!0,exitConfirmationMessageDetails:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0,requestServicePlanCategoryDetails:!0,exitServicePlanCategoryDetails:!0,requestUpdateServicePlanFootnote:!0,returnFromUpdateServicePlanFootnote:!0,requestChangeServicePlanHelpMessage:!0,requestPreviousStep:!0},settings:{cancelLabel:!0,nextLabel:!0,requestServicePlanDetailsLabel:!0,exitServicePlanDetailsLabel:!0,reviewAllServicePlanDetailsLabel:!0,initiateUpdateServicePlanLabel:!0,confirmUpdateServicePlanLabel:!0,accountInformationHeader:!0,upgradePlanLabel:!0,planDowngradeAdvisory:!0,currentServicePlanHeader:!0,servicePlanLabel:!0,requestHelpMessageTopicAda:!0,exitHelpMessageTopicAda:!0,beginHelpMessageAda:!0,endHelpMessageAda:!0,requestInformationHelpMessageAda:!0,exitInformationHelpMessageAda:!0,beginInformationHelpMessageAda:!0,endInformationHelpMessageAda:!0,requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,updateServicePlanHeader:!0,upgradeServicePlanHeader:!0,downgradeServicePlanHeader:!0,currentServicePlanMessage:!0,billingInformationMessage:!0,requestFullDescriptionsLabel:!0,exitFullDescriptionsLabel:!0,requestAllDetailsLabel:!0,exitAllDetailsLabel:!0,statementsOnlyLabel:!0,verifyServicePlanHeader:!0,billingInformationHeader:!0,billingInformationAdvisory:!0,servicePlanHeader:!0,updateServicePlanConfirmationMessage:!0,updateServicePlanErrorHeader:!0,updateServicePlanErrorAdvisory:!0,checkmarkAda:!0,importantAda:!0,informationAda:!0,rowExpandedAda:!0,rowCollapsedAda:!0,exitUpdateServicePlanAda:!0,requestServicePlanDetailsAda:!0,exitServicePlanDetailsAda:!0,showsContentBelowAda:!0,hidesContentBelowAda:!0,requestAllDetailsLabelAda:!0,exitAllDetailsLabelAda:!0,requestServicePlanCategoryDetailsLabel:!0,exitServicePlanCategoryDetailsLabel:!0,premiumPlusPlanAda:!0,premiumPlanAda:!0,standardPlanAda:!0,requestUpdateServicePlanFootnoteLabel:!0,requestUpdateServicePlanFootnoteAda:!0,returnFromUpdateServicePlanFootnoteAda:!0,requestChangeServicePlanHelpMessageAda:!0,changeServicePlanLabel:!0,changeServicePlanHelpMessage:!0,phoneNumberLabel:!0,phoneNumberAda:!0,priceListingLabel:!0,priceListingAda:!0,customerCareContactAdvisory:!0,updateServicePlanAdvisory:!0}}})),define("bluespec/enrollment_service_plan",[],(function(){return{name:"ENROLLMENT_SERVICE_PLAN",data:{progressBarStepPercentageComplete:{type:"Numbers"},primaryAccount:{type:"OnOff"},averageMonthlyBalance:{type:"Description"},feeAmountCharged:{type:"Money"},billingPeriod:{type:"Description"},servicePlans:{type:"List",items:{servicePlanId:"Description",servicePlanName:"Description",servicePlanFeatures:{type:"List",items:{featureName:"Description",featureHelpMessage:"Description",featureHelpMessageAda:"Description"}}}},bankingServicePlans:{type:"List",items:{servicePlanId:"Description",servicePlanName:"Description",planPrice:"Description",planPricingDetails:"Description",monthlyServiceFeeHeader:"Description",featureGroups:{type:"List",items:{featureGroupHeader:"Description",featureGroupDescription:"Description",imageUrl:"Description",features:{type:"List",items:{featureName:"Description",featureUsageLimit:"Description",featureOverageCharge:"Description",subFeatureIdentifier:"OnOff"}}}}}},billingAccounts:{type:"List",items:{accountName:"Description",accountId:{type:"Description",exportable:!0}}},billingAccountId:{type:"Description"},fundingAccounts:{type:"List",items:{fundingAccountId:"Description",fundingAccountDisplayName:"Description",fundingAccountMaskNumber:"AccountMaskNumber"}},fundingAccountId:{type:"Description"},servicePlanFootnotes:{type:"List",items:{footnoteTitle:"Description",footnoteDescription:"Description"}},servicePlanId:{type:"Description"},featuresLabel:{type:"Description"},featureUsageLimitLabel:{type:"Description"},featureOverageChargeLabel:{type:"Description"},servicePlanMessage:{type:"Description"},servicePlanDisclosures:{type:"List",items:{disclosureId:"Description",disclosureMessage:"Description"}}},actions:{requestFeatureDetail:!0,comparePlans:!0,requestNextStep:!0,requestFootnote:!0,returnFromFootnote:!0,requestStatements:!0,requestPreviousStep:!0,cancelTask:!0,print:!0,downloadDocument:!0,selectPlan:!0,updateBillingInformation:!0},states:{servicePlanFootnoteOverlay:!0,exitConfirmationOverlay:!0},settings:{progressBarStepName:!0,servicePlanHeader:!0,statementsOnlyMessage:!0,servicePlansAda:!0,planAdditionalFeesMessage:!0,comparePlansLabel:!0,updateServicePlanLabel:!0,requestNextStepLabel:!0,servicePlanErrorHeader:!0,servicePlanErrorAdvisory:!0,currentServicePlanHeader:!0,noLimitAda:!0,noOverageAda:!0,requestFootnoteAda:!0,returnFromFootnoteAda:!0,currentServicePlanMessage:!0,noLimitLabel:!0,noOverageLabel:!0,onBoardingAssistanceContactUsMessage:!0,servicePlanAdvisory:!0,averageMonthlyBalanceLabel:!0,feeAmountChargedLabel:!0,requestStatementsLabel:!0,servicePlanNameLabel:!0,billingInformationErrorAdvisory:!0,billingInformationHeader:!0,requestPreviousSlideAda:!0,requestNextSlideAda:!0,selectPlanLabel:!0,applicationNavigationAdvisory:!0,verificationMessage:!0,cancelLabel:!0,previousLabel:!0,upgradePlanLabel:!0,confirmationHeader:!0,downloadDocumentAda:!0,transactionDetailsErrorHeader:!0,transactionDetailsErrorAdvisory:!0,billingInformationAdvisory:!0}}})),define("bluespec/my_paperless_preferences",[],(function(){return{name:"MY_PAPERLESS_PREFERENCES",data:{personalAccountPreferences:{type:"List",items:{preferenceId:"Numbers",accountName:"Description",accountMaskNumber:"Description",accountType:{type:"Description",exportable:!0},paymentDueDays:"Description",primaryEmailAddress:"Email",combinedAccounts:{type:"List",items:{combinedAccountId:"Numbers",combinedAccountName:"Description",combinedAccountType:"Description"}},documents:{type:"List",items:{documentId:"Numbers",documentName:"Description",paperless:"OnOff"}}}},businessAccountPreferences:{type:"List",items:{preferenceId:"Numbers",accountName:"Description",accountMaskNumber:"Description",accountType:{type:"Description",exportable:!0},paymentDueDays:"Description",primaryEmailAddress:"Email",combinedAccounts:{type:"List",items:{combinedAccountId:"Numbers",combinedAccountName:"Description",combinedAccountType:"Description"}},documents:{type:"List",items:{documentId:"Numbers",documentName:"Description",paperless:"OnOff"}}}},statementsOnly:{type:"OnOff"},emailAddress:{type:"Email"},allAccountsSelected:{type:"OnOff"},allDocumentsSelected:{type:"OnOff"},allStatementsSelected:{type:"OnOff"},allLettersSelected:{type:"OnOff"},allTaxDocumentsSelected:{type:"OnOff"},allInvestmentDocumentsSelected:{type:"OnOff"},accountNames:{type:"List",itemType:"Description"},subAccounts:{type:"List",items:{accountMaskNumber:"AccountMaskNumber",subAccountId:{type:"Numbers",exportable:!0}}},paperlessFaqs:{type:"List",items:{name:"Description",label:"Description",description:"Description"}}},actions:{selectAllAccounts:!0,selectAllDocuments:!0,selectAllStatements:!0,selectAllLetters:!0,selectAllTaxDocuments:!0,selectAllInvestmentDocuments:!0,requestESignDisclosure:!0,requestSamplePdf:!0,doNotUpdatePaperlessPreferences:!0,confirmUpdatePaperlessPreferences:!0,requestAllStatementsHelpMessage:!0,exitAllStatementsHelpMessage:!0,requestAllLettersHelpMessage:!0,exitAllLettersHelpMessage:!0,requestAllTaxDocumentsHelpMessage:!0,exitAllTaxDocumentsHelpMessage:!0,requestAllInvestmentDocumentsHelpMessage:!0,exitAllInvestmentDocumentsHelpMessage:!0,updateEmailAddress:!0,requestMyAccountsDisplay:!0,requestStatementsAndDocuments:!0,skipBack:!0,requestConfirmationMessageDetails:!0,exitConfirmationMessageDetails:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0,requestDisclosure:!0,exitNoPreferenceMessage:!0,doNotResetPaperlessPreferences:!0,resetPaperlessPreferences:!0,requestPaperlessFAQ:!0,exitPaperlessFAQ:!0,closeFaqError:!0},states:{updatePrimaryEmailAddressConfirmationOverlay:!0,exitConfirmationOverlay:!0,paperlessFaqOverlay:!0},settings:{requestStatementsAndDocumentsLabel:!0,requestStatementsAndDocumentsAdvisory:!0,requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,myPaperlessPreferencesHeader:!0,myPaperlessPreferencesHeaderAda:!0,currentInformationForPaperlessPreferencesAda:!0,myPaperlessPreferencesMessage:!0,emailAddressAdvisory:!0,updateEmailAddressLabel:!0,myPaperlessPreferencesAdvisory:!0,exclusivelyPaperlessAdvisory:!0,accountsLabel:!0,accountName:!0,accountTypeLabel:!0,documentTypeLabel:!0,documentTypes:!0,primaryEmailAddressLabel:!0,allStatementsHelpMessage:!0,allLettersHelpMessage:!0,allTaxDocumentsHelpMessage:!0,allInvestmentDocumentsHelpMessage:!0,requestAllStatementsHelpMessageAda:!0,requestAllTaxDocumentsHelpMessageAda:!0,requestAllInvestmentDocumentsHelpMessageAda:!0,requestAllLettersHelpMessageAda:!0,exitHelpMessageAda:!0,beginHelpMessageAda:!0,endHelpMessageAda:!0,selectAllAccountsLabel:!0,selectAllDocumentsLabel:!0,documentTypesAda:!0,selectByAccountAda:!0,selectAllStatementsLabel:!0,selectAllLettersLabel:!0,selectAllTaxDocumentsLabel:!0,selectAllInvestmentDocumentsLabel:!0,ineligibleAccountAdvisory:!0,creditAccountAdvisory:!0,doNotUpdatePaperlessPreferencesLabel:!0,confirmUpdatePaperlessPreferencesLabel:!0,businessAccountPreferencesHeader:!0,personalAccountPreferencesHeader:!0,myPaperlessPreferencesErrorHeader:!0,myPaperlessPreferencesErrorAdvisory:!0,importantAda:!0,myPaperlessPreferencesConfirmationHeader:!0,myPaperlessPreferencesConfirmationAdvisory:!0,checkmarkAda:!0,hiddenAccountsMessage:!0,punctuationMarkCommaLabel:!0,informationAda:!0,printAda:!0,personalAccountPreferencesAda:!0,businessAccountPreferencesAda:!0,skipBackLabel:!0,opensDialogAda:!0,emailAddressLabel:!0,emailAddressAdvisoryLabel:!0,termsAcceptanceStatusLabel:!0,combinedAccountsAda:!0,myPaperlessPreferencesValidationHeader:!0,paperlessSettingLabel:!0,OkayLabel:!0,noEligibleAccountMessage:!0,yesLabel:!0,noLabel:!0,resetConfirmationHeader:!0,resetConfirmationMessage:!0,myPaperlessPreferencesSection:!0,paperlessFaqHeader:!0,paperlessFaqLabel:!0}}})),define("bluespec/update_security_code",[],(function(){return{name:"UPDATE_SECURITY_CODE",data:{identificationDelivery:{type:"List",items:{identificationDeliveryId:"Description",identificationDeliveryDevice:"Description",identificationDeliveryDeviceType:"Description",identificationDeliveryMethodOptions:{type:"List",items:{identificationDeliveryMethodOptionName:"Description",identificationDeliveryMethodOptionId:"Description"}}}},identificationDeliveryId:{type:"Description"},identificationCode:{type:"Description"},securityCode:{type:"Description"},confirmSecurityCode:{type:"Description"}},states:{exitConfirmationOverlay:!0},actions:{requestIdentificationCode:!0,initiateUpdateSecurityCode:!0,confirmUpdateSecurityCode:!0,resendIdentificationCode:!0,provideIdentificationCode:!0,cancelUpdateSecurityCode:!0,requestConfirmationMessageDetails:!0,exitConfirmationMessageDetails:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0,skipBack:!0},settings:{requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,updateSecurityCodeHeader:!0,updateSecurityCodeMessage:!0,securityCodeAdvisory:!0,phoneNumberLabel:!0,phoneNumberExtensionLabel:!0,phoneNumberMaskSymbol:!0,emailAddressLabel:!0,horizontalEllipsisSymbol:!0,identificationCodeLabel:!0,securityCodeLabel:!0,confirmSecurityCodeLabel:!0,identificationDeliveryMethodOptionName:!0,identificationDeliveryMethodOptionsAda:!0,requestIdentificationCodeTextLabel:!0,requestIdentificationCodeVoiceLabel:!0,cancelLabel:!0,saveLabel:!0,nextLabel:!0,resendIdentificationCodeLabel:!0,provideIdentificationCodeLabel:!0,securityCodeError:!0,confirmSecurityCodeError:!0,identificationCodeError:!0,updateSecurityCodeConfirmationHeader:!0,updateSecurityCodeConfirmationMessage:!0,updateSecurityCodeErrorHeader:!0,updateSecurityCodeErrorAdvisory:!0,errorAnnouncementAda:!0,checkmarkAda:!0,importantAda:!0,skipBackLabel:!0}}})),define("bluespec/cashflow_settings",[],(function(){return{name:"CASHFLOW_SETTINGS",data:{companies:{type:"List",items:{companyId:"Description",companyDisplayName:"Description",companyChosen:"OnOff",accountsDisplayedState:"OnOff",numberOfAccounts:"Numbers",minimumAccountsEnrolledMessageDisplayed:"OnOff",isCashflowPlanSelected:"OnOff",companyEnrollmentStatus:"Description",enrolledAccounts:{type:"List",items:{accountId:{type:"Description",exportable:!0},accountDisplayName:"Description",accountChosen:"OnOff",accountMaskNumber:"AccountMaskNumber"}},unenrolledAccounts:{type:"List",items:{accountId:{type:"Description",exportable:!0},accountDisplayName:"Description",accountChosen:"OnOff",accountMaskNumber:"AccountMaskNumber"}}}},cashflowSettingsErrorDisplayedState:{type:"OnOff"},cashflowSettingsConfirmationDisplayedState:{type:"OnOff"},verifyTaskEnabledState:{type:"OnOff"},planIdentifier:{type:"Description"}},states:{cashflowSettingsVerificationOverlay:!0,exitConfirmationOverlay:!0,cashflowSettingsUnenrollProfileConfirmationOverlay:!0,cashflowSettingsUnenrollProfileResponseOverlay:!0},actions:{cancelTask:!0,verifyTask:!0,confirmTask:!0,selectAccountChosenOption:!0,unenrollProfile:!0,enrollCompany:!0,unenrollCompany:!0,upgradePlan:!0,exitCashflowSettings:!0,expandAccounts:!0,collapseAccounts:!0},settings:{confirmationHeader:!0,confirmationMessage:!0,confirmationAdvisory:!0,verificationMessage:!0,verificationAdvisory:!0,cashflowSettingsErrorHeader:!0,cashflowSettingsErrorMessage:!0,cashflowSettingsInformationMessage:!0,cashflowSettingsHeader:!0,cashflowSettingsAdvisory:!0,enrolledAccountsSectionHeader:!0,unenrolledAccountsSectionHeader:!0,enrollmentStatusLabel:!0,minimumAccountsEnrolledMessage:!0,noAccountsEnrolledMessage:!0,noAccountsUnenrolledMessage:!0,confirmTaskLabel:!0,verifyTaskLabel:!0,onLabel:!0,offLabel:!0,accountsLabel:!0,unenrollProfileMessage:!0,upgradePlanLabel:!0,upgradePlanAda:!0,enrollCompanyLabel:!0,enrollCompanyAda:!0,enrollCompanyAdvisory:!0,unenrollCompanyLabel:!0,unenrollCompanyAda:!0,unenrollCompanyAdvisory:!0,planName:!0,companyMessage:!0,companyErrorHeader:!0,companyErrorMessage:!0,companyConfirmationHeader:!0,companyConfirmationMessage:!0,companyConfirmationAdvisory:!0,cancelTaskLabel:!0,downgradePlanAdvisory:!0,cashflowProfileUnenrollmentMessage:!0,exitCashflowSettingsLabel:!0,companiesHeader:!0,accountStatusLabel:!0,companyEnrollmentStatusLabel:!0}}})),define("profileArea/paymentPreferences/cashflowSettings/spec/cashflow_settings",["require","blue/util","bluespec/cashflow_settings"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/cashflow_settings");return t.object.merge(i,{data:{companies:{items:{toggleSwitch:"OnOff",companyErrorHighlightState:"OnOff",isAccountUnchanged:"OnOff",confirmationState:"OnOff",isCashflowPlanSelected:"OnOff",companyExpandedState:{type:"OnOff"},upgradeEligible:{type:"OnOff"},package:{type:"Description"}}},setFocusOnCancel:{type:"OnOff"},companyId:{type:"Number"},focusTitle:{type:"Number"},isCommercialUser:{type:"OnOff"},isSuccessServiceCall:{type:"OnOff"},showConfirmationMessage:{type:"OnOff"},requestClick:{type:"OnOff"},targetFocusId:{type:"Description"},statusChange:{type:"OnOff"},currentlySelectedPlanName:{type:"Description"},unEnrollSuccess:{type:"OnOff"}}})})),define("bluespec/request_confirmation",[],(function(){return{name:"REQUEST_CONFIRMATION",data:{userName:{type:"Description"},cloneUserName:{type:"Description"},payeeName:{type:"Description"},hasCashflowEntitlement:{type:"OnOff"},currentlySelectedPlanName:{type:"Description"},previouslySelectedPlanName:{type:"Description"},moneyTransferContactNickname:{type:"Description"},moneyTransferContactName:{type:"Description"},moneyTransferContact:{type:"Description"},accountName:{type:"Description"},checkProtectionAmountLimit:{type:"Description"},checkFraudProtectionServiceOption:{type:"Description"},achDebitProtectionServiceOption:{type:"Description"},scamInterstitialConfirmation:{type:"OnOff"}},actions:{confirmRequest:!0,doNotConfirmRequest:!0,exitTask:!0,acceptCobrowseTermsAndConditions:!0,declineCobrowseTermsAndConditions:!0,acceptVideoChatTermsAndConditions:!0,declineVideoChatTermsAndConditions:!0,showChaseRepresentativesDefinitionMessage:!0,showRedFlagsDefinitionMessage:!0,sendWireRequest:!0,closeScamInterstitial:!0,confirmScamInterstitialRequest:!0},states:{requestConfirmationOverlay:!0,cashflowSettingsPlanUpgradeConfirmationOverlay:!0,enableThirdPartyAccess:!0,disableThirdPartyAccess:!0,requestCobrowseAgreementOverlay:!0,requestVideoChatAgreementOverlay:!0,requestScamInterstitialOverlay:!0},settings:{confirmRequestLabel:!0,doNotConfirmRequestLabel:!0,requestConfirmationHeader:!0,requestConfirmationMessage:!0,requestConfirmationAdvisory:!0,requestConfirmationErrorMessage:!0,disclosureMessage:!0,confirmationMessage:!0,exitTaskLabel:!0,mobilePageTitle:!0,checkFraudProtectionServiceOptionMessage:!0,achDebitProtectionServiceOptionMessage:!0,scamInterstitialHeader:!0,scamInterstitialTitle:!0,chaseRepresentativesDefinitionLinkText:!0,chaseRepresentativesDefinitionLinkMessage:!0,chaseRepresentativesWarningMessage:!0,scamsRedFlagsDefinitionLinkText:!0,scamsRedFlagsDefinitionLinkMessage:!0,scamsRedFlagsWarningMessage:!0,scammerFraudWarningMessage:!0,fraudRefundWarningMessage:!0,scamInterstitialConfirmationLabel:!0,scamInterstitialConfirmationError:!0,sendWireLabel:!0}}})),define("bluespec/cashflow_enrollment_offers",[],(function(){return{name:"CASHFLOW_ENROLLMENT_OFFERS",data:{progressSteps:{type:"List",items:{progressStepName:"Description",progressStepNumber:"Numeric",progressStepPercentageComplete:"Numeric"}},progressTotalSteps:{type:"Numeric"},progressCurrentStep:{type:"Numeric"},cashflowHeader:{type:"Description"},cashflowInformationMessage:{type:"Description"},cashflowInformationAdvisory:{type:"Description"},cashflowProductImage:{type:"Description"},cashflowOfferBenefitsHeader:{type:"Description"},cashflowOfferBenefits:{type:"List",items:{benefitTitle:{type:"Description",exportable:!0}},exportable:!0},displayDialogOverlay:{type:"OnOff"},cashflowOfferFeaturesHeader:{type:"Description"},cashflowOfferFeatures:{type:"List",items:{featureHeader:"Description",featureMessage:"Description",featureImage:"Description"}},cashflowPlansHeader:{type:"Description"},cashflowPlans:{type:"List",items:{planIdentifier:"Description",planHeader:"Description",planPricingDetails:"Description",planTrialPeriodMessage:"Description",planDescription:"Description",planItemsHeader:"Description",planItems:"Description",planAdditionalFeesHeader:"Description",planAdditionalFees:{type:"List",items:{feeHeader:"Description",feeMessage:"Description"}},selectedCashflowPlan:{type:"Description"}}},cashflowFootnotes:{type:"List",items:{footnoteTitle:"Description",footnoteDescription:"Description"}},cashflowLegalDisclaimers:{type:"List",items:{legalDisclaimerIdentifier:"Description",legalDisclaimerDescription:"Description"}},testimonials:{type:"List",items:{testimonial:"Description",testimonialSource:"Description"}},errorStatus:{type:"List",items:{statusCode:"Description",companyDisplayName:"Description"}}},states:{requestVideoOverlay:!0,cashflowPlansOverlay:!0,cashflowEnrollmentOffersOverlay:!0,siteExitWarningOverlay:!0},actions:{requestBillingPartnerServices:!0,requestVideo:!0,exitStep:!0,cancelStep:!0,requestNextStep:!0,remindTask:!0,requestFrequentlyAskedQuestions:!0,requestMoreInformation:!0,upgradePlan:!0,exitCashflowEnrollmentOffers:!0,requestCashflowFootnote:!0,referCashflowFootnote:!0},settings:{requestBillingPartnerServicesLabel:!0,importantAda:!0,cashflowEnrollmentOffersErrorHeader:!0,cashflowEnrollmentOffersErrorAdvisory:!0,cashflowProductImageAda:!0,requestVideoAda:!0,featureImageAda:!0,exitLabel:!0,requestNextStepLabel:!0,requestNextStepHeader:!0,requestNextStepMessage:!0,frequentlyAskedQuestionsHeader:!0,requestFrequentlyAskedQuestionsLabel:!0,contactUsMessage:!0,copyrightLabel:!0,seeMoreLabel:!0,requestMoreInformationAda:!0,cashflowPlansAda:!0,cancelLabel:!0,remindTaskLabel:!0,upgradePlanLabel:!0,downgradePlanLabel:!0,enrolledLabel:!0,referCashflowFootnoteLabel:!0}}})),define("bluespec/notification",[],(function(){return{name:"NOTIFICATION",data:{validationNotificationId:{type:"Description"},validationNotificationHeader:{type:"Description"},validationNotificationMessage:{type:"Description"},validationNotificationAdvisory:{type:"Description"},validationNotificationType:{type:"Description"},companies:{type:"List",items:{companyId:"Description",companyDisplayName:"Description"}}},actions:{exitTask:!0,exitNotification:!0,selectMyPhoneDetails:!0},states:{notificationOverlay:!0},settings:{notificationHeader:!0,notificationMessage:!0,notificationAdvisory:!0,exitNotificationLabel:!0,exitTaskLabel:!0,selectMyPhoneDetailsLabel:!0}}})),define("profileArea/paymentPreferences/cashflowSettings/spec/genericOverlay",["require","blue/util","bluespec/notification"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/notification");return t.object.merge(i,{states:{notificationOverlay:!0}})})),define("bluespec/update_my_atm_preferences",[],(function(){return{name:"UPDATE_MY_ATM_PREFERENCES",data:{fundingAccounts:{type:"List",items:{fundingAccountId:"Numeric",accountMaskNumber:"AccountMaskNumber"}},fundingAccountId:{type:"Numeric"},accountMaskNumber:{type:"AccountMaskNumber"},quickChoiceWithdrawalAmount:{type:"Money"},quickChoiceMaximumWithdrawalAmount:{type:"Numeric"},languages:{type:"List",items:{languageName:"Description",languageId:"Numeric"}},language:{type:"Description"},languageId:{type:"Description"},receiptPreferences:{type:"List",items:{receiptPreferenceName:"Description",receiptPreferenceId:"Numeric"}},receiptPreference:{type:"Description"},receiptPreferenceId:{type:"Description"},quickChoiceWithdrawalOptionId:{type:"Description"}},states:{exitConfirmationOverlay:!0},actions:{resetFundingAccount:!0,updateMyAtmPreferences:!0,resetAtmPreferences:!0,requestUpdateMyAtmPreferences:!0,confirmUpdateMyAtmPreferences:!0,exitUpdateMyAtmPreferences:!0,requestErrorMessageDetails:!0,exitErrorMessageDetails:!0,skipBack:!0,requestReceiptPreferenceHelpMessage:!0,exitReceiptPreferenceHelpMessage:!0},settings:{updateMyAtmPreferencesMicroAppHeader:!0,updateMyAtmPreferencesHeader:!0,updateMyAtmPreferencesMessage:!0,updateMyAtmPreferencesConfirmationHeader:!0,updateMyAtmPreferencesErrorHeader:!0,updateMyAtmPreferencesErrorAdvisory:!0,fundingAccountsLabel:!0,fundingAccountsPlaceholder:!0,quickChoiceWithdrawalHeader:!0,currencyDollarSymbol:!0,quickChoiceWithdrawalAmountLabel:!0,quickChoiceWithdrawalAmountAdvisory:!0,quickChoiceWithdrawalAmountNoPreference:!0,languageLabel:!0,receiptPreferenceLabel:!0,skipBackLabel:!0,languageName:!0,languageNamePlaceholder:!0,receiptPreferenceName:!0,receiptPreferenceHelpMessage:!0,requestReceiptPreferenceHelpMessageAda:!0,beginHelpMessageAda:!0,endHelpMessageAda:!0,exitHelpMessageAda:!0,quickChoiceWithdrawalAmountError:!0,requestMessageDetailsLabel:!0,exitMessageDetailsLabel:!0,requestMessageDetailsAda:!0,exitMessageDetailsAda:!0,resetFundingAccountLabel:!0,updateMyAtmPreferencesLabel:!0,resetAtmPreferencesLabel:!0,requestUpdateMyAtmPreferencesLabel:!0,confirmUpdateMyAtmPreferencesLabel:!0,exitUpdateMyAtmPreferencesLabel:!0,checkmarkAda:!0,importantAda:!0}}})),define("profileArea/paymentPreferences/atm/spec/atm",["require","blue/util","bluespec/update_my_atm_preferences"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/update_my_atm_preferences");return t.object.merge(i,{data:{isAtmPreferencesEnabled:{type:"Description"},preferences:{type:"List",items:{atmLanguagePreference:"Description",atmRecieptPreference:"Description",checkedRadioButton:"Description",displayFastCashPlaceHolder:"OnOff",fastCashAmount:"Numeric",originalAtmLanguagePreference:"Description",originalAtmRecieptPreference:"Description"}},currentView:{type:"Description"},preferencesChanged:{type:"OnOff"}}})})),define("bluespec/update_atm_pin",[],(function(){return{name:"UPDATE_ATM_PIN",data:{accounts:{type:"List",items:{accountId:{type:"Description",exportable:!0},accountType:{type:"Description",exportable:!0},accountName:"Description",accountMaskNumber:"AccountMaskNumber"}},accountId:{type:"Description",exportable:!0},subAccounts:{type:"List",items:{subAccountId:{type:"Description",exportable:!0},subAccountDisplayName:"Description",subAccountMaskNumber:"Description"}},subAccountId:{type:"Description",exportable:!0},newPin:{type:"Numeric"},confirmPin:{type:"Numeric"}},actions:{requestAccounts:!0,requestSubAccounts:!0,confirmUpdateAtmPin:!0,doNotUpdateAtmPin:!0,requestPinRequirements:!0,requestAccountsOverview:!0,requestAnotherPinUpdate:!0,requestShowHideAccounts:!0,skipBack:!0},settings:{accountDisplayNamePlaceholder:!0,noAvailableRelationshipsHeader:!0,noAvailableRelationshipsAdvisory:!0,newPinLabel:!0,newPinAda:!0,newPinError:!0,confirmPinLabel:!0,confirmPinError:!0,updateAtmPinHeader:!0,pinMatchMessage:!0,updateAtmPinConfirmationMessage:!0,updateAtmPinErrorHeader:!0,updateAtmPinErrorAdvisory:!0,pinRequirementsMessage:!0,requestAccountsLabel:!0,requestSubAccountsLabel:!0,confirmUpdateAtmPinLabel:!0,doNotUpdateAtmPinLabel:!0,requestPinRequirementsLabel:!0,requestAnotherPinUpdateLabel:!0,requestAccountsOverviewLabel:!0,updateAtmPinDelayError:!0,hiddenAccountsMessage:!0}}})),define("profileArea/paymentPreferences/pinChange/spec/pinChangeSpec",["require","bluespec/update_atm_pin"],(function(e){"use strict";var t=e("bluespec/update_atm_pin");return t.data.pageLoaded={type:"OnOff"},t.data.accountBlurb={type:"Description"},t.data.cardBlurb={type:"Description"},t.data.updateCallStatus={type:"Description"},t.data.focusWhere={type:"Description"},t.data.pageError={type:"Description"},t.data.noEligibleCards={type:"OnOff"},t.data.showPinRequirements={type:"OnOff"},t.data.updateSuccess={type:"OnOff"},t.data.updateProcessing={type:"OnOff"},t})),define("bluespec/business_revenue",[],(function(){return{name:"BUSINESS_REVENUE",data:{businessRevenueList:{type:"List",items:{grossAnnualBusinessRevenue:"Money",enterprisePartyIdentifier:"Description",businessEntityName:"Description"}}},actions:{updateBusinessRevenue:!0},settings:{updateBusinessRevenueHeader:!0,updateBusinessRevenueAdvisory:!0,businessRevenueLabel:!0,grossAnnualBusinessRevenueMessage:!0,grossAnnualBusinessRevenueLabel:!0,grossAnnualBusinessRevenueHelpMessage:!0,updateBusinessRevenueConfirmationHeader:!0,updateBusinessRevenueConfirmationAdvisory:!0,partialSuccessConfirmationHeader:!0,partialSuccessConfirmationAdvisory:!0,updateBusinessRevenueErrorHeader:!0,updateBusinessRevenueErrorAdvisory:!0,grossAnnualBusinessRevenueError:!0,loadingMessage:!0,noBusinessEntityHeader:!0,noBusinessEntityAdvisory:!0}}})),define("profileArea/personalDetails/incomeCapture/spec/myIncomeCapture",["require","blue-spec-shared/income_capture"],(function(e){"use strict";var t=e("blue-spec-shared/income_capture");return t.states=t.states||{},t.states.showConfirmation=!0,t.states.serviceException=!0,t.states.focusPlacement=!0,t})),define("bluespec/trusted_contact",[],(function(){return{name:"TRUSTED_CONTACT",data:{brokerageAccounts:{type:"List",items:{accountId:{type:"Numbers",exportable:!0},accountDisplayName:"Description",trustedContactsAdvisory:"Description",dataError:"OnOff",trustedContacts:{type:"List",items:{trustedContactId:"Description",trustedContactName:"Description",trustedContactRelationship:"Description"}},trustedContactDetails:{type:"List",items:{trustedContactId:"Description",trustedContactName:"Description",trustedContactRelationship:"Description",firstName:"Description",middleName:"Description",lastName:"Description",suffixName:"Description",relationshipOption:"Description",otherRelationship:"Description",mailingAddressTypeName:"Description",mailingAddressLineOne:"AddressLine",mailingAddressLineTwo:"AddressLine",mailingAddress:"Description",cityName:"City",stateName:"Description",provinceName:"Description",zipCode:"ZipCode",zipCodeExtension:"ZipCodeExtension",postalCode:"PostalCode",countryName:{type:"Description",exportable:!0},phoneNumberRegion:"Description",additionalContactPhoneNumberRegion:"Description",phoneNumber:"Description",additionalContactPhoneNumber:"Description",emailAddress:"Email",aboveMinimumAgeStatus:"OnOff",termsAcceptanceStatus:"OnOff",militaryRegionName:"Description",dataError:{type:"List",itemType:"Description"},recommendedAddress:{type:"List",items:{mailingAddressLineOne:"AddressLine",mailingAddressLineTwo:"AddressLine",mailingAddress:"Description",cityName:"City",stateName:"Description",zipCode:"ZipCode",zipCodeExtension:"ZipCodeExtension"}}}}}},dataError:{type:"OnOff"},trustedContactId:{type:"Description"},nameSuffixes:{type:"List",items:{suffixId:"Description",suffixName:"Description"}},suffixId:{type:"Description"},relationshipOptions:{type:"List",items:{relationshipOptionId:"Description",relationshipOption:"Description"}},relationshipOptionId:{type:"Description"},mailingAddressTypes:{type:"List",items:{mailingAddressTypeName:"Description",mailingAddressTypeId:"Description"}},mailingAddressTypeId:{type:"Description"},cityNames:{type:"List",items:{cityId:"Description",cityName:"Description"}},stateNames:{type:"List",items:{stateId:"Description",stateName:"Description"}},stateId:{type:"Description"},provinces:{type:"List",items:{provinceId:"Description",provinceName:"Description"}},provinceId:{type:"Description"},countries:{type:"List",items:{countryId:"Description",countryName:{type:"Description",exportable:!0}}},countryId:{type:"Description"},phoneNumberRegionOption:{type:"List",items:{phoneNumberRegion:"Description",phoneNumberRegionId:"Description"}},phoneNumberRegion:{type:"Description"},additionalContactPhoneNumberRegionOption:{type:"List",items:{additionalContactPhoneNumberRegion:"Description",additionalContactPhoneNumberRegionId:"Description"}},additionalContactPhoneNumberRegion:{type:"Description"},termsAcceptanceStatus:{type:"OnOff"},primaryAddressStatus:{type:"OnOff"},militaryRegionNames:{type:"List",items:{militaryRegionName:"Description",militaryRegionId:"Description"}},militaryRegionId:{type:"Description"}},states:{trustedContactAdded:!0,exitConfirmationOverlay:!0,myProfileAddressAdditionVerificationOverlay:!0,trustedContactAdvisoryOverlay:!0,trustedContactVerificationOverlay:!0},actions:{addTrustedContact:!0,updateTrustedContact:!0,deleteTrustedContact:!0,requestTrustedContactsForBrokerageAccount:!0,exitTrustedContactsForBrokerageAccount:!0,updatePhoneNumber:!0,requestNameSuffixes:!0,requestRelationshipOption:!0,requestMailingAddressType:!0,requestStateName:!0,confirmAddTrustedContact:!0,confirmUpdateTrustedContact:!0,confirmDeleteTrustedContact:!0,requestMailingAddressVerification:!0,doNotAddTrustedContact:!0,doNotUpdateTrustedContact:!0,doNotDeleteTrustedContact:!0,acceptTermsAndConditions:!0,requestTrustedContactDisclosuresPdf:!0,skipBack:!0,requestTrustedContactAdvisory:!0,exitTrustedContactAdvisory:!0,requestTrustedContact:!0,requestTrustedContactsForSelectedBrokerageAccount:!0,requestPrimaryAddress:!0,addAddress:!0,doNotAddAddress:!0,cancelAttestation:!0,verifyAttestation:!0,requestVerifyContacts:!0,requestMyAccountsDisplay:!0},settings:{trustedContactHeader:!0,trustedContactMessage:!0,trustedContactAdvisory:!0,trustedContactConfirmationHeader:!0,trustedContactConfirmationMessage:!0,trustedContactsAdvisory:!0,trustedContactsAccessAdvisory:!0,trustedContactsStatusAdvisory:!0,trustedContactsAda:!0,trustedContactNameLabel:!0,relationshipLabel:!0,actionsLabel:!0,actionsAda:!0,addTrustedContactLabel:!0,updateTrustedContactLabel:!0,deleteTrustedContactLabel:!0,updateTrustedContactAda:!0,deleteTrustedContactAda:!0,manageTrustedContactHeader:!0,firstNameLabel:!0,firstNameError:!0,middleNameLabel:!0,middleNameError:!0,lastNameLabel:!0,lastNameError:!0,suffixName:!0,suffixNamePlaceholder:!0,nameSuffixesLabel:!0,relationshipOption:!0,relationshipOptionPlaceholder:!0,relationshipOptionsLabel:!0,relationshipOptionError:!0,otherRelationshipLabel:!0,otherRelationshipError:!0,otherRelationshipAdvisory:!0,otherRelationshipAda:!0,primaryAddressStatusLabel:!0,mailingAddressTypesLabel:!0,mailingAddressTypesName:!0,mailingAddressLineOneLabel:!0,mailingAddressLineOneError:!0,mailingAddressLineTwoLabel:!0,mailingAddressLineTwoError:!0,postOfficeTypesLabel:!0,cityLabel:!0,cityNamePlaceholder:!0,cityError:!0,stateLabel:!0,stateError:!0,statePlaceholder:!0,countryLabel:!0,countryPlaceholder:!0,countryError:!0,provinceLabel:!0,provinceError:!0,provincesError:!0,provincePlaceholder:!0,zipCodeAdvisory:!0,zipCodeLabel:!0,zipCodeError:!0,zipCodeExtensionError:!0,zipCodeExtensionAda:!0,postalCodeLabel:!0,postalCodeError:!0,unitedStatesRegionLabel:!0,internationalRegionLabel:!0,phoneNumberLabel:!0,additionalContactPhoneNumberLabel:!0,additionalContactOptionalPhoneNumberLabel:!0,phoneNumberError:!0,additionalContactPhoneNumberError:!0,phoneNumberRegionOptionAda:!0,emailAddressLabel:!0,emailAddressError:!0,trustedContactErrorHeader:!0,trustedContactErrorAdvisory:!0,manageTrustedContactErrorHeader:!0,manageTrustedContactErrorAdvisory:!0,aboveMinimumAgeStatusLabel:!0,aboveMinimumAgeStatusError:!0,requestMailingAddressVerificationLabel:!0,confirmAddTrustedContactLabel:!0,skipBackLabel:!0,fullNameLabel:!0,addressLabel:!0,verificationMessage:!0,verificationAdvisory:!0,userAuthorizationLabel:!0,acknowledgementConsentHeader:!0,acknowledgementConsentAdvisory:!0,termsAndConditionsHeader:!0,termsAndConditionsAdvisory:!0,termsAcceptanceStatusLabel:!0,termsAcceptanceStatusError:!0,addTrustedContactAda:!0,requestTrustedContactDisclosuresPdfLabel:!0,requestTrustedContactDisclosuresPdfAda:!0,requestTrustedContactAdvisoryLabel:!0,reviewTrustedContactsHeader:!0,attestationRequiredErrorHeader:!0,attestationRequiredAdvisory:!0,requestVerifyContactsLabel:!0,attestationReviewHeader:!0,attestationReviewContacts:!0,attestationReviewNoContacts:!0,cancelAttestationLabel:!0,verifyAttestationLabel:!0,accountDisplayMessage:!0}}})),define("profileArea/investments/suitability/components/specs/areaContainerSpec",["require","blue/util","blue-spec-shared/manage_investment_profile"],(function(e){"use strict";var t=e("blue/util"),i=e("blue-spec-shared/manage_investment_profile");return t.object.merge(i,{data:{loader:{type:"Description"},clientNameOptions:{type:"List"},multipleOptions:{type:"OnOff"},investmentProfileHelpHeaders:{type:"Description"},financialProfileHelpAccordions:{type:"Description"},investmentExperienceHelpAccordions:{type:"Description"},accountProfileHelpAccordions:{type:"Description"},scrollTarget:{type:"Description"}},actions:{requestClientNameOptions:!0,requestMyAdvisoryTeam:!0,closeFlyout:!0},settings:{helpFlyoutLabel:!0,clientNameOptionsLabel:!0,manageInvestmentProfileWarningHeader:!0,manageInvestmentProfileWarningAdvisory:!0,requestMyAdvisoryTeamLabel:!0}})})),define("profileArea/investments/suitability/components/specs/landingPageSpec",["require","blue/util","blue-spec-shared/manage_investment_profile"],(function(e){"use strict";var t=e("blue/util"),i=e("blue-spec-shared/manage_investment_profile");return t.object.merge(i,{data:{accordionItems:{type:"Description"},accounts:{type:"List"},accountsLimitExceeded:{type:"OnOff"},clientName:{type:"Description"},currentAccountId:{type:"Description"},currentClientName:{type:"Description"},hiddenAccounts:{type:"OnOff"},initModel:{type:"Description"},loader:{type:"Description"},showNoPermission:{type:"OnOff"},shrinkHeader:{type:"OnOff"}},actions:{requestHubNavigation:!0},settings:{helpFlyoutLabel:!0}})})),define("profileArea/investments/suitability/components/specs/playbackSpec",["require","blue/util","blue-spec-shared/manage_investment_profile_information"],(function(e){"use strict";var t=e("blue/util"),i=e("blue-spec-shared/manage_investment_profile_information");return t.object.merge(i,{data:{accessibleTextProgressBar:{type:"Description"},currentStep:{type:"Description"},dynamicPartial:{type:"Description"},editMode:{type:"OnOff"},experienceTableData:{type:"List"},financialInfoList:{type:"List"},initModel:{type:"Description"},investmentAccounts:{type:"List"},investmentExperienceOptionList:{type:"List"},nonResidentForeignBusinessCustomer:{type:"OnOff"},totalSteps:{type:"Description"},updateInvestmentProfileErrorList:{type:"List"},warningMsg:{type:"Description"}},actions:{exitInvestmentProfileInformation:!0,toggleEditMode:!0},states:{},settings:{}})})),define("profileArea/investments/fullyPaidLending/spec/fullyPaidLending",[],(function(){"use strict";return{}})),define("bluespec/manage_beneficiaries",[],(function(){return{name:"MANAGE_BENEFICIARIES",data:{investmentAccounts:{type:"List",items:{accountName:"Description",accountMaskNumber:"Description",accountType:{type:"Description",exportable:!0},updateStatus:"Description",attestationRequired:"OnOff",accountEntitlement:"Description"}},primaryBeneficiariesDescription:{type:"Description"},contingentBeneficiariesDescription:{type:"Description"},transferOfDeathBeneficiariesDescription:{type:"Description"},termsAcceptanceStatus:{type:"OnOff"},legalAgreementMessage:{type:"Description"},legalAgreementDisclosures:{type:"Description"},accountId:{type:"Numbers",exportable:!0},progressBarSteps:{type:"List",items:{progressBarStepName:"Description",progressBarStepDescription:"Description"}},progressBarCurrentStepDescription:{type:"Description"}},actions:{requestBeneficiariesTypeDetails:!0,exitBeneficiariesUpdate:!0,exitBeneficiaryTypeDetails:!0,updateBeneficiariesDetails:!0,verifyBeneficiariesDetails:!0,requestPreviousStep:!0,requestPreviousPage:!0,authorizeBeneficiariesDetails:!0,addBeneficiary:!0,requestAccountBeneficiariesDetails:!0,exitAccountBeneficiariesDetails:!0,requestSummaryBeneficiaries:!0,requestTransferOfDeathAgreementsDisclosures:!0,acceptTermsConditions:!0,requestIdentificationTypeOption:!0},states:{beneficiaryAdvisoriesOverlay:!0,exitConfirmationOverlay:!0},settings:{beneficiariesHeader:!0,beneficiariesDescription:!0,requestBeneficiariesTypeDetailsLabel:!0,addBeneficiaryLabel:!0,primaryBeneficiariesLabel:!0,contingentBeneficiariesLabel:!0,transferOnDeathBeneficiariesLabel:!0,editAccountBeneficiariesAdvisory:!0,editAccountBeneficiariesMessage:!0,reviewAccountBeneficiariesAdvisory:!0,confirmationHeader:!0,printAccountBeneficiariesAdvisory:!0,authorizationHeader:!0,authorizationAdvisory:!0,progressBarStepName:!0,progressBarAda:!0,requestTransferOfDeathAgreementsDisclosuresLabel:!0,termsAcceptanceStatusLabel:!0,termsAcceptanceStatusError:!0,manageBeneficiariesErrorHeader:!0,manageBeneficiariesErrorAdvisory:!0,legalAgreementHeader:!0,nextLabel:!0,cancelLabel:!0,backLabel:!0,confirmTaskLabel:!0,showsContentBelowAda:!0,hidesContentBelowAda:!0,requestPdfAda:!0,opensPdfAda:!0,exitAda:!0,confirmBeneficiariesWarningHeader:!0,beneficiariesConfirmedHeader:!0}}})),define("profileArea/investments/beneficiaries/components/spec/investment_beneficiaries",["require","blue/util","bluespec/manage_beneficiaries"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/manage_beneficiaries");return t.object.merge({data:{focusType:{type:"Description"},todPdfLink:{type:"Description"},addBeneficiaryDisabled:{type:"OnOff"},showPageLevelError:{type:"OnOff"},isDisplayError:{type:"OnOff"},accountListAvailable:{type:"OnOff"},updateFormLink:{type:"Description"},xsViewMode:{type:"Description"},accountBeneficiaries:{type:"Description"},accountEntitlement:{type:"Description"},updateStatus:{type:"Description"},accountInfo:{type:"Description"},classCode:{type:"Description"},selectedAccountId:{type:"Description"}}},i)})),define("profileArea/investments/employmentStatus/webspecs/employmentStatus",{name:"EMPLOYMENT_STATUS",actions:{requestEmploymentStatus:!0}}),define("profileArea/investments/estateBeneficiary/webspecs/estateBeneficiary",{name:"ESTATE_BENEFICIARY",actions:{requestEstateBeneficiaryCenter:!0}}),define("bluespec/options_application",[],(function(){return{name:"OPTIONS_APPLICATION",data:{brokerageAccounts:{type:"List",items:{accountNickname:"Description"}},maskedAccountName:{type:"Description"},financialEstimatedAnnualIncome:{type:"Description"},financialEstimatedLiquidNetWorth:{type:"Description"},financialEstimatedNetWorth:{type:"Description"},tradingStocksExperience:{type:"Description"},tradingFixedIncomeExperience:{type:"Description"},tradingOptionsExperience:{type:"Description"},isJPMorganEmployee:{type:"OnOff"},investmentObjectiveIncome:{type:"OnOff"},investmentObjectiveGrowth:{type:"OnOff"},investmentObjectiveSpeculation:{type:"OnOff"},personalInformationMaritalStatus:{type:"Description"},personalInformationDependents:{type:"Description"},secondaryApplicantMaritalStatus:{type:"Description"},secondaryApplicantDependents:{type:"Description"},dateOfBirth:{type:"Description"},secondaryApplicantDateOfBirth:{type:"Description"},primaryApplicantName:{type:"Description"},secondaryApplicantName:{type:"Description"},employmentInformationStatus:{type:"Description"},employmentInformationEmployer:{type:"Description"},employmentInformationOccupation:{type:"Description"},secondaryApplicantEmploymentStatus:{type:"Description"},secondaryApplicantEmployer:{type:"Description"},secondaryApplicantOccupation:{type:"Description"},termsAcceptanceStatus:{type:"OnOff"},marginTermsAcceptanceStatus:{type:"OnOff"},levelOneTrading:{type:"OnOff"},levelTwoTrading:{type:"OnOff"},annualIncomeOptions:{type:"List",items:{annualIncomeOptionName:"Description",annualIncomeOptionId:"Description"}},annualIncomeOptionId:{type:"Description"},liquidNetWorthOptions:{type:"List",items:{liquidNetWorthOptionName:"Description",liquidNetWorthOptionId:"Description"}},liquidNetWorthOptionId:{type:"Description"},netWorthOptions:{type:"List",items:{netWorthOptionName:"Description",netWorthOptionId:"Description"}},netWorthOptionId:{type:"Description"},tradingExperienceOptions:{type:"List",items:{tradingExperienceOptionName:"Description",tradingExperienceOptionId:"Description"}},tradingStocksId:{type:"Description"},tradingFixedIncomeId:{type:"Description"},tradingOptionsId:{type:"Description"},investmentObjectiveIncomeId:{type:"Description"},investmentObjectiveGrowthId:{type:"Description"},investmentObjectiveSpeculationId:{type:"Description"},maritalStatusOptions:{type:"List",items:{maritalStatusOptionName:"Description",maritalStatusOptionId:"Description"}},maritalStatusOptionId:{type:"Description"},secondaryApplicantMaritalStatusOptions:{type:"List",items:{secondaryApplicantMaritalStatusOptionName:"Description",secondaryApplicantMaritalStatusOptionId:"Description"}},secondaryApplicantMaritalStatusOptionId:{type:"Description"},dependentsOptions:{type:"List",items:{dependentsOptionName:"Description",dependentsOptionId:"Description"}},dependentsOptionId:{type:"Description"},secondaryApplicantDependentsOptions:{type:"List",items:{secondaryApplicantDependentsOptionName:"Description",secondaryApplicantDependentsOptionId:"Description"}},secondaryApplicantDependentsOptionId:{type:"Description"},employmentStatusOptions:{type:"List",items:{employmentStatusOptionName:"Description",employmentStatusOptionId:"Description"}},employmentStatusOptionId:{type:"Description"},secondaryApplicantEmploymentStatusOptions:{type:"List",items:{secondaryApplicantEmploymentStatusOptionName:"Description",secondaryApplicantEmploymentStatusOptionId:"Description"}},secondaryApplicantEmploymentStatusOptionId:{type:"Description"},marginTermsAndConditionsDetail:{type:"Description"},marginTermsAndConditionsPdfUrl:{type:"Description"},marginTermsAndConditionsTitle:{type:"Description"},marginTermsAndConditionsVersion:{type:"Description"},optionsTermsAndConditionsDetail:{type:"Description"},optionsTermsAndConditionsPdfUrl:{type:"Description"},optionsTermsAndConditionsTitle:{type:"Description"},optionsTermsAndConditionsVersion:{type:"Description"},applyForMarginStatus:{type:"OnOff"},marginTradingTermsStatus:{type:"OnOff"}},actions:{requestCollateralizedShortPutsTooltipMessage:!0,requestMarginRiskDisclosure:!0,requestOptionsApplicationTermsAndConditions:!0,requestOptionsApplicationAndRisks:!0,requestCrsForm:!0,requestMarginTermsAndConditions:!0,requestReturnToAccountPage:!0,requestReturnToAccountPageAfterSubmit:!0,requestAnnualIncomeOptions:!0,requestNetWorthOptions:!0,requestLiquidNetWorthOptions:!0,requestTradingExperienceOptions:!0,requestMaritalStatusOptions:!0,requestDependentsOptions:!0,requestEmploymentStatusOptions:!0,requestSecondaryApplicantMaritalStatusOptions:!0,requestSecondaryApplicantDependentsOptions:!0,requestSecondaryApplicantEmploymentStatusOptions:!0,requestLevelOneTrading:!0,requestLevelTwoTrading:!0,requestInvestmentObjectiveIncome:!0,requestInvestmentObjectiveGrowth:!0,requestInvestmentObjectiveSpeculation:!0,acceptTermsAndConditions:!0,acceptMarginTermsAndConditions:!0,selectAccount:!0,submitApplication:!0,clearApplication:!0,downloadDocument:!0,downloadMarginDocument:!0,closeTermsAndConditions:!0,closeMarginTermsAndConditions:!0,requestOptionsApplicationInformation:!0,requestCoveredCallsHelpMessage:!0,requestCashSecuredPutsHelpMessage:!0,requestProtectivePutsHelpMessage:!0,requestLongEquityCallsHelpMessage:!0,requestLongEquityPutsHelpMessage:!0,resetApplication:!0,requestOptionsApplicationForm:!0,requestMarginApplicationForm:!0,acceptApplyForMargin:!0,acceptMarginTradingConditions:!0,requestMarginRiskAlert:!0,requestMarginTradingInformation:!0},states:{optionsDocumentOverlay:!0,marginDocumentOverlay:!0},settings:{level1Label:!0,level2Label:!0,andLabel:!0,accountDisplayNameLabel:!0,optionsApplicationHeader:!0,optionsRequestAdvisory:!0,marginApplicationBlockerHeader:!0,marginApplicationBlockerAdvisory:!0,applicationPrefilledMessage:!0,tellUsAboutYourselfMessage:!0,chooseAccountsHeader:!0,level1StrategiesLabel:!0,coveredCallsLabel:!0,cashSecuredPutsLabel:!0,protectivePutsLabel:!0,longEquityCallsLabel:!0,longEquityPutsPutsLabel:!0,coveredCallsTooltipMessage:!0,cashSecuredPutsTooltipMessage:!0,protectivePutsTooltipMessage:!0,longEquityCallsTooltipMessage:!0,longEquityPutsTooltipMessage:!0,optionsJPMorganEmployeeAdvisory:!0,retirementAccountEligibilityMessage:!0,applicationConfirmationMessage:!0,optionsApplicationStepLabel:!0,accountErrorHeader:!0,accountErrorAdvisory:!0,returnToAccountPageLabel:!0,levelOneTradingLabel:!0,levelTwoTradingLabel:!0,choosePlaceholder:!0,chooseOptionsLevelHeader:!0,levelOneApprovedMessage:!0,levelTwoApprovedMessage:!0,financialInformationHeader:!0,combinedFinancialInformationHeader:!0,annualIncomeLabel:!0,liquidNetWorthLabel:!0,netWorthLabel:!0,householdAnnualIncomeLabel:!0,householdLiquidNetWorthLabel:!0,householdNetWorthLabel:!0,annualIncomeDescription:!0,liquidNetWorthDescription:!0,netWorthDescription:!0,netWorthOption:!0,annualIncomeOption:!0,liquidNetWorthOption:!0,tradingExperienceHeader:!0,combinedTradingExperienceHeader:!0,tradingStocksLabel:!0,tradingFixedIncomeLabel:!0,tradingOptionsLabel:!0,tradingExperienceDescription:!0,tradingExperienceOption:!0,personalInformationHeader:!0,coApplicantHeader:!0,maritalStatusLabel:!0,maritalStatusOption:!0,secondaryApplicantMaritalStatusOption:!0,dependentsLabel:!0,dependentsTenPlusOption:!0,dateOfBirthLabel:!0,employmentInformationHeader:!0,employmentStatusLabel:!0,employmentStatusOption:!0,secondaryApplicantEmploymentStatusOption:!0,employerLabel:!0,employmentOccupationLabel:!0,termsAndConditionsHeader:!0,optionsApplicationTermsAndConditionsMessage:!0,agreeToTermsConditionsAndRisksLabel:!0,acceptMarginTermsAndConditionsLabel:!0,editOptionsMarginMessage:!0,editOptionsMarginAdvisory:!0,investmentObjectiveHeader:!0,investmentCombinedObjectiveHeader:!0,investmentObjectiveIncomeLabel:!0,investmentObjectiveGrowthLabel:!0,investmentObjectiveSpeculationLabel:!0,financialEstimatedNetWorthError:!0,financialEstimatedAnnualIncomeError:!0,financialEstimatedLiquidNetWorthError:!0,tradingFixedIncomeExperienceError:!0,tradingStocksExperienceError:!0,tradingOptionsExperienceError:!0,investmentObjectiveIncomeError:!0,investmentObjectiveError:!0,personalInformationMaritalStatusError:!0,personalInformationDependentsError:!0,employmentInformationStatusError:!0,employmentInformationOccupationError:!0,employmentInformationEmployerError:!0,secondaryApplicantMaritalStatusError:!0,secondaryApplicantDependentsError:!0,secondaryApplicantEmploymentStatusError:!0,secondaryApplicantOccupationError:!0,secondaryApplicantEmployerError:!0,termsAcceptanceStatusError:!0,marginTermsAcceptanceStatusError:!0,limitedMarginTermsAcceptanceStatusError:!0,clearLabel:!0,submitLabel:!0,applicationConfirmationHeader:!0,applicationConfirmationAdvisory:!0,applicationPendingHeader:!0,applicationPendingMessage:!0,downloadDocumentLabel:!0,downloadDocumentAda:!0,downloadTermsAndConditionsAda:!0,downloadMarginTermsAndConditionsAda:!0,tradingLevelTwoMessage:!0,requestOptionsApplicationInformationLabel:!0,requestOptionsApplicationInformationAda:!0,tradingLevelMissingErrorMessage:!0,applicationInformationMessage:!0,approvedApplicationDisclaimerAdvisory:!0,approvedApplicationUpdateAdvisory:!0,applicationConfirmationDisclaimerAdvisory:!0,applicationConfirmationDisclaimerPrimaryAdvisory:!0,applicationConfirmationDisclaimerSecondaryAdvisory:!0,marginApplicationErrorHeader:!0,optionsApplicationErrorHeader:!0,resubmitApplicationAdvisory:!0,optionsApplicationReceivedHeader:!0,marginApplicationReceivedHeader:!0,updatesOptionsMarginAdvisory:!0,resetLabel:!0,requestOptionsApplicationFormLabel:!0,requestMarginApplicationFormLabel:!0,requestReturnToAccountsListLabel:!0,rejectedApplicationsErrorHeader:!0,rejectedApplicationsErrorAdvisory:!0,rejectedMarginApplicationErrorHeader:!0,rejectedMarginApplicationErrorAdvisory:!0,marginRestrictionAdvisory:!0,applyForMarginLabel:!0,applyForMarginCheckBoxLabel:!0,acceptMarginTradingConditionsLabel:!0,applyForMarginTradingAltText:!0,applyingForMarginInformationHeader:!0,applyingForMarginInformationAdvisory:!0,marginRiskAlertHeader:!0,marginRiskAlertAdvisory:!0,applyForOptionsHeader:!0,pendingMarginAppHeader:!0,pendingMarginAppAdvisory:!0,collateralizedShortPutsTooltipMessage:!0,collateralizedShortPutsLabel:!0,forCashAccountsLabel:!0,forMarginAccountsLabel:!0}}})),define("profileArea/investments/optionsApplication/spec/optionsApplication",["require","blue/util","bluespec/options_application"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/options_application");return t.object.merge(i,{settings:{marginRestrictionAdvisory:!0},data:{optionsViewMode:{type:"Description"},currentAccount:{type:"Description"},marginApplicationSharedData:{type:"Noop"},showTermsAndConditions:{type:"Boolean"},limitedMarginTermsAcceptanceStatus:{type:"Noop"},isMarginTermsAndCondition:{type:"Noop"},pageError:{type:"Description"},tradingLevel:{type:"Description"},tradingOneLevel:{type:"Description"},tradingTwoLevel:{type:"Description"},applicationPending:{type:"Boolean"},tradingOptions:{type:"Description"},fixedIncomeTradingOptions:{type:"Description"},optionsTradingOptions:{type:"Description"},isApprovedLevelOne:{type:"Description"},isApprovedLevelTwo:{type:"Description"},optionsAccountListServiceError:{type:"Description"},optionsAccountServiceError:{type:"Description"},submitApplicationServiceError:{type:"Description"},isJPMorganEmployee:{type:"Boolean"},termsConditionsHtml:{type:"Description"},title:{type:"Description"},termsConditionsPdf:{type:"Description"},optionsApplicationFormError:{type:"Description"},isJointAccount:{type:"Boolean"},showOptionLevelSelectionError:{type:"OnOff"},sameSessionApproved:{type:"OnOff"},isPrefill:{type:"Noop"},isFormCleared:{type:"Noop"},isCombinedForm:{type:"Noop"},isApplyingForOptions:{type:"Noop"},submitCombinedFormPartialError:{type:"Noop"},isFromFailedCombinedFormConfirmation:{type:"Noop"},isAccountsThirtyDayBlock:{type:"Noop"},isEligibleToApplyForOptions:{type:"Noop"},cq5Host:{type:"Description"},isOptionsMarginEnabled:{type:"OnOff"},isOptionsLevelTwoRetirementAccountsEnabled:{type:"OnOff"},marginApprovalStatus:{type:"OnOff"},isOptionsApplicationRedesignEnabled:{type:"Noop"}}})})),define("bluespec/update_investment_reporting_timeframe",[],(function(){return{name:"UPDATE_INVESTMENT_REPORTING_TIMEFRAME",data:{reportingTimeframes:{type:"List",items:{reportingTimeframeId:"Description"}},reportingTimeframeId:{type:"Description"}},actions:{updateTimeframe:!0,doNotUpdateTimeframe:!0,exitReportingTimeframe:!0},settings:{updateInvestmentReportingTimeframeHeader:!0,updateInvestmentReportingTimeframeAdvisory:!0,updateInvestmentReportingTimeframeMessage:!0,updateInvestmentReportingTimeframeConfirmationHeader:!0,updateInvestmentReportingTimeframeConfirmationAdvisory:!0,updateInvestmentReportingTimeframeConfirmationMessage:!0,updateReportingTimeframeLabel:!0,intradayLabel:!0,priorDayCloseLabel:!0,submitDefaultTimeframeLabel:!0,cancelDefaultTimeframeLabel:!0,closeLabel:!0,updateReportingTimeframeAda:!0,intradayAda:!0,priorDayCloseAda:!0,updateInvestmentReportingTimeframeErrorHeader:!0,updateInvestmentReportingTimeframeErrorAdvisory:!0}}})),define("profileArea/investments/reportingTimeframe/components/specs/reporting_timeframe_enriched",["require","blue/util","bluespec/update_investment_reporting_timeframe"],(function(e){"use strict";const t=e("blue/util"),i=e("bluespec/update_investment_reporting_timeframe");return t.object.merge(i,{data:{isButtonDisabled:{type:"OnOff"},displayConfirmationMessage:{type:"OnOff"},displayErrorMessage:{type:"OnOff"},reportingTimeframeOptionId:{type:"Description"}}})})),define("bluespec/travel_notifications",[],(function(){return{name:"TRAVEL_NOTIFICATIONS",data:{trips:{type:"List",items:{trip:{type:"List",items:{tripId:"Description",currentTrip:"OnOff",departureDate:"Date",returnDate:"Date"}}}},cards:{type:"List",items:{card:{type:"List",items:{cardId:"Numbers",cardType:"Description",cardLastFourDigits:"Description",foreignTransactionFee:"Numbers"}}}},destinations:{type:"List",items:{destination:{type:"List",items:{destinationId:"Numbers",destinationName:"Description"}}}}},actions:{addTravelNotification:!0,editTravelNotification:!0,deleteTravelNotification:!0,cancelDeleteTravelNotification:!0,confirmDeleteTravelNotification:!0},settings:{updateCardTravelNotificationsHeader:!0,currentTripsHeader:!0,upcomingTripsHeader:!0,cardsTableHeader:!0,foreignFeeTableHeader:!0,noTripsLabel:!0,confirmationMessage:!0,noTripsAdvisory:!0,tripEntryNotRequiredMessage:!0,addTravelNotificationLabel:!0,editLabel:!0,deleteTravelNotificationLabel:!0,deleteTravelNotificationHeader:!0,deleteTravelNotificationMessage:!0,editAda:!0,deleteAda:!0,travelNotificationsErrorAdvisory:!0,travelNotificationsErrorHeader:!0}}})),define("bluespec/margin_application",[],(function(){return{name:"MARGIN_APPLICATION",actions:{requestMarginApplicationForm:!0,requestMarginApplicationHelp:!0},data:{accounts:{type:"List",items:{accountNickname:"Description"}}},settings:{chooseAccountsHeader:!0,marginApplicationHeader:!0,marginApplicationHeaderAda:!0,marginApplicationAdvisory:!0,marginApplicationMessage:!0,marginApplicationErrorHeader:!0,marginApplicationErrorAdvisory:!0,equitiesRestrictionAdvisory:!0,marginApplicationRestrictionAdvisory:!0,marginApplicationLearnMoreAdvisory:!0,marginApplicationApprovedHeader:!0,marginApplicationPendingHeader:!0,marginApplicationPendingAdvisory:!0,marginApplicationSdiAccountsHeader:!0,marginApplicationOtherAccountsHeader:!0,marginApplicationIneligibleHeader:!0,marginApplicationIneligibleAdvisory:!0,marginApplicationHelpLabel:!0,rejectedApplicationsErrorHeader:!0,rejectedApplicationsErrorAdvisory:!0}}})),define("profileArea/investments/marginApplication/spec/marginApplicationContainer",["require","blue/util","bluespec/margin_application"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/margin_application");return t.object.merge({},i,{data:{showDisclosure:{type:"Boolean"}}})})),define("profileArea/investments/marginApplication/spec/marginApplicationAccountList",["require","blue/util","bluespec/margin_application"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/margin_application");return t.object.merge(i,{data:{accountListServiceError:{type:"Boolean"},currentAccount:{type:"Noop"},marginAccountList:{type:"Noop"},marginEligibleAccounts:{type:"Noop"},marginIneligibleAccounts:{type:"Noop"},pendingApplication:{type:"Noop"},approvedApplication:{type:"Noop"},displayMarginAccounts:{type:"Noop"},showMarginRestrictionAdvisory:{type:"Noop"},isAccountsThirtyDayBlock:{type:"Noop"}}})})),define("bluespec/margin_application_form",[],(function(){return{name:"MARGIN_APPLICATION_FORM",data:{termsAcceptanceStatus:{type:"OnOff"},termsAndConditionsDetail:{type:"Description"},termsAndConditionsPdfUrl:{type:"Description"},termsAndConditionsTitle:{type:"Description"},termsAndConditionsVersion:{type:"Description"},optionsTermsAndConditionsDetail:{type:"Description"},optionsTermsAndConditionsPdfUrl:{type:"Description"},optionsTermsAndConditionsTitle:{type:"Description"},optionsTermsAndConditionsVersion:{type:"Description"},marginTradingTermsStatus:{type:"OnOff"},accountDisplayName:{type:"Description"},financialEstimatedAnnualIncome:{type:"Description"},financialEstimatedLiquidNetWorth:{type:"Description"},financialEstimatedNetWorth:{type:"Description"},tradingStocksExperience:{type:"Description"},tradingFixedIncomeExperience:{type:"Description"},tradingOptionsExperience:{type:"Description"},annualIncomeOptions:{type:"List",items:{annualIncomeOptionName:"Description",annualIncomeOptionId:"Description"}},annualIncomeOptionId:{type:"Description"},liquidNetWorthOptions:{type:"List",items:{liquidNetWorthOptionName:"Description",liquidNetWorthOptionId:"Description"}},liquidNetWorthOptionId:{type:"Description"},netWorthOptions:{type:"List",items:{netWorthOptionName:"Noop",netWorthOptionId:"Noop"}},netWorthOptionId:{type:"Noop"},tradingExperienceOptions:{type:"List",items:{tradingExperienceOptionName:"Description",tradingExperienceOptionId:"Description"}},tradingStocksId:{type:"Description"},tradingFixedIncomeId:{type:"Description"},tradingOptionsId:{type:"Description"},investmentObjectiveStatus:{type:"Description"},investmentObjectiveIncomeStatus:{type:"OnOff"},investmentObjectiveGrowthStatus:{type:"OnOff"},investmentObjectiveSpeculationStatus:{type:"OnOff"},personalInformationMaritalStatus:{type:"Description"},personalInformationDependents:{type:"Description"},maritalStatusOptions:{type:"List",items:{maritalStatusOptionName:"Noop",maritalStatusOptionId:"Noop"}},maritalStatusOptionId:{type:"Noop"},dependentsOptions:{type:"List",items:{dependentsOptionName:"Noop",dependentsOptionId:"Noop"}},dependentsOptionId:{type:"Noop"},dateOfBirth:{type:"Noop"},employmentInformationStatus:{type:"Description"},employmentStatusOptions:{type:"List",items:{employmentStatusOptionName:"Noop",employmentStatusOptionId:"Noop"}},employmentStatusOptionId:{type:"Noop"},employmentInformationOccupation:{type:"Description"},employmentInformationEmployer:{type:"Description"},optionsTermsAcceptanceStatus:{type:"OnOff"}},actions:{requestMarginRiskDisclosure:!0,requestCharacteristicsAndRisks:!0,requestOptionsTermsAndConditions:!0,requestCrsForm:!0,acceptOptionsTermsAndConditions:!0,acceptTermsAndConditions:!0,clearApplication:!0,resetApplication:!0,submitApplication:!0,requestOptionsApplication:!0,closeTermsAndConditions:!0,closeOptionsTermsAndConditions:!0,downloadDocument:!0,downloadOptionsDocument:!0,requestTermsAndConditions:!0,acceptMarginTradingConditions:!0,requestReturnToAccountPage:!0,requestLiquidNetWorthOptions:!0,requestNetWorthOptions:!0,requestAnnualIncomeOptions:!0,requestTradingExperienceOptions:!0,returnToAccounts:!0,addOptionsTrading:!0,requestMaritalStatusOptions:!0,requestDependentsOptions:!0,requestEmploymentStatusOptions:!0,requestMarginApplicationForm:!0,requestLearnMore:!0,requestCashSecuredPutsDefinition:!0,requestRecurringInvesting:!0,requestPortfolioPositions:!0,requestOrderStatus:!0,requestNewAccount:!0},states:{requestDocumentOverlay:!0,requestOptionsDocumentOverlay:!0},settings:{marginApplicationLabel:!0,agreeToTermsConditionsAndRisksLabel:!0,agreeToOptionsTermsConditionsAndRisksLabel:!0,marginJPMorganEmployeeAdvisory:!0,clearLabel:!0,closeLabel:!0,nextLabel:!0,backLabel:!0,resetLabel:!0,submitLabel:!0,doneLabel:!0,downloadDocumentLabel:!0,downloadTermsAndConditionsAda:!0,downloadOptionsTermsAndConditionsAda:!0,returnToAccountPageLabel:!0,termsAndConditionsHeader:!0,annualIncomeLabel:!0,annualIncomeDescription:!0,annualIncomeOption:!0,liquidNetWorthOption:!0,netWorthOption:!0,financialInformationHeader:!0,liquidNetWorthLabel:!0,liquidNetWorthDescription:!0,netWorthLabel:!0,tradingExperienceHeader:!0,tradingExperienceDescription:!0,tradingExperienceOption:!0,choosePlaceholder:!0,tradingStocksLabel:!0,tradingFixedIncomeLabel:!0,tradingOptionsLabel:!0,marginApplicationFormHeader:!0,marginApplicationHeader:!0,accountDisplayNameLabel:!0,maritalStatusOption:!0,employmentStatusOption:!0,equitiesRestrictionAdvisory:!0,optionsCharacteristicsAndRisksMessage:!0,optionsCharacteristicsAndRisksAdvisory:!0,accountErrorHeader:!0,accountErrorAdvisory:!0,financialEstimatedAnnualIncomeError:!0,financialEstimatedLiquidNetWorthError:!0,tradingFixedIncomeExperienceError:!0,tradingStocksExperienceError:!0,tradingOptionsExperienceError:!0,termsAcceptanceStatusError:!0,optionsTermsAcceptanceStatusError:!0,marginTradingTermsStatusError:!0,rejectedApplicationsErrorHeader:!0,rejectedApplicationsErrorAdvisory:!0,applicationConfirmationHeader:!0,combinedApplicationConfirmationHeader:!0,applicationConfirmationAdvisory:!0,combinedApplicationConfirmationAdvisory:!0,applicationInformationMessage:!0,applicationConfirmationDisclaimerAdvisory:!0,applicationConfirmationDisclaimerPrimaryAdvisory:!0,applicationConfirmationDisclaimerSecondaryAdvisory:!0,combinedApplicationConfirmationDisclaimerPrimaryAdvisory:!0,combinedApplicationConfirmationDisclaimerSecondaryAdvisory:!0,applicationPendingHeader:!0,applicationPendingMessage:!0,applicationPrefilledMessage:!0,applicationApprovedHeader:!0,applicationApprovedAdvisory:!0,applicationApprovedUpdateAdvisory:!0,addOptionsTradingHeader:!0,addOptionsTradingAdvisory:!0,addOptionsTradingLabel:!0,optionsApplicationBlockerHeader:!0,optionsApplicationBlockerAdvisory:!0,updatesOptionsApplicationHeader:!0,updatesOptionsApplicationAdvisory:!0,acceptMarginTradingConditionsLabel:!0,marginApplicationErrorHeader:!0,optionsApplicationErrorHeader:!0,resubmitApplicationAdvisory:!0,optionsApplicationReceivedHeader:!0,marginApplicationReceivedHeader:!0,thanksForApplyingHeader:!0,applicationDecisionAdvisory:!0,applicationConfirmationStatusAdvisory:!0,optionsApplicationPendingHeader:!0,optionsApplicationPendingAdvisory:!0,updatesOptionsMarginAdvisory:!0,optionsLevelLabel:!0,applicationStepLabel:!0,levelOneTradingLabel:!0,coveredCallsLabel:!0,sellingCallContractAdvisory:!0,cashSecuredPutsLabel:!0,sellingPutContractAdvisory:!0,andLabel:!0,protectivePutsLabel:!0,ownSharesAdvisory:!0,levelTwoTradingLabel:!0,longEquityCallsLabel:!0,buyingCallContractLabel:!0,longEquityPutsLabel:!0,buyingPutContractLabel:!0,level1StrategiesLabel:!0,includesAllAssetLabel:!0,investmentObjectiveLabel:!0,investmentObjectiveIncomeLabel:!0,investmentObjectiveGrowthLabel:!0,investmentObjectiveSpeculationLabel:!0,personalInformationLabel:!0,maritalStatusLabel:!0,dependentsLabel:!0,dateOfBirthLabel:!0,employmentStatusLabel:!0,employmentOccupationLabel:!0,employmentInformationHeader:!0,employerLabel:!0,tradingLevelMissingErrorMessage:!0,financialEstimatedNetWorthError:!0,investmentObjectiveIncomeStatusError:!0,personalInformationMaritalStatusError:!0,personalInformationDependentsError:!0,employmentInformationStatusError:!0,employmentInformationOccupationError:!0,employmentInformationEmployerError:!0,requestOptionsApplicationFormLabel:!0,requestMarginApplicationFormLabel:!0,requestReturnToAccountsListLabel:!0,requestLearnMoreLabel:!0,applyingForMarginInformationHeader:!0,applyingForMarginInformationAdvisory:!0,marginApplicationIneligibleHeader:!0,marginApplicationIneligibleReasonsHeader:!0,marginApplicationIneligibleReasonsPrimaryAdvisory:!0,marginApplicationIneligibleReasonsSecondaryAdvisory:!0,marginApplicationEligibilityResolutionHeader:!0,marginApplicationEligibilityResolutionAdvisory:!0,applyForOptionsAltText:!0,unableToUpdateMarginHeader:!0,unableToUpdateMarginAdvisory:!0,cashSecuredPutsBlockerAdvisory:!0,combinedBlockerHeader:!0,combinedBlockerRecurringInvestmentsItem:!0,combinedBlockerCashSecuredPutsItem:!0,combinedBlockerCashSecuredPutsDefinition:!0,combinedBlockerJpmPremiumDepositItem:!0,combinedBlockerHowToApplyHeader:!0,combinedBlockerHowToApplySubHeader:!0,combinedBlockerManageInvestmentsItem:!0,combinedBlockerManageInvestmentsOne:!0,combinedBlockerManageInvestmentsTwo:!0,combinedBlockerManageInvestmentsThree:!0,combinedBlockerManageInvestmentsFour:!0,combinedBlockerOpenAccountItem:!0}}})),define("profileArea/investments/marginApplication/spec/marginApplicationForm",["require","blue/util","bluespec/margin_application_form"],(function(e){"use strict";let t=e("blue/util"),i=e("bluespec/margin_application_form");return t.object.merge({},i,{data:{showTermsAndConditions:{type:"Noop"},isMarginTermsAndCondition:{type:"Noop"},stocksTradingOptions:{type:"Noop"},fixedIncomeTradingOptions:{type:"Noop"},tradingLevel:{type:"Noop"},optionsTradingOptions:{type:"Noop"},isInternalEmployee:{type:"Noop"},marginApplicationFormError:{type:"Noop"},showOptionsApplicationBillBoard:{type:"Noop"},showMarginTradingAttestation:{type:"Noop"},show30DayBlockAlert:{type:"Noop"},showOptionsEnabledStyling:{type:"Noop"},isFullyEnabledButIneligible:{type:"Noop"},showOptionsPendingAdvisory:{type:"Noop"},acceptOptionsApplicationBillBoard:{type:"Noop"},isOptionsMarginEnabled:{type:"Noop"},isMarginApproved:{type:"Noop"},prefilledFormData:{type:"Noop"},currentFormData:{type:"Noop"},isFormCleared:{type:"Noop"},isFormFilled:{type:"Noop"},isFormDataPrefilled:{type:"Noop"},isPrefilledFormDataModified:{type:"Noop"},optionsApplicationStatus:{type:"Noop"},optionsLevel:{type:"Noop"},tradingOptions:{type:"Noop"},showOptionLevelSelectionError:{type:"Noop"},ineligibleVariant:{type:"Noop"},personalInformationDependents:{type:"Description"},showUnableToUpdateMarginApp:{type:"Noop"},isCashSecuredPutBlocker:{type:"Noop"},accountId:{type:"Noop"}}})})),define("bluespec/margin_help",[],(function(){return{name:"MARGIN_HELP",data:{whatIsMarginTradingHeader:{type:"Description"},whatIsMarginTradingPrimaryDescription:{type:"Description"},whatIsMarginTradingSecondaryDescription:{type:"Description"},marginTradingBenefitsHeader:{type:"Description"},marginTradingBenefits:{type:"Description"},marginRisksHeader:{type:"Description"},marginRisksDescription:{type:"Description"},marginExamplesHeader:{type:"Description"},marginExamplesDescription:{type:"Description"},marginCallDefinitionMessage:{type:"Description"},marginCallLabel:{type:"Description"},marginCallMessage:{type:"Description"},marginExamplesReturnsHeader:{type:"Description"},marginExamplesReturnsImage:{type:"Description"},marginExamplesReturnsImageMobile:{type:"Description"},marginExamplesLossesHeader:{type:"Description"},marginExamplesLossesImage:{type:"Description"},marginExamplesLossesImageMobile:{type:"Description"},marginExamplesLossesDescription:{type:"Description"},marginExamplesAdvisory:{type:"Description"},howToGetStartedHeader:{type:"Description"},howToGetStartedDescription:{type:"Description"},learningAndInsights:{type:"Description"},marginRiskDisclosure:{type:"Description"}},settings:{marginHelpHeader:!0,exitMarginHelpAda:!0},actions:{requestLearningAndInsights:!0,requestMarginRiskDisclosure:!0,requestLearnMore:!0,requestMarginCallMessage:!0,exitMarginHelp:!0}}})),define("profileArea/investments/marginHelp/spec/marginHelp",["require","blue/util","bluespec/margin_help"],(function(e){"use strict";var t=e("blue/util"),i=e("bluespec/margin_help");return t.object.merge({},i,{data:{open:{type:"Noop"},showLoader:{type:"Noop"},cq5Host:{type:"Noop"}}})}));