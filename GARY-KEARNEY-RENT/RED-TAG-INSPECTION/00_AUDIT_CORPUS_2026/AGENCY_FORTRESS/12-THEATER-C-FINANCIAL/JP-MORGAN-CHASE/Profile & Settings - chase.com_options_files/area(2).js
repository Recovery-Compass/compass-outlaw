(function(){this.Blue=this.Blue||{},this.Blue.version=this.Blue.version||{},this.Blue.buildDate=this.Blue.buildDate||{},this.Blue.buildHash=this.Blue.buildHash||{},this.Blue.version["caas/area"]="1.26.2",this.Blue.buildDate["caas/area"]="2025-11-05T21:03:26.178Z",this.Blue.buildHash["caas/area"]="9bacfcc8"}).call(this),define("caas/area",["require","appkit-utilities/content/dcu","appkit-utilities/content/globalContentMixin"],(function(e,t,n){"use strict";return function(e){var i=e.logger;this.onInit=function(){e.dcu=t,e.globalContentMixin=n,i.info("CAAS Area Block: onInit()")},this.onComplete=function(){i.info("CAAS Area Block: onComplete()")}}})),define("caas/services/request",[],(function(){"use strict";return function(){var e=this;e.onInit=function(){var t={},n={challengeOptions:[authUrl,"svc/wl/auth/public/gateway/ccb/fraud/authentication/challenge-options/v2/challenge-token"].join("/"),challengeStatus:[authUrl,"svc/wl/auth/public/gateway/ccb/fraud/authentication/challenge-statuses/v1/statuses"].join("/")},i={challengeInvoker:[authUrl,"svc/wl/auth/public/challenge/v1/invoker/ccb/fraud/authentication/challenge-invocations/v1/invocations"].join("/"),challengeVerify:[authUrl,"svc/wl/auth/secure/gateway/ccb/fraud/authentication/challenge-verifications/v1/verifications"].join("/")};Object.keys(n).forEach((function(e){t[e]={settings:{url:n[e],dataType:"json",type:"GET",contentType:"application/x-www-form-urlencoded",headers:{"channel-identifier":"C30"}}}})),Object.keys(i).forEach((function(e){t[e]={settings:{url:i[e],dataType:"json",type:"POST",contentType:"application/json"}}})),e.serviceCalls=t}}})),define("caas/services/serviceCalls",[],(function(){"use strict";return{get:{challengeOtpPrefix:{preAuth:[authUrl,"svc/wl/auth/public/gateway/ccb/fraud/authentication/challenge-otps/v1/prefixes"].join("/"),postAuth:[authUrl,"svc/wl/auth/secure/gateway/ccb/fraud/authentication/challenge-otps/v1/prefixes"].join("/")},challengeOptions:{preAuth:[authUrl,"svc/wl/auth/public/gateway/ccb/fraud/authentication/challenge-options/v5/options"].join("/"),postAuth:[authUrl,"svc/wl/auth/secure/gateway/ccb/fraud/authentication/challenge-options/v5/options"].join("/")},challengeOptionsv5:{preAuth:[authUrl,"svc/wl/auth/public/gateway/ccb/fraud/authentication/challenge-options/v5/options"].join("/"),postAuth:[authUrl,"svc/wl/auth/secure/gateway/ccb/fraud/authentication/challenge-options/v5/options"].join("/")},challengeOptionsv6:{preAuth:[authUrl,"svc/wl/auth/public/gateway/ccb/fraud/authentication/challenge-options/v6/options"].join("/"),postAuth:[authUrl,"svc/wl/auth/secure/gateway/ccb/fraud/authentication/challenge-options/v6/options"].join("/")},challengeOptionsv8:{preAuth:[authUrl,"svc/wl/auth/public/gateway/ccb/fraud/authentication/challenge-options/v8/options"].join("/"),postAuth:[authUrl,"svc/wl/auth/secure/gateway/ccb/fraud/authentication/challenge-options/v8/options"].join("/")},challengeStatus:{preAuth:[authUrl,"svc/wl/auth/public/gateway/ccb/fraud/authentication/challenge-statuses/v4/statuses"].join("/"),postAuth:[authUrl,"svc/wl/auth/secure/gateway/ccb/fraud/authentication/challenge-statuses/v4/statuses"].join("/")}},post:{challengeInvoker:{preAuth:[authUrl,"svc/wl/auth/public/gateway/ccb/fraud/authentication/challenge-invocations/v1/invocations"].join("/"),postAuth:[authUrl,"svc/wl/auth/secure/gateway/ccb/fraud/authentication/challenge-invocations/v1/invocations"].join("/")},challengeVerify:{preAuth:[authUrl,"svc/wl/auth/public/gateway/ccb/fraud/authentication/challenge-verifications/v2/verifications"].join("/"),postAuth:[authUrl,"svc/wl/auth/secure/gateway/ccb/fraud/authentication/challenge-verifications/v2/verifications"].join("/")}}}})),define("caas/services/caas",["./serviceCalls"],(function(e){"use strict";return function(){var t=this;t.onInit=function(){var n={},i=e.get,r=e.post;let s=(e,t)=>({settings:{url:i[e][t],dataType:"json",type:"GET",contentType:"application/x-www-form-urlencoded",headers:{"channel-identifier":"C30"}}}),a=(e,t)=>({settings:{url:r[e][t],dataType:"json",type:"POST",contentType:"application/json"}});Object.keys(i).forEach((function(e){let t=s(e,"preAuth");t.settings.url&&(n[`${e}-preAuth`]=t);let i=s(e,"postAuth");i.settings.url&&(n[`${e}-postAuth`]=i)})),Object.keys(r).forEach((function(e){let t=a(e,"preAuth");t.settings.url&&(n[`${e}-preAuth`]=t);let i=a(e,"postAuth");i.settings.url&&(n[`${e}-postAuth`]=i)})),t.serviceCalls=n}}})),define("caas/services/spaas",["require","common/interceptor/urlInterceptor","common/interceptor/request"],(function(e){"use strict";return function(t){var n=e("common/interceptor/urlInterceptor"),i=new(e("common/interceptor/request"));function r(e){return{settings:{url:e,type:"GET",xhrFields:{withCredentials:!1},disableCsrf:!0}}}this.serviceInterceptors=[n,i];var s,a={getScamProtectionContent:r(t.config.APP_CQ5_HOST_CARD+"/content/site-services/managed-services/digital-ui/{{language}}/send-money-scams/{{template_id}}.json"),getPaymentPurposeContent:r(t.config.APP_CQ5_HOST_CARD+"/content/site-services/managed-services/digital-ui/{{language}}/send-money-scams/payment_purpose.json"),getScamProtectionOptions:(s=t.config.serviceUrl+"/svc/wl/auth/secure/gateway/ccb/digital/authentication/intelligent-intercept/experience/v1/scam-options-details?risk-assessment-identifier={{riskAssessmentIdentifier}}&challenge-token-identifier=&risk-challenge-session-identifier=",{settings:{url:s,type:"GET",contentType:"application/json",xhrFields:{withCredentials:!1},headers:{}}}),getScamProtectionVerifyAPI:function(e){return{settings:{url:e,type:"POST",contentType:"application/json",xhrFields:{withCredentials:!1}}}}(t.config.serviceUrl+"/svc/wl/auth/secure/gateway/ccb/digital/authentication/intelligent-intercept/experience/v1/scam-verify-details")};this.serviceCalls=a}})),define("caas/lib/constants",{CONTROLLER_ERRORS:{applicationId:"Missing applicationId, for cxo pass 'C30'",challenge_token:"Missing challengeToken, must pass token in config object to initiate CaaS controller block",clientId:"Missing clientId, it must be passed in the config object to identify parent flow",communication_callback:"communicationCallBack is missing, unable to report without it, stopping rendering",entry_data:"Missing entry data: challengeToken or pathParams  with challengeIdentifier must be passed in config object to initiate CaaS controller block",eventId:"Missing eventId, it must be in the config object to identify parent flow",riskId:"Missing riskId, it must be in the URL params",target:'Missing target, unable to render without it, format "#your-target-div-name"',treatment:"Missing brand treatment parameter, unable to render without it"},DATA_STORE:{debitCardPin:["debitPinEncryptionKeyText","showTryAnotherMethod","optionsOTPData","isExpVisible"],inAppSend:["cancelButton","continueButton","invokerData","optionsOTPData","showExpiredError","showTryAnotherMethod"],inAppVerify:["cancelButton","continueButton","errorCallBack","invokerData","optionsOTPData","showExpiredError","showTryAnotherMethod","statusData"],inAppPull:["cancelButton","continueButton","invokerData","optionsOTPData","showExpiredError","showTryAnotherMethod"],inAppPullVerify:["cancelButton","continueButton","errorCallBack","invokerData","optionsOTPData","showExpiredError","showTryAnotherMethod","statusData"],caasContainer:["brandBarLOB","brandBarURL","cancelButton","communicationCallBack","loaded","optionsOTPData","showBrandBar","showProgressBar","showSpinner"],options:["optionsOTPData","optionsList","prefixData","source"],container:["debitPinEncryptionKeyText","showTryAnotherMethod","optionsOTPData","optionsList"],sendInApp:["brandBarLOB","brandBarURL","cancelButton","communicationCallBack","continueButton","errorCallBack","optionsOTPData","invokerData","showExpiredError"],email:["eligibleEmailContactMasked","invokerData","optionsOTPData","prefixData","invokerCallSuccessful","showTryAnotherMethod","source"],error:["errorData","optionsOTPData","optionsList","showTryAnotherMethod","source"],prefix:["prefixData","source"],sms:["eligibleTextContactDisplayNumber","invokerData","optionsOTPData","prefixData","invokerCallSuccessful","showTryAnotherMethod","source"],verifyOTP:["contactIdentifier","eligibleEmailContactMasked","eligibleReceiveCallContactDisplayNumber","eligibleTextContactDisplayNumber","invokerData","optionsOTPData","prefixData","selectedContact","invokerCallSuccessful","showTryAnotherMethod","source"],verifyInApp:["brandBarLOB","brandBarURL","cancelButton","communicationCallBack","continueButton","errorCallBack","optionsOTPData","progressBarStepPercentageComplete","showBrandBar","showExpiredError","showProgressBar","showTryAnotherMethod","invokerData","statusData"],voice:["eligibleReceiveCallContactDisplayNumber","invokerData","optionsOTPData","prefixData","invokerCallSuccessful","showTryAnotherMethod","source"],callUs:["optionsOTPData","prefixData","invokerCallSuccessful","showTryAnotherMethod","source"]},validSegment:{PAF:"PAF",PCB:"PCB",PVB:"PVB",WTH:"WTH",OTHER:"OTHER"},CHALLENGE_ROUTES:{callUs:"callUs",debitCardPin:"debitCardPin",email:"email",error:"error",inAppSend:"inAppSend",inAppVerify:"inAppVerify",inAppPull:"inAppPull",inAppPullVerify:"inAppPullVerify",landing:"landing",options:"options",overlayChallenge:"overlayChallenge",routeToParent:"routeToParent",sendInApp:"sendInApp",sendNotification:"verifyInApp",sms:"sms",verifyOTP:"verifyOTP",voice:"voice"},DEBIT_CARD_RISK_LEVEL:{LOW:"DEBIT_CARD_PIN_OR_CVV2_EXPRDT",MEDIUM:"DEBIT_CARD_PIN",HIGH:"DEBIT_CARD_PIN_CVV2_EXPRDT"},DEBIT_CARD_TYPES:{DEBIT_CARD:"D",ATM_CARD:"A",CREDIT_CARD:"C"},OTP_METHODS:{CALL_US:"CALL_US",EMAIL:"EMAIL",SMS:"SMS",VOICE:"VOICE"},SEQUENCE_ROUTES:{CALL_US:"callUs",DEBIT_CARD_PIN:"debitCardPin",DEFAULT:"options",INAPP:"inAppSend",INAPP_PULL:"inAppPull",OTP_EMAIL:"email",OTP_SMS:"sms",OTP_VOICE:"voice"},COMMUNICATION_METHOD_TYPE:{CVV_EXPDT:{CODE:"CVVEXPRDT"},DEBIT_PIN:{CODE:"DCP"},DEBIT_PIN_CVV_EXPDT:{CODE:"DCPCVVEXPRDT"},EMAIL:{CODE:"E"},INAPP:{CODE:"I",CODE_STATUS:"INAPP",OTP_PREFIX:"inapp"},INAPP_PULL:{CODE:"IP",CODE_STATUS:"INAPP_PULL",OTP_PREFIX:"inapp_pull"},OTP:{CODE:"O"},SMS:{CODE:"S"},VOICE:{CODE:"V"}},INAPP_POLLING_TOKEN_RESPONSES:{SUCCESS:"SUCCESS",PENDING:"PENDING",LOGOUT:"DENIED_LOGOUT",BAD_TOKEN:"BAD_TOKEN"},CANCEL_CONFIRMATION_MODAL:{OVERLAY:"cancelConfirmationOverlay",ACTIONS:{CANCEL_PIN_VERIFICATION:"cancelDebitPin",CONFIRM_CANCEL:"confirmCancelConfirmation",EXIT_CANCEL:"exitCancelConfirmation",REQUEST_EXIT_CONFIRMATION:"requestExitConfirmation",SHOW_CANCEL_CONFIRM_DIALOG:"showCancelConfirmationDialog",REQUEST_PREVIOUS:"requestPreviousPage"}},POLLING_INTERVAL:5,TWO_MINUTE_WARNING_INTERVAL:120,RESPONSE_CODES:{CANCELLED:"CANCELLED",FAILURE:"FAILURE",LOCKED:"LOCKED",LOGOUT:"LOGOUT",NAVIGATION:"NAVIGATION",SUCCESS:"SUCCESS"},CODE:{SYSTEM:{FAILURE:"SYS_FAILURE",INVALID_ROUTE:"SYS_INVALID_ROUTE",INVALID_CONFIG:"SYS_INVALID_CONFIG"},USER:{CANCELLED:"USER_CANCELLED",ANOTHER_METHOD:"USER_ANOTHER_METHOD"},INAPP:{SUCCESS:"IN_APP_SUCCESS",CANCELLED:"IN_APP_CANCELLED",FAILURE:"IN_APP_FAILURE"},VERIFY_RESPONSE:{SUCCESS:"VERIFY_SUCCESS",FAILURE:"VERIFY_FAILURE",MAX_ATTEMPTS:"VERIFY_MAX_INVALID_ATTEMPT_REACHED",CANCELLED:"CHALLENGECANCEL",VERIFY_LOCKED:"VERIFY_LOCKED",RE_CHALLENGE:"RE_CHALLENGED"},INVOKER_RESPONSE:{VOLUME_CONTROL:"CHALLENGE_VOLUME_CONTROL_MAX_REACHED"}},CONTENT_LANGUAGES:["EN","ES","en","es"],CAAS_CLIENT_IDS:{ZELLE:"ZELLE",WIRE:"WIRE",SSAM:"SSAM",REQUEST_FOR_PAYMENT:"RFP",AUTHENTICATION:"AUTHENTICATION",INTERNAL_FUND_TRANSFER:"TRANSFER",ULTIMATE_REWARDS:"REWARDS"},CAAS_CLIENT_PARAMS:{ZELLE:{flyout:[]},AUTHENTICATION:{caas:"",step:""},SSAM:{caas:[]},WIRES:{caas:[]}},AREA_BLOCK_LABEL:"caasArea",ESASI_EVENT_ID:"EXTRA_SEC_AT_SIGN_IN",ESASI_FLOW_LABEL:"esasi",BRAND:{CPO:"cpo",CPC:"cpc",BCB:"bcb",JPO:"jpo"},CONTENT_VARIATIONS:{CALL_US:{SUBTITLE:"requestVerificationCodeByCallAdvisory",TITLE:"requestVerificationCodeByCallHeader"},DEBIT_PIN:{ATM:"ATM_CARD",ATM_CARD_ADDITIONAL:"ATM_CARD_ADDITIONAL",CARD_LABEL:"chooseCardLabel",CVV_LABEL:"requestDebitCardCvvLabel",CVV_ERROR_HEADER:"requestDebitCardCvvErrorHeader",CVV_LENGTH:"CVV_LENGTH",DEBIT_CARD:"DEBIT_CARD",DEBIT_CARD_ADDITIONAL:"DEBIT_CARD_ADDITIONAL",DEBIT_OR_ATM:"DEBIT_OR_ATM",DEBIT_OR_ATM_ADDITIONAL:"DEBIT_OR_ATM_ADDITIONAL",EMPTY:"MISSING_MANDATORY_DATA",ERROR_HEADER:"requestDebitCardErrorHeader",EXIT_ADVISORY:"identifyVerificationExitAdvisory",EXIT_HEADER:"identifyVerificationExitHeader",EXPIRY_LABEL:"requestDebitCardExpiryLabel",EXPIRY_AND_CVV_LABEL:"expiryAndCvvLabel",EXPIRY_ERROR_HEADER:"requestDebitCardExpiryErrorHeader",EXPIRY_DATE_LENGTH:"EXPIRY_DATE_LENGTH",INVALID_EXPIRY_DATE:"INVALID_EXPIRY_DATE",INVALID_ATTEMPT:"INVALID_ATTEMPT",MAXIMUM_INVALID_ATTEMPTS:"MAXIMUM_INVALID_ATTEMPTS",METHOD_LABEL:"chooseMethodLabel",MULTIPLE:"MULTIPLE",NO_CARD_SELECTED:"NO_ACCOUNT_SELECTED",NOT_A_NUM:"NUMBER_INVALID_FORMAT",PIN:"pinLabel",PIN_ADVISORY:"requestDebitCardPinAdvisory",PIN_ERROR_HEADER:"requestDebitCardPinErrorHeader",PIN_LABEL:"requestDebitCardPinLabel",PIN_LABEL_ADVISORY:"requestDebitCardPinLabelAdvisory",PIN_LENGTH:"PIN_LENGTH",SELECT_ACCOUNT_ERROR_HEADER:"selectAccountErrorHeader",SINGLE:"SINGLE",SUBTITLE:"requestDebitCardPinAdvisory",SYSTEM_FAILURE:"SYSTEM_FAILURE",TITLE:"requestDebitCardPinHeader",VERIFY_FAILURE:"FIRST_VALIDATION_ATTEMPT_FAILED",VERIFY_FAILURE_SECOND:"SECOND_VALIDATION_ATTEMPT_FAILED",VERIFY_MAX_INVALID_ATTEMPT_REACHED:"MAXIMUM_ATTEMPTS_REACHED_SINGLE_CARD",VERIFY_MAX_INVALID_ATTEMPT_REACHED_MULTIPLE:"MAXIMUM_ATTEMPTS_REACHED_MULTIPLE_CARDS"},EMAIL:{CHOICE_LABEL:"requestEmailChoiceLabel",ERROR_LABEL:"",ERROR_LABEL_MULTIPLE:"",SUBTITLE:"requestEmailIdentificationCodeAdvisory",TITLE:"requestEmailIdentificationCodeHeader"},HEADER:{CHASE_LOGO_ADA:"chaseLogoAda"},NOTIFICATION_SENT:{EXPIRED:"IDENTIFICATION_CODE_EXPIRED",INAPP_ERROR_HEADER:"notificationSentInApplicationErrorHeader",WILL_EXPIRE:"IDENTIFICATION_CODE_WILL_EXPIRE"},OPTIONS:{OPTIONS_ADVISORY:"identityVerificationOptionsAdvisory",OPTIONS_HEADER:"identityVerificationOptionsHeader"},REQUEST_NOTIFICATION:{EXPIRED:"EXPIRED_RETRY",JPM:"JPMORGAN",REQUEST_INAPP_HEADER:"requestInApplicationIdentificationCodeHeader",REQUEST_INAPP_MESSAGE:"requestInApplicationIdentificationCodeMessage"},SMS:{CHOICE_LABEL:"requestTextChoiceLabel",ERROR_LABEL:"eligibleTextContactsError",ERROR_LABEL_MULTIPLE:"CONTACT_SELECTION_REQUIRED",SUBTITLE:"requestTextIdentificationCodeMessage",TITLE:"requestTextIdentificationCodeHeader"},VOICE:{CHOICE_LABEL:"requestReceiveCallChoiceLabel",ERROR_LABEL:"eligibleVoiceContactsError",ERROR_LABEL_MULTIPLE:"CONTACT_SELECTION_REQUIRED",SUBTITLE:"requestReceiveCallVerificationCodeAdvisory",TITLE:"requestReceiveCallVerificationCodeHeader"},PREFIX_ERROR:{CALLUS:"CODE_NOT_FOUND_CALL_US",EMAIL:"CODE_NOT_FOUND_EMAIL",HEADER:"requestHaveACodeErrorHeader",OPTIONS:"CODE_NOT_FOUND_GENERIC",SMS:"CODE_NOT_FOUND_TEXT",VOICE:"CODE_NOT_FOUND_VOICE"},VOLUME_CONTROL_ERROR:{HEADER:"requestNextIdentityVerificationStepErrorHeader",ADVISORY:"requestNextIdentityVerificationStepErrorAdvisory",VARIATION:"VOLUME_CONTROL",VOICE:"VOLUME_CONTROL_VOICE",EMAIL:"VOLUME_CONTROL_EMAIL"},ERROR_PAGE:{KEYS:{HEADER:"identityVerificationErrorHeader",ADVISORY:"identityVerificationErrorAdvisory"},VARIATIONS:{TRY_OTHER:"SYSTEM_FAILURE_TRY_ANOTHER_METHOD",CONTACT:"SYSTEM_FAILURE_CONTACT_CUSTOMER_SERVICE",NO_METHOD:"SYSTEM_FAILURE_NO_OTHER_METHOD",TRY_NEXT:"SYSTEM_FAILURE_TRY_LAST_METHOD",NO_NOTIFICATIONS:"IN_APP_NO_PUSH_NOTIFICATIONS",MAX_OTP_ATTEMPTS_REACHED:"MAX_OTP_ATTEMPTS_REACHED",MAX_OTP_ATTEMPTS_LOCKED:"MAX_OTP_ATTEMPTS_LOCKED"}}},IN_APP_INVOKER_ERROR:{VOLUME_CONTROL:"IN_APP_VOLUME_CONTROL"},VERIFY_OTP_CONTENT:{sms:{ALERT_TITLE:"submitTextVerificationCodeMessage",ALERT_MESSAGE:"submitTextVerificationCodeAdvisory",DATA_TOKEN:"eligibleTextContactDisplayNumber",LINK_LABEL:"requestAnotherTextLabel",LINK_ACTION:"requestAnotherText"},email:{ALERT_TITLE:"submitEmailVerificationCodeMessage",ALERT_MESSAGE:"submitEmailVerificationCodeAdvisory",DATA_TOKEN:"eligibleEmailContactMasked",LINK_LABEL:"requestReceiveAnotherEmailLabel",LINK_ACTION:"requestReceiveAnotherEmail"},voice:{ALERT_TITLE:"submitReceiveCallVerificationCodeMessage",ALERT_MESSAGE:"submitReceiveCallVerificationCodeAdvisory",DATA_TOKEN:"eligibleReceiveCallContactDisplayNumber",LINK_LABEL:"requestReceiveAnotherCallLabel",LINK_ACTION:"requestReceiveAnotherCall"},callUs:{LINK_LABEL:"requestMakeAnotherCallLabel",LINK_ACTION:"requestMakeAnotherCall"},errors:{CHALLENGE_VERIFICATION:"identificationCodeError",EMPTY_INPUT:"MISSING_MANDATORY_DATA",INLINE_ERROR_KEY:"submitIdentificationCodeErrorHeader",INVALID_FORMAT:"INVALID_FORMAT",INVALID_CHARACTERS:"INVALID_CHARACTERS",MINIMUM_LENGTH:"MINIMUM_LENGTH_REQUIRED",VERIFY_FAILURE:"IDENTIFICATION_CODE_INVALID"}},RESERVED_KEY_ENTRIES:["Backspace","Tab","Shift","Control","ArrowLeft","ArrowRight","Delete","Meta","Enter"],CHAR_REMOVAL_ENTRIES:["Backspace","Delete"],ALLOWED_STEPS:{callUs:!0,debitCardPin:!0,email:!0,error:!0,inAppSend:!0,inAppVerify:!0,inAppPull:!0,inAppPullVerify:!0,landing:!0,options:!0,sms:!0,verifyOTP:!0,voice:!0},OTP_SELECT_CONTACT_ERROR:{EMAIL:"#emailContact-select",SMS:"#smsNumber-select",VOICE:"#voiceNumber-select"},ADDITIONAL:"ADDITIONAL_VERIFICATION",ALTERNATE:"ALTERNATE_VERIFICATION",AUTH_TYPE_POST:"postAuth",AUTH_TYPE_PRE:"preAuth",AUTH_TYPE_FIRST:"Post",AUTH_TYPE_SECOND:"Pre",BRAND_BAR_WARNING_MESSAGE:"Missing brandBarURL. Defaulting to CPO",CANCEL_TYPE:"cancel",DEFAULT_DEVICE_COOKIE:"adtoken",DEFAULT_LOB:"DEFAULT",DEFAULT_PERCENTAGE:50,ERROR_MESSAGE_TYPE:"error",INAPP_IMAGE_URL:"/content/mktservices/digital-assets/image.original.png/illustration/chase/spot/ill_spot_in_app_verification.png",INITIAL:"INITIAL_VERIFICATION",INVALID_ROUTE_ERROR_MESSGAGE:"Error: Attempted to navigate with invalid route",MULTIPLE:"MULTIPLE",MULTIPLE_THRESHOLD:1,NAVIGATION_TYPE:"navigation",PHONE_NUMBER_WARNING_MESSAGE:"Missing segmentPhoneNumber. Defaulting to segment phone number OTHER",POLLING_INTERVAL_SERVER_ERROR_MESSAGE:"Error: no retry internal was sent from the parent",PROGRESS_BAR_WARNING_MESSAGE:"Missing progressBarStepPercentageComplete. Defaulting to 50%",PUBLIC_KEY_NOT_FOUND_MESSAGE:"Public key not found.",PUBLIC_URL:"http://manhattan.jpmchase.net/",RADIO_BUTTON_LIST_SIZE:2,ROUTE_TO_PARENT_ERROR_MESSAGE:"Error: Challenge Option is not supported",SUCCESS_MESSAGE_TYPE:"success",USER_CANCELLED_MESSAGE:"User has chosen to cancel.",API_RESPONSE_FAILED_MESSAGE:"Api response failed.",WARNING_MESSAGE_TYPE:"warning",DEBIT:{min_card_length:1,selection_card_length:3},REQ_LIST:{inAppDeviceList:"inAppDeviceList",inAppPullDeviceList:"inAppPullDeviceList",cardList:"cardList",emailList:"emailList",phoneList:"phoneList"},SEQUENCE_LIST:{callUs:"CALL_US",debitCardPin:"DEBIT_CARD_PIN",inApp:"INAPP",inAppPull:"INAPP_PULL",sms:"OTP_SMS",email:"OTP_EMAIL",voice:"OTP_VOICE"},VALIDATORS:{OTP:{otpInput:{max:8,min:8}},DEBIT_PIN:{pinInput:{max:4,min:4}}},DELIVERY_METHOD_CODES:{IVR:"CALL_IVR"},USER_SEGMENT_IDENTIFIERS:{INTERACTIVE_VOICE_RESPONSE:"IVR",ULTIMATE_REWARDS:"UR"},REGEX:{SLASHES:/\//g,NUMBERS_ONLY:/^\d*$/,EXP_DATE_CHARACTERS:/^[0-9/]*$/},EXP_DATE_INPUT_VALID_KEY_CODES:[8,46,9,27,13,37,38,39,40],scamFlow:"#/dashboard/caas/scamprotection/index",MAINTAIN_CURRENT_URL:"",OTP_OPTIONS_METHOD_LIST:["CALLUS","EMAIL","OPTIONS","SMS","VOICE"],SPAAS_INTERCEPTER_BODY_TARGET:"#intercepterBody",SPAAS_MAIN_BODY_TARGET:"#scam-options",PAYMENT_RISK_ACCEPTED_ERROR:"paymentRiskAccceptedError",UNACCEPTED:"UNACCEPTED",CHASE_LOGO:"Chase logo",DCP_LOGO:"Debit card logo",EMAIL_LOGO:"Email logo",SMS_LOGO:"Mobile message logo",VOICE_LOGO:"Mobile call logo",INAPP_PUSH_LOGO:"Mobile notification logo",INAPP_PULL_LOGO:"Mobile phone logo",MISSING_LOGO_ALT_TEXT_STRING:"&nbsp;",MISSING_CONTENT_STRING:"CqNc",IFRAME_ORIGIN_PREFIX:"fromOrigin",COMPLETE_CHALLENGE_URL:"dashboard/caas/challenge/completeChallenge",CAAS_SESSION_STORAGE_KEY:"CAAS_PARAMS_",DEFAULT_OCTAGON_BRIDGE_ENABLED:"off",V5_OPTIONS_API_VERSION:"v5",V8_OPTIONS_API_VERSION:"v8",splitIOFeatureFlags:{cxo_caas_rewards_octagon_enabled:!1,cxo_caas_challenge_options_api_version:"v5",cxo_caas_verizon_otp:!1,cxo_caas_area_octagon_bridge_enabled:!1},splitIOFeatureFlagsMap:{cxo_caas_challenge_options_api_version:"optionsApiVersion",cxo_caas_verizon_otp:"verizonFlagEnabled",cxo_caas_area_octagon_bridge_enabled:"octagonEnabledFlows"},OCTAGON_REDIRECT_ENABLED:"app.caas.octagonRedirectEnabled"}),define("caas/shared/helper",["require","caas/lib/constants"],(function(e){"use strict";var t=e("caas/lib/constants");const n=function(e,...t){return t.reduce(((e,t)=>e&&e[t]),e)};return{appendParamsToUrl:function(e,t){let n;try{n=new URL(e)}catch(t){if("string"!=typeof e)return null;n=e.trim()}if(Object.keys(t).length<1)return n.toString();let i=new URLSearchParams;for(const e in t)t.hasOwnProperty(e)&&i.append(e,t[e]);return n.toString()+"?"+i.toString()},defaults:function(e,t){if(null==e)return t;if(typeof e!=typeof t)return t;return Array.isArray(t)!==Array.isArray(e)?t:e},get:function(e,t){if(t&&e&&""!==t.trim()&&"object"==typeof e){var n,i=t.split("."),r=i.length,s=e;for(n=0;n<r;n++){let e=i[n].split("[");for(let t=0;t<e.length;t++){if(null==(s=s[e[t].replace("]","")]))return null}}return s}return null},getNested:n,getSpecEnrichment:function(e,t){let n=Object.keys(t);for(var i=0;i<n.length;i++){let s=n[i],a=Object.keys(t[s]);for(var r=0;r<a.length;r++){let n=a[r];e[s]=e[s]||{},e[s][n]=t[s][n]}}return e},getValueFromEvent:function(e){var t=n(e,"target")||n(e,"domEvent","target")||{};return n(t,"selectedRadio")||n(t,"value")},isEmpty:function(e){const t=Array.isArray(e)&&0===e.length;return null==e||0===Object.keys(e).length||t},jsonParser:function(e,t){try{return JSON.parse(e)}catch(e){return t}},urlHasValidDomain:e=>{try{return new URL(e).hostname.endsWith(".chase.com")}catch(e){return!1}},getPostTargetOrigin:()=>{const e=location.ancestorOrigins,n=t.IFRAME_ORIGIN_PREFIX;if(e&&e.length>0)return e[0];try{const e=new URL(window.parent[0].location),t=new URLSearchParams(e.search).get(n);if(t.length)return t}catch{return""}return""}}})),define("caas/lib/dataStore",[],(function(){"use strict";var e={};return{get:function(t,n){for(var i=0;i<n.length;i++)t[n[i]]=e[n[i]]},set:function(t,n){for(var i=0;i<n.length;i++)e[n[i]]=t[n[i]]},clear:function(t,n){for(var i=0;i<n.length;i++)delete e[n[i]]},wipe:function(){e={}}}})),define("caas/dataProvider/requestOptions",[],(function(){"use strict";function e(e,t,n,i){i.set("caasContainer.optionsError",null),i.set("caasContainer.optionsError",t)}return{mappers:{mfa:{challengeOptions:{success:function(t,n,i,r){n?(r.set("caasContainer.optionsData",null),r.set("caasContainer.optionsData",n)):e(0,n,0,r)},failure:e}}}}})),define("caas/dataProvider/requestCaas",["require","caas/lib/constants","caas/shared/helper"],(function(e){"use strict";var t=e("caas/lib/constants"),n=e("caas/shared/helper").jsonParser;function i(e,t,n,i){n.set(e,null),n.set(e,t),i&&n.set("container.showLoader",!1)}function r(e,t,n,r){i("container.optionsError",t,r,!0)}function s(e,t,n,s){t?i("container.optionsData",t,s,!1):r(0,t,0,s)}function a(e,t,n,r){i("container.optionsError",t,r,!0)}function o(e,t,n,r){t?i("container.optionsData",t,r,!1):a(0,t,0,r)}function c(e,t,n,r){i("debitCardPin.publicKeysError",t,r)}function l(e,t={},n,r){t&&"object"==typeof t.keys&&t.keys.length?i("debitCardPin.publicKeys",t,r):c(0,t,0,r)}function u(e,t,n,r){i("inAppVerify.statusError",t,r),i("inAppPullVerify.statusError",t,r)}function d(e,t,n,r){t?(i("inAppVerify.statusData",t,r),i("inAppPullVerify.statusError",t,r)):u(0,t,0,r)}function f(e,r,s,a){if(e){let s=n(e.params,{});var o="verifyOTP.verifyError";[t.COMMUNICATION_METHOD_TYPE.CVV_EXPDT.CODE,t.COMMUNICATION_METHOD_TYPE.DEBIT_PIN.CODE,t.COMMUNICATION_METHOD_TYPE.DEBIT_PIN_CVV_EXPDT.CODE].includes(s.communicationMethodTypeCode)&&(o="debitCardPin.pinError"),i(o,r,a)}}function h(e,r,s,a){if(e&&r){let s=n(e.params,{});var o="verifyOTP.verifyData";[t.COMMUNICATION_METHOD_TYPE.CVV_EXPDT.CODE,t.COMMUNICATION_METHOD_TYPE.DEBIT_PIN.CODE,t.COMMUNICATION_METHOD_TYPE.DEBIT_PIN_CVV_EXPDT.CODE].includes(s.communicationMethodTypeCode)&&(o="debitCardPin.pinData"),i(o,r,a)}else f(e,r,0,a)}function p(e){var n={};return n[t.COMMUNICATION_METHOD_TYPE.INAPP.CODE]=t.CHALLENGE_ROUTES.inAppSend,n[t.COMMUNICATION_METHOD_TYPE.INAPP_PULL.CODE]=t.CHALLENGE_ROUTES.inAppPull,n[t.COMMUNICATION_METHOD_TYPE.EMAIL.CODE]=t.CHALLENGE_ROUTES.email,n[t.COMMUNICATION_METHOD_TYPE.SMS.CODE]=t.CHALLENGE_ROUTES.sms,n[t.COMMUNICATION_METHOD_TYPE.VOICE.CODE]=t.CHALLENGE_ROUTES.voice,n[e]}function m(e,t,r,s){if(e){i(`${p(n(e.params,{}).communicationMethodTypeCode)}.invokerError`,t,s)}}function g(e,t,r,s){if(e&&t){i(`${p(n(e.params,{}).communicationMethodTypeCode)}.invokerData`,t,s)}else m(e,t,0,s)}function E(e,t,n,r){if(e){let n=e.options;n.source&&i(n.source+".prefixError",t,r)}}function v(e,t,n,r){if(e&&t){let n=e.options;n.source&&i(n.source+".prefixData",t,r)}else E(e,t,0,r)}return{mappers:{caas:{"apigwPublicKeys-postAuth":{success:l,failure:c},"apigwPublicKeys-preAuth":{success:l,failure:c},"challengeInvoker-postAuth":{success:g,failure:m},"challengeInvoker-preAuth":{success:g,failure:m},"challengeOptions-postAuth":{success:o,failure:a},"challengeOptions-preAuth":{success:s,failure:r},"challengeOptionsv5-postAuth":{success:o,failure:a},"challengeOptionsv5-preAuth":{success:s,failure:r},"challengeOptionsv6-postAuth":{success:o,failure:a},"challengeOptionsv6-preAuth":{success:s,failure:r},"challengeOptionsv8-postAuth":{success:o,failure:a},"challengeOptionsv8-preAuth":{success:s,failure:r},"challengeOtpPrefix-postAuth":{success:v,failure:E},"challengeOtpPrefix-preAuth":{success:v,failure:E},"challengeStatus-postAuth":{success:d,failure:u},"challengeStatus-preAuth":{success:d,failure:u},"challengeVerify-postAuth":{success:h,failure:f},"challengeVerify-preAuth":{success:h,failure:f}}}}})),define("caas/dataProvider/requestInvoker",[],(function(){"use strict";function e(e,t,n,i){i.set("sendInApp.invokerError",null),i.set("sendInApp.invokerError",t)}return{mappers:{mfa:{challengeInvoker:{success:function(t,n,i,r){n?(r.set("sendInApp.invokerData",null),r.set("sendInApp.invokerData",n)):e(0,n,0,r)},failure:e}}}}})),define("caas/lib/parametersValidator",["require","caas/lib/constants"],(function(e){"use strict";var t=e("caas/lib/constants");const n=(e,t)=>!!e[t],i=(e,i={})=>{let r=[];if(!i.communicationCallBack)return[t.CONTROLLER_ERRORS.communication_callback];return["applicationId","clientId","eventId","target"].filter((e=>!n(i,e))).forEach((e=>r.push(t.CONTROLLER_ERRORS[e]))),((e,n={},i)=>{if(i.length){let r={type:t.ERROR_MESSAGE_TYPE,code:t.CODE.SYSTEM.INVALID_CONFIG,data:i};e.handleClientCommunication({privateDataObject:r},n.communicationCallBack)}})(e,i,r),r};return{getUrlBasedErrors:(e,i={})=>{if(i.intraRouter)return!0;let r=[];return["applicationId","clientId","eventId"].filter((e=>!n(i,e))).forEach((e=>r.push(t.CONTROLLER_ERRORS[e]))),r},isValid:(e,t={})=>{if(t.intraRouter)return!0;return!i(e,t).length}}})),define("caas/dataProvider/requestStatus",[],(function(){"use strict";function e(e,t,n,i){i.set("verifyInApp.statusError",null),i.set("verifyInApp.statusError",t)}return{mappers:{mfa:{challengeStatus:{success:function(t,n,i,r){n?(r.set("verifyInApp.statusData",null),r.set("verifyInApp.statusData",n)):e(0,n,0,r)},failure:e}}}}})),define("caas/services/interceptors/optionsInterceptor",[],(function(){"use strict";return{before:function(e){var t=e&&e.url||"";if(-1!==t.indexOf("challenge-options")){let n=e.headers;e.url=`${t}/{${n["user-identifier"]}}`,delete n["user-identifier"]}}}})),define("caas/dataProvider/requestVerify",[],(function(){"use strict";function e(e,t,n,i){i.set("debitCardPin.pinError",null),i.set("debitCardPin.pinError",t)}return{mappers:{mfa:{challengeVerify:{success:function(t,n,i,r){n?(r.set("debitCardPin.pinData",null),r.set("debitCardPin.pinData",n)):e(0,n,0,r)},failure:e}}}}})),define("caas/lib/navigation",["require","caas/lib/constants"],(function(e){"use strict";var t=e("caas/lib/constants"),n=function(e,t){this.context=e,this.communicationCallback=t};return n.prototype.routeToParent=function(e,t,n={}){var i={type:e,code:t,data:n};"navigation"!==e&&this.context.exitBlock(i),this.communicationCallback&&this.context.privateState(this.communicationCallback,{privateDataObject:i})},n.prototype.router=function(e){if(e===t.CHALLENGE_ROUTES.routeToParent)this.routeToParent(t.ERROR_MESSAGE_TYPE,t.CODE.SYSTEM.INVALID_ROUTE,t.ROUTE_TO_PARENT_ERROR_MESSAGE);else if(this.isValidRoute(e))this.intraRouter(e);else{var n=`${t.INVALID_ROUTE_ERROR_MESSGAGE} ${e}`;this.routeToParent(t.ERROR_MESSAGE_TYPE,t.CODE.SYSTEM.INVALID_ROUTE,n)}},n.prototype.clearRouteQuery=function(e={}){return e.query={params:{},string:""},e.action={name:"index",params:{}},e},n.prototype.buildClientParams=function(e=""){let n=e===t.CHALLENGE_ROUTES.debitCardPin;const i=this.context.eventId,r=this.context.clientId,s=this.context.originatorId;let a=t.CAAS_CLIENT_PARAMS[r]||{},o=s?[e,r+"_"+i,s]:n?[e,r+"_"+i,this.context.getDebitCardRiskLevel().toString().toLowerCase()]:[e,r+"_"+i,t.AREA_BLOCK_LABEL];const c=this.context.routeToObject&&this.context.routeToObject();return c&&c.action.params.flyout?(o.unshift("caas"),a.flyout=o):a.hasOwnProperty("caas")&&a.hasOwnProperty("step")?(a.caas=e,a.step="confirmIdentity",a.pageExperienceType=i===t.ESASI_EVENT_ID?t.ESASI_FLOW_LABEL:t.AREA_BLOCK_LABEL):a={caas:o},a},n.prototype.buildRoute=function(e){return(e=e||{area:{},controller:{},action:{}}).area.name=this.context.areaName||"caas",e.controller.name=this.context.controllerName||"challenge",e.action.name="index",e.query&&e.query.string.length&&(e=this.clearRouteQuery(e)),e},n.prototype.intraRouter=function(e){const n=t.ALLOWED_STEPS[e]&&e||"options",i=this.buildClientParams(n),r=this.context.routeToObject&&this.context.routeToObject(),s=r&&r.action.params.flyout?t.MAINTAIN_CURRENT_URL:this.buildRoute(r);let a={privateDataObject:{intraRouter:n}};this.context.state(s,i),this.context.routeToChallenge(a)},n.prototype.routeToSpaas=function(e){var n={type:"",code:"",data:e};this.context.exitBlock(n),this.context.privateState(t.scamFlow,{privateDataObject:e})},n.prototype.isValidRoute=function(e){return-1!==Object.values(t.CHALLENGE_ROUTES).indexOf(e)},n})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("splitio/octagon-featureflags-splitio.umd",["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).OctagonFeatureFlagsSplitIO={})}(this,(function(e){"use strict";function t(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function n(e){return t(e)?"message"in e?`${e.message}`:JSON.stringify(e):`${e}`}var i=Object.defineProperty,r=(e,t,n)=>((e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n);class s{constructor(){r(this,"metaData"),r(this,"moduleStore"),this.metaData={modules:{}},this.moduleStore={}}registerModule(e,t){if(!this.has(e)){if(!Reflect.defineProperty(this.moduleStore,e,{value:t,configurable:!1,enumerable:!0,writable:!1}))throw new Error(`Unable to set "${e}" in Octagon global object`);this.metaData.modules[e]=(null==t?void 0:t.meta)||{version:"unknown"}}return this.get(e)}has(e){return Reflect.has(this.moduleStore,e)}get(e){return Reflect.get(this.moduleStore,e)}meta(){return this.metaData}}const a=globalThis||window||self||global||{};void 0===a.Octagon&&Reflect.defineProperty(a,"Octagon",{value:new s,configurable:!1,enumerable:!0,writable:!1});const o=a.Octagon,c=e=>o.registerModule(`sharedData:${e}`,(()=>{let e,t;const n=new Promise((e=>{t=e}));return{get:()=>n,getData:()=>e,meta:{version:"1.1.1",name:"@octagon/shared-data",created:(new Date).getTime()},set:n=>(e||(e=n,t(n)),e)}})());var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function d(e,t,n){if(n||2===arguments.length)for(var i,r=0,s=t.length;r<s;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;const f="SplitIOSDK",h="SplitIOSDK-Client",p="SplitIOSDK-AttributesReady-Start",m="SplitIOSDK-AttributesReady-End",g="SplitIOSDK-DefaultClient-AttributesReady-Start",E="SplitIOSDK-DefaultClient-AttributesReady-End",v="SplitIOSDK-UserClient-AttributesReady-Start",T="SplitIOSDK-UserClient-AttributesReady-End";function y(){return c(f).getData()}function A(){return c(h).getData()}async function C(){c(p).getData()&&await c(m).get(),c(g).getData()&&await c(E).get(),c(v).getData()&&await c(T).get()}const I="octagondefault";function S(e){return e||I}async function b(e){await e.ready().catch((e=>{throw e}))}async function _(){const e=await c(f).get(),t=R(e,A()),{splitSdk:n}=e;return n.client(t)}function O(){const e=y();if(!e)return null;const{splitSdk:t}=e,n=R(e,A());return t.client(n)}function R(e,t){return(null==t?void 0:t.splitKey)??(null==e?void 0:e.splitKey)??I}function N(e,n){const i=e.filter((e=>{const i=n[e];if(void 0===i)return!0;const r=t(s=i)?s.treatment:s;var s;return null===r||""===r}));return i.length?`Split: Default feature value is not present for [${i.join(", ")}]`:null}function L(e,t){let n={};for(const[i,r]of Object.entries(e)){const e=D(r,t[i]);n={...n,[i]:e}}return n}function D(e,t){const{treatment:n,config:i}=e;return"control"===n?t??null:i?e:"off"!==n&&("on"===n||n)}var P=Object.assign||function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");e=Object(e);for(var t=1;t<arguments.length;t++){var n=Object(arguments[t]);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},w=115,x=223,M=311,k=315,V=318,B=319,H="settings",U="Factory instantiation",F="Client instantiation",q="sync:featureflag-changes: ",G=new Set(["splitsdkclientkey","splitsdkversion","splitsdkmachineip","splitsdkmachinename","splitsdkimpressionsmode","host","referrer","content-type","content-length","content-encoding","accept","keep-alive","x-fastly-debug"]);function z(e,t){var n;if(null===(n=e.sync.requestOptions)||void 0===n?void 0:n.getHeaderOverrides)try{var i=e.sync.requestOptions.getHeaderOverrides({headers:P({},t)});Object.keys(i).filter((function(e){return!G.has(e.toLowerCase())})).forEach((function(e){return t[e]=i[e]}))}catch(t){e.log.error("Problem adding custom headers to request decorator: "+t)}return t}var K="Global fetch API is not available.";var Y="control",j={treatment:Y,config:null},W="DEBUG",X="OPTIMIZED",Q="NONE",J="localhost",Z="standalone",$="producer",ee="consumer",te="consumer_partial",ne="MEMORY",ie="LOCALSTORAGE",re="GRANTED",se="DECLINED",ae="UNKNOWN",oe="getTreatment",ce="getTreatments",le="getTreatmentWithConfig",ue="getTreatmentsWithConfig",de="getTreatmentsByFlagSet",fe="getTreatmentsByFlagSets",he="getTreatmentsWithConfigByFlagSet",pe="getTreatmentsWithConfigByFlagSets",me="track",ge="split",Ee="splits",ve="names",Te="te",ye="IN_SEGMENT",Ae={headers:{"Cache-Control":"no-cache"}};function Ce(e){return"users="+encodeURIComponent(e)}function Ie(e,t,n){var i=e.urls,r=e.sync.__splitFiltersValidation&&e.sync.__splitFiltersValidation.queryString,s=e.sync.impressionsMode,a=e.sync.flagSpecVersion,o=function(e,t){var n=t.getOptions,i=t.getFetch,r=e.log,s=e.core.authorizationKey,a=e.version,o=e.runtime,c=o.ip,l=o.hostname,u=n&&n(e),d=i&&i(e);d||r.error(303,[K]);var f={Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+s,SplitSDKVersion:a};return c&&(f.SplitSDKMachineIP=c),l&&(f.SplitSDKMachineName=l.replace(/[^\x00-\xFF]/g,"")),function(t,n,i,s){void 0===n&&(n={}),void 0===i&&(i=function(){}),void 0===s&&(s=!1);var a=P({headers:z(e,P({},f,n.headers||{})),method:n.method||"GET",body:n.body},u);return d?d(t,a).then((function(e){return e.ok?(i(),e):e.text().then((function(t){return Promise.reject({response:e,message:t})}))})).catch((function(e){var n=e&&e.response,a="";if(n)switch(n.status){case 404:a="Invalid SDK key or resource not found.";break;default:a=e.message}else a=e.message||"Network Error";n&&403===n.status||r[s?"info":"error"](322,[n?n.status:"NO_STATUS",t,a]);var o=new Error(a);throw o.statusCode=n&&n.status,i(o),o})):Promise.reject(new Error(K))}}(e,t);return{getSdkAPIHealthCheck:function(){var e=i.sdk+"/version";return o(e).then((function(){return!0})).catch((function(){return!1}))},getEventsAPIHealthCheck:function(){var e=i.events+"/version";return o(e).then((function(){return!0})).catch((function(){return!1}))},fetchAuth:function(e){var t=i.auth+"/v2/auth?s="+a;if(e){var r=e.map(Ce).join("&");r&&(t+="&"+r)}return o(t,void 0,n.trackHttp("to"))},fetchSplitChanges:function(t,s,c){var l=i.sdk+"/splitChanges?s="+a+"&since="+t+(r||"")+(c?"&till="+c:"");return o(l,s?Ae:void 0,n.trackHttp("sp")).catch((function(t){throw 414===t.statusCode&&e.log.error(327),t}))},fetchSegmentChanges:function(e,t,r,s){var a=i.sdk+"/segmentChanges/"+t+"?since="+e+(s?"&till="+s:"");return o(a,r?Ae:void 0,n.trackHttp("se"))},fetchMemberships:function(e,t,r){var s=i.sdk+"/memberships/"+encodeURIComponent(e)+(r?"?till="+r:"");return o(s,t?Ae:void 0,n.trackHttp("ms"))},postEventsBulk:function(e,t){var r=i.events+"/events/bulk";return o(r,{method:"POST",body:e,headers:t},n.trackHttp("ev"))},postTestImpressionsBulk:function(e,t){var r=i.events+"/testImpressions/bulk";return o(r,{method:"POST",body:e,headers:P({SplitSDKImpressionsMode:s},t)},n.trackHttp("im"))},postTestImpressionsCount:function(e,t){var r=i.events+"/testImpressions/count";return o(r,{method:"POST",body:e,headers:t},n.trackHttp("ic"))},postUniqueKeysBulkCs:function(e,t){var r=i.telemetry+"/v1/keys/cs";return o(r,{method:"POST",body:e,headers:t},n.trackHttp(Te))},postUniqueKeysBulkSs:function(e,t){var r=i.telemetry+"/v1/keys/ss";return o(r,{method:"POST",body:e,headers:t},n.trackHttp(Te))},postMetricsConfig:function(e,t){var r=i.telemetry+"/v1/metrics/config";return o(r,{method:"POST",body:e,headers:t},n.trackHttp(Te),!0)},postMetricsUsage:function(e,t){var r=i.telemetry+"/v1/metrics/usage";return o(r,{method:"POST",body:e,headers:t},n.trackHttp(Te),!0)}}}function Se(e,t,n,i){void 0===i&&(i="task");var r,s,a,o=0,c=!1,l=0;function u(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];return o++,e.debug(37,[i]),r=(r?r.then((function(){return t.apply(void 0,n)})):t.apply(void 0,n)).then((function(e){return o--,e}))}function d(e){return u.apply(void 0,s).then((function(t){return c&&e===l&&(a=setTimeout(d,n,e)),t}))}return{execute:u,isExecuting:function(){return o>0},start:function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(!c)return c=!0,l++,s=t,e.debug(36,[i,n]),d(l)},stop:function(){c&&(c=!1,e.debug(38,[i]),clearTimeout(a),a=void 0)},isRunning:function(){return c}}}function be(e,t,n,i,r,s,a,o){void 0===a&&(a=0);var c,l=0;return Se(e,(function(){if(n.isEmpty()&&!c)return Promise.resolve();var i="number"==typeof(c=n.pop(c)).length?c.length+" "+r:r;e[o?"debug":"info"](116,[i]);var u=JSON.stringify(s?s(c):c);return a||(c=void 0),t(u).then((function(){l=0,c=void 0})).catch((function(t){a?l===a?(l=0,c=void 0,e[o?"debug":"warn"](209,[i,t])):(l++,e[o?"debug":"warn"](210,[i,t])):e[o?"debug":"warn"](209,[i,t])}))}),i,r+" submitter")}function _e(e,t){var n,i=!1,r=e.start;e.start=function(){i=!0,n=setTimeout(r,t)};var s=e.stop;return e.stop=function(){i=!1,clearTimeout(n),s()},e.isRunning=function(){return i},e}var Oe="events";function Re(e){var t=e.settings,n=t.log,i=t.scheduler.eventsPushRate,r=t.startup.eventsFirstPushWindow,s=e.splitApi.postEventsBulk,a=e.storage.events,o=be(n,s,a,i,Oe);return r>0&&(o=_e(o,r)),a.setOnFullQueueCb((function(){o.isRunning()&&(n.info(w,[Oe]),o.execute())})),o}function Ne(e,t){var n;if(ke(e))for(var i=Object.keys(e),r=0;r<i.length&&!n;r++){var s=i[r];t(e[s],s,e)&&(n=e[s])}else if(Array.isArray(e))for(r=0;r<e.length&&!n;r++){t(e[r],r,e)&&(n=e[r])}return n}function Le(e,t){if(Array.isArray(e)&&"function"==typeof t)for(var n=0;n<e.length;n++)if(!0===t(e[n],n,e))return n;return-1}function De(e,t){return Object.keys(e).forEach((function(n){return t(e[n],n,e)})),e}function Pe(e,t,n){var i=n;try{var r=t.split("."),s=e;r.forEach((function(e){return s=s[e]})),void 0!==s&&(i=s)}catch(e){}return i}function we(e){return!0===e||!1===e}function xe(e){return e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&(Number.isFinite?Number.isFinite(e):isFinite(e))}function Me(e){return e instanceof Number&&(e=e.valueOf()),e!=e}function ke(e){return null!==e&&"object"==typeof e&&(e.constructor===Object||null!=e.constructor&&"Object"===e.constructor.name)}function Ve(e){return"string"==typeof e||e instanceof String}function Be(e){return Ve(e)?e.toUpperCase():e}function He(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var r=e;if(ke(t)&&Object.keys(t).forEach((function(e){var n=t[e];ke(n)&&(n=r[e]&&ke(r[e])?He({},r[e],n):He({},n)),void 0!==n&&(r[e]=n)})),n&&n.length){var s=n.splice(0,1)[0];r=He.apply(void 0,d([r,s],n,!1))}return r}function Ue(e,t){return!(!Ve(e)||!Ve(t))&&e.slice(0,t.length)===t}function Fe(e){if("number"==typeof e)return e;if(ke(e)&&"function"==typeof e.valueOf){var t=e.valueOf();e=ke(t)?t+"":t}return"string"!=typeof e?0===e?e:+e:+(e=e.replace(/^\s+|\s+$/g,""))}function qe(e){if(null==e)return"";if("string"==typeof e)return e;if(Array.isArray(e))return e.map((function(e){return Ve(e)?e:""}))+"";var t=e+"";return"0"===t&&1/e===Number.NEGATIVE_INFINITY?"-0":t}function Ge(e){var t={};return e.filter((function(e){return!Object.prototype.hasOwnProperty.call(t,e)&&(t[e]=!0)}))}var ze="impressions";function Ke(e,t){var n=function(e,t){var n={};if(Array.isArray(e)&&Ve(t))for(var i=0;i<e.length;i++){var r=e[i][t];Ve(r)&&(n[r]||(n[r]=[]),n[r].push(e[i]))}return n}(t,"feature"),i=[];return De(n,(function(t,n){i.push({f:n,i:t.map((function(t){return{k:t.keyName,t:t.treatment,m:t.time,c:t.changeNumber,r:e?t.label:void 0,b:t.bucketingKey,pt:t.pt,properties:t.properties}}))})})),i}function Ye(e){var t=e.settings,n=t.log,i=t.scheduler.impressionsRefreshRate,r=t.core.labelsEnabled,s=e.splitApi.postTestImpressionsBulk,a=e.storage.impressions,o=be(n,s,a,i,ze,Ke.bind(void 0,r),1);return a.setOnFullQueueCb((function(){o.isRunning()&&(n.info(w,[ze]),o.execute())})),o}function je(e){for(var t=[],n=Object.keys(e),i=0;i<n.length;i++){var r=n[i].split("::");if(2===r.length){var s=r[0],a=r[1],o={f:s,m:Number(a),rc:e[n[i]]};t.push(o)}}return{pf:t}}function We(e){return be(e.settings.log,e.splitApi.postTestImpressionsCount,e.storage.impressionCounts,18e5,"impression counts",je,1)}var Xe="state::splits-arrived",Qe="state::splits-cache-loaded",Je="state::segments-arrived",Ze="init::timeout",$e="init::ready",et="init::cache-ready",tt="state::update";function nt(e){return ee===e||te===e}var it=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/;function rt(e,t,n,i){if(void 0===i&&(i="feature flag name"),null==t)e.error(k,[n,i]);else if(Ve(t)){if(it.test(t)&&(e.warn(214,[n,i,t]),t=t.trim()),t.length>0)return t;e.error(B,[n,i])}else e.error(V,[n,i]);return!1}function st(e,t,n,i,r){if(void 0===i&&(i="feature flag names"),void 0===r&&(r="feature flag name"),Array.isArray(t)&&t.length>0){var s=[];if(t.forEach((function(t){var i=rt(e,t,n,r);i&&s.push(i)})),s.length)return Ge(s)}return e.error(320,[n,i]),!1}var at=[{type:"bySet",maxLength:50,queryParam:"sets="},{type:"byName",maxLength:400,queryParam:"names="},{type:"byPrefix",maxLength:50,queryParam:"prefixes="}],ot=/^[a-z0-9][_a-z0-9]{0,49}$/,ct=/[A-Z]/;function lt(e,t,n){return Ge(t.map((function(t){return ct.test(t)&&(e.warn(226,[n,t]),t=t.toLowerCase()),t})).filter((function(t){return ot.test(t)?"string"==typeof t:(e.warn(225,[n,t,ot,t]),!1)})))}function ut(e,t){return Ne(e,(function(e){return e.type===t&&e.values.length>0}))}function dt(e,t,n){var i,r,s={validFilters:[],queryString:null,groupedFilters:{bySet:[],byName:[],byPrefix:[]}};return t?nt(n)?(e.warn(219),s):Array.isArray(t)&&0!==t.length?(s.validFilters=t.filter((function(t,n){return t&&(i=t.type,at.some((function(e){return e.type===i})))&&Array.isArray(t.values)?(s.groupedFilters[t.type]=s.groupedFilters[t.type].concat(t.values),!0):(e.warn(220,[n]),!1);var i})),at.forEach((function(t){var n=t.type,i=t.maxLength;s.groupedFilters[n].length>0&&(s.groupedFilters[n]=function(e,t,n,i){var r=st(e,n,H,t+" filter",t+" filter value");if(r){if("bySet"===t&&(r=lt(e,r,H)),r.length>i)throw new Error(i+" unique values can be specified at most for '"+t+"' filter. You passed "+r.length+". Please consider reducing the amount or using other filter.");r.sort()}return r||[]}(e,n,s.groupedFilters[n],i))})),ut(s.validFilters,"bySet")&&((ut(s.validFilters,"byName")||ut(s.validFilters,"byPrefix"))&&e.error(328),P(s.groupedFilters,{byName:[],byPrefix:[]})),s.queryString=(i=s.groupedFilters,r=[],at.forEach((function(e){var t=e.type,n=e.queryParam,s=i[t];s.length>0&&r.push(n+s.map((function(e){return encodeURIComponent(e)})).join(","))})),r.length>0?"&"+r.join("&"):null),e.debug(39,[s.queryString]),s):(e.warn(221),s):s}function ft(e,t,n,i){if(null==t)return e.error(k,[n,i]),!1;if(xe(t))return e.warn(213,[n,i,t]),qe(t);if(Ve(t)){if((t=t.trim()).length>0&&t.length<=250)return t;0===t.length?e.error(B,[n,i]):t.length>250&&e.error(316,[n,i])}else e.error(V,[n,i]);return!1}function ht(e,t,n){if(ke(t)){var i=ft(e,t.matchingKey,n,"matchingKey"),r=ft(e,t.bucketingKey,n,"bucketingKey");return i&&r?{matchingKey:i,bucketingKey:r}:(e.error(317,[n]),!1)}return ft(e,t,n,"key")}var pt={mode:Z,core:{authorizationKey:void 0,key:void 0,labelsEnabled:!0,IPAddressesEnabled:void 0},scheduler:{featuresRefreshRate:60,segmentsRefreshRate:60,telemetryRefreshRate:3600,impressionsRefreshRate:300,offlineRefreshRate:15,eventsPushRate:60,eventsQueueSize:500,impressionsQueueSize:3e4,pushRetryBackoffBase:1},urls:{sdk:"https://sdk.split.io/api",events:"https://events.split.io/api",auth:"https://auth.split.io/api",streaming:"https://streaming.split.io",telemetry:"https://telemetry.split.io/api"},storage:void 0,debug:void 0,impressionListener:void 0,version:void 0,integrations:void 0,streamingEnabled:!0,sync:{splitFilters:void 0,impressionsMode:X,enabled:!0,flagSpecVersion:"1.2"},log:void 0};function mt(e){return Math.round(1e3*e)}function gt(e,t){var n=t.defaults,i=t.runtime,r=t.storage,s=t.integrations,a=t.logger,o=t.consent,c=t.flagSpec,l=He({},pt,n,e);l.features=Pe(e,"features");var u=a(l);l.log=u;var d=l.sync;d.impressionsMode=function(e,t){return t=Be(t),[W,X,Q].indexOf(t)>-1?t:(e.error(321,["impressionsMode",[W,X,Q],X]),X)}(u,d.impressionsMode);var f,h,p,m=l.scheduler,g=l.startup;m.featuresRefreshRate=mt(m.featuresRefreshRate),m.segmentsRefreshRate=mt(m.segmentsRefreshRate),m.offlineRefreshRate=mt(m.offlineRefreshRate),m.eventsPushRate=mt(m.eventsPushRate),m.telemetryRefreshRate=mt((f="telemetryRefreshRate",(h=m.telemetryRefreshRate)>=(p=60)?h:(u.error(326,[f,p]),p))),void 0===Pe(e,"scheduler.impressionsRefreshRate")&&d.impressionsMode===W&&(m.impressionsRefreshRate=60),m.impressionsRefreshRate=mt(m.impressionsRefreshRate),m.metricsRefreshRate&&u.warn("`metricsRefreshRate` will be deprecated soon. For configuring telemetry rates, update `telemetryRefreshRate` value in configs"),g.requestTimeoutBeforeReady=mt(g.requestTimeoutBeforeReady),g.readyTimeout=mt(g.readyTimeout),g.eventsFirstPushWindow=mt(g.eventsFirstPushWindow),l.mode=function(e,t){if("localhost"===e)return J;if(-1===[Z,$,ee,te].indexOf(t))throw Error("Invalid mode provided");return t}(l.core.authorizationKey,l.mode),r&&(l.storage=r(l));var E=l.core.key;l.mode===J&&void 0===E?l.core.key="localhost_key":l.core.key=ht(u,E,F),l.runtime=i(l),s&&(l.integrations=s(l)),!1!==l.streamingEnabled&&(l.streamingEnabled=!0,m.pushRetryBackoffBase=mt(m.pushRetryBackoffBase)),!1!==d.enabled&&(d.enabled=!0);var v=dt(u,d.splitFilters,l.mode);return d.splitFilters=v.validFilters,d.__splitFiltersValidation=v,d.flagSpecVersion=c?c(l):"1.2",l.userConsent=o?o(l):void 0,l}var Et="sdk_key";var vt,Tt,yt,At={};function Ct(e,t){var n=function(e,t){var n=!1;return null==t?e.error(k,[U,Et]):Ve(t)?t.length>0?n=t:e.error(B,[U,Et]):e.error(V,[U,Et]),n}(e,t);return n&&(At[n]?(e.warn(222,[At[n]+" factory/ies with this SDK Key"]),At[n]++):(At[n]=1,Object.keys(At).length>1&&e.warn(222,["an instance of the Split factory"]))),n}function It(e){var t=e();return function(){return Math.round(e()-t)}}var St=((vt={})[Z]=0,vt[ee]=1,vt[te]=2,vt),bt=((Tt={})[X]=0,Tt[W]=1,Tt[Q]=2,Tt),_t=((yt={}).UNKNOWN=1,yt.GRANTED=2,yt.DECLINED=3,yt);function Ot(e,t){return{isEmpty:function(){return!1},clear:function(){},pop:function(){var n,i,r=t.urls,s=t.scheduler,a=void 0!==t.core.key,o=function(e){var t=0;e.validFilters.forEach((function(e){"bySet"===e.type&&(t+=e.values.length)}));var n=e.groupedFilters.bySet.length;return{flagSetsTotal:t,flagSetsIgnored:t-n}}(t.sync.__splitFiltersValidation),c=o.flagSetsTotal,l=o.flagSetsIgnored;return P((n=t.mode,i=t.storage.type,{oM:St[n],st:i.toLowerCase(),aF:Object.keys(At).length,rF:Object.keys(At).reduce((function(e,t){return e+At[t]-1}),0)}),{sE:t.streamingEnabled,rR:{sp:s.featuresRefreshRate/1e3,se:a?void 0:s.segmentsRefreshRate/1e3,ms:a?s.segmentsRefreshRate/1e3:void 0,im:s.impressionsRefreshRate/1e3,ev:s.eventsPushRate/1e3,te:s.telemetryRefreshRate/1e3},uO:{s:r.sdk!==pt.urls.sdk,e:r.events!==pt.urls.events,a:r.auth!==pt.urls.auth,st:r.streaming!==pt.urls.streaming,t:r.telemetry!==pt.urls.telemetry},iQ:s.impressionsQueueSize,eQ:s.eventsQueueSize,iM:bt[t.sync.impressionsMode],iL:!!t.impressionListener,hP:!1,tR:e.getTimeUntilReady(),tC:e.getTimeUntilReadyFromCache(),nR:e.getNonReadyUsage(),t:e.popTags(),i:t.integrations&&t.integrations.map((function(e){return e.type})),uC:t.userConsent?_t[t.userConsent]:0,fsT:c,fsI:l})}}}var Rt="unique keys";function Nt(e){var t=e.settings,n=t.log,i=t.core.key,r=e.splitApi,s=r.postUniqueKeysBulkCs,a=r.postUniqueKeysBulkSs,o=e.storage.uniqueKeys,c=be(n,void 0!==i?s:a,o,9e5,Rt);return o.setOnFullQueueCb((function(){c.isRunning()&&(n.info(w,[Rt]),c.execute())})),c}function Lt(e){var t=[Ye(e),Re(e),We(e),Nt(e)],n=function(e){var t=e.storage.telemetry,n=e.platform.now;if(t&&n){var i=e.settings,r=e.settings,s=r.log,a=r.scheduler.telemetryRefreshRate,o=e.splitApi,c=e.readiness,l=e.sdkReadinessManager,u=It(n),d=_e(be(s,o.postMetricsUsage,t,a,"telemetry stats",void 0,0,!0),a);return c.gate.once(et,(function(){t.recordTimeUntilReadyFromCache(u())})),l.incInternalReadyCbCount(),c.gate.once($e,(function(){t.recordTimeUntilReady(u()),d.isRunning()&&be(s,o.postMetricsConfig,Ot(t,i),0,"telemetry config",void 0,0,!0).execute()})),d}}(e);return{start:function(e){e||t.forEach((function(e){return e.start()})),n&&n.start()},stop:function(e){t.forEach((function(e){return e.stop()})),!e&&n&&n.stop()},isRunning:function(){return t.some((function(e){return e.isRunning()}))},execute:function(e){var i=e?[]:t.map((function(e){return e.execute()}));return n&&i.push(n.execute()),Promise.all(i)},isExecuting:function(){return t.some((function(e){return e.isExecuting()}))}}}var Dt,Pt,wt="PUSH_NONRETRYABLE_ERROR",xt="PUSH_RETRYABLE_ERROR",Mt="PUSH_SUBSYSTEM_UP",kt="PUSH_SUBSYSTEM_DOWN",Vt="MEMBERSHIPS_MS_UPDATE",Bt="MEMBERSHIPS_LS_UPDATE",Ht="SEGMENT_UPDATE",Ut="SPLIT_KILL",Ft="SPLIT_UPDATE",qt="CONTROL",Gt="OCCUPANCY";function zt(e){var t=e.userConsent;return!t||t===re}(Pt=Dt||(Dt={})).STREAMING_DISABLED="STREAMING_DISABLED",Pt.STREAMING_PAUSED="STREAMING_PAUSED",Pt.STREAMING_RESUMED="STREAMING_RESUMED",Pt.STREAMING_RESET="STREAMING_RESET";var Kt=function(){function e(t,n,i){this.baseMillis=e.__TEST__BASE_MILLIS||n||e.DEFAULT_BASE_MILLIS,this.maxMillis=e.__TEST__MAX_MILLIS||i||e.DEFAULT_MAX_MILLIS,this.attempts=0,this.cb=t}return e.prototype.scheduleCall=function(){var e=this,t=Math.min(this.baseMillis*Math.pow(2,this.attempts),this.maxMillis);return this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){e.timeoutID=void 0,e.cb()}),t),this.attempts++,t},e.prototype.reset=function(){this.attempts=0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=void 0)},e.DEFAULT_BASE_MILLIS=1e3,e.DEFAULT_MAX_MILLIS=18e5,e}();var Yt=[/control_pri$/,/control_sec$/],jt=[10,20];function Wt(e,t,n){var i=function(e,t){var n=Yt.map((function(e){return{regex:e,hasPublishers:!0,oTime:-1,cTime:-1}})),i=!0,r=!0;return{handleOpen:function(){t.streamingEvent(0),e.emit(Mt)},isStreamingUp:function(){return r&&i},handleOccupancyEvent:function(s,a,o){for(var c=0;c<n.length;c++){var l=n[c];if(l.regex.test(a)){if(t.streamingEvent(jt[c],s),o>l.oTime){l.oTime=o,l.hasPublishers=0!==s;var u=n.some((function(e){return e.hasPublishers}));r&&(!u&&i?e.emit(kt):u&&!i&&e.emit(Mt)),i=u}return}}},handleControlEvent:function(s,a,o){if(s!==Dt.STREAMING_RESET)for(var c=0;c<n.length;c++){var l=n[c];if(l.regex.test(a))return void(o>l.cTime&&(l.cTime=o,s===Dt.STREAMING_DISABLED?(t.streamingEvent(30,0),e.emit(wt)):i&&(s===Dt.STREAMING_PAUSED&&r?(t.streamingEvent(30,2),e.emit(kt)):s!==Dt.STREAMING_RESUMED||r||(t.streamingEvent(30,1),e.emit(Mt))),r=s===Dt.STREAMING_RESUMED))}else e.emit(s)}}}(t,n);return{handleOpen:function(){i.handleOpen()},handleError:function(i){var r=i;try{r=function(e){return Ve(e.data)&&(e.parsedData=JSON.parse(e.data)),e}(i)}catch(t){e.warn(206,[t])}var s=r.parsedData&&r.parsedData.message||r.message;e.error(305,[s]),!function(e){if(e.parsedData&&e.parsedData.code){var t=e.parsedData.code;if(n.streamingEvent(60,t),40140<=t&&t<=40149)return!0;if(4e4<=t&&t<=49999)return!1}else n.streamingEvent(40,1);return!0}(r)?t.emit(wt):t.emit(xt)},handleMessage:function(n){var r;try{if(!(r=function(e){if(e.data){var t=JSON.parse(e.data);return t.parsedData=JSON.parse(t.data),t.name&&"[meta]occupancy"===t.name&&(t.parsedData.type=Gt),t}}(n)))return}catch(t){return void e.warn(207,[t])}var s=r.parsedData,a=r.data,o=r.channel,c=r.timestamp;if(e.debug(35,[a]),i.isStreamingUp()||-1!==[Gt,qt].indexOf(s.type))switch(s.type){case Ft:case Ht:case Vt:case Bt:case Ut:t.emit(s.type,s);break;case Gt:i.handleOccupancyEvent(s.metrics.publishers,o,c);break;case qt:i.handleControlEvent(s.controlType,o,c)}}}}function Xt(e,t,n,i){var r,s,a;function o(t){var r,o,c,l=0,u=-1,d=!1,f=new Kt(h);function h(){if(r=!0,l>Math.max(u,t.getChangeNumber())){d=!1;var p=l;(s?new Promise((function(e){a=setTimeout((function(){s=void 0,n.execute(c,!0,o?l:void 0).then(e)}),s)})):n.execute(c,!0,o?l:void 0)).then((function(n){if(r){if(!1!==n){var s=t.getChangeNumber();u=s>-1?s:Math.max(u,p)}if(d)h();else{c&&i.trackUpdatesFromSSE("ms");var a=f.attempts+1;if(l<=u)return e.debug("Refresh completed"+(o?" bypassing the CDN":"")+" in "+a+" attempts."),void(r=!1);if(a<10)return void f.scheduleCall();o?(e.debug("No changes fetched after "+a+" attempts with CDN bypassed."),r=!1):(f.reset(),o=!0,h())}}}))}else r=!1}return{put:function(e,n,i){var a=e.type,p=e.cn;p<=Math.max(u,t.getChangeNumber())||p<=l||(l=p,s||(d=!0,o=!1,c=n&&{type:a,cn:p,added:n.added,removed:n.removed},s=i,!f.timeoutID&&r||h(),f.reset()))},stop:function(){clearTimeout(a),s=void 0,r=!1,f.reset()}}}var c=((r={}).MEMBERSHIPS_MS_UPDATE=o(t.segments),r.MEMBERSHIPS_LS_UPDATE=o(t.largeSegments),r);return{put:function(e,t,n){c[e.type].put(e,t,n)},stop:function(){c.MEMBERSHIPS_MS_UPDATE.stop(),c.MEMBERSHIPS_LS_UPDATE.stop()}}}function Qt(e,t,n){var i={};return{put:function(r){var s=r.changeNumber,a=r.segmentName;i[a]||(i[a]=function(i){var r,s,a=0,o=!1,c=new Kt(l,1e4,6e4);function l(){r=!0,a>(n.getChangeNumber(i)||-1)?(o=!1,t.execute(!1,i,!0,s?a:void 0).then((function(){if(r)if(o)l();else{var t=c.attempts+1;if(a<=(n.getChangeNumber(i)||-1))return e.debug("Refresh completed"+(s?" bypassing the CDN":"")+" in "+t+" attempts."),void(r=!1);if(t<10)return void c.scheduleCall();s?(e.debug("No changes fetched after "+t+" attempts with CDN bypassed."),r=!1):(c.reset(),s=!0,l())}}))):r=!1}return{put:function(e){e<=(n.getChangeNumber(i)||-1)||e<=a||(a=e,o=!0,s=!1,!c.timeoutID&&r||l(),c.reset())},stop:function(){r=!1,c.reset()}}}(a)),i[a].put(s)},stop:function(){Object.keys(i).forEach((function(e){return i[e].stop()}))}}}var Jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Zt(e){var t=String(e).replace(/[=]+$/,"");if(t.length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var n="",i=0,r=void 0,s=void 0,a=0;s=t.charAt(a++);~s&&(r=i%4?64*r+s:s,i++%4)?n+=String.fromCharCode(255&r>>(-2*i&6)):0)s=Jt.indexOf(s);return n}var $t=String.fromCharCode;function en(e){var t,n,i,r,s;return n=function(e){if("string"!=typeof e)throw TypeError("Illegal argument: "+typeof e);var t=0;return function(){return t>=e.length?null:e.charCodeAt(t++)}}(e),r=[],s=[],i=t=function(){if(0===arguments.length)return s.join("")+$t.apply(String,r);r.length+arguments.length>1024&&(s.push($t.apply(String,r)),r.length=0),Array.prototype.push.apply(r,arguments)},function(e,t){for(var n,i=null;null!==(n=null!==i?i:e());)n>=55296&&n<=57343&&null!==(i=e())&&i>=56320&&i<=57343?(t(1024*(n-55296)+i-56320+65536),i=null):t(n);null!==i&&t(i)}(n,(function(e){!function(e,t){var n=null;for("number"==typeof e&&(n=e,e=function(){return null});null!==n||null!==(n=e());)n<128?t(127&n):n<2048?(t(n>>6&31|192),t(63&n|128)):n<65536?(t(n>>12&15|224),t(n>>6&63|128),t(63&n|128)):(t(n>>18&7|240),t(n>>12&63|128),t(n>>6&63|128),t(63&n|128)),n=null}(e,i)})),t()}
/*!
   * +----------------------------------------------------------------------------------+
   * | murmurHash3.js v3.0.0 (http://github.com/karanlyons/murmurHash3.js)              |
   * | A TypeScript/JavaScript implementation of MurmurHash3's hashing algorithms.      |
   * |----------------------------------------------------------------------------------|
   * | Copyright (c) 2012-2020 Karan Lyons. Freely distributable under the MIT license. |
   * +----------------------------------------------------------------------------------+
   */function tn(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function nn(e,t){return e<<t|e>>>32-t}function rn(e,t){t=t||0;for(var n,i=(e=e||"").length%4,r=e.length-i,s=t,a=0,o=3432918353,c=461845907,l=0;l<r;l+=4)a=tn(a=255&e.charCodeAt(l)|(255&e.charCodeAt(l+1))<<8|(255&e.charCodeAt(l+2))<<16|(255&e.charCodeAt(l+3))<<24,o),a=tn(a=nn(a,15),c),s=tn(s=nn(s^=a,13),5)+3864292196;switch(a=0,i){case 3:a^=(255&e.charCodeAt(l+2))<<16;case 2:a^=(255&e.charCodeAt(l+1))<<8;case 1:a=tn(a^=255&e.charCodeAt(l),o),s^=a=tn(a=nn(a,15),c)}return s^=e.length,n=s,n=tn(n^=n>>>16,2246822507),(s=(n=tn(n^=n>>>13,3266489909))^n>>>16)>>>0}function sn(e,t){return rn(en(e),t>>>0)}function an(e,t){return Math.abs(sn(e,t)%100)+1}function on(e){return function(t){return e(t).then((function(e){return e.json()})).then((function(e){if(e.token){var t=(i=e.token,r=i.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(Zt(r).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),JSON.parse(s));if("number"!=typeof t.iat||"number"!=typeof t.exp)throw new Error('token properties "issuedAt" (iat) or "expiration" (exp) are missing or invalid');var n=JSON.parse(t["x-ably-capability"]);return P({decodedToken:t,channels:n},e)}var i,r,s;return e}))}}function cn(e){return function(e){for(var t=String(e),n="",i=void 0,r=void 0,s=0,a=Jt;t.charAt(0|s)||(a="=",s%1);n+=a.charAt(63&i>>8-s%1*8)){if((r=t.charCodeAt(s+=3/4))>255)throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");i=i<<8|r}return n}(sn(e,0).toString())}var ln=/^control_/;var un,dn,fn,hn,pn=function(){function e(e,t){var n=t.getEventSource,i=t.getOptions;if(this.settings=e,this.eventSource=n&&n(e),!this.eventSource)throw new Error("EventSource API is not available.");this.headers=function(e){var t={SplitSDKClientKey:Ve(e.core.authorizationKey)?e.core.authorizationKey.slice(-4):"",SplitSDKVersion:e.version},n=e.runtime,i=n.ip,r=n.hostname;return i&&(t.SplitSDKMachineIP=i),r&&(t.SplitSDKMachineName=r),t}(e),this.options=i&&i(e)}return e.prototype.setEventHandler=function(e){this.handler=e},e.prototype.open=function(e){var t;this.close();var n=Object.keys(e.channels).map((function(e){var t=ln.test(e)?"[?occupancy=metrics.publishers]":"";return encodeURIComponent(t+e)})).join(","),i=this.settings.urls.streaming+"/sse?channels="+n+"&accessToken="+e.token+"&v=1.1&heartbeats=true",r=!this.settings.core.key;this.connection=new this.eventSource(r?i:i+"&SplitSDKVersion="+this.headers.SplitSDKVersion+"&SplitSDKClientKey="+this.headers.SplitSDKClientKey,P(r?{headers:z(this.settings,this.headers)}:(null===(t=this.settings.sync.requestOptions)||void 0===t?void 0:t.getHeaderOverrides)?{headers:z(this.settings,{})}:{},this.options)),this.handler&&(this.connection.addEventListener("open",this.handler.handleOpen),this.connection.addEventListener("message",this.handler.handleMessage),this.connection.addEventListener("error",this.handler.handleError))},e.prototype.close=function(){this.connection&&this.connection.close()},e}();function mn(e){return ke(e)?e.matchingKey:e}function gn(e){return ke(e)?{matchingKey:e.matchingKey,bucketingKey:e.bucketingKey}:{matchingKey:e,bucketingKey:e}}(dn=un||(un={}))[dn.None=0]="None",dn[dn.Gzip=1]="Gzip",dn[dn.Zlib=2]="Zlib",(hn=fn||(fn={}))[hn.UnboundedFetchRequest=0]="UnboundedFetchRequest",hn[hn.BoundedFetchRequest=1]="BoundedFetchRequest",hn[hn.KeyList=2]="KeyList",hn[hn.SegmentRemoval=3]="SegmentRemoval";var En=function(){if([typeof Uint8Array,typeof Uint16Array,typeof Uint32Array].some((function(e){return"function"!=e})))return"global Uint8Array object is not available for gzip/zlib decompression";var e=Uint8Array,t=Uint16Array,n=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(e,i){for(var r=new t(31),s=0;s<31;++s)r[s]=i+=1<<e[s-1];var a=new n(r[30]);for(s=1;s<30;++s)for(var o=r[s];o<r[s+1];++o)a[o]=o-r[s]<<5|s;return[r,a]},o=a(i,2),c=o[0],l=o[1];c[28]=258,l[258]=28;for(var u=a(r,0)[0],d=new t(32768),f=0;f<32768;++f){var h=(43690&f)>>>1|(21845&f)<<1;h=(61680&(h=(52428&h)>>>2|(13107&h)<<2))>>>4|(3855&h)<<4,d[f]=((65280&h)>>>8|(255&h)<<8)>>>1}var p=function(e,n,i){for(var r=e.length,s=0,a=new t(n);s<r;++s)++a[e[s]-1];var o,c=new t(n);for(s=0;s<n;++s)c[s]=c[s-1]+a[s-1]<<1;o=new t(1<<n);var l=15-n;for(s=0;s<r;++s)if(e[s])for(var u=s<<4|e[s],f=n-e[s],h=c[e[s]-1]++<<f,p=h|(1<<f)-1;h<=p;++h)o[d[h]>>>l]=u;return o},m=new e(288);for(f=0;f<144;++f)m[f]=8;for(f=144;f<256;++f)m[f]=9;for(f=256;f<280;++f)m[f]=7;for(f=280;f<288;++f)m[f]=8;var g=new e(32);for(f=0;f<32;++f)g[f]=5;var E=p(m,9),v=p(g,5),T=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},y=function(e,t,n){var i=t/8|0;return(e[i]|e[i+1]<<8)>>(7&t)&n},A=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},C=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],I=function(e,t,n){var i=new Error(t||C[e]);if(i.code=e,Error.captureStackTrace&&Error.captureStackTrace(i,I),!n)throw i;return i},S=function(a,o,l){var d=a.length;if(!d||l&&l.f&&!l.l)return o||new e(0);var f=!o||l,h=!l||l.i;l||(l={}),o||(o=new e(3*d));var m=function(t){var n=o.length;if(t>n){var i=new e(Math.max(2*n,t));i.set(o),o=i}},g=l.f||0,C=l.p||0,S=l.b||0,b=l.l,_=l.d,O=l.m,R=l.n,N=8*d;do{if(!b){g=y(a,C,1);var L=y(a,C+1,3);if(C+=3,!L){var D=a[(q=4+((C+7)/8|0))-4]|a[q-3]<<8,P=q+D;if(P>d){h&&I(0);break}f&&m(S+D),o.set(a.subarray(q,P),S),l.b=S+=D,l.p=C=8*P,l.f=g;continue}if(1==L)b=E,_=v,O=9,R=5;else if(2==L){var w=y(a,C,31)+257,x=y(a,C+10,15)+4,M=w+y(a,C+5,31)+1;C+=14;for(var k=new e(M),V=new e(19),B=0;B<x;++B)V[s[B]]=y(a,C+3*B,7);C+=3*x;var H=T(V),U=(1<<H)-1,F=p(V,H);for(B=0;B<M;){var q,G=F[y(a,C,U)];if(C+=15&G,(q=G>>>4)<16)k[B++]=q;else{var z=0,K=0;for(16==q?(K=3+y(a,C,3),C+=2,z=k[B-1]):17==q?(K=3+y(a,C,7),C+=3):18==q&&(K=11+y(a,C,127),C+=7);K--;)k[B++]=z}}var Y=k.subarray(0,w),j=k.subarray(w);O=T(Y),R=T(j),b=p(Y,O),_=p(j,R)}else I(1);if(C>N){h&&I(0);break}}f&&m(S+131072);for(var W=(1<<O)-1,X=(1<<R)-1,Q=C;;Q=C){var J=(z=b[A(a,C)&W])>>>4;if((C+=15&z)>N){h&&I(0);break}if(z||I(2),J<256)o[S++]=J;else{if(256==J){Q=C,b=null;break}var Z=J-254;if(J>264){var $=i[B=J-257];Z=y(a,C,(1<<$)-1)+c[B],C+=$}var ee=_[A(a,C)&X],te=ee>>>4;ee||I(3),C+=15&ee;j=u[te];if(te>3){$=r[te];j+=A(a,C)&(1<<$)-1,C+=$}if(C>N){h&&I(0);break}f&&m(S+131072);for(var ne=S+Z;S<ne;S+=4)o[S]=o[S-j],o[S+1]=o[S+1-j],o[S+2]=o[S+2-j],o[S+3]=o[S+3-j];S=ne}}l.l=b,l.p=Q,l.b=S,l.f=g,b&&(g=1,l.m=O,l.d=_,l.n=R)}while(!g);return S==o.length?o:function(i,r,s){(null==s||s>i.length)&&(s=i.length);var a=new(i instanceof t?t:i instanceof n?n:e)(s-r);return a.set(i.subarray(r,s)),a}(o,0,S)};return{gunzipSync:function(t,n){return S(t.subarray(function(e){31==e[0]&&139==e[1]&&8==e[2]||I(6,"invalid gzip data");var t=e[3],n=10;4&t&&(n+=e[10]|2+(e[11]<<8));for(var i=(t>>3&1)+(t>>4&1);i>0;i-=!e[n++]);return n+(2&t)}(t),-8),n||new e((r=(i=t).length,(i[r-4]|i[r-3]<<8|i[r-2]<<16|i[r-1]<<24)>>>0)));var i,r},unzlibSync:function(e,t){return S(((8!=(15&(n=e)[0])||n[0]>>>4>7||(n[0]<<8|n[1])%31)&&I(6,"invalid zlib data"),32&n[1]&&I(6,"invalid zlib data: preset dictionaries not supported"),e.subarray(2,-4)),t);var n}}}();function vn(e,t){var n,i=Zt(e),r=(n=i.split("").map((function(e){return e.charCodeAt(0)})),new Uint8Array(n));if("string"==typeof En)throw new Error(En);if(1===t)return En.gunzipSync(r);if(2===t)return En.unzlibSync(r);throw new Error("Invalid compression algorithm #"+t)}function Tn(e,t,n){void 0===n&&(n=!0);var i,r=vn(e,t),s=(i=r,String.fromCharCode.apply(null,i));return n&&(s=s.replace(/\d+/g,'"$&"')),JSON.parse(s)}function yn(e,t){if(0===e.h)return 0;var n=e.i||6e4;return sn(t,e.s||0)%n}function An(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function Cn(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function In(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function Sn(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function bn(e,t){return[e[0]^t[0],e[1]^t[1]]}function _n(e){return e=bn(e,[0,e[0]>>>1]),e=bn(e=Cn(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=bn(e=Cn(e,[3301882366,444984403]),[0,e[0]>>>1])}function On(e,t){return function(e,t){t=t||0;for(var n=(e=e||"").length%16,i=e.length-n,r=[0,t],s=[0,t],a=[0,0],o=[0,0],c=[2277735313,289559509],l=[1291169091,658871167],u=0;u<i;u+=16)a=[255&e.charCodeAt(u+4)|(255&e.charCodeAt(u+5))<<8|(255&e.charCodeAt(u+6))<<16|(255&e.charCodeAt(u+7))<<24,255&e.charCodeAt(u)|(255&e.charCodeAt(u+1))<<8|(255&e.charCodeAt(u+2))<<16|(255&e.charCodeAt(u+3))<<24],o=[255&e.charCodeAt(u+12)|(255&e.charCodeAt(u+13))<<8|(255&e.charCodeAt(u+14))<<16|(255&e.charCodeAt(u+15))<<24,255&e.charCodeAt(u+8)|(255&e.charCodeAt(u+9))<<8|(255&e.charCodeAt(u+10))<<16|(255&e.charCodeAt(u+11))<<24],a=In(a=Cn(a,c),31),r=An(r=In(r=bn(r,a=Cn(a,l)),27),s),r=An(Cn(r,[0,5]),[0,1390208809]),o=In(o=Cn(o,l),33),s=An(s=In(s=bn(s,o=Cn(o,c)),31),r),s=An(Cn(s,[0,5]),[0,944331445]);switch(a=[0,0],o=[0,0],n){case 15:o=bn(o,Sn([0,e.charCodeAt(u+14)],48));case 14:o=bn(o,Sn([0,e.charCodeAt(u+13)],40));case 13:o=bn(o,Sn([0,e.charCodeAt(u+12)],32));case 12:o=bn(o,Sn([0,e.charCodeAt(u+11)],24));case 11:o=bn(o,Sn([0,e.charCodeAt(u+10)],16));case 10:o=bn(o,Sn([0,e.charCodeAt(u+9)],8));case 9:o=Cn(o=bn(o,[0,e.charCodeAt(u+8)]),l),s=bn(s,o=Cn(o=In(o,33),c));case 8:a=bn(a,Sn([0,e.charCodeAt(u+7)],56));case 7:a=bn(a,Sn([0,e.charCodeAt(u+6)],48));case 6:a=bn(a,Sn([0,e.charCodeAt(u+5)],40));case 5:a=bn(a,Sn([0,e.charCodeAt(u+4)],32));case 4:a=bn(a,Sn([0,e.charCodeAt(u+3)],24));case 3:a=bn(a,Sn([0,e.charCodeAt(u+2)],16));case 2:a=bn(a,Sn([0,e.charCodeAt(u+1)],8));case 1:a=Cn(a=bn(a,[0,e.charCodeAt(u)]),c),r=bn(r,a=Cn(a=In(a,31),l))}return r=An(r=bn(r,[0,e.length]),s=bn(s,[0,e.length])),s=An(s,r),r=An(r=_n(r),s=_n(s)),s=An(s,r),("00000000"+(r[0]>>>0).toString(16)).slice(-8)+("00000000"+(r[1]>>>0).toString(16)).slice(-8)+("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)}(en(e),t>>>0)}function Rn(e){var t,n,i,r=[0];for(t=0;t<e.length;t+=1){for(i=parseInt(e.charAt(t),16),n=r.length-1;n>=0;n-=1)r[n]=16*r[n]+i,i=r[n]/10|0,r[n]%=10;for(;i>0;)r.unshift(i%10),i=i/10|0}return r.join("")}function Nn(e,t){return e<1?t:new Promise((function(n,i){var r=setTimeout((function(){i(new Error("Operation timed out because it exceeded the configured time limit of "+e+" ms."))}),e);t.then((function(e){clearTimeout(r),n(e)}),(function(e){clearTimeout(r),i(e)}))}))}function Ln(e,t,n,i,r,s,a){var o=n.splits,c=n.segments,l=n.largeSegments,u=!0,d=!0;function f(e){return d&&(e=Nn(r,e)),e}function h(e){var t;void 0!==e.type?t=e.type===Bt?l.resetSegments(e):c.resetSegments(e):(t=c.resetSegments(e.ms||{}),t=l.resetSegments(e.ls||{})||t),o.usesSegments()&&(t||u)&&(u=!1,i.emit(Je))}function p(n,i,r,o){return(i?new Promise((function(e){h(i),e(!0)})):t(a,r,o,f).then((function(e){return d=!1,h(e),!0}))).catch((function(t){return d&&s>n?(n+=1,e.warn(204,[n,t]),p(n)):(d=!1,!1)}))}return function(e,t,n){return p(0,e,t,n)}}function Dn(e){if(Array.from)return Array.from(e);var t=[];return e.forEach((function(e){t.push(e)})),t}function Pn(e,t){var n=new Set,i=e.reduce((function(e,i){return"ACTIVE"===i.status&&function(e,t){var n=t.groupedFilters,i=n.bySet,r=n.byName,s=n.byPrefix;if(i.length>0)return e.sets&&e.sets.some((function(e){return i.indexOf(e)>-1}));var a=r.length>0,o=s.length>0;if(!a&&!o)return!0;var c=a&&r.indexOf(e.name)>-1,l=o&&s.some((function(t){return Ue(e.name,t)}));return c||l}(i,t)?(e.added.push(i),function(e){for(var t=e.conditions,n=new Set,i=0;i<t.length;i++)t[i].matcherGroup.matchers.forEach((function(e){e.matcherType===ye&&n.add(e.userDefinedSegmentMatcherData.segmentName)}));return n}(i).forEach((function(e){n.add(e)}))):e.removed.push(i),e}),{added:[],removed:[],segments:[]});return i.segments=Dn(n),i}function wn(e,t,n,i,r){return Se(i.log,function(e,t,n,i,r,s,a,o){void 0===s&&(s=0),void 0===a&&(a=0);var c=n.splits,l=n.segments,u=!0;function d(e){return u&&s&&(e=Nn(s,e)),e}return function(n,s,f){return Promise.resolve(c.getChangeNumber()).then((function h(p,m){return void 0===m&&(m=0),e.debug(31,[p]),Promise.resolve(f?{splits:[f.payload],till:f.changeNumber}:t(p,n,s,d)).then((function(t){u=!1;var n=Pn(t.splits,i);return e.debug(32,[n.added.length,n.removed.length,n.segments.length]),Promise.all([c.update(n.added,n.removed,t.till),l.registerSegments(n.segments)]).then((function(e){var n=e[0];return!r||Promise.resolve(!r.splitsArrived||p!==t.till&&n&&o).catch((function(){return!1})).then((function(e){return e&&r.emit(Xe),!0}))}))})).catch((function(t){return e.warn(205,[t]),u&&a>m?(m+=1,e.info(109,[m,t]),h(p,m)):(u=!1,!1)}))}))}}(i.log,function(e){return function(t,n,i,r){var s=e(t,n,i);return r&&(s=r(s)),s.then((function(e){return e.json()}))}}(e),t,i.sync.__splitFiltersValidation,n.splits,i.startup.requestTimeoutBeforeReady,i.startup.retriesOnFailureBeforeReady,r),i.scheduler.featuresRefreshRate,"splitChangesUpdater")}var xn=function(){function e(e){void 0===e&&(e=0),this.maxQueue=e,this.queue=[]}return e.prototype.setOnFullQueueCb=function(e){this.onFullQueue=e},e.prototype.track=function(e){var t;(t=this.queue).push.apply(t,e),this.maxQueue>0&&this.queue.length>=this.maxQueue&&this.onFullQueue&&this.onFullQueue()},e.prototype.clear=function(){this.queue=[]},e.prototype.pop=function(e){var t=this.queue;return this.clear(),e?e.concat(t):t},e.prototype.isEmpty=function(){return 0===this.queue.length},e}();function Mn(e){return e-e%36e5}var kn=function(){function e(e){void 0===e&&(e=3e4),this.cache={},this.cacheSize=0,this.maxStorage=e}return e.prototype._makeKey=function(e,t){return e+"::"+Mn(t)},e.prototype.track=function(e,t,n){var i=this._makeKey(e,t),r=this.cache[i];this.cache[i]=r?r+n:n,this.onFullQueue&&(this.cacheSize=this.cacheSize+n,this.cacheSize>=this.maxStorage&&this.onFullQueue())},e.prototype.pop=function(e){var t=this.cache;return this.clear(),e?(Object.keys(t).forEach((function(n){e[n]?e[n]+=t[n]:e[n]=t[n]})),e):t},e.prototype.clear=function(){this.cache={},this.cacheSize=0},e.prototype.isEmpty=function(){return 0===Object.keys(this.cache).length},e}(),Vn=function(){function e(e){void 0===e&&(e=0),this.maxQueue=e,this.queue=[],this.queueByteSize=0}return e.prototype.setOnFullQueueCb=function(e){this.onFullQueue=e},e.prototype.track=function(e,t){return void 0===t&&(t=0),this.queueByteSize+=t,this.queue.push(e),this._checkForFlush(),!0},e.prototype.clear=function(){this.queue=[],this.queueByteSize=0},e.prototype.pop=function(e){var t=this.queue;return this.clear(),e?e.concat(t):t},e.prototype.isEmpty=function(){return 0===this.queue.length},e.prototype._checkForFlush=function(){(this.queueByteSize>5242880||this.maxQueue>0&&this.queue.length>=this.maxQueue)&&this.onFullQueue&&this.onFullQueue()},e}(),Bn=/[^.]+$/;var Hn=function(e){function t(t,n){var i=e.call(this,t)||this;return i.matchingKey=n,i.regexSplitsCacheKey=new RegExp("^"+t+"\\.(splits?|trafficType|flagSet)\\."),i}return u(t,e),t.prototype.buildSegmentNameKey=function(e){return this.prefix+"."+this.matchingKey+".segment."+e},t.prototype.extractSegmentName=function(e){var t=this.prefix+"."+this.matchingKey+".segment.";if(Ue(e,t))return e.slice(t.length)},t.prototype.buildLastUpdatedKey=function(){return this.prefix+".splits.lastUpdated"},t.prototype.isSplitsCacheKey=function(e){return this.regexSplitsCacheKey.test(e)},t.prototype.buildTillKey=function(){return this.prefix+"."+this.matchingKey+".segments.till"},t.prototype.isSplitKey=function(e){return Ue(e,this.prefix+".split.")},t.prototype.buildSplitsWithSegmentCountKey=function(){return this.prefix+".splits.usingSegments"},t.prototype.buildLastClear=function(){return this.prefix+".lastClear"},t}(function(){function e(e){void 0===e&&(e="SPLITIO"),this.prefix=e}return e.prototype.buildTrafficTypeKey=function(e){return this.prefix+".trafficType."+e},e.prototype.buildFlagSetKey=function(e){return this.prefix+".flagSet."+e},e.prototype.buildSplitKey=function(e){return this.prefix+".split."+e},e.prototype.buildSplitsTillKey=function(){return this.prefix+".splits.till"},e.prototype.buildSplitKeyPrefix=function(){return this.prefix+".split."},e.prototype.buildSegmentNameKey=function(e){return this.prefix+".segment."+e},e.prototype.buildSegmentTillKey=function(e){return this.prefix+".segment."+e+".till"},e.prototype.extractKey=function(e){var t=e.match(Bn);if(t&&t.length)return t[0];throw new Error("Invalid latency key provided")},e.prototype.buildHashKey=function(){return this.prefix+".hash"},e}());function Un(e,t){return{buildSegmentNameKey:function(n){return e+"."+t+".largeSegment."+n},extractSegmentName:function(n){var i=e+"."+t+".largeSegment.";if(Ue(n,i))return n.slice(i.length)},buildTillKey:function(){return e+"."+t+".largeSegments.till"}}}function Fn(){var e="__SPLITSOFTWARE__";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}}var qn=function(){function e(){}return e.prototype.update=function(e,t,n){var i=this;this.setChangeNumber(n);var r=e.map((function(e){return i.addSplit(e)})).some((function(e){return e}));return t.map((function(e){return i.removeSplit(e.name)})).some((function(e){return e}))||r},e.prototype.getSplits=function(e){var t=this,n={};return e.forEach((function(e){n[e]=t.getSplit(e)})),n},e.prototype.getAll=function(){var e=this;return this.getSplitNames().map((function(t){return e.getSplit(t)}))},e.prototype.killLocally=function(e,t,n){var i=this.getSplit(e);if(i&&(!i.changeNumber||i.changeNumber<n)){var r=P({},i);return r.killed=!0,r.defaultTreatment=t,r.changeNumber=n,this.addSplit(r)}return!1},e}();function Gn(e){for(var t=e.conditions||[],n=0;n<t.length;n++)for(var i=t[n].matcherGroup.matchers,r=0;r<i.length;r++){var s=i[r].matcherType;if(s===ye||"IN_LARGE_SEGMENT"===s)return!0}return!1}var zn="storage:localstorage: ",Kn="1",Yn=function(e){function t(t,n){var i=e.call(this)||this;return i.keys=n,i.log=t.log,i.flagSetsFilter=t.sync.__splitFiltersValidation.groupedFilters.bySet,i}return u(t,e),t.prototype._decrementCount=function(e){var t=Fe(localStorage.getItem(e))-1;t>0?localStorage.setItem(e,t):localStorage.removeItem(e)},t.prototype._decrementCounts=function(e){try{var t=this.keys.buildTrafficTypeKey(e.trafficTypeName);if(this._decrementCount(t),Gn(e)){var n=this.keys.buildSplitsWithSegmentCountKey();this._decrementCount(n)}}catch(e){this.log.error(zn+e)}},t.prototype._incrementCounts=function(e){try{if(e){var t=this.keys.buildTrafficTypeKey(e.trafficTypeName);if(localStorage.setItem(t,Fe(localStorage.getItem(t))+1),Gn(e)){var n=this.keys.buildSplitsWithSegmentCountKey();localStorage.setItem(n,Fe(localStorage.getItem(n))+1)}}}catch(e){this.log.error(zn+e)}},t.prototype.clear=function(){for(var e=localStorage.length,t=[],n=0;n<e;n++){var i=localStorage.key(n);null!=i&&this.keys.isSplitsCacheKey(i)&&t.push(i)}t.forEach((function(e){localStorage.removeItem(e)})),this.hasSync=!1},t.prototype.addSplit=function(e){try{var t=e.name,n=this.keys.buildSplitKey(t),i=localStorage.getItem(n),r=i?JSON.parse(i):null;return r&&(this._decrementCounts(r),this.removeFromFlagSets(r.name,r.sets)),localStorage.setItem(n,JSON.stringify(e)),this._incrementCounts(e),this.addToFlagSets(e),!0}catch(e){return this.log.error(zn+e),!1}},t.prototype.removeSplit=function(e){try{var t=this.getSplit(e);return!!t&&(localStorage.removeItem(this.keys.buildSplitKey(e)),this._decrementCounts(t),this.removeFromFlagSets(t.name,t.sets),!0)}catch(e){return this.log.error(zn+e),!1}},t.prototype.getSplit=function(e){var t=localStorage.getItem(this.keys.buildSplitKey(e));return t&&JSON.parse(t)},t.prototype.setChangeNumber=function(e){try{return localStorage.setItem(this.keys.buildSplitsTillKey(),e+""),localStorage.setItem(this.keys.buildLastUpdatedKey(),Date.now()+""),this.hasSync=!0,!0}catch(e){return this.log.error(zn+e),!1}},t.prototype.getChangeNumber=function(){var e=localStorage.getItem(this.keys.buildSplitsTillKey());return null!==e?Me(e=parseInt(e,10))?-1:e:-1},t.prototype.getSplitNames=function(){for(var e=localStorage.length,t=[],n=0;n<e;){var i=localStorage.key(n);null!=i&&this.keys.isSplitKey(i)&&t.push(this.keys.extractKey(i)),n++}return t},t.prototype.trafficTypeExists=function(e){var t=Fe(localStorage.getItem(this.keys.buildTrafficTypeKey(e)));return xe(t)&&t>0},t.prototype.usesSegments=function(){if(!this.hasSync)return!0;var e=localStorage.getItem(this.keys.buildSplitsWithSegmentCountKey()),t=null===e?0:Fe(e);return!xe(t)||t>0},t.prototype.getNamesByFlagSets=function(e){var t=this;return e.map((function(e){var n=t.keys.buildFlagSetKey(e),i=localStorage.getItem(n);return new Set(i?JSON.parse(i):[])}))},t.prototype.addToFlagSets=function(e){var t=this;e.sets&&e.sets.forEach((function(n){if(!(t.flagSetsFilter.length>0)||t.flagSetsFilter.some((function(e){return e===n}))){var i=t.keys.buildFlagSetKey(n),r=localStorage.getItem(i),s=new Set(r?JSON.parse(r):[]);s.add(e.name),localStorage.setItem(i,JSON.stringify(Dn(s)))}}))},t.prototype.removeFromFlagSets=function(e,t){var n=this;t&&t.forEach((function(t){n.removeNames(t,e)}))},t.prototype.removeNames=function(e,t){var n=this.keys.buildFlagSetKey(e),i=localStorage.getItem(n);if(i){var r=new Set(JSON.parse(i));r.delete(t),0!==r.size?localStorage.setItem(n,JSON.stringify(Dn(r))):localStorage.removeItem(n)}},t}(qn),jn=function(){function e(){}return e.prototype.clear=function(){this.resetSegments({})},e.prototype.registerSegments=function(){return!1},e.prototype.update=function(){return!1},e.prototype.resetSegments=function(e){var t=this;this.setChangeNumber(e.cn);var n=e,i=n.added,r=n.removed;if(i&&r){var s=!1;return i.forEach((function(e){s=t.addSegment(e)||s})),r.forEach((function(e){s=t.removeSegment(e)||s})),s}var a=(e.k||[]).map((function(e){return e.n})).sort(),o=this.getRegisteredSegments().sort();if(!a.length&&!o.length)return!1;for(var c=0;c<a.length&&c<o.length&&a[c]===o[c];)c++;if(c===a.length&&c===o.length)return!1;for(var l=c;l<o.length;l++)this.removeSegment(o[l]);for(var u=c;u<a.length;u++)this.addSegment(a[u]);return!0},e}(),Wn=function(e){function t(t,n){var i=e.call(this)||this;return i.log=t,i.keys=n,i}return u(t,e),t.prototype.addSegment=function(e){var t=this.keys.buildSegmentNameKey(e);try{return localStorage.getItem(t)!==Kn&&(localStorage.setItem(t,Kn),!0)}catch(e){return this.log.error(zn+e),!1}},t.prototype.removeSegment=function(e){var t=this.keys.buildSegmentNameKey(e);try{return localStorage.getItem(t)===Kn&&(localStorage.removeItem(t),!0)}catch(e){return this.log.error(zn+e),!1}},t.prototype.isInSegment=function(e){return localStorage.getItem(this.keys.buildSegmentNameKey(e))===Kn},t.prototype.getRegisteredSegments=function(){var e=this;return Object.keys(localStorage).reduce((function(t,n){var i=e.keys.extractSegmentName(n);return i&&t.push(i),t}),[])},t.prototype.getKeysCount=function(){return 1},t.prototype.setChangeNumber=function(e){try{e?localStorage.setItem(this.keys.buildTillKey(),e+""):localStorage.removeItem(this.keys.buildTillKey())}catch(e){this.log.error(e)}},t.prototype.getChangeNumber=function(){var e=localStorage.getItem(this.keys.buildTillKey());return null!==e?Me(e=parseInt(e,10))?-1:e:-1},t}(jn),Xn=function(e){function t(t){var n=e.call(this)||this;return n.splitsCache={},n.ttCache={},n.changeNumber=-1,n.segmentsCount=0,n.flagSetsCache={},n.flagSetsFilter=t?t.groupedFilters.bySet:[],n}return u(t,e),t.prototype.clear=function(){this.splitsCache={},this.ttCache={},this.changeNumber=-1,this.segmentsCount=0},t.prototype.addSplit=function(e){var t=e.name,n=this.getSplit(t);if(n){var i=n.trafficTypeName;this.ttCache[i]--,this.ttCache[i]||delete this.ttCache[i],this.removeFromFlagSets(n.name,n.sets),Gn(n)&&this.segmentsCount--}this.splitsCache[t]=e;var r=e.trafficTypeName;return this.ttCache[r]=(this.ttCache[r]||0)+1,this.addToFlagSets(e),Gn(e)&&this.segmentsCount++,!0},t.prototype.removeSplit=function(e){var t=this.getSplit(e);if(!t)return!1;delete this.splitsCache[e];var n=t.trafficTypeName;return this.ttCache[n]--,this.ttCache[n]||delete this.ttCache[n],this.removeFromFlagSets(t.name,t.sets),Gn(t)&&this.segmentsCount--,!0},t.prototype.getSplit=function(e){return this.splitsCache[e]||null},t.prototype.setChangeNumber=function(e){return this.changeNumber=e,!0},t.prototype.getChangeNumber=function(){return this.changeNumber},t.prototype.getSplitNames=function(){return Object.keys(this.splitsCache)},t.prototype.trafficTypeExists=function(e){return xe(this.ttCache[e])&&this.ttCache[e]>0},t.prototype.usesSegments=function(){return-1===this.getChangeNumber()||this.segmentsCount>0},t.prototype.getNamesByFlagSets=function(e){var t=this;return e.map((function(e){return t.flagSetsCache[e]||new Set}))},t.prototype.addToFlagSets=function(e){var t=this;e.sets&&e.sets.forEach((function(n){t.flagSetsFilter.length>0&&!t.flagSetsFilter.some((function(e){return e===n}))||(t.flagSetsCache[n]||(t.flagSetsCache[n]=new Set([])),t.flagSetsCache[n].add(e.name))}))},t.prototype.removeFromFlagSets=function(e,t){var n=this;t&&t.forEach((function(t){n.removeNames(t,e)}))},t.prototype.removeNames=function(e,t){this.flagSetsCache[e]&&(this.flagSetsCache[e].delete(t),0===this.flagSetsCache[e].size&&delete this.flagSetsCache[e])},t}(qn),Qn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.segmentCache={},t}return u(t,e),t.prototype.addSegment=function(e){return!this.segmentCache[e]&&(this.segmentCache[e]=!0,!0)},t.prototype.removeSegment=function(e){return!!this.segmentCache[e]&&(delete this.segmentCache[e],!0)},t.prototype.isInSegment=function(e){return!0===this.segmentCache[e]},t.prototype.setChangeNumber=function(e){this.cn=e},t.prototype.getChangeNumber=function(){return this.cn||-1},t.prototype.getRegisteredSegments=function(){return Object.keys(this.segmentCache)},t.prototype.getKeysCount=function(){return 1},t}(jn);function Jn(e){var t=Math.min(22,Math.max(0,Math.ceil(Math.log(e)/Math.log(1.5))));return Me(t)?0:t}function Zn(e){var t=e.settings;return t.mode!==J&&(void 0===t.core.key||Math.random()<=.001)}var $n=function(){function e(e,t,n){this.splits=e,this.segments=t,this.largeSegments=n,this.e=!0,this.notReadyUsage=0,this.impressionStats=[0,0,0],this.eventStats=[0,0],this.lastSync={},this.httpErrors={},this.httpLatencies={},this.authRejections=0,this.tokenRefreshes=0,this.streamingEvents=[],this.tags=[],this.exceptions={},this.latencies={},this.updatesFromSSE={}}return e.prototype.isEmpty=function(){return this.e},e.prototype.clear=function(){},e.prototype.pop=function(){return this.e=!0,{lS:this.getLastSynchronization(),mL:this.popLatencies(),mE:this.popExceptions(),hE:this.popHttpErrors(),hL:this.popHttpLatencies(),tR:this.popTokenRefreshes(),aR:this.popAuthRejections(),iQ:this.getImpressionStats(0),iDe:this.getImpressionStats(2),iDr:this.getImpressionStats(1),spC:this.splits&&this.splits.getSplitNames().length,seC:this.segments&&this.segments.getRegisteredSegments().length,skC:this.segments&&this.segments.getKeysCount(),lsC:this.largeSegments&&this.largeSegments.getRegisteredSegments().length,lskC:this.largeSegments&&this.largeSegments.getKeysCount(),sL:this.getSessionLength(),eQ:this.getEventStats(0),eD:this.getEventStats(1),sE:this.popStreamingEvents(),t:this.popTags(),ufs:this.popUpdatesFromSSE()}},e.prototype.getTimeUntilReady=function(){return this.timeUntilReady},e.prototype.recordTimeUntilReady=function(e){this.timeUntilReady=e},e.prototype.getTimeUntilReadyFromCache=function(){return this.timeUntilReadyFromCache},e.prototype.recordTimeUntilReadyFromCache=function(e){this.timeUntilReadyFromCache=e},e.prototype.getNonReadyUsage=function(){return this.notReadyUsage},e.prototype.recordNonReadyUsage=function(){this.notReadyUsage++},e.prototype.getImpressionStats=function(e){return this.impressionStats[e]},e.prototype.recordImpressionStats=function(e,t){this.impressionStats[e]+=t,this.e=!1},e.prototype.getEventStats=function(e){return this.eventStats[e]},e.prototype.recordEventStats=function(e,t){this.eventStats[e]+=t,this.e=!1},e.prototype.getLastSynchronization=function(){return this.lastSync},e.prototype.recordSuccessfulSync=function(e,t){this.lastSync[e]=t,this.e=!1},e.prototype.popHttpErrors=function(){var e=this.httpErrors;return this.httpErrors={},e},e.prototype.recordHttpError=function(e,t){var n=this.httpErrors[e]=this.httpErrors[e]||{};n[t]=(n[t]||0)+1,this.e=!1},e.prototype.popHttpLatencies=function(){var e=this.httpLatencies;return this.httpLatencies={},e},e.prototype.recordHttpLatency=function(e,t){(this.httpLatencies[e]=this.httpLatencies[e]||[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])[Jn(t)]++,this.e=!1},e.prototype.popAuthRejections=function(){var e=this.authRejections;return this.authRejections=0,e},e.prototype.recordAuthRejections=function(){this.authRejections++,this.e=!1},e.prototype.popTokenRefreshes=function(){var e=this.tokenRefreshes;return this.tokenRefreshes=0,e},e.prototype.recordTokenRefreshes=function(){this.tokenRefreshes++,this.e=!1},e.prototype.popStreamingEvents=function(){return this.streamingEvents.splice(0)},e.prototype.recordStreamingEvents=function(e){this.streamingEvents.length<20&&this.streamingEvents.push(e),this.e=!1},e.prototype.popTags=function(){return this.tags.splice(0)},e.prototype.addTag=function(e){this.tags.length<10&&this.tags.push(e),this.e=!1},e.prototype.getSessionLength=function(){return this.sessionLength},e.prototype.recordSessionLength=function(e){this.sessionLength=e,this.e=!1},e.prototype.popExceptions=function(){var e=this.exceptions;return this.exceptions={},e},e.prototype.recordException=function(e){this.exceptions[e]=(this.exceptions[e]||0)+1,this.e=!1},e.prototype.popLatencies=function(){var e=this.latencies;return this.latencies={},e},e.prototype.recordLatency=function(e,t){(this.latencies[e]=this.latencies[e]||[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])[Jn(t)]++,this.e=!1},e.prototype.popUpdatesFromSSE=function(){var e=this.updatesFromSSE;return this.updatesFromSSE={},e},e.prototype.recordUpdatesFromSSE=function(e){this.updatesFromSSE[e]=(this.updatesFromSSE[e]||0)+1,this.e=!1},e}(),ei=function(){function e(e){void 0===e&&(e=3e4),this.uniqueTrackerSize=0,this.uniqueKeysTracker={},this.maxStorage=e}return e.prototype.setOnFullQueueCb=function(e){this.onFullQueue=e},e.prototype.track=function(e,t){this.uniqueKeysTracker[e]||(this.uniqueKeysTracker[e]=new Set);var n=this.uniqueKeysTracker[e];n.has(t)||(n.add(t),this.uniqueTrackerSize++),this.uniqueTrackerSize>=this.maxStorage&&this.onFullQueue&&this.onFullQueue()},e.prototype.clear=function(){this.uniqueTrackerSize=0,this.uniqueKeysTracker={}},e.prototype.pop=function(){var e=this.uniqueKeysTracker;return this.clear(),this.fromUniqueKeysCollector(e)},e.prototype.isEmpty=function(){return 0===Object.keys(this.uniqueKeysTracker).length},e.prototype.fromUniqueKeysCollector=function(e){for(var t=[],n=Object.keys(e),i=0;i<n.length;i++){var r=n[i],s={k:r,fs:Dn(e[r])};t.push(s)}return{keys:t}},e}();function ti(e){var t=e.settings,n=t.scheduler,i=n.impressionsQueueSize,r=n.eventsQueueSize,s=t.sync.__splitFiltersValidation,a=new Xn(s),o=new Qn,c={splits:a,segments:o,largeSegments:new Qn,impressions:new xn(i),impressionCounts:new kn,events:new Vn(r),telemetry:Zn(e)?new $n(a,o):void 0,uniqueKeys:new ei,destroy:function(){},shared:function(){return{splits:this.splits,segments:new Qn,largeSegments:new Qn,impressions:this.impressions,impressionCounts:this.impressionCounts,events:this.events,telemetry:this.telemetry,uniqueKeys:this.uniqueKeys,destroy:function(){}}}};if(e.settings.mode===J){var l=function(){return!0};c.impressions.track=l,c.events.track=l,c.impressionCounts.track=l,c.uniqueKeys.track=l}return c}ti.type=ne;var ni=864e5;function ii(e,t,n,i,r){var s=t.log,a=parseInt(localStorage.getItem(n.buildLastUpdatedKey()),10);if(!Me(a)){var o=xe(e.expirationDays)&&e.expirationDays>=1?e.expirationDays:10;if(a<i-ni*o)return s.info(zn+"Cache expired more than "+o+" days ago. Cleaning up cache"),!0}var c=n.buildHashKey(),l=localStorage.getItem(c),u=function(e){return sn(e.core.authorizationKey+"::"+e.sync.__splitFiltersValidation.queryString+"::"+e.sync.flagSpecVersion).toString(16)}(t);if(l!==u){try{localStorage.setItem(c,u)}catch(e){s.error(zn+e)}return!!r&&(s.info(zn+"SDK key, flags filter criteria, or flags spec version has changed. Cleaning up cache"),!0)}if(e.clearOnInit){var d=parseInt(localStorage.getItem(n.buildLastClear()),10);if(Me(d)||d<i-ni)return s.info(zn+"clearOnInit was set and cache was not cleared in the last 24 hours. Cleaning up cache"),!0}}function ri(e){void 0===e&&(e={});var t=function(e){return e?e+".SPLITIO":"SPLITIO"}(e.prefix);function n(n){if(!Fn())return n.settings.log.warn(zn+"LocalStorage API is unavailable. Falling back to default MEMORY storage"),ti(n);var i=n.settings,r=n.settings,s=r.log,a=r.scheduler,o=a.impressionsQueueSize,c=a.eventsQueueSize,l=mn(i.core.key),u=new Hn(t,l),d=new Yn(i,u),f=new Wn(s,u),h=new Wn(s,Un(t,l));return{splits:d,segments:f,largeSegments:h,impressions:new xn(o),impressionCounts:new kn,events:new Vn(c),telemetry:Zn(n)?new $n(d,f):void 0,uniqueKeys:new ei,validateCache:function(){return function(e,t,n,i,r,s){var a=Date.now(),o=i.getChangeNumber()>-1;if(ii(e,t,n,a,o)){i.clear(),r.clear(),s.clear();try{localStorage.setItem(n.buildLastClear(),a+"")}catch(e){t.log.error(zn+e)}return!1}return o}(e,i,u,d,f,h)},destroy:function(){},shared:function(e){return{splits:this.splits,segments:new Wn(s,new Hn(t,e)),largeSegments:new Wn(s,Un(t,e)),impressions:this.impressions,impressionCounts:this.impressionCounts,events:this.events,telemetry:this.telemetry,uniqueKeys:this.uniqueKeys,destroy:function(){}}}}}return n.type=ie,n}function si(e){return null!=e&&"function"==typeof e.then}function ai(e,t,n){return null==t||ke(t)?t:(e.error(M,[n,"attributes"]),!1)}function oi(e,t,n){if(!ai(e,t,n))return!1;var i=!0;return Object.keys(t).forEach((function(r){(function(e,t,n,i){if(!Ve(t)||0===t.length)return e.warn(i+": you passed an invalid attribute name, attribute name must be a non-empty string."),!1;var r=Ve(n),s=xe(n),a=we(n),o=Array.isArray(n);return!!(r||s||a||o)||(e.warn(i+": you passed an invalid attribute value for "+t+". Acceptable types are: string, number, boolean and array of strings."),!1)})(e,r,t[r],n)||(i=!1)})),i}var ci=/^[a-zA-Z0-9][-_.:a-zA-Z0-9]{0,79}$/,li="event_type";var ui=0,di=2,fi=4,hi=8,pi=1024;function mi(e,t,n){if(null==t)return{properties:null,size:pi};if(!ke(t))return e.error(M,[n,"properties"]),{properties:!1,size:pi};var i=Object.keys(t),r=P({},t),s={properties:r,size:pi};i.length>300&&e.warn(212,[n]);for(var a=0;a<i.length;a++){s.size+=i[a].length*di;var o=r[i[a]],c=Ve(o),l=xe(o),u=we(o),d=null===o;if(c||l||u||d||(r[i[a]]=null,o=null,d=!0,e.warn(211,[n,i[a]])),d?s.size+=ui:l?s.size+=hi:u?s.size+=fi:c&&(s.size+=o.length*di),s.size>32768){e.error(312,[n]),s.properties=!1;break}}return s}var gi=/[A-Z]/,Ei="traffic_type";function vi(e,t,n){return!t.isDestroyed()||(e.error(314,[n]),!1)}function Ti(e,t,n,i){return!(!t.isReady()&&!t.isReadyFromCache())||(e.warn(203,[n,i?" for feature flag "+i.toString():""]),!1)}var yi="definition not found",Ai="not ready",Ci="exception";function Ii(e,t,n,i,r){return!t.isReady()||i!==yi&&null!=i||(e.warn(215,[r,n]),!1)}function Si(e,t,n){e.warn(217,[n,t])}function bi(e){var t=e.conditions,n=Ne(t,(function(e){return"ROLLOUT"===e.conditionType}));return n||(n=t[0]),n?n.partitions.map((function(e){return e.treatment})):[]}function _i(e){return e?{name:e.name,trafficType:e.trafficTypeName,killed:e.killed,changeNumber:e.changeNumber||0,treatments:bi(e),configs:e.configurations||{},sets:e.sets||[],defaultTreatment:e.defaultTreatment,impressionsDisabled:!0===e.impressionsDisabled}:null}function Oi(e){var t=[];return e.forEach((function(e){var n=_i(e);n&&t.push(n)})),t}function Ri(e,t,n){var i=n.readinessManager,r=n.sdkStatus,s=e.log,a=nt(e.mode);return P(Object.create(r),{split:function(e){var n=rt(s,e,ge);if(!vi(s,i,ge)||!Ti(s,i,ge)||!n)return a?Promise.resolve(null):null;var r=t.getSplit(n);return si(r)?r.catch((function(){return null})).then((function(e){return Ii(s,i,n,e,ge),_i(e)})):(Ii(s,i,n,r,ge),_i(r))},splits:function(){if(!vi(s,i,Ee)||!Ti(s,i,Ee))return a?Promise.resolve([]):[];var e=t.getAll();return si(e)?e.catch((function(){return[]})).then(Oi):Oi(e)},names:function(){if(!vi(s,i,ve)||!Ti(s,i,ve))return a?Promise.resolve([]):[];var e=t.getSplitNames();return si(e)?e.catch((function(){return[]})):e}})}var Ni=function(){function e(){this.attributesCache={}}return e.prototype.setAttribute=function(e,t){return this.attributesCache[e]=t,!0},e.prototype.getAttribute=function(e){return this.attributesCache[e]},e.prototype.setAttributes=function(e){return this.attributesCache=P(this.attributesCache,e),!0},e.prototype.getAll=function(){return this.attributesCache},e.prototype.removeAttribute=function(e){return Object.keys(this.attributesCache).indexOf(e)>=0&&(delete this.attributesCache[e],!0)},e.prototype.clear=function(){return this.attributesCache={},!0},e}();function Li(e,t,n){var i=function(e,t){var n=new Ni,i=t.getTreatment,r=t.getTreatmentWithConfig,s=t.getTreatments,a=t.getTreatmentsWithConfig,o=t.getTreatmentsByFlagSets,c=t.getTreatmentsWithConfigByFlagSets,l=t.getTreatmentsByFlagSet,u=t.getTreatmentsWithConfigByFlagSet;function d(e){var t=n.getAll();return Object.keys(t).length>0?P({},t,e):e}return P(t,{getTreatment:function(e,t,n,r){return i(e,t,d(n),r)},getTreatmentWithConfig:function(e,t,n,i){return r(e,t,d(n),i)},getTreatments:function(e,t,n,i){return s(e,t,d(n),i)},getTreatmentsWithConfig:function(e,t,n,i){return a(e,t,d(n),i)},getTreatmentsByFlagSets:function(e,t,n,i){return o(e,t,d(n),i)},getTreatmentsWithConfigByFlagSets:function(e,t,n,i){return c(e,t,d(n),i)},getTreatmentsByFlagSet:function(e,t,n,i){return l(e,t,d(n),i)},getTreatmentsWithConfigByFlagSet:function(e,t,n,i){return u(e,t,d(n),i)},setAttribute:function(t,i){var r={};return r[t]=i,!!oi(e,r,"setAttribute")&&(e.debug("stored "+i+" for attribute "+t),n.setAttribute(t,i))},getAttribute:function(t){return e.debug("retrieved attribute "+t),n.getAttribute(t+"")},setAttributes:function(t){return!!oi(e,t,"setAttributes")&&n.setAttributes(t)},getAttributes:function(){return n.getAll()},removeAttribute:function(t){return e.debug("removed attribute "+t),n.removeAttribute(t+"")},clearAttributes:function(){return n.clear()}})}(e,t);return P(i,{getTreatment:i.getTreatment.bind(i,n),getTreatmentWithConfig:i.getTreatmentWithConfig.bind(i,n),getTreatments:i.getTreatments.bind(i,n),getTreatmentsWithConfig:i.getTreatmentsWithConfig.bind(i,n),getTreatmentsByFlagSets:i.getTreatmentsByFlagSets.bind(i,n),getTreatmentsWithConfigByFlagSets:i.getTreatmentsWithConfigByFlagSets.bind(i,n),getTreatmentsByFlagSet:i.getTreatmentsByFlagSet.bind(i,n),getTreatmentsWithConfigByFlagSet:i.getTreatmentsWithConfigByFlagSet.bind(i,n),track:i.track.bind(i,n),isClientSide:!0,key:n})}var Di={UNDEFINED:0,ALL_KEYS:1,IN_SEGMENT:2,WHITELIST:3,EQUAL_TO:4,GREATER_THAN_OR_EQUAL_TO:5,LESS_THAN_OR_EQUAL_TO:6,BETWEEN:7,EQUAL_TO_SET:8,CONTAINS_ANY_OF_SET:9,CONTAINS_ALL_OF_SET:10,PART_OF_SET:11,ENDS_WITH:12,STARTS_WITH:13,CONTAINS_STRING:14,IN_SPLIT_TREATMENT:15,EQUAL_TO_BOOLEAN:16,MATCHES_STRING:17,EQUAL_TO_SEMVER:18,GREATER_THAN_OR_EQUAL_TO_SEMVER:19,LESS_THAN_OR_EQUAL_TO_SEMVER:20,BETWEEN_SEMVER:21,IN_LIST_SEMVER:22,IN_LARGE_SEGMENT:23},Pi="BOOLEAN",wi="STRING",xi="NUMBER",Mi="SET",ki="DATETIME",Vi="NOT_SPECIFIED";function Bi(e){return e?e.segmentName||e.largeSegmentName:void 0}function Hi(e){return e&&e.whitelist}function Ui(e){return e.value}function Fi(e){return new Date(e).setUTCHours(0,0,0,0)}function qi(e){return new Date(e).setUTCSeconds(0,0)}function Gi(e){var t=e.map((function(e){var t=e.matcherType,n=e.negate,i=e.keySelector,r=e.userDefinedSegmentMatcherData,s=e.userDefinedLargeSegmentMatcherData,a=e.whitelistMatcherData,o=e.unaryNumericMatcherData,c=e.betweenMatcherData,l=e.dependencyMatcherData,u=e.booleanMatcherData,d=e.stringMatcherData,f=e.betweenStringMatcherData,h=i&&i.attribute,p=function(e){return Di[e]||Di.UNDEFINED}(t),m=wi,g=void 0;return p===Di.IN_SEGMENT?g=Bi(r):p===Di.IN_LARGE_SEGMENT?g=Bi(s):p===Di.EQUAL_TO?(g=Ui(o),m=xi,"DATETIME"===o.dataType&&(g=Fi(g),m=ki)):p===Di.GREATER_THAN_OR_EQUAL_TO||p===Di.LESS_THAN_OR_EQUAL_TO?(g=Ui(o),m=xi,"DATETIME"===o.dataType&&(g=qi(g),m=ki)):p===Di.BETWEEN?(m=xi,"DATETIME"===(g=c).dataType&&(g.start=qi(g.start),g.end=qi(g.end),m=ki)):p===Di.BETWEEN_SEMVER?g=f:p===Di.EQUAL_TO_SET||p===Di.CONTAINS_ANY_OF_SET||p===Di.CONTAINS_ALL_OF_SET||p===Di.PART_OF_SET?(g=Hi(a),m=Mi):p===Di.WHITELIST||p===Di.IN_LIST_SEMVER||p===Di.STARTS_WITH||p===Di.ENDS_WITH||p===Di.CONTAINS_STRING?g=Hi(a):p===Di.IN_SPLIT_TREATMENT?(g=l,m=Vi):p===Di.EQUAL_TO_BOOLEAN?(m=Pi,g=u):p!==Di.MATCHES_STRING&&p!==Di.EQUAL_TO_SEMVER&&p!==Di.GREATER_THAN_OR_EQUAL_TO_SEMVER&&p!==Di.LESS_THAN_OR_EQUAL_TO_SEMVER||(g=d),{attribute:h,negate:n,type:p,name:t,value:g,dataType:m}}));return-1===Le(t,(function(e){return e.type===Di.UNDEFINED}))?t:[]}var zi=function(){function e(e,t){if(100!==e[e.length-1])throw new RangeError("Provided invalid dataset as input");this._ranges=e,this._treatments=t}return e.parse=function(t){var n=t.reduce((function(e,t){var n=t.size,i=t.treatment;return e.ranges.push(e.inc+=n),e.treatments.push(i),e}),{inc:0,ranges:[],treatments:[]});return new e(n.ranges,n.treatments)},e.prototype.getTreatmentFor=function(e){if(e<0||e>100)throw new RangeError("Please provide a value between 0 and 100");var t=Le(this._ranges,(function(t){return e<=t}));return this._treatments[t]},e}();var Ki=/^[0-9]+$/,Yi=".";function ji(e,t){if(Ki.test(e)&&Ki.test(t)){var n=e.length-t.length;if(0!==n)return n}return e<t?-1:e>t?1:0}function Wi(e){return e.replace(/^0+(?=\d)/,"")}function Xi(e){throw new Error("Unable to convert to Semver, incorrect format: "+e)}var Qi=function(){function e(e){Ve(e)||Xi(e);var t=e.indexOf("+"),n=-1===t?[e]:[e.slice(0,t),e.slice(t+1)],i=n[0],r=n[1];""===r&&Xi(e),-1===(t=i.indexOf("-"))?(this._isStable=!0,this._preRelease=[]):(this._isStable=!1,this._preRelease=i.slice(t+1).split(Yi).map((function(t){return t||Xi(e),Ki.test(t)?Wi(t):t})),i=i.slice(0,t));var s=i.split(Yi).map((function(t){return t&&Ki.test(t)||Xi(e),Wi(t)}));3!==s.length&&Xi(e),this._major=s[0],this._minor=s[1],this._patch=s[2],this.version=s.join(Yi),this._preRelease.length&&(this.version+="-"+this._preRelease.join(Yi)),r&&(this.version+="+"+r)}return e.prototype.compare=function(e){if(this.version===e.version)return 0;var t=ji(this._major,e._major);if(0!==t)return t;if(0!==(t=ji(this._minor,e._minor)))return t;if(0!==(t=ji(this._patch,e._patch)))return t;if(!this._isStable&&e._isStable)return-1;if(this._isStable&&!e._isStable)return 1;for(var n=0,i=Math.min(this._preRelease.length,e._preRelease.length);n<i;n++){var r=ji(this._preRelease[n],e._preRelease[n]);if(0!==r)return r}return this._preRelease.length-e._preRelease.length},e}();var Ji=[void 0,function(){return function(e){return null!=e}},function(e,t){return function(n){return t.segments.isInSegment(e,n)}},function(e){var t=new Set(e);return function(e){return t.has(e)}},function(e){return function(t){return t===e}},function(e){return function(t){return t>=e}},function(e){return function(t){return t<=e}},function(e){return function(t){return t>=e.start&&t<=e.end}},function(e){return function(t){for(var n=t.length===e.length,i=function(i){Le(e,(function(e){return e===t[i]}))<0&&(n=!1)},r=0;r<t.length&&n;r++)i(r);return n}},function(e){return function(t){for(var n=!1,i=function(i){Le(t,(function(t){return t===e[i]}))>=0&&(n=!0)},r=0;r<e.length&&!n;r++)i(r);return n}},function(e){return function(t){var n=!0;if(t.length<e.length)n=!1;else for(var i=function(i){Le(t,(function(t){return t===e[i]}))<0&&(n=!1)},r=0;r<e.length&&n;r++)i(r);return n}},function(e){return function(t){for(var n=t.length<=e.length,i=function(i){Le(e,(function(e){return e===t[i]}))<0&&(n=!1)},r=0;r<t.length&&n;r++)i(r);return n}},function(e){return function(t){return e.some((function(e){return i=e,void 0===r&&(r=!1),!(!Ve(n=t)||!Ve(i))&&(r&&(n=n.toLowerCase(),i=i.toLowerCase()),n.slice(n.length-i.length)===i);var n,i,r}))}},function(e){return function(t){return e.some((function(e){return Ue(t,e)}))}},function(e){return function(t){return e.some((function(e){return Ve(t)&&t.indexOf(e)>-1}))}},function(e,t,n){var i=e.split,r=e.treatments;function s(e,t,i){var r=!1;return Array.isArray(t)&&(r=-1!==t.indexOf(e.treatment)),n.debug(10,[i,e.treatment,e.label,i,t,r]),r}return function(e,a){var o=e.key,c=e.attributes;n.debug(11,[i,JSON.stringify(o),c?"\n attributes: "+JSON.stringify(c):""]);var l=a(n,o,i,c,t);return si(l)?l.then((function(e){return s(e,r,i)})):s(l,r,i)}},function(e){return function(t){return e===t}},function(e){var t=new RegExp(e);return function(e){return t.test(e)}},function(e){var t=new Qi(e);return function(e){var n=new Qi(e);return t.version===n.version}},function(e){var t=new Qi(e);return function(e){return new Qi(e).compare(t)>=0}},function(e){var t=new Qi(e);return function(e){return new Qi(e).compare(t)<=0}},function(e){var t=new Qi(e.start),n=new Qi(e.end);return function(e){var i=new Qi(e);return t.compare(i)<=0&&n.compare(i)>=0}},function(e){if(!e||0===e.length)throw new Error("whitelistMatcherData is required for IN_LIST_SEMVER matcher type");var t=new Set(e.map((function(e){return new Qi(e).version})));return function(e){var n=new Qi(e).version;return t.has(n)}},function(e,t){return function(n){return!!t.largeSegments&&t.largeSegments.isInSegment(e,n)}}];function Zi(e,t,n){var i,r=t.type,s=t.value;return Ji[r]&&(i=Ji[r](s,n,e)),i}function $i(e,t){return{key:e,attributes:t}}function er(e,t,n,i,r){var s,a,o=function(e,t){switch(e){case Di.EQUAL_TO:return"DATETIME"===t?Fi:void 0;case Di.GREATER_THAN_OR_EQUAL_TO:case Di.LESS_THAN_OR_EQUAL_TO:case Di.BETWEEN:return"DATETIME"===t?qi:void 0;case Di.IN_SPLIT_TREATMENT:return $i;default:return}}(t,i);switch(i){case xi:case ki:a=Fe(n),s=isNaN(a)?void 0:a;break;case wi:s=function(e){var t=e;return ke(e)&&(t=e.matchingKey?e.matchingKey:void 0),qe(t)||void 0}(n);break;case Mi:s=function(e){var t=Array.isArray(e)?Ge(e.map((function(e){return e+""}))):[];return t.length?t:void 0}(n);break;case Pi:s=function(e){if(!0===e||!1===e)return e;if("string"==typeof e){var t=e.toLocaleLowerCase();if("true"===t)return!0;if("false"===t)return!1}}(n);break;case Vi:s=n;break;default:s=void 0}return o&&(s=o(s,r)),e.debug(24,[n,i,s instanceof Object?JSON.stringify(s):s]),s}function tr(e,t,n,i){var r=n.attribute,s=function(e,t,n,i){var r=void 0;return n?i?(r=i[n],e.debug(23,[n,r])):e.warn(201,[n]):r=t,r}(e,t,r,i),a=er(e,n.type,s,n.dataType,i);return void 0!==a?a:void e.warn(200,[s+(r?" for attribute "+r:"")])}function nr(e,t,n,i,r,s){if(t)return{treatment:function(e,t,n,i){var r=an(t,n),s=i.getTreatmentFor(r);return e.debug(3,[r,t,n,s]),s}(e,n,i,r),label:s}}function ir(e,t,n,i,r){return function(s,a,o,c,l,u){if("ROLLOUT"===r&&!function(e,t,n){return!(e<100&&an(t,n)>e)}(o,s.bucketingKey,c))return{treatment:void 0,label:"not in split"};var d=t(s,l,u);return si(d)?d.then((function(t){return nr(e,t,s.bucketingKey,a,n,i)})):nr(e,d,s.bucketingKey,a,n,i)}}function rr(e,t){function n(t){var n=t.every((function(e){return e}));return e.debug(0,[n]),n}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var r=t.map((function(t){return t.apply(void 0,e)}));return-1!==Le(r,si)?Promise.all(r).then(n):n(r)}}function sr(e,t,n){for(var i=[],r=0;r<t.length;r++){var s=t[r],a=s.matcherGroup,o=s.partitions,c=s.label,l=s.conditionType,u=Gi(a.matchers).map((function(t){var i;try{i=Zi(e,t,n)}catch(n){e.error(329,[t.name,n])}return function(n,r,s){var a=tr(e,n,t,r),o=!1;if(void 0!==a&&i)try{o=i(a,s)}catch(n){e.error(329,[t.name,n])}function c(n){return e.debug(40,[t.name,n,t.value,a]),Boolean(n^t.negate)}return si(o)?o.then(c):c(o)}}));if(0===u.length){i=[];break}i.push(ir(e,rr(e,u),zi.parse(o),c,l))}return function(e,t){function n(t){for(var n=t.length,i=0;i<n;i++){var r=t[i];if(void 0!==r)return e.debug(1,[r.treatment]),r}e.debug(2)}return Array.isArray(t)&&0!==t.length?function(e,i,r,s,a,o){var c=t.map((function(t){return t(e,i,r,s,a,o)}));return-1!==Le(c,si)?Promise.all(c).then((function(e){return n(e)})):n(c)}:function(){return e.error(300),{treatment:Y,label:"targeting rule type unsupported by sdk"}}}(e,i)}function ar(e,t){return{treatment:Pe(e,"treatment",t),label:Pe(e,"label","default rule")}}var or=function(){function e(e,t){this.baseInfo=e,this.evaluator=t,"string"!=typeof this.baseInfo.defaultTreatment&&(this.baseInfo.defaultTreatment=Y)}return e.parse=function(t,n,i){return new e(n,sr(t,n.conditions,i))},e.prototype.getKey=function(){return this.baseInfo.name},e.prototype.getTreatment=function(e,t,n){var i,r,s,a=this.baseInfo,o=a.killed,c=a.seed,l=a.defaultTreatment,u=a.trafficAllocation,d=a.trafficAllocationSeed;try{i=gn(e)}catch(e){return{treatment:Y,label:Ci}}if(this.isGarbage())r=Y,s="archived";else{if(!o){var f=this.evaluator(i,c,u,d,t,n);return si(f)?f.then((function(e){return ar(e,l)})):ar(f,l)}r=l,s="killed"}return{treatment:r,label:s}},e.prototype.isGarbage=function(){return"ARCHIVED"===this.baseInfo.status},e.prototype.getChangeNumber=function(){return this.baseInfo.changeNumber},e}(),cr={treatment:Y,label:Ci,config:null};function lr(e){var t={};return e.forEach((function(e){t[e]=cr})),t}function ur(e,t,n,i,r){var s;try{s=r.splits.getSplit(n)}catch(e){return cr}return si(s)?s.then((function(n){return fr(e,n,t,i,r)})).catch((function(){return cr})):fr(e,s,t,i,r)}function dr(e,t,n,i,r){var s;try{s=r.splits.getSplits(n)}catch(e){return lr(n)}return si(s)?s.then((function(s){return hr(e,n,s,t,i,r)})).catch((function(){return lr(n)})):hr(e,n,s,t,i,r)}function fr(e,t,n,i,r){var s={treatment:Y,label:yi,config:null};if(t){var a=or.parse(e,t,r);if(si(s=a.getTreatment(n,i,ur)))return s.then((function(e){return e.changeNumber=a.getChangeNumber(),e.config=t.configurations&&t.configurations[e.treatment]||null,e.impressionsDisabled=t.impressionsDisabled,e}));s.changeNumber=a.getChangeNumber(),s.config=t.configurations&&t.configurations[s.treatment]||null,s.impressionsDisabled=t.impressionsDisabled}return s}function hr(e,t,n,i,r,s){var a={},o=[];return t.forEach((function(t){var c=fr(e,n[t],i,r,s);si(c)?o.push(c.then((function(e){a[t]=e}))):a[t]=c})),o.length>0?Promise.all(o).then((function(){return a})):a}var pr={treatment:Y,label:Ai};function mr(e){var t={};return e.forEach((function(e){t[e]=pr})),t}function gr(e){if(e&&e.properties)try{return JSON.stringify(e.properties)}catch(e){}}function Er(e){var t=e.sdkReadinessManager.readinessManager,n=e.storage,i=e.settings,r=e.impressionsTracker,s=e.eventTracker,a=e.telemetryTracker,o=i.log,c=i.mode,l=nt(c);function u(e,i,s,c,u,d){void 0===u&&(u=!1),void 0===d&&(d=oe);var f=a.trackEval(u?"tc":"t"),p=function(t){var n=[],a=h(t,i,e,gr(c),u,d,n);return r.track(n,s),f(n[0]&&n[0].imp.label),a},m=t.isReady()||t.isReadyFromCache()?ur(o,e,i,s,n):l?Promise.resolve(pr):pr;return si(m)?m.then((function(e){return p(e)})):p(m)}function d(e,i,s,c,u,d){void 0===u&&(u=!1),void 0===d&&(d=ce);var f=a.trackEval(u?"tcs":"ts"),p=function(t){var n=[],i={},a=gr(c);return Object.keys(t).forEach((function(r){i[r]=h(t[r],r,e,a,u,d,n)})),r.track(n,s),f(n[0]&&n[0].imp.label),i},m=t.isReady()||t.isReadyFromCache()?dr(o,e,i,s,n):l?Promise.resolve(mr(i)):mr(i);return si(m)?m.then((function(e){return p(e)})):p(m)}function f(e,i,s,c,u,d,f){void 0===u&&(u=!1),void 0===d&&(d="tfs"),void 0===f&&(f=fe);var p=a.trackEval(d),m=function(t){var n=[],i={},a=gr(c);return Object.keys(t).forEach((function(r){i[r]=h(t[r],r,e,a,u,f,n)})),r.track(n,s),p(n[0]&&n[0].imp.label),i},g=t.isReady()||t.isReadyFromCache()?function(e,t,n,i,r,s){var a;function o(a){for(var o,c=new Set,l=0;l<n.length;l++){var u=a[l];u.size?(o=u,c=new Set(Dn(c).concat(Dn(o)))):e.warn(228,[s,n[l]])}return c.size?dr(e,t,Dn(c),i,r):{}}try{a=r.splits.getNamesByFlagSets(n)}catch(e){return{}}return si(a)?a.then((function(e){return o(e)})).catch((function(){return{}})):o(a)}(o,e,i,s,n,f):l?Promise.resolve({}):{};return si(g)?g.then((function(e){return m(e)})):m(g)}function h(e,n,i,r,s,a,c){var l=mn(i),u=function(e){return ke(e)?e.bucketingKey:void 0}(i),d=e.treatment,f=e.label,h=e.changeNumber,p=e.config,m=void 0===p?null:p,g=e.impressionsDisabled;return o.info(102,[n,l,d,f]),Ii(o,t,n,f,a)&&(o.info(103),c.push({imp:{feature:n,keyName:l,treatment:d,time:Date.now(),bucketingKey:u,label:f,changeNumber:h,properties:r},disabled:g})),s?{treatment:d,config:m}:d}return{getTreatment:u,getTreatmentWithConfig:function(e,t,n,i){return u(e,t,n,i,!0,le)},getTreatments:d,getTreatmentsWithConfig:function(e,t,n,i){return d(e,t,n,i,!0,ue)},getTreatmentsByFlagSets:f,getTreatmentsWithConfigByFlagSets:function(e,t,n,i){return f(e,t,n,i,!0,"tcfs",pe)},getTreatmentsByFlagSet:function(e,t,n,i){return f(e,[t],n,i,!1,"tf",de)},getTreatmentsWithConfigByFlagSet:function(e,t,n,i){return f(e,[t],n,i,!0,"tcf",he)},track:function(e,i,r,l,u,d){void 0===d&&(d=1024);var f=a.trackEval("tr"),h=mn(e),p={eventTypeId:r,trafficTypeName:i,value:l,timestamp:Date.now(),key:h,properties:u};!function(e,t,n,i,r,s){if(!t.isReady()||i===J)return!0;var a=n.trafficTypeExists(r);si(a)?a.then((function(t){return t||Si(e,r,s),t})):a||Si(e,r,s)}(o,t,n.splits,c,i,me);var m=s.track(p,d);return si(m)?m.then((function(e){return f(),e})):(f(),m)}}}function vr(e,t,n){var i=e.log,r=nt(e.mode);function s(t,r,s,a,o){var c=ht(i,r,t),l=t.indexOf("ByFlagSet")>-1?function(e,t,n,i){var r=st(e,n,t,"flag sets","flag set"),s=r?lt(e,r,t):[];return i.length>0&&(s=s.filter((function(n){return i.indexOf(n)>-1||(e.warn(227,[t,n]),!1)}))),!!s.length&&s}(i,t,s,e.sync.__splitFiltersValidation.groupedFilters.bySet):Ue(t,ce)?st(i,s,t):rt(i,s,t),u=ai(i,a,t),d=vi(i,n,t),f=function(e,t,n){if(ke(t)){var i=mi(e,t.properties,n).properties;return i&&Object.keys(i).length>0?{properties:i}:void 0}t&&e.error(M,[n,"evaluation options"])}(i,o,t);return Ti(i,n,t,l),{valid:d&&c&&l&&!1!==u,key:c,nameOrNames:l,attributes:u,options:f}}function a(e){return r?Promise.resolve(e):e}return{getTreatment:function(e,n,i,r){var o=s(oe,e,n,i,r);return o.valid?t.getTreatment(o.key,o.nameOrNames,o.attributes,o.options):a(Y)},getTreatmentWithConfig:function(e,n,i,r){var o=s(le,e,n,i,r);return o.valid?t.getTreatmentWithConfig(o.key,o.nameOrNames,o.attributes,o.options):a(P({},j))},getTreatments:function(e,n,i,r){var o=s(ce,e,n,i,r);if(o.valid)return t.getTreatments(o.key,o.nameOrNames,o.attributes,o.options);var c={};return o.nameOrNames&&o.nameOrNames.forEach((function(e){return c[e]=Y})),a(c)},getTreatmentsWithConfig:function(e,n,i,r){var o=s(ue,e,n,i,r);if(o.valid)return t.getTreatmentsWithConfig(o.key,o.nameOrNames,o.attributes,o.options);var c={};return o.nameOrNames&&o.nameOrNames.forEach((function(e){return c[e]=P({},j)})),a(c)},getTreatmentsByFlagSets:function(e,n,i,r){var o=s(fe,e,n,i,r);return o.valid?t.getTreatmentsByFlagSets(o.key,o.nameOrNames,o.attributes,o.options):a({})},getTreatmentsWithConfigByFlagSets:function(e,n,i,r){var o=s(pe,e,n,i,r);return o.valid?t.getTreatmentsWithConfigByFlagSets(o.key,o.nameOrNames,o.attributes,o.options):a({})},getTreatmentsByFlagSet:function(e,n,i,r){var o=s(de,e,[n],i,r);return o.valid?t.getTreatmentsByFlagSet(o.key,o.nameOrNames[0],o.attributes,o.options):a({})},getTreatmentsWithConfigByFlagSet:function(e,n,i,r){var o=s(he,e,[n],i,r);return o.valid?t.getTreatmentsWithConfigByFlagSet(o.key,o.nameOrNames[0],o.attributes,o.options):a({})},track:function(e,s,a,o,c){var l=ht(i,e,me),u=function(e,t,n){if(null==t)e.error(k,[n,Ei]);else if(Ve(t)){if(0!==t.length)return gi.test(t)&&(e.warn(216,[n]),t=t.toLowerCase()),t;e.error(B,[n,Ei])}else e.error(V,[n,Ei]);return!1}(i,s,me),d=function(e,t,n){if(null==t)e.error(k,[n,li]);else if(Ve(t))if(0===t.length)e.error(B,[n,li]);else{if(ci.test(t))return t;e.error(310,[n,t])}else e.error(V,[n,li]);return!1}(i,a,me),f=function(e,t,n){return xe(t)||null==t?t:(e.error(313,[n]),!1)}(i,o,me),h=mi(i,c,me),p=h.properties,m=h.size;return vi(i,n,me)&&l&&u&&d&&!1!==f&&!1!==p?t.track(l,u,d,f,p,m):!!r&&Promise.resolve(!1)}}}function Tr(e,t){var n=e.sdkReadinessManager,i=e.syncManager,r=e.storage,s=e.signalListener,a=e.settings,o=e.telemetryTracker,c=e.uniqueKeysTracker,l=0;function u(){return i?i.flush():Promise.resolve()}return P(Object.create(n.sdkStatus),vr(a,Er(e),n.readinessManager),{flush:function(){return e=u,t=1e3,n=Date.now(),(i=n-l)<t?(a.log.warn("Flush cooldown, remaining time "+(t-i)/1e3+" seconds"),Promise.resolve()):(l=n,e());var e,t,n,i},destroy:function(){var e;return n.readinessManager.destroy(),t||(e=a.core.authorizationKey,At[e]&&At[e]--,0===At[e]&&delete At[e],o.sessionLength(),s&&s.stop(),c.stop()),i&&i.stop(),u().then((function(){return r.destroy()}))}})}function yr(e,t){return(e.matchingKey?e.matchingKey:e)+"-"+(e.bucketingKey?e.bucketingKey:e)+"-"}function Ar(e){var t=e.clients,n=e.storage,i=e.syncManager,r=e.sdkReadinessManager,s=e.settings,a=s.core.key,o=s.log,c=Li(o,Tr(e),a),l=yr(gn(a));return t[l]=c,function(s){if(void 0===s)return o.debug(27),c;var a=ht(o,s,F);if(!1===a)throw new Error("Shared Client needs a valid key.");var l=yr(a);if(t[l])o.debug(28);else{var u=mn(a),d=r.shared(),f=n.shared&&n.shared(u,(function(e){e?d.readinessManager.timeout():d.readinessManager.segments.emit(Je)})),h=i&&f&&i.shared(u,d.readinessManager,f);t[l]=Li(o,Tr(P({},e,{sdkReadinessManager:d,storage:f||n,syncManager:h}),!0),a),o.info(104)}return t[l]}}var Cr=function(){return function(e,t,n,i){this.list=i,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}}(),Ir=function(){function e(){this.tail=null,this.head=null,this.length=0}return e.prototype.removeNode=function(e){if(e&&e instanceof Cr){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t}},e.prototype.unshiftNode=function(e){if(e&&e instanceof Cr&&e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},e.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)this.head=new Cr(arguments[e],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},e}(),Sr=function(){function e(e){this.maxLen=e||1,this.items=new Map,this.lru=new Ir}return e.prototype.get=function(e){var t=this.items.get(e);if(t&&t instanceof Cr)return this.lru.unshiftNode(t),t.value.value},e.prototype.set=function(e,t){var n=this.items.get(e);if(n){if(!(n instanceof Cr))return!1;this.lru.unshiftNode(n),this.lru.head.value.value=t}else{if(this.lru.length===this.maxLen){var i=this.lru.tail;if(!i)return!1;this.items.delete(i.value.key),this.lru.removeNode(this.lru.tail)}this.lru.unshift({key:e,value:t}),this.items.set(e,this.lru.head)}return!0},e}(),br=function(){function e(e,t){this.cache=new Sr(e),this.hasher=t}return e.prototype.testAndSet=function(e){var t=this.hasher(e),n=this.cache.get(t);return this.cache.set(t,e.time),n},e}();function _r(e){return sn(function(e){return e.keyName+":"+e.feature+":"+e.treatment+":"+e.label+":"+e.changeNumber}(e))}function Or(){return new br(500,_r)}function Rr(e){var t=ti(e);return t.validateCache=function(){return!0},t}function Nr(e,t){var n=!1,i=!1;var r=function e(r){var s=new Promise((function(e,n){return r.then(e,(function(e){i?n(e):t(e)}))})),a=s.then;return Object.defineProperty(s,"then",{value:function(t,r){var o=a.call(s,t,r);return"function"==typeof t&&(n=!0),"function"==typeof r?(i=!0,o):e(o)}}),s}(e);return r.hasOnFulfilled=function(){return n},r}function Lr(e,t,n,i){void 0===n&&(n=function(e){var t=P(new e,{splitsArrived:!1,splitsCacheLoaded:!1,hasInit:!1,initCallbacks:[]});return t.on(Xe,(function(e){e||(t.splitsArrived=!0)})),t.once(Qe,(function(){t.splitsCacheLoaded=!0})),t}(e));var r=t.startup.readyTimeout,s=function(e){var t=P(new e,{segmentsArrived:!1});return t.once(Je,(function(){t.segmentsArrived=!0})),t}(e),a=new e,o=0;function c(){var e=Date.now();o=e>o?e:o+1}var l=!1;n.splitsCacheLoaded?l=!0:n.once(Qe,(function(){if(l=!0,!f&&!p)try{c(),a.emit(et)}catch(e){setTimeout((function(){throw e}),0)}}));var u=!1;function d(){u||f||(u=!0,c(),a.emit(Ze,"Split SDK emitted SDK_READY_TIMED_OUT event."))}var f=!1;n.on(Xe,g),s.on(Je,g);var h,p=!1;function m(){p=!1,r>0&&!f&&(h=setTimeout(d,r))}function g(e){var i;if(!p)if(f)try{c(),a.emit(tt,e)}catch(e){setTimeout((function(){throw e}),0)}else if(n.splitsArrived&&s.segmentsArrived){clearTimeout(h),f=!0;try{c(),l||(null===(i=t.storage)||void 0===i?void 0:i.type)!==ie||(l=!0,a.emit(et)),a.emit($e)}catch(e){setTimeout((function(){throw e}),0)}}}return n.initCallbacks.push(m),n.hasInit&&m(),{splits:n,segments:s,gate:a,shared:function(){return Lr(e,t,n,!0)},timeout:d,setDestroyed:function(){p=!0},init:function(){n.hasInit||(n.hasInit=!0,n.initCallbacks.forEach((function(e){return e()})))},destroy:function(){p=!0,c(),clearTimeout(h),i||(n.hasInit=!1)},isReady:function(){return f},isReadyFromCache:function(){return l},isTimedout:function(){return u&&!f},hasTimedout:function(){return u},isDestroyed:function(){return p},isOperational:function(){return(f||l)&&!p},lastUpdate:function(){return o}}}Rr.type=ne;function Dr(e,t,n){void 0===n&&(n=Lr(e,t));var i=t.log,r=0,s=0;n.gate.on("removeListener",(function(e){e===$e&&s--})),n.gate.on("newListener",(function(e){e!==$e&&e!==Ze||(n.isReady()?i.error(302,[e===$e?"SDK_READY":"SDK_READY_TIMED_OUT"]):e===$e&&s++)}));var a,o=a=Nr(new Promise((function(e,t){n.gate.once($e,(function(){i.info(101),s!==r||a.hasOnFulfilled()||i.warn(202),e()})),n.gate.once(Ze,(function(e){t(new Error(e))}))})),c);function c(e){i.error(e&&e.message)}return n.gate.once(et,(function(){i.info(100)})),{readinessManager:n,shared:function(){return Dr(e,t,n.shared())},incInternalReadyCbCount:function(){r++},sdkStatus:P(Object.create(n.gate),{Event:{SDK_READY:$e,SDK_READY_FROM_CACHE:et,SDK_UPDATE:tt,SDK_READY_TIMED_OUT:Ze},ready:function(){return n.hasTimedout()?n.isReady()?Promise.resolve():Nr(Promise.reject(new Error("Split SDK has emitted SDK_READY_TIMED_OUT event.")),c):o},__getStatus:function(){return{isReady:n.isReady(),isReadyFromCache:n.isReadyFromCache(),isTimedout:n.isTimedout(),hasTimedout:n.hasTimedout(),isDestroyed:n.isDestroyed(),isOperational:n.isOperational(),lastUpdate:n.lastUpdate()}}})}}var Pr={DEBUG:"DEBUG",INFO:"INFO",WARN:"WARN",ERROR:"ERROR",NONE:"NONE"},wr={DEBUG:1,INFO:2,WARN:3,ERROR:4,NONE:5};function xr(e){return!!Ne(Pr,(function(t){return e===t}))}function Mr(e,t){void 0===e&&(e=""),void 0===t&&(t=[]);var n=0;return e.replace(/%s/g,(function(){var e=t[n++];if(ke(e)||Array.isArray(e))try{e=JSON.stringify(e)}catch(e){}return e}))}var kr={prefix:"splitio",logLevel:Pr.NONE,showLevel:!0},Vr=function(){function e(e,t){this.options=P({},kr,e),this.codes=t||new Map,this.logLevel=wr[this.options.logLevel]}return e.prototype.setLogLevel=function(e){this.options.logLevel=e,this.logLevel=wr[e]},e.prototype.debug=function(e,t){this._shouldLog(wr.DEBUG)&&this._log(Pr.DEBUG,e,t)},e.prototype.info=function(e,t){this._shouldLog(wr.INFO)&&this._log(Pr.INFO,e,t)},e.prototype.warn=function(e,t){this._shouldLog(wr.WARN)&&this._log(Pr.WARN,e,t)},e.prototype.error=function(e,t){this._shouldLog(wr.ERROR)&&this._log(Pr.ERROR,e,t)},e.prototype._log=function(e,t,n){if("number"==typeof t){var i=this.codes.get(t);t=i?Mr(i,n):"Message code "+t+(n?", with args: "+n.toString():"")}else n&&(t=Mr(t,n));var r=this._generateLogMessage(e,t);console.log(r)},e.prototype._generateLogMessage=function(e,t){var n="";return this.options.showLevel&&(n+="["+e+"]"+(e===Pr.INFO||e===Pr.WARN?" ":"")+" "),this.options.prefix&&(n+=this.options.prefix+" => "),n+t},e.prototype._shouldLog=function(e){return e>=this.logLevel},e}();function Br(e){function t(t){xr(t)?e.setLogLevel(t):e.error(301)}return{enable:function(){t(Pr.DEBUG)},setLogLevel:t,disable:function(){t(Pr.NONE)},LogLevel:Pr}}var Hr={add:function(){return!0},contains:function(){return!0},clear:function(){}};function Ur(e){var t=e.settings,n=e.platform,i=e.storageFactory,r=e.splitApiFactory,s=e.extraProps,a=e.syncManagerFactory,o=e.SignalListener,c=e.impressionsObserverFactory,l=e.integrationsManagerFactory,u=e.sdkManagerFactory,d=e.sdkClientMethodFactory,f=e.filterAdapterFactory,h=e.lazyInit,p=t.log,m=t.sync.impressionsMode,g=!1,E=[];function v(e){g?e():E.push(e)}var T,y,A=Dr(n.EventEmitter,t),C=A.readinessManager,I=i({settings:t,onReadyCb:function(e){e?C.timeout():(C.splits.emit(Xe),C.segments.emit(Je))}}),S={},b=function(e,t){if(e&&t){var n=It(t);return{trackEval:function(n){var i=It(t);return function(t){switch(t){case Ci:return void e.recordException(n);case Ai:e.recordNonReadyUsage&&e.recordNonReadyUsage()}e.recordLatency(n,i())}},trackHttp:function(n){var i=It(t);return function(t){e.recordHttpLatency(n,i()),t&&t.statusCode?e.recordHttpError(n,t.statusCode):e.recordSuccessfulSync(n,Date.now())}},sessionLength:function(){e.recordSessionLength&&e.recordSessionLength(n())},streamingEvent:function(t,n){80===t?e.recordAuthRejections():(e.recordStreamingEvents({e:t,d:n,t:Date.now()}),50===t&&e.recordTokenRefreshes())},addTag:function(t){e.addTag&&e.addTag(t)},trackUpdatesFromSSE:function(t){e.recordUpdatesFromSSE(t)}}}var i=function(){return function(){}};return{trackEval:i,trackHttp:i,sessionLength:function(){},streamingEvent:function(){},addTag:function(){},trackUpdatesFromSSE:function(){}}}(I.telemetry,n.now),_=l&&l({settings:t,storage:I,telemetryTracker:b}),O=c(),R=function(e,t,n){var i;return void 0===n&&(n=Hr),{track:function(i,r){n.add(i,r)?t.track(i,r):e.debug("unique-keys-tracker: The feature "+r+" and key "+i+" exist in the filter")},start:function(){n.refreshRate&&(i=setInterval(n.clear,n.refreshRate))},stop:function(){clearInterval(i)}}}(p,I.uniqueKeys,f&&f()),N=function(e,t){return{process:function(n){var i=Date.now();return e.track(n.feature,i,1),t.track(n.keyName,n.feature),!1}}}(I.impressionCounts,R),L=m===X?(T=O,y=I.impressionCounts,{process:function(e){if(e.properties)return!0;e.pt=T.testAndSet(e);var t=Date.now();return e.pt&&y.track(e.feature,t,1),!e.pt||e.pt<Mn(t)}}):m===W?function(e){return{process:function(t){return t.properties||(t.pt=e.testAndSet(t)),!0}}}(O):N,D=function(e,t,n,i,r,s,a){var o=e.log,c=e.impressionListener,l=e.runtime,u=l.ip,d=l.hostname,f=e.version;return{track:function(l,h){if(e.userConsent!==se){var p=l.filter((function(e){var t=e.imp;return e.disabled?n.process(t):i.process(t)})),m=l.length,g=p.length;if(g){var E=t.track(p.map((function(e){return e.imp})));si(E)?E.then((function(){o.info(121,[m])})).catch((function(e){o.error(307,[m,e])})):a&&(a.recordImpressionStats(0,g),a.recordImpressionStats(2,m-g))}if(c||s)for(var v=function(e){var t={impression:P({},l[e].imp),attributes:h,ip:u,hostname:d,sdkLanguageVersion:f};r((function(){setTimeout((function(){s&&s.handleImpression(t);try{c&&c.logImpression(t)}catch(e){o.error(308,[e])}}))}))},T=0;T<m;T++)v(T)}}}}(t,I.impressions,N,L,v,_,I.telemetry),w=function(e,t,n,i,r){var s=e.log,a=nt(e.mode);function o(e,t){var r=e.eventTypeId,a=e.trafficTypeName,o=e.key,c=e.value,l=e.timestamp,u=e.properties,d='event of type "'+r+'" for traffic type "'+a+'". Key: '+o+". Value: "+c+". Timestamp: "+l+". "+(u?"With properties.":"With no properties.");return t?(s.info(120,[d]),i&&n((function(){setTimeout((function(){var t=P({},e);u&&(t.properties=P({},u)),i.handleEvent(t)}))}))):s.error(309,[d]),t}return{track:function(n,i){if(e.userConsent===se)return!!a&&Promise.resolve(!1);var s=t.track(n,i);return si(s)?s.then(o.bind(null,n)):(r&&r.recordEventStats(s?0:1,1),o(n,s))}}}(t,I.events,v,_,I.telemetry),x=r&&r(t,n,b),M={clients:S,splitApi:x,eventTracker:w,impressionsTracker:D,telemetryTracker:b,uniqueKeysTracker:R,sdkReadinessManager:A,readiness:C,settings:t,storage:I,platform:n},k=a&&a(M);M.syncManager=k;var V=o&&new o(k,t,I,x);M.signalListener=V;var B=d(M),H=u(t,I.splits,A);function U(){g||(g=!0,Ct(p,t.core.authorizationKey),C.init(),R.start(),k&&k.start(),V&&V.start(),E.forEach((function(e){return e()})),E.length=0)}return p.info(105),P({client:B,manager:function(){return p.debug(29),H},Logger:Br(p),settings:t,destroy:function(){return g=!1,Promise.all(Object.keys(S).map((function(e){return S[e].destroy()}))).then((function(){}))}},s&&s(M),h?{init:U}:U())}var Fr={GRANTED:re,DECLINED:se,UNKNOWN:ae};function qr(e){var t=e.settings,n=e.settings.log,i=e.syncManager,r=e.storage,s=r.events,a=r.impressions,o=r.impressionCounts;return zt(t)||n.info(124,[t.userConsent]),{setStatus:function(e){var r,c;if(!we(e))return n.warn(325,["UserConsent.setStatus"]),!1;var l=e?re:se;return t.userConsent!==l?(n.info(122,[t.userConsent,l]),t.userConsent=l,e?null===(r=null==i?void 0:i.submitterManager)||void 0===r||r.start():(null===(c=null==i?void 0:i.submitterManager)||void 0===c||c.stop(!0),s.clear&&s.clear(),a.clear&&a.clear(),o&&o.clear&&o.clear())):n.info(123,[l]),!0},getStatus:function(){return t.userConsent},Status:Fr}}function Gr(e){var t=e.treatment;return e.keys?{conditionType:"WHITELIST",matcherGroup:{combiner:"AND",matchers:[{keySelector:null,matcherType:"WHITELIST",negate:!1,whitelistMatcherData:{whitelist:Ve(e.keys)?[e.keys]:e.keys}}]},partitions:[{treatment:t,size:100}],label:"whitelisted "+t}:{conditionType:"ROLLOUT",matcherGroup:{combiner:"AND",matchers:[{keySelector:null,matcherType:"ALL_KEYS",negate:!1}]},partitions:[{treatment:t,size:100}],label:"default rule"}}function zr(e,t,n,i){return Se(i.log,function(e,t,n,i){var r=i.log,s=t.splits,a=!0;return function(){var o=[],c=null,l={};try{l=e(i)}catch(e){c=e,r.error(304,[e])}return!c&&l?(r.debug(30,[JSON.stringify(l)]),De(l,(function(e,t){o.push({name:t,status:"ACTIVE",killed:!1,trafficAllocation:100,defaultTreatment:Y,conditions:e.conditions||[],configurations:e.configurations,trafficTypeName:e.trafficTypeName})})),Promise.all([s.clear(),s.update(o,[],Date.now())]).then((function(){if(n.splits.emit(Xe),a){a=!1;var e=!!t.validateCache&&t.validateCache();Promise.resolve().then((function(){e&&n.splits.emit(Qe),n.segments.emit(Je)}))}return!0}))):Promise.resolve(!0)}}(e,t,n,i),i.scheduler.offlineRefreshRate,"offlineUpdater")}function Kr(){return Promise.resolve()}var Yr,jr=(Yr=function(){var e={emptyMock:"1"};return function(t){var n,i,r=t.features||{};if(n=r,!((i=Object.keys(n)).length!==Object.keys(e).length?(e=He({},n),1):i.some((function(t){var i,r,s=!e[t],a=typeof(i=e[t])!=typeof(r=n[t])||("string"==typeof i?i!==r:i.treatment!==r.treatment||i.config!==r.config),o=s||a;return o&&(e=He({},n)),o}))))return!1;var s={};return De(r,(function(e,t){var n=e,i=null;ke(e)&&(n=e.treatment,i=e.config||i);var r={};null!==i&&(r[n]=i),s[t]={trafficTypeName:"localhost",conditions:[Gr({treatment:n})],configurations:r}})),s}},function(e){var t=e.settings,n=e.readiness,i=e.storage,r=zr(Yr(),i,n,t),s=r.start,a=[];return P(r,{start:function(){s(),a.forEach((function(e){return e()})),a.length=0},flush:Kr,shared:function(e,t){function n(){t.segments.emit(Je)}return r.isRunning()?setTimeout(n):a.push(n),{stop:function(){},flush:Kr}}})});var Wr=!("undefined"==typeof process||void 0===process.version||!process.version),Xr="Split SDK client is ready",Qr=[[300,"engine:combiner: Invalid feature flag, no valid rules or unsupported targeting rule type found"],[329,"engine:matcher: [%s] %s"],[301,"logger: Invalid Log Level - No changes to the logs will be applied."],[303,"The SDK will not get ready. Reason: %s"],[307,"impressions-tracker: Could not store impressions bulk with %s impression(s). Error: %s"],[308,"impressions-tracker: Impression listener logImpression method threw: %s."],[309,"events-tracker: Failed to queue %s"],[304,"sync:offline: There was an issue loading the mock feature flags data. No changes will be applied to the current cache. %s"],[305,"sync:streaming: Failed to connect or error on streaming connection, with error message: %s"],[306,"sync:streaming: Failed to authenticate for streaming. Error: %s."],[322,"Response status is not OK. Status: %s. URL: %s. Message: %s"],[302,"A listener was added for %s on the SDK, which has already fired and won't be emitted again. The callback won't be executed."],[314,"%s: Client has already been destroyed - no calls possible."],[310,'%s: you passed "%s", event_type must adhere to the regular expression /^[a-zA-Z0-9][-_.:a-zA-Z0-9]{0,79}$/g. This means an event_type must be alphanumeric, cannot be more than 80 characters long, and can only include a dash, underscore, period, or colon as separators of alphanumeric characters.'],[M,"%s: %s must be a plain object."],[312,"%s: the maximum size allowed for the properties is 32768 bytes, which was exceeded."],[313,"%s: value must be a finite number."],[k,"%s: you passed a null or undefined %s. It must be a non-empty string."],[316,"%s: %s too long. It must have 250 characters or less."],[317,"%s: Key must be an object with bucketingKey and matchingKey with valid string properties."],[V,"%s: you passed an invalid %s. It must be a non-empty string."],[B,"%s: you passed an empty %s. It must be a non-empty string."],[320,"%s: %s must be a non-empty array."],[325,"%s: provided param must be a boolean value."],[321,'settings: you passed an invalid "%s" config param. It should be one of the following values: %s. Defaulting to "%s".'],[324,"settings: the provided storage is invalid.%s Falling back into default MEMORY storage"],[326,'settings: the provided "%s" config param is lower than allowed. Setting to the minimum value %s seconds'],[327,"settings: the amount of flag sets provided are big causing uri length error."],[328,"settings: the Set filter is exclusive and cannot be used simultaneously with names or prefix filters. Ignoring names and prefixes."]].concat([[200,"engine:value: Value %s doesn't match with expected type."],[201,"engine:value: Defined attribute `%s`. No attributes received."],[204,"sync:my-segments: Retrying download of segments #%s. Reason: %s"],[205,q+"Error while doing fetch of feature flags. %s"],[206,"sync:streaming: Error parsing SSE error notification: %s"],[207,"sync:streaming: Error parsing SSE message notification: %s"],[208,"sync:streaming: Falling back to polling mode. Reason: %s"],[209,"sync:submitter: Dropping %s after retry. Reason: %s."],[210,"sync:submitter: Failed to push %s, keeping data to retry on next iteration. Reason: %s."],[203,"%s: the SDK is not ready, results may be incorrect%s. Make sure to wait for SDK readiness before using this method."],[202,"No listeners for SDK Readiness detected. Incorrect control treatments could have been logged if you called getTreatment/s while the SDK was not yet ready."],[211,'%s: Property "%s" is of invalid type. Setting value to null.'],[212,"%s: more than 300 properties were provided. Some of them will be trimmed when processed."],[213,'%s: %s "%s" is not of type string, converting.'],[214,'%s: %s "%s" has extra whitespace, trimming.'],[215,'%s: feature flag "%s" does not exist in this environment. Please double check what feature flags exist in the Split user interface.'],[216,"%s: traffic_type_name should be all lowercase - converting string to lowercase."],[217,'%s: traffic type "%s" does not have any corresponding feature flag in this environment, make sure you\'re tracking your events to a valid traffic type defined in the Split user interface.'],[227,"%s: you passed %s which is not part of the configured FlagSetsFilter, ignoring Flag Set."],[218,"settings: %s integration item(s) at settings is invalid. %s"],[219,"settings: feature flag filters are not applicable for Consumer modes where the SDK does not keep rollout data in sync. Filters were discarded"],[220,'settings: feature flag filter at position %s is invalid. It must be an object with a valid filter type ("bySet", "byName" or "byPrefix") and a list of "values".'],[221,"settings: feature flag filter configuration must be a non-empty array of filter objects."],[222,"settings: You already have %s. We recommend keeping only one instance of the factory at all times (Singleton pattern) and reusing it throughout your application"],[x,"sync:streaming: Fetching Memberships due to an error processing %s notification: %s"],[224,"sync:streaming: Fetching SplitChanges due to an error processing SPLIT_UPDATE notification: %s"],[225,"%s: you passed %s, flag set must adhere to the regular expressions %s. This means a flag set must start with a letter or number, be in lowercase, alphanumeric and have a max length of 50 characters. %s was discarded."],[226,"%s: flag set %s should be all lowercase - converting string to lowercase."],[228,"%s: you passed %s flag set that does not contain cached feature flag names. Please double check what flag sets are in use in the Split user interface."]]).concat([[100,Xr+" from cache"],[101,Xr],[102,"impressions-tracker: Feature flag: %s. Key: %s. Evaluation: %s. Label: %s"],[103,"impressions-tracker: Queueing corresponding impression."],[104,"New shared client instance created."],[105,"New Split SDK instance created."],[120,"events-tracker: Successfully queued %s"],[121,"impressions-tracker: Successfully stored %s impression(s)."],[122,"UserConsent: consent status changed from %s to %s."],[123,"UserConsent: call had no effect because it was the current consent status (%s)."],[124,"Starting the SDK with %s user consent. No data will be sent."],[106,"sync:polling-manager: Turning segments data polling %s."],[107,"sync:polling-manager: Starting polling"],[108,"sync:polling-manager: Stopping polling"],[109,q+"Retrying download of feature flags #%s. Reason: %s"],[w,"sync:submitter: Flushing full %s queue and resetting timer."],[116,"sync:submitter: Pushing %s."],[110,"sync:streaming: Refreshing streaming token in %s seconds, and connecting streaming in %s seconds."],[111,"sync:streaming: Attempting to reconnect streaming in %s seconds."],[112,"sync:streaming: Connecting streaming."],[113,"sync:streaming: Streaming is disabled for given SDK key. Switching to polling mode."],[114,"sync:streaming: Disconnecting streaming."],[117,"sync:sync-manager: Streaming not available. Starting polling."],[118,"sync:sync-manager: Streaming couldn't connect. Continue polling."],[119,"sync:sync-manager: Streaming connected. Syncing and stopping polling."]]).concat([[0,"engine:combiner: [andCombiner] evaluates to %s"],[1,"engine:combiner: Treatment found: %s"],[2,"engine:combiner: All predicates evaluated, no treatment found."],[3,'engine: using algo "murmur" bucket %s for key %s using seed %s - treatment %s'],[10,'engine:matcher: [IN_SPLIT_TREATMENT] parent feature flag "%s" evaluated to "%s" with label "%s". %s evaluated treatment is part of %s ? %s.'],[11,'engine:matcher: [IN_SPLIT_TREATMENT] will evaluate parent feature flag: "%s" with key: %s %s'],[23,"engine:value: Extracted attribute `%s`. %s will be used for matching."],[24,"engine:sanitize: Attempted to sanitize %s which should be of type %s. Sanitized and processed value => %s"],[40,"engine:matcher: [%s] Result: %s. Rule value: %s. Evaluation value: %s"],[25,"cleanup: Registering cleanup handler %s"],[26,"cleanup: Deregistering cleanup handler %s"],[27,"Retrieving default SDK client."],[28,"Retrieving existing SDK client."],[29,"Retrieving manager instance."],[30,"sync:offline: Feature flags data: \n%s"],[31,q+"Spin up feature flags update using since = %s"],[32,q+"New feature flags %s. Removed feature flags %s. Segment names collected %s"],[35,"sync:streaming: New SSE message received, with data: %s."],[36,"sync: Starting %s. Running each %s millis"],[37,"sync: Running %s"],[38,"sync: Stopping %s"],[39,'settings: feature flags filtering criteria is "%s".']]);var Jr=new Map(Qr),Zr=String(Wr?process.env.SPLITIO_DEBUG:Fn()?localStorage.getItem("splitio_debug"):""),$r=Pr.NONE;/^(enabled?|on)/i.test(Zr)?$r=Pr.DEBUG:xr(Zr)&&($r=Zr);var es=[se,re,ae];var ts="LOCALSTORAGE";var ns={defaults:{startup:{requestTimeoutBeforeReady:5,retriesOnFailureBeforeReady:1,readyTimeout:10,eventsFirstPushWindow:10},userConsent:re,version:"javascript-11.2.0"},runtime:function(){return{ip:!1,hostname:!1}},storage:function(e){var t,n=e.log,i=e.mode,r=e.storage,s=void 0===r?{type:ne}:r,a=s.type,o=s.options,c=void 0===o?{}:o,l=s.prefix,u=s.expirationDays,d=s.clearOnInit,f=function(){t=a,a=ne};return i===J&&a===ts&&f(),(a!==ne&&a!==ts||a===ts&&!Fn())&&(f(),n.error("Invalid or unavailable storage. Fallback into MEMORY storage")),{type:a,options:c,prefix:l,expirationDays:u,clearOnInit:d,__originalType:t}},logger:function(e){var t,n=e.debug,i=void 0!==n?"boolean"==typeof(t=n)?t?Pr.DEBUG:Pr.NONE:"string"==typeof t&&xr(t)?t:void 0:$r,r=new Vr({logLevel:i||$r},Jr);return i||r._log(Pr.ERROR,"Invalid Log Level - No changes to the logs will be applied."),r},consent:function(e){var t=e.userConsent,n=e.log;return t=Be(t),es.indexOf(t)>-1?t:(n.error(321,["userConsent",es,re]),re)}};var is,rs="object"==typeof Reflect?Reflect:null,ss=rs&&"function"==typeof rs.apply?rs.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};is=rs&&"function"==typeof rs.ownKeys?rs.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var as=Number.isNaN||function(e){return e!=e};function os(){os.init.call(this)}os.prototype._events=void 0,os.prototype._eventsCount=0,os.prototype._maxListeners=void 0;var cs=10;function ls(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function us(e){return void 0===e._maxListeners?os.defaultMaxListeners:e._maxListeners}function ds(e,t,n,i){var r,s,a,o;if(ls(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),a=s[t]),void 0===a)a=s[t]=n,++e._eventsCount;else if("function"==typeof a?a=s[t]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),(r=us(e))>0&&a.length>r&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,o=c,console&&console.warn&&console.warn(o)}return e}function fs(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function hs(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=fs.bind(i);return r.listener=n,i.wrapFn=r,r}function ps(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):gs(r,r.length)}function ms(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function gs(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function Es(e,t){return t=t||{},new Promise((function(n,i){var r=new XMLHttpRequest,s=[],a=[],o={},c=function(){return{ok:2==(r.status/100|0),statusText:r.statusText,status:r.status,url:r.responseURL,text:function(){return Promise.resolve(r.responseText)},json:function(){return Promise.resolve(r.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([r.response]))},clone:c,headers:{keys:function(){return s},entries:function(){return a},get:function(e){return o[e.toLowerCase()]},has:function(e){return e.toLowerCase()in o}}}};for(var l in r.open(t.method||"get",e,!0),r.onload=function(){r.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){s.push(t=t.toLowerCase()),a.push([t,n]),o[t]=o[t]?o[t]+","+n:n})),n(c())},r.onerror=i,r.withCredentials="include"==t.credentials,t.headers)r.setRequestHeader(l,t.headers[l]);r.send(t.body||null)}))}Object.defineProperty(os,"defaultMaxListeners",{enumerable:!0,get:function(){return cs},set:function(e){if("number"!=typeof e||e<0||as(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");cs=e}}),os.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},os.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||as(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},os.prototype.getMaxListeners=function(){return us(this)},os.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var o=r[e];if(void 0===o)return!1;if("function"==typeof o)ss(o,this,t);else{var c=o.length,l=gs(o,c);for(n=0;n<c;++n)ss(l[n],this,t)}return!0},os.prototype.addListener=function(e,t){return ds(this,e,t,!1)},os.prototype.on=os.prototype.addListener,os.prototype.prependListener=function(e,t){return ds(this,e,t,!0)},os.prototype.once=function(e,t){return ls(t),this.on(e,hs(this,e,t)),this},os.prototype.prependOnceListener=function(e,t){return ls(t),this.prependListener(e,hs(this,e,t)),this},os.prototype.removeListener=function(e,t){var n,i,r,s,a;if(ls(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){a=n[s].listener,r=s;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,a||t)}return this},os.prototype.off=os.prototype.removeListener,os.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,s=Object.keys(n);for(i=0;i<s.length;++i)"removeListener"!==(r=s[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},os.prototype.listeners=function(e){return ps(this,e,!0)},os.prototype.rawListeners=function(e){return ps(this,e,!1)},os.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):ms.call(e,t)},os.prototype.listenerCount=ms,os.prototype.eventNames=function(){return this._eventsCount>0?is(this._events):[]};var vs="visibilitychange",Ts="pagehide",ys="for visibilitychange and pagehide events.",As=function(){function e(e,t,n,i){this.syncManager=e,this.settings=t,this.storage=n,this.serviceApi=i,this.flushData=this.flushData.bind(this),this.flushDataIfHidden=this.flushDataIfHidden.bind(this),this.fromImpressionsCollector=Ke.bind(void 0,t.core.labelsEnabled)}return e.prototype.start=function(){this.settings.log.debug(25,[ys]),"undefined"!=typeof document&&document.addEventListener&&document.addEventListener(vs,this.flushDataIfHidden),"undefined"!=typeof window&&window.addEventListener&&window.addEventListener(Ts,this.flushData)},e.prototype.stop=function(){this.settings.log.debug(26,[ys]),"undefined"!=typeof document&&document.removeEventListener&&document.removeEventListener(vs,this.flushDataIfHidden),"undefined"!=typeof window&&window.removeEventListener&&window.removeEventListener(Ts,this.flushData)},e.prototype.flushData=function(){if(this.syncManager){var e=this.settings.urls,t=e.events,n=e.telemetry;if(zt(this.settings)){var i={sim:this.settings.sync.impressionsMode};this._flushData(t+"/testImpressions/beacon",this.storage.impressions,this.serviceApi.postTestImpressionsBulk,this.fromImpressionsCollector,i),this._flushData(t+"/events/beacon",this.storage.events,this.serviceApi.postEventsBulk),this.storage.impressionCounts&&this._flushData(t+"/testImpressions/count/beacon",this.storage.impressionCounts,this.serviceApi.postTestImpressionsCount,je),this.storage.uniqueKeys&&this._flushData(n+"/v1/keys/cs/beacon",this.storage.uniqueKeys,this.serviceApi.postUniqueKeysBulkCs)}this.storage.telemetry&&this._flushData(n+"/v1/metrics/usage/beacon",this.storage.telemetry,this.serviceApi.postMetricsUsage)}},e.prototype.flushDataIfHidden=function(){"hidden"===document.visibilityState&&this.flushData()},e.prototype._flushData=function(e,t,n,i,r){if(!t.isEmpty()){var s=i?i(t.pop()):t.pop();this._sendBeacon(e,s,r)||n(JSON.stringify(s)).catch((function(){}))}},e.prototype._sendBeacon=function(e,t,n){if("undefined"!=typeof navigator&&navigator.sendBeacon){var i={entries:t,token:this.settings.core.authorizationKey,sdk:this.settings.version};n&&P(i,n);var r=JSON.stringify(i);try{return navigator.sendBeacon(e,r)}catch(e){return!1}}return!1},e}();var Cs,Is,Ss={getFetch:function(){return"function"==typeof fetch?fetch:Es},getEventSource:function(){return"function"==typeof EventSource?EventSource:void 0},EventEmitter:os,now:"object"==typeof performance&&"function"==typeof performance.now?performance.now.bind(performance):Date.now},bs=As,_s=(Cs=function(e){var t=e.splitApi,n=e.storage,i=e.readiness,r=e.settings,s=r.log,a=wn(t.fetchSplitChanges,n,i,r,!0),o={},c=d(mn(r.core.key),i,n);function l(){De(o,(function(e){e.start()}))}function u(){De(o,(function(e){e.isRunning()&&e.stop()}))}function d(e,n,i){var s=function(e,t,n,i,r){return Se(i.log,Ln(i.log,function(e){return function(t,n,i,r){var s=e(t,n,i);return r&&(s=r(s)),s.then((function(e){return e.json()}))}}(e),t,n.segments,i.startup.requestTimeoutBeforeReady,i.startup.retriesOnFailureBeforeReady,r),i.scheduler.segmentsRefreshRate,"mySegmentsUpdater")}(t.fetchMemberships,i,n,r,e);function a(){n.isReady()||i.splits.usesSegments()||n.segments.emit(Je)}return i.splits.usesSegments()?n.splits.once(Xe,a):setTimeout(a,0),o[e]=s,s}return i.splits.on(Xe,(function(){if(a.isRunning()){var e=n.splits.usesSegments();e!==c.isRunning()&&(s.info(106,[e?"ON":"OFF"]),e?l():u())}})),{splitsSyncTask:a,segmentsSyncTask:c,start:function(){s.info(107),a.start(),n.splits.usesSegments()&&l()},stop:function(){s.info(108),a.isRunning()&&a.stop(),u()},isRunning:a.isRunning,syncAll:function(){var e=[a.execute()];return De(o,(function(t){e.push(t.execute())})),Promise.all(e)},add:d,remove:function(e){delete o[e]},get:function(e){return o[e]}}},Is=function(e,t){var n,i=e.settings,r=e.storage,s=e.splitApi,a=e.readiness,o=e.platform,c=e.telemetryTracker,l=i.core.key?mn(i.core.key):void 0,u=i.log;try{n=new pn(i,o)}catch(e){return void u.warn(208,[e])}var d=on(s.fetchAuth),f=new o.EventEmitter,h=Wt(u,f,c);n.setEventHandler(h);var p,m,g,E,v=l?void 0:Qt(u,t.segmentsSyncTask,r.segments),T=function(e,t,n,i,r,s){var a,o,c,l=0,u=!1,d=new Kt(f,1e4,6e4);function f(){if(a=!0,l>t.getChangeNumber()){u=!1;var i=c?{payload:c,changeNumber:l}:void 0;n.execute(!0,o?l:void 0,i).then((function(){if(a)if(u)f();else{i&&r.trackUpdatesFromSSE("sp"),s&&s.execute(!0);var n=d.attempts+1;if(l<=t.getChangeNumber())return e.debug("Refresh completed"+(o?" bypassing the CDN":"")+" in "+n+" attempts."),void(a=!1);if(n<10)return void d.scheduleCall();o?(e.debug("No changes fetched after "+n+" attempts with CDN bypassed."),a=!1):(d.reset(),o=!0,f())}}))}else a=!1}function h(e,n){var i=e.changeNumber,r=e.pcn,s=t.getChangeNumber();i<=s||i<=l||(l=i,u=!0,o=!1,c=void 0,n&&s===r&&(c=n),!d.timeoutID&&a||f(),d.reset())}return{put:h,killSplit:function(e){var n=e.changeNumber,r=e.splitName,s=e.defaultTreatment;t.killLocally(r,s,n)&&i.emit(Xe,!0),h({changeNumber:n})},stop:function(){a=!1,d.reset()}}}(u,r.splits,t.splitsSyncTask,a.splits,c,l?void 0:t.segmentsSyncTask),y={},A={},C=!1,I=new Kt(S,i.scheduler.pushRetryBackoffBase);function S(){if(!p){u.info(112),p=!1;var e=l?Object.keys(A):void 0;d(e).then((function(t){if(!p)return t.pushEnabled?void(e&&e.length<Object.keys(A).length||function(e){g&&clearTimeout(g),E&&clearTimeout(E);var t=e.decodedToken,i=t.exp-t.iat-600,r="number"==typeof e.connDelay&&e.connDelay>=0?e.connDelay:60;u.info(110,[i,r]),g=setTimeout(S,1e3*i),E=setTimeout((function(){p||n.open(e)}),1e3*r),c.streamingEvent(50,t.exp)}(t)):(u.info(113),void f.emit(wt))})).catch((function(e){if(!p){if(u.error(306,[e.message]),e.statusCode>=400&&e.statusCode<500)return c.streamingEvent(80),void f.emit(wt);f.emit(xt)}}))}}function b(){p||(p=!0,n.close(),u.info(114),g&&clearTimeout(g),E&&clearTimeout(E),I.reset(),_())}function _(){T.stop(),l?De(A,(function(e){return e.worker.stop()})):v.stop()}function O(e){switch(e.u){case fn.BoundedFetchRequest:var t;try{s=e.d,a=e.c,t=vn(s,a)}catch(e){u.warn(x,["BoundedFetchRequest",e]);break}return void De(A,(function(n,i){var r,s,a,o,c=n.hash64,l=n.worker;r=t,s=c.hex,a=parseInt(s.slice(8),16)%(8*r.length),o=a%8,(r[Math.floor(a/8)]&1<<o)>0&&l.put(e,void 0,yn(e,i))}));case fn.KeyList:var n,i,r=void 0;try{r=Tn(e.d,e.c),n=new Set(r.a),i=new Set(r.r)}catch(e){u.warn(x,["KeyList",e]);break}if(!e.n||!e.n.length){u.warn(x,["KeyList","No segment name was provided"]);break}return void De(A,(function(t){var r=t.hash64,s=t.worker,a=!!n.has(r.dec)||!i.has(r.dec)&&void 0;void 0!==a&&s.put(e,{added:a?[e.n[0]]:[],removed:a?[]:[e.n[0]]})}));case fn.SegmentRemoval:if(!e.n||!e.n.length){u.warn(x,["SegmentRemoval","No segment name was provided"]);break}return void De(A,(function(t){t.worker.put(e,{added:[],removed:e.n})}))}var s,a;De(A,(function(t,n){t.worker.put(e,void 0,yn(e,n))}))}return f.on(kt,_),f.on(Mt,(function(){I.reset()})),f.on(wt,(function(){m=!0,b(),f.emit(kt)})),f.on(xt,(function(){n.close();var e=I.scheduleCall();u.info(111,[e/1e3]),f.emit(kt)})),f.on(Dt.STREAMING_RESET,(function(){p||(g&&clearTimeout(g),S())})),f.on(Ut,T.killSplit),f.on(Ft,(function(e){if(e.d&&void 0!==e.c)try{var t=(n=e.c,i=e.d,n>0?Tn(i,n,!1):JSON.parse(Zt(i)));if(t)return void T.put(e,t)}catch(e){u.warn(224,[e])}var n,i;T.put(e)})),l?(f.on(Vt,O),f.on(Bt,O)):f.on(Ht,v.put),P(Object.create(f),{stop:function(){b(),l&&this.remove(l)},start:function(){m||!1===p||(p=!1,l?this.add(l,t.segmentsSyncTask):setTimeout(S))},isRunning:function(){return!1===p},add:function(e,t){var n,i,s=cn(e);y[s]||(y[s]=e,A[e]={hash64:(n=e,i=On(n).slice(0,16),{hex:i,dec:Rn(i)}),worker:Xt(u,r,t,c)},C=!0,this.isRunning()&&setTimeout((function(){C&&(C=!1,S())}),0))},remove:function(e){var t=cn(e);delete y[t],delete A[e]}})},function(e){var t=e.settings,n=e.settings,i=n.log,r=n.streamingEnabled,s=n.sync.enabled,a=e.telemetryTracker,o=e.storage,c=e.readiness,l=Cs&&Cs(e),u=s&&r&&l&&Is?Is(e,l):void 0,d=Lt(e);u&&(u.on(Mt,(function(){i.info(119),l.isRunning()&&(l.stop(),a.streamingEvent(70,0)),l.syncAll()})),u.on(kt,(function(){l.isRunning()?i.info(118):(i.info(117),l.start(),a.streamingEvent(70,1))})));var f=!1,h=!0;return{pollingManager:l,pushManager:u,submitterManager:d,start:function(){f=!0,h&&o.validateCache&&o.validateCache()&&Promise.resolve().then((function(){c.splits.emit(Qe)})),l&&(s?u?(h&&l.syncAll(),u.start()):l.start():h&&l.syncAll()),d.start(!zt(t)),h=!1},stop:function(){f=!1,u&&u.stop(),l&&l.isRunning()&&l.stop(),d.stop()},isRunning:function(){return f},flush:function(){return d.execute(!zt(t))},shared:function(e,t,n){if(l){var i=l.add(e,t,n);return s&&u&&u.add(e,i),f&&(s?u?l.isRunning()?n.splits.usesSegments()&&i.start():i.execute():n.splits.usesSegments()&&i.start():t.isReady()||i.execute()),{stop:function(){var t=l.get(e);t&&(u&&u.remove(e),t.isRunning()&&t.stop(),l.remove(e))},flush:function(){return Promise.resolve()}}}}}});function Os(e){return e.storage.type===ie?ri(e.storage):e.storage.__originalType===ie?Rr:ti}function Rs(e,t){return Ur(function(e){var t={settings:e,platform:Ss,storageFactory:Os(e),splitApiFactory:Ie,syncManagerFactory:_s,sdkManagerFactory:Ri,sdkClientMethodFactory:Ar,SignalListener:bs,impressionsObserverFactory:Or,extraProps:function(e){return{UserConsent:qr(e)}}};switch(e.mode){case J:t.splitApiFactory=void 0,t.syncManagerFactory=jr,t.SignalListener=void 0}return t}(function(e){return gt(e,ns)}(e)))}function Ns(e){e?c(m).set(!0):c(p).set(!0),e?c(E).set(!0):c(g).set(!0);A()&&(e?c(T).set(!0):c(v).set(!0))}function Ls(e){const t=O();return!(!t||!e)&&t.setAttributes(e)}e.awaitSplitIOSDKClientInitialize=async function(){await C();const e=await _();try{return await b(e),{isReady:!0,isTimedout:!1,errorText:null}}catch(e){return{isReady:!0,isTimedout:!0,errorText:`Split: awaitSplitIOSDKClientInitialize Split client timed out. Error [${n(e)}]`}}},e.getFeatureFlagsSync=function(e,t){const n=function(){const e=c(p).getData(),t=c(m).getData();if(e&&!t)return!1;const n=c(g).getData(),i=c(E).getData(),r=c(v).getData(),s=c(T).getData();return!(n&&!i||r&&!s)}(),i=O();if(!n||!i)return{...e,errorText:"Split: getFeatureFlagsSync Split has not been initialized"};const r=Object.keys(e),s=N(r,e);return s?{...e,errorText:s}:{...L(i.getTreatmentsWithConfig(r,t),e),errorText:null}},e.getFeatureTreatments=async function(e,t,i){await C();const r=await _();try{await b(r)}catch(e){return{...t,isReady:!0,isTimedout:!0,errorText:`Split: getFeatureTreatments Split client timed out. Error [${n(e)}]`}}const s="string"==typeof e?[e]:e,a=N(s,t);return a?{...t,isReady:!0,isTimedout:!1,errorText:a}:{...L(r.getTreatmentsWithConfig(s,i),t),isReady:!0,isTimedout:!1,errorText:null}},e.initializeSplitIO=function(e,t,n=!0){const i=S(e.core.key),r=i===I,s=y(),a=A();if(!s){const r=Rs({...e,core:{...e.core,key:i}});return c(f).set({splitSdk:r,splitKey:i}),Ns(n),Ls(t),!0}return a||i!==s.splitKey?a||r?!(!a||i!==a.splitKey)&&(Ns(n),Ls(t)):(c(h).set({splitKey:i}),Ns(n),Ls(t),!0):(Ns(n),Ls(t))},e.shutdownSplitIO=async function(e=""){const t=y();if(!t)return!1;const{splitSdk:n,splitKey:i}=t,r=n.client(i);await r.destroy();const s=A(),a=S(e);if(!s||a===i)return!0;const o=n.client(a);return await o.destroy(),!0},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("@cxo/platform-lib/eventManager",[],t):"object"==typeof exports?exports.platformLib=t():e.platformLib=t()}(this,(()=>(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};
/*!******************************************!*\
  !*** ./src/eventManager/eventManager.ts ***!
  \******************************************/
e.r(t),e.d(t,{eventManager:()=>s});const n={},i=document.body,r={passive:!0},s={on:(e,t)=>{const s=e=>(e&&e.stopPropagation(),t(e));n[e]=n[e]??[],n[e].push(s),i.addEventListener(e,s,r)},off:e=>{e&&(n[e]??[]).forEach((t=>{i.removeEventListener(e,t,r)}))},fire:(e,t)=>{const n=new CustomEvent(e,{detail:t});i.dispatchEvent(n)}};return t})())),define("caas/controllers/challenge",["require","caas/shared/helper","caas/lib/constants","caas/lib/dataStore","caas/dataProvider/requestOptions","caas/dataProvider/requestCaas","caas/shared/helper","caas/dataProvider/requestInvoker","caas/lib/parametersValidator","caas/dataProvider/requestStatus","caas/services/interceptors/optionsInterceptor","caas/dataProvider/requestVerify","caas/lib/navigation","blue/log","splitio/octagon-featureflags-splitio.umd","appkit-utilities/language/helper","caas/shared/helper","caas/shared/helper","caas/shared/helper","@cxo/platform-lib/eventManager","blue/root","common/utility/hybridHelper"],(function(e){"use strict";return function(t){var n,i,r,s,a=e("caas/shared/helper").appendParamsToUrl,o=e("caas/lib/constants"),c="#challenge-options",l=e("caas/lib/dataStore"),u=e("caas/dataProvider/requestOptions"),d=e("caas/dataProvider/requestCaas"),f=e("caas/shared/helper").getNested,h=e("caas/dataProvider/requestInvoker"),p=e("caas/lib/parametersValidator"),m=e("caas/dataProvider/requestStatus"),g=e("caas/services/interceptors/optionsInterceptor"),E=e("caas/dataProvider/requestVerify"),v=e("caas/lib/navigation"),T=e("blue/log"),y=e("splitio/octagon-featureflags-splitio.umd"),A=e("appkit-utilities/language/helper"),C=e("caas/shared/helper").urlHasValidDomain,I=e("caas/shared/helper").getPostTargetOrigin,S=e("caas/shared/helper").jsonParser,b=e("@cxo/platform-lib/eventManager").eventManager;this.onInit=()=>{var n={mfa:Object.assign({},u.mappers.mfa,h.mappers.mfa,m.mappers.mfa,E.mappers.mfa)};this.dataProvider.mappers=Object.assign({},d.mappers,n),t.splitIoFeatureFlags={};const i=o.splitIOFeatureFlags,r=o.splitIOFeatureFlagsMap;y.getFeatureTreatments(Object.keys(r),i).then((function(e){Object.keys(r).forEach((function(n){t.splitIoFeatureFlags[r[n]]=e[n]}))})).catch((function(e){t.logger.error(e)})),t.requestInvoker=this.requestInvoker,t.requestCaasInvoker=this.requestCaasInvoker,t.requestCaasOtpPrefix=this.requestCaasOtpPrefix,t.reset=this.reset,t.requestStatus=this.requestStatus,t.requestCaasStatus=this.requestCaasStatus,t.requestCaasPublicKeys=this.requestCaasPublicKeys,t.requestVerify=this.requestVerify,t.requestCaasVerify=this.requestCaasVerify,t.requestOptions=this.requestOptions,t.requestRechallenge=this.requestRechallenge,t.setShowSpinner=this.setShowSpinner,t.setUserAbandonedChallenge=this.setUserAbandonedChallenge,t.getUserAbandonedChallenge=this.getUserAbandonedChallenge,t.setUserCompletedChallenge=this.setUserCompletedChallenge,t.getUserCompletedChallenge=this.getUserCompletedChallenge,t.setNeedsRechallengeAlert=this.setNeedsRechallengeAlert,t.getNeedsRechallengeAlert=this.getNeedsRechallengeAlert,t.exitBlock=this.exitBlock,t.onExit=this.onExit,t.routeToChallenge=this.routeToChallenge,t.handleClientCommunication=this.handleClientCommunication,t.setClientId=this.setClientId,t.getClientId=this.getClientId,t.setDebitCardRiskLevel=this.setDebitCardRiskLevel,t.getDebitCardRiskLevel=this.getDebitCardRiskLevel,t.setChallengeTokenIdentifier=this.setChallengeTokenIdentifier,t.getRequestPrams=this.getRequestPrams,t.getZellRequestParams=this.getZellRequestParams,t.addPaddingToLinks=this.addPaddingToLinks,t.logger=T("[Challenge Controller]"),this.root=e("blue/root")},this.isCaasReady=()=>{var e,t=0,n=Date.now();return new Promise((function(i){e=setInterval((function(){t=n?(Date.now()-n)/1e3:null,(document.getElementsByClassName("caasContainer")||t>=10)&&(clearTimeout(e),i())}),500)}))},this.onComplete=function(){t.services.mfa.interceptors=[g]},this.loadComponents=function(){t.actionsButtons=this.components.actionsButtons,t.dialog=this.components.dialog,t.setHeader=this.components.introduction.setHeader,t.setMdsAlert=this.components.introduction.setMdsAlert,t.convertToList=this.components.options.convertToList,t.setRoute=this.components.container.setRoute,t.getOptionsList=this.components.options.getOptionsList,t.handleRouteOptions=this.components.container.handleRouteOptions},this.index=function(){if(!t.clientId||!t.eventId){const e=this.getCallbackFromSessionStorage();t.state(e)}},this.getFlowSplit=(e,n,i)=>{let r,s,a;const c=window.clientEnvProps?.[o.OCTAGON_REDIRECT_ENABLED];if("options"===i){if("AUTHENTICATION"===e)return o.V8_OPTIONS_API_VERSION;s=t.splitIoFeatureFlags.optionsApiVersion,r=o.V5_OPTIONS_API_VERSION,a=e}else if("bridge"===i){if("KNOWN_DEVICE_AC"===n)return o.DEFAULT_OCTAGON_BRIDGE_ENABLED;if(c?.includes(n))return"on";s=t.splitIoFeatureFlags.octagonEnabledFlows,r=o.DEFAULT_OCTAGON_BRIDGE_ENABLED,a=n}try{if("object"==typeof s&&s.hasOwnProperty("config")){const e=s?.config;if(e&&"string"==typeof e){const t=JSON.parse(e);if(t?.flows&&Array.isArray(t?.flows)){const e=t?.flows;if(e.includes(a)&&s.hasOwnProperty("treatment")){const e=s?.treatment;if(e&&"string"==typeof e)return e}}}}}catch(e){console.error("Error: ",e)}return r},this.requestChallenge=({privateDataObject:e})=>{if(2===e.version||"2"===e.version)return this.requestChallengev2({privateDataObject:e});var t=[];return this.validateParameters(e)?(this.communicationCallBack=e.config.communicationCallBack,this.buildNavigation(),this.setBrandTreatment(),this.dataProvider.request("mfa.challengeOptions",{"application-system-identifier":"C30","client-id":"C30","event-identifier":"PASSWORDRESET"},{headers:{"user-identifier":e.config.challengeToken}}),l.wipe(),l.set(e.config,o.DATA_STORE.caasContainer),this.model.set("header",{communicationCallBack:e.config.communicationCallBack,showBrandBar:"false"!==(e.showBrandBar+"").trim().toLowerCase()}),t.push([this.components.header,"header",{target:e.target}],[this.components.caasContainer,"caasContainer",{target:c}]),t):t},this.requestChallengev2=({privateDataObject:e})=>{let n=[];if(this.setIsPolicyBased(e),!p.isValid(t,e))return n;if(e.communicationCallBack){const{communicationCallBack:t}=e;sessionStorage.setItem("CaaS_CommunicationCallBack",t)}return this.isCaasReady().then((function(){window.history.pushState(null,null,window.location.href)})),this.setZellRequestParams(e),this.setFlowProperties(e),this.loadComponents(),this.buildNavigation(),this.setClientId(e),this.setOptionsCallParams(e),this.setModelData(e),n.push([this.components.header,"header",{target:t.target}],[this.components.container,"container",{target:"#challenge-options"}],[this.components.introduction,"introduction",{target:"#introduction"}],[this.components.landing,"body/landing",{target:"#caasBody"}],[this.components.dialog,"dialog",{target:"#dialog"}],[this.components.actionsButtons,"actionsButtons",{target:"#actionsButtons"}]),n},this.updateContentLanguage=e=>{t.languagePreference=e;const n="es"===e?"es-us":"en-us";t.application.services.content.setLanguage(n),window.location.reload()},this.parseUrlQueryParams=(e={})=>{const{LOP:t}=e;this.handleLanguagePreference(t);const{isHybrid:n}=e;if(n&&"string"==typeof n&&"true"===n.toLowerCase()){const t=e.applicationId||"";this.handleUrlBasedHybrid(t)}},this.handleLanguagePreference=(e="")=>{if(o.CONTENT_LANGUAGES.includes(e)){const t=this.getLanguageCode(),n=e.toLowerCase();t!==n&&this.updateContentLanguage(n)}},this.handleUrlBasedHybrid=(n="")=>{t.hybridHelper=e("common/utility/hybridHelper")(t,n),t.hybrid=!0},this.challenge=(e={})=>{this.parseUrlQueryParams(e);let n=[],i=p.getUrlBasedErrors(t,e);if(i.length)return this.handleClientCommunication({privateDataObject:{type:o.ERROR_MESSAGE_TYPE,code:o.CODE.SYSTEM.INVALID_CONFIG,data:i}}),n;let r=0;const s=setInterval((()=>{r++,10===r&&clearInterval(s)}),500);this.loadComponents(),e.target||(e.target="#overlay"),this.setFlowProperties(e),this.buildNavigation(),this.setOptionsCallParamsUrl(e);const a="false"!==(e.showBrandBar+"").trim().toLowerCase();return this.setModelData({communicationCallBack:null,showBrandBar:a}),this.setClientId(e),n.push([this.components.header,"header",{target:t.target}],[this.components.container,"container",{target:"#challenge-options"}],[this.components.introduction,"introduction",{target:"#introduction"}],[this.components.landing,"body/landing",{target:"#caasBody"}],[this.components.dialog,"dialog",{target:"#dialog"}],[this.components.actionsButtons,"actionsButtons",{target:"#actionsButtons"}]),n},this.completeChallenge=({data:e={}})=>{const n=this.getCallbackFromSessionStorage();n&&t.state(n,{privateDataObject:{type:e.type?e.type:o.ERROR_MESSAGE_TYPE,code:e.code?e.code:o.CODE.SYSTEM.SYS_FAILURE}})},this.getCallbackFromSessionStorage=()=>{const e=sessionStorage.getItem("CaaS_CommunicationCallBack");return e?e.split("/").slice(0,-1).join("/"):null},this.goToChallenge=({challengeName:e})=>{var t=[];return this.registry.hasComponent(e)||t.push([this.components[e],e,{target:c}]),t},this.routeToChallenge=(e={})=>{const n=e.privateDataObject;n&&n.intraRouter&&t.privateState("./buildRouteCAV",e)},this.buildRouteCAV=({privateDataObject:e})=>{var t=[];let n=e.intraRouter;return t.push([this.components[n],`body/${n}`,{target:"#caasBody"}]),t},this.setFlowProperties=(e={})=>{const n=e=>"undefined"!==e&&e?e:void 0;this.riskIdentifier=n(e.challengeIdentifier)||n(e.challengeToken)||n(e.riskId),t.isMissingIdentifier=!this.riskIdentifier,e.communicationCallBack?this.communicationCallBack=e.communicationCallBack:e.redirectUrl&&(this.redirectUrl=e.redirectUrl),t.clientId=e.clientId,t.eventId=e.eventId,t.setUserAbandonedChallenge(!1),t.setUserCompletedChallenge(!1),this.setTarget(e.target);const i=this.root&&this.root.MDS&&this.root.MDS.brand;t.treatment=i?this.root.MDS.brand:o.BRAND.CPO,t.isPolicyBased=!!e.isPolicyBased},this.getLanguageCode=()=>o.CONTENT_LANGUAGES.includes(t.languagePreference)?t.languagePreference.toLowerCase():A.getUserLanguage().split("-")[0],this.validateParameters=e=>{var n=null;return!!f(e,"config","communicationCallBack")&&(f(e,"target")||(n=o.CONTROLLER_ERRORS.target),f(e,"config","treatment")||n||(n=o.CONTROLLER_ERRORS.treatment),f(e,"config","challengeToken")||f(e,"data","challengeToken")||n||(n=o.CONTROLLER_ERRORS.challenge_token),!n||(t.privateState(e.config.communicationCallBack,{privateDataObject:{type:"error",description:n}}),!1))},this.setLanguagePathParam=()=>{const e=this.getLanguageCode();let n,i;if(this.requestMetadata&&this.requestMetadata.headers){if(this.requestMetadata.headers["path-params"]&&"string"==typeof this.requestMetadata.headers["path-params"])try{i=JSON.parse(this.requestMetadata.headers["path-params"])}catch(e){t.logger.error("Error parsing path params - setting to default"),i={}}n="object"==typeof i}else this.requestMetadata=this.requestMetadata||{},this.requestMetadata.headers={},i={},n=!0;n&&(i.language=e,this.requestMetadata.headers["path-params"]=JSON.stringify(i))},this.octagonEventListener=()=>{b.on("CAAS:CXO:VERIFY-STATUS",(e=>{const n=e.detail.data.status;let i;switch(n){case o.SUCCESS_MESSAGE_TYPE:i=o.SUCCESS_MESSAGE_TYPE;break;case o.RESPONSE_CODES.CANCELLED:i=o.CANCEL_TYPE;break;default:i=o.ERROR_MESSAGE_TYPE}t.navigation.routeToParent(i,n,"")}))},this.setOptionsCallParamsUrl=e=>{let t,n,r;i={"application-system-identifier":e.applicationId,"client-id":e.clientId,"event-identifier":e.eventId},"false"===(e.isSecureFlow+"").trim().toLowerCase()?(t=o.AUTH_TYPE_PRE,i["challenge-token-identifier"]=e.riskId,r=i["challenge-token-identifier"]):(t=o.AUTH_TYPE_POST,i["challenge-identifier"]="undefined"===e.riskId?"":e.riskId,n=i["challenge-identifier"]),this.addThirdPartyUrlParamsToOptionsHeader(t),this.setLanguagePathParam(),this.model.set("container.session",t),this.handleOctagonRedirection(e.clientId,e.eventId,t,n,r,{},e.isIframe)},this.getAuthType=e=>{let n;return e=e||{},n=t&&t.isPolicyBased?o.AUTH_TYPE_POST:e.challengeToken?o.AUTH_TYPE_PRE:o.AUTH_TYPE_POST,n},this.decodeJwtToken=e=>{if(!e)return null;try{return JSON.parse(atob(e.split(".")[1]))}catch(e){return t.logger.error("Malformed JWT - "+e),null}},this.addThirdPartyUrlParamsToOptionsHeader=e=>{if(e!==o.AUTH_TYPE_PRE)return;try{s=new URL(t.location.getLocationURL()).search}catch(e){return void t.logger.error(`Error attempting to grab the URL for third party: ${e}`)}const n=new URLSearchParams(s);let i,r=this.decodeJwtToken(n.get("request")),a=n.get("trace-id");r||(r={}),r.client_id||(r.client_id=""),r.scope||(r.scope=""),a||(a=""),this.requestMetadata||(this.requestMetadata={}),this.requestMetadata.headers||(this.requestMetadata.headers={}),this.requestMetadata.headers["path-params"]||(this.requestMetadata.headers["path-params"]="{}");try{i=JSON.parse(this.requestMetadata.headers["path-params"])}catch(e){t.logger.error("Error parsing path params - setting to default"),i={}}i.thirdPartyClientID=r.client_id,i.scope=r.scope,i.thirdPartyTraceID=a,this.requestMetadata.headers["path-params"]=JSON.stringify(i)},this.getRequestPrams=()=>i,this.getZellRequestParams=()=>r,this.setZellRequestParams=e=>{r={communicationCallBack:e.communicationCallBack,clientId:e.clientId,challengeIdentifier:e.challengeIdentifier,applicationId:e.applicationId,eventId:e.eventId,pathParams:e.pathParams}},this.setOptionsCallParams=e=>{i={"application-system-identifier":e.applicationId,"client-id":e.clientId,"event-identifier":e.eventId};const n=this.getAuthType(e);let r,s,a=S(e.pathParams,{});t.isPolicyBased&&(i["challenge-identifier"]="",this.requestMetadata={headers:{"path-params":"{}"}}),e.challengeIdentifier&&(i["challenge-identifier"]=e.challengeIdentifier,r=e.challengeIdentifier),e.challengeToken&&(i["challenge-token-identifier"]=e.challengeToken,s=e.challengeToken,this.requestMetadata={}),e.originatorId&&(a={...a,originatorId:e.originatorId},t.originatorId=e.originatorId),t.splitIoFeatureFlags&&t.splitIoFeatureFlags.verizonFlagEnabled&&(a={...a,verizonFlagEnabled:!0}),this.requestMetadata={headers:{"path-params":JSON.stringify(a)}},this.setLanguagePathParam(),this.addThirdPartyUrlParamsToOptionsHeader(n),this.model.set("container.session",n),this.handleOctagonRedirection(e.clientId,e.eventId,n,r,s,a,e.isIframe)},this.handleOctagonRedirection=(e,i,r,s,a,c,l)=>{const u="on"===this.getFlowSplit(e,i,"bridge"),d=u&&e!==o.CAAS_CLIENT_IDS.ULTIMATE_REWARDS,f=u&&e===o.CAAS_CLIENT_IDS.ULTIMATE_REWARDS,h=t=>{window.location.hash.includes("?caas=true")||(c&&Object.keys(c).length>0&&sessionStorage.setItem(`CAAS_PARAMS_${e}`,JSON.stringify(c)),window.location.hash+=`?caas=true${t}`)};if(d){const t=r===o.AUTH_TYPE_PRE;h(`${t?`&pre=${t}`:""}${l?`&isIframe=${l}`:""}&clientId=${e}&eventId=${i}${s&&"undefined"!==s?`&riskId=${s}`:a&&"undefined"!==a?`&challengeToken=${a}`:""}`),this.octagonEventListener()}else if(f)h(""),this.octagonEventListener();else{let s=this.getFlowSplit(e,i,"options");t.isV5Enabled="v5"===s,t.isV6Enabled="v6"===s,t.isV8Enabled="v8"===s,n=t.isV6Enabled?`caas.challengeOptionsv6-${r}`:t.isV5Enabled?`caas.challengeOptionsv5-${r}`:t.isV8Enabled?`caas.challengeOptionsv8-${r}`:`caas.challengeOptions-${r}`}},this.requestRechallenge=e=>{i["risk-assessment-rechallenge-identifier"]=e,t.isMissingIdentifier&&this.challengeTokenIdentifier&&(i["challenge-token-identifier"]=this.challengeTokenIdentifier),this.setUserCompletedChallenge(!0),this.setNeedsRechallengeAlert(!0),this.model.set("container.showLoader",!0),this.requestOptions()},this.getAuthTypeForCaas=()=>this.model.get("container.session")||o.AUTH_TYPE_POST,this.setModelData=e=>{this.model.set("header",{communicationCallBack:e.communicationCallBack||null,showBrandBar:"false"!==(e.showBrandBar+"").trim().toLowerCase()}),window.stopLoader&&window.stopLoader(),this.model.set("container.showLoader",!0)},this.setBrandTreatment=()=>{const e=this.root&&this.root.MDS&&this.root.MDS.brand;t.treatment=e?this.root.MDS.brand:o.BRAND.CPO},this.buildNavigation=()=>{const e=this.communicationCallBack||null,n=new v(t,e);t.navigation=n},this.requestInvoker=e=>{this.dataProvider.request("mfa.challengeInvoker",JSON.stringify(e))},this.requestStatus=e=>{this.dataProvider.request("mfa.challengeStatus",e)},this.requestVerify=e=>{this.dataProvider.request("mfa.challengeVerify",JSON.stringify(e))},this.requestOptions=()=>{n&&this.dataProvider.request(n,i,this.requestMetadata)},this.requestCaasInvoker=e=>{this.dataProvider.request(`caas.challengeInvoker-${this.getAuthTypeForCaas()}`,JSON.stringify(e))},this.requestCaasOtpPrefix=(e,t)=>{this.dataProvider.request(`caas.challengeOtpPrefix-${this.getAuthTypeForCaas()}`,e,t)},this.requestCaasStatus=e=>{this.dataProvider.request(`caas.challengeStatus-${this.getAuthTypeForCaas()}`,e)},this.requestCaasPublicKeys=()=>{this.dataProvider.request(`caas.apigwPublicKeys-${this.getAuthTypeForCaas()}`,{})},this.requestCaasVerify=e=>{this.dataProvider.request(`caas.challengeVerify-${this.getAuthTypeForCaas()}`,JSON.stringify(e))},this.setShowSpinner=(e=!0)=>{this.model.set("header.showSpinner",e)},this.reset=()=>{this.model.set("introduction",{}),this.model.set("actionsButtons",{})},this.setUserAbandonedChallenge=(e=!0)=>{this.userAbandonedChallenge=e},this.getUserAbandonedChallenge=()=>this.userAbandonedChallenge,this.setUserCompletedChallenge=(e=!0)=>{this.userCompletedChallenge=e},this.getUserCompletedChallenge=()=>this.userCompletedChallenge,this.setNeedsRechallengeAlert=(e=!0)=>{this.needsRechallengeAlert=e},this.getNeedsRechallengeAlert=()=>this.needsRechallengeAlert,this.onExit=()=>{this.setShowSpinner("false"),this.registry.destroyComponent("container"),this.registry.destroyComponent("header"),b.off("CAAS:CXO:VERIFY-STATUS"),l.wipe()},this.getPostTarget=()=>I(),this.exitBlock=(e={})=>{const t=!!this.redirectUrl,n=this.getPostTarget(),i=C(n),r=t||i;delete e.data,e.riskId=this.riskIdentifier||this.challengeTokenIdentifier,i&&this.model.set("header.postMessageParams",e),t&&(this.model.set("header.completedRedirectUrl",a(this.redirectUrl,e)),this.onExit()),r||this.onExit()},this.handleClientCommunication=(e={})=>{this.communicationCallBack&&t.privateState(this.communicationCallBack,e)},this.setIsPolicyBased=e=>{t.isPolicyBased=!!e.isPolicyBased},this.setTarget=e=>{const n=document.getElementById("dashboard-content"),i=document.getElementById("applicationOverlay");t.target=n&&i?"#applicationOverlay":e},this.getClientId=()=>this.clientId,this.setClientId=e=>{this.clientId=e.clientId},this.getDebitCardRiskLevel=()=>this.debitCardRiskLevel,this.setDebitCardRiskLevel=e=>{const t=[o.DEBIT_CARD_RISK_LEVEL.LOW,o.DEBIT_CARD_RISK_LEVEL.MEDIUM,o.DEBIT_CARD_RISK_LEVEL.HIGH];var n=[...e.challengeMethodsDisplay.sequence,...e.challengeMethodsDisplay.showAll];this.debitCardRiskLevel="",n&&(this.debitCardRiskLevel=t.filter((e=>n.includes(e))))},this.setChallengeTokenIdentifier=(e={})=>{this.challengeTokenIdentifier=e.challengeTokenIdentifier},this.addPaddingToLinks=()=>{document.querySelectorAll(".caasContainer mds-link.text-sm").forEach((e=>{var t=e.shadowRoot.querySelector(".link__anchor");t.style.paddingTop="3px",t.style.paddingBottom="3px"}))}}})),define("caas/components/actionsButtons",[],(function(){"use strict";return function(e){let t=this;t.initHybridConfig=()=>{e.hybrid&&(t.showHybridChanges=!0,t.showCancelButton=!0)},t.onInit=()=>{t.initHybridConfig()},t.noop=()=>{},t.onReady=()=>{},t.onDestroy=()=>{delete t.showHybridChanges},t.showCancel=function(e=!0){const n=e;return t.showCancelButton=n,t.labelSecondary=t.cancelLabel,t},t.showNext=function(e=!0){return t.showNextButton=e,t.labelPrimary=t.nextLabel,t},t.setCancelLabel=function(e=t.cancelLabel){return t.labelSecondary=e,t},t.setNextLabel=function(e=t.nextLabel){return t.labelPrimary=e,t},t.setNextCallBack=function(e=this.noop){return t.nextCallBack=e,t},t.requestCancelIdentityVerification=()=>{e.setUserAbandonedChallenge(),e.dialog.showCancelConfirmationDialog()},t.requestNextIdentityVerificationStep=()=>{t.nextCallBack&&t.nextCallBack()}}})),define("caas/shared/generalMixin",["require","caas/lib/constants","caas/lib/dataStore"],(function(e){"use strict";var t=e("caas/lib/constants"),n=e("caas/lib/dataStore");return function(e){this.registerInvokerHandlers=()=>{this.model.onValue("invokerData",(e=>{e&&this.otpInvokerSuccessHandler(e)}),{initial:!1}),this.model.onValue("invokerError",(e=>{e&&this.otpFailureHandler(e)}),{initial:!1})},this.registerPrefixHandlers=()=>{this.model.onValue("prefixData",(e=>{e&&this.otpPrefixSuccessHandler(e)}),{initial:!1}),this.model.onValue("prefixError",(e=>{e&&this.otpFailureHandler(e)}),{initial:!1})},this.otpPrefixSuccessHandler=i=>{e.setShowSpinner(!1),i&&i.oneTimePasswordPrefixText?(this.prefixData=i,n.set(this,t.DATA_STORE.prefix),e.navigation.intraRouter(t.CHALLENGE_ROUTES.verifyOTP)):(this.setPrefixErrorContent(this.source),this.showPrefixError())},this.otpInvokerSuccessHandler=i=>{e.setShowSpinner(!1),this.invokerData=i,i&&i.oneTimePasswordPrefixText?(this.invokerCallSuccessful=!0,n.set(this,t.DATA_STORE.verifyOTP),e.navigation.intraRouter(t.CHALLENGE_ROUTES.verifyOTP)):i&&i.errorCode?this.otpFailureHandler(i):(this.setPrefixErrorContent(this.source),this.showPrefixError())},this.otpFailureHandler=(i={})=>{e.setShowSpinner(!1),this.hidePrefixError(),this.errorData=i,n.set(this,t.DATA_STORE.error),e.navigation.intraRouter(t.CHALLENGE_ROUTES.error)},this.clearClientSideErrors=()=>{this.otpInputError=this.pinInputError=this.expInputError=this.cvvInputError="",this.cardRadioGroupError=this.smsRadioGroupError=this.voiceRadioGroupError=this.emailRadioGroupError=""},this.requestAnotherMethod=()=>{this.selectedContactID=this.selectedLowRiskOption=this.contactIdentifier="",this.clearClientSideErrors(),this.poll&&this.poll.clear(),this.warning&&this.warning.clear(),e.setUserAbandonedChallenge(),e.handleRouteOptions(this.optionsOTPData)},this.isScamFlowAction=(e={})=>{const t=e.challengeFlowActionName;return!!t&&"scam"===t.toString().toLowerCase()},this.requestHaveACode=()=>{this.clearClientSideErrors(),this.hidePrefixError(),e.setShowSpinner(!0),e.requestCaasOtpPrefix({"challenge-token-identifier":this.optionsOTPData.challengeTokenIdentifier},{source:this.source})},this.navigateToSource=(n="")=>{const i=t.OTP_OPTIONS_METHOD_LIST;n&&-1!==i.findIndex((e=>e.toLowerCase()===n.toLowerCase()))&&e.navigation.intraRouter(n)},this.requestAnotherText=()=>{this.navigateToSource(this.source)},this.requestReceiveAnotherEmail=()=>{this.navigateToSource(this.source)},this.requestReceiveAnotherCall=()=>{this.navigateToSource(this.source)},this.requestMakeAnotherCall=()=>{this.navigateToSource(this.source)},this.setContentFor=(t="",n="")=>e.dcu.dynamicSettings.set(this,t,n,!0),this.setOTPContentVariations=(n="",i="",r="")=>{let s=t.CONTENT_VARIATIONS[n],a={initial:"",additional:t.ADDITIONAL},o=e.getUserAbandonedChallenge()||e.getUserCompletedChallenge()?"additional":"initial",c={header:this.identityVerificationHeader,title:this.setContentFor(s.TITLE,a[o]),subTitle:this.setContentFor(s.SUBTITLE,a[o]),iconExists:!0,icon:i,iconAlt:r};e.setHeader(c)},this.setContentVariationsOther=(e="",n=[])=>{if(e&&n){let i=t.CONTENT_VARIATIONS[e];1===n.length?this.setContentFor(i.CHOICE_LABEL,""):this.setContentFor(i.CHOICE_LABEL,t.MULTIPLE)}},this.resetPrefixErrorContent=()=>{e.setMdsAlert(!1),this.prefixErrorAlert=!1},this.setPrefixErrorContent=(n="")=>{const i=n.toUpperCase();if(t.OTP_OPTIONS_METHOD_LIST.indexOf(i)>-1){e.setMdsAlert(!1);let n=t.CONTENT_VARIATIONS.PREFIX_ERROR;this.prefixErrorAlert={showAlert:!1,alertProperties:{variant:"error",alertTitle:this.setContentFor(n.HEADER,n[i]),message:"",accessibleTextIcon:this.errorAnnouncementAda}}}},this.hidePrefixError=()=>{this.prefixErrorAlert?(this.prefixErrorAlert.showAlert=!1,e.setMdsAlert(this.prefixErrorAlert)):e.setMdsAlert(!1)},this.showPrefixError=()=>{this.prefixErrorAlert&&this.prefixErrorAlert.alertProperties&&(this.prefixErrorAlert.showAlert=!0,e.setMdsAlert(this.prefixErrorAlert))},this.showRechallengeAlert=()=>{const t={showAlert:!0,alertProperties:{variant:"success",alertTitle:this.identityVerificationOptionsMessage,message:"",accessibleTextIcon:this.checkmarkAda}};e.getUserCompletedChallenge()&&e.getNeedsRechallengeAlert()&&e.setMdsAlert(t),e.setNeedsRechallengeAlert(!1)}}})),define("caas/components/body/callUs",["require","caas/lib/constants","caas/lib/dataStore","caas/shared/generalMixin"],(function(e){"use strict";var t=e("caas/lib/constants"),n=e("caas/lib/dataStore"),i=e("caas/shared/generalMixin");return function(e){this.onInit=()=>{i.call(this,e),this.registerPrefixHandlers()};const r=()=>(this.optionsOTPData||{}).callUs?.recipientDeliveryMethodCode;this.setCallUsContentVariations=()=>{const n=((n="")=>{const i=e.getClientId()||"",s=r(),a=i===t.CAAS_CLIENT_IDS.AUTHENTICATION&&s===t.DELIVERY_METHOD_CODES.IVR,o=i===t.CAAS_CLIENT_IDS.ULTIMATE_REWARDS;return a?t.USER_SEGMENT_IDENTIFIERS.INTERACTIVE_VOICE_RESPONSE:o?t.USER_SEGMENT_IDENTIFIERS.ULTIMATE_REWARDS:n})(this.optionsOTPData.userSegmentIdentifier||""),i=e.eventId?`${n}_${e.eventId}`:n,s=e.dcu.dynamicContent.get(this,"requestIdentificationCodeByDomesticCallAdvisory",n),a=e.dcu.dynamicContent.get(this,"requestIdentificationCodeByDomesticCallAdvisory",i);this.isValidDomesticNumber=!(void 0===s||s.includes(t.MISSING_CONTENT_STRING)),this.isValidDomesticNumberVariation=!(void 0===a||a.includes(t.MISSING_CONTENT_STRING));const o=e.dcu.dynamicContent.get(this,"requestIdentificationCodeByInternationalCallAdvisory",n),c=e.dcu.dynamicContent.get(this,"requestIdentificationCodeByInternationalCallAdvisory",i);this.isValidInternationalNumber=!(void 0===o||o.includes(t.MISSING_CONTENT_STRING)),this.isValidInternationalNumberVariation=!(void 0===c||c.includes(t.MISSING_CONTENT_STRING)),this.isValidDomesticNumberVariation?(this.setContentFor("requestIdentificationCodeByDomesticCallAdvisory",i),this.setContentFor("requestIdentificationCodeByDomesticCallLabel",""),this.isValidInternationalNumberVariation&&(this.setContentFor("requestIdentificationCodeByInternationalCallAdvisory",i),this.setContentFor("requestIdentificationCodeByInternationalCallLabel","")),this.setContentFor("requestIdentificationCodeByCallHoursAdvisory",i)):this.isValidDomesticNumber?(this.setContentFor("requestIdentificationCodeByDomesticCallAdvisory",n),this.setContentFor("requestIdentificationCodeByDomesticCallLabel",""),this.isValidInternationalNumber&&(this.setContentFor("requestIdentificationCodeByInternationalCallAdvisory",n),this.setContentFor("requestIdentificationCodeByInternationalCallLabel","")),this.setContentFor("requestIdentificationCodeByCallHoursAdvisory",n)):(this.isValidInternationalNumber=!0,this.setContentFor("requestIdentificationCodeByDomesticCallAdvisory",""),this.setContentFor("requestIdentificationCodeByDomesticCallLabel",""),this.setContentFor("requestIdentificationCodeByInternationalCallAdvisory",""),this.setContentFor("requestIdentificationCodeByInternationalCallLabel",""),this.setContentFor("requestIdentificationCodeByCallHoursAdvisory",""))},this.onReady=()=>{n.get(this,t.DATA_STORE.callUs),this.source=t.CHALLENGE_ROUTES.callUs,e.addPaddingToLinks(),e.actionsButtons.showCancel().showNext().setNextCallBack(this.requestHaveACode),this.setOTPContentVariations(t.OTP_METHODS.CALL_US,`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_telephone_featured.svg`,this.requestReceiveCallVerificationLogoAda&&this.requestReceiveCallVerificationLogoAda!==t.MISSING_LOGO_ALT_TEXT_STRING?this.requestReceiveCallVerificationLogoAda:t.VOICE_LOGO),this.setCallUsContentVariations(),this.challengeTokenIdentifier=this.optionsOTPData.challengeTokenIdentifier,this.resetPrefixErrorContent(),this.showRechallengeAlert()}}})),define("caas/components/container",["require","caas/lib/constants","caas/lib/dataStore","caas/shared/helper"],(function(e){"use strict";let t=e("caas/lib/constants"),n=e("caas/lib/dataStore"),i=e("caas/shared/helper").isEmpty;return function(e){let r={CALL_US:t.CHALLENGE_ROUTES.callUs,DEBIT_CARD_PIN:t.CHALLENGE_ROUTES.debitCardPin,INAPP:t.CHALLENGE_ROUTES.inAppSend,INAPP_PULL:t.CHALLENGE_ROUTES.inAppPull,OTP_SMS:t.CHALLENGE_ROUTES.sms,DEFAULT:t.CHALLENGE_ROUTES.options,OTP_EMAIL:t.CHALLENGE_ROUTES.email,OTP_VOICE:t.CHALLENGE_ROUTES.voice};this.handleRouteOptions=(s={})=>{s.session=this.session,n.set(this,t.DATA_STORE.container);let a=[],o=[];s.challengeMethodsDisplay&&(a=s.challengeMethodsDisplay.sequence||[],o=s.challengeMethodsDisplay.showAll||[]);let c="",l=e.getOptionsList(e.convertToList(s),a),u=e.getOptionsList(e.convertToList(s),o),d=u.slice(),f=o.includes(t.SEQUENCE_LIST.callUs),h={};if(h.sequenceId=t.SEQUENCE_LIST.callUs,f&&u.push(h),this.showTryAnotherMethod=u.length>1||a.length>1,n.set(this,t.DATA_STORE.container),i(l))i(u)?this.optionsFailureHandler(t.ROUTE_TO_PARENT_ERROR_MESSAGE):(this.optionsList=d,c=u.length>1?t.CHALLENGE_ROUTES.options:r[u[0].sequenceId]);else{let e=l[0].sequenceId;s.challengeMethodsDisplay.sequence=l.splice(1).map((e=>e.sequenceId)),c=r[e]}c&&this.setRoute(c)},this.setRoute=(i="")=>{n.set(this,t.DATA_STORE.container),e.navigation.intraRouter(i)},this.optionsSuccessHandler=(i={})=>{if(n.set(this,t.DATA_STORE.container),this.optionsOTPData=i,e.isMissingIdentifier&&e.setChallengeTokenIdentifier(this.optionsOTPData),i.challengeFlowActionName&&"scam"===i.challengeFlowActionName.toString().toLowerCase()){var r=e.getZellRequestParams(),s={cti:this.optionsOTPData.challengeTokenIdentifier,rai:r.challengeIdentifier,cf:"N",communicationCallBack:r.communicationCallBack};e.navigation.routeToSpaas(s)}else e.setDebitCardRiskLevel(this.optionsOTPData),this.showLoader=!1,this.debitPinEncryptionKeyText=i.encryptionKeyText,this.handleRouteOptions(i)},this.optionsFailureHandler=i=>{this.showLoader=!1,this.errorData=i,this.optionsOTPData={},this.shouldDisplayTryAnotherMethod=!1,n.set(this,t.DATA_STORE.error),e.navigation.intraRouter(t.CHALLENGE_ROUTES.error)},this.setHybridConfigurations=()=>{if(e.hybrid&&e.hybridHelper){const t=e.hybridHelper.webNativeMessenger,n={pageTitle:this.identityVerificationHeader,showCancel:!1,showBackArrow:!1},i=function(){return e.setUserAbandonedChallenge(),e.dialog.showCancelConfirmationDialog(),!0},r={BACK:i,CANCEL:i,CLOSE:i},s=function(e){return r[e]&&!r[e]()},a={isHybridBackButtonRequired:i};t.updateNativeNavigationBar(n),t.setShouldNativeHandleButtonPressedCallBack(s,a)}},this.swipeExit=()=>{e.setUserAbandonedChallenge(),n.wipe(),e.navigation.routeToParent(t.CANCEL_TYPE,t.RESPONSE_CODES.CANCELLED,t.USER_CANCELLED_MESSAGE)},this.onInit=()=>{setTimeout(this.setHybridConfigurations,350),this.optionsList=null,this.model.onValue("optionsData",(e=>{e&&this.optionsSuccessHandler(e)}),{initial:!1}),this.model.onValue("optionsError",(e=>{e&&this.optionsFailureHandler(e)}),{initial:!1})},this.onReady=()=>{e.requestOptions()},this.onDestroy=()=>{delete e.isMissingIdentifier,e.reset()}}})),define("caas/components/dialog",["require","caas/lib/constants","appkit-utilities/analytics/overlay","caas/lib/dataStore"],(function(e){"use strict";var t=e("caas/lib/constants"),n=e("appkit-utilities/analytics/overlay"),i=e("caas/lib/dataStore");return function(e){let r=this;const s=t.CANCEL_CONFIRMATION_MODAL;r.onInit=()=>{e.globalContentMixin.call(this,["warningAda"])},r.onReady=()=>{},r.closeDialog=()=>{r.openCancelDialog&&r.exitCancelConfirmation()},r.showCancelConfirmationDialog=()=>{n.showOverlay(r,s.OVERLAY),r.openCancelDialog=!0},r.confirmCancelConfirmation=()=>{n.hideOverlay(r,s.OVERLAY,s.ACTIONS.CONFIRM_CANCEL),r.openCancelDialog=!1,i.wipe(),e.navigation.routeToParent(t.CANCEL_TYPE,t.RESPONSE_CODES.CANCELLED,t.USER_CANCELLED_MESSAGE)},r.exitCancelConfirmation=()=>{n.hideOverlay(r,s.OVERLAY,s.ACTIONS.EXIT_CANCEL),r.openCancelDialog=!1}}})),define("caas/lib/encrypt",[],(function(){"use strict";const e={name:"RSA-OAEP",hash:{name:"SHA-1"}},t=["encrypt"],n=function(e){"string"!=typeof e&&(e="");for(var t=e.length,n=new Uint8Array(t),i=0;i<t;i++)n[i]=e.charCodeAt(i);return n},i=e=>btoa(String.fromCharCode.apply(null,new Uint8Array(e)));return{encrypt:function(r,s){var a,o,c;a=new Promise((function(e,t){o=e,c=t}));const l=function(e){const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let t=0,i=e.length;t<i;t++)n[t]=e.charCodeAt(t);return t}(atob(r));return crypto.subtle.importKey("spki",l,e,false,t).then((function(t){crypto.subtle.encrypt(e,t,n(s)).then((function(e){let t=i(e);return o(t)})).catch((function(e){c(e)}))})).catch((function(e){c(e)})),a},_private_encodePlainText:n,_private_decodeCipher:i}})),define("caas/components/body/debitCardPin",["require","caas/lib/constants","caas/lib/dataStore","caas/lib/encrypt","caas/shared/generalMixin","caas/shared/helper"],(function(e){"use strict";var t=e("caas/lib/constants"),n=e("caas/lib/dataStore"),i=e("caas/lib/encrypt"),r=e("caas/shared/generalMixin"),s=e("caas/shared/helper").getNested;return function(e){function a(e){var t=s(e,"target")||s(e,"domEvent","target")||{};return s(t,"selectedRadio")||s(t,"value")}this.setDebitPinContentVariations=()=>{let e=t.CONTENT_VARIATIONS.DEBIT_PIN;this.setContentFor(e.EXIT_HEADER,e.DEBIT_CARD),this.setContentFor(e.EXIT_ADVISORY,e.DEBIT_CARD),this.chooseCardLabel=this.cards&&this.cards.length>1?this.setContentFor("chooseCardLabel",""):this.setContentFor("chooseCardLabel","SINGLE")},this.setDebitCardRiskLevelOptions=()=>{this.riskLevel=e.getDebitCardRiskLevel().toString(),this.debitCardPin=this.debitCardCvv=this.debitCardExp=!1;const n=e.isV5Enabled||e.isV6Enabled||e.isV8Enabled;switch(this.riskLevel){case t.DEBIT_CARD_RISK_LEVEL.LOW:n&&(this.cards=this.debitCards),this.debitCardPin=!1,this.debitCardCvv=this.debitCardExp=!0;break;case t.DEBIT_CARD_RISK_LEVEL.MEDIUM:n&&(this.cards=this.debitCards.concat(this.atmCards)),this.debitCardPin=!0,this.debitCardCvv=this.debitCardExp=!1;break;case t.DEBIT_CARD_RISK_LEVEL.HIGH:n&&(this.cards=this.debitCards),this.debitCardPin=this.debitCardCvv=this.debitCardExp=!0}},this.filterCardTypes=()=>{this.debitCards=[],this.atmCards=[],this.creditCards=[],this.optionsOTPData.cardList.forEach((e=>{e.cardTypeCode===t.DEBIT_CARD_TYPES.DEBIT_CARD?this.debitCards.push(e):e.cardTypeCode===t.DEBIT_CARD_TYPES.ATM_CARD?this.atmCards.push(e):e.cardTypeCode===t.DEBIT_CARD_TYPES.CREDIT_CARD&&this.creditCards.push(e)}))},this.initData=()=>{this.cards=this.optionsOTPData.cardList||[],this.selectedContactID="",this.selectedLowRiskOption="",this.cards.length>0&&this.cards.length!==t.RADIO_BUTTON_LIST_SIZE&&(this.selectedContactID=(this.cards[0].contactReferenceIdentifier||"").toString()),this.challengeTokenIdentifier=this.optionsOTPData.challengeTokenIdentifier,this.pinInput=this.pinInputError=this.cvvInput=this.cvvInputError=this.expInput=this.expInputError="",this.treatment=e.treatment||"cpo",this.keyIdentifier=e.config["app.challenge.pin.keyIdentifier"],this.isExpVisible=!1},this.onInit=()=>{r.call(this,e),e.globalContentMixin.call(this,["requiredAda","showLabel","hideLabel"],"GLOBAL"),this.model.onValue("pinData",(e=>{e&&this.response.handleResponse(e)}),{initial:!1}),this.model.onValue("pinError",(e=>{e&&this.response.handleResponse(e)}),{initial:!1}),this.model.onValue("publicKeys",(e=>{e&&this.publicKey.success(e)}),{initial:!1}),this.model.onValue("publicKeysError",(e=>{e&&this.publicKey.failure(e)}),{initial:!1})},this.setDebitCardContentVariations=()=>{this.isVariationNeeded=e.getUserAbandonedChallenge()||e.getUserCompletedChallenge(),this.title=this.isVariationNeeded?this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.TITLE,t.ADDITIONAL):this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.TITLE),e.isV5Enabled||e.isV6Enabled||e.isV8Enabled?this.debitCards&&this.atmCards?this.subTitle=this.isVariationNeeded?this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.PIN_ADVISORY,t.CONTENT_VARIATIONS.DEBIT_PIN.DEBIT_OR_ATM_ADDITIONAL):this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.PIN_ADVISORY,t.CONTENT_VARIATIONS.DEBIT_PIN.DEBIT_OR_ATM):this.debitCards?this.subTitle=this.isVariationNeeded?this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.PIN_ADVISORY,t.CONTENT_VARIATIONS.DEBIT_PIN.DEBIT_CARD_ADDITIONAL):this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.PIN_ADVISORY,t.CONTENT_VARIATIONS.DEBIT_PIN.DEBIT_CARD):this.atmCards&&(this.subTitle=this.isVariationNeeded?this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.PIN_ADVISORY,t.CONTENT_VARIATIONS.DEBIT_PIN.ATM_CARD_ADDITIONAL):this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.PIN_ADVISORY,t.CONTENT_VARIATIONS.DEBIT_PIN.ATM)):this.subTitle=this.isVariationNeeded?this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.PIN_ADVISORY,t.CONTENT_VARIATIONS.DEBIT_PIN.DEBIT_OR_ATM_ADDITIONAL):this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.PIN_ADVISORY,t.CONTENT_VARIATIONS.DEBIT_PIN.DEBIT_OR_ATM)},this.onReady=()=>{n.get(this,t.DATA_STORE.debitCardPin),this.initData(),e.addPaddingToLinks(),e.actionsButtons.showCancel().showNext().setNextCallBack(this.confirmIdentity),(e.isV5Enabled||e.isV6Enabled||e.isV8Enabled)&&this.filterCardTypes(),this.setDebitCardRiskLevelOptions(),this.setDebitCardContentVariations();let i={header:this.identityVerificationHeader,title:this.title,subTitle:this.subTitle,iconExists:!0,icon:`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_card_featured.svg`,iconAlt:this.requestDebitPinVerificationLogoAda&&this.requestDebitPinVerificationLogoAda!==t.MISSING_LOGO_ALT_TEXT_STRING?this.requestDebitPinVerificationLogoAda:t.DCP_LOGO};e.setHeader(i),this.resetPrefixErrorContent(),this.setDebitPinContentVariations(),this.showRechallengeAlert()},this.onCardSelect=e=>{a(e)&&(this.pinInputError=this.cvvInputError=this.expInputError="",this.selectedContactID=a(e),this.debitCardSelectedValidator())},this.onLowRiskOptionSelect=e=>{this.selectedLowRiskOption=a(e),this.selectedLowRiskOption===t.CONTENT_VARIATIONS.DEBIT_PIN.EXPIRY_AND_CVV_LABEL?(this.debitCardPin=!1,this.debitCardExp=this.debitCardCvv=!0,this.pinInputError=""):this.selectedLowRiskOption===t.CONTENT_VARIATIONS.DEBIT_PIN.PIN&&(this.debitCardPin=!0,this.debitCardExp=this.debitCardCvv=!1,this.expInputError=this.cvvInputError="")},this.debitCardPinInputValidator=()=>this.pinInput?/^[0-9]+$/.test(this.pinInput)?/^\d{4,}$/.test(this.pinInput)?(this.pinInputError="",!0):(this.pinInputError=this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.PIN_ERROR_HEADER,t.CONTENT_VARIATIONS.DEBIT_PIN.PIN_LENGTH),e.setMdsAlert(!1),!1):(this.pinInputError=this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.PIN_ERROR_HEADER,t.CONTENT_VARIATIONS.DEBIT_PIN.NOT_A_NUM),e.setMdsAlert(!1),!1):(this.pinInputError=this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.PIN_ERROR_HEADER,t.CONTENT_VARIATIONS.DEBIT_PIN.EMPTY),e.setMdsAlert(!1),!1),this.debitCardExpInputValidator=()=>this.expInput?/^[0-9/]+$/.test(this.expInput)?/^(0[1-9]|1[0-2])$/.test(this.expInput.slice(0,2))?/^\d{4}$/.test(this.expInput.replace(/\//g,""))?(this.expInputError="",!0):(this.expInputError=this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.EXPIRY_ERROR_HEADER,t.CONTENT_VARIATIONS.DEBIT_PIN.EXPIRY_DATE_LENGTH),e.setMdsAlert(!1),!1):(this.expInputError=this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.EXPIRY_ERROR_HEADER,t.CONTENT_VARIATIONS.DEBIT_PIN.INVALID_EXPIRY_DATE),e.setMdsAlert(!1),!1):(this.expInputError=this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.EXPIRY_ERROR_HEADER,t.CONTENT_VARIATIONS.DEBIT_PIN.NOT_A_NUM),e.setMdsAlert(!1),!1):(this.expInputError=this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.EXPIRY_ERROR_HEADER,t.CONTENT_VARIATIONS.DEBIT_PIN.EMPTY),e.setMdsAlert(!1),!1),this.debitCardCvvInputValidator=()=>this.cvvInput?/^[0-9]+$/.test(this.cvvInput)?/^\d{3}$/.test(this.cvvInput)?(this.cvvInputError="",!0):(this.cvvInputError=this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.CVV_ERROR_HEADER,t.CONTENT_VARIATIONS.DEBIT_PIN.CVV_LENGTH),e.setMdsAlert(!1),!1):(this.cvvInputError=this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.CVV_ERROR_HEADER,t.CONTENT_VARIATIONS.DEBIT_PIN.NOT_A_NUM),e.setMdsAlert(!1),!1):(this.cvvInputError=this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.CVV_ERROR_HEADER,t.CONTENT_VARIATIONS.DEBIT_PIN.EMPTY),e.setMdsAlert(!1),!1),this.debitCardSelectedValidator=()=>(this.contactIdentifier=parseInt(this.selectedContactID),this.contactIdentifier?(this.cardRadioGroupError="",!0):(this.cardRadioGroupError=this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.SELECT_ACCOUNT_ERROR_HEADER,t.CONTENT_VARIATIONS.DEBIT_PIN.NO_CARD_SELECTED),!1)),this.response={handleResponse:n=>{e.setShowSpinner(!1);const i=t.CODE.VERIFY_RESPONSE;var r={[i.SUCCESS]:this.response.success,[i.FAILURE]:this.response.verifyFailure,[i.MAX_ATTEMPTS]:this.response.verifyFailure,[i.RE_CHALLENGE]:this.response.rechallenge,DEFAULT:this.response.systemFailure};(r[n.verificationStatusCode]||r.DEFAULT)(n)},success:n=>{if(this.isScamFlowAction(n)){var i=e.getZellRequestParams(),r={cti:this.optionsOTPData.challengeTokenIdentifier,rai:i.challengeIdentifier,cf:"Y",communicationCallBack:i.communicationCallBack};e.navigation.routeToSpaas(r)}else e.navigation.routeToParent(t.SUCCESS_MESSAGE_TYPE,t.RESPONSE_CODES.SUCCESS,n)},verifyFailure:n=>{this.errorVariation=n.verificationStatusCode===t.CODE.VERIFY_RESPONSE.MAX_ATTEMPTS?t.CONTENT_VARIATIONS.DEBIT_PIN.MAXIMUM_INVALID_ATTEMPTS:t.CONTENT_VARIATIONS.DEBIT_PIN.INVALID_ATTEMPT,this.mdsAlert={showAlert:!0,alertProperties:{variant:"error",alertTitle:this.setContentFor(t.CONTENT_VARIATIONS.DEBIT_PIN.ERROR_HEADER,this.errorVariation),accessibleTextIcon:this.errorAnnouncementAda}},e.setMdsAlert(this.mdsAlert)},systemFailure:i=>{this.errorData=i,n.set(this,t.DATA_STORE.error),e.navigation.intraRouter(t.CHALLENGE_ROUTES.error)},rechallenge:t=>{const n=t.authenticationRechallengeIdentifier;n?e.requestRechallenge(n):this.systemFailure(t)}};const o=()=>{this.isValid="",this.cardRadioGroupError="",this.pinInputError=this.cvvInputError=this.expInputError="";const e=this.debitCardSelectedValidator(),n=this.debitCardPinInputValidator(),i=this.debitCardExpInputValidator(),r=this.debitCardCvvInputValidator();return this.riskLevel===t.DEBIT_CARD_RISK_LEVEL.LOW?this.isValid=e&&n||e&&i&&r:this.riskLevel===t.DEBIT_CARD_RISK_LEVEL.MEDIUM?this.isValid=e&&n:this.riskLevel===t.DEBIT_CARD_RISK_LEVEL.HIGH&&(this.isValid=e&&n&&i&&r),this.isValid};this.confirmIdentity=()=>{o()&&(e.setShowSpinner(!0),n.get(this,t.DATA_STORE.debitCardPin),this.debitPinEncryptionKeyText?this.publicKey.success(this.debitPinEncryptionKeyText,!1):e.requestCaasPublicKeys())},this.publicKey={success:(n,r=!0)=>{let s=r?this.publicKey.getKeyFromKeyList(n):n;s?(this.expInputFormatted=(this.expInput.substr(2,this.expInput.length-2)+this.expInput.substr(0,2)).replace(/\//g,""),this.riskLevel===t.DEBIT_CARD_RISK_LEVEL.LOW?(this.key=this.pinInput?this.pinInput:this.cvvInput+"|"+this.expInputFormatted,this.communicationMethodTypeCode=this.pinInput?t.COMMUNICATION_METHOD_TYPE.DEBIT_PIN.CODE:t.COMMUNICATION_METHOD_TYPE.CVV_EXPDT.CODE):this.riskLevel===t.DEBIT_CARD_RISK_LEVEL.MEDIUM?(this.key=this.pinInput,this.communicationMethodTypeCode=t.COMMUNICATION_METHOD_TYPE.DEBIT_PIN.CODE):this.riskLevel===t.DEBIT_CARD_RISK_LEVEL.HIGH&&(this.key=this.pinInput+"|"+this.cvvInput+"|"+this.expInputFormatted,this.communicationMethodTypeCode=t.COMMUNICATION_METHOD_TYPE.DEBIT_PIN_CVV_EXPDT.CODE),i.encrypt(s,this.key).then((t=>{e.requestCaasVerify({challengeTokenIdentifier:this.challengeTokenIdentifier,communicationMethodTypeCode:this.communicationMethodTypeCode,contactReferenceIdentifier:this.contactIdentifier,card:{encryptedPinNumber:t}})}),(()=>{e.setShowSpinner(!1),e.navigation.intraRouter(t.CHALLENGE_ROUTES.error)}))):(e.setUserCompletedChallenge(),this.publicKey.failure(t.PUBLIC_KEY_NOT_FOUND_MESSAGE))},failure:i=>{e.setShowSpinner(!1),this.errorData=i,n.set(this,t.DATA_STORE.error),e.navigation.intraRouter(t.CHALLENGE_ROUTES.error)},getKeyFromKeyList:e=>{let t=e.keys;return t||(t=[]),t.find((e=>e.kid===this.keyIdentifier))}}}})),define("caas/components/body/email",["require","caas/lib/constants","caas/lib/dataStore","caas/shared/generalMixin","caas/shared/helper"],(function(e){"use strict";var t=e("caas/lib/constants"),n=e("caas/lib/dataStore"),i=e("caas/shared/generalMixin"),r=e("caas/shared/helper").getNested;return function(e){function s(e){var t=r(e,"target")||r(e,"domEvent","target")||{};return r(t,"selectedRadio")||r(t,"value")}this.initData=()=>{this.emailContacts=this.optionsOTPData.emailList||[],this.selectedContactID="",this.emailContacts.length>0&&this.emailContacts.length!==t.RADIO_BUTTON_LIST_SIZE&&(this.selectedContactID=(this.emailContacts[0].contactReferenceIdentifier||"").toString()),this.chooseEmailLabel=this.emailContacts&&this.emailContacts.length>1?this.setContentFor("requestEmailChoiceLabel","MULTIPLE"):this.setContentFor("requestEmailChoiceLabel","")},this.onInit=()=>{i.call(this,e),e.globalContentMixin.call(this,["requiredAda"]),this.registerInvokerHandlers(),this.registerPrefixHandlers()},this.onReady=()=>{n.get(this,t.DATA_STORE.email),this.source=t.CHALLENGE_ROUTES.email,e.addPaddingToLinks(),e.actionsButtons.showCancel().showNext().setNextCallBack(this.requestSendACode),this.showCallUs=this.optionsOTPData.challengeMethodsDisplay.showAll.includes("CALL_US"),this.setOTPContentVariations(t.OTP_METHODS.EMAIL,`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_email_featured.svg`,this.requestEmailVerificationLogoAda&&this.requestEmailVerificationLogoAda!==t.MISSING_LOGO_ALT_TEXT_STRING?this.requestEmailVerificationLogoAda:t.EMAIL_LOGO),this.initData(),this.setContentVariationsOther(t.OTP_METHODS.EMAIL,this.emailContacts),this.resetPrefixErrorContent(),this.showRechallengeAlert(),e.setShowSpinner(!1)},this.onEmailContactSelect=e=>{s(e)&&(this.selectedContactID=s(e),this.emailSelectedValidator())},this.emailSelectedValidator=()=>(this.contactIdentifier=parseInt(this.selectedContactID),this.contactIdentifier?(this.emailRadioGroupError="",!0):(this.emailRadioGroupError=this.setContentFor("eligibleEmailContactsError","NO_CONTACT_SELECTED"),!1)),this.requestSendACode=()=>{if(!this.emailSelectedValidator())return;const n=this.emailContacts.find((e=>e.contactReferenceIdentifier===this.contactIdentifier));n&&(this.eligibleEmailContactMasked=n.maskedEmailAddressText),e.setShowSpinner(!0),e.requestCaasInvoker({challengeTokenIdentifier:this.optionsOTPData.challengeTokenIdentifier,communicationMethodTypeCode:t.COMMUNICATION_METHOD_TYPE.EMAIL.CODE,contactReferenceIdentifier:this.contactIdentifier})}}})),define("caas/components/body/error",["require","caas/lib/constants","caas/lib/dataStore","caas/shared/generalMixin","appkit-utilities/language/helper","caas/shared/helper","caas/shared/helper"],(function(e){"use strict";var t=e("caas/lib/constants"),n=e("caas/lib/dataStore"),i=e("caas/shared/generalMixin"),r=e("appkit-utilities/language/helper"),{defaults:s,isEmpty:a}=e("caas/shared/helper");return function(o){this.onInit=()=>{i.call(this,o),o.globalContentMixin.call(this,["errorAnnouncementAda"]),this.jsonParser=e("caas/shared/helper").jsonParser},this.routeErrorToParent=(e="")=>{o.navigation.routeToParent(t.ERROR_MESSAGE_TYPE,e,this.errorData)},this.requestNextOption=()=>{n.set(this,t.DATA_STORE.error),this.nextOption&&o.navigation.intraRouter(this.nextOption)},this.requestAdditionalOptions=()=>{n.set(this,t.DATA_STORE.error),o.navigation.intraRouter(t.CHALLENGE_ROUTES.options)},this.setActionButtons=(e=!1,t=!1,n="",i=null)=>{o.actionsButtons.showCancel(e).showNext(t).setNextLabel(n).setNextCallBack(i)};this.requestExitInApplicationVolumeControl=()=>{this.routeErrorToParent(t.RESPONSE_CODES.FAILURE)},this.requestExitInApplicationNoPushNotifications=()=>{this.routeErrorToParent(t.RESPONSE_CODES.FAILURE)};const c=()=>{o.dcu.dynamicContent.setMultiple(this,[{key:"identityVerificationErrorHeader",variation:"IN_APP_VOLUME_CONTROL"},{key:"identityVerificationErrorAdvisory",variation:"IN_APP_VOLUME_CONTROL"}]),this.setActionButtons(!1,!0,this.exitLabel,this.requestExitInApplicationVolumeControl)},l=()=>{o.dcu.dynamicContent.setMultiple(this,[{key:"identityVerificationErrorHeader",variation:t.CONTENT_VARIATIONS.ERROR_PAGE.VARIATIONS.NO_NOTIFICATIONS},{key:"identityVerificationErrorAdvisory",variation:t.CONTENT_VARIATIONS.ERROR_PAGE.VARIATIONS.NO_NOTIFICATIONS}]),this.setActionButtons(!1,!0,this.exitLabel,this.requestExitInApplicationNoPushNotifications)},u=e=>{if(e.errorCode===t.IN_APP_INVOKER_ERROR.VOLUME_CONTROL)c();else if(this.parseErrorData(this.errorData).errorCode===t.CODE.INVOKER_RESPONSE.VOLUME_CONTROL){this.showVolumeControlError=!0;const e=()=>this.routeErrorToParent(t.RESPONSE_CODES.FAILURE),n={showCancel:!1,showNext:!0,nextLabel:this.exitLabel,nextCallback:e};this.setErrorPageContent(n,t.CONTENT_VARIATIONS.VOLUME_CONTROL_ERROR.VARIATION)}else if(e.tokenVerificationStatusCode===t.INAPP_POLLING_TOKEN_RESPONSES.BAD_TOKEN)l();else{!!this.errorData.verificationStatusCode?this.handleVerifyErrorRoute(this.errorData):this.handleGenericErrorRoute(this.optionsOTPData)}};this.parseErrorData=e=>e.errorCode?e:e.data?this.jsonParser(e.data,{}):{};const d=e=>{var n=e.verificationStatusCode===t.CODE.VERIFY_RESPONSE.VERIFY_LOCKED;if(o.isPolicyBased&&n){"es"===r.getContentLanguage()?this.header={header:"Tenemos dificultades para confirmar tu identidad en este momento.",title:"Llmanos si necesitas ayuda",subTitle:"Por tu seguridad, cancelaremos esta solicitud. Intntalo de nuevo ms tarde o llmanos para ayuda.",iconExists:!0,icon:`${o.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_telephone_featured.svg`,iconAlt:"Telfono"}:this.header={header:this.identityVerificationHeader,title:"Call us for help",subTitle:"For your security, we'll cancel this request. Try again later or call us for help.",iconExists:!0,icon:`${o.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_telephone_featured.svg`,iconAlt:"Telephone"},o.setHeader(this.header),this.mdsAlert={showAlert:!0,alertProperties:{variant:"error",alertTitle:o.dcu.dynamicContent.get(this,"identityVerificationErrorHeader",t.CONTENT_VARIATIONS.ERROR_PAGE.VARIATIONS.NO_METHOD),accessibleTextIcon:this.errorAnnouncementAda}},o.setMdsAlert(this.mdsAlert),this.setContentFor("requestIdentificationCodeByDomesticCallAdvisory",""),this.setContentFor("requestIdentificationCodeByDomesticCallLabel",""),this.setContentFor("requestIdentificationCodeByInternationalCallAdvisory",""),this.setContentFor("requestIdentificationCodeByInternationalCallLabel",""),this.setContentFor("requestIdentificationCodeByCallHoursAdvisory","");const e=o.hybrid&&o.hybridHelper,n={showCancel:!1,showNext:!0,nextLabel:"Close",nextCallback:()=>{if(document.querySelector(o.target).innerHTML="",e){o.hybridHelper.webNativeMessenger.onFinish(o)}o.state("dashboard/myProfileOverview/overview/requestMyProfileOverview")}};this.setErrorPageContent(n,"")}};this.onReady=()=>{var e;n.get(this,t.DATA_STORE.error),this.errorData=s(this.errorData,{}),this.showVolumeControlError=!1,e=this.identityVerificationHeader,o.setHeader({header:e,title:"",subTitle:"",iconExists:!1,icon:""}),o.setHeader(e),o.setMdsAlert(!1),d(this.errorData),u(this.errorData)},this.handleGenericErrorRoute=e=>{e=s(e,{});let n=t.CONTENT_VARIATIONS.ERROR_PAGE,i=[],r=[];e.challengeMethodsDisplay&&(i=e.challengeMethodsDisplay.sequence||[],r=e.challengeMethodsDisplay.showAll||[]);let c=o.getOptionsList(o.convertToList(e),i),l=o.getOptionsList(o.convertToList(e),r);if(a(c))if(a(r)||1===r.length){const e={showCancel:!1,showNext:!0,nextLabel:this.exitLabel,nextCallback:()=>this.routeErrorToParent(t.CODE.SYSTEM.FAILURE)};this.setErrorPageContent(e,n.VARIATIONS.NO_METHOD)}else{this.optionsList=l;const e={showCancel:!0,showNext:!0,nextLabel:this.requestAdditionalOptionsLabel,nextCallback:this.requestAdditionalOptions};this.setErrorPageContent(e,n.VARIATIONS.TRY_OTHER)}else{this.nextOption=t.SEQUENCE_ROUTES[c[0].sequenceId],e.challengeMethodsDisplay.sequence=c.splice(1).map((e=>e.sequenceId));const i={showCancel:!0,showNext:!0,nextLabel:this.nextLabel,nextCallback:this.requestNextOption};this.setErrorPageContent(i,n.VARIATIONS.TRY_NEXT)}},this.setErrorPageContent=(e,n)=>{e=s(e,{}),n=s(n,"");const i=t.CONTENT_VARIATIONS.VOLUME_CONTROL_ERROR,r=t.CONTENT_VARIATIONS.ERROR_PAGE,a=n===i.VARIATION,c=a?"email"===this.source?i.HEADER.EMAIL:i.HEADER:r.KEYS.HEADER,l=a?"email"===this.source?i.ADVISORY.EMAIL:i.ADVISORY:r.KEYS.ADVISORY;this.setActionButtons(e.showCancel,e.showNext,e.nextLabel,e.nextCallback),o.dcu.dynamicContent.setMultiple(this,[{key:c,variation:n},{key:l,variation:n}])},this.handleVerifyErrorRoute=e=>{const n=(e=s(e,{})).verificationStatusCode,i=t.CONTENT_VARIATIONS.ERROR_PAGE,r=this.source&&t.VERIFY_OTP_CONTENT[this.source];if(n===t.CODE.VERIFY_RESPONSE.MAX_ATTEMPTS){let e;this.shouldDisplayTryAnotherMethod=this.showTryAnotherMethod;const t=r&&r.LINK_ACTION,n=r&&r.LINK_LABEL;e=n&&t?{showCancel:!0,showNext:!0,nextLabel:o.dcu.dynamicContent.get(this,n),nextCallback:this[t]}:{showCancel:!0},this.setErrorPageContent(e,i.VARIATIONS.MAX_OTP_ATTEMPTS_REACHED)}},this.onDestroy=()=>{delete this.shouldDisplayTryAnotherMethod}}})),define("caas/lib/mappers/brandMapper",[],(function(){"use strict";const e={WEALTH:{logoType:"wealth",logoUrl:"/content/dam/cpo-static/images/chase-private-client-white.png",logoSourceToken:"AFFLUENT_PRIVATE_CLIENT_SEGMENT"},BUSINESS:{logoType:"business",logoUrl:"/content/dam/cpo-static/images/294x21-business-logo.png",logoSourceToken:"BUSINESS"},COMMERCIAL:{logoType:"commercial",logoUrl:"/content/dam/cpo-static/images/294x21-commercial-logo.png",logoSourceToken:"COMMERCIAL"},JPMORGAN:{logoType:"jpmorgan",logoUrl:"/content/dam/cpo-static/images/jpmorgan_logo_white.png",logoSourceToken:"PRIVATE_BANKING"},DEFAULT:{logoType:"public",logoUrl:"/content/dam/cpo-static/images/octogon-white.png",logoSourceToken:"MASS_CONSUMER_SEGMENT"}};return{bcb:e.BUSINESS,business:e.BUSINESS,commercial:e.COMMERCIAL,cpc:e.WEALTH,cpo:e.DEFAULT,DEFAULT:e.DEFAULT,jpmorgan:e.JPMORGAN,jpo:e.JPMORGAN,wealth:e.WEALTH}})),define("caas/components/header",["require","caas/lib/constants","caas/lib/mappers/brandMapper"],(function(e){"use strict";var t=e("caas/lib/constants"),n=e("caas/lib/mappers/brandMapper");return function(e){this.onReady=()=>{this.showBrandBar&&this.setBrandBar()},this.setBrandBar=()=>{const i=e.treatment&&e.treatment.toLowerCase()||"",r=e.config.cq5ResourceBase||e.config.contentDomain;let s=n[t.DEFAULT_LOB].logoUrl,a=n[i]?n[i]:n.cpo;s=a.logoUrl,this.logoUrl=r+s,this.isBrandSpecific=a.logoSourceToken,this.logoAda=this.setContentFor("chaseLogoAda",this.isBrandSpecific)},this.setContentFor=(t,n)=>e.dcu.dynamicSettings.set(this,t,n,!0),this.triggerExitBlock=function(){e.controller.onExit()}}})),define("caas/components/body/inAppSend",["require","caas/shared/generalMixin","caas/lib/constants","caas/lib/dataStore"],(function(e){"use strict";var t=e("caas/shared/generalMixin"),n=e("caas/lib/constants"),i=e("caas/lib/dataStore");return function(e){this.onInit=()=>{e.setMdsAlert(!1),t.call(this,e),e.globalContentMixin.call(this,["errorAnnouncementAda"]),this.model.onValue("invokerData",(e=>{e&&this.invokerSuccessHandler(e)}),{initial:!1}),this.model.onValue("invokerError",(e=>{e&&this.invokerFailureHandler(e)}),{initial:!1})},this.onReady=()=>{i.get(this,n.DATA_STORE.inAppSend),e.addPaddingToLinks(),e.setShowSpinner(!1),e.actionsButtons.showCancel().showNext().setNextCallBack(this.requestSendNotification);const t=e.getUserAbandonedChallenge()||e.getUserCompletedChallenge(),r={header:this.identityVerificationHeader,title:this.requestInApplicationIdentificationCodeHeader,subTitle:this.requestInApplicationIdentificationCodeMessage,iconExists:!0,icon:`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_mobile_notification_featured.svg`,iconAlt:this.requestInApplicationVerificationLogoAda&&this.requestInApplicationVerificationLogoAda!==n.MISSING_LOGO_ALT_TEXT_STRING?this.requestInApplicationVerificationLogoAda:n.INAPP_PUSH_LOGO};if(t){const t=n.CONTENT_VARIATIONS.REQUEST_NOTIFICATION.REQUEST_INAPP_HEADER,i=n.CONTENT_VARIATIONS.REQUEST_NOTIFICATION.REQUEST_INAPP_MESSAGE;e.dcu.dynamicContent.setMultiple(this,[{key:t,variation:n.ADDITIONAL},{key:i,variation:n.ADDITIONAL}]),r.title=this.requestInApplicationIdentificationCodeHeader,r.subTitle=this.requestInApplicationIdentificationCodeMessage}this.eligibleMobileDeviceName=this.optionsOTPData.inAppDeviceList[0].digitalDeviceName,e.setHeader(r),this.showRechallengeAlert()},this.requestSendNotification=()=>{e.setShowSpinner(!0),e.requestCaasInvoker({challengeTokenIdentifier:this.optionsOTPData.challengeTokenIdentifier,communicationMethodTypeCode:n.COMMUNICATION_METHOD_TYPE.INAPP.CODE,contactReferenceIdentifier:this.optionsOTPData.inAppDeviceList[0].oneTimeDeviceIdentifier})},this.invokerSuccessHandler=t=>{e.setShowSpinner(!1),t.errorCode===n.CODE.INVOKER_RESPONSE.VOLUME_CONTROL?(this.errorData=t,this.errorData.errorCode=n.IN_APP_INVOKER_ERROR.VOLUME_CONTROL,i.set(this,n.DATA_STORE.error),e.navigation.intraRouter(n.CHALLENGE_ROUTES.error)):(this.invokerData=t,i.set(this,n.DATA_STORE.inAppSend),e.navigation.intraRouter(n.CHALLENGE_ROUTES.inAppVerify))},this.invokerFailureHandler=t=>{e.setShowSpinner(!1),this.errorData=t,i.set(this,n.DATA_STORE.error),e.navigation.intraRouter(n.CHALLENGE_ROUTES.error)}}})),define("caas/components/body/inAppVerify",["require","caas/lib/constants","caas/lib/dataStore","caas/shared/generalMixin"],(function(e){"use strict";var t=e("caas/lib/constants"),n=e("caas/lib/dataStore"),i=e("caas/shared/generalMixin");return function(e){var r=e.dcu.dynamicContent;this.onInit=()=>{i.call(this,e),e.globalContentMixin.call(this,["errorAnnouncementAda","warningAda"]),this.model.onValue("statusData",(e=>{e&&this.response.handleResponse(e)}),{initial:!1}),this.model.onValue("statusError",(e=>{e&&this.response.handleResponse(e)}),{initial:!1})},this.onReady=()=>{n.get(this,t.DATA_STORE.verifyInApp),e.addPaddingToLinks(),e.actionsButtons.showCancel().showNext(!1).setNextCallBack(),this.dataToken={eligibleMobileDeviceName:this.optionsOTPData.inAppDeviceList[0].digitalDeviceName};const i=this.dataToken.eligibleMobileDeviceName;let s={header:this.identityVerificationHeader,title:i?r.set(this,"notificationSentInApplicationHeader","USER_DEVICE",this.dataToken):this.notificationSentInApplicationHeader,subTitle:this.notificationSentInApplicationMessage,iconExists:!0,icon:`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_mobile_notification_featured.svg`,iconAlt:this.requestInApplicationVerificationLogoAda&&this.requestInApplicationVerificationLogoAda!==t.MISSING_LOGO_ALT_TEXT_STRING?this.requestInApplicationVerificationLogoAda:t.INAPP_PUSH_LOGO};e.setHeader(s),this.warning.set(),this.poll.clear(),this.poll.do(this.invokerData.relayTokenIdentifier),e.setShowSpinner(!1)},this.onDestroy=()=>{this.poll.clear(),this.warning.clear()},this.poll={do:(n,i=t.POLLING_INTERVAL)=>{this.pollDataTimeoutID=setTimeout((()=>{e.requestCaasStatus({"communication-method-type-code":t.COMMUNICATION_METHOD_TYPE.INAPP.CODE_STATUS,"relay-token-identifier":n})}),1e3*Math.min(60,i))},clear:()=>{this.pollDataTimeoutID&&(clearTimeout(this.pollDataTimeoutID),this.pollDataTimeoutID=null)}},this.warning={set:()=>{this.mdsAlert={showAlert:!0,alertProperties:{variant:"soft",alertTitle:"",accessibleTextIcon:this.warningAda}},this.expiredWarningTimeoutId=setTimeout((()=>{this.mdsAlert.alertProperties.alertTitle=r.get(this,t.CONTENT_VARIATIONS.NOTIFICATION_SENT.INAPP_ERROR_HEADER,t.CONTENT_VARIATIONS.NOTIFICATION_SENT.WILL_EXPIRE),e.setMdsAlert(this.mdsAlert)}),1e3*t.TWO_MINUTE_WARNING_INTERVAL)},clear:()=>{this.expiredWarningTimeoutId&&(clearTimeout(this.expiredWarningTimeoutId),this.expiredWarningTimeoutId=null),this.mdsAlert.showAlert=!1,e.setMdsAlert(this.mdsAlert)}},this.response={handleResponse:e=>{var t={BAD_TOKEN:this.response.routeToErrorPage,DEFAULT:this.response.routeToErrorPage,DENIED:this.response.failure,DENIED_LOGOUT:this.response.failure,EXPIRED:this.response.expired,FAILURE:this.response.routeToErrorPage,PENDING:this.response.pending,RE_CHALLENGED:this.response.rechallenge,SUCCESS:this.response.success};(t[e.tokenVerificationStatusCode]||t.DEFAULT)(e)},hasToken:e=>!(e.tokenVerificationStatusCode===t.INAPP_POLLING_TOKEN_RESPONSES.PENDING&&!e.relayTokenIdentifier)&&!(e.tokenVerificationStatusCode===t.INAPP_POLLING_TOKEN_RESPONSES.SUCCESS&&!e.oneTimeTokenIdentifier),success:i=>{if(this.response.hasToken(i))if(n.wipe(),e.dialog.closeDialog(),i.otpPrefix=t.COMMUNICATION_METHOD_TYPE.INAPP.OTP_PREFIX,e.setUserCompletedChallenge(),this.isScamFlowAction(i)){var r=e.getZellRequestParams(),s={cti:this.optionsOTPData.challengeTokenIdentifier,rai:r.challengeIdentifier,cf:"Y",communicationCallBack:r.communicationCallBack};e.navigation.routeToSpaas(s)}else e.navigation.routeToParent(t.SUCCESS_MESSAGE_TYPE,t.RESPONSE_CODES.SUCCESS,i);else this.response.failure(i)},pending:n=>{if(this.response.hasToken(n)){var i=n.retryWaitSecondCount;if(!i){i=t.POLLING_INTERVAL;var r={type:t.ERROR_MESSAGE_TYPE,message:t.POLLING_INTERVAL_SERVER_ERROR_MESSAGE};this.communicationCallBack?e.privateState(this.communicationCallBack,{privateDataObject:r}):e.handleClientCommunication({privateDataObject:r})}this.poll.do(n.relayTokenIdentifier,i)}else this.response.failure(n)},rechallenge:t=>{const n=t.authenticationRechallengeIdentifier;n?e.requestRechallenge(n):this.response.failure(t)},failure:n=>{n.tokenVerificationStatusCode===t.INAPP_POLLING_TOKEN_RESPONSES.LOGOUT?e.navigation.routeToParent(t.ERROR_MESSAGE_TYPE,t.RESPONSE_CODES.LOGOUT,n):e.navigation.routeToParent(t.ERROR_MESSAGE_TYPE,t.RESPONSE_CODES.FAILURE,n)},routeToErrorPage:i=>{this.errorData=i,n.set(this,t.DATA_STORE.error),e.navigation.intraRouter(t.CHALLENGE_ROUTES.error)},expired:()=>{this.mdsAlert={showAlert:!0,alertProperties:{variant:"error",alertTitle:r.get(this,"notificationSentInApplicationErrorHeader","IDENTIFICATION_CODE_EXPIRED"),accessibleTextIcon:this.errorAnnouncementAda}},e.setMdsAlert(this.mdsAlert)}},this.requestAnotherNotification=()=>{this.poll.clear(),this.warning.clear(),e.navigation.intraRouter(t.CHALLENGE_ROUTES.inAppSend)}}})),define("caas/components/body/inAppPull",["require","caas/shared/generalMixin","caas/lib/constants","caas/lib/dataStore"],(function(e){"use strict";var t=e("caas/shared/generalMixin"),n=e("caas/lib/constants"),i=e("caas/lib/dataStore");return function(e){var r=e.dcu.dynamicContent;this.onInit=()=>{e.setMdsAlert(!1),t.call(this,e),e.globalContentMixin.call(this,["errorAnnouncementAda"]),this.model.onValue("invokerData",(e=>{e&&this.invokerSuccessHandler(e)}),{initial:!1}),this.model.onValue("invokerError",(e=>{e&&this.invokerFailureHandler(e)}),{initial:!1})},this.onReady=()=>{i.get(this,n.DATA_STORE.inAppPull),e.addPaddingToLinks(),e.setShowSpinner(!1),e.actionsButtons.showCancel().showNext().setNextCallBack(this.requestSendNotification);const t=e.getUserAbandonedChallenge()||e.getUserCompletedChallenge(),s={header:this.identityVerificationHeader,title:r.get(this,"requestInApplicationPullHeader"),subTitle:r.get(this,"requestInApplicationPullMessage"),iconExists:!0,icon:`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_mobile_phone_featured.svg`,iconAlt:this.requestInApplicationVerificationLogoAda&&this.requestInApplicationVerificationLogoAda!==n.MISSING_LOGO_ALT_TEXT_STRING?this.requestInApplicationVerificationLogoAda:n.INAPP_PULL_LOGO};t&&(s.title=r.get(this,"requestInApplicationPullHeader",n.ADDITIONAL)),this.eligibleMobileDeviceName=this.optionsOTPData.inAppPullDeviceList[0].digitalDeviceName,e.setHeader(s),this.showRechallengeAlert()},this.requestSendNotification=()=>{e.setShowSpinner(!0),e.requestCaasInvoker({challengeTokenIdentifier:this.optionsOTPData.challengeTokenIdentifier,communicationMethodTypeCode:n.COMMUNICATION_METHOD_TYPE.INAPP_PULL.CODE,contactReferenceIdentifier:this.optionsOTPData.inAppPullDeviceList[0].oneTimeDeviceIdentifier})},this.invokerSuccessHandler=t=>{e.addPaddingToLinks(),e.setShowSpinner(!1),t.errorCode===n.CODE.INVOKER_RESPONSE.VOLUME_CONTROL?(this.errorData=t,this.errorData.errorCode=n.IN_APP_INVOKER_ERROR.VOLUME_CONTROL,i.set(this,n.DATA_STORE.error),e.navigation.intraRouter(n.CHALLENGE_ROUTES.error)):(this.invokerData=t,i.set(this,n.DATA_STORE.inAppPull),e.navigation.intraRouter(n.CHALLENGE_ROUTES.inAppPullVerify))},this.invokerFailureHandler=t=>{e.addPaddingToLinks(),e.setShowSpinner(!1),this.errorData=t,i.set(this,n.DATA_STORE.error),e.navigation.intraRouter(n.CHALLENGE_ROUTES.error)}}})),define("caas/components/body/inAppPullVerify",["require","caas/lib/constants","caas/lib/dataStore","caas/shared/generalMixin"],(function(e){"use strict";var t=e("caas/lib/constants"),n=e("caas/lib/dataStore"),i=e("caas/shared/generalMixin");return function(e){var r=e.dcu.dynamicContent;this.onInit=()=>{i.call(this,e),e.globalContentMixin.call(this,["errorAnnouncementAda","warningAda"]),this.model.onValue("statusData",(e=>{e&&this.response.handleResponse(e)}),{initial:!1}),this.model.onValue("statusError",(e=>{e&&this.response.handleResponse(e)}),{initial:!1})},this.onReady=()=>{n.get(this,t.DATA_STORE.verifyInApp),this.jpmEligibleBrand="PBN"===this.optionsOTPData.inAppPullDeviceList[0].channelIdentifier||"PBD"===this.optionsOTPData.inAppPullDeviceList[0].channelIdentifier,e.addPaddingToLinks(),e.actionsButtons.showCancel().showNext(!1).setNextCallBack(),this.eligibleMobileDeviceName=this.jpmEligibleBrand?this.optionsOTPData.inAppPullDeviceList[0].digitalDeviceName+` ${r.get(this,"jpmMobileAppLabel")}`:this.optionsOTPData.inAppPullDeviceList[0].digitalDeviceName,this.showRestartMethodLink=!1;let i={header:this.identityVerificationHeader,title:r.get(this,"notificationOpenDeviceHeader"),subTitle:r.get(this,"notificationOpenDeviceMessage"),iconExists:!0,icon:`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_mobile_phone_featured.svg`,iconAlt:this.requestInApplicationVerificationLogoAda&&this.requestInApplicationVerificationLogoAda!==t.MISSING_LOGO_ALT_TEXT_STRING?this.requestInApplicationVerificationLogoAda:t.INAPP_PULL_LOGO};e.setHeader(i),this.warning.set(),this.poll.clear(),this.poll.do(this.invokerData.relayTokenIdentifier),e.setShowSpinner(!1)},this.onDestroy=()=>{this.poll.clear(),this.warning.cancel(),this.warning.clear()},this.poll={do:(n,i=t.POLLING_INTERVAL)=>{this.pollDataTimeoutID=setTimeout((()=>{e.requestCaasStatus({"communication-method-type-code":t.COMMUNICATION_METHOD_TYPE.INAPP_PULL.CODE_STATUS,"relay-token-identifier":n})}),1e3*Math.min(60,i))},clear:()=>{this.pollDataTimeoutID&&(clearTimeout(this.pollDataTimeoutID),this.pollDataTimeoutID=null)}},this.warning={set:()=>{this.mdsAlert={showAlert:!0,alertProperties:{variant:"soft",alertTitle:"",accessibleTextIcon:this.warningAda}},this.expiredWarningOneMinTimeoutId=setTimeout((()=>{this.mdsAlert.alertProperties.alertTitle=r.get(this,"notificationTimeRemainingAlertWarning"),e.setMdsAlert(this.mdsAlert)}),1e3*t.TWO_MINUTE_WARNING_INTERVAL)},cancel:()=>{this.expiredWarningOneMinTimeoutId&&(clearTimeout(this.expiredWarningOneMinTimeoutId),this.expiredWarningOneMinTimeoutId=null)},clear:()=>{this.mdsAlert.showAlert=!1,e.setMdsAlert(this.mdsAlert)}},this.response={handleResponse:e=>{var t={DEFAULT:this.response.routeToErrorPage,DENIED:this.response.failure,DENIED_LOGOUT:this.response.failure,EXPIRED:this.response.expired,FAILURE:this.response.failure,PENDING:this.response.pending,RE_CHALLENGED:this.response.rechallenge,SUCCESS:this.response.success,CANCELLED:this.response.canceled};(t[e.tokenVerificationStatusCode]||t.DEFAULT)(e)},hasToken:e=>!(e.tokenVerificationStatusCode===t.INAPP_POLLING_TOKEN_RESPONSES.PENDING&&!e.relayTokenIdentifier)&&!(e.tokenVerificationStatusCode===t.INAPP_POLLING_TOKEN_RESPONSES.SUCCESS&&!e.oneTimeTokenIdentifier),success:i=>{if(this.response.hasToken(i))if(n.wipe(),e.dialog.closeDialog(),i.otpPrefix=t.COMMUNICATION_METHOD_TYPE.INAPP_PULL.OTP_PREFIX,e.setUserCompletedChallenge(),this.isScamFlowAction(i)){var r=e.getZellRequestParams(),s={cti:this.optionsOTPData.challengeTokenIdentifier,rai:r.challengeIdentifier,cf:"Y",communicationCallBack:r.communicationCallBack};e.navigation.routeToSpaas(s)}else e.navigation.routeToParent(t.SUCCESS_MESSAGE_TYPE,t.RESPONSE_CODES.SUCCESS,i);else this.response.failure(i)},pending:n=>{if(this.response.hasToken(n)){var i=n.retryWaitSecondCount;if(!i){i=t.POLLING_INTERVAL;var r={type:t.ERROR_MESSAGE_TYPE,message:t.POLLING_INTERVAL_SERVER_ERROR_MESSAGE};this.communicationCallBack?e.privateState(this.communicationCallBack,{privateDataObject:r}):e.handleClientCommunication({privateDataObject:r})}this.poll.do(n.relayTokenIdentifier,i)}else this.response.failure(n)},rechallenge:t=>{const n=t.authenticationRechallengeIdentifier;n?e.requestRechallenge(n):this.response.failure(t)},failure:n=>{n.tokenVerificationStatusCode===t.INAPP_POLLING_TOKEN_RESPONSES.LOGOUT?e.navigation.routeToParent(t.ERROR_MESSAGE_TYPE,t.RESPONSE_CODES.LOGOUT,n):e.navigation.routeToParent(t.ERROR_MESSAGE_TYPE,t.RESPONSE_CODES.FAILURE,n)},routeToErrorPage:i=>{this.errorData=i,n.set(this,t.DATA_STORE.error),e.navigation.intraRouter(t.CHALLENGE_ROUTES.error)},expired:()=>{this.showRestartMethodLink=!0,this.mdsAlert={showAlert:!0,alertProperties:{variant:"error",alertTitle:r.get(this,"openDeviceErrorHeader","EXPIRED"),accessibleTextIcon:this.errorAnnouncementAda}},e.addPaddingToLinks(),e.setMdsAlert(this.mdsAlert),this.warning.cancel()},canceled:()=>{e.navigation.routeToParent(t.CANCEL_TYPE,t.RESPONSE_CODES.CANCELLED,t.USER_CANCELLED_MESSAGE)}},this.requestRestartMethod=()=>{this.poll.clear(),this.warning.cancel(),this.warning.clear(),e.navigation.intraRouter(t.CHALLENGE_ROUTES.inAppPull)},this.requestHavingTrouble=()=>{}}})),define("caas/components/introduction",[],(function(){"use strict";return function(e){let t=this;const n=e=>{(e=e||{}).header?t.introHeaderContent=e:e.alertProperties&&(t.introAlertContent=e)};t.setHeader=n=>{((n=n||{}).header||n.title)&&(e.hybrid&&e.hybridHelper&&(n.header=""),t.viewIntroduction=n)},t.setMdsAlert=e=>{t.viewMdsAlert=!1,e&&e.alertProperties&&(t.viewMdsAlert=e)},t.onInit=function(){t.onData("viewMdsAlert",n,{init:!1}),t.onData("viewIntroduction",n,{init:!1})}}})),define("caas/components/body/landing",[],(function(){"use strict";return function(){}})),define("caas/shared/mfaMixin",[],(function(){"use strict";return function(e){this.setProgressBar=()=>{if(!this.progressBarStepPercentageComplete){var t={type:e.WARNING_MESSAGE_TYPE,message:e.PROGRESS_BAR_WARNING_MESSAGE};this.context.privateState(this.communicationCallBack,{privateDataObject:t}),this.progressBarStepPercentageComplete=e.DEFAULT_PERCENTAGE}},this.requestLearnMore=()=>{this.openLearnMoreFAQ=!0},this.requestCancelLearnMore=()=>{this.openLearnMoreFAQ=!1},this.requestAnotherMethod=()=>{"dashboard"===(this.context.routeToObject().app.name||"")?this.context.navigation.routeToParent("navigation",e.CHALLENGE_ROUTES.overlayChallenge):this.context.navigation.routeToParent("error",e.CODE.USER.ANOTHER_METHOD)}}})),define("caas/components/caasContainer",["require","caas/shared/mfaMixin","caas/lib/constants","caas/lib/dataStore"],(function(e){"use strict";var t=e("caas/shared/mfaMixin"),n=e("caas/lib/constants"),i=e("caas/lib/dataStore");return function(e){this.onInit=()=>{t.call(this,n),this.loaded=!1,this.model.onValue("optionsData",(e=>{e&&this.optionsSuccessHandler(e)}),{initial:!1}),this.model.onValue("optionsError",(e=>{e&&this.optionsFailureHandler(e)}),{initial:!1})},this.onReady=()=>{i.get(this,n.DATA_STORE.caasContainer)},this.optionsSuccessHandler=t=>{t=t||{},this.loaded=!0,this.optionsOTPData=t,i.set(this,n.DATA_STORE.caasContainer);var r={INAPP:n.CHALLENGE_ROUTES.sendInApp,OTP:n.CHALLENGE_ROUTES.routeToParent,EMAIL:n.CHALLENGE_ROUTES.routeToParent,VOICE:n.CHALLENGE_ROUTES.routeToParent,DEFAULT:n.CHALLENGE_ROUTES.routeToParent},s=r[t.preferredContactMethodText]||r[this.getDefaultRoute(t)];e.navigation.router(s)},this.getDefaultRoute=e=>this.isInAppValid(e)?"INAPP":"DEFAULT",this.isInAppValid=e=>{let t=!1;return t=Boolean(e.inAppDeviceList&&e.inAppDeviceList[0]&&e.inAppDeviceList[0].oneTimeDeviceIdentifier),t},this.optionsFailureHandler=t=>{e.navigation.routeToParent(n.ERROR_MESSAGE_TYPE,n.CODE.SYSTEM.FAILURE,t)}}})),define("caas/components/body/options",["require","caas/shared/generalMixin","caas/lib/constants","caas/lib/dataStore","caas/shared/helper"],(function(e){"use strict";var t=e("caas/shared/generalMixin"),n=e("caas/lib/constants"),i=e("caas/lib/dataStore"),r=e("caas/shared/helper").isEmpty;return function(e){var s=e.dcu.dynamicContent;this.onInit=()=>{t.call(this,e),this.registerPrefixHandlers(),this.showCallUs=!1},this.onReady=()=>{i.get(this,n.DATA_STORE.options),this.showCallUs=this.optionsOTPData.challengeMethodsDisplay.showAll.includes("CALL_US"),this.source=n.CHALLENGE_ROUTES.options,e.addPaddingToLinks(),e.actionsButtons.showCancel().showNext(!1);let t=n.CONTENT_VARIATIONS.OPTIONS;var r={initial:n.INITIAL,abandoned:n.ALTERNATE,completed:n.ADDITIONAL},s=!!e.getUserAbandonedChallenge()&&"abandoned",a=!!e.getUserCompletedChallenge()&&"completed",o=r[s||a||"initial"];let c={header:this.identityVerificationHeader,title:this.setContentFor(t.OPTIONS_HEADER,o),subTitle:this.setContentFor(t.OPTIONS_ADVISORY,o),iconExists:!1,icon:""};e.setHeader(c),a&&(this.mdsAlert={showAlert:!0,alertProperties:{variant:"success",alertTitle:this.identityVerificationOptionsMessage,accessibleTextIcon:this.checkmarkAda}},e.setMdsAlert(this.mdsAlert)),this.resetPrefixErrorContent(),this.showRechallengeAlert()},this.inAppDeviceList=()=>{r(this.data.inAppDeviceList)||(this.optionMap[n.SEQUENCE_LIST.inApp]={id:n.CHALLENGE_ROUTES.inAppSend,sequenceId:n.SEQUENCE_LIST.inApp,label:s.get(this,"requestInApplicationVerificationLabel"),description:s.get(this,"requestInApplicationVerificationMessage"),logo:`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_mobile_notification_supporting_circle.svg`,logoAlt:s.get(this,"requestInApplicationVerificationLogoAda"),onClick:"requestInApplicationVerification"})},this.inAppPullDeviceList=()=>{r(this.data.inAppPullDeviceList)||(this.optionMap[n.SEQUENCE_LIST.inAppPull]={id:n.CHALLENGE_ROUTES.inAppPull,sequenceId:n.SEQUENCE_LIST.inAppPull,label:s.get(this,"requestInApplicationPullVerificationLabel"),description:s.get(this,"requestInApplicationPullVerificationMessage"),logo:`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_mobile_phone_supporting_circle.svg`,logoAlt:s.get(this,"requestInApplicationVerificationLogoAda"),onClick:"requestInApplicationPullVerification"})},this.cardList=()=>{this.debitCardRiskLevel=e.getDebitCardRiskLevel(),r(this.data.cardList)||(this.optionMap[this.debitCardRiskLevel.toString()]={id:n.CHALLENGE_ROUTES.debitCardPin,sequenceId:n.SEQUENCE_LIST.debitCardPin,label:s.get(this,"requestDebitPinVerificationLabel"),description:s.get(this,"requestDebitPinVerificationMessage"),logo:`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_card_supporting_circle.svg`,logoAlt:s.get(this,"requestDebitPinVerificationLogoAda"),onClick:"requestDebitPinVerification"})},this.phoneList=()=>{if(!r(this.data.phoneList)){let t=this.data.phoneList.filter((e=>e.smsEnabledIndicator));r(t)||(this.optionMap[n.SEQUENCE_LIST.sms]={id:n.CHALLENGE_ROUTES.sms,sequenceId:n.SEQUENCE_LIST.sms,label:s.get(this,"requestTextVerificationLabel"),description:s.get(this,"requestTextVerificationMessage"),logo:`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_mobile_message_supporting_circle.svg`,logoAlt:s.get(this,"requestTextVerificationLogoAda"),onClick:"requestTextVerification"}),r(this.data.phoneList)||(this.optionMap[n.SEQUENCE_LIST.voice]={id:n.CHALLENGE_ROUTES.voice,sequenceId:n.SEQUENCE_LIST.voice,label:s.get(this,"requestReceiveCallVerificationLabel"),description:s.get(this,"requestReceiveCallVerificationMessage"),logo:`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_support_call_center_featured_circle.svg`,logoAlt:s.get(this,"requestReceiveCallVerificationLogoAda"),onClick:"requestReceiveCallVerification"})}},this.emailList=()=>{this.data&&!r(this.data.emailList)&&(this.optionMap[n.SEQUENCE_LIST.email]={id:n.CHALLENGE_ROUTES.email,sequenceId:n.SEQUENCE_LIST.email,label:s.get(this,"requestEmailVerificationLabel"),description:s.get(this,"requestEmailVerificationMessage"),logo:`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_email_supporting_circle.svg`,logoAlt:s.get(this,"requestEmailVerificationLogoAda"),onClick:"requestEmailVerification"})},this.switchListOptions=e=>{var t={[n.REQ_LIST.cardList]:this.cardList,[n.REQ_LIST.emailList]:this.emailList,[n.REQ_LIST.inAppDeviceList]:this.inAppDeviceList,[n.REQ_LIST.inAppPullDeviceList]:this.inAppPullDeviceList,[n.REQ_LIST.phoneList]:this.phoneList};t[e]&&t[e]()},this.getOptionsList=(e={},t=[])=>{let n=[];return e&&!r(e)&&t&&!r(t)&&(n=t.map((t=>e[t])).filter((e=>e&&!r(e)))),n},this.convertToList=(t={})=>(this.area=e.area,this.optionMap={},this.data=t,Object.keys(this.data).map(this.switchListOptions),this.optionMap),this.requestInApplicationVerification=()=>{e.navigation.intraRouter(n.CHALLENGE_ROUTES.inAppSend)},this.requestInApplicationPullVerification=()=>{e.navigation.intraRouter(n.CHALLENGE_ROUTES.inAppPull)},this.requestDebitPinVerification=()=>{e.navigation.intraRouter(n.CHALLENGE_ROUTES.debitCardPin)},this.requestTextVerification=()=>{e.navigation.intraRouter(n.CHALLENGE_ROUTES.sms)},this.requestReceiveCallVerification=()=>{e.navigation.intraRouter(n.CHALLENGE_ROUTES.voice)},this.requestEmailVerification=()=>{e.navigation.intraRouter(n.CHALLENGE_ROUTES.email)},this.requestIdentityVerificationSupport=()=>{e.navigation.intraRouter(n.CHALLENGE_ROUTES.callUs)}}})),define("caas/shared/cancelDialogMixin",["require","appkit-utilities/analytics/overlay"],(function(e){"use strict";var t=e("appkit-utilities/analytics/overlay");return function(e){const n=e.CANCEL_CONFIRMATION_MODAL;this.requestPreviousPage=()=>{this.openCancelDialog=!1,t.hideOverlay(this,n.OVERLAY,n.ACTIONS.REQUEST_PREVIOUS)},this.requestExitConfirmation=function(){this.openCancelDialog=!0,t.showOverlay(this,n.OVERLAY,n.ACTIONS.REQUEST_EXIT_CONFIRMATION)},this.cancelIdentityVerification=()=>{this.poll.clear(),this.warning.clear(),this.openCancelDialog=!1,this.context.navigation.router(e.CHALLENGE_ROUTES.sendInApp)},this.cancelDebitPin=()=>{this.openCancelDialog=!1,t.hideOverlay(this,n.OVERLAY,n.ACTIONS.CANCEL_PIN_VERIFICATION),this.context.navigation.routeToParent(e.ERROR_MESSAGE_TYPE,e.CODE.VERIFY_RESPONSE.CANCELLED,e.USER_CANCELLED_MESSAGE)}}})),define("caas/components/sendInApp",["require","caas/shared/mfaMixin","caas/shared/cancelDialogMixin","caas/lib/constants","caas/lib/dataStore"],(function(e){"use strict";var t=e("caas/shared/mfaMixin"),n=e("caas/shared/cancelDialogMixin"),i=e("caas/lib/constants"),r=e("caas/lib/dataStore");return function(e){this.onInit=()=>{t.call(this,i),n.call(this,i),this.model.onValue("invokerData",(e=>{e&&this.invokerSuccessHandler(e)}),{initial:!1}),this.model.onValue("invokerError",(e=>{e&&this.invokerFailureHandler(e)}),{initial:!1})},this.onReady=()=>{r.get(this,i.DATA_STORE.sendInApp),this.showCancelButton=!1,this.showProgressBar&&this.setProgressBar(),this.imageUrl=e.config.publicUrl+i.INAPP_IMAGE_URL,this.showExpiredError&&e.dcu.dynamicSettings.set(this,i.CONTENT_VARIATIONS.NOTIFICATION_SENT.INAPP_ERROR_HEADER,i.CONTENT_VARIATIONS.NOTIFICATION_SENT.EXPIRED),e.setShowSpinner(!1)},this.requestSendNotification=()=>{e.requestInvoker({challengeTokenIdentifier:this.optionsOTPData.challengeTokenIdentifier,communicationMethodTypeCode:i.COMMUNICATION_METHOD_TYPE.INAPP.CODE,contactReferenceIdentifier:this.optionsOTPData.inAppDeviceList[0].oneTimeDeviceIdentifier})},this.invokerSuccessHandler=t=>{this.invokerData=t,this.showExpiredError=!1,r.set(this,["invokerData","showExpiredError"]),e.navigation.router(i.CHALLENGE_ROUTES.sendNotification)},this.invokerFailureHandler=t=>{e.navigation.routeToParent(i.ERROR_MESSAGE_TYPE,i.CODE.SYSTEM.FAILURE,t)}}})),define("caas/components/body/sms",["require","caas/lib/constants","caas/lib/dataStore","caas/shared/generalMixin","caas/shared/helper"],(function(e){"use strict";var t=e("caas/lib/constants"),n=e("caas/lib/dataStore"),i=e("caas/shared/generalMixin"),r=e("caas/shared/helper");return function(e){const s=()=>{this.smsNumbers=this.optionsOTPData.phoneList||[],this.smsNumbers=this.smsNumbers.filter((e=>e.smsEnabledIndicator)),this.selectedContactID="",this.smsNumbers.length>0&&this.smsNumbers.length!==t.RADIO_BUTTON_LIST_SIZE&&(this.selectedContactID=(this.smsNumbers[0].contactReferenceIdentifier||"").toString()),this.chooseSmsNumberLabel=this.smsNumbers&&this.smsNumbers.length>1?this.setContentFor("requestTextChoiceLabel","MULTIPLE"):this.setContentFor("requestTextChoiceLabel","")},a=()=>(this.contactIdentifier=parseInt(this.selectedContactID),this.contactIdentifier?(this.smsRadioGroupError="",!0):(this.smsRadioGroupError=this.setContentFor("eligibleTextContactsError","NO_CONTACT_SELECTED"),!1));this.requestSendACode=()=>{if(!a())return;const n=this.smsNumbers.find((e=>e.contactReferenceIdentifier===this.contactIdentifier));n&&(this.eligibleTextContactDisplayNumber=n.last4DgtsPhoneNumber),e.setShowSpinner(!0),e.requestCaasInvoker({challengeTokenIdentifier:this.optionsOTPData.challengeTokenIdentifier,communicationMethodTypeCode:t.COMMUNICATION_METHOD_TYPE.SMS.CODE,contactReferenceIdentifier:this.contactIdentifier})},this.onPhoneNumberSelect=e=>{r.getValueFromEvent(e)&&(this.selectedContactID=r.getValueFromEvent(e),a())},this.onInit=()=>{i.call(this,e),e.globalContentMixin.call(this,["requiredAda"]),this.registerInvokerHandlers(),this.registerPrefixHandlers()},this.onReady=()=>{n.get(this,t.DATA_STORE.sms),this.source=t.CHALLENGE_ROUTES.sms,e.addPaddingToLinks(),e.actionsButtons.showCancel().showNext().setNextCallBack(this.requestSendACode),this.showCallUs=this.optionsOTPData.challengeMethodsDisplay.showAll.includes("CALL_US"),this.setOTPContentVariations(t.OTP_METHODS.SMS,`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_mobile_message_featured.svg`,this.requestTextVerificationLogoAda&&this.requestTextVerificationLogoAda!==t.MISSING_LOGO_ALT_TEXT_STRING?this.requestTextVerificationLogoAda:t.SMS_LOGO),s(),this.setContentVariationsOther(t.OTP_METHODS.SMS,this.smsNumbers),this.resetPrefixErrorContent(),this.showRechallengeAlert(),e.setShowSpinner(!1)}}})),define("caas/components/verifyInApp",["require","caas/shared/mfaMixin","caas/shared/cancelDialogMixin","caas/lib/constants","caas/lib/dataStore","common/lib/ada/setFocus"],(function(e){"use strict";var t=e("caas/shared/mfaMixin"),n=e("caas/shared/cancelDialogMixin"),i=e("caas/lib/constants"),r=e("caas/lib/dataStore"),s=e("common/lib/ada/setFocus");return function(e){this.onInit=()=>{t.call(this,i),n.call(this,i),this.model.onValue("statusData",(e=>{e&&this.response.handleResponse(e)}),{initial:!1}),this.model.onValue("statusError",(e=>{e&&this.response.handleResponse(e)}),{initial:!1})},this.onReady=()=>{r.get(this,i.DATA_STORE.verifyInApp),this.showProgressBar&&this.setProgressBar(),this.imageUrl=e.config.publicUrl+i.INAPP_IMAGE_URL,this.showExpiredError=!1,this.warning.set(),this.poll.clear(),this.poll.do(this.invokerData.relayTokenIdentifier),e.setShowSpinner(!1)},this.onDestroy=()=>{this.warning.clear()},this.poll={do:(t,n=i.POLLING_INTERVAL)=>{this.pollDataTimeoutID=setTimeout((()=>{e.requestStatus({"relay-token-identifier":t})}),1e3*Math.min(60,n))},clear:()=>{this.pollDataTimeoutID&&(clearTimeout(this.pollDataTimeoutID),this.pollDataTimeoutID=null)}},this.warning={set:()=>{this.showExpiredWarning=!1,this.expiredWarningTimeoutId=setTimeout((()=>{this.showExpiredWarning=!0,s("mds-alert[variant=error]"),e.dcu.dynamicSettings.set(this,i.CONTENT_VARIATIONS.NOTIFICATION_SENT.INAPP_ERROR_HEADER,i.CONTENT_VARIATIONS.NOTIFICATION_SENT.WILL_EXPIRE)}),1e3*i.TWO_MINUTE_WARNING_INTERVAL)},clear:()=>{this.expiredWarningTimeoutId&&(clearTimeout(this.expiredWarningTimeoutId),this.expiredWarningTimeoutId=null)}},this.response={handleResponse:e=>{var t={SUCCESS:this.response.success,PENDING:this.response.pending,CANCELLED:this.response.failure,DENIED:this.response.failure,EXPIRED:this.response.expired,FAILURE:this.response.failure,DEFAULT:this.response.failure};(t[e.tokenVerificationStatusCode]||t.DEFAULT)(e)},hasToken:e=>!(e.tokenVerificationStatusCode===i.INAPP_POLLING_TOKEN_RESPONSES.PENDING&&!e.relayTokenIdentifier)&&!(e.tokenVerificationStatusCode===i.INAPP_POLLING_TOKEN_RESPONSES.SUCCESS&&!e.oneTimeTokenIdentifier),success:t=>{this.response.hasToken(t)?(e.setShowSpinner(!0),r.wipe(),t.otpPrefix=i.COMMUNICATION_METHOD_TYPE.INAPP.OTP_PREFIX,e.navigation.routeToParent(i.SUCCESS_MESSAGE_TYPE,i.CODE.INAPP.SUCCESS,t)):this.response.failure(t)},pending:t=>{if(this.response.hasToken(t)){var n=t.retryWaitSecondCount;if(!n){n=i.POLLING_INTERVAL;var r={type:i.ERROR_MESSAGE_TYPE,message:i.POLLING_INTERVAL_SERVER_ERROR_MESSAGE};e.privateState(this.communicationCallBack,{privateDataObject:r})}this.poll.do(t.relayTokenIdentifier,n)}else this.response.failure(t)},failure:t=>{"CANCELLED"===t.tokenVerificationStatusCode?e.navigation.routeToParent(i.ERROR_MESSAGE_TYPE,i.CODE.INAPP.CANCELLED,t):e.navigation.routeToParent(i.ERROR_MESSAGE_TYPE,i.CODE.INAPP.FAILURE,t)},expired:()=>{this.showExpiredError=!0,s("mds-alert[variant=error]"),r.set(this,["showExpiredError"]),e.setShowSpinner(!0),e.navigation.router(i.CHALLENGE_ROUTES.sendInApp)}},this.requestAnotherNotification=()=>{this.poll.clear(),this.warning.clear(),e.navigation.router(i.CHALLENGE_ROUTES.sendInApp)}}})),define("caas/components/body/verifyOTP",["require","caas/lib/constants","caas/lib/dataStore","caas/shared/generalMixin","caas/shared/helper","blue-ui/utilities/isAndroid"],(function(e){"use strict";var t=e("caas/lib/constants"),n=e("caas/lib/dataStore"),i=e("caas/shared/generalMixin"),r=e("caas/shared/helper"),s=e("blue-ui/utilities/isAndroid"),a=r.getNested;return function(e){const r=e.dcu.dynamicContent,o=()=>{let n=this.source&&t.VERIFY_OTP_CONTENT[this.source];if(n){let e=n.DATA_TOKEN;if(e){let t={};t[e]=this[e],r.set(this,n.ALERT_TITLE,t)}this.linkAction=n.LINK_ACTION,this.linkLabel=this[n.LINK_LABEL]}this.mdsAlert={showAlert:!0,alertProperties:{variant:"success",alertTitle:n&&this[n.ALERT_TITLE],message:n&&this[n.ALERT_MESSAGE],accessibleTextIcon:this.checkmarkAda}},("sms"===this.source&&this.eligibleTextContactDisplayNumber||"voice"===this.source&&this.eligibleReceiveCallContactDisplayNumber||"email"===this.source&&this.eligibleEmailContactMasked)&&e.setMdsAlert(this.mdsAlert),this.invokerCallSuccessful=!1};this.onInit=()=>{i.call(this,e),e.globalContentMixin.call(this,["checkmarkAda","hideLabel","showLabel"]),this.customOtpFeatureFlag=e.config.featureCaasCustomOTP,this.model.onValue("verifyData",(e=>{e&&this.verifyResponseHandler.handleStatusCode(e)}),{initial:!1}),this.model.onValue("verifyError",(e=>{e&&this.otpFailureHandler(e)}),{initial:!1})},this.onReady=()=>{n.get(this,t.DATA_STORE.verifyOTP),this.otpInput="",this.otpInputError="",this.otpInputMDSError=!1,e.addPaddingToLinks(),e.actionsButtons.showCancel().showNext().setNextCallBack(this.verifyOTPInput);let i={header:this.identityVerificationHeader,title:this.submitVerificationCodeHeader,subTitle:"",iconExists:!0,icon:`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_lock_locked_featured.svg`};e.setHeader(i),this.resetPrefixErrorContent(),o(),e.setShowSpinner(!1),this.OTPInputElements=new Array(8)},this.onDestroy=()=>{this.mdsAlert.showAlert=!1,e.setMdsAlert(this.mdsAlert)},this.onOTPBlur=e=>{this.otpInput=function(e){var t=a(e,"target")||a(e,"domEvent","target")||{};return a(t,"otpInput")||a(t,"value")}(e),this.otpValidator()},this.otpValidator=()=>this.otpInput?/^[0-9]+$/.test(this.otpInput)?8!==this.otpInput.length?(this.otpInputError=this.setContentFor(t.VERIFY_OTP_CONTENT.errors.CHALLENGE_VERIFICATION,t.VERIFY_OTP_CONTENT.errors.MINIMUM_LENGTH),!1):(this.otpInputError="",!0):(this.otpInputError=this.setContentFor(t.VERIFY_OTP_CONTENT.errors.CHALLENGE_VERIFICATION,t.VERIFY_OTP_CONTENT.errors.INVALID_CHARACTERS),!1):(this.otpInputError=this.setContentFor(t.VERIFY_OTP_CONTENT.errors.CHALLENGE_VERIFICATION,t.VERIFY_OTP_CONTENT.errors.EMPTY_INPUT),!1),this.otpFocusHandler=()=>{const t=document.querySelector("#content-block.caasContainer"),n=e.hybrid&&s();t&&n&&setTimeout((()=>{t.scrollTo(0,500)}),250)},this.customOTPValidator=()=>{let e=this.OTPInputElements,n=Array.isArray(e)?e.filter((e=>void 0!==e)):[];return this.otpInputMDSError?(this.otpInputError=this.setContentFor(t.VERIFY_OTP_CONTENT.errors.CHALLENGE_VERIFICATION,t.VERIFY_OTP_CONTENT.errors.INVALID_CHARACTERS),!1):8!==n.length?(this.otpInputError=this.setContentFor(t.VERIFY_OTP_CONTENT.errors.CHALLENGE_VERIFICATION,t.VERIFY_OTP_CONTENT.errors.MINIMUM_LENGTH),this.otpInputMDSError=!0,!1):(this.otpInputError="",!0)},this.clearOtpInput=()=>{this.otpInput="",this.OTPInputElements=new Array(8)},this.verifyOTPInput=()=>{let n,i,r;const s=this.customOtpFeatureFlag&&this.customOTPValidator();s&&(this.otpInput=this.OTPInputElements.join(""));if(!this.otpValidator()&&!s)return;e.setShowSpinner(!0);let a={};a[t.CHALLENGE_ROUTES.email]=t.COMMUNICATION_METHOD_TYPE.EMAIL.CODE,a[t.CHALLENGE_ROUTES.sms]=t.COMMUNICATION_METHOD_TYPE.SMS.CODE,a[t.CHALLENGE_ROUTES.voice]=t.COMMUNICATION_METHOD_TYPE.VOICE.CODE;const o=this.prefixData&&this.prefixData.communicationMethodTypeCode;n=o||a[this.source],r=this.prefixData?this.prefixData.oneTimePasswordPrefixText:this.invokerData?this.invokerData.oneTimePasswordPrefixText:null,i=this.contactIdentifier||-1,e.requestCaasVerify({challengeTokenIdentifier:this.optionsOTPData.challengeTokenIdentifier,communicationMethodTypeCode:n,contactReferenceIdentifier:i,otp:{oneTimeUserPasswordText:this.otpInput,oneTimePasswordPrefixText:r}})},this.verifyResponseHandler={handleStatusCode:(n={})=>{n.verificationStatusCode=n.verificationStatusCode||"DEFAULT",e.setShowSpinner(!1);const i=t.CODE.VERIFY_RESPONSE;var r={[i.SUCCESS]:this.verifyResponseHandler.success,[i.FAILURE]:this.verifyResponseHandler.failure,[i.MAX_ATTEMPTS]:this.verifyResponseHandler.maxAttempts,[i.VERIFY_LOCKED]:this.verifyResponseHandler.locked,[i.RE_CHALLENGE]:this.verifyResponseHandler.rechallenge,DEFAULT:this.verifyResponseHandler.failure};(r[n.verificationStatusCode]||r.DEFAULT)(n)},success:(i={})=>{if(n.wipe(),e.setUserCompletedChallenge(),this.isScamFlowAction(i)){var r=e.getRequestPrams(),s=e.getZellRequestParams(),a={cti:this.optionsOTPData.challengeTokenIdentifier,rai:r["challenge-identifier"],cf:"Y",communicationCallBack:s.communicationCallBack};e.navigation.routeToSpaas(a)}else e.navigation.routeToParent(t.SUCCESS_MESSAGE_TYPE,t.RESPONSE_CODES.SUCCESS,i)},rechallenge:t=>{n.clear(this,["contactIdentifier"]);const i=t.authenticationRechallengeIdentifier;i?e.requestRechallenge(i):this.otpFailureHandler(t)},failure:(e={})=>{n.clear(this,["contactIdentifier"]);var i=t.VERIFY_OTP_CONTENT.errors,r=i[e.verificationStatusCode]||i.VERIFY_FAILURE;this.otpInputError=this.setContentFor(i.INLINE_ERROR_KEY,r)},maxAttempts:(e={})=>{n.clear(this,["contactIdentifier"]),this.otpFailureHandler(e)},locked:n=>{e.navigation.routeToParent(t.ERROR_MESSAGE_TYPE,t.RESPONSE_CODES.LOCKED,n)}}}})),define("caas/components/body/voice",["require","caas/lib/constants","caas/lib/dataStore","caas/shared/generalMixin","caas/shared/helper"],(function(e){"use strict";var t=e("caas/lib/constants"),n=e("caas/lib/dataStore"),i=e("caas/shared/generalMixin"),r=e("caas/shared/helper").getNested;return function(e){function s(e){var t=r(e,"target")||r(e,"domEvent","target")||{};return r(t,"selectedRadio")||r(t,"value")}this.initData=()=>{this.voiceNumbers=this.optionsOTPData.phoneList||[],this.selectedContactID="",this.voiceNumbers.length>0&&this.voiceNumbers.length!==t.RADIO_BUTTON_LIST_SIZE&&(this.selectedContactID=(this.voiceNumbers[0].contactReferenceIdentifier||"").toString()),this.chooseVoiceNumberLabel=this.voiceNumbers&&this.voiceNumbers.length>1?this.setContentFor("requestReceiveCallChoiceLabel","MULTIPLE"):this.setContentFor("requestReceiveCallChoiceLabel","")},this.onInit=()=>{i.call(this,e),e.globalContentMixin.call(this,["requiredAda"]),this.registerInvokerHandlers(),this.registerPrefixHandlers()},this.onReady=()=>{n.get(this,t.DATA_STORE.voice),this.source=t.CHALLENGE_ROUTES.voice,e.addPaddingToLinks(),e.actionsButtons.showCancel().showNext().setNextCallBack(this.requestSendACode),this.setOTPContentVariations(t.OTP_METHODS.VOICE,`${e.config.mdsIllustrationsDomain}dist/cmb/svgs/mds_ill_support_call_center_featured.svg`,this.requestReceiveCallVerificationLogoAda&&this.requestReceiveCallVerificationLogoAda!==t.MISSING_LOGO_ALT_TEXT_STRING?this.requestReceiveCallVerificationLogoAda:t.VOICE_LOGO),this.showCallUs=this.optionsOTPData.challengeMethodsDisplay.showAll.includes("CALL_US"),this.initData(),this.setContentVariationsOther(t.OTP_METHODS.VOICE,this.voiceNumbers),this.resetPrefixErrorContent(),this.showRechallengeAlert(),e.setShowSpinner(!1)},this.onVoiceNumberSelect=e=>{s(e)&&(this.selectedContactID=s(e),this.voiceNumberSelectedValidator())},this.voiceNumberSelectedValidator=()=>(this.contactIdentifier=parseInt(this.selectedContactID),this.contactIdentifier?(this.voiceRadioGroupError="",!0):(this.voiceRadioGroupError=this.setContentFor("eligibleReceiveCallContactsError","NO_CONTACT_SELECTED"),!1)),this.requestSendACode=()=>{if(!this.voiceNumberSelectedValidator())return;const n=this.voiceNumbers.find((e=>e.contactReferenceIdentifier===this.contactIdentifier));n&&(this.eligibleReceiveCallContactDisplayNumber=n.last4DgtsPhoneNumber),e.setShowSpinner(!0),e.requestCaasInvoker({challengeTokenIdentifier:this.optionsOTPData.challengeTokenIdentifier,communicationMethodTypeCode:t.COMMUNICATION_METHOD_TYPE.VOICE.CODE,contactReferenceIdentifier:this.contactIdentifier})}}})),define("caas/dataProvider/requestSpaas",[],(function(){"use strict";var e;function t(t,n,i,r){e.logger.error("Intellegent Intercept Option Failure resData ",JSON.stringify(n)),r.set("interceptContainer.interceptOptionError",null),r.set("interceptContainer.interceptOptionError",n)}function n(t,n,i,r){e.logger.error("intellegent intercept handleInterceptPaymentPurposeFailure resData",JSON.stringify(n)),r.set("paymentPurpose.ppContentSuccessResponse",null),r.set("paymentPurpose.ppContentErrorResponse",n)}function i(t,n,i,r){e.logger.error("intellegent intercept handleInterceptContentFailure resData",JSON.stringify(n)),r.set("scamGenericMessage.contentErrorResponse",null),r.set("scamGenericMessage.contentErrorResponse",n)}return{init:function(t){e=t.context},mappers:{requestSpaas:{getScamProtectionContent:{success:function(t,n,r,s){e.logger.info("handleInterceptContent Success response "+JSON.stringify(n)),s.set("scamGenericMessage.pageLoadCompleted",!1),n?(s.set("scamGenericMessage.contentSuccessResponse",null),s.set("scamGenericMessage.contentSuccessResponse",n)):i(0,n,0,s)},failure:i},getScamProtectionOptions:{success:function(n,i,r,s){e.logger.info("Success response ",JSON.stringify(i)),i&&i.customerDisplayTemplateTypeName?(s.set("interceptContainer.interceptOptionData",null),s.set("interceptContainer.interceptOptionData",i)):t(0,i,0,s)},failure:t},getScamProtectionVerifyAPI:{success:function(e,n,i,r){let s=JSON.parse(e.params);n?(n.customerResponseText=s?.scamAcceptedCustomerResponseText,r.set("interceptContainer.interceptVerifyData",null),r.set("interceptContainer.interceptVerifyData",n)):t(0,n,0,r)},failure:t},getPaymentPurposeContent:{success:function(t,i,r,s){e.logger.info("handlePaymentPurposeSuccess success response "+JSON.stringify(i)),i?(s.set("paymentPurpose.ppContentSuccessResponse",null),s.set("paymentPurpose.ppContentSuccessResponse",i)):n(0,i,0,s)},failure:n}}}}})),define("caas/controllers/scamprotection",["require","caas/dataProvider/requestSpaas","appkit-utilities/language/helper","caas/lib/navigation","caas/lib/constants"],(function(e){"use strict";var t=e("caas/dataProvider/requestSpaas"),n=e("appkit-utilities/language/helper").getContentLanguage(),i=e("caas/lib/navigation"),r=e("caas/lib/constants");return function(e){var s,a=this,o=e.logger,c={},l=!1;a.onInit=function(){t.init(a),a.dataProvider.mappers=t.mappers,o.info("Area Block: SPAASController onInit()"),e.paymentPurposeVariation=a.paymentPurposeVariation,e.paymentPurpose=a.paymentPurpose,e.requestScamVerify=a.requestScamVerify,e.exitBlock=this.exitBlock,e.routeErrorToParent=this.routeErrorToParent,e.requestScamOptions=this.requestScamOptions,e.requestInterceptContent=this.requestInterceptContent,e.requestPPInterceptContent=this.requestPPInterceptContent,e.setOptionResponse=this.setOptionResponse,e.getOptionResponse=this.getOptionResponse,e.buildInterceptRouteCAV=this.buildInterceptRouteCAV,e.addAnalyticsDataToURL=this.addAnalyticsDataToURL,e.setCaaSFirstFlow=this.setCaaSFirstFlow,e.isCaaSFirstFlow=this.isCaaSFirstFlow},a.onComplete=function(){o.info("Area Block: SPAASController onComplete()")},a.setOptionResponse=e=>{c=e},a.getOptionResponse=()=>c,a.setCaaSFirstFlow=e=>{l=e},a.isCaaSFirstFlow=()=>l,a.setBrandTreatment=()=>{const t=this.root&&this.root.MDS&&this.root.MDS.brand;e.treatment=t?this.root.MDS.brand:r.BRAND.CPO};let u=(e,t)=>{this.setBrandTreatment(),e.push([a.components.scamHeader,"scamHeader",{target:t}],[a.components.interceptContainer,"interceptContainer",{target:r.SPAAS_MAIN_BODY_TARGET}]),this.model.set("scamHeader",{showBrandBar:!0})};a.loadComponents=function(){e.setShowLoader=this.components.interceptContainer.setShowLoader,e.handleRouteOptions=this.components.interceptContainer.handleRouteOptions},a.index=function(e){o.info("SPAASController Controller Block: index()");let t=e&&e.target||"#applicationOverlay",n=e.privateDataObject,i=[];this.buildNavigation(n.communicationCallBack);let r="Y"===n.cf;return this.setCaaSFirstFlow(r),u(i,t),this.loadComponents(),s={riskAssessmentIdentifier:n.rai,challengeTokenIdentifier:n.cti?n.cti:"",riskChallengeSessionIdentifier:""},i},a.requestScamOptions=()=>{a.dataProvider.request("requestSpaas.getScamProtectionOptions",{urlParams:s})},a.requestInterceptContent=()=>{let e=this.getOptionResponse()?.customerDisplayTemplateTypeName?.toLowerCase(),t={template_id:e,language:n};a.dataProvider.request("requestSpaas.getScamProtectionContent",{urlParams:t})},this.requestPPInterceptContent=()=>{let e={language:n};a.dataProvider.request("requestSpaas.getPaymentPurposeContent",{urlParams:e})},this.buildInterceptRouteCAV=({privateDataObject:e})=>{var t=[];let n=e.componentName;return t.push([this.components[n],n,{target:r.SPAAS_INTERCEPTER_BODY_TARGET}]),t},a.addAnalyticsDataToURL=function(t,n,i){let s=["intelligentIntercept",t,"ZELLE_PAYMENT_SEND"];i&&n&&(n="CAAS_SCAM_"+n),n&&s.push(n),o.info("pg_experience_type "+n+" flowStepArray "+s),e.state(r.MAINTAIN_CURRENT_URL,{flyout:s})},a.buildNavigation=t=>{const n=new i(e,t||null);e.navigation=n},a.onExit=()=>{this.registry.destroyComponent("interceptContainer"),this.registry.destroyComponent("scamHeader"),this.registry.destroyComponent("paymentPurpose"),this.registry.destroyComponent("scamDefaultMessage"),this.registry.destroyComponent("scamGenericMessage"),this.registry.destroyComponent("scamProtectionError")},a.exitBlock=()=>{a.onExit()},a.routeErrorToParent=(t="")=>{e.navigation.routeToParent(r.CANCEL_TYPE,r.RESPONSE_CODES.CANCELLED,t)},a.requestScamVerify=(t,n)=>{e.setShowLoader(!0);var i={riskAssessmentIdentifier:s?.riskAssessmentIdentifier,challengeTokenIdentifier:s?.challengeTokenIdentifier,scamAcceptedCustomerResponseText:n,paymentPurposeText:t};this.dataProvider.request("requestSpaas.getScamProtectionVerifyAPI",JSON.stringify(i))}}})),define("caas/components/scam_protection/scamHeader",["require","caas/lib/constants","caas/lib/mappers/brandMapper"],(function(e){"use strict";var t=e("caas/lib/constants"),n=e("caas/lib/mappers/brandMapper");return function(e){this.onReady=()=>{this.showBrandBar&&this.setBrandBar()},this.setBrandBar=()=>{const i=e.treatment&&e.treatment.toLowerCase()||"",r=e.config.cq5ResourceBase||e.config.contentDomain;let s=n[t.DEFAULT_LOB].logoUrl,a=n[i]?n[i]:n.cpo;s=a.logoUrl,this.logoUrl=r+s,this.isBrandSpecific=a.logoSourceToken,this.logoAda=t.CHASE_LOGO}}})),define("caas/components/scam_protection/interceptContainer",["require","caas/lib/constants"],(function(e){"use strict";let t=e("caas/lib/constants");return function(e){let n=e.logger;this.interceptOptionSuccessHandler=(e={})=>{this.handleRouteOptions(e)},this.handleRouteOptions=(t={})=>{let n="",i="",r="",s=t?.customerDisplayTemplateTypeName;"PAYMENT_PURPOSE"===s.toUpperCase()?(n="paymentPurpose",i="paymentPurpose",r="Payment_purpose"):(n="scamGenericMessage",i="interstitial",r=s),e.setOptionResponse(t);let a={privateDataObject:{componentName:n}};e.privateState("./buildInterceptRouteCAV",a),e.addAnalyticsDataToURL(i,r,e.isCaaSFirstFlow())},this.setShowLoader=(e=!1)=>{this.showLoader=e},this.interceptVerifySuccessHandler=(e={})=>{this.handleRouteVerifyApi(e)},this.handleRouteVerifyApi=(n={})=>{this.showLoader=!1,"ACCEPTED"===n.customerResponseText?e.navigation.routeToParent(t.SUCCESS_MESSAGE_TYPE,t.RESPONSE_CODES.SUCCESS,{verificationStatusCode:"VERIFY_SUCCESS",challengeFlowActionName:"scam",authenticationRechallengeIdentifier:null}):e.navigation.routeToParent(t.CANCEL_TYPE,t.RESPONSE_CODES.CANCELLED,t.USER_CANCELLED_MESSAGE)},this.interceptOptionFailureHandler=t=>{n.error("interceptContainer interceptOptionFailureHandler response data, redirecting to error page  ",t),this.showLoader=!1;e.privateState("./buildInterceptRouteCAV",{privateDataObject:{componentName:"scamProtectionError"}}),e.addAnalyticsDataToURL("error",null,!1)},this.onInit=()=>{this.showLoader=!0,this.model.onValue("interceptOptionData",(e=>{e&&this.interceptOptionSuccessHandler(e)}),{initial:!1}),this.model.onValue("interceptOptionError",(e=>{e&&this.interceptOptionFailureHandler(e)}),{initial:!1}),this.model.onValue("interceptVerifyData",(e=>{e&&this.interceptVerifySuccessHandler(e)}),{initial:!1})},this.onReady=()=>{e.requestScamOptions()},this.onDestroy=()=>{e.reset()}}})),define("caas/components/scam_protection/scamGenericMessage",["require","caas/shared/generalMixin","caas/lib/constants"],(function(e){"use strict";return function(t){var n=this,i=t.logger,r=e("caas/shared/generalMixin"),s=e("caas/lib/constants");function a(e){return e?e.replaceAll(/(<p>|<\/p>)/g,""):""}function o(e){return e?e.replaceAll("''","",""):""}n.onInit=function(){i.info("scamGenericMessage Area Block: onInit()"),r.call(this,t),t.globalContentMixin.call(n,["importantAda","errorAnnouncementAda","gotoPreviousFieldAda"]),n.acknowledgementClientError=!1,n.acknowledgement=!1,n.model.set("acknowledgement",!1),n.model.set("acknowledgementClientError",!1),n.model.onValue("contentSuccessResponse",(e=>{e&&this.contentSuccessHandler(e)}),{initial:!1}),n.model.onValue("contentErrorResponse",(e=>{e&&this.contentFailureHandler(e)}),{initial:!1})},n.onReady=function(){n.acknowledgement=!1,t.requestInterceptContent()},this.contentSuccessHandler=(e={})=>{let n=t.getOptionResponse(),i=n?.customerDisplayTemplateTypeName;if(i&&i.toUpperCase().startsWith("PP_")?this.templateId=i:this.templateId=null,this.illustrationsPath=this.templateId&&"PP_OTHERS"===this.templateId?t.config.mdsIllustrationsDomain+"dist/cmb/svgs/mds_ill_shield_featured.svg":"ico_alert_filled",e.success){if(e.result.managedService&&e.result.managedService.components){let t=e.result.managedService.components,r=[];t.forEach((e=>{if(a(e.identifier)===i.toUpperCase()){var t=a(e.heading);"GENERIC"===i?.toUpperCase()&&(t+=" "+n.tokenToDisplay+"?"),this.scamMessageTitle=t,e.sections.forEach((e=>{let t=[];e.subSections.forEach((e=>{t.push({scamMsgIcon:a(e.identifier),scamMsgDescription:a(e.bodyText)})})),r.push({scamMsgTagText:o(a(e.additionalText)),scamMsgTagColor:"accent",scamWarningTitle:a(e.header),scamWarningTexts:t})}))}"interceptScamRiskHeader"===a(e.identifier)&&(this.interceptPageHeader=a(e.heading),this.acknowledgementLabel=a(e.bodyText),this.acknowledgementAlertLabel=a(e.additionalTextDetails[0].subHeading),this.reviewInfoLabel=a(e.subTitle),e.cta.forEach((e=>{"requestContinueTransactionLabel"===a(e.linkId)?this.sendNowLabel=a(e.linkText):"requestCancelTransactionLabel"===a(e.linkId)?this.cancelLabel=a(e.linkText):"backButtonLabel"===a(e.linkId)&&(this.backButtonLabel=a(e.linkText))})))})),this.scamMessages={},this.scamMessages=r}this.pageLoadCompleted=!0,this.isCaaSFirst=t.isCaaSFirstFlow(),t.setShowLoader(!1)}},this.contentFailureHandler=e=>{i.error("genericMessage contentFailureHandler response data, redirecting to default page  ",e),t.setShowLoader(!1);t.privateState("./buildInterceptRouteCAV",{privateDataObject:{componentName:"scamDefaultMessage"}}),t.addAnalyticsDataToURL("default",null,!1)},n.onDestroy=function(){i.info("Area Block: onDestroy()")},n.requestCancelTransaction=function(){i.info("Do not authorize");let e="",n=t.getOptionResponse()?.customerDisplayTemplateTypeName;n&&n.toUpperCase().startsWith("PP_")&&(e=n.toUpperCase()),t.requestScamVerify(e,"CANCELLED")},n.requestContinueTransaction=function(){if(n.acknowledgement){i.info("Proceed to verify");let e="",n=t.getOptionResponse()?.customerDisplayTemplateTypeName;n&&n.toUpperCase().startsWith("PP_")&&(e=n.toUpperCase()),t.requestScamVerify(e,"ACCEPTED")}else this.setContentFor(s.PAYMENT_RISK_ACCEPTED_ERROR,s.UNACCEPTED),n.acknowledgementClientError=!0,n.focusOnError=!0},n.onBlurTrigger=function(){n.acknowledgementClientError=!n.acknowledgement},n.requestAcknowledgementAction=function(){n.acknowledgement=!n.acknowledgement,n.acknowledgementClientError=!1},n.requestBackAction=function(){t.setShowLoader(!0),n.choosePaymentPurposeOptionClientError=!1;t.handleRouteOptions({customerDisplayTemplateTypeName:"PAYMENT_PURPOSE"})}}})),define("caas/components/scam_protection/scamProtectionError",["require","caas/lib/constants"],(function(e){"use strict";var t=e("caas/lib/constants");return function(e){var n=this,i=e.logger;n.onInit=function(){i.info("scamProtectionError component: onInit()")},n.onReady=function(){i.info("scamProtectionError component: onReady()"),e.dcu.dynamicContent.set(this,"interceptScamPageErrorHeader","SERVICE_FAILURE"),e.dcu.dynamicContent.set(this,"interceptScamPageErrorAdvisory","SERVICE_FAILURE")},n.onDestroy=function(){i.info("scamProtectionError component: onDestroy()")},n.requestCloseErrorMessage=function(){i.error("Closing error UI"),e.routeErrorToParent(t.API_RESPONSE_FAILED_MESSAGE)}}})),define("caas/components/scam_protection/paymentPurpose",[],(function(){"use strict";return function(e){var t=this,n=e.logger;function i(e){return e?e.replaceAll(/(<p>|<\/p>)/g,""):""}t.onInit=function(){n.info("paymentPurpose Area Block: onInit()"),e.globalContentMixin.call(t,["errorAnnouncementAda","gotoPreviousFieldAda"]),t.choosePaymentPurposeOptionClientError=!1,t.selectedPaymentPurpose="",t.model.onValue("ppContentSuccessResponse",(e=>{e&&this.ppContentSuccessHandler(e)}),{initial:!1}),t.model.onValue("ppContentErrorResponse",(e=>{e&&this.ppContentFailureHandler(e)}),{initial:!1})},this.ppContentFailureHandler=t=>{n.error("paymentPurpose ppContentFailureHandler response data, redirecting to default page  ",t),e.setShowLoader(!1);e.privateState("./buildInterceptRouteCAV",{privateDataObject:{componentName:"scamDefaultMessage"}}),e.addAnalyticsDataToURL("default",null,!1)},t.onReady=function(){n.info("paymentPurpose Area Block: onReady()"),e.requestPPInterceptContent()},t.onDestroy=function(){n.info("paymentPurpose Area Block: onDestroy()")},t.ppContentSuccessHandler=(t={})=>{if(t.success){if(t.result.managedService&&t.result.managedService.components)t.result.managedService.components.forEach((t=>{"PAYMENT_PURPOSE"===i(t.identifier)&&(this.paymentPurposeHeader=i(t.heading),t.sections.forEach((t=>{if("selectPaymentReasonHeader"===i(t.identifier)){this.selectPaymentReasonHeader=i(t.header),this.selectPaymentReasonAdvisory=i(t.subHeader),this.paymentPurposeChooseOption=i(t.additionalText),t.cta.forEach((e=>{"nextButtonLabel"===i(e.linkId)?this.nextLabel=i(e.linkText):"cancelPaymentButtonLabel"===i(e.linkId)?this.requestCancelTransactionLabel=i(e.linkText):"chooseOneToContinue"===i(e.linkId)&&(this.chooseOptionAlertLabel=i(e.linkText))}));let n=[];t.subSections.forEach((t=>{var r;n.push({paymentReasonId:i(t.identifier),paymentReasonIcon:(r=i(t.messageText),e.config.mdsIllustrationsDomain+"dist/cmb/svgs/"+r),paymentReason:i(t.bodyText)})})),this.paymentReasons={},this.paymentReasons=n}})))}));e.setShowLoader(!1)}},t.requestCancelTransaction=function(t){n.info("requestCancelTransaction ",t),e.requestScamVerify("PAYMENT_PURPOSE","CANCELLED")},t.requestPaymentPurposeAction=function(e){e.context.paymentReasonId&&(t.selectedPaymentPurpose=e.context.paymentReasonId,t.choosePaymentPurposeOptionClientError=!1),n.info("requestPaymentPurposeAction purpose event context ",e.context," selected thisComponent.selectedPaymentPurpose ",t.selectedPaymentPurpose)},t.requestContinuePaymentValidation=function(){if(e.setCaaSFirstFlow(!1),t.selectedPaymentPurpose){e.setShowLoader(!0),t.choosePaymentPurposeOptionClientError=!1;let n={customerDisplayTemplateTypeName:t.selectedPaymentPurpose};e.handleRouteOptions(n)}else t.choosePaymentPurposeOptionClientError=!0;n.info(" requestContinuePaymentValidation thisComponent.choosePaymentPurposeOptionClientError ",t.choosePaymentPurposeOptionClientError)}}})),define("caas/components/scam_protection/scamDefaultMessage",["require","caas/shared/generalMixin","caas/lib/constants"],(function(e){"use strict";return function(t){var n=this,i=t.logger,r=e("caas/shared/generalMixin"),s=e("caas/lib/constants");n.onInit=function(){i.info("Area Block: onInit()"),r.call(this,t),t.dcu.dynamicContent.set(this,"paymentRiskAccceptedError","UNACCEPTED"),t.globalContentMixin.call(n,["importantAda","errorAnnouncementAda","gotoPreviousFieldAda"]),n.acknowledgementClientError=!1,n.acknowledgement=!1},n.onReady=function(){i.info("Area Block: onReady()"),this.illustrationsPath=t.config.mdsIllustrationsDomain},n.onDestroy=function(){i.info("Area Block: onDestroy()")},n.requestCancelTransaction=function(){i.info("Do not authorize"),t.requestScamVerify("Fallback","CANCELLED")},n.requestContinueTransaction=function(){n.acknowledgement?(i.info("Proceed to verify"),t.requestScamVerify("Fallback","ACCEPTED")):(this.setContentFor(s.PAYMENT_RISK_ACCEPTED_ERROR,s.UNACCEPTED),n.acknowledgementClientError=!0,n.focusOnError=!0)},n.onBlurTrigger=function(){n.acknowledgementClientError=!n.acknowledgement},n.requestAcknowledgementAction=function(){n.acknowledgement=!n.acknowledgement,n.acknowledgementClientError=!1}}})),define("caas/components/specs/actionsButtons",["require","caas/shared/helper","@bluespec/shared/dist/spec/challenge_identify_verification"],(function(e){"use strict";return(0,e("caas/shared/helper").getSpecEnrichment)(e("@bluespec/shared/dist/spec/challenge_identify_verification"),{data:{labelPrimary:{type:"Description"},labelSecondary:{type:"Description"},showCancelButton:{type:"OnOff"},showNextButton:{type:"OnOff"}},actions:{},states:{},settings:{}})})),define("caas/components/specs/caas",["require","caas/shared/helper","@bluespec/shared/dist/spec/challenge_identify_verification"],(function(e){"use strict";return(0,e("caas/shared/helper").getSpecEnrichment)(e("@bluespec/shared/dist/spec/challenge_identify_verification"),{data:{cards:{type:"List"},cardRadioGroupError:{type:"OnOff"},chooseEmailLabel:{type:"Description"},chooseSmsNumberLabel:{type:"Description"},chooseVoiceNumberLabel:{type:"Description"},communicationCallBack:{type:"Description"},completedRedirectUrl:{type:"Description"},currentCard:{type:"Description"},customOtpFeatureFlag:{type:"OnOff"},cvvInput:{type:"Description"},cvvInputError:{type:"Description"},debitCardPin:{type:"OnOff"},debitCardCvv:{type:"OnOff"},debitCardExp:{type:"OnOff"},eligibleMobileDeviceName:{type:"Description"},jpmEligibleBrand:{type:"Description"},emailContacts:{type:"List"},emailRadioGroupError:{type:"OnOff"},expInput:{type:"Description"},expInputError:{type:"Description"},hasRequiredViewport:{type:"Description"},isAccountLocked:{type:"Description"},isExpVisible:{type:"OnOff"},introAlertContent:{type:"Description"},introHeaderContent:{type:"Description"},isValidInternationalNumber:{type:"OnOff"},labelPrimary:{type:"Description"},labelSecondary:{type:"Description"},linkAction:{type:"Description"},linkLabel:{type:"Description"},loaded:{type:"OnOff"},logoAda:{type:"Description"},logoUrl:{type:"Description"},openCancelDialog:{type:"OnOff"},optionsData:{type:"Description"},optionsList:{type:"List"},otpInput:{type:"Description"},otpInputError:{type:"Description"},OTPInputElements:{type:"Number"},otpInputMDSError:{type:"Description"},pg_experience_type:{type:"Description"},pinInput:{type:"Description"},pinInputError:{type:"Description"},policyBased:{type:"OnOff"},postMessageParams:{type:"Description"},segment:{type:"Description"},selectedContactID:{type:"Description"},session:{type:"Description"},showBrandBar:{type:"OnOff"},showCallUs:{type:"OnOff"},showCancelButton:{type:"OnOff"},showExpiredError:{type:"OnOff"},showLoader:{type:"OnOff"},showNextButton:{type:"OnOff"},showSpinner:{type:"OnOff"},showTryAnotherMethod:{type:"OnOff"},shouldDisplayTryAnotherMethod:{type:"OnOff"},showVolumeControlError:{type:"OnOff"},smsNumbers:{type:"List"},smsRadioGroupError:{type:"OnOff"},treatment:{type:"Description"},viewIntroduction:{type:"Description"},viewMdsAlert:{type:"Description"},voiceNumbers:{type:"List"},voiceRadioGroupError:{type:"OnOff"},riskLevel:{type:"Description"},showRestartMethodLink:{type:"OnOff"}},actions:{clearOtpInput:!0,onSmsNumberSelect:!0,onVoiceNumberSelect:!0,otpFocusHandler:!0,editExpInput:!0,requestRestartMethod:!0,requestHavingTrouble:!0,requestInApplicationPullVerification:!0,requestExitInApplicationNoPushNotifications:!0},settings:{chooseMethodLabel:{type:"Description"},expiryAndCvvLabel:{type:"Description"},notificationSentInApplicationLabel:{type:"Description"},deviceSignInLabel:{type:"Description"},requestRestartMethodLabel:{type:"Description"},havingTroubleLabel:{type:"Description"},requestHavingTroubleAda:{type:"Description"},scanQrCodeLabel:{type:"Description"},scanQrCodeDescription:{type:"Description"},pinLabel:{type:"Description"},requestDebitCardPinLabelAdvisory:{type:"Description"},requestDebitCardExpiryLabel:{type:"Description"},requestDebitCardCvvLabel:{type:"Description"}}})})),define("caas/components/scam_protection/specs/scam_header",["require","caas/shared/helper","@bluespec/cxo/dist/spec/scam_protection_intercept"],(function(e){"use strict";return(0,e("caas/shared/helper").getSpecEnrichment)(e("@bluespec/cxo/dist/spec/scam_protection_intercept"),{data:{logoAda:{type:"Description"},logoUrl:{type:"Description"},showLoader:{type:"OnOff"},showSpinner:{type:"OnOff"},showBrandBar:{type:"OnOff"}},actions:{},settings:{}})})),define("caas/components/scam_protection/specs/intercept_container",["require","caas/shared/helper","@bluespec/cxo/dist/spec/scam_protection_intercept"],(function(e){"use strict";return(0,e("caas/shared/helper").getSpecEnrichment)(e("@bluespec/cxo/dist/spec/scam_protection_intercept"),{data:{showLoader:{type:"OnOff"}},actions:{},settings:{}})})),define("caas/components/scam_protection/specs/scam_generic_message",["require","caas/shared/helper","@bluespec/cxo/dist/spec/scam_protection_intercept"],(function(e){"use strict";return(0,e("caas/shared/helper").getSpecEnrichment)(e("@bluespec/cxo/dist/spec/scam_protection_intercept"),{data:{illustrationsPath:"Description",templateId:"Description",displayToken:"Description",scamMessageTitle:"Description",isCaaSFirst:"OnOff",pageLoadCompleted:"OnOff",interceptPageHeader:"Description",acknowledgementLabel:"Description",acknowledgementAlertLabel:"Description",reviewInfoLabel:"Description",sendNowLabel:"Description",cancelLabel:"Description",backButtonLabel:"Description",scamMessages:{type:"List",items:{scamMsgTagText:"Description",scamMsgTagColor:"Description",scamWarningTitle:"Description",scamMsgTagLabel:"Description",scamWarningTexts:{type:"List",items:{scamMsgIcon:"Description",scamMsgDescription:"Description"}}}}},actions:{onBlurTrigger:!0},states:{acknowledgementClientError:!0,focusOnError:!0,loadSuccess:!0},settings:{}})})),define("caas/components/scam_protection/specs/scam_protection_error",["require","caas/shared/helper","@bluespec/cxo/dist/spec/scam_protection_intercept"],(function(e){"use strict";return(0,e("caas/shared/helper").getSpecEnrichment)(e("@bluespec/cxo/dist/spec/scam_protection_intercept"),{data:{},actions:{},states:{},settings:{}})})),define("caas/components/scam_protection/specs/payment_purpose",["require","caas/shared/helper","@bluespec/cxo/dist/spec/scam_protection_intercept"],(function(e){"use strict";return(0,e("caas/shared/helper").getSpecEnrichment)(e("@bluespec/cxo/dist/spec/scam_protection_intercept"),{data:{paymentPurposeHeader:"Description",selectPaymentReasonHeader:"Description",selectPaymentReasonAdvisory:"Description",paymentPurposeChooseOption:"Description",nextLabel:"Description",chooseOptionAlertLabel:"Description",paymentReasons:{type:"List",items:{paymentReasonId:"Description",paymentReasonIcon:"Description",paymentReason:"Description"}}},actions:{},states:{choosePaymentPurposeOptionClientError:!0,loadSuccess:!0,focusOnError:!0,selectedPaymentPurpose:!0},settings:{}})})),define("caas/components/scam_protection/specs/scam_default_message",["require","caas/shared/helper","@bluespec/cxo/dist/spec/scam_protection_intercept"],(function(e){"use strict";return(0,e("caas/shared/helper").getSpecEnrichment)(e("@bluespec/cxo/dist/spec/scam_protection_intercept"),{data:{isCaaSFirst:"OnOff",illustrationsPath:"Description"},actions:{onBlurTrigger:!0},states:{acknowledgementClientError:!0,focusOnError:!0,loadSuccess:!0},settings:{interceptScamRiskHeader:!0,scamRiskAlertIcon:!0,scamRiskAlertHeader:!0,scamProtectionTipsAdvisory:!0,onlineScamProtectionTipHeading:!0,onlineScamProtectionTip:!0,onlineScamProtectionIcon:!0,buyerScamProtectionTipHeading:!0,buyerScamProtectionTip:!0,buyerScamProtectionIcon:!0,jobScamProtectionTipHeading:!0,jobScamProtectionTip:!0,jobScamProtectionIcon:!0,requestContinueTransactionLabel:!0,requestCancelTransactionLabel:!0,scamReviewInfoHeader:!0,paymentRiskAcceptedLabel:!0}})})),define("caas/template/actionsButtons",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"caas-button-container mds-mt-5 mds-d-none mds-d-at-576-flex",t:13}],f:[{t:4,f:[{t:7,e:"mds-button",m:[{n:"class",f:"mds-d-at-576-block mds-d-none mds-ml-at-576-5 mds-text-right order-2",t:13},{n:"id",f:"next-content",t:13},{n:"text",f:[{t:3,x:{r:["sanitizer",".labelPrimary"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"variant",f:"primary",t:13},{n:"width-type",f:"content",t:13},{n:"click",f:"requestNextIdentityVerificationStep",t:70}],f:[]}],n:50,r:".showNextButton"}," ",{t:4,f:[{t:7,e:"mds-button",m:[{n:"class",f:"mds-d-at-576-block mds-d-none mds-text-right order-1",t:13},{n:"id",f:"cancel-content",t:13},{n:"text",f:[{t:3,x:{r:["sanitizer",".labelSecondary"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"variant",f:"secondary",t:13},{n:"width-type",f:"content",t:13},{n:"click",f:"requestCancelIdentityVerification",t:70}],f:[]}],n:50,r:".showCancelButton"}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"id",f:"caas-sticky-footer",t:13},{n:"class",f:["mds-d-block mds-d-at-576-none ",{t:4,f:["sticky-padding-lg"],n:50,x:{r:[".showCancelButton",".showNextButton"],s:"_0&&_1"}},{t:4,n:50,f:["sticky-padding-sm"],x:{r:[".showCancelButton",".showNextButton"],s:"_0||_1"},l:1}," dropdown-overflow"],t:13}],f:[{t:7,e:"mds-sticky-footer",m:[{n:"sticky-footer-buttons",f:[{t:2,r:".actionButtonList"}],t:13},{n:"stick-to-parent-container",f:"false",t:13},{n:"style",f:"left: 0",t:13}]}]}],n:50,x:{r:[".showNextButton",".showCancelButton",".actionButtonList"],s:"(_0||_1)&&_2"}}]}]}],e:{}}})),define("caas/views/specs/caas",{name:"CHALLENGE_IDENTIFY_VERIFICATION",preventDefault:!0,defaultBindings:!0,bindings:{actionButtonList:{direction:"BOTH"},completedRedirectUrl:{},cvvInput:{direction:"BOTH"},emailRadioGroup:{direction:"BOTH"},emailDropdownValue:{direction:"BOTH"},expInput:{direction:"BOTH"},hasRequiredViewport:{direction:"BOTH"},isExpVisible:{direction:"BOTH"},OTPInputElements:{direction:"BOTH"},otpInput:{direction:"BOTH"},otpInputError:{direction:"BOTH"},otpInputMDSError:{direction:"BOTH"},pinInput:{direction:"BOTH"},postMessageParams:{},selectedCard:{direction:"BOTH"},selectedContactID:{direction:"BOTH"},selectedLowRiskOption:{direction:"BOTH"},showHybridChanges:{direction:"BOTH"}},triggers:{confirm:{action:"confirmCancelConfirmation"},cancel:{action:"exitCancelConfirmation"},close:{action:"closeDialog"},confirmPostMessageSent:{action:"triggerExitBlock"},formFieldTracking:{action:"formField"},debitCardCvvInputValidator:{action:["debitCardCvvInputValidator","formField"]},debitCardExpInputValidator:{action:["debitCardExpInputValidator","formField"]},debitCardPinInputValidator:{action:["debitCardPinInputValidator","formField"]},onCardSelect:{action:["onCardSelect","formField"]},editExpInput:{action:["editExpInput","formField"]},onExpKeyDown:{action:["onExpKeyDown"]},onExpShowHide:{action:["onExpShowHide"]},onLowRiskOptionSelect:{action:["onLowRiskOptionSelect","formField"]},onEmailContactSelect:{action:["onEmailContactSelect","formField"]},onPhoneNumberSelect:{action:["onPhoneNumberSelect","formField"]},onVoiceNumberSelect:{action:["onVoiceNumberSelect","formField"]},onOTPBlur:{action:["onOTPBlur","formField"]},otpValidator:{action:["otpValidator","formField"]},otpFocusHandler:{action:["otpFocusHandler","formField"]},customOTPValidator:{action:["customOTPValidator","formField"]},verifyOTPInput:{action:"verifyOTPInput"},postMessageError:{action:"triggerExitBlock"},swipeExit:{action:"swipeExit"},requestInApplicationPullVerification:{action:"requestInApplicationPullVerification"},requestRestartMethod:{action:["requestRestartMethod"]},requestExitInApplicationNoPushNotifications:{action:"requestExitInApplicationNoPushNotifications"},requestHavingTrouble:{action:["requestHavingTrouble"]}}}),define("caas/views/actionsButtons",["require","caas/template/actionsButtons","caas/views/specs/caas"],(function(e){"use strict";const t=e("caas/template/actionsButtons"),n=e("caas/views/specs/caas");return function(){const e=this;e.viewName="actionsButtonsView",e.template=t,e.bridge=n,e.partials={},e.style=null,e.styleSheet=null;const i=()=>{let t=[];e.model.showNextButton&&this.model.labelPrimary&&t.push({text:this.model.labelPrimary,variant:"primary",id:"next-button"}),e.model.showCancelButton&&this.model.labelSecondary&&t.push({text:this.model.labelSecondary,variant:"secondary",id:"cancel-button"}),e.model.actionButtonList=t.length?JSON.stringify(t):""};e.setScrollPadding=()=>{if(e.style=e.style||e.$element[0].appendChild(document.createElement("style")),e.styleSheet=e.styleSheet||(e.style?e.style.sheet:null),e.styleSheet&&e.styleSheet.cssRules&&e.styleSheet.insertRule){e.styleSheet.cssRules.length&&e.styleSheet.deleteRule(0);let t=e.$element[0].querySelector("#mfapreauth-sticky-footer");const n=12;let i=t?t.offsetHeight+n:0,r=e.styleSheet.cssRules.length,s=r?r-1:0;e.styleSheet.insertRule(`html { scroll-padding-bottom:${i}px }`,s)}};e.onInit=()=>{e.model.actionButtonList=""},e.onReady=()=>{e.onData("",((t,n)=>{var r,s;s=n,((r=t).showNextButton!==s.showNextButton||r.showCancelButton!==s.showCancelButton||r.labelSecondary!==s.labelSecondary||r.labelPrimary!==s.labelPrimary)&&(i(),setTimeout(e.setScrollPadding,1e3))}),{init:!1}),e.element.addEventListener("click-cancel-button",(()=>{e.trigger("requestCancelIdentityVerification")})),e.element.addEventListener("click-next-button",(()=>{e.trigger("requestNextIdentityVerificationStep")}))}}})),define("caas/template/body/callUs",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12 mds-my-at-0-5 mds-my-at-992-0",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-0 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:4,f:[" ",{t:7,e:"div",m:[{n:"class",f:"mds-d-none mds-d-at-576-flex csr",t:13}],f:[" ",{t:7,e:"div",m:[{n:"class",f:"mds-mr-5",t:13}],f:[{t:7,e:"mds-tile",m:[{n:"tile-style",f:"next",t:13},{n:"variant",f:"next",t:13},{n:"interactive",f:"false",t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"tile-content",t:13}],f:[{t:7,e:"p",m:[{n:"class",f:"mds-my-2 text-md",t:13}],f:[{t:2,r:".requestIdentificationCodeByDomesticCallLabel"}]}," ",{t:7,e:"p",m:[{n:"class",f:"text-2xl",t:13}],f:[{t:2,r:".requestIdentificationCodeByDomesticCallAdvisory"}]}]}]}]}," ",{t:7,e:"div",f:[{t:7,e:"mds-tile",m:[{n:"tile-style",f:"next",t:13},{n:"variant",f:"next",t:13},{n:"interactive",f:"false",t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"tile-content",t:13}],f:[{t:7,e:"p",m:[{n:"class",f:"mds-my-2 text-md",t:13}],f:[{t:2,r:".requestIdentificationCodeByInternationalCallLabel"}]}," ",{t:7,e:"p",m:[{n:"class",f:"text-2xl",t:13}],f:[{t:2,r:".requestIdentificationCodeByInternationalCallAdvisory"}]}]}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-d-none mds-d-at-576-block",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-5 mds-mb-3 text-sm",t:13}],f:[{t:3,x:{r:["sanitizer",".requestIdentificationCodeByCallHoursAdvisory"],s:"_0.sanitizeHTML(_1)"}}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-d-flex mds-d-at-576-none csr",t:13}],f:[" ",{t:7,e:"div",m:[{n:"class",f:"mds-mb-5",t:13}],f:[{t:7,e:"mds-tile",m:[{n:"tile-style",f:"next",t:13},{n:"variant",f:"next",t:13},{n:"interactive",f:"false",t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"tile-content",t:13}],f:[{t:7,e:"p",m:[{n:"class",f:"mds-my-2 text-md",t:13}],f:[{t:2,r:".requestIdentificationCodeByDomesticCallLabel"}]}," ",{t:7,e:"mds-link",m:[{n:"class",f:"text-2xl",t:13},{n:"href",f:["tel:",{t:2,r:".requestIdentificationCodeByDomesticCallAdvisory"}],t:13},{n:"text",f:[{t:2,r:".requestIdentificationCodeByDomesticCallAdvisory"}],t:13},{n:"start-icon",f:"ico_phone",t:13},{n:"underline",f:"false",t:13}],f:[]}]}]}]}," ",{t:7,e:"div",f:[{t:7,e:"mds-tile",m:[{n:"tile-style",f:"next",t:13},{n:"variant",f:"next",t:13},{n:"interactive",f:"false",t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"tile-content",t:13}],f:[{t:7,e:"p",m:[{n:"class",f:"mds-my-2 text-md",t:13}],f:[{t:2,r:".requestIdentificationCodeByInternationalCallLabel"}]}," ",{t:7,e:"mds-link",m:[{n:"class",f:"text-2xl",t:13},{n:"href",f:["tel:",{t:2,r:".requestIdentificationCodeByInternationalCallAdvisory"}],t:13},{n:"text",f:[{t:2,r:".requestIdentificationCodeByInternationalCallAdvisory"}],t:13},{n:"start-icon",f:"ico_phone",t:13},{n:"underline",f:"false",t:13}],f:[]}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-5 mds-mb-3 text-sm",t:13}],f:[{t:3,x:{r:["sanitizer",".requestIdentificationCodeByCallHoursAdvisory"],s:"_0.sanitizeHTML(_1)"}}]}]}],n:50,r:".isValidInternationalNumber"},{t:4,n:51,f:[" ",{t:7,e:"div",m:[{n:"class",f:"mds-d-none mds-d-at-576-block csr-single",t:13}],f:[{t:7,e:"mds-tile",m:[{n:"tile-style",f:"next",t:13},{n:"variant",f:"next",t:13},{n:"interactive",f:"false",t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"tile-content",t:13}],f:[{t:7,e:"p",m:[{n:"class",f:"text-2xl",t:13}],f:[{t:2,r:".requestIdentificationCodeByDomesticCallAdvisory"}]}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-d-none mds-d-at-576-block",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-5 mds-mb-3 text-sm",t:13}],f:[{t:3,x:{r:["sanitizer",".requestIdentificationCodeByCallHoursAdvisory"],s:"_0.sanitizeHTML(_1)"}}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-d-block mds-d-at-576-none csr-single",t:13}],f:[{t:7,e:"mds-tile",m:[{n:"tile-style",f:"next",t:13},{n:"variant",f:"next",t:13},{n:"interactive",f:"false",t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"tile-content",t:13}],f:[{t:7,e:"mds-link",m:[{n:"class",f:"text-2xl",t:13},{n:"href",f:["tel:",{t:2,r:".requestIdentificationCodeByDomesticCallAdvisory"}],t:13},{n:"text",f:[{t:2,r:".requestIdentificationCodeByDomesticCallAdvisory"}],t:13},{n:"start-icon",f:"ico_phone",t:13},{n:"underline",f:"false",t:13}],f:[]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-5 mds-mb-3 text-sm",t:13}],f:[{t:3,x:{r:["sanitizer",".requestIdentificationCodeByCallHoursAdvisory"],s:"_0.sanitizeHTML(_1)"}}]}]}],l:1}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-4 mds-mb-4 text-xsm color-text-subdued",t:13}],f:[{t:2,r:".requestAccesibilityCallAdvisory"}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-4 mds-mb-3",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"have-code-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestHaveACode",t:70},{n:"text",f:[{t:2,r:".requestHaveACodeLabel"}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-6",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"another-method-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestAnotherMethod",t:70},{n:"text",f:[{t:2,r:".requestAnotherMethodLabel"}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}],n:50,r:".showTryAnotherMethod"}]}]}],e:{}}})),define("caas/views/body/callUs",["require","caas/template/body/callUs","caas/views/specs/caas"],(function(e){"use strict";var t=e("caas/template/body/callUs"),n=e("caas/views/specs/caas");return function(){var e=this;e.viewName="callUsView",e.template=t,e.bridge=n}})),define("caas/template/body/debitCardPin",[],(function(){return{v:4,t:[{t:7,e:"div",f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12 color-gray-4 mds-mt-4",t:13}],f:[{t:7,e:"h3",m:[{n:"class",f:"color-gray-4 font-normal text-sm mds-text-at-576-left",t:13}],f:[{t:2,r:".chooseCardLabel"}]}," ",{t:7,e:"p",m:[{n:"class",f:"text-md",t:13},{n:"id",f:"pin-select-text",t:13}],f:[{t:2,r:"cards.0.maskedAccountNumber"}]}]}]}],n:50,x:{r:["cards.length"],s:"_0==1"}},{t:4,n:50,f:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12 mds-mt-4",t:13}],f:[{t:7,e:"mds-radio-group",m:[{n:"name",f:"card-radio-group",t:13},{n:"id",f:"eligibleCards",t:13},{n:"radio-field-group-label-text",f:[{t:2,r:".chooseCardLabel"}],t:13},{n:"radio-buttons",f:[{t:2,x:{r:["convertToMdsDataType","cards"],s:"_0(_1)"}}],t:13},{n:"radio-type",f:"base",t:13},{n:"selected-index",f:"-1",t:13},{n:"selected-radio",f:[{t:2,r:".selectedRadioCard"}],t:13},{n:"error-message",f:[{t:2,r:".cardRadioGroupError"}],t:13},{n:"error-icon-accessible-text",f:[{t:2,r:".selectAccountErrorHeader"}],t:13},{n:"change",f:"onCardSelect",t:70},{n:"layout",f:"vertical",t:13},{n:"field-group-layout",f:"vertical",t:13},{n:"inactive",f:"false",t:13},{n:"required",f:"false",t:13}],f:[]}]}]}],x:{r:["cards.length"],s:"_0==2"},l:1},{t:4,n:50,f:[" ",{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-at-0-12 mds-col-at-768-6 mds-mt-4",t:13}],f:[{t:7,e:"mds-select",m:[{n:"id",f:"eligibleCards",t:13},{n:"value",f:[{t:2,r:".selectedContactID"}],t:13},{n:"change",f:"onCardSelect",t:70},{n:"blur",f:"formFieldTracking",t:70},{n:"label",f:[{t:2,r:".chooseCardLabel"}],t:13},{n:"class",f:"pin-select-dropdown",t:13}],f:[{t:4,f:[{t:7,e:"mds-select-option",m:[{n:"value",f:[{t:2,r:"card.value"}],t:13},{n:"label",f:[{t:2,r:"card.label"}],t:13}],f:[]}],n:52,z:[{n:"card",x:{r:"."}}],x:{r:["convertToMdsDataType","cards"],s:"_0(_1,false)"}}]}]}]}],x:{r:["cards.length"],s:"_0>=3"},l:1}," ",{t:4,f:[" ",{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-at-0-12 mds-col-at-768-6 mds-mt-4",t:13}],f:[{t:7,e:"mds-select",m:[{n:"id",f:"eligibleLowRiskOption",t:13},{n:"value",f:[{t:2,r:".selectedLowRiskOption"}],t:13},{n:"change",f:"onLowRiskOptionSelect",t:70},{n:"blur",f:"formFieldTracking",t:70},{n:"label",f:[{t:2,r:".chooseMethodLabel"}],t:13},{n:"class",f:"low-risk-select-dropdown",t:13}],f:[{t:7,e:"mds-select-option",m:[{n:"value",f:[{t:2,r:".expiryAndCvvLabel"}],t:13},{n:"label",f:[{t:2,r:".expiryAndCvvLabel"}],t:13}],f:[]}," ",{t:7,e:"mds-select-option",m:[{n:"value",f:[{t:2,r:".pinLabel"}],t:13},{n:"label",f:[{t:2,r:".pinLabel"}],t:13}],f:[]}]}]}]}],n:50,x:{r:[".riskLevel"],s:'_0==="DEBIT_CARD_PIN_OR_CVV2_EXPRDT"'}}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[" ",{t:7,e:"div",m:[{n:"class",f:"mds-col-at-0-12  mds-col-at-768-6 mds-mt-4",t:13}],f:[{t:7,e:"mds-text-input-secure",m:[{n:"name",f:"pin-input",t:13},{n:"id",f:"pin-input",t:13},{n:"value",f:[{t:2,r:".pinInput"}],t:13},{n:"error-message",f:[{t:2,r:".pinInputError"}],t:13},{n:"label",f:[{t:2,r:".requestDebitCardPinLabel"}],t:13},{n:"microcopy",f:[{t:2,r:".requestDebitCardPinLabelAdvisory"}],t:13},{n:"blur",f:"debitCardPinInputValidator",t:70},{n:"aria-label",f:[{t:2,r:"~/requiredAda",s:!0}],t:13},{n:"autocomplete-value",f:"off",t:13},{n:"show-button-text",f:[{t:2,r:"~/showLabel",s:!0}],t:13},{n:"hide-button-text",f:[{t:2,r:"~/hideLabel",s:!0}],t:13},{n:"inactive",f:"false",t:13},{n:"input-columns",f:"mds-col-12",t:13},{n:"label-style",f:"vertical",t:13},{n:"label-columns",f:"mds-col-12",t:13},{n:"required",f:"true",t:13},{n:"variant",f:"box",t:13}],f:[]}]}]}],n:50,r:".debitCardPin"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[" ",{t:7,e:"div",m:[{n:"class",f:"mds-col-at-0-12  mds-col-at-768-6 mds-mt-4",t:13}],f:[{t:7,e:"mds-text-input-secure",m:[{n:"name",f:"exp-input",t:13},{n:"id",f:"exp-input",t:13},{n:"value",f:[{t:2,r:".expInput"}],t:13},{n:"error-message",f:[{t:2,r:".expInputError"}],t:13},{n:"label",f:[{t:2,r:".requestDebitCardExpiryLabel"}],t:13},{n:"placeholder",f:"mm/yy",t:13},{n:"blur",f:"debitCardExpInputValidator",t:70},{n:"aria-label",f:[{t:2,r:"~/requiredAda",s:!0}],t:13},{n:"autocomplete-value",f:"off",t:13},{n:"show-button-text",f:[{t:2,r:"~/showLabel",s:!0}],t:13},{n:"hide-button-text",f:[{t:2,r:"~/hideLabel",s:!0}],t:13},{n:"inactive",f:"false",t:13},{n:"input-columns",f:"mds-col-12",t:13},{n:"label-style",f:"vertical",t:13},{n:"label-columns",f:"mds-col-12",t:13},{n:"required",f:"true",t:13},{n:"variant",f:"box",t:13}],f:[]}]}]}],n:50,r:".debitCardExp"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[" ",{t:7,e:"div",m:[{n:"class",f:"mds-col-at-0-12  mds-col-at-768-6 mds-mt-4",t:13}],f:[{t:7,e:"mds-text-input-secure",m:[{n:"name",f:"cvv-input",t:13},{n:"id",f:"cvv-input",t:13},{n:"value",f:[{t:2,r:".cvvInput"}],t:13},{n:"error-message",f:[{t:2,r:".cvvInputError"}],t:13},{n:"label",f:[{t:2,r:".requestDebitCardCvvLabel"}],t:13},{n:"blur",f:"debitCardCvvInputValidator",t:70},{n:"aria-label",f:[{t:2,r:"~/requiredAda",s:!0}],t:13},{n:"autocomplete-value",f:"off",t:13},{n:"show-button-text",f:[{t:2,r:"~/showLabel",s:!0}],t:13},{n:"hide-button-text",f:[{t:2,r:"~/hideLabel",s:!0}],t:13},{n:"inactive",f:"false",t:13},{n:"input-columns",f:"mds-col-12",t:13},{n:"label-style",f:"vertical",t:13},{n:"label-columns",f:"mds-col-12",t:13},{n:"required",f:"true",t:13},{n:"variant",f:"box",t:13}],f:[]}]}]}],n:50,r:".debitCardCvv"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-5",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"another-method-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestAnotherMethod",t:70},{n:"text",f:[{t:2,r:".requestAnotherMethodLabel",s:!0}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}],n:50,r:".showTryAnotherMethod"}]}],e:{}}})),define("caas/views/body/debitCardPin",["require","caas/template/body/debitCardPin","caas/views/specs/caas","blue/object/extend","appkit-utilities/validation/trigger","common/lib/ada/setFocus","caas/shared/helper","caas/shared/helper","caas/lib/constants"],(function(e){"use strict";var t=e("caas/template/body/debitCardPin"),n=e("caas/views/specs/caas"),i=e("blue/object/extend"),r=e("appkit-utilities/validation/trigger"),s=e("common/lib/ada/setFocus"),a=e("caas/shared/helper").getNested,o=e("caas/shared/helper").getValueFromEvent;const c=e("caas/lib/constants");return function(){var e=this;e.viewName="debitCardPinView",e.template=t,i(n.triggers,r),e.bridge=n,e.focusError=()=>{},e.isInputInFocus=e=>document.activeElement.id===e,e.pinInputError=e=>{e&&s({selector:'mds-text-input-secure[name="pin-input"]',delay:0})},e.expInputError=e=>{e&&s({selector:'mds-text-input-secure[name="exp-input"]',delay:0})},e.cvvInputError=e=>{e&&s({selector:'mds-text-input-secure[name="cvv-input"]',delay:0})},e.cardRadioGroupError=e=>{e&&s({selector:'mds-radio-group[name="card-radio-group"]',delay:1e3})},e.convertToMdsDataType=function(e,t=!0){const n=e.map((e=>({label:e.maskedAccountNumber,value:(a(e,"contactReferenceIdentifier")||"").toString()})));return t?JSON.stringify(n):n},e.confirmVerificationExit=function(){e.trigger("cancelDebitPin")},e.cancelVerificationExit=function(){e.trigger("requestPreviousPage")};const l=()=>e.model&&e.model.isExpVisible,u=(e="")=>{const t=c.REGEX.NUMBERS_ONLY;return e&&t.test(e)},d=(e="")=>e.replace(c.REGEX.SLASHES,""),f=(e="")=>{let t=d(e);return t.length<=2?2===t.length?t+"/":t:t.slice(0,2)+"/"+t.slice(2,4)},h=(e="")=>c.REGEX.EXP_DATE_CHARACTERS.test(e);e.addExpInputHandlers=()=>{const t=document.querySelector('mds-text-input-secure[name="exp-input"]');t&&(t.addEventListener("click-show-hide-button",e.onShowHideClick),t.addEventListener("keydown",e.onExpKeyDown),t.addEventListener("input",e.editExpInput))},e.removeExpInputHandlers=()=>{const t=document.querySelector('mds-text-input-secure[name="exp-input"]');t&&(t.removeEventListener("click-show-hide-button",e.onShowHideClick),t.removeEventListener("keydown",e.onExpKeyDown),t.removeEventListener("input",e.editExpInput))},e.onShowHideClick=()=>{e.model.isExpVisible=!l();const t=document.querySelector('mds-text-input-secure[name="exp-input"]');if(t&&t._showHideButton)if(!e.model.isExpVisible&&h(t.value))t.value=d(t.value);else{t.value&&u(t.value)&&t.value.length>=2&&(t.value=f(t.value))}},e.editExpInput=t=>{const n=o(t);if(n){let t=d(n);l()&&u(t)&&(t=t.length>=2?f(t):t),e.model.expInput=t}},e.onExpKeyDown=(t={})=>{if(!(e=>{if(e){const t=e>=48&&e<=57;if(c.EXP_DATE_INPUT_VALID_KEY_CODES.includes(e)||t)return!0}return!1})(t.keyCode))return void t.preventDefault();if(!l()||!t.key)return;const n=t.target.shadowRoot.children[1].getElementsByTagName("input")[0];if(!c.CHAR_REMOVAL_ENTRIES.includes(t.key)||!h(n.value))return;const i=n.selectionStart;if(i<=0||n.value.length<=1)return;t.preventDefault();const r=i-1,s=n.value.charAt(r),a=n.value.indexOf("/")>0;let o;"/"===s&&a?(o=n.value.slice(0,i-2)+n.value.slice(i),n.setSelectionRange(r-1,r-1)):(o=n.value.slice(0,r)+n.value.slice(i),n.setSelectionRange(r,r)),e.model.expInput=f(o)},e.onInit=function(){e.model={convertToMdsDataType:e.convertToMdsDataType},e.onData("pinInputError",e.pinInputError,{init:!1}),e.onData("expInputError",e.expInputError,{init:!1}),e.onData("cvvInputError",e.cvvInputError,{init:!1}),e.onData("cardRadioGroupError",e.cardRadioGroupError,{init:!1}),e.onData("focusError",e.focusError,{init:!1})},e.onReady=function(){e.addExpInputHandlers()},e.onDestroy=function(){e.removeExpInputHandlers()}}})),define("caas/template/body/email",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"color-gray-4 mds-my-4",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"text-sm",t:13}],f:[{t:4,f:[{t:2,r:".chooseEmailLabel"}," ",{t:7,e:"p",m:[{n:"class",f:"text-md",t:13}],f:[{t:2,r:"emailContacts.0.maskedEmailAddressText"}]}],n:50,x:{r:["emailContacts.length"],s:"_0==1"}},{t:4,n:50,f:[{t:7,e:"mds-radio-group",m:[{n:"name",f:"email-radio-group",t:13},{n:"id",f:"eligibleEmailContacts",t:13},{n:"radio-field-group-label-text",f:[{t:2,r:".chooseEmailLabel"}],t:13},{n:"radio-buttons",f:[{t:2,x:{r:["convertToMdsDataType","emailContacts"],s:"_0(_1)"}}],t:13},{n:"radio-type",f:"base",t:13},{n:"selected-index",f:"-1",t:13},{n:"error-message",f:[{t:2,r:".emailRadioGroupError"}],t:13},{n:"error-icon-accessible-text",f:[{t:2,r:"~/requiredAda",s:!0}],t:13},{n:"change",f:"onEmailContactSelect",t:70},{n:"layout",f:"vertical",t:13},{n:"field-group-layout",f:"vertical",t:13},{n:"inactive",f:"false",t:13},{n:"required",f:"false",t:13}],f:[]}],x:{r:["emailContacts.length"],s:"_0==2"},l:1},{t:4,n:51,f:[" ",{t:7,e:"div",m:[{n:"class",f:"row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-at-0-12 mds-col-at-576-6",t:13}],f:[{t:7,e:"mds-select",m:[{n:"id",f:"eligibleEmailContacts",t:13},{n:"value",f:[{t:2,r:".selectedContactID"}],t:13},{n:"change",f:"onEmailContactSelect",t:70},{n:"label",f:[{t:2,r:".chooseEmailLabel"}],t:13},{n:"blur",f:"formFieldTracking",t:70}],f:[{t:4,f:[{t:7,e:"mds-select-option",m:[{n:"value",f:[{t:2,r:"emailContact.value"}],t:13},{n:"label",f:[{t:2,r:"emailContact.label"}],t:13}],f:[]}],n:52,z:[{n:"emailContact",x:{r:"."}}],x:{r:["convertToMdsDataType","emailContacts"],s:"_0(_1,false)"}}]}]}]}],l:1}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"have-code-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestHaveACode",t:70},{n:"text",f:[{t:2,r:".requestHaveACodeLabel"}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}],n:50,r:".showCallUs"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"another-method-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestAnotherMethod",t:70},{n:"text",f:[{t:2,r:".requestAnotherMethodLabel",s:!0}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}],n:50,r:".showTryAnotherMethod"}]}]}]}],e:{}}})),define("caas/views/body/email",["require","caas/template/body/email","caas/views/specs/caas","blue/object/extend","appkit-utilities/validation/trigger","common/lib/ada/setFocus","caas/shared/helper"],(function(e){"use strict";var t=e("caas/template/body/email"),n=e("caas/views/specs/caas"),i=e("blue/object/extend"),r=e("appkit-utilities/validation/trigger"),s=e("common/lib/ada/setFocus"),a=e("caas/shared/helper").getNested;return function(){var e=this;e.viewName="emailView",e.template=t,i(n.triggers,r),e.bridge=n,e.handleEmailRadioError=e=>{e&&s({selector:'mds-radio-group[name="email-radio-group"]',delay:1e3})},e.onInit=function(){e.model={convertToMdsDataType:e.convertToMdsDataType},e.onData("emailRadioGroupError",e.handleEmailRadioError,{init:!1}),e.onData("focusError",e.focusError,{init:!1})},e.convertToMdsDataType=function(e,t=!0){const n=e.map((e=>({label:e.maskedEmailAddressText,value:(a(e,"contactReferenceIdentifier")||"").toString()})));return t?JSON.stringify(n):n},e.cancelVerificationExit=function(){e.trigger("requestPreviousPage")}}})),define("caas/template/body/error",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-0 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[" ",{t:7,e:"div",m:[{n:"class",f:"mds-d-none mds-d-at-576-flex csr",t:13}],f:[" ",{t:7,e:"div",m:[{n:"class",f:"mds-mr-5",t:13}],f:[{t:7,e:"mds-tile",m:[{n:"tile-style",f:"next",t:13},{n:"variant",f:"next",t:13},{n:"interactive",f:"false",t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"tile-content",t:13}],f:[{t:7,e:"p",m:[{n:"class",f:"mds-my-2 text-md",t:13}],f:[{t:2,r:".requestIdentificationCodeByDomesticCallLabel"}]}," ",{t:7,e:"p",m:[{n:"class",f:"text-2xl",t:13}],f:[{t:2,r:".requestIdentificationCodeByDomesticCallAdvisory"}]}]}]}]}," ",{t:7,e:"div",f:[{t:7,e:"mds-tile",m:[{n:"tile-style",f:"next",t:13},{n:"variant",f:"next",t:13},{n:"interactive",f:"false",t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"tile-content",t:13}],f:[{t:7,e:"p",m:[{n:"class",f:"mds-my-2 text-md",t:13}],f:[{t:2,r:".requestIdentificationCodeByInternationalCallLabel"}]}," ",{t:7,e:"p",m:[{n:"class",f:"text-2xl",t:13}],f:[{t:2,r:".requestIdentificationCodeByInternationalCallAdvisory"}]}]}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-d-none mds-d-at-576-block",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-5 mds-mb-3 text-sm",t:13}],f:[{t:3,x:{r:["sanitizer",".requestIdentificationCodeByCallHoursAdvisory"],s:"_0.sanitizeHTML(_1)"}}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-d-flex mds-d-at-576-none csr",t:13}],f:[" ",{t:7,e:"div",m:[{n:"class",f:"mds-mb-5",t:13}],f:[{t:7,e:"mds-tile",m:[{n:"tile-style",f:"next",t:13},{n:"variant",f:"next",t:13},{n:"interactive",f:"false",t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"tile-content",t:13}],f:[{t:7,e:"p",m:[{n:"class",f:"mds-my-2 text-md",t:13}],f:[{t:2,r:".requestIdentificationCodeByDomesticCallLabel"}]}," ",{t:7,e:"mds-link",m:[{n:"class",f:"text-2xl",t:13},{n:"href",f:["tel:",{t:2,r:".requestIdentificationCodeByDomesticCallAdvisory"}],t:13},{n:"text",f:[{t:2,r:".requestIdentificationCodeByDomesticCallAdvisory"}],t:13},{n:"start-icon",f:"ico_phone",t:13},{n:"underline",f:"false",t:13}],f:[]}]}]}]}," ",{t:7,e:"div",f:[{t:7,e:"mds-tile",m:[{n:"tile-style",f:"next",t:13},{n:"variant",f:"next",t:13},{n:"interactive",f:"false",t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"tile-content",t:13}],f:[{t:7,e:"p",m:[{n:"class",f:"mds-my-2 text-md",t:13}],f:[{t:2,r:".requestIdentificationCodeByInternationalCallLabel"}]}," ",{t:7,e:"mds-link",m:[{n:"class",f:"text-2xl",t:13},{n:"href",f:["tel:",{t:2,r:".requestIdentificationCodeByInternationalCallAdvisory"}],t:13},{n:"text",f:[{t:2,r:".requestIdentificationCodeByInternationalCallAdvisory"}],t:13},{n:"start-icon",f:"ico_phone",t:13},{n:"underline",f:"false",t:13}],f:[]}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-5 mds-mb-3 text-sm",t:13}],f:[{t:3,x:{r:["sanitizer",".requestIdentificationCodeByCallHoursAdvisory"],s:"_0.sanitizeHTML(_1)"}}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-4 mds-mb-4 text-xsm color-text-subdued",t:13}],f:[{t:2,r:".requestAccesibilityCallAdvisory"}]}]}],n:50,x:{r:[".policyBased",".isAccountLocked"],s:"_0&&_1"}},{t:4,n:51,f:[{t:7,e:"div",m:[{n:"id",f:"alert-error-container",t:13},{n:"class",f:"color-gray-4 mds-my-5",t:13},{n:"tabindex",f:"0",t:13}],f:[{t:4,f:[{t:7,e:"mds-alert",m:[{n:"id",f:"alert-error",t:13},{n:"variant",f:"error",t:13},{n:"alert-title",f:[{t:2,r:".requestNextIdentityVerificationStepErrorHeader"}],t:13},{n:"message",f:[{t:2,r:".requestNextIdentityVerificationStepErrorAdvisory"}],t:13},{n:"accessible-text-icon",f:[{t:2,r:"~/errorAnnouncementAda",s:!0}],t:13},{n:"accessible-text",f:[{t:3,x:{r:["sanitizer","requestNextIdentityVerificationStepErrorHeader","requestNextIdentityVerificationStepErrorAdvisory"],s:'_0.sanitizeHTML(_1+", "+_2)'}}],t:13},{n:"read-accessible-text-on-focus",f:"true",t:13},{n:"focusable",f:"true",t:13},{n:"shows-close-button",f:"false",t:13},{n:"tabindex",f:"-1",t:13}],f:[]}],n:50,r:".showVolumeControlError"},{t:4,n:51,f:[{t:7,e:"mds-alert",m:[{n:"id",f:"alert-error",t:13},{n:"variant",f:"error",t:13},{n:"alert-title",f:[{t:2,r:".identityVerificationErrorHeader"}],t:13},{n:"message",f:[{t:2,r:".identityVerificationErrorAdvisory"}],t:13},{n:"accessible-text-icon",f:[{t:2,r:"~/errorAnnouncementAda",s:!0}],t:13},{n:"accessible-text",f:[{t:3,x:{r:["sanitizer","identityVerificationErrorHeader","identityVerificationErrorAdvisory"],s:'_0.sanitizeHTML(_1+", "+_2)'}}],t:13},{n:"read-accessible-text-on-focus",f:"true",t:13},{n:"focusable",f:"true",t:13},{n:"shows-close-button",f:"false",t:13},{n:"tabindex",f:"-1",t:13}],f:[]}],l:1}]}],l:1}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-0 mds-mb-at-0-0",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"another-method-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestAnotherMethod",t:70},{n:"text",f:[{t:2,r:".requestAnotherMethodLabel",s:!0}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}],n:50,r:".shouldDisplayTryAnotherMethod"}]}]}],e:{}}})),define("caas/views/body/error",["require","caas/template/body/error","caas/views/specs/caas","common/lib/ada/setFocus","common/lib/elementObserver"],(function(e){"use strict";var t=e("caas/template/body/error"),n=e("caas/views/specs/caas"),i=e("common/lib/ada/setFocus"),r=e("common/lib/elementObserver");return function(){var e=this,s=new r;e.viewName="errorView",e.template=t,e.bridge=n,e.onReady=function(){s.isInserted("#alert-error-container",(function(){i.call(e,{selector:'div[id="alert-error-container"]',delay:1e3})}))}}})),define("caas/template/body/inAppPull",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"color-gray-4",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"id",f:"inapp-device-label",t:13},{n:"class",f:"mds-my-4 text-sm color-text-subdued",t:13}],f:[{t:2,r:".deviceSignInLabel"}]}," ",{t:7,e:"div",m:[{n:"id",f:"inapp-device-name",t:13},{n:"class",f:"mds-mb-5 text-md",t:13}],f:[{t:2,r:".eligibleMobileDeviceName"}]}],n:50,r:".eligibleMobileDeviceName"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"another-method-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestAnotherMethod",t:70},{n:"text",f:[{t:2,r:".requestAnotherMethodLabel"}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}],n:50,r:".showTryAnotherMethod"}]}]}]}]}})),define("caas/template/partials/confirmExitDialog",[],(function(){return{v:4,t:[{t:7,e:"mds-dialog",m:[{n:"id",f:"caas-cancel-confirm",t:13},{n:"dialog-height",f:"233",t:13},{n:"dialog-width",f:"515",t:13},{n:"header-text",f:[{t:2,r:".identifyVerificationExitHeader",s:!0}],t:13},{n:"primary-button-text",f:[{t:2,r:".cancelConfirmationLabel",s:!0}],t:13},{n:"secondary-button-one-text",f:[{t:2,r:".requestPreviousPageLabel",s:!0}],t:13},{n:"triggerId",f:"verifyInApp",t:13},{n:"open",f:[{t:2,r:".openCancelDialog"}],t:13},{n:"dialog-content",f:[{t:2,r:".identifyVerificationExitAdvisory",s:!0}],t:13}],f:[]}]}})),define("caas/views/body/inAppPull",["require","caas/template/body/inAppPull","caas/views/specs/caas","caas/template/partials/confirmExitDialog"],(function(e){"use strict";var t=e("caas/template/body/inAppPull"),n=e("caas/views/specs/caas");return function(){var i=this;i.viewName="inAppPullView",i.bridge=n,i.template=t,i.partials={confirmExitDialog:e("caas/template/partials/confirmExitDialog")},i.onReady=function(){i.trigger("actionMethod")},i.confirmVerificationExit=function(){i.trigger("cancelIdentityVerification")},i.cancelVerificationExit=function(){i.trigger("requestPreviousPage")}}})),define("caas/template/body/inAppPullVerify",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"color-gray-4",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"id",f:"inapp-device-label",t:13},{n:"class",f:"mds-my-4 text-sm color-text-subdued",t:13}],f:[{t:2,r:".deviceSignInLabel"}]}," ",{t:7,e:"div",m:[{n:"id",f:"inapp-device-name",t:13},{n:"class",f:"mds-mb-5 text-md",t:13}],f:[{t:2,r:".eligibleMobileDeviceName"}]}],n:50,r:".eligibleMobileDeviceName"}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mb-5 mds-d-none mds-d-at-576-block",t:13}],f:[{t:7,e:"mds-tile-accordion",m:[{n:"accordion-items",f:['[{"name":"first","label":"',{t:2,r:".scanQrCodeLabel"},'","expanded":false}]'],t:13},{n:"size",f:"18px",t:13},{n:"variant",f:"fullBorder",t:13},{n:"click",f:"formFieldTracking",t:70},{n:"id",f:"qrCodeAccordion",t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"first",t:13},{n:"class",f:"mds-d-flex mds-fd-column mds-ai-center",t:13}],f:[{t:7,e:"p",m:[{n:"class",f:"text-md text-font-family",t:13}],f:[{t:2,r:".scanQrCodeDescription"}]}," ",{t:4,f:[{t:7,e:"p",f:[{t:7,e:"img",m:[{n:"class",f:"mds-p-3",t:13},{n:"style",f:"border: 0.5px solid #d3d9de; height: 148px",t:13},{n:"id",f:"qrCodeImageJPM",t:13},{n:"src",f:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIQAAACECAAAAAB0L9x7AAABjklEQVR42u3byw7DIAxE0fz/T7d7hD1DGtEhutn0ldBTCRljp9cn4LhAgABxBOJqjvHz2fnue+PnILIR00kzDDaiZ+fNrq/GBZGPmE2savKWgxa4clwQRyJmXzy+X8FBvBNRBaXui0G8A9EtNNVEVQHusVUUxHaESnTvPj6abYPYhpCb1mISqmTn0V05iK0IJwh151WBSV0LIhcxS17dTbJbJJELGIhoRJfYqgm7UmwBkYtwEteVoNS9lokuiBiEG4DUQtYlRtMfACIS4WyEVRBThdUyUQIRiXAmYzWQel5tlEBkI1TTbWXjU6HKyQoiEtFtUrpBnYKJLNqDiESsNF+d5NdpvIDIRjgFrm4hW02CQOQjVoolKzd6OY05ELkI2TAzbhB0G3sgzkA4BQ63EdclRz81Z0FsQzzZsFc3i1nZNogIhGqWrDRo3SQHRD5CBZ2u8KEWMKsRB+IYxK0iqfEHBBBnI9xg5jRhQJyDcDbF6hpn4buV1IDYjljd8KomnBPEQOQi/nmAAAEiGvEFQFLpSTXtxIAAAAAASUVORK5CYII",t:13}]}]}],n:50,r:".jpmEligibleBrand"},{t:4,n:51,f:[{t:7,e:"p",f:[{t:7,e:"img",m:[{n:"class",f:"mds-p-3",t:13},{n:"style",f:"border: 0.5px solid #d3d9de",t:13},{n:"id",f:"qrCodeImage",t:13},{n:"src",f:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACCCAYAAACKAxD9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDcuMi1jMDAwIDc5LjFiNjVhNzliNCwgMjAyMi8wNi8xMy0yMjowMTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjcwREExNTc3NzhFNzExRUVBQzlDRTAwNzMyQ0MzQkYzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjcwREExNTc4NzhFNzExRUVBQzlDRTAwNzMyQ0MzQkYzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzBEQTE1NzU3OEU3MTFFRUFDOUNFMDA3MzJDQzNCRjMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzBEQTE1NzY3OEU3MTFFRUFDOUNFMDA3MzJDQzNCRjMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5HBBGQAAAXYUlEQVR42uxdd6wVxRdeBLv+sGHvCgICYtcoglGDgNgTiIm9IYgFQf4QY4+xxPis6EsgkViIohFURNFIVCxBBEusKPaOClhQlN9+L9nNmc+7Z/bcmXt5PO6XbHjLtpm9s3O+ObXdihUrvkqSZMOkgdUZS9qlA2FF4z00sAZGQ+M1NGaENRrvoIFsRmiggcZAaKAxEBpoDIQGGB18JwwaNCj55JNP6tKYE044Ibn22murvv6SSy5JnnrqqcLjTz75ZLLzzjtX7Nv666+fzJo1q+XfSsB5OL8IBx54YDJhwoTSbb3zzjuTO+64oy7v1de3UgPh5ZdfTn799de6NPjdd98Nun7+/PnJ+++/X3j8t99+U/u2fPly9Vrt3muuuaaprQsWLFDvFxta30qJhq222qpujd1kk02Cru/YsaPp+DbbbJP/veGGGyZrrFH8Otq3b+/96mK2NSZ8fWtzHMH3Vf7+++/O/r///lueTHlepHUgrHIcgfHSSy8l2267bZSHT5s2LRk5cmTp82+99daWrQhXXHFFcsMNNxQeP/nkk5PPP/883//6669LP3uXXXZJFi5cWHh8nXXWcfYffvjhZMyYMfn+Kaecklx99dWF1+MYzomBpUuXJvvvv/9/RGHUgbD33nv/p9PVokuXLqbzv/zyy+Szzz5TRcsOO+xQePyDDz5Ivv/++6pnG+3eDDxHtvXTTz9Vz99pp51M9/fBJ8qCRcN3330XrbE///xz1M75SG2HDh2SemG99dYzcYKYhHzJkiWJ1ZYY9GbwMExDlh+SX5AFG2+8cQvxKcIGG2zwH07wzz//5PtbbLFFy0uSK4EinsB9A0eoJw/4888/k7///tu0RPTxmJoNBLzIrl27Oi9XQ79+/ZKpU6dW/byLL744GTFiRGk5PXTo0OSFF17I97GW3nXXXfP9ffbZJ/nwww9L9Q1ibM6cOXUbCNCJTJo0qfT5aJtV1EYbCPiaLITrm2++CXo5a6+9dstmeZ4cpJgR5IyirTK4b+An9cSPP/5Y+gMDLLNH9OVju3bt1Kl6Za6dKz2Pp3ZtKmUZK0VMPXQiLOZik8OoM0I9vgpsGTbbbLOWrVpAkyhVzNryCsQSK6TsHCyZLZrAUC1pq9cj1BNNTU2O7WHcuHHJNddcU/X9NFtBJfIlOQFUwpJftDW0as0iM3qLJjA2QqfexkAIwFprreXsd+rUyXR9tcqjoqVrW0aHVamxbLGDQUwjoFgeSjYNU/Jff/1Vejb6+OOP81moXqb4xkAoAdjvpQ2/ubk5OeusswrPZ/+A7t27J++9915pHUnPnj1LD5yGaGhFHKLMcrcssHwMXZuvNgMBP4RF6fHFF1+Yl48a2Kzsnf4MtgYMGutaXoPVRvPtt9+azg+duYJEAzRzgwcPLv2D7LXXXqb777fffslhhx1WeLxbt27O/jvvvKO+cKuRSwMURnvuuWfp8w855BDT/Q899NBk2bJldSOzQQMBBqQQ24EP8B/AVhajRo1Knn322bpMpQcccECLD2StMHr06JatwRGqQD1V2G2NRJoHQkzniVieTtVyhhD88MMPUe8X0ze0jI9isGjA8s2q2CnC7Nmz1eOQ+VJnv/vuuyc9evTI919//XXH8wecQRrBYIKWnGHgwIHO8enTpyeLFy8u1db//e9/yYABA/J9vIPJkyfn+5tvvnmLXM+AdqF9GaCehu2iCE888US0Vcoff/xh4hfZMmnxCgVdu3aFGa4u2xlnnOE8+8ILL3SOY18iJarO8WnTpjnHjzrqKOf40qVLneM9e/bMj6UDZEU6KPJj+Bv/lx3HuRJz5sxx7t29e3fneFNTk3N8yJAhzvErr7yybu+V+1YBi1s1R2CZz/ubbrqpKhrg5SPBvhM+X3/tXJ5J4OsgwUvPULP0SucIH330Ud0a89VXX6l6BN5nOcicg20NPFCkzwHuJcUGy1n2T2D9yU8//aS2hdsa0w7iA9rqU755OcLYsWPNyo1qcfDBBzv7/fv3d75q7GuAaxc8lTNABwF7g5TjRYBMvfvuu3N3NzxXk7OdO3dOUlHmzFYTJ07M9+H2r4H7VkuU8uzycYTWDHAKTTbOnTt3RSz+g3M14Fna9SNGjGjNr3Jxm46GjqlJbE3PaiiUCL5IHumWVgmxAnUqcQhGvZ1frfByBIRvFxl/4DgCt2t2ICkC1tb33Xdf6cbB/b1v3775PtzRpXs69AbpMizff+SRR1p0DxkQAqcNhlr+OLBDHHPMMfn+vvvua7oeqvs333yz8DjC4xAdFXMkqxzBJzt/+eWX0oLoscceM61/hw0b5lyPfXl88uTJzvFzzz23ZmtxH0eYOXOmc/7o0aODhPYRRxyhtgfvsq4cAUEesVSZFtd3YMstt1T3WTSkg7LVTLWLFi0Kun677baL+i6DOULMZA4W3wXAumzVopVD4eMTiJaupwKJFVg15wiwLUiOgLD0oi8P54FTZEAMggxR22OPPRyZXoYjWACzrbRNgI9IX8Pzzz/fiYvgvvnI3lVXXVV4nH0an3vuOed8cATYOqoFOIHkO1OmTGnZYnC3qvQInTt3LtRhp+TmP7IsJlg/P2HCBPX8Y489Vm1L796966bvT4ljkI4kJdrO8R49ekTjblXpETQ7PE+fIUGZZZZoPh9EDjVnMVdPs7XV5M59hUe1hGYBriYy2jwQtMBRHiSxVdNMwHxym41M3D6ZPaW1gdXPMC1rfWMSbXXs9XKEyy67zPlBtR8XTivShRxf3Jlnnums+6X7Fez199xzT74PW8Ppp59eeH/o9qWf4FtvveW4pqXLxxY/R8lnZAQ2O9Xcf//9+ayBFw9Xt+wHwCC75ZZb8sGG++BdFAGu8rJvsDVo6fagJ3j88ccLj/fq1StJl5D5vrSZVOobf6zmPBQ+jtC+ffuq7dzpyHTOT5m1czwdBM7x/v37m+To0KFDnetxvxB07Ngxvxf+lli+fLkqk48++mjn/BkzZqi2huHDh6v3e+ihh1qXrQFWtiL4QsV56t1+++2d/Y022sjZt7prrbvuus4+vIiqBWYvOZ2yq77PHM9LY566earWLKGVREGrtjXwy2Ow6xU7c/D0xTZ9H9hMbMkixkBbNILlcyPjvrHZ16pgsiQEqYsegXH77bfnjBUBI5osgkxOp7h8H84YSGcjmbQ87tOdw5aALQPiJNIpOd9HGlwLsNbOnGHggaQNJO4Lg/u24447Ouf7QurBjaS/BewMGodAigDpv1lzWwPb7EMwb948514DBw40XQ85G1OOpgM5xM9P7Rv4i0UnMmXKFJX/8JYOkpXrj6DlOfSBtXjWOAReO4fqAfDVxgK7tzN/8YFd13zXh2Sni84RQlFvOciwchKLos0aAMNGJN/1sQNsgkLe8EVCLhZ9mVglaGtpxBUcfvjh+f6RRx4ZFOaFNDvSX4EBn0Jp1UPIWtZ2X18QwCt1HOAnN954Y76PELiZM2c6Og7ZN/gmaOmGkRJI+jwizY+mU9HiLrkvmD3AV9RZxMoRFi5cmB+DPluTY+kXr9rsefNxBp+toU+fPur958+fX1qPwBwB18p7denSRb3Xgw8+6Jx/4oknmuIacH21qPS7eGwPfo6gZTRnF3AG6wV81jDWK/jAS7qtt95an/6UsHh2+eaweNZR+LK7sa3AajYOKceJtsr2RknTzy/PkmyCE1B5feuNuZKthpWQRBmsPPO11ZqXMeb1aHf0XMzQ5UtiIotdMGAvl6HisOHLHAbQn2upa3gVweVuIPfk9T5NJPiJ1C34nFlZOYXUOdlgg85DPpvl7auvvurI9NAk25deemly3XXXOfwGPKQIsiwRPjircs07ECwvD+ZP6dqG6VOafjFFaa5vjErlbizXw1BjOZ9nL5mnGUtf7V5YgcT05oJBSRqVfCuc0JJLUZePPJ1x5nar+7hVz8CmW0vuZ/ABTXT41u0+O4c5Opngy4iiHcfv4BMVUQeCL39xrZNW8v0tnMAnV32cwMd/QvvuC9jV7g+ztO9dRE2vh6lccgKWq1hbc94jidByf7fddpsjV9naqZUuZLnKJfJ4xcOcwMd/QnMcIYWQNiuNHz++0AuqTK2JqAMBpFLKSZarWKJpcjQ0kbVGZK1yFF+YltiCOYGV/1jh86bq3bt3UMLyINGAqVRzUeevyGfKje2rz7BwFF/f+F6cq6HeKOuNXZMZAVMOlDhFL4xL5+Br1H5svFy+F58vj+N8S+FNTJ1SQVaNb59GVGXb0C45WDBbMmGUfcMxuUz39Y3LFPEgZqLuI8NBYfHpS2xRwxZtCBWHqjbbBgwYoJ7f3NzsnA81rDyOfXl80qRJpvYidY68H9TESZVmaFaXw6VPtg2uaBL33nuv2rezzz7bud9dd92lvqt+/fo556f8JH9WOiBXpB9o/iz8jf/TVMxBM4KvgkutZwRr5BQTJmsZX9/SWbaHp2p4MGl9q6TC9r0rbQUjXeXKZEypqRma3besNnrfWj40rF1T4/oGuU/H4UvfyzYcX5qgWsM8I2jKCWtJPJBHqQTC39oMUM9kFNlXVTQYrIXK8MXLe/FykmcAfi5zAi3tDnO3MkYn80CAvrtoKWMtiYeSwKeddlq+D1uCTKiFuAK5JKxnttOs3F81s0klnHrqqY5PI6+ooD9BPoei2Y5LF2reWfgYeZkeXY8AB40i2WxNPIHZRd7LNyPUE77loxX44TUzPH54TdRx6cIQ7haFI2hfJfvqs4KD/fL4q7K++BD39dhk0UdMQ+FTEYem8PXOCFz+BiFl2Q/K5W7ww8gpCTOEnF45bAuJL+RxpNjVwOX+2BEFYkUOJqiYJcHkvlgGEr5mzRKLqZor0ct3AU4gnVO4lKEPcPWXfcPMLNvPpQyZM8CdXuUJPj1CenNnvZp2MD+2bNkyJ00tbxziFhoGn8pR9fzjjz/eOf+ZZ55R+2LZunXrpj571qxZ6vVI6yMxbtw40/NTfmBKrSO3dBCHp+Blq5e0cvmsWqFeOpVGtmU5yKsbS8pd69Rs9ViyajS57zEtq6U4Aq/dJQ9AY7Ts5iGxiJXgq0PNHIXjFkKWn74yRD6DD2eZKZsVXirnNL7l02lEN0M/8MADeaMgb5G6PpO7kJOvvPKK8+KRQkbKSVnOByn0ZTq8SpClfGTIOwCzrxwcHKiKkDH5PLS1yNMHX+yLL76Yf7mY+fr06ZPPgDAqyb4w5s6d6+yDv0iTO5fy4TJFSB2srbq4L7CMFhm6uC9ll0lBafolFi1apJ7bq1cv5/yJEyeq54MjaDjuuONMcjb9itT7pTNYfi7+lsC1lmeNHDnSxIfGjh1ruv9rr71Wui81T9MPlbEM3/b51bE2LTTSySp6tPR70GFIOYq/pfbOmrrPGtZuDd/TVjzcl5roEbiz0n7g891nQsWmUoZveWV1/9KmSjZ44W9pNrb+sD4+U+nHsyrjioB2c1+C0/QzDjrooFwDhrU1wtYyjRlmBCn3mDMwkIRDK+fHnCA20LbsS2S+A5IsFU6YzbS2MmRZnyL9jCxDxPdn/gN+IGdULTkXl2HkvkThCOnILUzR26lTJ5UzpB2ta5p+3qTNHkhfbM1SAfowatQo59njx493joNjJIZwvbqHxcvpmkUDh6zFjDauBSTrZr5Ta7CZmsUWt6XWllfzQJBKGUyjssFciodVwLFL5Fk9g9mrWdoDwF9CFE5W+PJMs79DrdsW5KEE1n/eeeflpApflQzthozSyt1U4gyynM+8efPUVPWynB6AlL2aPQDPlgoyTSkDbRzK+dWqUPiMGTOc/UcffdTxsOa+MZ5++unSPhHgB0OGDNF5QkhYPCPtiHMur8V95W4GDRqkyknfBn1/2bV14vFR9IX813uDj6TEbrvtZro+OCzeAk7GydOdT86xitia4dxXkZ3b49PtxzYlx4QvBQCLwOCweBkImk2ZZZUonD/Y52/AHMNiWPEtqSq1h9vGrmKh/g4xwRnnLES8jNu+lyMg1bz80rWvFF+cTMvPXyB8D+RxhjU9HqO5udnR+SNdjRwc3BeeARAylympwOKR6qbauAfoAZ5//vl8HyH2bG/QgGtlCB1S7qbiIN9HmiHYQsoAep9VutxfaNlcawq6JGKJgenTpzv3gv9BiJ6BN5REaJT7M8hGi8pWru3xt08FbuFLVluFL0YztFRQVFtDa4clbxEmBMlJ8HdIHiOuyWS9l+98SwKTKHoErdxfbCBlnEyp6wM4gJZmjsvdgJ9UGzHMZYp80PQfAJcuRJkfS0lALmUY0rdSHKGea2X44Vk4Aq+tGVzuRpOr0CFI/8syZYosG6fp59KF7HthtaMEcoawcn+x4Stxx/DlDGC9hBY3wKKARUVouJ5PbIWG1YeG/7VpjsB+hlpMBpNDJo++JBzViJoQMskIjQIz2xqwFo+VFOKNN95QbQ+huOmmmxw/QJ5xEGaWsXvoEZqamhw9wgUXXJDrEbAOl6n+GPA5RAmDskD5Ps2nkQGdhtQjhM6mZo4QM00/Y/bs2c69IRctHMFX7s+H9MdX+yaPpaJBvdeCBQtMHMHqa4H7typ/hJA0/VYZ71tCWVXQDFlMAzoHqVLG31LlzIXBrO/F2lY+P+Z7X+U4gk9p4quLZBmI+OGlAspaO9FnBLLmjGTHXIuRqS4cQSIrkVc2mSSX+/OBy/vBt1+Wt7n++usLy+ICeJaWzk+W+wMnOOecc3JPIZAvzbMYdoCbb7453/c5q8LfwJJTAXEJEhdddJEzGLhvXJZRAvxGli6MwhEsafoTTywkSvFoHIGBvEJJHW0NcsN7kMC9k5Xon8B908oyJrX2R/Cl6WeEls6xhHll07tldtP6wjLbOtXHBj9fK78cJU3/6gJMmxqh4xiK0EyqoeDnh6b47bA6//jgIBlhBDfQHFEQgyBL87C3FbgM9BZFALeRegboEbBlwDHJf8AB4HOQYcyYMY79Aul/5WCQMRKNgWAEAnrLEl0MEi0IFg4wWgAMBo4cCBwECwOUHAg4Jo/j/nIgcNBtm14+hsKnh2D39hBYw/d4acz+B8yHQmIuynhit+mB4NO/h+r3ecbQwESUA1w4DwXrEXz1sHxE2PdRrNKigeUog30VJCcAYDvI7Ca+Enm4TsZoMCdIl9UOh2Bw7gM8W5Y9gq1CAnoBadvw+TfwoJJtB5H0rqBC9Ahsw/dtHPto1SOw7QF+gRag/KC8nnMGyHJ/+FsCMZ/y2sGDBzvHQ/0VYm7c9pr7LFbKAq4hNLaQp0drPCD7AEiXcFgZtVBy1gqyO7lVx1FLlAmDj8oRsO625Cq0lvNjcOesybr4+fJ6xBbKvuBvGW/oK/cXagCLCW57zZePkDtvv/126dFnLWzN5f6YeXNJPOjTkeOgCFy6cNiwYbnshgcS8iVknkiYvZBuOJvFfOX+kDdCK+WDpSrK/hbh8ssvT0466SRV56HlmgDfyHwYue1clij6QIDaUlNthqJSuT8JLolXZHTJwJ6/CLKVg4vJpSRovnJ/GBjacZ/LH45r5/jC/zAQpdqZyaVvhjCLhpiqVZ+dwqrPt5bd9S3J5BLOeu9KgzbkuC+uU15fKXVf9PR68AOMpYiJTbBwP0n48JVKHTzHAMrCIljX42Vm63smXFDKWHJFcykfTtOvDbpKQK5leb1WyqduafpjEaPYyR+GDx/e4meYYerUqS05EzL07dvXCeqF3My8lLD6Qe5CuQqSSiIE0FocWFGeT8ZBcJp+hi82EXoB+cMj/kPGRTB3q3ma/pAwsFqDl6ecqQzEUH7VmBGyrwz/atMzLy99YGLrS9NvJdo+1/zoafrrWTWFB5k196AVsm/WlLgrGzzQQvNee2cELpFXS3DIFohpSC1I/mq4L1Jv4CtdGNqX2GDOEFp7oh3Ui5gZi06IWRvRSrC4FmI106lGFqWDqlVLau1LbDBZtDrbEpZ4B0IDqwWWNFzVGqhOodRAYyA00BgIDbR1tFsRkh+mgTYD6BG+bqwaGquG/wswAOy1ISLLnfekAAAAAElFTkSuQmCC",t:13}]}]}],l:1}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"having-trouble-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestHavingTrouble",t:70},{n:"text",f:[{t:2,r:".havingTroubleLabel"}],t:13},{n:"end-icon",f:"ico_question_mark_circle",t:13}],f:[{t:7,e:"mds-tooltip",m:[{n:"id",f:"having-trouble-tooltip",t:13},{n:"message",f:[{t:2,r:".requestHavingTroubleAda"}],t:13},{n:"tooltip-placement",f:"above",t:13},{n:"edge-detection",f:"false",t:13}],f:[]}]}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"restart-method-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestRestartMethod",t:70},{n:"text",f:[{t:2,r:".requestRestartMethodLabel"}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}],n:50,r:".showRestartMethodLink"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-6",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"another-method-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestAnotherMethod",t:70},{n:"text",f:[{t:2,r:".requestAnotherMethodLabel"}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}],n:50,r:".showTryAnotherMethod"}]}]}]}]}})),define("caas/views/body/inAppPullVerify",["require","caas/template/body/inAppPullVerify","caas/views/specs/caas","caas/template/partials/confirmExitDialog"],(function(e){"use strict";var t=e("caas/template/body/inAppPullVerify"),n=e("caas/views/specs/caas");return function(){var i=this;i.viewName="inAppPullVerifyView",i.bridge=n,i.template=t,i.partials={confirmExitDialog:e("caas/template/partials/confirmExitDialog")},i.onReady=function(){i.trigger("actionMethod")},i.confirmVerificationExit=function(){i.trigger("cancelIdentityVerification")},i.cancelVerificationExit=function(){i.trigger("requestPreviousPage")}}})),define("caas/template/body/inAppSend",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"color-gray-4",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"id",f:"inapp-device-label",t:13},{n:"class",f:"mds-my-4 text-sm color-text-subdued",t:13}],f:[{t:2,r:".notificationSentInApplicationLabel"}]}," ",{t:7,e:"div",m:[{n:"id",f:"inapp-device-name",t:13},{n:"class",f:"mds-mb-5 text-md",t:13}],f:[{t:2,r:".eligibleMobileDeviceName"}]}],n:50,r:".eligibleMobileDeviceName"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"another-method-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestAnotherMethod",t:70},{n:"text",f:[{t:2,r:".requestAnotherMethodLabel"}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}],n:50,r:".showTryAnotherMethod"}]}]}]}]}})),define("caas/views/body/inAppSend",["require","caas/template/body/inAppSend","caas/views/specs/caas","caas/template/partials/confirmExitDialog"],(function(e){"use strict";var t=e("caas/template/body/inAppSend"),n=e("caas/views/specs/caas");return function(){var i=this;i.viewName="inAppSendView",i.template=t,i.bridge=n,i.partials={confirmExitDialog:e("caas/template/partials/confirmExitDialog")},i.onReady=function(){i.trigger("actionMethod"),setTimeout((()=>{const e=document.querySelector("#introduction-subheader");e&&e.focus()}),500)},i.confirmVerificationExit=function(){i.trigger("cancelIdentityVerification")},i.cancelVerificationExit=function(){i.trigger("requestPreviousPage")}}})),define("caas/template/body/inAppVerify",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"color-gray-4",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"another-notification-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestAnotherNotification",t:70},{n:"text",f:[{t:2,r:".requestAnotherNotificationLabel"}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-6",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"another-method-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestAnotherMethod",t:70},{n:"text",f:[{t:2,r:".requestAnotherMethodLabel"}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}],n:50,r:".showTryAnotherMethod"}]}]}]}]}})),define("caas/views/body/inAppVerify",["require","caas/template/body/inAppVerify","caas/views/specs/caas","caas/template/partials/confirmExitDialog"],(function(e){"use strict";var t=e("caas/template/body/inAppVerify"),n=e("caas/views/specs/caas");return function(){var i=this;i.viewName="inAppVerifyView",i.bridge=n,i.template=t,i.partials={confirmExitDialog:e("caas/template/partials/confirmExitDialog")},i.onReady=function(){i.trigger("actionMethod")},i.confirmVerificationExit=function(){i.trigger("cancelIdentityVerification")},i.cancelVerificationExit=function(){i.trigger("requestPreviousPage")}}})),define("caas/template/body/landing",[],(function(){return{v:4,t:[{t:7,e:"div"}]}})),define("caas/views/body/landing",["require","caas/template/body/landing","caas/views/specs/caas"],(function(e){"use strict";var t=e("caas/template/body/landing"),n=e("caas/views/specs/caas");return function(){var e=this;e.viewName="landingView",e.template=t,e.bridge=n}})),define("caas/template/body/options",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12 mds-my-at-0-4 mds-my-at-992-0",t:13}],f:[{t:7,e:"mds-list",m:[{n:"default-collapsed",f:"false",t:13},{n:"collapsible",f:"true",t:13},{n:"list-type",f:"navigational",t:13},{n:"selected-index",f:"-1",t:13},{n:"show-last-divider",f:"true",t:13},{n:"condensed",f:"false",t:13},{n:"id",f:"optionsList",t:13}],f:[{t:4,f:[{t:7,e:"mds-list-item",m:[{n:"id",f:[{t:2,r:"id"}],t:13},{n:"label",f:[{t:3,x:{r:["sanitizer","label"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"description",f:[{t:3,x:{r:["sanitizer","description"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"image-url",f:[{t:2,r:"logo"}],t:13},{n:"image-alt-text",f:[{t:3,x:{r:["sanitizer","logoAlt"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"click",f:{n:[{t:2,r:"onClick"}],d:[]},t:70},{n:"navigational-accessible-description",f:[{t:3,x:{r:["sanitizer","label","description"],s:'_0.sanitizeHTML(_1+". "+_2)'}}],t:13}],f:[]}],n:52,r:".optionsList"}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4",t:13}],f:[{t:7,e:"mds-link",m:[{n:"click",f:"requestIdentityVerificationSupport",t:70},{n:"id",f:"requestSupport",t:13},{n:"class",f:"text-sm",t:13},{n:"text",f:[{t:2,r:".requestIdentityVerificationSupportLabel"}],t:13},{n:"is-button",f:"true",t:13},{n:"end-icon",f:"ico_chevron_right",t:13}],f:[]}]}],n:50,r:"showCallUs"}]}]}],e:{}}})),define("caas/views/body/options",["require","caas/template/body/options","caas/views/specs/caas"],(function(e){"use strict";var t=e("caas/template/body/options"),n=e("caas/views/specs/caas");return function(){var e=this;e.viewName="optionsView",e.template=t,e.bridge=n,e.partials={}}})),define("caas/template/body/OTPNumericInput",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"otp-numeric-input",t:13}],f:[{t:4,f:[{t:7,e:"input",m:[{n:"type",f:"number",t:13},{n:"class",f:["input-code ",{t:4,f:["input-code-red-alert"],n:50,r:"otpInputMDSError"}],t:13},{n:"aria-label",f:["Enter Your Code Input Box ",{t:2,x:{r:["index"],s:"_0+1"}}],t:13},{n:"tabindex",f:"0",t:13},{n:"value",f:[{t:2,rx:{r:"OTPInputElements",m:[{t:30,n:"index"}]}}],t:13}]}],n:52,i:"index",r:"~/OTPInputElements"}]}],e:{}}})),define("caas/views/body/OTPNumericInput",["require","caas/lib/constants","blue/dom","blue/object/extend","caas/template/body/OTPNumericInput","appkit-utilities/validation/trigger","caas/views/specs/caas"],(function(e){"use strict";const t=e("caas/lib/constants"),n=e("blue/dom"),i=e("blue/object/extend"),r=e("caas/template/body/OTPNumericInput"),s=e("appkit-utilities/validation/trigger"),a=e("caas/views/specs/caas");return function(){const e=this;e.template=r,e.viewName="OTPNumericInputView",i(a.triggers,s),e.bridge=a,e.onInput=e=>{const[t,...n]=e.target.value;e.target.value=t||"";!!t&&e.target.nextElementSibling&&(e.target.nextElementSibling.select(),""===e.target.nextElementSibling.value&&(e.target.nextElementSibling.value=n.join(""),e.target.nextElementSibling.dispatchEvent(new Event("input"))))};e.onKeyDown=n=>{if(e.model.otpInputMDSError=!1,e.model.otpInputError=!1,n&&n.key){const i=t.CHAR_REMOVAL_ENTRIES.includes(n.key),r=""===n.target.value&&i&&n.target.previousElementSibling;"Enter"===n.key?e.trigger("verifyOTPInput"):(e=>{const n=e.key,i=isFinite(n),r=!!e.shiftKey&&"Shift"!==n,s=!(!e.ctrlKey&&!e.metaKey||"v"!==n),a=t.RESERVED_KEY_ENTRIES.includes(n);return!s&&!a&&!i||r})(n)?(e.model.otpInputMDSError=!0,e.trigger("customOTPValidator")):r&&n.target.previousElementSibling.select()}},e.onClick=e=>{let t=[],n=e.target.parentElement.children;for(let i=0;i<n.length;i++)""!==n[i].value&&(t.push(n[i]),e.target.select());let i=t[t.length-1];0===t.length?n[0].focus():t.length>0&&""===e.currentTarget.value&&i.nextElementSibling&&i.nextElementSibling.focus()},e.addInputElementHandlers=()=>{let e=[],t=n.querySelector("#otp-numeric-input").children;e=t;for(var i=0;i<t.length;i++)e[i].addEventListener("input",this.onInput),e[i].addEventListener("keydown",this.onKeyDown),e[i].addEventListener("click",this.onClick)},e.removeInputElementHandlers=()=>{let e=[],t=n.querySelector("#otp-numeric-input").children;e=t;for(var i=0;i<t.length;i++)e[i].removeEventListener("input",this.onInput),e[i].removeEventListener("keydown",this.onKeyDown),e[i].removeEventListener("click",this.onClick)},e.onInit=function(){n.addEventListener("caasVerifyRendered",e.addInputElementHandlers)},e.onDestroy=function(){e.removeInputElementHandlers()}}})),define("caas/template/body/sms",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"color-gray-4 mds-my-4",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"text-sm",t:13}],f:[{t:4,f:[{t:2,r:".chooseSmsNumberLabel"}," ",{t:7,e:"p",m:[{n:"class",f:"text-md",t:13},{n:"id",f:"sms-select-text",t:13}],f:[{t:2,r:"smsNumbers.0.last4DgtsPhoneNumber"}]}],n:50,x:{r:["smsNumbers.length"],s:"_0==1"}},{t:4,n:50,f:[{t:7,e:"mds-radio-group",m:[{n:"name",f:"sms-radio-group",t:13},{n:"id",f:"eligibleTextContacts",t:13},{n:"radio-field-group-label-text",f:[{t:2,r:".chooseSmsNumberLabel"}],t:13},{n:"radio-buttons",f:[{t:2,x:{r:["convertToMdsDataType","smsNumbers"],s:"_0(_1)"}}],t:13},{n:"radio-type",f:"base",t:13},{n:"selected-index",f:"-1",t:13},{n:"error-message",f:[{t:2,r:".smsRadioGroupError"}],t:13},{n:"error-icon-accessible-text",f:[{t:2,r:"~/requiredAda",s:!0}],t:13},{n:"change",f:"onPhoneNumberSelect",t:70},{n:"layout",f:"vertical",t:13},{n:"field-group-layout",f:"vertical",t:13},{n:"inactive",f:"false",t:13},{n:"required",f:"false",t:13}],f:[]}],x:{r:["smsNumbers.length"],s:"_0==2"},l:1},{t:4,n:51,f:[" ",{t:7,e:"div",m:[{n:"class",f:"row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-at-0-12 mds-col-at-576-6 sms-dropdown",t:13}],f:[{t:7,e:"mds-select",m:[{n:"id",f:"eligibleTextContacts",t:13},{n:"value",f:[{t:2,r:".selectedContactID"}],t:13},{n:"change",f:"onPhoneNumberSelect",t:70},{n:"label",f:[{t:2,r:".chooseSmsNumberLabel"}],t:13},{n:"blur",f:"formFieldTracking",t:70}],f:[{t:4,f:[{t:7,e:"mds-select-option",m:[{n:"value",f:[{t:2,r:"smsNumber.value"}],t:13},{n:"label",f:[{t:2,r:"smsNumber.label"}],t:13}],f:[]}],n:52,z:[{n:"smsNumber",x:{r:"."}}],x:{r:["convertToMdsDataType","smsNumbers"],s:"_0(_1,false)"}}]}]}]}],l:1}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"have-code-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestHaveACode",t:70},{n:"text",f:[{t:2,r:".requestHaveACodeLabel"}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}],n:50,r:".showCallUs"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-6",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"another-method-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestAnotherMethod",t:70},{n:"text",f:[{t:2,r:".requestAnotherMethodLabel",s:!0}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}],n:50,r:".showTryAnotherMethod"}]}]}]}],e:{}}})),define("caas/views/body/sms",["require","caas/shared/helper","caas/template/body/sms","caas/views/specs/caas","blue/object/extend","appkit-utilities/validation/trigger","common/lib/ada/setFocus"],(function(e){"use strict";var t=e("caas/shared/helper").getNested,n=e("caas/template/body/sms"),i=e("caas/views/specs/caas"),r=e("blue/object/extend"),s=e("appkit-utilities/validation/trigger"),a=e("common/lib/ada/setFocus");return function(){var e=this;e.viewName="smsView",e.template=n,r(i.triggers,s),e.bridge=i,e.handleSmsRadioError=e=>{e&&a({selector:'mds-radio-group[name="sms-radio-group"]',delay:1e3})},e.onInit=function(){e.model={convertToMdsDataType:e.convertToMdsDataType},e.onData("smsRadioGroupError",e.handleSmsRadioError,{init:!1})},e.convertToMdsDataType=function(e,n=!0){const i=e.map((e=>({label:e.last4DgtsPhoneNumber,value:(t(e,"contactReferenceIdentifier")||"").toString()})));return n?JSON.stringify(i):i},e.cancelVerificationExit=function(){e.trigger("requestPreviousPage")},e.onDestroy=function(){}}})),define("caas/template/body/verifyOTP",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-at-0-12 mds-col-at-576-12",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"verifyOTPContainer",t:13}],f:[{t:7,e:"OTPNumericInput",m:[{n:"OTPInputElements",f:[{t:2,r:".OTPInputElements"}],t:13},{n:"otpInputMDSError",f:[{t:2,r:".otpInputMDSError"}],t:13},{n:"otpInputError",f:[{t:2,r:".otpInputError"}],t:13}]}," ",{t:7,e:"mds-alert",m:[{n:"accessible-text-icon",f:"_Error icon_",t:13},{n:"alert-title",f:[{t:2,r:".otpInputError"}],t:13},{n:"background",f:"false",t:13},{n:"class",f:[{t:4,f:["error-is-active"],n:50,x:{r:[".otpInputMDSError",".otpInputError"],s:"_0||_1"}}],t:13},{n:"focusable",f:"true",t:13},{n:"full-width",f:"false",t:13},{n:"heading-level",f:"2",t:13},{n:"id",f:"input-code-error",t:13},{n:"inverse",f:"false",t:13},{n:"shows-close-button",f:"false",t:13},{n:"size",f:"mini",t:13},{n:"variant",f:"error",t:13}],f:[]}]}]}]}],n:50,x:{r:[".customOtpFeatureFlag",".hasRequiredViewport"],s:"_0&&_1"}},{t:4,n:51,f:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-at-0-12 mds-col-at-576-6",t:13}],f:[{t:7,e:"mds-text-input-secure",m:[{n:"autocomplete-value",f:"one-time-code",t:13},{n:"error-message",f:[{t:2,r:".otpInputError"}],t:13},{n:"hide-button-text",f:[{t:2,r:"~/hideLabel",s:!0}],t:13},{n:"id",f:"otpInput",t:13},{n:"inactive",f:"false",t:13},{n:"input-columns",f:"mds-col-12",t:13},{n:"label-columns",f:"mds-col-12",t:13},{n:"label-style",f:"vertical",t:13},{n:"label",f:[{t:2,r:".submitVerificationCodeHeader"}],t:13},{n:"name",f:"otp-input",t:13},{n:"blur",f:"otpValidator",t:70},{n:"focus",f:"otpFocusHandler",t:70},{n:"required",f:0,t:13},{n:"show-button-text",f:[{t:2,r:"~/showLabel",s:!0}],t:13},{n:"value",f:[{t:2,r:".otpInput"}],t:13},{n:"variant",f:"box",t:13}],f:[]}]}]}],l:1}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:4,f:[{t:7,e:"mds-link",m:[{n:"id",f:"get-another-otp-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:{n:[{t:2,r:".linkAction"}],d:[]},t:70},{n:"text",f:[{t:2,r:".linkLabel"}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}],n:50,r:".linkLabel"}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-6",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"another-method-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestAnotherMethod",t:70},{n:"text",f:[{t:2,r:".requestAnotherMethodLabel",s:!0}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}],n:50,r:".showTryAnotherMethod"}]}]}],e:{}}})),define("caas/views/body/verifyOTP",["require","blue/object/extend","common/lib/ada/setFocus","caas/template/body/verifyOTP","appkit-utilities/validation/trigger","caas/views/specs/caas","blue/dom","caas/views/body/OTPNumericInput"],(function(e){"use strict";var t=e("blue/object/extend"),n=e("common/lib/ada/setFocus"),i=e("caas/template/body/verifyOTP"),r=e("appkit-utilities/validation/trigger"),s=e("caas/views/specs/caas"),a=e("blue/dom");return function(){var o=this;o.viewName="verifyOTPView",o.template=i,t(s.triggers,r),o.bridge=s;const c=window.matchMedia("(min-width: 380px)");o.focusError=()=>{},o.otpInputError=e=>{e&&e.length&&n.call(o,{selector:'mds-text-input-secure[name="otp-input"]',delay:1e3})};const l=()=>{o.model&&(o.model.hasRequiredViewport=c.matches)},u=new CustomEvent("caasVerifyRendered");o.onReady=()=>{window.addEventListener("resize",l),a.dispatchEvent(u)},o.onInit=()=>{l(),o.onData("otpInputError",o.otpInputError,{init:!1}),o.onData("focusError",o.focusError,{init:!1}),o.onData("hasRequiredViewport",(()=>o.trigger("clearOtpInput")))},o.onDestroy=()=>{window.removeEventListener("resize",l)},o.views={OTPNumericInput:e("caas/views/body/OTPNumericInput")}}})),define("caas/template/body/voice",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"color-gray-4 mds-my-4",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"text-sm",t:13}],f:[{t:4,f:[{t:2,r:".chooseVoiceNumberLabel"}," ",{t:7,e:"p",m:[{n:"class",f:"text-md",t:13}],f:[{t:2,r:"voiceNumbers.0.last4DgtsPhoneNumber"}]}],n:50,x:{r:["voiceNumbers.length"],s:"_0==1"}},{t:4,n:50,f:[{t:7,e:"mds-radio-group",m:[{n:"name",f:"voice-radio-group",t:13},{n:"id",f:"eligibleReceiveCallContacts",t:13},{n:"radio-field-group-label-text",f:[{t:2,r:".chooseVoiceNumberLabel"}],t:13},{n:"radio-buttons",f:[{t:2,x:{r:["convertToMdsDataType","voiceNumbers"],s:"_0(_1)"}}],t:13},{n:"radio-type",f:"base",t:13},{n:"selected-index",f:"-1",t:13},{n:"error-message",f:[{t:2,r:".voiceRadioGroupError"}],t:13},{n:"error-icon-accessible-text",f:[{t:2,r:"~/requiredAda",s:!0}],t:13},{n:"change",f:"onVoiceNumberSelect",t:70},{n:"layout",f:"vertical",t:13},{n:"field-group-layout",f:"vertical",t:13},{n:"inactive",f:"false",t:13},{n:"required",f:"false",t:13}],f:[]}],x:{r:["voiceNumbers.length"],s:"_0==2"},l:1},{t:4,n:51,f:[" ",{t:7,e:"div",m:[{n:"class",f:"row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-at-0-12 mds-col-at-576-6",t:13}],f:[{t:7,e:"mds-select",m:[{n:"id",f:"eligibleReceiveCallContacts",t:13},{n:"value",f:[{t:2,r:".selectedContactID"}],t:13},{n:"change",f:"onVoiceNumberSelect",t:70},{n:"label",f:[{t:2,r:".chooseVoiceNumberLabel"}],t:13},{n:"blur",f:"formFieldTracking",t:70}],f:[{t:4,f:[{t:7,e:"mds-select-option",m:[{n:"value",f:[{t:2,r:"voiceNumber.value"}],t:13},{n:"label",f:[{t:2,r:"voiceNumber.label"}],t:13}],f:[]}],n:52,z:[{n:"voiceNumber",x:{r:"."}}],x:{r:["convertToMdsDataType","voiceNumbers"],s:"_0(_1,false)"}}]}]}]}],l:1}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"have-code-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestHaveACode",t:70},{n:"text",f:[{t:2,r:".requestHaveACodeLabel"}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}],n:50,r:".showCallUs"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-4 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"another-method-link",t:13},{n:"class",f:"text-sm",t:13},{n:"click",f:"requestAnotherMethod",t:70},{n:"text",f:[{t:2,r:".requestAnotherMethodLabel",s:!0}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}],n:50,r:".showTryAnotherMethod"}]}]}]}],e:{}}})),define("caas/views/body/voice",["require","caas/shared/helper","caas/template/body/voice","caas/views/specs/caas","blue/object/extend","appkit-utilities/validation/trigger","common/lib/ada/setFocus"],(function(e){"use strict";var t=e("caas/shared/helper").getNested,n=e("caas/template/body/voice"),i=e("caas/views/specs/caas"),r=e("blue/object/extend"),s=e("appkit-utilities/validation/trigger"),a=e("common/lib/ada/setFocus");return function(){var e=this;e.viewName="voiceView",e.template=n,r(i.triggers,s),e.bridge=i,e.handleVoiceRadioError=e=>{e&&a({selector:'mds-radio-group[name="voice-radio-group"]',delay:1e3})},e.onInit=function(){e.model={convertToMdsDataType:e.convertToMdsDataType},e.onData("voiceRadioGroupError",e.handleVoiceRadioError,{init:!1})},e.convertToMdsDataType=function(e,n=!0){const i=e.map((e=>({label:e.last4DgtsPhoneNumber,value:(t(e,"contactReferenceIdentifier")||"").toString()})));return n?JSON.stringify(i):i},e.cancelVerificationExit=function(){e.trigger("requestPreviousPage")},e.onDestroy=function(){}}})),define("caas/template/caasContainer",[],(function(){return{v:4,t:[{t:7,e:"div",f:[{t:4,f:[{t:7,e:"mds-skeleton-loader",m:[{n:"variant",f:"list",t:13}],f:[]}],n:50,x:{r:[".loaded"],s:"!_0"}}]}],e:{}}})),define("caas/template/partials/learnMoreFAQ",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"learn-more-slide-content",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"faq-question",t:13}],f:[{t:7,e:"mds-expandable-text",m:[{n:"label",f:[{t:2,r:".learnMorePrimaryBusinessHeader",s:!0}],t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"expandable-text",t:13},{n:"class",f:"faq-content",t:13}],f:[{t:2,r:".learnMorePrimaryBusinessMessage",s:!0}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"faq-question",t:13}],f:[{t:7,e:"mds-expandable-text",m:[{n:"label",f:[{t:2,r:".learnMorePendingApplicationHeader",s:!0}],t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"expandable-text",t:13},{n:"class",f:"faq-content",t:13}],f:[{t:2,r:".learnMorePendingApplicationMessage",s:!0}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"faq-question",t:13}],f:[{t:7,e:"mds-expandable-text",m:[{n:"label",f:[{t:2,r:".learnMoreTaxIdentificationNumberHeader",s:!0}],t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"expandable-text",t:13},{n:"class",f:"faq-content",t:13}],f:[{t:2,r:".learnMoreTaxIdentificationNumberMessage",s:!0}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"faq-question",t:13}],f:[{t:7,e:"mds-expandable-text",m:[{n:"label",f:[{t:2,r:".learnMoreMultipleAccountsHeader",s:!0}],t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"expandable-text",t:13},{n:"class",f:"faq-content",t:13}],f:[{t:2,r:".learnMoreMultipleAccountsMessage",s:!0}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"faq-question",t:13}],f:[{t:7,e:"mds-expandable-text",m:[{n:"label",f:[{t:2,r:".learnMoreSecurityNotificationHeader",s:!0}],t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"expandable-text",t:13},{n:"class",f:"faq-content",t:13}],f:[{t:2,r:".learnMoreSecurityNotificationMessage",s:!0}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"faq-question",t:13}],f:[{t:7,e:"mds-expandable-text",m:[{n:"label",f:[{t:2,r:".learnMoreReceiveTextHeader",s:!0}],t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"expandable-text",t:13},{n:"class",f:"faq-content",t:13}],f:[{t:2,r:".learnMoreReceiveTextMessage",s:!0}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"faq-question",t:13}],f:[{t:7,e:"mds-expandable-text",m:[{n:"label",f:[{t:2,r:".learnMoreReceiveCallHeader",s:!0}],t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"expandable-text",t:13},{n:"class",f:"faq-content",t:13}],f:[{t:2,r:".learnMoreReceiveCallMessage",s:!0}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"faq-question",t:13}],f:[{t:7,e:"mds-expandable-text",m:[{n:"label",f:[{t:2,r:".learnMoreDriversLicenseHeader",s:!0}],t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"expandable-text",t:13},{n:"class",f:"faq-content",t:13}],f:[{t:2,r:".learnMoreDriversLicenseMessage",s:!0}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"faq-question",t:13}],f:[{t:7,e:"mds-expandable-text",m:[{n:"label",f:[{t:2,r:".learnMoreVerificationCodeHeader",s:!0}],t:13}],f:[{t:7,e:"div",m:[{n:"slot",f:"expandable-text",t:13},{n:"class",f:"faq-content",t:13}],f:[{t:2,r:".learnMoreVerificationCodeMessage",s:!0}]}]}]}]}]}})),define("caas/views/caasContainer",["require","caas/template/caasContainer","caas/views/specs/caas","caas/template/partials/learnMoreFAQ"],(function(e){"use strict";var t=e("caas/template/caasContainer"),n=e("caas/views/specs/caas");return function(){var i=this;i.viewName="caasContainerView",i.template=t,i.bridge=n,i.partials={learnMoreFAQ:e("caas/template/partials/learnMoreFAQ")}}})),define("caas/template/container",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13},{n:"role",f:"main",t:13},{n:"aria-label",f:[{t:2,r:".identityVerificationHeader",s:!0}],t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-offset-at-0-0 mds-col-at-0-12 mds-offset-at-576-2 mds-col-at-576-8 mds-offset-at-768-3 mds-col-at-768-6 mds-px-at-0-6 mds-px-at-576-0",t:13}],f:[{t:4,f:[{t:7,e:"div",f:[{t:7,e:"mds-skeleton-loader",m:[{n:"accessible-is-loading-text",f:[{t:2,r:"~/contentLoadingAda",s:!0}],t:13},{n:"accessible-has-loaded-text",f:[{t:2,r:"~/contentLoadedAda",s:!0}],t:13},{n:"variant",f:"content-block",t:13},{n:"is-animated",f:"true",t:13}],f:[]}]}],n:50,r:".showLoader"}," ",{t:7,e:"div",m:[{n:"id",f:"dialog",t:13},{t:4,f:[{n:"class",f:"hidden-element",t:13}],n:50,r:".showLoader"}]}," ",{t:7,e:"div",m:[{n:"id",f:"introduction",t:13},{t:4,f:[{n:"class",f:"hidden-element",t:13}],n:50,r:".showLoader"}]}," ",{t:7,e:"div",m:[{n:"id",f:"caasBody",t:13},{t:4,f:[{n:"class",f:"hidden-element",t:13}],n:50,r:".showLoader"}]}," ",{t:7,e:"div",m:[{n:"id",f:"actionsButtons",t:13},{t:4,f:[{n:"class",f:"hidden-element",t:13}],n:50,r:".showLoader"}]}]}]}]}})),define("caas/views/container",["require","caas/template/container","caas/views/specs/caas"],(function(e){"use strict";var t=e("caas/template/container"),n=e("caas/views/specs/caas");return function(){var e=this;e.viewName="containerView",e.template=t,e.bridge=n;let i=0,r=0,s=0,a=0;e.handleSwipe=()=>{const t=Math.abs(i-r),n=Math.abs(s-a);t>50&&n<30&&e.trigger("swipeExit")},e.detectSwipeStart=e=>{i=e.changedTouches[0].screenX,s=e.changedTouches[0].screenY},e.handleSwipeEnd=t=>{r=t.changedTouches[0].screenX,a=t.changedTouches[0].screenY,e.handleSwipe()},e.onReady=()=>{document.addEventListener("touchstart",e.detectSwipeStart),document.addEventListener("touchend",e.handleSwipeEnd)},e.onDestroy=()=>{document.removeEventListener("touchstart",e.detectSwipeStart),document.removeEventListener("touchend",e.handleSwipeEnd)}}})),define("caas/template/dialog",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"confirm-cancel-otp-dialog",t:13}],f:[{t:7,e:"mds-dialog",m:[{n:"id",f:"caas-cancel-confirm",t:13},{n:"dialog-header-icon-name",f:"ico_alert_filled",t:13},{n:"dialog-header-icon-accessible-name",f:[{t:2,r:"~/warningAda",s:!0}],t:13},{n:"dialog-height",f:"233",t:13},{n:"dialog-width",f:"515",t:13},{n:"header-text",f:[{t:2,r:".identifyVerificationExitHeader",s:!0}],t:13},{n:"primary-button-text",f:[{t:2,r:".cancelConfirmationLabel",s:!0}],t:13},{n:"secondary-button-one-text",f:[{t:2,r:".requestPreviousPageLabel",s:!0}],t:13},{n:"triggerId",f:"verifyInApp",t:13},{n:"open",f:[{t:2,r:".openCancelDialog"}],t:13},{n:"dialog-content",f:[{t:2,r:".identifyVerificationExitAdvisory",s:!0}],t:13},{n:"close-on-overlay-click",f:"true",t:13}],f:[]}]}]}})),define("caas/views/dialog",["require","caas/template/dialog","caas/views/specs/caas","common/lib/ada/setFocus","common/lib/elementObserver"],(function(e){"use strict";var t=e("caas/template/dialog"),n=e("caas/views/specs/caas"),i=e("common/lib/ada/setFocus");const r=e("common/lib/elementObserver");return function(e){let s=this;s.viewName="dialogView",s.template=t,s.bridge=n,s.partials={},s.elementObserver=new r,s.handleDialogCloseFocus=function(){const e=document.getElementById("introduction-alert"),t=document.getElementById("introduction-subheader");let n;e&&e.getAttribute("alert-title")?n="#introduction-alert":t&&t.textContent&&(n="#introduction-subheader"),n&&s.elementObserver.isInserted(n,(function(){i({selector:n,delay:1e3})}))},s.confirmCancel=function(){s.trigger("confirm",{})},s.exitCancel=function(){s.trigger("cancel",{}),s.handleDialogCloseFocus()},s.handleClose=function(){s.trigger("close",{})};const a=e=>{if("boolean"==typeof e&&!e){const e="#cancel-content",t=500;i.call(s,{selector:e,delay:t})}};s.onReady=function(){(()=>{let t=(e.findElements("#caas-cancel-confirm")||[])[0];t&&(t.addEventListener("click-button1",s.confirmCancel),t.addEventListener("click-button2",s.exitCancel),t.addEventListener("close",s.handleClose))})(),s.onData("openCancelDialog",a)}}})),define("caas/template/header",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"content-block",t:13},{n:"class",f:"caasContainer",t:13}],f:[{t:7,e:"div",m:[{n:"id",f:"mfaPreAuthWrapper",t:13}],f:[{t:7,e:"mds-progress-spinner",m:[{n:"open",f:[{t:2,r:".showSpinner"}],t:13}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"brand-bar",t:13}],f:[{t:7,e:"mds-brand-bar",m:[{n:"variant",f:"custom",t:13},{n:"logo",f:[{t:2,r:".logoUrl"}],t:13},{n:"max-width",f:"1200px",t:13},{n:"accessible-logo-name",f:"brand-bar",t:13},{n:"logo-accessible-text",f:[{t:2,r:".logoAda"}],t:13}],f:[]}]}],n:50,r:".showBrandBar"}," ",{t:7,e:"div",m:[{n:"class",f:"mds-container-fluid mds-mt-4 container-max-width-1200",t:13}],f:[{t:7,e:"div",m:[{n:"id",f:"challenge-options",t:13}]}]}]}]}]}})),define("caas/views/header",["require","caas/template/header","caas/views/specs/caas","blue/root","caas/shared/helper"],(function(e){"use strict";const t=e("caas/template/header"),n=e("caas/views/specs/caas"),i=e("blue/root"),r=e("caas/shared/helper").getPostTargetOrigin;return function(){const e=this;e.viewName="headerView",e.template=t,e.bridge=n;const s=e=>{"Escape"===e.key&&(e.preventDefault(),e.stopPropagation())};this.getPostTargetOrigin=()=>r(),this.sendPostMessage=t=>{const n=this.getPostTargetOrigin(),i={caas:t&&JSON.parse(JSON.stringify(t))||{}};n?(parent.postMessage(i,n),e.trigger("confirmPostMessageSent")):e.trigger("postMessageError")},this.redirectToUrl=e=>{window.location.hash=e},e.onReady=()=>{i.addEventListener("keydown",s),e.onData("postMessageParams",this.sendPostMessage,{init:!1}),e.onData("completedRedirectUrl",this.redirectToUrl,{init:!1}),e.hideDashboard()},e.onDestroy=()=>{i.removeEventListener("keydown",s),e.showDashboard()},e.hideDashboard=()=>{e.dashboardContent=document.getElementById("dashboard-content"),e.applicationOverlay=document.getElementById("applicationOverlay"),e.dashboardContent&&e.applicationOverlay&&(e.dashboardContent.setAttribute("aria-hidden","true"),e.dashboardContent.setAttribute("inert","true"),e.dashboardContent.style.display="none")},e.showDashboard=()=>{e.dashboardContent&&e.applicationOverlay&&(e.dashboardContent.removeAttribute("aria-hidden"),e.dashboardContent.removeAttribute("inert"),e.dashboardContent.style.display="block")}}})),define("caas/template/introduction",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-mb-4",t:13}],f:[{t:4,f:[{t:7,e:"h1",m:[{n:"class",f:"color-gray-4 font-bold text-sm mds-text-at-0-center mds-text-at-576-left",t:13},{n:"id",f:"challengeIntroductionHeader",t:13},{n:"tabindex",f:"-1",t:13}],f:[{t:2,r:"viewIntroduction.header"}]}],n:50,r:"viewIntroduction.header"}," ",{t:4,f:[{t:7,e:"div",m:[{n:"id",f:"alert-introduction-container",t:13},{n:"class",f:"mds-my-4",t:13},{n:"tabindex",f:"0",t:13}],f:[{t:7,e:"mds-alert",m:[{n:"id",f:"introduction-alert",t:13},{n:"variant",f:[{t:2,r:"viewMdsAlert.alertProperties.variant"}],t:13},{n:"alert-title",f:[{t:3,x:{r:["sanitizer","viewMdsAlert.alertProperties.alertTitle"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"accessible-text-icon",f:[{t:2,r:"viewMdsAlert.alertProperties.accessibleTextIcon"}],t:13},{n:"message",f:[{t:3,x:{r:["sanitizer","viewMdsAlert.alertProperties.message"],s:'_0.sanitizeHTML(_1||"")'}}],t:13},{n:"size",f:[{t:2,x:{r:["viewMdsAlert.alertProperties.size"],s:'_0||"base"'}}],t:13},{n:"heading-level",f:[{t:2,x:{r:["viewMdsAlert.alertProperties.headingLevel"],s:"_0||2"}}],t:13},{n:"background",f:[{t:2,x:{r:["viewMdsAlert.alertProperties.background"],s:"_0||false"}}],t:13},{n:"close-button-accessible-text",f:[{t:2,x:{r:["viewMdsAlert.alertProperties.closeButtonAccessibleText"],s:'_0||"Dismiss alert"'}}],t:13},{n:"full-width",f:[{t:2,x:{r:["viewMdsAlert.alertProperties.fullWidth"],s:"_0||true"}}],t:13},{n:"inverse",f:[{t:2,x:{r:["viewMdsAlert.alertProperties.inverse"],s:"_0||false"}}],t:13},{n:"shows-close-button",f:[{t:2,x:{r:["viewMdsAlert.alertProperties.showsCloseButton"],s:"_0||false"}}],t:13},{n:"focusable",f:[{t:2,x:{r:["viewMdsAlert.alertProperties.focusable"],s:"_0||true"}}],t:13},{n:"tabindex",f:"0",t:13}],f:[]}]}],n:50,r:"viewMdsAlert.showAlert"}," ",{t:7,e:"div",m:[{n:"class",f:"mds-d-flex mds-ai-center mds-fd-at-0-column mds-fd-at-576-row mds-mt-5  mds-mb-4",t:13}],f:[{t:4,f:[{t:7,e:"img",m:[{n:"id",f:"introduction-header-illustration",t:13},{n:"src",f:[{t:2,r:"viewIntroduction.icon"}],t:13},{n:"alt",f:[{t:3,x:{r:["sanitizer","viewIntroduction.iconAlt"],s:"_0.sanitizeHTML(_1)"}}],t:13}]}],n:50,r:"viewIntroduction.iconExists"}," ",{t:7,e:"h2",m:[{n:"class",f:["font-light text-3xl color-black-10 ",{t:4,f:["mds-ml-0 mds-ml-at-576-5"],n:50,r:"viewIntroduction.iconExists"},{t:4,n:51,f:["mds-text-at-0-center mds-text-at-576-left mds-my-4"],l:1}],t:13},{n:"id",f:"introduction-subheader",t:13},{n:"tabindex",f:"-1",t:13}],f:[{t:3,x:{r:["sanitizer","viewIntroduction.title"],s:"_0.sanitizeHTML(_1)"}}]}]}," ",{t:4,f:[{t:7,e:"p",m:[{n:"id",f:"introduction-message",t:13},{n:"class",f:"text-md font-normal color-black-10",t:13}],f:[{t:3,x:{r:["sanitizer","viewIntroduction.subTitle"],s:"_0.sanitizeHTML(_1)"}}]}],n:50,r:"viewIntroduction.subTitle"}]}]}]}],e:{}}})),define("caas/views/introduction",["require","common/lib/ada/setFocus","caas/template/introduction","caas/views/specs/caas","common/lib/elementObserver"],(function(e){"use strict";const t=e("common/lib/ada/setFocus"),n=e("caas/template/introduction"),i=e("caas/views/specs/caas"),r=e("common/lib/elementObserver");return function(){var e=this,s=new r;e.viewName="introductionView",e.template=n,e.bridge=i,e.partials={};const a=n=>{const i=(n=n||{}).alertProperties&&n.alertProperties.variant,r=e.isInitialPage&&n.header,a=!e.isInitialPage&&n.title;let o;i?o="#introduction-alert":r?(o="#challengeIntroductionHeader",e.isInitialPage=!1):a&&(o="#introduction-subheader"),o&&s.isInserted(o,(function(){t.call(e,{selector:o,delay:1e3})}))};e.onInit=function(){e.isInitialPage=!0,e.onData("introAlertContent",a,{init:!1}),e.onData("introHeaderContent",a,{init:!1})}}})),define("caas/template/scam_protection/interceptContainer",[],(function(){return{v:4,t:[{t:7,e:"div",f:[{t:4,f:[{t:7,e:"div",f:[{t:7,e:"mds-skeleton-loader",m:[{n:"accessible-is-loading-text",f:[{t:2,r:"~/contentLoadingAda",s:!0}],t:13},{n:"accessible-has-loaded-text",f:[{t:2,r:"~/contentLoadedAda",s:!0}],t:13},{n:"variant",f:"content-block",t:13},{n:"is-animated",f:"true",t:13}],f:[]}]}],n:50,r:".showLoader"}," ",{t:7,e:"div",m:[{n:"id",f:"intercepterBody",t:13},{t:4,f:[{n:"class",f:"hidden-element",t:13}],n:50,r:".showLoader"}]}]}]}})),define("caas/views/scam_protection/specs/scamHeader",{name:"SCAM_HEADER",preventDefault:!0,defaultBindings:!0,bindings:{showBrandBar:{direction:"BOTH"},logoUrl:{},logoAda:{},completedRedirectUrl:{},postMessageParams:{}},triggers:{}}),define("caas/views/scam_protection/interceptContainer",["require","caas/template/scam_protection/interceptContainer","caas/views/scam_protection/specs/scamHeader"],(function(e){"use strict";var t=e("caas/template/scam_protection/interceptContainer"),n=e("caas/views/scam_protection/specs/scamHeader");return function(){var e=this;e.viewName="interceptContainerView",e.template=t,e.bridge=n,e.partials={}}})),define("caas/template/scam_protection/paymentPurpose",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-container-fluid dashboard-container",t:13}],f:[{t:7,e:"div",m:[{n:"className",f:"mds-row dashboard-container",t:13}],f:[{t:7,e:"div",m:[{n:"className",f:"mds-col-at-576-12 mds-col-at-992-10 dashboard-container",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-py-3 mds-m-0",t:13},{n:"tabindex",f:"0",t:13}],f:[{t:7,e:"h1",m:[{n:"id",f:"paymentPurposeHeader",t:13},{n:"class",f:"mds-text-center mds-subtitle-medium-heavier mds-mb-0",t:13}],f:[{t:3,x:{r:["sanitizer","paymentPurposeHeader"],s:"_0.sanitizeHTML(_1)"}}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-0 mds-col-12 mds-col-at-576-8 mds-col-at-768-6 mds-mx-auto",t:13}],f:[{t:7,e:"mds-hero-header",m:[{n:"variant",f:"textOnly",t:13},{n:"heading",f:[{t:3,x:{r:["sanitizer","selectPaymentReasonHeader"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"description-text",f:[{t:3,x:{r:["sanitizer","selectPaymentReasonAdvisory"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"heading-level",f:"2",t:13},{n:"tabindex",f:"0",t:13},{n:"icon-color",f:"success",t:13},{n:"max-width",f:"700",t:13}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-6",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-pb-3",t:13},{n:"tabindex",f:"0",t:13}],f:[{t:7,e:"mds-alert",m:[{n:"id",f:"acknowledgementError",t:13},{n:"aria-live",f:"polite",t:13},{n:"variant",f:"error",t:13},{n:"alert-title",f:[{t:3,x:{r:["sanitizer","chooseOptionAlertLabel"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"accessible-text-icon",f:[{t:2,r:"errorAnnouncementAda"}],t:13},{n:"size",f:"small",t:13},{n:"heading-level",f:"4",t:13}]}," ",{t:7,e:"div",m:[{n:"aria-live",f:"assertive",t:13},{n:"aria-atomic",f:"true",t:13},{n:"class",f:"util accessible-text",t:13}],f:[{t:2,r:"gotoPreviousFieldAda"}," ",{t:2,r:"chooseOptionAlertLabel"}]}]}],n:50,r:"~/choosePaymentPurposeOptionClientError"}," ",{t:7,e:"mds-list",m:[{n:"default-collapsed",f:"false",t:13},{n:"collapsible",f:"false",t:13},{n:"list-type",f:"single-select",t:13},{n:"condensed",f:"false",t:13},{n:"show-dividers",f:"true",t:13},{n:"show-last-divider",f:"true",t:13},{n:"multi-column-enabled",f:"false",t:13},{n:"header",f:[{t:3,x:{r:["sanitizer","paymentPurposeChooseOption"],s:"_0.sanitizeHTML(_1)"}}],t:13}],f:[{t:4,f:[{t:7,e:"mds-list-item",m:[{n:"label",f:[{t:3,x:{r:["sanitizer","paymentReason"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"image-url",f:[{t:3,x:{r:["sanitizer","paymentReasonIcon"],s:"_0.sanitizeHTML(_1)"}},".svg"],t:13},{n:"image-alt-text",f:"",t:13},{n:"click",f:"requestPaymentPurposeAction",t:70},{n:"image-width",f:"24",t:13},{n:"value",f:[{t:3,x:{r:["sanitizer","paymentReasonId"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"navigational-accessible-description",f:[{t:3,x:{r:["sanitizer","paymentReason"],s:"_0.sanitizeHTML(_1)"}}],t:13}],f:[]}],n:52,r:".paymentReasons"}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-6 mds-pb-6 mds-col-12 mds-col-at-576-10 mds-col-at-768-10 mds-ml-auto buttons-container mds-mr-at-0-4",t:13}],f:[{t:7,e:"mds-button",m:[{n:"id",f:"cancel-button",t:13},{n:"text",f:[{t:3,x:{r:["sanitizer","requestCancelTransactionLabel"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"variant",f:"secondary",t:13},{n:"width-type",f:"layout",t:13},{n:"type",f:"button",t:13},{n:"small",f:"false",t:13},{n:"inactive",f:"false",t:13},{n:"tab-focusable",f:"true",t:13},{n:"inverse",f:"false",t:13},{n:"is-loading",f:"false",t:13},{n:"icon-position",f:"leading",t:13},{n:"click",f:"requestCancelTransaction",t:70}],f:[]}," ",{t:7,e:"mds-button",m:[{n:"id",f:"next-button",t:13},{n:"text",f:[{t:3,x:{r:["sanitizer","nextLabel"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"variant",f:"primary",t:13},{n:"width-type",f:"layout",t:13},{n:"type",f:"button",t:13},{n:"small",f:"false",t:13},{n:"inactive",f:"false",t:13},{n:"tab-focusable",f:"true",t:13},{n:"inverse",f:"false",t:13},{n:"is-loading",f:"false",t:13},{n:"icon-position",f:"leading",t:13},{n:"click",f:"requestContinuePaymentValidation",t:70}],f:[]}]}]}]}]}]}]}],e:{}}})),define("caas/views/scam_protection/specs/paymentPurpose",{name:"PAYMENT_PURPOSE",bindings:{choosePaymentPurposeOptionClientError:{direction:"BOTH"},selectedPaymentPurpose:{direction:"BOTH"},loadSuccess:{},focusOnError:{},paymentPurposeHeader:{direction:"BOTH"},selectPaymentReasonHeader:{direction:"BOTH"},selectPaymentReasonAdvisory:{direction:"BOTH"},paymentPurposeChooseOption:{direction:"BOTH"},nextLabel:{direction:"BOTH"},chooseOptionAlertLabel:{direction:"BOTH"},requestCancelTransactionLabel:{direction:"BOTH"},paymentReasons:{direction:"BOTH"}}}),define("caas/views/scam_protection/paymentPurpose",["require","caas/template/scam_protection/paymentPurpose","common/lib/ada/setFocus","caas/views/scam_protection/specs/paymentPurpose"],(function(e){"use strict";let t=e("caas/template/scam_protection/paymentPurpose"),n=e("common/lib/ada/setFocus");return function(i){var r=this,s=i.logger;r.template=t,r.bridge=e("caas/views/scam_protection/specs/paymentPurpose"),r.focusOnError=function(e){e&&n({selector:'mds-alert[id="acknowledgementError"]',delay:200}),s.info("focusOnError called, acknowledgementError focus() event triggered")},r.init=function(){r.viewName="paymentPurpose",s.info("paymentPurpose init()"),r.onData("choosePaymentPurposeOptionClientError",r.focusOnError,{defer:!0})},r.onReady=function(){s.info("paymentPurpose ready()")}}})),define("caas/template/scam_protection/scamDefaultMessage",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-container-fluid dashboard-container",t:13}],f:[{t:7,e:"div",m:[{n:"className",f:"mds-row mds-pb-4 dashboard-container",t:13}],f:[{t:7,e:"div",m:[{n:"className",f:"mds-col-at-576-12 mds-col-at-992-10 dashboard-container",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-12",t:13},{n:"tabindex",f:"0",t:13}],f:[{t:7,e:"h1",m:[{n:"class",f:"mds-text-center mds-my-0 mds-pt-4 mds-subtitle-medium-heavier mds-col-12",t:13}],f:[{t:3,x:{r:["sanitizer","interceptScamRiskHeader"],s:"_0.sanitizeHTML(_1)"}}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-5 mds-col-12 mds-col-at-576-8 mds-col-at-768-6 mds-mx-auto mds-mt-5",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-6  mds-col-12 mds-mx-auto mds-mb-3 mds-col-at-1200-7 mds-col-at-992-9 mds-col-at-768-11 mds-col-at-576-11 ",t:13}],f:[{t:7,e:"mds-alert",m:[{n:"variant",f:"informational",t:13},{n:"alert-title",f:[{t:3,x:{r:["sanitizer","scamReviewInfoHeader"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"tabindex",f:"0",t:13},{n:"accessible-text-icon",f:"",t:13},{n:"size",f:"base",t:13},{n:"read-accessible-text-on-focus",f:"false",t:13},{n:"full-width",f:"false",t:13},{n:"background",f:"false",t:13},{n:"inverse",f:"false",t:13},{n:"shows-close-button",f:"false",t:13},{n:"focusable",f:"true",t:13}],f:[]}]}],n:50,r:"isCaaSFirst"}," ",{t:7,e:"mds-hero-header",m:[{n:"variant",f:"customImage",t:13},{n:"heading",f:[{t:3,x:{r:["sanitizer","scamRiskAlertHeader"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"tabindex",f:"0",t:13},{n:"description-text",f:"",t:13},{n:"icon",f:[{t:2,r:"illustrationsPath"},"dist/cmb/svgs/",{t:3,x:{r:["sanitizer","scamRiskAlertIcon"],s:"_0.sanitizeHTML(_1)"}},".svg"],t:13},{n:"icon-accessible-name",f:[{t:3,x:{r:["sanitizer","importantAda"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"heading-level",f:"2",t:13},{n:"icon-color",f:"error",t:13},{n:"max-width",f:"700",t:13}],f:[]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-5 mds-col-12 mds-col-at-576-8 mds-col-at-768-6 mds-mx-auto",t:13}],f:[{t:7,e:"mds-tile",m:[{n:"tile-style",f:"next",t:13},{n:"tile-title",f:[{t:3,x:{r:["sanitizer","scamProtectionTipsAdvisory"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"title-icon-color",f:"regular",t:13},{n:"help-button-enabled",f:"false",t:13},{n:"hide-title",f:"false",t:13},{n:"more-button",f:"false",t:13},{n:"horizontal-padding",f:"regular",t:13},{n:"tile-title-heading-level",f:"3",t:13},{n:"variant",f:"next",t:13},{n:"interactive",f:"false",t:13},{n:"tabindex",f:"0",t:13}],f:[{t:7,e:"div",m:[{n:"role",f:"list",t:13},{n:"slot",f:"tile-content",t:13}],f:[{t:7,e:"div",m:[{n:"role",f:"listitem",t:13},{n:"class",f:"mds-row",t:13},{n:"tabindex",f:"0",t:13}],f:[{t:7,e:"mds-icon",m:[{n:"class",f:"mds-pt-4 mds-pl-4",t:13},{n:"size",f:"20",t:13},{n:"color",f:"default",t:13},{n:"remove-horizontal-margin",f:"true",t:13},{n:"type",f:[{t:3,x:{r:["sanitizer","onlineScamProtectionIcon"],s:"_0.sanitizeHTML(_1)"}}],t:13}],f:[]}," ",{t:7,e:"p",m:[{n:"class",f:"mds-body-medium mds-col-10 mds-col-at-992-11 mds-mt-4 mds-mb-0 mds-pl-3 mds-pl-3",t:13}],f:[{t:7,e:"b",f:[{t:3,x:{r:["sanitizer","onlineScamProtectionTipHeading"],s:"_0.sanitizeHTML(_1)"}}," "]},{t:3,x:{r:["sanitizer","onlineScamProtectionTip"],s:"_0.sanitizeHTML(_1)"}}]}]}," ",{t:7,e:"div",m:[{n:"role",f:"listitem",t:13},{n:"class",f:"mds-row",t:13},{n:"tabindex",f:"0",t:13}],f:[{t:7,e:"mds-icon",m:[{n:"class",f:"mds-pt-4 mds-pl-4",t:13},{n:"size",f:"20",t:13},{n:"color",f:"default",t:13},{n:"remove-horizontal-margin",f:"true",t:13},{n:"type",f:[{t:3,x:{r:["sanitizer","buyerScamProtectionIcon"],s:"_0.sanitizeHTML(_1)"}}],t:13}],f:[]}," ",{t:7,e:"p",m:[{n:"class",f:"mds-body-medium mds-col-10 mds-col-at-992-11 mds-mt-4 mds-mb-0 mds-pl-3 mds-pl-3",t:13}],f:[{t:7,e:"b",f:[{t:3,x:{r:["sanitizer","buyerScamProtectionTipHeading"],s:"_0.sanitizeHTML(_1)"}}," "]},{t:3,x:{r:["sanitizer","buyerScamProtectionTip"],s:"_0.sanitizeHTML(_1)"}}]}]}," ",{t:7,e:"div",m:[{n:"role",f:"listitem",t:13},{n:"class",f:"mds-row",t:13},{n:"tabindex",f:"0",t:13}],f:[{t:7,e:"mds-icon",m:[{n:"class",f:"mds-pt-4 mds-pl-4",t:13},{n:"size",f:"20",t:13},{n:"color",f:"default",t:13},{n:"remove-horizontal-margin",f:"true",t:13},{n:"type",f:[{t:3,x:{r:["sanitizer","jobScamProtectionIcon"],s:"_0.sanitizeHTML(_1)"}}],t:13}],f:[]}," ",{t:7,e:"p",m:[{n:"class",f:"mds-body-medium mds-col-10 mds-col-at-992-11 mds-mt-4 mds-mb-0 mds-pl-3 mds-pl-3",t:13}],f:[{t:7,e:"b",f:[{t:3,x:{r:["sanitizer","jobScamProtectionTipHeading"],s:"_0.sanitizeHTML(_1)"}}," "]},{t:3,x:{r:["sanitizer","jobScamProtectionTip"],s:"_0.sanitizeHTML(_1)"}}]}]}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-6 mds-col-12 mds-col-at-576-8 mds-col-at-768-6 mds-mx-auto checkbox-container",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-pb-3",t:13},{n:"tabindex",f:"0",t:13}],f:[{t:7,e:"mds-alert",m:[{n:"id",f:"acknowledgementError",t:13},{n:"variant",f:"error",t:13},{n:"alert-title",f:[{t:3,x:{r:["sanitizer","paymentRiskAccceptedError"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"accessible-text-icon",f:[{t:3,x:{r:["sanitizer","errorAnnouncementAda"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"size",f:"small",t:13},{n:"heading-level",f:"4",t:13}]}," ",{t:7,e:"div",m:[{n:"aria-live",f:"assertive",t:13},{n:"aria-atomic",f:"true",t:13},{n:"class",f:"util accessible-text",t:13}],f:[{t:3,x:{r:["sanitizer","gotoPreviousFieldAda"],s:"_0.sanitizeHTML(_1)"}}," ",{t:3,x:{r:["sanitizer","paymentRiskAccceptedError"],s:"_0.sanitizeHTML(_1)"}}]}]}],n:50,r:"~/acknowledgementClientError"}," ",{t:7,e:"mds-checkbox",m:[{n:"id",f:"acknowledgement",t:13},{n:"aria-live",f:"polite",t:13},{n:"label",f:[{t:3,x:{r:["sanitizer","paymentRiskAcceptedLabel"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"blur",f:"onBlurTrigger",t:70},{n:"checked",f:[{t:3,x:{r:["sanitizer","acknowledgement"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"state",f:[{t:3,x:{r:["sanitizer","acknowledgement"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"name",f:"acknowledgement",t:13},{n:"error",f:[{t:2,r:".acknowledgementClientError"}],t:13},{n:"change",f:"requestAcknowledgementAction",t:70},{n:"accessible-text",f:[{t:3,x:{r:["sanitizer","acknowledgementClientError","errorAnnouncementAda"],s:'_0.sanitizeHTML(_1?_2:"")'}}],t:13}],f:[]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-6 mds-pb-6 mds-col-12 mds-col-at-576-8 mds-col-at-768-6 mds-mx-auto buttons-container",t:13}],f:[{t:7,e:"mds-button",m:[{n:"id",f:"send-now-button",t:13},{n:"text",f:[{t:3,x:{r:["sanitizer","requestContinueTransactionLabel"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"variant",f:"secondary",t:13},{n:"width-type",f:"content",t:13},{n:"type",f:"button",t:13},{n:"small",f:"false",t:13},{n:"inactive",f:"false",t:13},{n:"tab-focusable",f:"true",t:13},{n:"inverse",f:"false",t:13},{n:"is-loading",f:"false",t:13},{n:"icon-position",f:"leading",t:13},{n:"click",f:"requestContinueTransaction",t:70}],f:[]}," ",{t:7,e:"mds-button",m:[{n:"id",f:"cancel-button",t:13},{n:"text",f:[{t:3,x:{r:["sanitizer","requestCancelTransactionLabel"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"variant",f:"primary",t:13},{n:"width-type",f:"content",t:13},{n:"type",f:"button",t:13},{n:"small",f:"false",t:13},{n:"inactive",f:"false",t:13},{n:"tab-focusable",f:"true",t:13},{n:"inverse",f:"false",t:13},{n:"is-loading",f:"false",t:13},{n:"icon-position",f:"leading",t:13},{n:"click",f:"requestCancelTransaction",t:70}],f:[]}]}]}]}]}],e:{}}})),define("caas/views/scam_protection/specs/scamDefaultMessage",{name:"SCAM_DEFAULT_MESSAGE",bindings:{acknowledgementClientError:{direction:"BOTH"},acknowledgement:{direction:"BOTH"},illustrationsPath:{direction:"BOTH"},loadSuccess:{},focusOnError:{}},triggers:{requestAcknowledgementAction:{action:["requestAcknowledgementAction","formField"]}}}),define("caas/views/scam_protection/scamDefaultMessage",["require","caas/template/scam_protection/scamDefaultMessage","common/lib/ada/setFocus","caas/views/scam_protection/specs/scamDefaultMessage"],(function(e){"use strict";var t=e("caas/template/scam_protection/scamDefaultMessage"),n=e("common/lib/ada/setFocus");return function(i){var r=this,s=i.logger;r.template=t,r.bridge=e("caas/views/scam_protection/specs/scamDefaultMessage"),r.acknowledgementClientError=e=>{e&&n({selector:'mds-alert[id="acknowledgementError"]',delay:200})},r.init=function(){r.viewName="scamDefaultMessage",s.info("scamDefaultMessage init()"),r.onData("acknowledgementClientError",this.acknowledgementClientError,{init:!1})},r.onReady=function(){s.info("scamDefaultMessage ready()")}}})),define("caas/template/scam_protection/scamGenericMessage",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-container-fluid dashboard-container",t:13}],f:[{t:7,e:"div",m:[{n:"className",f:"mds-row mds-pb-4 dashboard-container",t:13}],f:[{t:7,e:"div",m:[{n:"className",f:"mds-col-at-576-12 mds-col-at-992-10 dashboard-container",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-row",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-2",t:13}],f:[{t:4,f:[{t:7,e:"mds-button",m:[{n:"class",f:"mds-mt-0 mds-py-4",t:13},{n:"text",f:[{t:3,x:{r:["sanitizer","backButtonLabel"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"variant",f:"tertiary",t:13},{n:"width-type",f:"content",t:13},{n:"type",f:"button",t:13},{n:"small",f:"true",t:13},{n:"disable-live-region",f:"false",t:13},{n:"inactive",f:"false",t:13},{n:"tab-focusable",f:"true",t:13},{n:"inverse",f:"false",t:13},{n:"is-loading",f:"false",t:13},{n:"icon-type",f:"ico_chevron_left",t:13},{n:"icon-position",f:"leading",t:13},{n:"click",f:"requestBackAction",t:70}],f:[]}],n:50,x:{r:[],s:"false"}}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-col-8",t:13},{n:"tabindex",f:"0",t:13}],f:[{t:7,e:"h1",m:[{n:"id",f:"interceptPageHeader",t:13},{n:"class",f:"mds-text-center mds-my-0 mds-pt-4 mds-subtitle-medium-heavier mds-col-12",t:13}],f:[{t:3,x:{r:["sanitizer","interceptPageHeader"],s:"_0.sanitizeHTML(_1)"}}]}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-5 mds-col-12 mds-col-at-576-8 mds-col-at-768-6 mds-mx-auto mds-mt-5",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-col-6 mds-col-8 mds-mx-auto mds-mb-3 mds-col-at-1200-7 mds-col-at-992-9 mds-col-at-768-11 mds-col-at-576-11",t:13}],f:[{t:7,e:"mds-alert",m:[{n:"variant",f:"informational",t:13},{n:"alert-title",f:[{t:3,x:{r:["sanitizer","reviewInfoLabel"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"tabindex",f:"0",t:13},{n:"accessible-text-icon",f:"",t:13},{n:"size",f:"base",t:13},{n:"read-accessible-text-on-focus",f:"false",t:13},{n:"full-width",f:"false",t:13},{n:"background",f:"false",t:13},{n:"inverse",f:"false",t:13},{n:"shows-close-button",f:"false",t:13},{n:"focusable",f:"true",t:13}],f:[]}]}],n:50,x:{r:["isCaaSFirst"],s:"_0==true"}}," ",{t:7,e:"mds-hero-header",m:[{n:"variant",f:[{t:2,x:{r:["templateId"],s:'_0==="PP_OTHERS"?"customImage":"iconAndText"'}}],t:13},{n:"heading",f:[{t:3,x:{r:["sanitizer","scamMessageTitle"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"tabindex",f:"0",t:13},{n:"description-text",f:"",t:13},{n:"icon",f:[{t:2,r:"illustrationsPath"}],t:13},{n:"icon-accessible-name",f:[{t:2,r:"importantAda"}],t:13},{n:"heading-level",f:"2",t:13},{n:"icon-color",f:"error",t:13},{n:"max-width",f:"700",t:13},{n:"tabindex",f:"0",t:13}],f:[]}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-mt-5 mds-col-12 mds-col-at-576-8 mds-col-at-768-6 mds-mx-auto",t:13}],f:[{t:4,f:[{t:4,f:[{t:7,e:"div",m:[{n:"role",f:"list",t:13}],f:[{t:7,e:"mds-tile",m:[{n:"tile-style",f:"next",t:13},{n:"tile-title",f:[{t:3,x:{r:["sanitizer","scamMsgDescription"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"title-icon",f:[{t:3,x:{r:["sanitizer","scamMsgIcon"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"title-icon-color",f:"regular",t:13},{n:"help-button-enabled",f:"false",t:13},{n:"hide-title",f:"false",t:13},{n:"more-button",f:"false",t:13},{n:"horizontal-padding",f:"regular",t:13},{n:"tile-title-heading-level",f:"3",t:13},{n:"variant",f:"next",t:13},{n:"interactive",f:"false",t:13},{n:"tabindex",f:"0",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"slot",f:"tile-content",t:13},{n:"class",f:"mds-ml-6",t:13}],f:[{t:7,e:"mds-tag",m:[{n:"text",f:[{t:3,x:{r:["sanitizer","scamMsgTagText"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"interactive",f:"false",t:13},{n:"color",f:[{t:3,x:{r:["sanitizer","scamMsgTagColor"],s:"_0.sanitizeHTML(_1)"}}],t:13}],f:[]}]}],n:50,x:{r:["scamMsgTagText","scamMsgTagColor"],s:"_0&&_1"}}]}]}],n:52,r:".scamWarningTexts"}],n:50,x:{r:["templateTypeName"],s:'_0==="GENERIC"'}},{t:4,n:51,f:[{t:7,e:"mds-tile",m:[{n:"tile-style",f:"next",t:13},{n:"tile-title",f:[{t:3,x:{r:["sanitizer","scamWarningTitle"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"title-icon-color",f:"regular",t:13},{n:"help-button-enabled",f:"false",t:13},{n:"hide-title",f:"false",t:13},{n:"more-button",f:"false",t:13},{n:"horizontal-padding",f:"regular",t:13},{n:"tile-title-heading-level",f:"3",t:13},{n:"variant",f:"next",t:13},{n:"interactive",f:"false",t:13},{n:"tabindex",f:"0",t:13}],f:[{t:7,e:"div",m:[{n:"role",f:"list",t:13},{n:"slot",f:"tile-content",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"role",f:"listitem",t:13},{n:"class",f:"mds-row",t:13},{n:"tabindex",f:"0",t:13}],f:[{t:7,e:"mds-icon",m:[{n:"class",f:"mds-pt-4 mds-pl-4",t:13},{n:"size",f:"20",t:13},{n:"color",f:"default",t:13},{n:"remove-horizontal-margin",f:"true",t:13},{n:"type",f:[{t:3,x:{r:["sanitizer","scamMsgIcon"],s:"_0.sanitizeHTML(_1)"}}],t:13}],f:[]}," ",{t:7,e:"p",m:[{n:"class",f:"mds-body-medium mds-col-10 mds-col-at-992-11 mds-mt-4 mds-mb-0",t:13}],f:[{t:3,x:{r:["sanitizer","scamMsgDescription"],s:"_0.sanitizeHTML(_1)"}}]}]}],n:52,r:".scamWarningTexts"}," ",{t:4,f:[{t:7,e:"mds-tag",m:[{n:"text",f:[{t:3,x:{r:["sanitizer","scamMsgTagText"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"interactive",f:"false",t:13},{n:"color",f:[{t:3,x:{r:["sanitizer","scamMsgTagColor"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"tabindex",f:"0",t:13}],f:[]}],n:50,x:{r:["scamMsgTagText","scamMsgTagColor"],s:"_0&&_1"}}]}]}],l:1}]}],n:52,r:".scamMessages"}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-6 mds-col-12 mds-col-at-576-8 mds-col-at-768-6 mds-mx-auto checkbox-container",t:13}],f:[{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"mds-pb-3",t:13},{n:"tabindex",f:"0",t:13}],f:[{t:7,e:"mds-alert",m:[{n:"id",f:"acknowledgementError",t:13},{n:"variant",f:"error",t:13},{n:"alert-title",f:[{t:3,x:{r:["sanitizer","acknowledgementAlertLabel"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"accessible-text-icon",f:[{t:2,r:"errorAnnouncementAda"}],t:13},{n:"size",f:"small",t:13},{n:"heading-level",f:"4",t:13}]}," ",{t:7,e:"div",m:[{n:"aria-live",f:"assertive",t:13},{n:"aria-atomic",f:"true",t:13},{n:"class",f:"util accessible-text",t:13}],f:[{t:2,r:"gotoPreviousFieldAda"}," ",{t:2,r:"acknowledgementAlertLabel"}]}]}],n:50,r:"~/acknowledgementClientError"}," ",{t:7,e:"mds-checkbox",m:[{n:"id",f:"acknowledgement",t:13},{n:"aria-live",f:"polite",t:13},{n:"label",f:[{t:3,x:{r:["sanitizer","acknowledgementLabel"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"blur",f:"onBlurTrigger",t:70},{n:"checked",f:[{t:2,r:"acknowledgement"}],t:13},{n:"state",f:[{t:2,r:"acknowledgement"}],t:13},{n:"name",f:"acknowledgement",t:13},{n:"error",f:[{t:2,r:".acknowledgementClientError"}],t:13},{n:"change",f:"requestAcknowledgementAction",t:70},{n:"accessible-text",f:[{t:2,x:{r:["acknowledgementClientError","errorAnnouncementAda"],s:'_0?_1:""'}}],t:13}],f:[]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-6 mds-pb-6 mds-col-12 mds-col-at-576-8 mds-col-at-768-6 mds-mx-auto buttons-container",t:13}],f:[{t:7,e:"mds-button",m:[{n:"id",f:"send-now-button",t:13},{n:"text",f:[{t:3,x:{r:["sanitizer","sendNowLabel"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"variant",f:"secondary",t:13},{n:"width-type",f:"content",t:13},{n:"type",f:"button",t:13},{n:"small",f:"false",t:13},{n:"inactive",f:"false",t:13},{n:"tab-focusable",f:"true",t:13},{n:"inverse",f:"false",t:13},{n:"is-loading",f:"false",t:13},{n:"icon-position",f:"leading",t:13},{n:"click",f:"requestContinueTransaction",t:70}],f:[]}," ",{t:7,e:"mds-button",m:[{n:"id",f:"cancel-button",t:13},{n:"text",f:[{t:3,x:{r:["sanitizer","cancelLabel"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"variant",f:"primary",t:13},{n:"width-type",f:"content",t:13},{n:"type",f:"button",t:13},{n:"small",f:"false",t:13},{n:"inactive",f:"false",t:13},{n:"tab-focusable",f:"true",t:13},{n:"inverse",f:"false",t:13},{n:"is-loading",f:"false",t:13},{n:"icon-position",f:"leading",t:13},{n:"click",f:"requestCancelTransaction",t:70}],f:[]}]}]}]}]}],e:{}}})),define("caas/views/scam_protection/specs/scamGenericMessage",{name:"SCAM_GENERIC_MESSAGE",bindings:{acknowledgementClientError:{direction:"BOTH"},acknowledgement:{direction:"BOTH"},loadSuccess:{direction:"BOTH"},focusOnError:{direction:"BOTH"},templateId:{direction:"BOTH"},displayToken:{direction:"BOTH"},scamMessageTitle:{direction:"BOTH"},isCaaSFirst:{direction:"BOTH"},interceptPageHeader:{direction:"BOTH"},acknowledgementLabel:{direction:"BOTH"},acknowledgementAlertLabel:{direction:"BOTH"},reviewInfoLabel:{direction:"BOTH"},sendNowLabel:{direction:"BOTH"},cancelLabel:{direction:"BOTH"},backButtonLabel:{direction:"BOTH"},scamMessages:{direction:"BOTH"},illustrationsPath:{direction:"BOTH"}},triggers:{requestAcknowledgementAction:{action:["requestAcknowledgementAction","formField"]}}}),define("caas/views/scam_protection/scamGenericMessage",["require","caas/template/scam_protection/scamGenericMessage","common/lib/ada/setFocus","caas/views/scam_protection/specs/scamGenericMessage"],(function(e){"use strict";var t=e("caas/template/scam_protection/scamGenericMessage"),n=e("common/lib/ada/setFocus");return function(i){var r=this,s=i.logger;r.template=t,r.bridge=e("caas/views/scam_protection/specs/scamGenericMessage"),r.acknowledgementClientError=e=>{e&&n({selector:'mds-alert[id="acknowledgementError"]',delay:200})},r.interceptPageHeader=e=>{s.info("interceptPageHeader focus() event triggered "+e),e&&n({selector:'[id="interceptPageHeader"]',delay:1e3})},r.init=function(){s.info("scamGenericMessage init()"),r.viewName="scamGenericMessage",r.onData("pageLoadCompleted",r.interceptPageHeader,{init:!0}),r.onData("acknowledgementClientError",r.acknowledgementClientError,{init:!1})},r.onReady=function(){s.info("scamGenericMessage ready()")}}})),define("caas/template/scam_protection/scamHeader",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"content-block",t:13},{n:"class",f:"caasContainer",t:13}],f:[{t:7,e:"div",m:[{n:"id",f:"mfaPreAuthWrapper",t:13}],f:[{t:7,e:"mds-progress-spinner",m:[{n:"open",f:[{t:2,r:".showSpinner"}],t:13}]}," ",{t:4,f:[{t:7,e:"div",m:[{n:"class",f:"brand-bar",t:13}],f:[{t:7,e:"mds-brand-bar",m:[{n:"variant",f:"custom",t:13},{n:"logo",f:[{t:2,r:".logoUrl"}],t:13},{n:"max-width",f:"1200px",t:13},{n:"accessible-logo-name",f:"brand-bar",t:13},{n:"logo-accessible-text",f:[{t:2,r:".logoAda"}],t:13},{n:"tabindex",f:"0",t:13}],f:[]}]}],n:50,r:".showBrandBar"}," ",{t:7,e:"div",m:[{n:"class",f:"mds-container-fluid mds-mt-4 container-max-width-1200",t:13}],f:[{t:7,e:"div",m:[{n:"id",f:"scam-options",t:13}]}]}]}]}]}})),define("caas/views/scam_protection/scamHeader",["require","caas/template/scam_protection/scamHeader","caas/views/scam_protection/specs/scamHeader","blue/root"],(function(e){"use strict";const t=e("caas/template/scam_protection/scamHeader"),n=e("caas/views/scam_protection/specs/scamHeader"),i=e("blue/root");return function(){const e=this;e.viewName="scamHeaderView",e.template=t,e.bridge=n;const r=e=>{"Escape"===e.key&&(e.preventDefault(),e.stopPropagation())};e.onReady=()=>{i.addEventListener("keydown",r)},e.onDestroy=()=>{i.removeEventListener("keydown",r)}}})),define("caas/template/scam_protection/scamProtectionError",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"class",f:"mds-container-fluid dashboard-container",t:13},{n:"style",f:"height: 950px !important;",t:13}],f:[{t:7,e:"div",m:[{n:"className",f:"mds-row dashboard-container",t:13}],f:[{t:7,e:"div",m:[{n:"className",f:"mds-col-at-576-12 mds-col-at-992-10 dashboard-container",t:13}],f:[{t:7,e:"h1",m:[{n:"class",f:"mds-text-center mds-pt-5 mds-subtitle-medium-heavier m-0",t:13}],f:[{t:7,e:"b",f:[{t:3,x:{r:["sanitizer","interceptScamRiskHeader"],s:"_0.sanitizeHTML(_1)"}}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-col-12 mds-col-at-576-9 mds-mx-auto",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-pt-4 mds-col-12 mds-col-at-768-8 mds-mx-auto",t:13}],f:[{t:7,e:"mds-alert",m:[{n:"variant",f:"error",t:13},{n:"alert-title",f:[{t:3,x:{r:["sanitizer","interceptScamPageErrorHeader"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"accessible-text-icon",f:"Error icon",t:13},{n:"tabindex",f:"0",t:13},{n:"message",f:[{t:3,x:{r:["sanitizer","interceptScamPageErrorAdvisory"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"size",f:"base",t:13},{n:"heading-level",f:"2",t:13},{n:"close-button-accessible-text",f:"Dismiss alert",t:13},{n:"read-accessible-text-on-focus",f:"false",t:13},{n:"full-width",f:"false",t:13},{n:"background",f:"false",t:13},{n:"inverse",f:"false",t:13},{n:"shows-close-button",f:"false",t:13},{n:"focusable",f:"true",t:13}]}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-py-5 mds-col-12 mds-col-at-768-8 mds-mx-auto",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"mds-d-flex mds-jc-end mds-pr-6",t:13}],f:[{t:7,e:"mds-button",m:[{n:"text",f:[{t:3,x:{r:["sanitizer","closeLabel"],s:"_0.sanitizeHTML(_1)"}}],t:13},{n:"variant",f:"primary",t:13},{n:"width-type",f:"content",t:13},{n:"type",f:"button",t:13},{n:"small",f:"false",t:13},{n:"inactive",f:"false",t:13},{n:"tab-focusable",f:"true",t:13},{n:"inverse",f:"false",t:13},{n:"is-loading",f:"false",t:13},{n:"click",f:"requestCloseErrorMessage",t:70}]}]}]}]}]}]}]}],e:{}}})),define("caas/views/scam_protection/scamProtectionError",["require","caas/template/scam_protection/scamProtectionError"],(function(e){"use strict";var t=e("caas/template/scam_protection/scamProtectionError");return function(e){var n=this,i=e.logger;n.viewName="scamProtectionError",n.template=t,n.init=function(){i.info("scamProtectionErrorView init()")},n.onReady=function(){i.info("scamProtectionErrorView ready()")}}})),define("caas/views/scam_protection/specs/scam_protection_error",[],(function(){"use strict";return{name:"SCAM_PROTECTION_ERROR",data:{},actions:{requestCloseErrorMessage:!0},states:{},settings:{interceptScamPageHeader:!0,interceptScamPageErrorHeader:!0,interceptScamPageErrorAdvisory:!0,closeLabel:!0}}})),define("caas/template/sendInApp",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"requestOTP",t:13},{n:"class",f:"requestOTP ",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"confirm-cancel-otp-dialog",t:13}],f:[{t:8,r:"confirmExitDialog"}]}," ",{t:7,e:"div",m:[{n:"class",f:"identity-verification-container",t:13}],f:[{t:4,f:[{t:7,e:"div",f:[{t:7,e:"mds-progress-bar",m:[{n:"progress-percentage",f:[{t:2,r:".progressBarStepPercentageComplete"}],t:13},{n:"accessible-text",f:[{t:2,r:".progressBarStepPercentageComplete"},{t:2,r:".progressBarStepPercentageCompleteAda"}],t:13}],f:[]}]}],n:50,r:".showProgressBar"}," ",{t:4,f:[{t:7,e:"div",f:[{t:7,e:"mds-alert",m:[{n:"id",f:"alert-expired",t:13},{n:"variant",f:"error",t:13},{n:"alert-title",f:[{t:2,r:"notificationSentInApplicationErrorHeader"}],t:13},{n:"accessible-text-icon",f:"Error icon",t:13},{n:"size",f:"base",t:13},{n:"heading-level",f:"2",t:13}],f:[]}]}],n:50,r:".showExpiredError"}," ",{t:7,e:"div",m:[{n:"class",f:"inapp-header-container mds-d-flex mds-d-at-576-inline-block mds-fd-column mds-ai-center",t:13}],f:[{t:7,e:"img",m:[{n:"alt",f:0,t:13},{n:"id",f:"icon-illustration-id",t:13},{n:"class",f:"icon-illustration mds-mr-at-0-0 mds-mr-at-576-4",t:13},{n:"src",f:[{t:2,r:".imageUrl"}],t:13}]}," ",{t:7,e:"h2",m:[{n:"class",f:"inApp-verification-header",t:13}],f:[{t:3,x:{r:["sanitizer",".requestInApplicationIdentificationCodeHeader"],s:"_0.sanitizeHTML(_1)"},s:!0}]}]}," ",{t:7,e:"h3",m:[{n:"class",f:"inApp-verification-message",t:13}],f:[{t:3,x:{r:["sanitizer",".requestInApplicationIdentificationCodeMessage"],s:"_0.sanitizeHTML(_1)"},s:!0}]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-2 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"another-method-link",t:13},{n:"click",f:"requestAnotherMethod",t:70},{n:"text",f:[{t:2,r:"requestAnotherMethodLabel"}],t:13},{n:"accessible-text",f:[{t:2,r:"requestAnotherMethodLabel"}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}," ",{t:7,e:"div",m:[{n:"class",f:"caas-button-container",t:13}],f:[{t:7,e:"mds-button",m:[{n:"id",f:"send-notification-btn-sm",t:13},{n:"class",f:"mds-d-block mds-d-at-992-none order-2 mds-mb-at-0-4 mds-mb-at-992-0",t:13},{n:"text",f:[{t:2,r:".requestSendNotificationLabel"}],t:13},{n:"variant",f:"primary",t:13},{n:"width-type",f:"layout",t:13},{n:"click",f:"requestSendNotification",t:70}],f:[]}," ",{t:7,e:"mds-button",m:[{n:"id",f:"send-notification-btn-md",t:13},{n:"class",f:"mds-d-none mds-d-at-992-block order-2 mds-mb-at-0-4 mds-mb-at-992-0",t:13},{n:"text",f:[{t:2,r:".requestSendNotificationLabel"}],t:13},{n:"variant",f:"primary",t:13},{n:"width-type",f:"content",t:13},{n:"click",f:"requestSendNotification",t:70}],f:[]}," ",{t:4,f:[{t:7,e:"mds-button",m:[{n:"id",f:"cancel-inapp-btn-sm",t:13},{n:"class",f:"mds-d-block mds-d-at-992-none order-1 mds-mr-at-992-4",t:13},{n:"text",f:[{t:2,r:".cancelLabel",s:!0}],t:13},{n:"variant",f:"secondary",t:13},{n:"width-type",f:"layout",t:13},{n:"click",f:"requestExitConfirmation",t:70}],f:[]}," ",{t:7,e:"mds-button",m:[{n:"id",f:"cancel-inapp-btn-md",t:13},{n:"class",f:"mds-d-none mds-d-at-992-block order-1 mds-mr-at-992-4",t:13},{n:"text",f:[{t:2,r:".cancelLabel",s:!0}],t:13},{n:"variant",f:"secondary",t:13},{n:"width-type",f:"content",t:13},{n:"click",f:"requestExitConfirmation",t:70}],f:[]}],n:50,r:".showCancelButton"}]}]}]}],e:{}}})),define("caas/views/sendInApp",["require","caas/template/sendInApp","caas/views/specs/caas","caas/template/partials/confirmExitDialog"],(function(e){"use strict";var t=e("caas/template/sendInApp"),n=e("caas/views/specs/caas");return function(i){var r=this;r.viewName="sendInAppView",r.template=t,r.bridge=n,r.partials={confirmExitDialog:e("caas/template/partials/confirmExitDialog")},r.onReady=function(){r.trigger("actionMethod"),i.page.$("mds-dialog").on("click-button1",r.confirmVerificationExit),i.page.$("mds-dialog").on("click-button2",r.cancelVerificationExit)},r.confirmVerificationExit=function(){r.trigger("cancelIdentityVerification")},r.cancelVerificationExit=function(){r.trigger("requestPreviousPage")}}})),define("caas/views/specs/mfapreauth",{name:"CHALLENGE_IDENTIFY_VERIFICATION",preventDefault:!0,defaultBindings:!0,bindings:{learnMoreFAQ:{}},triggers:{formFieldTracking:{action:"formField"},onCardSelect:{action:["onCardSelect","formField"]}}}),define("caas/template/verifyInApp",[],(function(){return{v:4,t:[{t:7,e:"div",m:[{n:"id",f:"requestOTP",t:13},{n:"class",f:"requestOTP ",t:13}],f:[{t:7,e:"div",m:[{n:"class",f:"confirm-cancel-otp-dialog",t:13}],f:[{t:8,r:"confirmExitDialog"}]}," ",{t:7,e:"div",m:[{n:"class",f:"identity-verification-container",t:13}],f:[{t:4,f:[{t:7,e:"div",f:[{t:7,e:"mds-progress-bar",m:[{n:"progress-percentage",f:[{t:2,r:".progressBarStepPercentageComplete"}],t:13},{n:"accessible-text",f:[{t:2,r:".progressBarStepPercentageComplete"},{t:2,r:".progressBarStepPercentageCompleteAda"}],t:13}],f:[]}]}],n:50,r:".showProgressBar"}," ",{t:4,f:[{t:7,e:"div",f:[{t:7,e:"mds-alert",m:[{n:"id",f:"alert-error",t:13},{n:"variant",f:"error",t:13},{n:"alert-title",f:[{t:2,r:"notificationSentInApplicationErrorHeader"}],t:13},{n:"accessible-text-icon",f:"Error icon",t:13},{n:"size",f:"base",t:13},{n:"heading-level",f:"2",t:13}],f:[]}]}],n:50,r:".showExpiredWarning"}," ",{t:7,e:"div",m:[{n:"class",f:"inapp-header-container mds-d-flex mds-d-at-576-inline-block mds-fd-column mds-ai-center",t:13}],f:[{t:7,e:"img",m:[{n:"alt",f:0,t:13},{n:"id",f:"icon-illustration-id",t:13},{n:"class",f:"icon-illustration mds-mr-at-0-0 mds-mr-at-576-4",t:13},{n:"src",f:[{t:2,r:".imageUrl"}],t:13}]}," ",{t:7,e:"h2",m:[{n:"class",f:"inApp-verification-header",t:13}],f:[{t:2,r:".notificationSentInApplicationHeader"}]}]}," ",{t:7,e:"h3",m:[{n:"class",f:"inApp-verification-message",t:13}],f:[{t:2,r:".notificationSentInApplicationMessage"}]}," ",{t:7,e:"h4",m:[{n:"class",f:"inApp-advisory-message",t:13}],f:[{t:2,r:".notificationNotReceivedAdvisory"}]}," ",{t:7,e:"mds-link",m:[{n:"id",f:"another-notification-link",t:13},{n:"click",f:"requestAnotherNotification",t:70},{n:"text",f:[{t:2,r:".requestAnotherNotificationLabel"}],t:13},{n:"accessible-text",f:[{t:2,r:".requestAnotherNotificationLabel"}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}," ",{t:7,e:"div",m:[{n:"class",f:"mds-mt-at-0-2 mds-mb-at-0-0 mds-mb-at-576-4",t:13}],f:[{t:7,e:"mds-link",m:[{n:"id",f:"another-method-link",t:13},{n:"click",f:"requestAnotherMethod",t:70},{n:"text",f:[{t:2,r:".requestAnotherMethodLabel"}],t:13},{n:"accessible-text",f:[{t:2,r:".requestAnotherMethodLabel"}],t:13},{n:"end-icon",f:"ico_chevron_right",t:13},{n:"underline",f:"false",t:13}],f:[]}]}," ",{t:7,e:"div",m:[{n:"class",f:"caas-button-container",t:13}],f:[{t:7,e:"mds-button",m:[{n:"class",f:"mds-d-block mds-d-at-992-none",t:13},{n:"id",f:"cancel-button-sm",t:13},{n:"text",f:[{t:2,r:".cancelLabel",s:!0}],t:13},{n:"variant",f:"secondary",t:13},{n:"width-type",f:"layout",t:13},{n:"click",f:"requestExitConfirmation",t:70}],f:[]}," ",{t:7,e:"mds-button",m:[{n:"class",f:"mds-d-none mds-d-at-992-block",t:13},{n:"id",f:"cancel-button-md",t:13},{n:"text",f:[{t:2,r:".cancelLabel",s:!0}],t:13},{n:"variant",f:"secondary",t:13},{n:"width-type",f:"content",t:13},{n:"click",f:"requestExitConfirmation",t:70}],f:[]}]}]}]}]}})),define("caas/views/verifyInApp",["require","caas/template/verifyInApp","caas/views/specs/caas","caas/template/partials/confirmExitDialog"],(function(e){"use strict";var t=e("caas/template/verifyInApp"),n=e("caas/views/specs/caas");return function(i){var r=this;r.viewName="verifyInApp",r.bridge=n,r.template=t,r.partials={confirmExitDialog:e("caas/template/partials/confirmExitDialog")},r.onReady=function(){r.trigger("actionMethod"),i.page.$("mds-dialog").on("click-button1",r.confirmVerificationExit),i.page.$("mds-dialog").on("click-button2",r.cancelVerificationExit)},r.confirmVerificationExit=function(){r.trigger("cancelIdentityVerification")},r.cancelVerificationExit=function(){r.trigger("requestPreviousPage")}}}));