define(["require","blue/$"],(function(i){"use strict";var e=i("blue/$");return function(){return function(i){var a=e(i),t=a.find("input"),n=null,r=null,s=null,l=this,o=!1,d="",u=function(i){""!==l.get("value")?(s.removeClass("validation-error"),t.removeClass("validation-error"),n.addClass("util accessible-text"),n.attr("aria-hidden",!0),r.attr("aria-hidden",!0)):function(i){t.addClass("validation-error"),s.addClass("validation-error"),n.attr("aria-hidden",!1),r.attr("aria-hidden",!1),d||(d=r.attr("error-message"),r.find("span.styled-select-wrapper-span").html(d)),i.isVisible?n.removeClass("util accessible-text"):n.addClass("util accessible-text"),i.isFocus&&r.focus()}(i)};return n=a.find(".validation-error-bubble-container").detach(),r=n.find("a"),t.after(n),s=n.closest(".content-section-data-row").find(".content-section-data-name label"),r.on({blur:function(){u({isVisible:!1})}}),t.on({focus:function(){o=!1,t.is(".validation-error")&&u({isVisible:!0})},keydown:function(i){9!==i.which||i.shiftKey||(o=!0)},blur:function(){if("false"===t.attr("aria-expanded")){var i={};o&&(i={isVisible:!0,isFocus:!0}),u(i)}}}),{teardown:function(){}}}}}));