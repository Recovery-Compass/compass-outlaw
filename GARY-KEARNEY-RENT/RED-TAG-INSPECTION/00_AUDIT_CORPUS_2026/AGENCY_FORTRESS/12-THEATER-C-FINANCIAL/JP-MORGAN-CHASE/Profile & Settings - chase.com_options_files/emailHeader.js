define(["require","blue-ui/utilities/common","blue/$","profileArea/personalDetails/email/webspec/emailHeader","profileArea/sharedLib/genericServiceErrorEvent","common/lib/elementObserver","profileArea/personalDetails/email/template/emailHeader","profileArea/sharedLib/sharedView/dashboardLinkWrapper","blue-ui/view/elements/alert","blue-ui/view/elements/radiobutton","blue-ui/view/elements/checkbox","blue-ui/view/elements/input","blue-ui/view/elements/button","blue-ui/view/elements/accessible","blue-ui/view/elements/iconwrap","blue-ui/view/modules/dropdown","profileArea/sharedLib/sharedView/dropdownMenu/view","blue-ui/view/modules/styledselect","profileArea/sharedLib/sharedView/label","profileArea/sharedLib/sharedView/template/genericErrorMessage","profileArea/sharedLib/sharedView/template/genericSuccessMessage","profileArea/sharedLib/sharedView/transition/utils","profileArea/sharedLib/sharedView/transition/scrollToTop","profileArea/sharedLib/sharedView/transition/attributeInjector","common/lib/transition/motionHandler"],(function(e){"use strict";var i=e("blue-ui/utilities/common").getBreakpoint,r=e("blue/$");return function(){var t=this;this.init=function(){this.bridge=e("profileArea/personalDetails/email/webspec/emailHeader"),e("profileArea/sharedLib/genericServiceErrorEvent").viewListenGeneric(this),this.bridge.on("trigger/updateEmailHeader",function(e){this.model.messageInfo=e.messageInfo}.bind(this)),this.bridge.on("trigger/setDropdownSelected",function(e){var i=this.rtemplate.findComponent("blueStyledSelect").get("options");i.forEach(function(i,r){r===e.selectedIndex?(i.selected=!0,this.model.groupSelected=i.key):i.selected=!1}.bind(this)),this.rtemplate.findComponent("blueStyledSelect").set("options",i)}.bind(this)),this.bridge.on("state/focusOnEmailHeader",this.focusOnEmailHeader.bind(this)),this.bridge.on("clearEmailHeaderConfirmationFromView",this.clearEmailHeaderConfirmation.bind(this)),this.bridge.on("setErrorFocusEmailHeader",function(){this.context.$("#email-header-alert h2")[0].focus()}.bind(this)),t.elementObserver=e("common/lib/elementObserver")()},this.template=e("profileArea/personalDetails/email/template/emailHeader"),this.views={dashboardLink:e("profileArea/sharedLib/sharedView/dashboardLinkWrapper"),blueAlert:e("blue-ui/view/elements/alert"),blueRadiobutton:e("blue-ui/view/elements/radiobutton"),blueCheckbox:e("blue-ui/view/elements/checkbox"),blueInput:e("blue-ui/view/elements/input"),blueButton:e("blue-ui/view/elements/button"),blueAccessible:e("blue-ui/view/elements/accessible"),blueIconwrap:e("blue-ui/view/elements/iconwrap"),blueDropdown:e("blue-ui/view/modules/dropdown"),dropdownMenu:e("profileArea/sharedLib/sharedView/dropdownMenu/view"),blueStyledSelect:e("blue-ui/view/modules/styledselect"),dashboardLabel:e("profileArea/sharedLib/sharedView/label")},this.onReady=function(){const e="#email-caas-banner";t.elementObserver.isInsertedPromise(e).then((function(){const i=document.querySelector(e);i&&i.addEventListener("click-link",(function(){t.trigger("requestAccountContactUs")}))}))},this.focusOnEmailHeader=function(){$.isEmptyObject(this.model.messageInfo)?"xs"!==i()?r("#profile-subtitle").focus():r("#back-nav-header-title").focus():this.context.$("#email-header-alert").focus()},this.clearEmailHeaderConfirmation=function(){this.model.myProfileEmailAddressConfirmationHeader=null,this.model.myProfileEmailAddressConfirmationAdvisory=null},this.partials={genericErrorMessage:e("profileArea/sharedLib/sharedView/template/genericErrorMessage"),genericSuccessMessage:e("profileArea/sharedLib/sharedView/template/genericSuccessMessage")};var s=e("profileArea/sharedLib/sharedView/transition/utils");this.transitions={scrollToTop:e("profileArea/sharedLib/sharedView/transition/scrollToTop"),focusAndScrollToTopOnRender:s.focusAndScrollToTopOnRender,injectAttributes:e("profileArea/sharedLib/sharedView/transition/attributeInjector"),motionHandler:e("common/lib/transition/motionHandler")}}}));